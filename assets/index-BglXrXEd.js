function _mergeNamespaces(_e,et){for(var nt=0;nt<et.length;nt++){const rt=et[nt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const ot in rt)if(ot!=="default"&&!(ot in _e)){const it=Object.getOwnPropertyDescriptor(rt,ot);it&&Object.defineProperty(_e,ot,it.get?it:{enumerable:!0,get:()=>rt[ot]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const ot of document.querySelectorAll('link[rel="modulepreload"]'))rt(ot);new MutationObserver(ot=>{for(const it of ot)if(it.type==="childList")for(const ct of it.addedNodes)ct.tagName==="LINK"&&ct.rel==="modulepreload"&&rt(ct)}).observe(document,{childList:!0,subtree:!0});function nt(ot){const it={};return ot.integrity&&(it.integrity=ot.integrity),ot.referrerPolicy&&(it.referrerPolicy=ot.referrerPolicy),ot.crossOrigin==="use-credentials"?it.credentials="include":ot.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function rt(ot){if(ot.ep)return;ot.ep=!0;const it=nt(ot);fetch(ot.href,it)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var et=_e.default;if(typeof et=="function"){var nt=function rt(){return this instanceof rt?Reflect.construct(et,arguments,this.constructor):et.apply(this,arguments)};nt.prototype=et.prototype}else nt={};return Object.defineProperty(nt,"__esModule",{value:!0}),Object.keys(_e).forEach(function(rt){var ot=Object.getOwnPropertyDescriptor(_e,rt);Object.defineProperty(nt,rt,ot.get?ot:{enumerable:!0,get:function(){return _e[rt]}})}),nt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$a=Symbol.for("react.fragment"),q$9=Symbol.for("react.strict_mode"),r$8=Symbol.for("react.profiler"),t$8=Symbol.for("react.provider"),u$7=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$4&&_e[z$4]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(_e,et,nt){this.props=_e,this.context=et,this.refs=D$3,this.updater=nt||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$3.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(_e,et,nt){this.props=_e,this.context=et,this.refs=D$3,this.updater=nt||B$3}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(_e,et,nt){var rt,ot={},it=null,ct=null;if(et!=null)for(rt in et.ref!==void 0&&(ct=et.ref),et.key!==void 0&&(it=""+et.key),et)J.call(et,rt)&&!L$3.hasOwnProperty(rt)&&(ot[rt]=et[rt]);var lt=arguments.length-2;if(lt===1)ot.children=nt;else if(1<lt){for(var pt=Array(lt),mt=0;mt<lt;mt++)pt[mt]=arguments[mt+2];ot.children=pt}if(_e&&_e.defaultProps)for(rt in lt=_e.defaultProps,lt)ot[rt]===void 0&&(ot[rt]=lt[rt]);return{$$typeof:l$6,type:_e,key:it,ref:ct,props:ot,_owner:K$1.current}}function N$3(_e,et){return{$$typeof:l$6,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$6}function escape$2(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(nt){return et[nt]})}var P$3=/\/+/g;function Q$3(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$2(""+_e.key):et.toString(36)}function R$3(_e,et,nt,rt,ot){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ct=!1;if(_e===null)ct=!0;else switch(it){case"string":case"number":ct=!0;break;case"object":switch(_e.$$typeof){case l$6:case n$9:ct=!0}}if(ct)return ct=_e,ot=ot(ct),_e=rt===""?"."+Q$3(ct,0):rt,I$3(ot)?(nt="",_e!=null&&(nt=_e.replace(P$3,"$&/")+"/"),R$3(ot,et,nt,"",function(mt){return mt})):ot!=null&&(O$3(ot)&&(ot=N$3(ot,nt+(!ot.key||ct&&ct.key===ot.key?"":(""+ot.key).replace(P$3,"$&/")+"/")+_e)),et.push(ot)),1;if(ct=0,rt=rt===""?".":rt+":",I$3(_e))for(var lt=0;lt<_e.length;lt++){it=_e[lt];var pt=rt+Q$3(it,lt);ct+=R$3(it,et,nt,pt,ot)}else if(pt=A$4(_e),typeof pt=="function")for(_e=pt.call(_e),lt=0;!(it=_e.next()).done;)it=it.value,pt=rt+Q$3(it,lt++),ct+=R$3(it,et,nt,pt,ot);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return ct}function S$3(_e,et,nt){if(_e==null)return _e;var rt=[],ot=0;return R$3(_e,rt,"","",function(it){return et.call(nt,it,ot++)}),rt}function T$2(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(nt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=nt)},function(nt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=nt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(_e,et,nt){S$3(_e,function(){et.apply(this,arguments)},nt)},count:function(_e){var et=0;return S$3(_e,function(){et++}),et},toArray:function(_e){return S$3(_e,function(et){return et})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$3;react_production_min.Fragment=p$a;react_production_min.Profiler=r$8;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$9;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,et,nt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var rt=C$2({},_e.props),ot=_e.key,it=_e.ref,ct=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,ct=K$1.current),et.key!==void 0&&(ot=""+et.key),_e.type&&_e.type.defaultProps)var lt=_e.type.defaultProps;for(pt in et)J.call(et,pt)&&!L$3.hasOwnProperty(pt)&&(rt[pt]=et[pt]===void 0&&lt!==void 0?lt[pt]:et[pt])}var pt=arguments.length-2;if(pt===1)rt.children=nt;else if(1<pt){lt=Array(pt);for(var mt=0;mt<pt;mt++)lt[mt]=arguments[mt+2];rt.children=lt}return{$$typeof:l$6,type:_e.type,key:ot,ref:it,props:rt,_owner:ct}};react_production_min.createContext=function(_e){return _e={$$typeof:u$7,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$8,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$3;react_production_min.createFactory=function(_e){var et=M$3.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$7,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$3,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,et){return{$$typeof:x$3,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=et}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,et){return U$2.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$2.current.useEffect(_e,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,et,nt){return U$2.current.useImperativeHandle(_e,et,nt)};react_production_min.useInsertionEffect=function(_e,et){return U$2.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$2.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$2.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,nt){return U$2.current.useReducer(_e,et,nt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,nt){return U$2.current.useSyncExternalStore(_e,et,nt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$6=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$8=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$9={key:!0,ref:!0,__self:!0,__source:!0};function q$8(_e,et,nt){var rt,ot={},it=null,ct=null;nt!==void 0&&(it=""+nt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(ct=et.ref);for(rt in et)m$7.call(et,rt)&&!p$9.hasOwnProperty(rt)&&(ot[rt]=et[rt]);if(_e&&_e.defaultProps)for(rt in et=_e.defaultProps,et)ot[rt]===void 0&&(ot[rt]=et[rt]);return{$$typeof:k$6,type:_e,key:it,ref:ct,props:ot,_owner:n$8.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$8;reactJsxRuntime_production_min.jsxs=q$8;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,shim$1={exports:{}},useSyncExternalStoreShim_production_min$1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$3=reactExports;function h$7(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var k$5=typeof Object.is=="function"?Object.is:h$7,l$4=e$3.useState,m$6=e$3.useEffect,n$7=e$3.useLayoutEffect,p$8=e$3.useDebugValue;function q$7(_e,et){var nt=et(),rt=l$4({inst:{value:nt,getSnapshot:et}}),ot=rt[0].inst,it=rt[1];return n$7(function(){ot.value=nt,ot.getSnapshot=et,r$7(ot)&&it({inst:ot})},[_e,nt,et]),m$6(function(){return r$7(ot)&&it({inst:ot}),_e(function(){r$7(ot)&&it({inst:ot})})},[_e]),p$8(nt),nt}function r$7(_e){var et=_e.getSnapshot;_e=_e.value;try{var nt=et();return!k$5(_e,nt)}catch{return!0}}function t$7(_e,et){return et()}var u$6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$7:q$7;useSyncExternalStoreShim_production_min$1.useSyncExternalStore=e$3.useSyncExternalStore!==void 0?e$3.useSyncExternalStore:u$6;shim$1.exports=useSyncExternalStoreShim_production_min$1;var shimExports$1=shim$1.exports,withSelector$1={exports:{}},withSelector_production_min$1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$6=reactExports,n$6=shimExports$1;function p$7(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var q$6=typeof Object.is=="function"?Object.is:p$7,r$6=n$6.useSyncExternalStore,t$6=h$6.useRef,u$5=h$6.useEffect,v$6=h$6.useMemo,w$4=h$6.useDebugValue;withSelector_production_min$1.useSyncExternalStoreWithSelector=function(_e,et,nt,rt,ot){var it=t$6(null);if(it.current===null){var ct={hasValue:!1,value:null};it.current=ct}else ct=it.current;it=v$6(function(){function pt(wt){if(!mt){if(mt=!0,Mt=wt,wt=rt(wt),ot!==void 0&&ct.hasValue){var Tt=ct.value;if(ot(Tt,wt))return bt=Tt}return bt=wt}if(Tt=bt,q$6(Mt,wt))return Tt;var Rt=rt(wt);return ot!==void 0&&ot(Tt,Rt)?Tt:(Mt=wt,bt=Rt)}var mt=!1,Mt,bt,At=nt===void 0?null:nt;return[function(){return pt(et())},At===null?void 0:function(){return pt(At())}]},[et,nt,rt,ot]);var lt=r$6(_e,it[0],it[1]);return u$5(function(){ct.hasValue=!0,ct.value=lt},[lt]),w$4(lt),lt};withSelector$1.exports=withSelector_production_min$1;var withSelectorExports$1=withSelector$1.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Rn,Tn){var Un=Rn.length;Rn.push(Tn);e:for(;0<Un;){var $n=Un-1>>>1,Vn=Rn[$n];if(0<ot(Vn,Tn))Rn[$n]=Tn,Rn[Un]=Vn,Un=$n;else break e}}function nt(Rn){return Rn.length===0?null:Rn[0]}function rt(Rn){if(Rn.length===0)return null;var Tn=Rn[0],Un=Rn.pop();if(Un!==Tn){Rn[0]=Un;e:for(var $n=0,Vn=Rn.length,tr=Vn>>>1;$n<tr;){var Jn=2*($n+1)-1,wr=Rn[Jn],jr=Jn+1,Zt=Rn[jr];if(0>ot(wr,Un))jr<Vn&&0>ot(Zt,wr)?(Rn[$n]=Zt,Rn[jr]=Un,$n=jr):(Rn[$n]=wr,Rn[Jn]=Un,$n=Jn);else if(jr<Vn&&0>ot(Zt,Un))Rn[$n]=Zt,Rn[jr]=Un,$n=jr;else break e}}return Tn}function ot(Rn,Tn){var Un=Rn.sortIndex-Tn.sortIndex;return Un!==0?Un:Rn.id-Tn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ct=Date,lt=ct.now();_e.unstable_now=function(){return ct.now()-lt}}var pt=[],mt=[],Mt=1,bt=null,At=3,wt=!1,Tt=!1,Rt=!1,Bt=typeof setTimeout=="function"?setTimeout:null,Vt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(Rn){for(var Tn=nt(mt);Tn!==null;){if(Tn.callback===null)rt(mt);else if(Tn.startTime<=Rn)rt(mt),Tn.sortIndex=Tn.expirationTime,et(pt,Tn);else break;Tn=nt(mt)}}function Ht(Rn){if(Rt=!1,Ft(Rn),!Tt)if(nt(pt)!==null)Tt=!0,Ln(Qt);else{var Tn=nt(mt);Tn!==null&&Kn(Ht,Tn.startTime-Rn)}}function Qt(Rn,Tn){Tt=!1,Rt&&(Rt=!1,Vt(Mn),Mn=-1),wt=!0;var Un=At;try{for(Ft(Tn),bt=nt(pt);bt!==null&&(!(bt.expirationTime>Tn)||Rn&&!yn());){var $n=bt.callback;if(typeof $n=="function"){bt.callback=null,At=bt.priorityLevel;var Vn=$n(bt.expirationTime<=Tn);Tn=_e.unstable_now(),typeof Vn=="function"?bt.callback=Vn:bt===nt(pt)&&rt(pt),Ft(Tn)}else rt(pt);bt=nt(pt)}if(bt!==null)var tr=!0;else{var Jn=nt(mt);Jn!==null&&Kn(Ht,Jn.startTime-Tn),tr=!1}return tr}finally{bt=null,At=Un,wt=!1}}var _n=!1,hn=null,Mn=-1,kn=5,Cn=-1;function yn(){return!(_e.unstable_now()-Cn<kn)}function Ut(){if(hn!==null){var Rn=_e.unstable_now();Cn=Rn;var Tn=!0;try{Tn=hn(!0,Rn)}finally{Tn?En():(_n=!1,hn=null)}}else _n=!1}var En;if(typeof $t=="function")En=function(){$t(Ut)};else if(typeof MessageChannel<"u"){var vn=new MessageChannel,wn=vn.port2;vn.port1.onmessage=Ut,En=function(){wn.postMessage(null)}}else En=function(){Bt(Ut,0)};function Ln(Rn){hn=Rn,_n||(_n=!0,En())}function Kn(Rn,Tn){Mn=Bt(function(){Rn(_e.unstable_now())},Tn)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Rn){Rn.callback=null},_e.unstable_continueExecution=function(){Tt||wt||(Tt=!0,Ln(Qt))},_e.unstable_forceFrameRate=function(Rn){0>Rn||125<Rn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kn=0<Rn?Math.floor(1e3/Rn):5},_e.unstable_getCurrentPriorityLevel=function(){return At},_e.unstable_getFirstCallbackNode=function(){return nt(pt)},_e.unstable_next=function(Rn){switch(At){case 1:case 2:case 3:var Tn=3;break;default:Tn=At}var Un=At;At=Tn;try{return Rn()}finally{At=Un}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Rn,Tn){switch(Rn){case 1:case 2:case 3:case 4:case 5:break;default:Rn=3}var Un=At;At=Rn;try{return Tn()}finally{At=Un}},_e.unstable_scheduleCallback=function(Rn,Tn,Un){var $n=_e.unstable_now();switch(typeof Un=="object"&&Un!==null?(Un=Un.delay,Un=typeof Un=="number"&&0<Un?$n+Un:$n):Un=$n,Rn){case 1:var Vn=-1;break;case 2:Vn=250;break;case 5:Vn=1073741823;break;case 4:Vn=1e4;break;default:Vn=5e3}return Vn=Un+Vn,Rn={id:Mt++,callback:Tn,priorityLevel:Rn,startTime:Un,expirationTime:Vn,sortIndex:-1},Un>$n?(Rn.sortIndex=Un,et(mt,Rn),nt(pt)===null&&Rn===nt(mt)&&(Rt?(Vt(Mn),Mn=-1):Rt=!0,Kn(Ht,Un-$n))):(Rn.sortIndex=Vn,et(pt,Rn),Tt||wt||(Tt=!0,Ln(Qt))),Rn},_e.unstable_shouldYield=yn,_e.unstable_wrapCallback=function(Rn){var Tn=At;return function(){var Un=At;At=Tn;try{return Rn.apply(this,arguments)}finally{At=Un}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,nt=1;nt<arguments.length;nt++)et+="&args[]="+encodeURIComponent(arguments[nt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,nt,rt){if(nt!==null&&nt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return rt?!1:nt!==null?!nt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,nt,rt){if(et===null||typeof et>"u"||pa(_e,et,nt,rt))return!0;if(rt)return!1;if(nt!==null)switch(nt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$5(_e,et,nt,rt,ot,it,ct){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=rt,this.attributeNamespace=ot,this.mustUseProperty=nt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=ct}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$3[_e]=new v$5(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$3[et]=new v$5(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$3[_e]=new v$5(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$3[_e]=new v$5(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$3[_e]=new v$5(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$3[_e]=new v$5(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$3[_e]=new v$5(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$3[_e]=new v$5(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$3[_e]=new v$5(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$3[et]=new v$5(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$3[et]=new v$5(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$3[et]=new v$5(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$3[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$3[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,nt,rt){var ot=z$3.hasOwnProperty(et)?z$3[et]:null;(ot!==null?ot.type!==0:rt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,nt,ot,rt)&&(nt=null),rt||ot===null?oa(et)&&(nt===null?_e.removeAttribute(et):_e.setAttribute(et,""+nt)):ot.mustUseProperty?_e[ot.propertyName]=nt===null?ot.type===3?!1:"":nt:(et=ot.attributeName,rt=ot.attributeNamespace,nt===null?_e.removeAttribute(et):(ot=ot.type,nt=ot===3||ot===4&&nt===!0?"":""+nt,rt?_e.setAttributeNS(rt,et,nt):_e.setAttribute(et,nt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(nt){var et=nt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(mt){var rt=mt}Reflect.construct(_e,[],et)}else{try{et.call()}catch(mt){rt=mt}_e.call(et.prototype)}else{try{throw Error()}catch(mt){rt=mt}_e()}}catch(mt){if(mt&&rt&&typeof mt.stack=="string"){for(var ot=mt.stack.split(`
`),it=rt.stack.split(`
`),ct=ot.length-1,lt=it.length-1;1<=ct&&0<=lt&&ot[ct]!==it[lt];)lt--;for(;1<=ct&&0<=lt;ct--,lt--)if(ot[ct]!==it[lt]){if(ct!==1||lt!==1)do if(ct--,lt--,0>lt||ot[ct]!==it[lt]){var pt=`
`+ot[ct].replace(" at new "," at ");return _e.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",_e.displayName)),pt}while(1<=ct&&0<=lt);break}}}finally{Na=!1,Error.prepareStackTrace=nt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",nt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),rt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof nt<"u"&&typeof nt.get=="function"&&typeof nt.set=="function"){var ot=nt.get,it=nt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return ot.call(this)},set:function(ct){rt=""+ct,it.call(this,ct)}}),Object.defineProperty(_e,et,{enumerable:nt.enumerable}),{getValue:function(){return rt},setValue:function(ct){rt=""+ct},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var nt=et.getValue(),rt="";return _e&&(rt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=rt,_e!==nt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var nt=et.checked;return A$3({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:nt??_e._wrapperState.initialChecked})}function Za(_e,et){var nt=et.defaultValue==null?"":et.defaultValue,rt=et.checked!=null?et.checked:et.defaultChecked;nt=Sa(et.value!=null?et.value:nt),_e._wrapperState={initialChecked:rt,initialValue:nt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var nt=Sa(et.value),rt=et.type;if(nt!=null)rt==="number"?(nt===0&&_e.value===""||_e.value!=nt)&&(_e.value=""+nt):_e.value!==""+nt&&(_e.value=""+nt);else if(rt==="submit"||rt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,nt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,nt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!(rt!=="submit"&&rt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,nt||et===_e.value||(_e.value=et),_e.defaultValue=et}nt=_e.name,nt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,nt!==""&&(_e.name=nt)}function cb(_e,et,nt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(nt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+nt&&(_e.defaultValue=""+nt))}var eb=Array.isArray;function fb(_e,et,nt,rt){if(_e=_e.options,et){et={};for(var ot=0;ot<nt.length;ot++)et["$"+nt[ot]]=!0;for(nt=0;nt<_e.length;nt++)ot=et.hasOwnProperty("$"+_e[nt].value),_e[nt].selected!==ot&&(_e[nt].selected=ot),ot&&rt&&(_e[nt].defaultSelected=!0)}else{for(nt=""+Sa(nt),et=null,ot=0;ot<_e.length;ot++){if(_e[ot].value===nt){_e[ot].selected=!0,rt&&(_e[ot].defaultSelected=!0);return}et!==null||_e[ot].disabled||(et=_e[ot])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$3({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var nt=et.value;if(nt==null){if(nt=et.children,et=et.defaultValue,nt!=null){if(et!=null)throw Error(p$6(92));if(eb(nt)){if(1<nt.length)throw Error(p$6(93));nt=nt[0]}et=nt}et==null&&(et=""),nt=et}_e._wrapperState={initialValue:Sa(nt)}}function ib(_e,et){var nt=Sa(et.value),rt=Sa(et.defaultValue);nt!=null&&(nt=""+nt,nt!==_e.value&&(_e.value=nt),et.defaultValue==null&&_e.defaultValue!==nt&&(_e.defaultValue=nt)),rt!=null&&(_e.defaultValue=""+rt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,nt,rt,ot){MSApp.execUnsafeLocalFunction(function(){return _e(et,nt,rt,ot)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var nt=_e.firstChild;if(nt&&nt===_e.lastChild&&nt.nodeType===3){nt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,nt){return et==null||typeof et=="boolean"||et===""?"":nt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var nt in et)if(et.hasOwnProperty(nt)){var rt=nt.indexOf("--")===0,ot=rb(nt,et[nt],rt);nt==="float"&&(nt="cssFloat"),rt?_e.setProperty(nt,ot):_e[nt]=ot}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$6(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$6(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$6(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$6(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$6(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,nt){if(Ib)return _e(et,nt);Ib=!0;try{return Gb(_e,et,nt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var nt=_e.stateNode;if(nt===null)return null;var rt=Db(nt);if(rt===null)return null;nt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(_e=_e.type,rt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!rt;break e;default:_e=!1}if(_e)return null;if(nt&&typeof nt!="function")throw Error(p$6(231,et,typeof nt));return nt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,nt,rt,ot,it,ct,lt,pt){var mt=Array.prototype.slice.call(arguments,3);try{et.apply(nt,mt)}catch(Mt){this.onError(Mt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,nt,rt,ot,it,ct,lt,pt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,nt,rt,ot,it,ct,lt,pt){if(Tb.apply(this,arguments),Ob){if(Ob){var mt=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=mt)}}function Vb(_e){var et=_e,nt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(nt=et.return),_e=et.return;while(_e)}return et.tag===3?nt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$6(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$6(188));return et!==_e?null:_e}for(var nt=_e,rt=et;;){var ot=nt.return;if(ot===null)break;var it=ot.alternate;if(it===null){if(rt=ot.return,rt!==null){nt=rt;continue}break}if(ot.child===it.child){for(it=ot.child;it;){if(it===nt)return Xb(ot),_e;if(it===rt)return Xb(ot),et;it=it.sibling}throw Error(p$6(188))}if(nt.return!==rt.return)nt=ot,rt=it;else{for(var ct=!1,lt=ot.child;lt;){if(lt===nt){ct=!0,nt=ot,rt=it;break}if(lt===rt){ct=!0,rt=ot,nt=it;break}lt=lt.sibling}if(!ct){for(lt=it.child;lt;){if(lt===nt){ct=!0,nt=it,rt=ot;break}if(lt===rt){ct=!0,rt=it,nt=ot;break}lt=lt.sibling}if(!ct)throw Error(p$6(189))}}if(nt.alternate!==rt)throw Error(p$6(190))}if(nt.tag!==3)throw Error(p$6(188));return nt.stateNode.current===nt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var nt=_e.pendingLanes;if(nt===0)return 0;var rt=0,ot=_e.suspendedLanes,it=_e.pingedLanes,ct=nt&268435455;if(ct!==0){var lt=ct&~ot;lt!==0?rt=tc(lt):(it&=ct,it!==0&&(rt=tc(it)))}else ct=nt&~ot,ct!==0?rt=tc(ct):it!==0&&(rt=tc(it));if(rt===0)return 0;if(et!==0&&et!==rt&&!(et&ot)&&(ot=rt&-rt,it=et&-et,ot>=it||ot===16&&(it&4194240)!==0))return et;if(rt&4&&(rt|=nt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=rt;0<et;)nt=31-oc(et),ot=1<<nt,rt|=_e[nt],et&=~ot;return rt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var nt=_e.suspendedLanes,rt=_e.pingedLanes,ot=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ct=31-oc(it),lt=1<<ct,pt=ot[ct];pt===-1?(!(lt&nt)||lt&rt)&&(ot[ct]=vc(lt,et)):pt<=et&&(_e.expiredLanes|=lt),it&=~lt}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],nt=0;31>nt;nt++)et.push(_e);return et}function Ac(_e,et,nt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=nt}function Bc(_e,et){var nt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var rt=_e.eventTimes;for(_e=_e.expirationTimes;0<nt;){var ot=31-oc(nt),it=1<<ot;et[ot]=0,rt[ot]=-1,_e[ot]=-1,nt&=~it}}function Cc(_e,et){var nt=_e.entangledLanes|=et;for(_e=_e.entanglements;nt;){var rt=31-oc(nt),ot=1<<rt;ot&et|_e[rt]&et&&(_e[rt]|=et),nt&=~ot}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,nt,rt,ot,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:nt,eventSystemFlags:rt,nativeEvent:it,targetContainers:[ot]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=rt,et=_e.targetContainers,ot!==null&&et.indexOf(ot)===-1&&et.push(ot),_e)}function Uc(_e,et,nt,rt,ot){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,nt,rt,ot),!0;case"dragenter":return Mc=Tc(Mc,_e,et,nt,rt,ot),!0;case"mouseover":return Nc=Tc(Nc,_e,et,nt,rt,ot),!0;case"pointerover":var it=ot.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,nt,rt,ot)),!0;case"gotpointercapture":return it=ot.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,nt,rt,ot)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var nt=Vb(et);if(nt!==null){if(et=nt.tag,et===13){if(et=Wb(nt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(nt)});return}}else if(et===3&&nt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=nt.tag===3?nt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var nt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(nt===null){nt=_e.nativeEvent;var rt=new nt.constructor(nt.type,nt);wb=rt,nt.target.dispatchEvent(rt),wb=null}else return et=Cb(nt),et!==null&&Fc(et),_e.blockedOn=nt,!1;et.shift()}return!0}function Zc(_e,et,nt){Xc(_e)&&nt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(ot){return ad(ot,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var nt=1;nt<Kc.length;nt++){var rt=Kc[nt];rt.blockedOn===_e&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),nt=0;nt<Qc.length;nt++)rt=Qc[nt],rt.blockedOn===_e&&(rt.blockedOn=null);for(;0<Qc.length&&(nt=Qc[0],nt.blockedOn===null);)Vc(nt),nt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,nt,rt){var ot=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,et,nt,rt)}finally{C$1=ot,cd.transition=it}}function gd(_e,et,nt,rt){var ot=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,et,nt,rt)}finally{C$1=ot,cd.transition=it}}function fd(_e,et,nt,rt){if(dd){var ot=Yc(_e,et,nt,rt);if(ot===null)hd(_e,et,rt,id$2,nt),Sc(_e,rt);else if(Uc(ot,_e,et,nt,rt))rt.stopPropagation();else if(Sc(_e,rt),et&4&&-1<Rc.indexOf(_e)){for(;ot!==null;){var it=Cb(ot);if(it!==null&&Ec(it),it=Yc(_e,et,nt,rt),it===null&&hd(_e,et,rt,id$2,nt),it===ot)break;ot=it}ot!==null&&rt.stopPropagation()}else hd(_e,et,rt,null,nt)}}var id$2=null;function Yc(_e,et,nt,rt){if(id$2=null,_e=xb(rt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(nt=et.tag,nt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(nt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id$2=_e,null}function jd$1(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,nt=et.length,rt,ot="value"in kd?kd.value:kd.textContent,it=ot.length;for(_e=0;_e<nt&&et[_e]===ot[_e];_e++);var ct=nt-_e;for(rt=1;rt<=ct&&et[nt-rt]===ot[it-rt];rt++);return md=ot.slice(_e,1<rt?1-rt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(nt,rt,ot,it,ct){this._reactName=nt,this._targetInst=ot,this.type=rt,this.nativeEvent=it,this.target=ct,this.currentTarget=null;for(var lt in _e)_e.hasOwnProperty(lt)&&(nt=_e[lt],this[lt]=nt?nt(it):it[lt]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var nt=this.nativeEvent;nt&&(nt.preventDefault?nt.preventDefault():typeof nt.returnValue!="unknown"&&(nt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var nt=this.nativeEvent;nt&&(nt.stopPropagation?nt.stopPropagation():typeof nt.cancelBubble!="unknown"&&(nt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,et){switch(_e){case"compositionend":return he(et);case"keypress":return et.which!==32?null:(fe=!0,ee);case"textInput":return _e=et.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,et){if(ie)return _e==="compositionend"||!ae&&ge(_e,et)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de&&et.locale!=="ko"?null:et.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le[_e.type]:et==="textarea"}function ne(_e,et,nt,rt){Eb(rt),et=oe(et,"onChange"),0<et.length&&(nt=new td("onChange","change",null,nt,rt),_e.push({event:nt,listeners:et}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var et=ue(_e);if(Wa(et))return _e}function ve(_e,et){if(_e==="change")return et}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var et=[];ne(et,qe,_e,xb(_e)),Jb(re,et)}}function Ce(_e,et,nt){_e==="focusin"?(Ae(),pe=et,qe=nt,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,et){if(_e==="click")return te(et)}function Fe(_e,et){if(_e==="input"||_e==="change")return te(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,et){if(He(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var nt=Object.keys(_e),rt=Object.keys(et);if(nt.length!==rt.length)return!1;for(rt=0;rt<nt.length;rt++){var ot=nt[rt];if(!ja.call(et,ot)||!He(_e[ot],et[ot]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var nt=Je(_e);_e=0;for(var rt;nt;){if(nt.nodeType===3){if(rt=_e+nt.textContent.length,_e<=et&&rt>=et)return{node:nt,offset:et-_e};_e=rt}e:{for(;nt;){if(nt.nextSibling){nt=nt.nextSibling;break e}nt=nt.parentNode}nt=void 0}nt=Je(nt)}}function Le(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var nt=typeof et.contentWindow.location.href=="string"}catch{nt=!1}if(nt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe(_e){var et=Me(),nt=_e.focusedElem,rt=_e.selectionRange;if(et!==nt&&nt&&nt.ownerDocument&&Le(nt.ownerDocument.documentElement,nt)){if(rt!==null&&Ne(nt)){if(et=rt.start,_e=rt.end,_e===void 0&&(_e=et),"selectionStart"in nt)nt.selectionStart=et,nt.selectionEnd=Math.min(_e,nt.value.length);else if(_e=(et=nt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var ot=nt.textContent.length,it=Math.min(rt.start,ot);rt=rt.end===void 0?it:Math.min(rt.end,ot),!_e.extend&&it>rt&&(ot=rt,rt=it,it=ot),ot=Ke(nt,it);var ct=Ke(nt,rt);ot&&ct&&(_e.rangeCount!==1||_e.anchorNode!==ot.node||_e.anchorOffset!==ot.offset||_e.focusNode!==ct.node||_e.focusOffset!==ct.offset)&&(et=et.createRange(),et.setStart(ot.node,ot.offset),_e.removeAllRanges(),it>rt?(_e.addRange(et),_e.extend(ct.node,ct.offset)):(et.setEnd(ct.node,ct.offset),_e.addRange(et)))}}for(et=[],_e=nt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<et.length;nt++)_e=et[nt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,et,nt){var rt=nt.window===nt?nt.document:nt.nodeType===9?nt:nt.ownerDocument;Te||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe(Re,"onSelect"),0<rt.length&&(et=new td("onSelect","select",null,et,nt),_e.push({event:et,listeners:rt}),et.target=Qe)))}function Ve(_e,et){var nt={};return nt[_e.toLowerCase()]=et.toLowerCase(),nt["Webkit"+_e]="webkit"+et,nt["Moz"+_e]="moz"+et,nt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],nt;for(nt in et)if(et.hasOwnProperty(nt)&&nt in Ye)return Xe[_e]=et[nt];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,nt){var rt=_e.type||"unknown-event";_e.currentTarget=nt,Ub(rt,et,void 0,_e),_e.currentTarget=null}function se(_e,et){et=(et&4)!==0;for(var nt=0;nt<_e.length;nt++){var rt=_e[nt],ot=rt.event;rt=rt.listeners;e:{var it=void 0;if(et)for(var ct=rt.length-1;0<=ct;ct--){var lt=rt[ct],pt=lt.instance,mt=lt.currentTarget;if(lt=lt.listener,pt!==it&&ot.isPropagationStopped())break e;nf(ot,lt,mt),it=pt}else for(ct=0;ct<rt.length;ct++){if(lt=rt[ct],pt=lt.instance,mt=lt.currentTarget,lt=lt.listener,pt!==it&&ot.isPropagationStopped())break e;nf(ot,lt,mt),it=pt}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$2(_e,et){var nt=et[of];nt===void 0&&(nt=et[of]=new Set);var rt=_e+"__bubble";nt.has(rt)||(pf(et,_e,2,!1),nt.add(rt))}function qf(_e,et,nt){var rt=0;et&&(rt|=4),pf(nt,_e,rt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(nt){nt!=="selectionchange"&&(mf.has(nt)||qf(nt,!1,_e),qf(nt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,nt,rt){switch(jd$1(et)){case 1:var ot=ed;break;case 4:ot=gd;break;default:ot=fd}nt=ot.bind(null,et,nt,_e),ot=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(ot=!0),rt?ot!==void 0?_e.addEventListener(et,nt,{capture:!0,passive:ot}):_e.addEventListener(et,nt,!0):ot!==void 0?_e.addEventListener(et,nt,{passive:ot}):_e.addEventListener(et,nt,!1)}function hd(_e,et,nt,rt,ot){var it=rt;if(!(et&1)&&!(et&2)&&rt!==null)e:for(;;){if(rt===null)return;var ct=rt.tag;if(ct===3||ct===4){var lt=rt.stateNode.containerInfo;if(lt===ot||lt.nodeType===8&&lt.parentNode===ot)break;if(ct===4)for(ct=rt.return;ct!==null;){var pt=ct.tag;if((pt===3||pt===4)&&(pt=ct.stateNode.containerInfo,pt===ot||pt.nodeType===8&&pt.parentNode===ot))return;ct=ct.return}for(;lt!==null;){if(ct=Wc(lt),ct===null)return;if(pt=ct.tag,pt===5||pt===6){rt=it=ct;continue e}lt=lt.parentNode}}rt=rt.return}Jb(function(){var mt=it,Mt=xb(nt),bt=[];e:{var At=df.get(_e);if(At!==void 0){var wt=td,Tt=_e;switch(_e){case"keypress":if(od(nt)===0)break e;case"keydown":case"keyup":wt=Rd;break;case"focusin":Tt="focus",wt=Fd;break;case"focusout":Tt="blur",wt=Fd;break;case"beforeblur":case"afterblur":wt=Fd;break;case"click":if(nt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Vd;break;case $e:case af:case bf:wt=Hd;break;case cf:wt=Xd;break;case"scroll":wt=vd;break;case"wheel":wt=Zd;break;case"copy":case"cut":case"paste":wt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=Td}var Rt=(et&4)!==0,Bt=!Rt&&_e==="scroll",Vt=Rt?At!==null?At+"Capture":null:At;Rt=[];for(var $t=mt,Ft;$t!==null;){Ft=$t;var Ht=Ft.stateNode;if(Ft.tag===5&&Ht!==null&&(Ft=Ht,Vt!==null&&(Ht=Kb($t,Vt),Ht!=null&&Rt.push(tf($t,Ht,Ft)))),Bt)break;$t=$t.return}0<Rt.length&&(At=new wt(At,Tt,null,nt,Mt),bt.push({event:At,listeners:Rt}))}}if(!(et&7)){e:{if(At=_e==="mouseover"||_e==="pointerover",wt=_e==="mouseout"||_e==="pointerout",At&&nt!==wb&&(Tt=nt.relatedTarget||nt.fromElement)&&(Wc(Tt)||Tt[uf]))break e;if((wt||At)&&(At=Mt.window===Mt?Mt:(At=Mt.ownerDocument)?At.defaultView||At.parentWindow:window,wt?(Tt=nt.relatedTarget||nt.toElement,wt=mt,Tt=Tt?Wc(Tt):null,Tt!==null&&(Bt=Vb(Tt),Tt!==Bt||Tt.tag!==5&&Tt.tag!==6)&&(Tt=null)):(wt=null,Tt=mt),wt!==Tt)){if(Rt=Bd,Ht="onMouseLeave",Vt="onMouseEnter",$t="mouse",(_e==="pointerout"||_e==="pointerover")&&(Rt=Td,Ht="onPointerLeave",Vt="onPointerEnter",$t="pointer"),Bt=wt==null?At:ue(wt),Ft=Tt==null?At:ue(Tt),At=new Rt(Ht,$t+"leave",wt,nt,Mt),At.target=Bt,At.relatedTarget=Ft,Ht=null,Wc(Mt)===mt&&(Rt=new Rt(Vt,$t+"enter",Tt,nt,Mt),Rt.target=Ft,Rt.relatedTarget=Bt,Ht=Rt),Bt=Ht,wt&&Tt)t:{for(Rt=wt,Vt=Tt,$t=0,Ft=Rt;Ft;Ft=vf(Ft))$t++;for(Ft=0,Ht=Vt;Ht;Ht=vf(Ht))Ft++;for(;0<$t-Ft;)Rt=vf(Rt),$t--;for(;0<Ft-$t;)Vt=vf(Vt),Ft--;for(;$t--;){if(Rt===Vt||Vt!==null&&Rt===Vt.alternate)break t;Rt=vf(Rt),Vt=vf(Vt)}Rt=null}else Rt=null;wt!==null&&wf(bt,At,wt,Rt,!1),Tt!==null&&Bt!==null&&wf(bt,Bt,Tt,Rt,!0)}}e:{if(At=mt?ue(mt):window,wt=At.nodeName&&At.nodeName.toLowerCase(),wt==="select"||wt==="input"&&At.type==="file")var Qt=ve;else if(me(At))if(we)Qt=Fe;else{Qt=De;var _n=Ce}else(wt=At.nodeName)&&wt.toLowerCase()==="input"&&(At.type==="checkbox"||At.type==="radio")&&(Qt=Ee);if(Qt&&(Qt=Qt(_e,mt))){ne(bt,Qt,nt,Mt);break e}_n&&_n(_e,At,mt),_e==="focusout"&&(_n=At._wrapperState)&&_n.controlled&&At.type==="number"&&cb(At,"number",At.value)}switch(_n=mt?ue(mt):window,_e){case"focusin":(me(_n)||_n.contentEditable==="true")&&(Qe=_n,Re=mt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(bt,nt,Mt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(bt,nt,Mt)}var hn;if(ae)e:{switch(_e){case"compositionstart":var Mn="onCompositionStart";break e;case"compositionend":Mn="onCompositionEnd";break e;case"compositionupdate":Mn="onCompositionUpdate";break e}Mn=void 0}else ie?ge(_e,nt)&&(Mn="onCompositionEnd"):_e==="keydown"&&nt.keyCode===229&&(Mn="onCompositionStart");Mn&&(de&&nt.locale!=="ko"&&(ie||Mn!=="onCompositionStart"?Mn==="onCompositionEnd"&&ie&&(hn=nd()):(kd=Mt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),_n=oe(mt,Mn),0<_n.length&&(Mn=new Ld(Mn,_e,null,nt,Mt),bt.push({event:Mn,listeners:_n}),hn?Mn.data=hn:(hn=he(nt),hn!==null&&(Mn.data=hn)))),(hn=ce?je(_e,nt):ke(_e,nt))&&(mt=oe(mt,"onBeforeInput"),0<mt.length&&(Mt=new Ld("onBeforeInput","beforeinput",null,nt,Mt),bt.push({event:Mt,listeners:mt}),Mt.data=hn))}se(bt,et)})}function tf(_e,et,nt){return{instance:_e,listener:et,currentTarget:nt}}function oe(_e,et){for(var nt=et+"Capture",rt=[];_e!==null;){var ot=_e,it=ot.stateNode;ot.tag===5&&it!==null&&(ot=it,it=Kb(_e,nt),it!=null&&rt.unshift(tf(_e,it,ot)),it=Kb(_e,et),it!=null&&rt.push(tf(_e,it,ot))),_e=_e.return}return rt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,nt,rt,ot){for(var it=et._reactName,ct=[];nt!==null&&nt!==rt;){var lt=nt,pt=lt.alternate,mt=lt.stateNode;if(pt!==null&&pt===rt)break;lt.tag===5&&mt!==null&&(lt=mt,ot?(pt=Kb(nt,it),pt!=null&&ct.unshift(tf(nt,pt,lt))):ot||(pt=Kb(nt,it),pt!=null&&ct.push(tf(nt,pt,lt)))),nt=nt.return}ct.length!==0&&_e.push({event:et,listeners:ct})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,nt){if(et=zf(et),zf(_e)!==et&&nt)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var nt=et,rt=0;do{var ot=nt.nextSibling;if(_e.removeChild(nt),ot&&ot.nodeType===8)if(nt=ot.data,nt==="/$"){if(rt===0){_e.removeChild(ot),bd(et);return}rt--}else nt!=="$"&&nt!=="$?"&&nt!=="$!"||rt++;nt=ot}while(nt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var nt=_e.data;if(nt==="$"||nt==="$!"||nt==="$?"){if(et===0)return _e;et--}else nt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var nt=_e.parentNode;nt;){if(et=nt[uf]||nt[Of]){if(nt=et.alternate,et.child!==null||nt!==null&&nt.child!==null)for(_e=Mf(_e);_e!==null;){if(nt=_e[Of])return nt;_e=Mf(_e)}return et}_e=nt,nt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$6(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$2(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var nt=_e.type.contextTypes;if(!nt)return Vf;var rt=_e.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var ot={},it;for(it in nt)ot[it]=et[it];return rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=ot),ot}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(_e,et,nt){if(H$2.current!==Vf)throw Error(p$6(168));G$1(H$2,et),G$1(Wf,nt)}function bg(_e,et,nt){var rt=_e.stateNode;if(et=et.childContextTypes,typeof rt.getChildContext!="function")return nt;rt=rt.getChildContext();for(var ot in rt)if(!(ot in et))throw Error(p$6(108,Ra(_e)||"Unknown",ot));return A$3({},nt,rt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,et,nt){var rt=_e.stateNode;if(!rt)throw Error(p$6(169));nt?(_e=bg(_e,et,Xf),rt.__reactInternalMemoizedMergedChildContext=_e,E$2(Wf),E$2(H$2),G$1(H$2,_e)):E$2(Wf),G$1(Wf,nt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$1;try{var nt=eg;for(C$1=1;_e<nt.length;_e++){var rt=nt[_e];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(ot){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),ot}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,nt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var rt=rg;_e=sg;var ot=32-oc(rt)-1;rt&=~(1<<ot),nt+=1;var it=32-oc(et)+ot;if(30<it){var ct=ot-ot%5;it=(rt&(1<<ct)-1).toString(32),rt>>=ct,ot-=ct,rg=1<<32-oc(et)+ot|nt<<ot|rt,sg=it+_e}else rg=1<<it|nt<<ot|rt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(_e,et){var nt=Bg(5,null,null,0);nt.elementType="DELETED",nt.stateNode=et,nt.return=_e,et=_e.deletions,et===null?(_e.deletions=[nt],_e.flags|=16):et.push(nt)}function Cg(_e,et){switch(_e.tag){case 5:var nt=_e.type;return et=et.nodeType!==1||nt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(nt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:nt,retryLane:1073741824},nt=Bg(18,null,null,0),nt.stateNode=et,nt.return=_e,_e.child=nt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$2){var et=yg;if(et){var nt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$6(418));et=Lf(nt.nextSibling);var rt=xg;et&&Cg(_e,et)?Ag(rt,nt):(_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$6(418));_e.flags=_e.flags&-4097|2,I$2=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$2)return Fg(_e),I$2=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$6(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$6(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var nt=_e.data;if(nt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else nt!=="$"&&nt!=="$!"&&nt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et,nt){if(_e=nt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(nt._owner){if(nt=nt._owner,nt){if(nt.tag!==1)throw Error(p$6(309));var rt=nt.stateNode}if(!rt)throw Error(p$6(147,_e));var ot=rt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(ct){var lt=ot.refs;ct===null?delete lt[it]:lt[it]=ct},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$6(284));if(!nt._owner)throw Error(p$6(290,_e))}return _e}function Mg(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$6(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function Ng(_e){var et=_e._init;return et(_e._payload)}function Og(_e){function et(Vt,$t){if(_e){var Ft=Vt.deletions;Ft===null?(Vt.deletions=[$t],Vt.flags|=16):Ft.push($t)}}function nt(Vt,$t){if(!_e)return null;for(;$t!==null;)et(Vt,$t),$t=$t.sibling;return null}function rt(Vt,$t){for(Vt=new Map;$t!==null;)$t.key!==null?Vt.set($t.key,$t):Vt.set($t.index,$t),$t=$t.sibling;return Vt}function ot(Vt,$t){return Vt=Pg(Vt,$t),Vt.index=0,Vt.sibling=null,Vt}function it(Vt,$t,Ft){return Vt.index=Ft,_e?(Ft=Vt.alternate,Ft!==null?(Ft=Ft.index,Ft<$t?(Vt.flags|=2,$t):Ft):(Vt.flags|=2,$t)):(Vt.flags|=1048576,$t)}function ct(Vt){return _e&&Vt.alternate===null&&(Vt.flags|=2),Vt}function lt(Vt,$t,Ft,Ht){return $t===null||$t.tag!==6?($t=Qg(Ft,Vt.mode,Ht),$t.return=Vt,$t):($t=ot($t,Ft),$t.return=Vt,$t)}function pt(Vt,$t,Ft,Ht){var Qt=Ft.type;return Qt===ya?Mt(Vt,$t,Ft.props.children,Ht,Ft.key):$t!==null&&($t.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===Ha&&Ng(Qt)===$t.type)?(Ht=ot($t,Ft.props),Ht.ref=Lg(Vt,$t,Ft),Ht.return=Vt,Ht):(Ht=Rg(Ft.type,Ft.key,Ft.props,null,Vt.mode,Ht),Ht.ref=Lg(Vt,$t,Ft),Ht.return=Vt,Ht)}function mt(Vt,$t,Ft,Ht){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==Ft.containerInfo||$t.stateNode.implementation!==Ft.implementation?($t=Sg(Ft,Vt.mode,Ht),$t.return=Vt,$t):($t=ot($t,Ft.children||[]),$t.return=Vt,$t)}function Mt(Vt,$t,Ft,Ht,Qt){return $t===null||$t.tag!==7?($t=Tg(Ft,Vt.mode,Ht,Qt),$t.return=Vt,$t):($t=ot($t,Ft),$t.return=Vt,$t)}function bt(Vt,$t,Ft){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Qg(""+$t,Vt.mode,Ft),$t.return=Vt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return Ft=Rg($t.type,$t.key,$t.props,null,Vt.mode,Ft),Ft.ref=Lg(Vt,null,$t),Ft.return=Vt,Ft;case wa:return $t=Sg($t,Vt.mode,Ft),$t.return=Vt,$t;case Ha:var Ht=$t._init;return bt(Vt,Ht($t._payload),Ft)}if(eb($t)||Ka($t))return $t=Tg($t,Vt.mode,Ft,null),$t.return=Vt,$t;Mg(Vt,$t)}return null}function At(Vt,$t,Ft,Ht){var Qt=$t!==null?$t.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return Qt!==null?null:lt(Vt,$t,""+Ft,Ht);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:return Ft.key===Qt?pt(Vt,$t,Ft,Ht):null;case wa:return Ft.key===Qt?mt(Vt,$t,Ft,Ht):null;case Ha:return Qt=Ft._init,At(Vt,$t,Qt(Ft._payload),Ht)}if(eb(Ft)||Ka(Ft))return Qt!==null?null:Mt(Vt,$t,Ft,Ht,null);Mg(Vt,Ft)}return null}function wt(Vt,$t,Ft,Ht,Qt){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Vt=Vt.get(Ft)||null,lt($t,Vt,""+Ht,Qt);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return Vt=Vt.get(Ht.key===null?Ft:Ht.key)||null,pt($t,Vt,Ht,Qt);case wa:return Vt=Vt.get(Ht.key===null?Ft:Ht.key)||null,mt($t,Vt,Ht,Qt);case Ha:var _n=Ht._init;return wt(Vt,$t,Ft,_n(Ht._payload),Qt)}if(eb(Ht)||Ka(Ht))return Vt=Vt.get(Ft)||null,Mt($t,Vt,Ht,Qt,null);Mg($t,Ht)}return null}function Tt(Vt,$t,Ft,Ht){for(var Qt=null,_n=null,hn=$t,Mn=$t=0,kn=null;hn!==null&&Mn<Ft.length;Mn++){hn.index>Mn?(kn=hn,hn=null):kn=hn.sibling;var Cn=At(Vt,hn,Ft[Mn],Ht);if(Cn===null){hn===null&&(hn=kn);break}_e&&hn&&Cn.alternate===null&&et(Vt,hn),$t=it(Cn,$t,Mn),_n===null?Qt=Cn:_n.sibling=Cn,_n=Cn,hn=kn}if(Mn===Ft.length)return nt(Vt,hn),I$2&&tg(Vt,Mn),Qt;if(hn===null){for(;Mn<Ft.length;Mn++)hn=bt(Vt,Ft[Mn],Ht),hn!==null&&($t=it(hn,$t,Mn),_n===null?Qt=hn:_n.sibling=hn,_n=hn);return I$2&&tg(Vt,Mn),Qt}for(hn=rt(Vt,hn);Mn<Ft.length;Mn++)kn=wt(hn,Vt,Mn,Ft[Mn],Ht),kn!==null&&(_e&&kn.alternate!==null&&hn.delete(kn.key===null?Mn:kn.key),$t=it(kn,$t,Mn),_n===null?Qt=kn:_n.sibling=kn,_n=kn);return _e&&hn.forEach(function(yn){return et(Vt,yn)}),I$2&&tg(Vt,Mn),Qt}function Rt(Vt,$t,Ft,Ht){var Qt=Ka(Ft);if(typeof Qt!="function")throw Error(p$6(150));if(Ft=Qt.call(Ft),Ft==null)throw Error(p$6(151));for(var _n=Qt=null,hn=$t,Mn=$t=0,kn=null,Cn=Ft.next();hn!==null&&!Cn.done;Mn++,Cn=Ft.next()){hn.index>Mn?(kn=hn,hn=null):kn=hn.sibling;var yn=At(Vt,hn,Cn.value,Ht);if(yn===null){hn===null&&(hn=kn);break}_e&&hn&&yn.alternate===null&&et(Vt,hn),$t=it(yn,$t,Mn),_n===null?Qt=yn:_n.sibling=yn,_n=yn,hn=kn}if(Cn.done)return nt(Vt,hn),I$2&&tg(Vt,Mn),Qt;if(hn===null){for(;!Cn.done;Mn++,Cn=Ft.next())Cn=bt(Vt,Cn.value,Ht),Cn!==null&&($t=it(Cn,$t,Mn),_n===null?Qt=Cn:_n.sibling=Cn,_n=Cn);return I$2&&tg(Vt,Mn),Qt}for(hn=rt(Vt,hn);!Cn.done;Mn++,Cn=Ft.next())Cn=wt(hn,Vt,Mn,Cn.value,Ht),Cn!==null&&(_e&&Cn.alternate!==null&&hn.delete(Cn.key===null?Mn:Cn.key),$t=it(Cn,$t,Mn),_n===null?Qt=Cn:_n.sibling=Cn,_n=Cn);return _e&&hn.forEach(function(Ut){return et(Vt,Ut)}),I$2&&tg(Vt,Mn),Qt}function Bt(Vt,$t,Ft,Ht){if(typeof Ft=="object"&&Ft!==null&&Ft.type===ya&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:e:{for(var Qt=Ft.key,_n=$t;_n!==null;){if(_n.key===Qt){if(Qt=Ft.type,Qt===ya){if(_n.tag===7){nt(Vt,_n.sibling),$t=ot(_n,Ft.props.children),$t.return=Vt,Vt=$t;break e}}else if(_n.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===Ha&&Ng(Qt)===_n.type){nt(Vt,_n.sibling),$t=ot(_n,Ft.props),$t.ref=Lg(Vt,_n,Ft),$t.return=Vt,Vt=$t;break e}nt(Vt,_n);break}else et(Vt,_n);_n=_n.sibling}Ft.type===ya?($t=Tg(Ft.props.children,Vt.mode,Ht,Ft.key),$t.return=Vt,Vt=$t):(Ht=Rg(Ft.type,Ft.key,Ft.props,null,Vt.mode,Ht),Ht.ref=Lg(Vt,$t,Ft),Ht.return=Vt,Vt=Ht)}return ct(Vt);case wa:e:{for(_n=Ft.key;$t!==null;){if($t.key===_n)if($t.tag===4&&$t.stateNode.containerInfo===Ft.containerInfo&&$t.stateNode.implementation===Ft.implementation){nt(Vt,$t.sibling),$t=ot($t,Ft.children||[]),$t.return=Vt,Vt=$t;break e}else{nt(Vt,$t);break}else et(Vt,$t);$t=$t.sibling}$t=Sg(Ft,Vt.mode,Ht),$t.return=Vt,Vt=$t}return ct(Vt);case Ha:return _n=Ft._init,Bt(Vt,$t,_n(Ft._payload),Ht)}if(eb(Ft))return Tt(Vt,$t,Ft,Ht);if(Ka(Ft))return Rt(Vt,$t,Ft,Ht);Mg(Vt,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"?(Ft=""+Ft,$t!==null&&$t.tag===6?(nt(Vt,$t.sibling),$t=ot($t,Ft),$t.return=Vt,Vt=$t):(nt(Vt,$t),$t=Qg(Ft,Vt.mode,Ht),$t.return=Vt,Vt=$t),ct(Vt)):nt(Vt,$t)}return Bt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var et=Wg.current;E$2(Wg),_e._currentValue=et}function bh(_e,et,nt){for(;_e!==null;){var rt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,rt!==null&&(rt.childLanes|=et)):rt!==null&&(rt.childLanes&et)!==et&&(rt.childLanes|=et),_e===nt)break;_e=_e.return}}function ch(_e,et){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(dh=!0),_e.firstContext=null)}function eh(_e){var et=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$6(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return et}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,et,nt,rt){var ot=et.interleaved;return ot===null?(nt.next=nt,gh(et)):(nt.next=ot.next,ot.next=nt),et.interleaved=nt,ih(_e,rt)}function ih(_e,et){_e.lanes|=et;var nt=_e.alternate;for(nt!==null&&(nt.lanes|=et),nt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,nt=_e.alternate,nt!==null&&(nt.childLanes|=et),nt=_e,_e=_e.return;return nt.tag===3?nt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(_e,et,nt){var rt=_e.updateQueue;if(rt===null)return null;if(rt=rt.shared,K&2){var ot=rt.pending;return ot===null?et.next=et:(et.next=ot.next,ot.next=et),rt.pending=et,ih(_e,nt)}return ot=rt.interleaved,ot===null?(et.next=et,gh(rt)):(et.next=ot.next,ot.next=et),rt.interleaved=et,ih(_e,nt)}function oh(_e,et,nt){if(et=et.updateQueue,et!==null&&(et=et.shared,(nt&4194240)!==0)){var rt=et.lanes;rt&=_e.pendingLanes,nt|=rt,et.lanes=nt,Cc(_e,nt)}}function ph(_e,et){var nt=_e.updateQueue,rt=_e.alternate;if(rt!==null&&(rt=rt.updateQueue,nt===rt)){var ot=null,it=null;if(nt=nt.firstBaseUpdate,nt!==null){do{var ct={eventTime:nt.eventTime,lane:nt.lane,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null};it===null?ot=it=ct:it=it.next=ct,nt=nt.next}while(nt!==null);it===null?ot=it=et:it=it.next=et}else ot=it=et;nt={baseState:rt.baseState,firstBaseUpdate:ot,lastBaseUpdate:it,shared:rt.shared,effects:rt.effects},_e.updateQueue=nt;return}_e=nt.lastBaseUpdate,_e===null?nt.firstBaseUpdate=et:_e.next=et,nt.lastBaseUpdate=et}function qh(_e,et,nt,rt){var ot=_e.updateQueue;jh=!1;var it=ot.firstBaseUpdate,ct=ot.lastBaseUpdate,lt=ot.shared.pending;if(lt!==null){ot.shared.pending=null;var pt=lt,mt=pt.next;pt.next=null,ct===null?it=mt:ct.next=mt,ct=pt;var Mt=_e.alternate;Mt!==null&&(Mt=Mt.updateQueue,lt=Mt.lastBaseUpdate,lt!==ct&&(lt===null?Mt.firstBaseUpdate=mt:lt.next=mt,Mt.lastBaseUpdate=pt))}if(it!==null){var bt=ot.baseState;ct=0,Mt=mt=pt=null,lt=it;do{var At=lt.lane,wt=lt.eventTime;if((rt&At)===At){Mt!==null&&(Mt=Mt.next={eventTime:wt,lane:0,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null});e:{var Tt=_e,Rt=lt;switch(At=et,wt=nt,Rt.tag){case 1:if(Tt=Rt.payload,typeof Tt=="function"){bt=Tt.call(wt,bt,At);break e}bt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Rt.payload,At=typeof Tt=="function"?Tt.call(wt,bt,At):Tt,At==null)break e;bt=A$3({},bt,At);break e;case 2:jh=!0}}lt.callback!==null&&lt.lane!==0&&(_e.flags|=64,At=ot.effects,At===null?ot.effects=[lt]:At.push(lt))}else wt={eventTime:wt,lane:At,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},Mt===null?(mt=Mt=wt,pt=bt):Mt=Mt.next=wt,ct|=At;if(lt=lt.next,lt===null){if(lt=ot.shared.pending,lt===null)break;At=lt,lt=At.next,At.next=null,ot.lastBaseUpdate=At,ot.shared.pending=null}}while(!0);if(Mt===null&&(pt=bt),ot.baseState=pt,ot.firstBaseUpdate=mt,ot.lastBaseUpdate=Mt,et=ot.shared.interleaved,et!==null){ot=et;do ct|=ot.lane,ot=ot.next;while(ot!==et)}else it===null&&(ot.shared.lanes=0);rh|=ct,_e.lanes=ct,_e.memoizedState=bt}}function sh(_e,et,nt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var rt=_e[et],ot=rt.callback;if(ot!==null){if(rt.callback=null,rt=nt,typeof ot!="function")throw Error(p$6(191,ot));ot.call(rt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$6(174));return _e}function yh(_e,et){switch(G$1(wh,et),G$1(vh,_e),G$1(uh,th),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$2(uh),G$1(uh,et)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(_e){xh(wh.current);var et=xh(uh.current),nt=lb(et,_e.type);et!==nt&&(G$1(vh,_e),G$1(uh,nt))}function Bh(_e){vh.current===_e&&(E$2(uh),E$2(vh))}var L$2=Uf(0);function Ch(_e){for(var et=_e;et!==null;){if(et.tag===13){var nt=et.memoizedState;if(nt!==null&&(nt=nt.dehydrated,nt===null||nt.data==="$?"||nt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$2=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$6(321))}function Mh(_e,et){if(et===null)return!1;for(var nt=0;nt<et.length&&nt<_e.length;nt++)if(!He(_e[nt],et[nt]))return!1;return!0}function Nh(_e,et,nt,rt,ot,it){if(Hh=it,M$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=nt(rt,ot),Jh){it=0;do{if(Jh=!1,Kh=0,25<=it)throw Error(p$6(301));it+=1,O$2=N$2=null,et.updateQueue=null,Fh.current=Qh,_e=nt(rt,ot)}while(Jh)}if(Fh.current=Rh,et=N$2!==null&&N$2.next!==null,Hh=0,O$2=N$2=M$2=null,Ih=!1,et)throw Error(p$6(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$2.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$2===null){var _e=M$2.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$2.next;var et=O$2===null?M$2.memoizedState:O$2.next;if(et!==null)O$2=et,N$2=_e;else{if(_e===null)throw Error(p$6(310));N$2=_e,_e={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$2===null?M$2.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,et){return typeof et=="function"?et(_e):et}function Wh(_e){var et=Uh(),nt=et.queue;if(nt===null)throw Error(p$6(311));nt.lastRenderedReducer=_e;var rt=N$2,ot=rt.baseQueue,it=nt.pending;if(it!==null){if(ot!==null){var ct=ot.next;ot.next=it.next,it.next=ct}rt.baseQueue=ot=it,nt.pending=null}if(ot!==null){it=ot.next,rt=rt.baseState;var lt=ct=null,pt=null,mt=it;do{var Mt=mt.lane;if((Hh&Mt)===Mt)pt!==null&&(pt=pt.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),rt=mt.hasEagerState?mt.eagerState:_e(rt,mt.action);else{var bt={lane:Mt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};pt===null?(lt=pt=bt,ct=rt):pt=pt.next=bt,M$2.lanes|=Mt,rh|=Mt}mt=mt.next}while(mt!==null&&mt!==it);pt===null?ct=rt:pt.next=lt,He(rt,et.memoizedState)||(dh=!0),et.memoizedState=rt,et.baseState=ct,et.baseQueue=pt,nt.lastRenderedState=rt}if(_e=nt.interleaved,_e!==null){ot=_e;do it=ot.lane,M$2.lanes|=it,rh|=it,ot=ot.next;while(ot!==_e)}else ot===null&&(nt.lanes=0);return[et.memoizedState,nt.dispatch]}function Xh(_e){var et=Uh(),nt=et.queue;if(nt===null)throw Error(p$6(311));nt.lastRenderedReducer=_e;var rt=nt.dispatch,ot=nt.pending,it=et.memoizedState;if(ot!==null){nt.pending=null;var ct=ot=ot.next;do it=_e(it,ct.action),ct=ct.next;while(ct!==ot);He(it,et.memoizedState)||(dh=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),nt.lastRenderedState=it}return[it,rt]}function Yh(){}function Zh(_e,et){var nt=M$2,rt=Uh(),ot=et(),it=!He(rt.memoizedState,ot);if(it&&(rt.memoizedState=ot,dh=!0),rt=rt.queue,$h(ai.bind(null,nt,rt,_e),[_e]),rt.getSnapshot!==et||it||O$2!==null&&O$2.memoizedState.tag&1){if(nt.flags|=2048,bi(9,ci.bind(null,nt,rt,ot,et),void 0,null),Q$2===null)throw Error(p$6(349));Hh&30||di(nt,et,ot)}return ot}function di(_e,et,nt){_e.flags|=16384,_e={getSnapshot:et,value:nt},et=M$2.updateQueue,et===null?(et={lastEffect:null,stores:null},M$2.updateQueue=et,et.stores=[_e]):(nt=et.stores,nt===null?et.stores=[_e]:nt.push(_e))}function ci(_e,et,nt,rt){et.value=nt,et.getSnapshot=rt,ei(et)&&fi(_e)}function ai(_e,et,nt){return nt(function(){ei(et)&&fi(_e)})}function ei(_e){var et=_e.getSnapshot;_e=_e.value;try{var nt=et();return!He(_e,nt)}catch{return!0}}function fi(_e){var et=ih(_e,1);et!==null&&gi(et,_e,1,-1)}function hi(_e){var et=Th();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ii.bind(null,M$2,_e),[et.memoizedState,_e]}function bi(_e,et,nt,rt){return _e={tag:_e,create:et,destroy:nt,deps:rt,next:null},et=M$2.updateQueue,et===null?(et={lastEffect:null,stores:null},M$2.updateQueue=et,et.lastEffect=_e.next=_e):(nt=et.lastEffect,nt===null?et.lastEffect=_e.next=_e:(rt=nt.next,nt.next=_e,_e.next=rt,et.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,et,nt,rt){var ot=Th();M$2.flags|=_e,ot.memoizedState=bi(1|et,nt,void 0,rt===void 0?null:rt)}function li(_e,et,nt,rt){var ot=Uh();rt=rt===void 0?null:rt;var it=void 0;if(N$2!==null){var ct=N$2.memoizedState;if(it=ct.destroy,rt!==null&&Mh(rt,ct.deps)){ot.memoizedState=bi(et,nt,it,rt);return}}M$2.flags|=_e,ot.memoizedState=bi(1|et,nt,it,rt)}function mi(_e,et){return ki(8390656,8,_e,et)}function $h(_e,et){return li(2048,8,_e,et)}function ni(_e,et){return li(4,2,_e,et)}function oi(_e,et){return li(4,4,_e,et)}function pi(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function qi(_e,et,nt){return nt=nt!=null?nt.concat([_e]):null,li(4,4,pi.bind(null,et,_e),nt)}function ri(){}function si(_e,et){var nt=Uh();et=et===void 0?null:et;var rt=nt.memoizedState;return rt!==null&&et!==null&&Mh(et,rt[1])?rt[0]:(nt.memoizedState=[_e,et],_e)}function ti(_e,et){var nt=Uh();et=et===void 0?null:et;var rt=nt.memoizedState;return rt!==null&&et!==null&&Mh(et,rt[1])?rt[0]:(_e=_e(),nt.memoizedState=[_e,et],_e)}function ui(_e,et,nt){return Hh&21?(He(nt,et)||(nt=yc(),M$2.lanes|=nt,rh|=nt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=nt)}function vi(_e,et){var nt=C$1;C$1=nt!==0&&4>nt?nt:4,_e(!0);var rt=Gh.transition;Gh.transition={};try{_e(!1),et()}finally{C$1=nt,Gh.transition=rt}}function wi(){return Uh().memoizedState}function xi(_e,et,nt){var rt=yi(_e);if(nt={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(et,nt);else if(nt=hh(_e,et,nt,rt),nt!==null){var ot=R$2();gi(nt,_e,rt,ot),Bi(nt,et,rt)}}function ii(_e,et,nt){var rt=yi(_e),ot={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(et,ot);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var ct=et.lastRenderedState,lt=it(ct,nt);if(ot.hasEagerState=!0,ot.eagerState=lt,He(lt,ct)){var pt=et.interleaved;pt===null?(ot.next=ot,gh(et)):(ot.next=pt.next,pt.next=ot),et.interleaved=ot;return}}catch{}finally{}nt=hh(_e,et,ot,rt),nt!==null&&(ot=R$2(),gi(nt,_e,rt,ot),Bi(nt,et,rt))}}function zi(_e){var et=_e.alternate;return _e===M$2||et!==null&&et===M$2}function Ai(_e,et){Jh=Ih=!0;var nt=_e.pending;nt===null?et.next=et:(et.next=nt.next,nt.next=et),_e.pending=et}function Bi(_e,et,nt){if(nt&4194240){var rt=et.lanes;rt&=_e.pendingLanes,nt|=rt,et.lanes=nt,Cc(_e,nt)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,et){return Th().memoizedState=[_e,et===void 0?null:et],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,et,nt){return nt=nt!=null?nt.concat([_e]):null,ki(4194308,4,pi.bind(null,et,_e),nt)},useLayoutEffect:function(_e,et){return ki(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ki(4,2,_e,et)},useMemo:function(_e,et){var nt=Th();return et=et===void 0?null:et,_e=_e(),nt.memoizedState=[_e,et],_e},useReducer:function(_e,et,nt){var rt=Th();return et=nt!==void 0?nt(et):et,rt.memoizedState=rt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},rt.queue=_e,_e=_e.dispatch=xi.bind(null,M$2,_e),[rt.memoizedState,_e]},useRef:function(_e){var et=Th();return _e={current:_e},et.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),et=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,nt){var rt=M$2,ot=Th();if(I$2){if(nt===void 0)throw Error(p$6(407));nt=nt()}else{if(nt=et(),Q$2===null)throw Error(p$6(349));Hh&30||di(rt,et,nt)}ot.memoizedState=nt;var it={value:nt,getSnapshot:et};return ot.queue=it,mi(ai.bind(null,rt,it,_e),[_e]),rt.flags|=2048,bi(9,ci.bind(null,rt,it,nt,et),void 0,null),nt},useId:function(){var _e=Th(),et=Q$2.identifierPrefix;if(I$2){var nt=sg,rt=rg;nt=(rt&~(1<<32-oc(rt)-1)).toString(32)+nt,et=":"+et+"R"+nt,nt=Kh++,0<nt&&(et+="H"+nt.toString(32)),et+=":"}else nt=Lh++,et=":"+et+"r"+nt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return ui(et,N$2.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return N$2===null?et.memoizedState=_e:ui(et,N$2.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,et){if(_e&&_e.defaultProps){et=A$3({},et),_e=_e.defaultProps;for(var nt in _e)et[nt]===void 0&&(et[nt]=_e[nt]);return et}return et}function Di(_e,et,nt,rt){et=_e.memoizedState,nt=nt(rt,et),nt=nt==null?et:A$3({},et,nt),_e.memoizedState=nt,_e.lanes===0&&(_e.updateQueue.baseState=nt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,nt){_e=_e._reactInternals;var rt=R$2(),ot=yi(_e),it=mh(rt,ot);it.payload=et,nt!=null&&(it.callback=nt),et=nh(_e,it,ot),et!==null&&(gi(et,_e,ot,rt),oh(et,_e,ot))},enqueueReplaceState:function(_e,et,nt){_e=_e._reactInternals;var rt=R$2(),ot=yi(_e),it=mh(rt,ot);it.tag=1,it.payload=et,nt!=null&&(it.callback=nt),et=nh(_e,it,ot),et!==null&&(gi(et,_e,ot,rt),oh(et,_e,ot))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var nt=R$2(),rt=yi(_e),ot=mh(nt,rt);ot.tag=2,et!=null&&(ot.callback=et),et=nh(_e,ot,rt),et!==null&&(gi(et,_e,rt,nt),oh(et,_e,rt))}};function Fi(_e,et,nt,rt,ot,it,ct){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(rt,it,ct):et.prototype&&et.prototype.isPureReactComponent?!Ie(nt,rt)||!Ie(ot,it):!0}function Gi(_e,et,nt){var rt=!1,ot=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=eh(it):(ot=Zf(et)?Xf:H$2.current,rt=et.contextTypes,it=(rt=rt!=null)?Yf(_e,ot):Vf),et=new et(nt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,_e.stateNode=et,et._reactInternals=_e,rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=ot,_e.__reactInternalMemoizedMaskedChildContext=it),et}function Hi(_e,et,nt,rt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(nt,rt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(nt,rt),et.state!==_e&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(_e,et,nt,rt){var ot=_e.stateNode;ot.props=nt,ot.state=_e.memoizedState,ot.refs={},kh(_e);var it=et.contextType;typeof it=="object"&&it!==null?ot.context=eh(it):(it=Zf(et)?Xf:H$2.current,ot.context=Yf(_e,it)),ot.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(Di(_e,et,it,nt),ot.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof ot.getSnapshotBeforeUpdate=="function"||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(et=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),et!==ot.state&&Ei.enqueueReplaceState(ot,ot.state,null),qh(_e,nt,ot,rt),ot.state=_e.memoizedState),typeof ot.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,et){try{var nt="",rt=et;do nt+=Pa(rt),rt=rt.return;while(rt);var ot=nt}catch(it){ot=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:ot,digest:null}}function Ki(_e,et,nt){return{value:_e,source:null,stack:nt??null,digest:et??null}}function Li(_e,et){try{console.error(et.value)}catch(nt){setTimeout(function(){throw nt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,et,nt){nt=mh(-1,nt),nt.tag=3,nt.payload={element:null};var rt=et.value;return nt.callback=function(){Oi||(Oi=!0,Pi=rt),Li(_e,et)},nt}function Qi(_e,et,nt){nt=mh(-1,nt),nt.tag=3;var rt=_e.type.getDerivedStateFromError;if(typeof rt=="function"){var ot=et.value;nt.payload=function(){return rt(ot)},nt.callback=function(){Li(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(nt.callback=function(){Li(_e,et),typeof rt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ct=et.stack;this.componentDidCatch(et.value,{componentStack:ct!==null?ct:""})}),nt}function Si(_e,et,nt){var rt=_e.pingCache;if(rt===null){rt=_e.pingCache=new Mi;var ot=new Set;rt.set(et,ot)}else ot=rt.get(et),ot===void 0&&(ot=new Set,rt.set(et,ot));ot.has(nt)||(ot.add(nt),_e=Ti.bind(null,_e,et,nt),et.then(_e,_e))}function Ui(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,et,nt,rt,ot){return _e.mode&1?(_e.flags|=65536,_e.lanes=ot,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,nt.flags|=131072,nt.flags&=-52805,nt.tag===1&&(nt.alternate===null?nt.tag=17:(et=mh(-1,1),et.tag=2,nh(nt,et,1))),nt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,et,nt,rt){et.child=_e===null?Vg(et,null,nt,rt):Ug(et,_e.child,nt,rt)}function Yi(_e,et,nt,rt,ot){nt=nt.render;var it=et.ref;return ch(et,ot),rt=Nh(_e,et,nt,rt,it,ot),nt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~ot,Zi(_e,et,ot)):(I$2&&nt&&vg(et),et.flags|=1,Xi(_e,et,rt,ot),et.child)}function $i(_e,et,nt,rt,ot){if(_e===null){var it=nt.type;return typeof it=="function"&&!aj(it)&&it.defaultProps===void 0&&nt.compare===null&&nt.defaultProps===void 0?(et.tag=15,et.type=it,bj(_e,et,it,rt,ot)):(_e=Rg(nt.type,null,rt,et,et.mode,ot),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&ot)){var ct=it.memoizedProps;if(nt=nt.compare,nt=nt!==null?nt:Ie,nt(ct,rt)&&_e.ref===et.ref)return Zi(_e,et,ot)}return et.flags|=1,_e=Pg(it,rt),_e.ref=et.ref,_e.return=et,et.child=_e}function bj(_e,et,nt,rt,ot){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,rt)&&_e.ref===et.ref)if(dh=!1,et.pendingProps=rt=it,(_e.lanes&ot)!==0)_e.flags&131072&&(dh=!0);else return et.lanes=_e.lanes,Zi(_e,et,ot)}return cj(_e,et,nt,rt,ot)}function dj(_e,et,nt){var rt=et.pendingProps,ot=rt.children,it=_e!==null?_e.memoizedState:null;if(rt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=nt;else{if(!(nt&1073741824))return _e=it!==null?it.baseLanes|nt:nt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$1(ej,fj),fj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=it!==null?it.baseLanes:nt,G$1(ej,fj),fj|=rt}else it!==null?(rt=it.baseLanes|nt,et.memoizedState=null):rt=nt,G$1(ej,fj),fj|=rt;return Xi(_e,et,ot,nt),et.child}function gj(_e,et){var nt=et.ref;(_e===null&&nt!==null||_e!==null&&_e.ref!==nt)&&(et.flags|=512,et.flags|=2097152)}function cj(_e,et,nt,rt,ot){var it=Zf(nt)?Xf:H$2.current;return it=Yf(et,it),ch(et,ot),nt=Nh(_e,et,nt,rt,it,ot),rt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~ot,Zi(_e,et,ot)):(I$2&&rt&&vg(et),et.flags|=1,Xi(_e,et,nt,ot),et.child)}function hj(_e,et,nt,rt,ot){if(Zf(nt)){var it=!0;cg(et)}else it=!1;if(ch(et,ot),et.stateNode===null)ij(_e,et),Gi(et,nt,rt),Ii(et,nt,rt,ot),rt=!0;else if(_e===null){var ct=et.stateNode,lt=et.memoizedProps;ct.props=lt;var pt=ct.context,mt=nt.contextType;typeof mt=="object"&&mt!==null?mt=eh(mt):(mt=Zf(nt)?Xf:H$2.current,mt=Yf(et,mt));var Mt=nt.getDerivedStateFromProps,bt=typeof Mt=="function"||typeof ct.getSnapshotBeforeUpdate=="function";bt||typeof ct.UNSAFE_componentWillReceiveProps!="function"&&typeof ct.componentWillReceiveProps!="function"||(lt!==rt||pt!==mt)&&Hi(et,ct,rt,mt),jh=!1;var At=et.memoizedState;ct.state=At,qh(et,rt,ct,ot),pt=et.memoizedState,lt!==rt||At!==pt||Wf.current||jh?(typeof Mt=="function"&&(Di(et,nt,Mt,rt),pt=et.memoizedState),(lt=jh||Fi(et,nt,lt,rt,At,pt,mt))?(bt||typeof ct.UNSAFE_componentWillMount!="function"&&typeof ct.componentWillMount!="function"||(typeof ct.componentWillMount=="function"&&ct.componentWillMount(),typeof ct.UNSAFE_componentWillMount=="function"&&ct.UNSAFE_componentWillMount()),typeof ct.componentDidMount=="function"&&(et.flags|=4194308)):(typeof ct.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=rt,et.memoizedState=pt),ct.props=rt,ct.state=pt,ct.context=mt,rt=lt):(typeof ct.componentDidMount=="function"&&(et.flags|=4194308),rt=!1)}else{ct=et.stateNode,lh(_e,et),lt=et.memoizedProps,mt=et.type===et.elementType?lt:Ci(et.type,lt),ct.props=mt,bt=et.pendingProps,At=ct.context,pt=nt.contextType,typeof pt=="object"&&pt!==null?pt=eh(pt):(pt=Zf(nt)?Xf:H$2.current,pt=Yf(et,pt));var wt=nt.getDerivedStateFromProps;(Mt=typeof wt=="function"||typeof ct.getSnapshotBeforeUpdate=="function")||typeof ct.UNSAFE_componentWillReceiveProps!="function"&&typeof ct.componentWillReceiveProps!="function"||(lt!==bt||At!==pt)&&Hi(et,ct,rt,pt),jh=!1,At=et.memoizedState,ct.state=At,qh(et,rt,ct,ot);var Tt=et.memoizedState;lt!==bt||At!==Tt||Wf.current||jh?(typeof wt=="function"&&(Di(et,nt,wt,rt),Tt=et.memoizedState),(mt=jh||Fi(et,nt,mt,rt,At,Tt,pt)||!1)?(Mt||typeof ct.UNSAFE_componentWillUpdate!="function"&&typeof ct.componentWillUpdate!="function"||(typeof ct.componentWillUpdate=="function"&&ct.componentWillUpdate(rt,Tt,pt),typeof ct.UNSAFE_componentWillUpdate=="function"&&ct.UNSAFE_componentWillUpdate(rt,Tt,pt)),typeof ct.componentDidUpdate=="function"&&(et.flags|=4),typeof ct.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof ct.componentDidUpdate!="function"||lt===_e.memoizedProps&&At===_e.memoizedState||(et.flags|=4),typeof ct.getSnapshotBeforeUpdate!="function"||lt===_e.memoizedProps&&At===_e.memoizedState||(et.flags|=1024),et.memoizedProps=rt,et.memoizedState=Tt),ct.props=rt,ct.state=Tt,ct.context=pt,rt=mt):(typeof ct.componentDidUpdate!="function"||lt===_e.memoizedProps&&At===_e.memoizedState||(et.flags|=4),typeof ct.getSnapshotBeforeUpdate!="function"||lt===_e.memoizedProps&&At===_e.memoizedState||(et.flags|=1024),rt=!1)}return jj(_e,et,nt,rt,it,ot)}function jj(_e,et,nt,rt,ot,it){gj(_e,et);var ct=(et.flags&128)!==0;if(!rt&&!ct)return ot&&dg(et,nt,!1),Zi(_e,et,it);rt=et.stateNode,Wi.current=et;var lt=ct&&typeof nt.getDerivedStateFromError!="function"?null:rt.render();return et.flags|=1,_e!==null&&ct?(et.child=Ug(et,_e.child,null,it),et.child=Ug(et,null,lt,it)):Xi(_e,et,lt,it),et.memoizedState=rt.state,ot&&dg(et,nt,!0),et.child}function kj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),yh(_e,et.containerInfo)}function lj(_e,et,nt,rt,ot){return Ig(),Jg(ot),et.flags|=256,Xi(_e,et,nt,rt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,et,nt){var rt=et.pendingProps,ot=L$2.current,it=!1,ct=(et.flags&128)!==0,lt;if((lt=ct)||(lt=_e!==null&&_e.memoizedState===null?!1:(ot&2)!==0),lt?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(ot|=1),G$1(L$2,ot&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(ct=rt.children,_e=rt.fallback,it?(rt=et.mode,it=et.child,ct={mode:"hidden",children:ct},!(rt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ct):it=pj(ct,rt,0,null),_e=Tg(_e,rt,nt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=nj(nt),et.memoizedState=mj,_e):qj(et,ct));if(ot=_e.memoizedState,ot!==null&&(lt=ot.dehydrated,lt!==null))return rj(_e,et,ct,rt,lt,ot,nt);if(it){it=rt.fallback,ct=et.mode,ot=_e.child,lt=ot.sibling;var pt={mode:"hidden",children:rt.children};return!(ct&1)&&et.child!==ot?(rt=et.child,rt.childLanes=0,rt.pendingProps=pt,et.deletions=null):(rt=Pg(ot,pt),rt.subtreeFlags=ot.subtreeFlags&14680064),lt!==null?it=Pg(lt,it):(it=Tg(it,ct,nt,null),it.flags|=2),it.return=et,rt.return=et,rt.sibling=it,et.child=rt,rt=it,it=et.child,ct=_e.child.memoizedState,ct=ct===null?nj(nt):{baseLanes:ct.baseLanes|nt,cachePool:null,transitions:ct.transitions},it.memoizedState=ct,it.childLanes=_e.childLanes&~nt,et.memoizedState=mj,rt}return it=_e.child,_e=it.sibling,rt=Pg(it,{mode:"visible",children:rt.children}),!(et.mode&1)&&(rt.lanes=nt),rt.return=et,rt.sibling=null,_e!==null&&(nt=et.deletions,nt===null?(et.deletions=[_e],et.flags|=16):nt.push(_e)),et.child=rt,et.memoizedState=null,rt}function qj(_e,et){return et=pj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function sj(_e,et,nt,rt){return rt!==null&&Jg(rt),Ug(et,_e.child,null,nt),_e=qj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function rj(_e,et,nt,rt,ot,it,ct){if(nt)return et.flags&256?(et.flags&=-257,rt=Ki(Error(p$6(422))),sj(_e,et,ct,rt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=rt.fallback,ot=et.mode,rt=pj({mode:"visible",children:rt.children},ot,0,null),it=Tg(it,ot,ct,null),it.flags|=2,rt.return=et,it.return=et,rt.sibling=it,et.child=rt,et.mode&1&&Ug(et,_e.child,null,ct),et.child.memoizedState=nj(ct),et.memoizedState=mj,it);if(!(et.mode&1))return sj(_e,et,ct,null);if(ot.data==="$!"){if(rt=ot.nextSibling&&ot.nextSibling.dataset,rt)var lt=rt.dgst;return rt=lt,it=Error(p$6(419)),rt=Ki(it,rt,void 0),sj(_e,et,ct,rt)}if(lt=(ct&_e.childLanes)!==0,dh||lt){if(rt=Q$2,rt!==null){switch(ct&-ct){case 4:ot=2;break;case 16:ot=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ot=32;break;case 536870912:ot=268435456;break;default:ot=0}ot=ot&(rt.suspendedLanes|ct)?0:ot,ot!==0&&ot!==it.retryLane&&(it.retryLane=ot,ih(_e,ot),gi(rt,_e,ot,-1))}return tj(),rt=Ki(Error(p$6(421))),sj(_e,et,ct,rt)}return ot.data==="$?"?(et.flags|=128,et.child=_e.child,et=uj.bind(null,_e),ot._reactRetry=et,null):(_e=it.treeContext,yg=Lf(ot.nextSibling),xg=et,I$2=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=qj(et,rt.children),et.flags|=4096,et)}function vj(_e,et,nt){_e.lanes|=et;var rt=_e.alternate;rt!==null&&(rt.lanes|=et),bh(_e.return,et,nt)}function wj(_e,et,nt,rt,ot){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:nt,tailMode:ot}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=rt,it.tail=nt,it.tailMode=ot)}function xj(_e,et,nt){var rt=et.pendingProps,ot=rt.revealOrder,it=rt.tail;if(Xi(_e,et,rt.children,nt),rt=L$2.current,rt&2)rt=rt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,nt,et);else if(_e.tag===19)vj(_e,nt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}rt&=1}if(G$1(L$2,rt),!(et.mode&1))et.memoizedState=null;else switch(ot){case"forwards":for(nt=et.child,ot=null;nt!==null;)_e=nt.alternate,_e!==null&&Ch(_e)===null&&(ot=nt),nt=nt.sibling;nt=ot,nt===null?(ot=et.child,et.child=null):(ot=nt.sibling,nt.sibling=null),wj(et,!1,ot,nt,it);break;case"backwards":for(nt=null,ot=et.child,et.child=null;ot!==null;){if(_e=ot.alternate,_e!==null&&Ch(_e)===null){et.child=ot;break}_e=ot.sibling,ot.sibling=nt,nt=ot,ot=_e}wj(et,!0,nt,null,it);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function Zi(_e,et,nt){if(_e!==null&&(et.dependencies=_e.dependencies),rh|=et.lanes,!(nt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$6(153));if(et.child!==null){for(_e=et.child,nt=Pg(_e,_e.pendingProps),et.child=nt,nt.return=et;_e.sibling!==null;)_e=_e.sibling,nt=nt.sibling=Pg(_e,_e.pendingProps),nt.return=et;nt.sibling=null}return et.child}function yj(_e,et,nt){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var rt=et.type._context,ot=et.memoizedProps.value;G$1(Wg,rt._currentValue),rt._currentValue=ot;break;case 13:if(rt=et.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(L$2,L$2.current&1),et.flags|=128,null):nt&et.child.childLanes?oj(_e,et,nt):(G$1(L$2,L$2.current&1),_e=Zi(_e,et,nt),_e!==null?_e.sibling:null);G$1(L$2,L$2.current&1);break;case 19:if(rt=(nt&et.childLanes)!==0,_e.flags&128){if(rt)return xj(_e,et,nt);et.flags|=128}if(ot=et.memoizedState,ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),G$1(L$2,L$2.current),rt)break;return null;case 22:case 23:return et.lanes=0,dj(_e,et,nt)}return Zi(_e,et,nt)}var zj,Aj,Bj,Cj;zj=function(_e,et){for(var nt=et.child;nt!==null;){if(nt.tag===5||nt.tag===6)_e.appendChild(nt.stateNode);else if(nt.tag!==4&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===et)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===et)return;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}};Aj=function(){};Bj=function(_e,et,nt,rt){var ot=_e.memoizedProps;if(ot!==rt){_e=et.stateNode,xh(uh.current);var it=null;switch(nt){case"input":ot=Ya(_e,ot),rt=Ya(_e,rt),it=[];break;case"select":ot=A$3({},ot,{value:void 0}),rt=A$3({},rt,{value:void 0}),it=[];break;case"textarea":ot=gb(_e,ot),rt=gb(_e,rt),it=[];break;default:typeof ot.onClick!="function"&&typeof rt.onClick=="function"&&(_e.onclick=Bf)}ub(nt,rt);var ct;nt=null;for(mt in ot)if(!rt.hasOwnProperty(mt)&&ot.hasOwnProperty(mt)&&ot[mt]!=null)if(mt==="style"){var lt=ot[mt];for(ct in lt)lt.hasOwnProperty(ct)&&(nt||(nt={}),nt[ct]="")}else mt!=="dangerouslySetInnerHTML"&&mt!=="children"&&mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea.hasOwnProperty(mt)?it||(it=[]):(it=it||[]).push(mt,null));for(mt in rt){var pt=rt[mt];if(lt=ot!=null?ot[mt]:void 0,rt.hasOwnProperty(mt)&&pt!==lt&&(pt!=null||lt!=null))if(mt==="style")if(lt){for(ct in lt)!lt.hasOwnProperty(ct)||pt&&pt.hasOwnProperty(ct)||(nt||(nt={}),nt[ct]="");for(ct in pt)pt.hasOwnProperty(ct)&&lt[ct]!==pt[ct]&&(nt||(nt={}),nt[ct]=pt[ct])}else nt||(it||(it=[]),it.push(mt,nt)),nt=pt;else mt==="dangerouslySetInnerHTML"?(pt=pt?pt.__html:void 0,lt=lt?lt.__html:void 0,pt!=null&&lt!==pt&&(it=it||[]).push(mt,pt)):mt==="children"?typeof pt!="string"&&typeof pt!="number"||(it=it||[]).push(mt,""+pt):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(mt)?(pt!=null&&mt==="onScroll"&&D$2("scroll",_e),it||lt===pt||(it=[])):(it=it||[]).push(mt,pt))}nt&&(it=it||[]).push("style",nt);var mt=it;(et.updateQueue=mt)&&(et.flags|=4)}};Cj=function(_e,et,nt,rt){nt!==rt&&(et.flags|=4)};function Dj(_e,et){if(!I$2)switch(_e.tailMode){case"hidden":et=_e.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?_e.tail=null:nt.sibling=null;break;case"collapsed":nt=_e.tail;for(var rt=null;nt!==null;)nt.alternate!==null&&(rt=nt),nt=nt.sibling;rt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:rt.sibling=null}}function S$2(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,nt=0,rt=0;if(et)for(var ot=_e.child;ot!==null;)nt|=ot.lanes|ot.childLanes,rt|=ot.subtreeFlags&14680064,rt|=ot.flags&14680064,ot.return=_e,ot=ot.sibling;else for(ot=_e.child;ot!==null;)nt|=ot.lanes|ot.childLanes,rt|=ot.subtreeFlags,rt|=ot.flags,ot.return=_e,ot=ot.sibling;return _e.subtreeFlags|=rt,_e.childLanes=nt,et}function Ej(_e,et,nt){var rt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(et),null;case 1:return Zf(et.type)&&$f(),S$2(et),null;case 3:return rt=et.stateNode,zh(),E$2(Wf),E$2(H$2),Eh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,et),S$2(et),null;case 5:Bh(et);var ot=xh(wh.current);if(nt=et.type,_e!==null&&et.stateNode!=null)Bj(_e,et,nt,rt,ot),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!rt){if(et.stateNode===null)throw Error(p$6(166));return S$2(et),null}if(_e=xh(uh.current),Gg(et)){rt=et.stateNode,nt=et.type;var it=et.memoizedProps;switch(rt[Of]=et,rt[Pf]=it,_e=(et.mode&1)!==0,nt){case"dialog":D$2("cancel",rt),D$2("close",rt);break;case"iframe":case"object":case"embed":D$2("load",rt);break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D$2(lf[ot],rt);break;case"source":D$2("error",rt);break;case"img":case"image":case"link":D$2("error",rt),D$2("load",rt);break;case"details":D$2("toggle",rt);break;case"input":Za(rt,it),D$2("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!it.multiple},D$2("invalid",rt);break;case"textarea":hb(rt,it),D$2("invalid",rt)}ub(nt,it),ot=null;for(var ct in it)if(it.hasOwnProperty(ct)){var lt=it[ct];ct==="children"?typeof lt=="string"?rt.textContent!==lt&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,lt,_e),ot=["children",lt]):typeof lt=="number"&&rt.textContent!==""+lt&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,lt,_e),ot=["children",""+lt]):ea.hasOwnProperty(ct)&&lt!=null&&ct==="onScroll"&&D$2("scroll",rt)}switch(nt){case"input":Va(rt),db(rt,it,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(rt.onclick=Bf)}rt=ot,et.updateQueue=rt,rt!==null&&(et.flags|=4)}else{ct=ot.nodeType===9?ot:ot.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(nt)),_e==="http://www.w3.org/1999/xhtml"?nt==="script"?(_e=ct.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof rt.is=="string"?_e=ct.createElement(nt,{is:rt.is}):(_e=ct.createElement(nt),nt==="select"&&(ct=_e,rt.multiple?ct.multiple=!0:rt.size&&(ct.size=rt.size))):_e=ct.createElementNS(_e,nt),_e[Of]=et,_e[Pf]=rt,zj(_e,et,!1,!1),et.stateNode=_e;e:{switch(ct=vb(nt,rt),nt){case"dialog":D$2("cancel",_e),D$2("close",_e),ot=rt;break;case"iframe":case"object":case"embed":D$2("load",_e),ot=rt;break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D$2(lf[ot],_e);ot=rt;break;case"source":D$2("error",_e),ot=rt;break;case"img":case"image":case"link":D$2("error",_e),D$2("load",_e),ot=rt;break;case"details":D$2("toggle",_e),ot=rt;break;case"input":Za(_e,rt),ot=Ya(_e,rt),D$2("invalid",_e);break;case"option":ot=rt;break;case"select":_e._wrapperState={wasMultiple:!!rt.multiple},ot=A$3({},rt,{value:void 0}),D$2("invalid",_e);break;case"textarea":hb(_e,rt),ot=gb(_e,rt),D$2("invalid",_e);break;default:ot=rt}ub(nt,ot),lt=ot;for(it in lt)if(lt.hasOwnProperty(it)){var pt=lt[it];it==="style"?sb(_e,pt):it==="dangerouslySetInnerHTML"?(pt=pt?pt.__html:void 0,pt!=null&&nb(_e,pt)):it==="children"?typeof pt=="string"?(nt!=="textarea"||pt!=="")&&ob(_e,pt):typeof pt=="number"&&ob(_e,""+pt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?pt!=null&&it==="onScroll"&&D$2("scroll",_e):pt!=null&&ta(_e,it,pt,ct))}switch(nt){case"input":Va(_e),db(_e,rt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":rt.value!=null&&_e.setAttribute("value",""+Sa(rt.value));break;case"select":_e.multiple=!!rt.multiple,it=rt.value,it!=null?fb(_e,!!rt.multiple,it,!1):rt.defaultValue!=null&&fb(_e,!!rt.multiple,rt.defaultValue,!0);break;default:typeof ot.onClick=="function"&&(_e.onclick=Bf)}switch(nt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$2(et),null;case 6:if(_e&&et.stateNode!=null)Cj(_e,et,_e.memoizedProps,rt);else{if(typeof rt!="string"&&et.stateNode===null)throw Error(p$6(166));if(nt=xh(wh.current),xh(uh.current),Gg(et)){if(rt=et.stateNode,nt=et.memoizedProps,rt[Of]=et,(it=rt.nodeValue!==nt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(rt.nodeValue,nt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,nt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else rt=(nt.nodeType===9?nt:nt.ownerDocument).createTextNode(rt),rt[Of]=et,et.stateNode=rt}return S$2(et),null;case 13:if(E$2(L$2),rt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),rt!==null&&rt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$6(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$6(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$2(et),it=!1}else zg!==null&&(Fj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=nt,et):(rt=rt!==null,rt!==(_e!==null&&_e.memoizedState!==null)&&rt&&(et.child.flags|=8192,et.mode&1&&(_e===null||L$2.current&1?T$1===0&&(T$1=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$2(et),null);case 4:return zh(),Aj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$2(et),null;case 10:return ah(et.type._context),S$2(et),null;case 17:return Zf(et.type)&&$f(),S$2(et),null;case 19:if(E$2(L$2),it=et.memoizedState,it===null)return S$2(et),null;if(rt=(et.flags&128)!==0,ct=it.rendering,ct===null)if(rt)Dj(it,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(ct=Ch(_e),ct!==null){for(et.flags|=128,Dj(it,!1),rt=ct.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),et.subtreeFlags=0,rt=nt,nt=et.child;nt!==null;)it=nt,_e=rt,it.flags&=14680066,ct=it.alternate,ct===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ct.childLanes,it.lanes=ct.lanes,it.child=ct.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ct.memoizedProps,it.memoizedState=ct.memoizedState,it.updateQueue=ct.updateQueue,it.type=ct.type,_e=ct.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),nt=nt.sibling;return G$1(L$2,L$2.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B$2()>Gj&&(et.flags|=128,rt=!0,Dj(it,!1),et.lanes=4194304)}else{if(!rt)if(_e=Ch(ct),_e!==null){if(et.flags|=128,rt=!0,nt=_e.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),Dj(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ct.alternate&&!I$2)return S$2(et),null}else 2*B$2()-it.renderingStartTime>Gj&&nt!==1073741824&&(et.flags|=128,rt=!0,Dj(it,!1),et.lanes=4194304);it.isBackwards?(ct.sibling=et.child,et.child=ct):(nt=it.last,nt!==null?nt.sibling=ct:et.child=ct,it.last=ct)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$2(),et.sibling=null,nt=L$2.current,G$1(L$2,rt?nt&1|2:nt&1),et):(S$2(et),null);case 22:case 23:return Hj(),rt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==rt&&(et.flags|=8192),rt&&et.mode&1?fj&1073741824&&(S$2(et),et.subtreeFlags&6&&(et.flags|=8192)):S$2(et),null;case 24:return null;case 25:return null}throw Error(p$6(156,et.tag))}function Ij(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return zh(),E$2(Wf),E$2(H$2),Eh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$2(L$2),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$6(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$2(L$2),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(_e,et){var nt=_e.ref;if(nt!==null)if(typeof nt=="function")try{nt(null)}catch(rt){W$1(_e,et,rt)}else nt.current=null}function Mj(_e,et,nt){try{nt()}catch(rt){W$1(_e,et,rt)}}var Nj=!1;function Oj(_e,et){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var nt={start:_e.selectionStart,end:_e.selectionEnd};else e:{nt=(nt=_e.ownerDocument)&&nt.defaultView||window;var rt=nt.getSelection&&nt.getSelection();if(rt&&rt.rangeCount!==0){nt=rt.anchorNode;var ot=rt.anchorOffset,it=rt.focusNode;rt=rt.focusOffset;try{nt.nodeType,it.nodeType}catch{nt=null;break e}var ct=0,lt=-1,pt=-1,mt=0,Mt=0,bt=_e,At=null;t:for(;;){for(var wt;bt!==nt||ot!==0&&bt.nodeType!==3||(lt=ct+ot),bt!==it||rt!==0&&bt.nodeType!==3||(pt=ct+rt),bt.nodeType===3&&(ct+=bt.nodeValue.length),(wt=bt.firstChild)!==null;)At=bt,bt=wt;for(;;){if(bt===_e)break t;if(At===nt&&++mt===ot&&(lt=ct),At===it&&++Mt===rt&&(pt=ct),(wt=bt.nextSibling)!==null)break;bt=At,At=bt.parentNode}bt=wt}nt=lt===-1||pt===-1?null:{start:lt,end:pt}}else nt=null}nt=nt||{start:0,end:0}}else nt=null;for(Df={focusedElem:_e,selectionRange:nt},dd=!1,V=et;V!==null;)if(et=V,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V=_e;else for(;V!==null;){et=V;try{var Tt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(Tt!==null){var Rt=Tt.memoizedProps,Bt=Tt.memoizedState,Vt=et.stateNode,$t=Vt.getSnapshotBeforeUpdate(et.elementType===et.type?Rt:Ci(et.type,Rt),Bt);Vt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var Ft=et.stateNode.containerInfo;Ft.nodeType===1?Ft.textContent="":Ft.nodeType===9&&Ft.documentElement&&Ft.removeChild(Ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(Ht){W$1(et,et.return,Ht)}if(_e=et.sibling,_e!==null){_e.return=et.return,V=_e;break}V=et.return}return Tt=Nj,Nj=!1,Tt}function Pj(_e,et,nt){var rt=et.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var ot=rt=rt.next;do{if((ot.tag&_e)===_e){var it=ot.destroy;ot.destroy=void 0,it!==void 0&&Mj(et,nt,it)}ot=ot.next}while(ot!==rt)}}function Qj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var nt=et=et.next;do{if((nt.tag&_e)===_e){var rt=nt.create;nt.destroy=rt()}nt=nt.next}while(nt!==et)}}function Rj(_e){var et=_e.ref;if(et!==null){var nt=_e.stateNode;switch(_e.tag){case 5:_e=nt;break;default:_e=nt}typeof et=="function"?et(_e):et.current=_e}}function Sj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Sj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,et,nt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?nt.nodeType===8?nt.parentNode.insertBefore(_e,et):nt.insertBefore(_e,et):(nt.nodeType===8?(et=nt.parentNode,et.insertBefore(_e,nt)):(et=nt,et.appendChild(_e)),nt=nt._reactRootContainer,nt!=null||et.onclick!==null||(et.onclick=Bf));else if(rt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,et,nt),_e=_e.sibling;_e!==null;)Vj(_e,et,nt),_e=_e.sibling}function Wj(_e,et,nt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?nt.insertBefore(_e,et):nt.appendChild(_e);else if(rt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,nt),_e=_e.sibling;_e!==null;)Wj(_e,et,nt),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,et,nt){for(nt=nt.child;nt!==null;)Zj(_e,et,nt),nt=nt.sibling}function Zj(_e,et,nt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,nt)}catch{}switch(nt.tag){case 5:U$1||Lj(nt,et);case 6:var rt=X$1,ot=Xj;X$1=null,Yj(_e,et,nt),X$1=rt,Xj=ot,X$1!==null&&(Xj?(_e=X$1,nt=nt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(nt):_e.removeChild(nt)):X$1.removeChild(nt.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,nt=nt.stateNode,_e.nodeType===8?Kf(_e.parentNode,nt):_e.nodeType===1&&Kf(_e,nt),bd(_e)):Kf(X$1,nt.stateNode));break;case 4:rt=X$1,ot=Xj,X$1=nt.stateNode.containerInfo,Xj=!0,Yj(_e,et,nt),X$1=rt,Xj=ot;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=nt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){ot=rt=rt.next;do{var it=ot,ct=it.destroy;it=it.tag,ct!==void 0&&(it&2||it&4)&&Mj(nt,et,ct),ot=ot.next}while(ot!==rt)}Yj(_e,et,nt);break;case 1:if(!U$1&&(Lj(nt,et),rt=nt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=nt.memoizedProps,rt.state=nt.memoizedState,rt.componentWillUnmount()}catch(lt){W$1(nt,et,lt)}Yj(_e,et,nt);break;case 21:Yj(_e,et,nt);break;case 22:nt.mode&1?(U$1=(rt=U$1)||nt.memoizedState!==null,Yj(_e,et,nt),U$1=rt):Yj(_e,et,nt);break;default:Yj(_e,et,nt)}}function ak(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var nt=_e.stateNode;nt===null&&(nt=_e.stateNode=new Kj),et.forEach(function(rt){var ot=bk.bind(null,_e,rt);nt.has(rt)||(nt.add(rt),rt.then(ot,ot))})}}function ck(_e,et){var nt=et.deletions;if(nt!==null)for(var rt=0;rt<nt.length;rt++){var ot=nt[rt];try{var it=_e,ct=et,lt=ct;e:for(;lt!==null;){switch(lt.tag){case 5:X$1=lt.stateNode,Xj=!1;break e;case 3:X$1=lt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=lt.stateNode.containerInfo,Xj=!0;break e}lt=lt.return}if(X$1===null)throw Error(p$6(160));Zj(it,ct,ot),X$1=null,Xj=!1;var pt=ot.alternate;pt!==null&&(pt.return=null),ot.return=null}catch(mt){W$1(ot,et,mt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,_e),et=et.sibling}function dk(_e,et){var nt=_e.alternate,rt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(et,_e),ek(_e),rt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Rt){W$1(_e,_e.return,Rt)}try{Pj(5,_e,_e.return)}catch(Rt){W$1(_e,_e.return,Rt)}}break;case 1:ck(et,_e),ek(_e),rt&512&&nt!==null&&Lj(nt,nt.return);break;case 5:if(ck(et,_e),ek(_e),rt&512&&nt!==null&&Lj(nt,nt.return),_e.flags&32){var ot=_e.stateNode;try{ob(ot,"")}catch(Rt){W$1(_e,_e.return,Rt)}}if(rt&4&&(ot=_e.stateNode,ot!=null)){var it=_e.memoizedProps,ct=nt!==null?nt.memoizedProps:it,lt=_e.type,pt=_e.updateQueue;if(_e.updateQueue=null,pt!==null)try{lt==="input"&&it.type==="radio"&&it.name!=null&&ab(ot,it),vb(lt,ct);var mt=vb(lt,it);for(ct=0;ct<pt.length;ct+=2){var Mt=pt[ct],bt=pt[ct+1];Mt==="style"?sb(ot,bt):Mt==="dangerouslySetInnerHTML"?nb(ot,bt):Mt==="children"?ob(ot,bt):ta(ot,Mt,bt,mt)}switch(lt){case"input":bb(ot,it);break;case"textarea":ib(ot,it);break;case"select":var At=ot._wrapperState.wasMultiple;ot._wrapperState.wasMultiple=!!it.multiple;var wt=it.value;wt!=null?fb(ot,!!it.multiple,wt,!1):At!==!!it.multiple&&(it.defaultValue!=null?fb(ot,!!it.multiple,it.defaultValue,!0):fb(ot,!!it.multiple,it.multiple?[]:"",!1))}ot[Pf]=it}catch(Rt){W$1(_e,_e.return,Rt)}}break;case 6:if(ck(et,_e),ek(_e),rt&4){if(_e.stateNode===null)throw Error(p$6(162));ot=_e.stateNode,it=_e.memoizedProps;try{ot.nodeValue=it}catch(Rt){W$1(_e,_e.return,Rt)}}break;case 3:if(ck(et,_e),ek(_e),rt&4&&nt!==null&&nt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(Rt){W$1(_e,_e.return,Rt)}break;case 4:ck(et,_e),ek(_e);break;case 13:ck(et,_e),ek(_e),ot=_e.child,ot.flags&8192&&(it=ot.memoizedState!==null,ot.stateNode.isHidden=it,!it||ot.alternate!==null&&ot.alternate.memoizedState!==null||(fk=B$2())),rt&4&&ak(_e);break;case 22:if(Mt=nt!==null&&nt.memoizedState!==null,_e.mode&1?(U$1=(mt=U$1)||Mt,ck(et,_e),U$1=mt):ck(et,_e),ek(_e),rt&8192){if(mt=_e.memoizedState!==null,(_e.stateNode.isHidden=mt)&&!Mt&&_e.mode&1)for(V=_e,Mt=_e.child;Mt!==null;){for(bt=V=Mt;V!==null;){switch(At=V,wt=At.child,At.tag){case 0:case 11:case 14:case 15:Pj(4,At,At.return);break;case 1:Lj(At,At.return);var Tt=At.stateNode;if(typeof Tt.componentWillUnmount=="function"){rt=At,nt=At.return;try{et=rt,Tt.props=et.memoizedProps,Tt.state=et.memoizedState,Tt.componentWillUnmount()}catch(Rt){W$1(rt,nt,Rt)}}break;case 5:Lj(At,At.return);break;case 22:if(At.memoizedState!==null){gk(bt);continue}}wt!==null?(wt.return=At,V=wt):gk(bt)}Mt=Mt.sibling}e:for(Mt=null,bt=_e;;){if(bt.tag===5){if(Mt===null){Mt=bt;try{ot=bt.stateNode,mt?(it=ot.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(lt=bt.stateNode,pt=bt.memoizedProps.style,ct=pt!=null&&pt.hasOwnProperty("display")?pt.display:null,lt.style.display=rb("display",ct))}catch(Rt){W$1(_e,_e.return,Rt)}}}else if(bt.tag===6){if(Mt===null)try{bt.stateNode.nodeValue=mt?"":bt.memoizedProps}catch(Rt){W$1(_e,_e.return,Rt)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===_e)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===_e)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===_e)break e;Mt===bt&&(Mt=null),bt=bt.return}Mt===bt&&(Mt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:ck(et,_e),ek(_e),rt&4&&ak(_e);break;case 21:break;default:ck(et,_e),ek(_e)}}function ek(_e){var et=_e.flags;if(et&2){try{e:{for(var nt=_e.return;nt!==null;){if(Tj(nt)){var rt=nt;break e}nt=nt.return}throw Error(p$6(160))}switch(rt.tag){case 5:var ot=rt.stateNode;rt.flags&32&&(ob(ot,""),rt.flags&=-33);var it=Uj(_e);Wj(_e,it,ot);break;case 3:case 4:var ct=rt.stateNode.containerInfo,lt=Uj(_e);Vj(_e,lt,ct);break;default:throw Error(p$6(161))}}catch(pt){W$1(_e,_e.return,pt)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function hk(_e,et,nt){V=_e,ik(_e)}function ik(_e,et,nt){for(var rt=(_e.mode&1)!==0;V!==null;){var ot=V,it=ot.child;if(ot.tag===22&&rt){var ct=ot.memoizedState!==null||Jj;if(!ct){var lt=ot.alternate,pt=lt!==null&&lt.memoizedState!==null||U$1;lt=Jj;var mt=U$1;if(Jj=ct,(U$1=pt)&&!mt)for(V=ot;V!==null;)ct=V,pt=ct.child,ct.tag===22&&ct.memoizedState!==null?jk(ot):pt!==null?(pt.return=ct,V=pt):jk(ot);for(;it!==null;)V=it,ik(it),it=it.sibling;V=ot,Jj=lt,U$1=mt}kk(_e)}else ot.subtreeFlags&8772&&it!==null?(it.return=ot,V=it):kk(_e)}}function kk(_e){for(;V!==null;){var et=V;if(et.flags&8772){var nt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Qj(5,et);break;case 1:var rt=et.stateNode;if(et.flags&4&&!U$1)if(nt===null)rt.componentDidMount();else{var ot=et.elementType===et.type?nt.memoizedProps:Ci(et.type,nt.memoizedProps);rt.componentDidUpdate(ot,nt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&sh(et,it,rt);break;case 3:var ct=et.updateQueue;if(ct!==null){if(nt=null,et.child!==null)switch(et.child.tag){case 5:nt=et.child.stateNode;break;case 1:nt=et.child.stateNode}sh(et,ct,nt)}break;case 5:var lt=et.stateNode;if(nt===null&&et.flags&4){nt=lt;var pt=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":pt.autoFocus&&nt.focus();break;case"img":pt.src&&(nt.src=pt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var mt=et.alternate;if(mt!==null){var Mt=mt.memoizedState;if(Mt!==null){var bt=Mt.dehydrated;bt!==null&&bd(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||et.flags&512&&Rj(et)}catch(At){W$1(et,et.return,At)}}if(et===_e){V=null;break}if(nt=et.sibling,nt!==null){nt.return=et.return,V=nt;break}V=et.return}}function gk(_e){for(;V!==null;){var et=V;if(et===_e){V=null;break}var nt=et.sibling;if(nt!==null){nt.return=et.return,V=nt;break}V=et.return}}function jk(_e){for(;V!==null;){var et=V;try{switch(et.tag){case 0:case 11:case 15:var nt=et.return;try{Qj(4,et)}catch(pt){W$1(et,nt,pt)}break;case 1:var rt=et.stateNode;if(typeof rt.componentDidMount=="function"){var ot=et.return;try{rt.componentDidMount()}catch(pt){W$1(et,ot,pt)}}var it=et.return;try{Rj(et)}catch(pt){W$1(et,it,pt)}break;case 5:var ct=et.return;try{Rj(et)}catch(pt){W$1(et,ct,pt)}}}catch(pt){W$1(et,et.return,pt)}if(et===_e){V=null;break}var lt=et.sibling;if(lt!==null){lt.return=et.return,V=lt;break}V=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q$2=null,Y=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd$1(_e.type)),_e):1}function gi(_e,et,nt,rt){if(50<yk)throw yk=0,zk=null,Error(p$6(185));Ac(_e,nt,rt),(!(K&2)||_e!==Q$2)&&(_e===Q$2&&(!(K&2)&&(qk|=nt),T$1===4&&Ck(_e,Z$1)),Dk(_e,rt),nt===1&&K===0&&!(et.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(_e,et){var nt=_e.callbackNode;wc(_e,et);var rt=uc(_e,_e===Q$2?Z$1:0);if(rt===0)nt!==null&&bc(nt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=rt&-rt,_e.callbackPriority!==et){if(nt!=null&&bc(nt),et===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),nt=null;else{switch(Dc(rt)){case 1:nt=fc;break;case 4:nt=gc;break;case 16:nt=hc;break;case 536870912:nt=jc;break;default:nt=hc}nt=Fk(nt,Gk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=nt}}function Gk(_e,et){if(Ak=-1,Bk=0,K&6)throw Error(p$6(327));var nt=_e.callbackNode;if(Hk()&&_e.callbackNode!==nt)return null;var rt=uc(_e,_e===Q$2?Z$1:0);if(rt===0)return null;if(rt&30||rt&_e.expiredLanes||et)et=Ik(_e,rt);else{et=rt;var ot=K;K|=2;var it=Jk();(Q$2!==_e||Z$1!==et)&&(uk=null,Gj=B$2()+500,Kk(_e,et));do try{Lk();break}catch(lt){Mk(_e,lt)}while(!0);$g(),mk.current=it,K=ot,Y!==null?et=0:(Q$2=null,Z$1=0,et=T$1)}if(et!==0){if(et===2&&(ot=xc(_e),ot!==0&&(rt=ot,et=Nk(_e,ot))),et===1)throw nt=pk,Kk(_e,0),Ck(_e,rt),Dk(_e,B$2()),nt;if(et===6)Ck(_e,rt);else{if(ot=_e.current.alternate,!(rt&30)&&!Ok(ot)&&(et=Ik(_e,rt),et===2&&(it=xc(_e),it!==0&&(rt=it,et=Nk(_e,it))),et===1))throw nt=pk,Kk(_e,0),Ck(_e,rt),Dk(_e,B$2()),nt;switch(_e.finishedWork=ot,_e.finishedLanes=rt,et){case 0:case 1:throw Error(p$6(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,rt),(rt&130023424)===rt&&(et=fk+500-B$2(),10<et)){if(uc(_e,0)!==0)break;if(ot=_e.suspendedLanes,(ot&rt)!==rt){R$2(),_e.pingedLanes|=_e.suspendedLanes&ot;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),et);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,rt),(rt&4194240)===rt)break;for(et=_e.eventTimes,ot=-1;0<rt;){var ct=31-oc(rt);it=1<<ct,ct=et[ct],ct>ot&&(ot=ct),rt&=~it}if(rt=ot,rt=B$2()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*lk(rt/1960))-rt,10<rt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),rt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$6(329))}}}return Dk(_e,B$2()),_e.callbackNode===nt?Gk.bind(null,_e):null}function Nk(_e,et){var nt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,et).flags|=256),_e=Ik(_e,et),_e!==2&&(et=tk,tk=nt,et!==null&&Fj(et)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var et=_e;;){if(et.flags&16384){var nt=et.updateQueue;if(nt!==null&&(nt=nt.stores,nt!==null))for(var rt=0;rt<nt.length;rt++){var ot=nt[rt],it=ot.getSnapshot;ot=ot.value;try{if(!He(it(),ot))return!1}catch{return!1}}}if(nt=et.child,et.subtreeFlags&16384&&nt!==null)nt.return=et,et=nt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(_e,et){for(et&=~rk,et&=~qk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;_e[nt]=-1,et&=~rt}}function Ek(_e){if(K&6)throw Error(p$6(327));Hk();var et=uc(_e,0);if(!(et&1))return Dk(_e,B$2()),null;var nt=Ik(_e,et);if(_e.tag!==0&&nt===2){var rt=xc(_e);rt!==0&&(et=rt,nt=Nk(_e,rt))}if(nt===1)throw nt=pk,Kk(_e,0),Ck(_e,et),Dk(_e,B$2()),nt;if(nt===6)throw Error(p$6(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Pk(_e,tk,uk),Dk(_e,B$2()),null}function Qk(_e,et){var nt=K;K|=1;try{return _e(et)}finally{K=nt,K===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var et=K;K|=1;var nt=ok.transition,rt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=rt,ok.transition=nt,K=et,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var nt=_e.timeoutHandle;if(nt!==-1&&(_e.timeoutHandle=-1,Gf(nt)),Y!==null)for(nt=Y.return;nt!==null;){var rt=nt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$2),Eh();break;case 5:Bh(rt);break;case 4:zh();break;case 13:E$2(L$2);break;case 19:E$2(L$2);break;case 10:ah(rt.type._context);break;case 22:case 23:Hj()}nt=nt.return}if(Q$2=_e,Y=_e=Pg(_e.current,null),Z$1=fj=et,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(nt=fh[et],rt=nt.interleaved,rt!==null){nt.interleaved=null;var ot=rt.next,it=nt.pending;if(it!==null){var ct=it.next;it.next=ot,rt.next=ct}nt.pending=rt}fh=null}return _e}function Mk(_e,et){do{var nt=Y;try{if($g(),Fh.current=Rh,Ih){for(var rt=M$2.memoizedState;rt!==null;){var ot=rt.queue;ot!==null&&(ot.pending=null),rt=rt.next}Ih=!1}if(Hh=0,O$2=N$2=M$2=null,Jh=!1,Kh=0,nk.current=null,nt===null||nt.return===null){T$1=1,pk=et,Y=null;break}e:{var it=_e,ct=nt.return,lt=nt,pt=et;if(et=Z$1,lt.flags|=32768,pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var mt=pt,Mt=lt,bt=Mt.tag;if(!(Mt.mode&1)&&(bt===0||bt===11||bt===15)){var At=Mt.alternate;At?(Mt.updateQueue=At.updateQueue,Mt.memoizedState=At.memoizedState,Mt.lanes=At.lanes):(Mt.updateQueue=null,Mt.memoizedState=null)}var wt=Ui(ct);if(wt!==null){wt.flags&=-257,Vi(wt,ct,lt,it,et),wt.mode&1&&Si(it,mt,et),et=wt,pt=mt;var Tt=et.updateQueue;if(Tt===null){var Rt=new Set;Rt.add(pt),et.updateQueue=Rt}else Tt.add(pt);break e}else{if(!(et&1)){Si(it,mt,et),tj();break e}pt=Error(p$6(426))}}else if(I$2&&lt.mode&1){var Bt=Ui(ct);if(Bt!==null){!(Bt.flags&65536)&&(Bt.flags|=256),Vi(Bt,ct,lt,it,et),Jg(Ji(pt,lt));break e}}it=pt=Ji(pt,lt),T$1!==4&&(T$1=2),sk===null?sk=[it]:sk.push(it),it=ct;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var Vt=Ni(it,pt,et);ph(it,Vt);break e;case 1:lt=pt;var $t=it.type,Ft=it.stateNode;if(!(it.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||Ft!==null&&typeof Ft.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ft)))){it.flags|=65536,et&=-et,it.lanes|=et;var Ht=Qi(it,lt,et);ph(it,Ht);break e}}it=it.return}while(it!==null)}Sk(nt)}catch(Qt){et=Qt,Y===nt&&nt!==null&&(Y=nt=nt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$2===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$2,Z$1)}function Ik(_e,et){var nt=K;K|=2;var rt=Jk();(Q$2!==_e||Z$1!==et)&&(uk=null,Kk(_e,et));do try{Tk();break}catch(ot){Mk(_e,ot)}while(!0);if($g(),K=nt,mk.current=rt,Y!==null)throw Error(p$6(261));return Q$2=null,Z$1=0,T$1}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var et=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,et===null?Sk(_e):Y=et,nk.current=null}function Sk(_e){var et=_e;do{var nt=et.alternate;if(_e=et.return,et.flags&32768){if(nt=Ij(nt,et),nt!==null){nt.flags&=32767,Y=nt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y=null;return}}else if(nt=Ej(nt,et,fj),nt!==null){Y=nt;return}if(et=et.sibling,et!==null){Y=et;return}Y=et=_e}while(et!==null);T$1===0&&(T$1=5)}function Pk(_e,et,nt){var rt=C$1,ot=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,et,nt,rt)}finally{ok.transition=ot,C$1=rt}return null}function Wk(_e,et,nt,rt){do Hk();while(wk!==null);if(K&6)throw Error(p$6(327));nt=_e.finishedWork;var ot=_e.finishedLanes;if(nt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,nt===_e.current)throw Error(p$6(177));_e.callbackNode=null,_e.callbackPriority=0;var it=nt.lanes|nt.childLanes;if(Bc(_e,it),_e===Q$2&&(Y=Q$2=null,Z$1=0),!(nt.subtreeFlags&2064)&&!(nt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),it=(nt.flags&15990)!==0,nt.subtreeFlags&15990||it){it=ok.transition,ok.transition=null;var ct=C$1;C$1=1;var lt=K;K|=4,nk.current=null,Oj(_e,nt),dk(nt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=nt,hk(nt),dc(),K=lt,C$1=ct,ok.transition=it}else _e.current=nt;if(vk&&(vk=!1,wk=_e,xk=ot),it=_e.pendingLanes,it===0&&(Ri=null),mc(nt.stateNode),Dk(_e,B$2()),et!==null)for(rt=_e.onRecoverableError,nt=0;nt<et.length;nt++)ot=et[nt],rt(ot.value,{componentStack:ot.stack,digest:ot.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),it=_e.pendingLanes,it&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),et=ok.transition,nt=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var rt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$6(331));var ot=K;for(K|=4,V=_e.current;V!==null;){var it=V,ct=it.child;if(V.flags&16){var lt=it.deletions;if(lt!==null){for(var pt=0;pt<lt.length;pt++){var mt=lt[pt];for(V=mt;V!==null;){var Mt=V;switch(Mt.tag){case 0:case 11:case 15:Pj(8,Mt,it)}var bt=Mt.child;if(bt!==null)bt.return=Mt,V=bt;else for(;V!==null;){Mt=V;var At=Mt.sibling,wt=Mt.return;if(Sj(Mt),Mt===mt){V=null;break}if(At!==null){At.return=wt,V=At;break}V=wt}}}var Tt=it.alternate;if(Tt!==null){var Rt=Tt.child;if(Rt!==null){Tt.child=null;do{var Bt=Rt.sibling;Rt.sibling=null,Rt=Bt}while(Rt!==null)}}V=it}}if(it.subtreeFlags&2064&&ct!==null)ct.return=it,V=ct;else e:for(;V!==null;){if(it=V,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Pj(9,it,it.return)}var Vt=it.sibling;if(Vt!==null){Vt.return=it.return,V=Vt;break e}V=it.return}}var $t=_e.current;for(V=$t;V!==null;){ct=V;var Ft=ct.child;if(ct.subtreeFlags&2064&&Ft!==null)Ft.return=ct,V=Ft;else e:for(ct=$t;V!==null;){if(lt=V,lt.flags&2048)try{switch(lt.tag){case 0:case 11:case 15:Qj(9,lt)}}catch(Qt){W$1(lt,lt.return,Qt)}if(lt===ct){V=null;break e}var Ht=lt.sibling;if(Ht!==null){Ht.return=lt.return,V=Ht;break e}V=lt.return}}if(K=ot,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}rt=!0}return rt}finally{C$1=nt,ok.transition=et}}return!1}function Xk(_e,et,nt){et=Ji(nt,et),et=Ni(_e,et,1),_e=nh(_e,et,1),et=R$2(),_e!==null&&(Ac(_e,1,et),Dk(_e,et))}function W$1(_e,et,nt){if(_e.tag===3)Xk(_e,_e,nt);else for(;et!==null;){if(et.tag===3){Xk(et,_e,nt);break}else if(et.tag===1){var rt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Ri===null||!Ri.has(rt))){_e=Ji(nt,_e),_e=Qi(et,_e,1),et=nh(et,_e,1),_e=R$2(),et!==null&&(Ac(et,1,_e),Dk(et,_e));break}}et=et.return}}function Ti(_e,et,nt){var rt=_e.pingCache;rt!==null&&rt.delete(et),et=R$2(),_e.pingedLanes|=_e.suspendedLanes&nt,Q$2===_e&&(Z$1&nt)===nt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(_e,0):rk|=nt),Dk(_e,et)}function Yk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var nt=R$2();_e=ih(_e,et),_e!==null&&(Ac(_e,et,nt),Dk(_e,nt))}function uj(_e){var et=_e.memoizedState,nt=0;et!==null&&(nt=et.retryLane),Yk(_e,nt)}function bk(_e,et){var nt=0;switch(_e.tag){case 13:var rt=_e.stateNode,ot=_e.memoizedState;ot!==null&&(nt=ot.retryLane);break;case 19:rt=_e.stateNode;break;default:throw Error(p$6(314))}rt!==null&&rt.delete(et),Yk(_e,nt)}var Vk;Vk=function(_e,et,nt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&nt)&&!(et.flags&128))return dh=!1,yj(_e,et,nt);dh=!!(_e.flags&131072)}else dh=!1,I$2&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var rt=et.type;ij(_e,et),_e=et.pendingProps;var ot=Yf(et,H$2.current);ch(et,nt),ot=Nh(null,et,rt,_e,ot,nt);var it=Sh();return et.flags|=1,typeof ot=="object"&&ot!==null&&typeof ot.render=="function"&&ot.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(rt)?(it=!0,cg(et)):it=!1,et.memoizedState=ot.state!==null&&ot.state!==void 0?ot.state:null,kh(et),ot.updater=Ei,et.stateNode=ot,ot._reactInternals=et,Ii(et,rt,_e,nt),et=jj(null,et,rt,!0,it,nt)):(et.tag=0,I$2&&it&&vg(et),Xi(null,et,ot,nt),et=et.child),et;case 16:rt=et.elementType;e:{switch(ij(_e,et),_e=et.pendingProps,ot=rt._init,rt=ot(rt._payload),et.type=rt,ot=et.tag=Zk(rt),_e=Ci(rt,_e),ot){case 0:et=cj(null,et,rt,_e,nt);break e;case 1:et=hj(null,et,rt,_e,nt);break e;case 11:et=Yi(null,et,rt,_e,nt);break e;case 14:et=$i(null,et,rt,Ci(rt.type,_e),nt);break e}throw Error(p$6(306,rt,""))}return et;case 0:return rt=et.type,ot=et.pendingProps,ot=et.elementType===rt?ot:Ci(rt,ot),cj(_e,et,rt,ot,nt);case 1:return rt=et.type,ot=et.pendingProps,ot=et.elementType===rt?ot:Ci(rt,ot),hj(_e,et,rt,ot,nt);case 3:e:{if(kj(et),_e===null)throw Error(p$6(387));rt=et.pendingProps,it=et.memoizedState,ot=it.element,lh(_e,et),qh(et,rt,null,nt);var ct=et.memoizedState;if(rt=ct.element,it.isDehydrated)if(it={element:rt,isDehydrated:!1,cache:ct.cache,pendingSuspenseBoundaries:ct.pendingSuspenseBoundaries,transitions:ct.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){ot=Ji(Error(p$6(423)),et),et=lj(_e,et,rt,nt,ot);break e}else if(rt!==ot){ot=Ji(Error(p$6(424)),et),et=lj(_e,et,rt,nt,ot);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$2=!0,zg=null,nt=Vg(et,null,rt,nt),et.child=nt;nt;)nt.flags=nt.flags&-3|4096,nt=nt.sibling;else{if(Ig(),rt===ot){et=Zi(_e,et,nt);break e}Xi(_e,et,rt,nt)}et=et.child}return et;case 5:return Ah(et),_e===null&&Eg(et),rt=et.type,ot=et.pendingProps,it=_e!==null?_e.memoizedProps:null,ct=ot.children,Ef(rt,ot)?ct=null:it!==null&&Ef(rt,it)&&(et.flags|=32),gj(_e,et),Xi(_e,et,ct,nt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return oj(_e,et,nt);case 4:return yh(et,et.stateNode.containerInfo),rt=et.pendingProps,_e===null?et.child=Ug(et,null,rt,nt):Xi(_e,et,rt,nt),et.child;case 11:return rt=et.type,ot=et.pendingProps,ot=et.elementType===rt?ot:Ci(rt,ot),Yi(_e,et,rt,ot,nt);case 7:return Xi(_e,et,et.pendingProps,nt),et.child;case 8:return Xi(_e,et,et.pendingProps.children,nt),et.child;case 12:return Xi(_e,et,et.pendingProps.children,nt),et.child;case 10:e:{if(rt=et.type._context,ot=et.pendingProps,it=et.memoizedProps,ct=ot.value,G$1(Wg,rt._currentValue),rt._currentValue=ct,it!==null)if(He(it.value,ct)){if(it.children===ot.children&&!Wf.current){et=Zi(_e,et,nt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var lt=it.dependencies;if(lt!==null){ct=it.child;for(var pt=lt.firstContext;pt!==null;){if(pt.context===rt){if(it.tag===1){pt=mh(-1,nt&-nt),pt.tag=2;var mt=it.updateQueue;if(mt!==null){mt=mt.shared;var Mt=mt.pending;Mt===null?pt.next=pt:(pt.next=Mt.next,Mt.next=pt),mt.pending=pt}}it.lanes|=nt,pt=it.alternate,pt!==null&&(pt.lanes|=nt),bh(it.return,nt,et),lt.lanes|=nt;break}pt=pt.next}}else if(it.tag===10)ct=it.type===et.type?null:it.child;else if(it.tag===18){if(ct=it.return,ct===null)throw Error(p$6(341));ct.lanes|=nt,lt=ct.alternate,lt!==null&&(lt.lanes|=nt),bh(ct,nt,et),ct=it.sibling}else ct=it.child;if(ct!==null)ct.return=it;else for(ct=it;ct!==null;){if(ct===et){ct=null;break}if(it=ct.sibling,it!==null){it.return=ct.return,ct=it;break}ct=ct.return}it=ct}Xi(_e,et,ot.children,nt),et=et.child}return et;case 9:return ot=et.type,rt=et.pendingProps.children,ch(et,nt),ot=eh(ot),rt=rt(ot),et.flags|=1,Xi(_e,et,rt,nt),et.child;case 14:return rt=et.type,ot=Ci(rt,et.pendingProps),ot=Ci(rt.type,ot),$i(_e,et,rt,ot,nt);case 15:return bj(_e,et,et.type,et.pendingProps,nt);case 17:return rt=et.type,ot=et.pendingProps,ot=et.elementType===rt?ot:Ci(rt,ot),ij(_e,et),et.tag=1,Zf(rt)?(_e=!0,cg(et)):_e=!1,ch(et,nt),Gi(et,rt,ot),Ii(et,rt,ot,nt),jj(null,et,rt,!0,_e,nt);case 19:return xj(_e,et,nt);case 22:return dj(_e,et,nt)}throw Error(p$6(156,et.tag))};function Fk(_e,et){return ac(_e,et)}function $k(_e,et,nt,rt){this.tag=_e,this.key=nt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,nt,rt){return new $k(_e,et,nt,rt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,et){var nt=_e.alternate;return nt===null?(nt=Bg(_e.tag,et,_e.key,_e.mode),nt.elementType=_e.elementType,nt.type=_e.type,nt.stateNode=_e.stateNode,nt.alternate=_e,_e.alternate=nt):(nt.pendingProps=et,nt.type=_e.type,nt.flags=0,nt.subtreeFlags=0,nt.deletions=null),nt.flags=_e.flags&14680064,nt.childLanes=_e.childLanes,nt.lanes=_e.lanes,nt.child=_e.child,nt.memoizedProps=_e.memoizedProps,nt.memoizedState=_e.memoizedState,nt.updateQueue=_e.updateQueue,et=_e.dependencies,nt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},nt.sibling=_e.sibling,nt.index=_e.index,nt.ref=_e.ref,nt}function Rg(_e,et,nt,rt,ot,it){var ct=2;if(rt=_e,typeof _e=="function")aj(_e)&&(ct=1);else if(typeof _e=="string")ct=5;else e:switch(_e){case ya:return Tg(nt.children,ot,it,et);case za:ct=8,ot|=8;break;case Aa:return _e=Bg(12,nt,et,ot|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,nt,et,ot),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,nt,et,ot),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return pj(nt,ot,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ct=10;break e;case Ca:ct=9;break e;case Da:ct=11;break e;case Ga:ct=14;break e;case Ha:ct=16,rt=null;break e}throw Error(p$6(130,_e==null?_e:typeof _e,""))}return et=Bg(ct,nt,et,ot),et.elementType=_e,et.type=rt,et.lanes=it,et}function Tg(_e,et,nt,rt){return _e=Bg(7,_e,rt,et),_e.lanes=nt,_e}function pj(_e,et,nt,rt){return _e=Bg(22,_e,rt,et),_e.elementType=Ia,_e.lanes=nt,_e.stateNode={isHidden:!1},_e}function Qg(_e,et,nt){return _e=Bg(6,_e,null,et),_e.lanes=nt,_e}function Sg(_e,et,nt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=nt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function al(_e,et,nt,rt,ot){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=ot,this.mutableSourceEagerHydrationData=null}function bl(_e,et,nt,rt,ot,it,ct,lt,pt){return _e=new al(_e,et,nt,lt,pt),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:rt,isDehydrated:nt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(it),_e}function cl(_e,et,nt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:_e,containerInfo:et,implementation:nt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$6(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$6(171))}if(_e.tag===1){var nt=_e.type;if(Zf(nt))return bg(_e,nt,et)}return et}function el(_e,et,nt,rt,ot,it,ct,lt,pt){return _e=bl(nt,rt,!0,_e,ot,it,ct,lt,pt),_e.context=dl(null),nt=_e.current,rt=R$2(),ot=yi(nt),it=mh(rt,ot),it.callback=et??null,nh(nt,it,ot),_e.current.lanes=ot,Ac(_e,ot,rt),Dk(_e,rt),_e}function fl(_e,et,nt,rt){var ot=et.current,it=R$2(),ct=yi(ot);return nt=dl(nt),et.context===null?et.context=nt:et.pendingContext=nt,et=mh(it,ct),et.payload={element:_e},rt=rt===void 0?null:rt,rt!==null&&(et.callback=rt),_e=nh(ot,et,ct),_e!==null&&(gi(_e,ot,ct,it),oh(_e,ot,ct)),ct}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var nt=_e.retryLane;_e.retryLane=nt!==0&&nt<et?nt:et}}function il(_e,et){hl(_e,et),(_e=_e.alternate)&&hl(_e,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$6(409));fl(_e,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),et[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var nt=0;nt<Qc.length&&et!==0&&et<Qc[nt].priority;nt++);Qc.splice(nt,0,_e),nt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,et,nt,rt,ot){if(ot){if(typeof rt=="function"){var it=rt;rt=function(){var mt=gl(ct);it.call(mt)}}var ct=el(et,rt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=ct,_e[uf]=ct.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),ct}for(;ot=_e.lastChild;)_e.removeChild(ot);if(typeof rt=="function"){var lt=rt;rt=function(){var mt=gl(pt);lt.call(mt)}}var pt=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=pt,_e[uf]=pt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(et,pt,nt,rt)}),pt}function rl(_e,et,nt,rt,ot){var it=nt._reactRootContainer;if(it){var ct=it;if(typeof ot=="function"){var lt=ot;ot=function(){var pt=gl(ct);lt.call(pt)}}fl(et,ct,_e,ot)}else ct=ql(nt,et,_e,ot,rt);return gl(ct)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var nt=tc(et.pendingLanes);nt!==0&&(Cc(et,nt|1),Dk(et,B$2()),!(K&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var rt=ih(_e,1);if(rt!==null){var ot=R$2();gi(rt,_e,1,ot)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=ih(_e,134217728);if(et!==null){var nt=R$2();gi(et,_e,134217728,nt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=yi(_e),nt=ih(_e,et);if(nt!==null){var rt=R$2();gi(nt,_e,et,rt)}il(_e,et)}};Hc=function(){return C$1};Ic=function(_e,et){var nt=C$1;try{return C$1=_e,et()}finally{C$1=nt}};yb=function(_e,et,nt){switch(et){case"input":if(bb(_e,nt),et=nt.name,nt.type==="radio"&&et!=null){for(nt=_e;nt.parentNode;)nt=nt.parentNode;for(nt=nt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<nt.length;et++){var rt=nt[et];if(rt!==_e&&rt.form===_e.form){var ot=Db(rt);if(!ot)throw Error(p$6(90));Wa(rt),bb(rt,ot)}}}break;case"textarea":ib(_e,nt);break;case"select":et=nt.value,et!=null&&fb(_e,!!nt.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,et){var nt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$6(200));return cl(_e,et,null,nt)};reactDom_production_min.createRoot=function(_e,et){if(!nl(_e))throw Error(p$6(299));var nt=!1,rt="",ot=kl;return et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),et=bl(_e,1,!1,null,null,nt,!1,rt,ot),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$6(188)):(_e=Object.keys(_e).join(","),Error(p$6(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,et,nt){if(!ol(et))throw Error(p$6(200));return rl(null,_e,et,!0,nt)};reactDom_production_min.hydrateRoot=function(_e,et,nt){if(!nl(_e))throw Error(p$6(405));var rt=nt!=null&&nt.hydratedSources||null,ot=!1,it="",ct=kl;if(nt!=null&&(nt.unstable_strictMode===!0&&(ot=!0),nt.identifierPrefix!==void 0&&(it=nt.identifierPrefix),nt.onRecoverableError!==void 0&&(ct=nt.onRecoverableError)),et=el(et,null,_e,1,nt??null,ot,!1,it,ct),_e[uf]=et.current,sf(_e),rt)for(_e=0;_e<rt.length;_e++)nt=rt[_e],ot=nt._getVersion,ot=ot(nt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[nt,ot]:et.mutableSourceEagerHydrationData.push(nt,ot);return new ml(et)};reactDom_production_min.render=function(_e,et,nt){if(!ol(et))throw Error(p$6(200));return rl(null,_e,et,!1,nt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$6(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,nt,rt){if(!ol(nt))throw Error(p$6(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$6(38));return rl(_e,et,nt,!1,rt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);function defaultNoopBatch(_e){_e()}let batch=defaultNoopBatch;const setBatch=_e=>batch=_e,getBatch=()=>batch,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){var _e;if(!reactExports.createContext)return{};const et=(_e=gT[ContextKey])!=null?_e:gT[ContextKey]=new Map;let nt=et.get(reactExports.createContext);return nt||(nt=reactExports.createContext(null),et.set(reactExports.createContext,nt)),nt}const ReactReduxContext=getContext();function createReduxContextHook(_e=ReactReduxContext){return function(){return reactExports.useContext(_e)}}const useReduxContext=createReduxContextHook(),notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector$1=notInitialized;const initializeUseSelector=_e=>{useSyncExternalStoreWithSelector$1=_e},refEquality=(_e,et)=>_e===et;function createSelectorHook(_e=ReactReduxContext){const et=_e===ReactReduxContext?useReduxContext:createReduxContextHook(_e);return function(rt,ot={}){const{equalityFn:it=refEquality,stabilityCheck:ct=void 0,noopCheck:lt=void 0}=typeof ot=="function"?{equalityFn:ot}:ot,{store:pt,subscription:mt,getServerState:Mt,stabilityCheck:bt,noopCheck:At}=et();reactExports.useRef(!0);const wt=reactExports.useCallback({[rt.name](Rt){return rt(Rt)}}[rt.name],[rt,bt,ct]),Tt=useSyncExternalStoreWithSelector$1(mt.addNestedSub,pt.getState,Mt||pt.getState,wt,it);return reactExports.useDebugValue(Tt),Tt}}const useSelector=createSelectorHook();function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)({}).hasOwnProperty.call(nt,rt)&&(_e[rt]=nt[rt])}return _e},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$2(_e,et){if(_e==null)return{};var nt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.includes(rt))continue;nt[rt]=_e[rt]}return nt}var reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$3=b$3?Symbol.for("react.element"):60103,d$3=b$3?Symbol.for("react.portal"):60106,e$2=b$3?Symbol.for("react.fragment"):60107,f$3=b$3?Symbol.for("react.strict_mode"):60108,g$3=b$3?Symbol.for("react.profiler"):60114,h$5=b$3?Symbol.for("react.provider"):60109,k$4=b$3?Symbol.for("react.context"):60110,l$3=b$3?Symbol.for("react.async_mode"):60111,m$5=b$3?Symbol.for("react.concurrent_mode"):60111,n$5=b$3?Symbol.for("react.forward_ref"):60112,p$5=b$3?Symbol.for("react.suspense"):60113,q$5=b$3?Symbol.for("react.suspense_list"):60120,r$5=b$3?Symbol.for("react.memo"):60115,t$5=b$3?Symbol.for("react.lazy"):60116,v$4=b$3?Symbol.for("react.block"):60121,w$3=b$3?Symbol.for("react.fundamental"):60117,x$2=b$3?Symbol.for("react.responder"):60118,y$2=b$3?Symbol.for("react.scope"):60119;function z$2(_e){if(typeof _e=="object"&&_e!==null){var et=_e.$$typeof;switch(et){case c$3:switch(_e=_e.type,_e){case l$3:case m$5:case e$2:case g$3:case f$3:case p$5:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$4:case n$5:case t$5:case r$5:case h$5:return _e;default:return et}}case d$3:return et}}}function A$2(_e){return z$2(_e)===m$5}reactIs_production_min$1.AsyncMode=l$3;reactIs_production_min$1.ConcurrentMode=m$5;reactIs_production_min$1.ContextConsumer=k$4;reactIs_production_min$1.ContextProvider=h$5;reactIs_production_min$1.Element=c$3;reactIs_production_min$1.ForwardRef=n$5;reactIs_production_min$1.Fragment=e$2;reactIs_production_min$1.Lazy=t$5;reactIs_production_min$1.Memo=r$5;reactIs_production_min$1.Portal=d$3;reactIs_production_min$1.Profiler=g$3;reactIs_production_min$1.StrictMode=f$3;reactIs_production_min$1.Suspense=p$5;reactIs_production_min$1.isAsyncMode=function(_e){return A$2(_e)||z$2(_e)===l$3};reactIs_production_min$1.isConcurrentMode=A$2;reactIs_production_min$1.isContextConsumer=function(_e){return z$2(_e)===k$4};reactIs_production_min$1.isContextProvider=function(_e){return z$2(_e)===h$5};reactIs_production_min$1.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$3};reactIs_production_min$1.isForwardRef=function(_e){return z$2(_e)===n$5};reactIs_production_min$1.isFragment=function(_e){return z$2(_e)===e$2};reactIs_production_min$1.isLazy=function(_e){return z$2(_e)===t$5};reactIs_production_min$1.isMemo=function(_e){return z$2(_e)===r$5};reactIs_production_min$1.isPortal=function(_e){return z$2(_e)===d$3};reactIs_production_min$1.isProfiler=function(_e){return z$2(_e)===g$3};reactIs_production_min$1.isStrictMode=function(_e){return z$2(_e)===f$3};reactIs_production_min$1.isSuspense=function(_e){return z$2(_e)===p$5};reactIs_production_min$1.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$2||_e===m$5||_e===g$3||_e===f$3||_e===p$5||_e===q$5||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$5||_e.$$typeof===r$5||_e.$$typeof===h$5||_e.$$typeof===k$4||_e.$$typeof===n$5||_e.$$typeof===w$3||_e.$$typeof===x$2||_e.$$typeof===y$2||_e.$$typeof===v$4)};reactIs_production_min$1.typeOf=z$2;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$2=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$4=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$2=Symbol.for("react.forward_ref"),m$4=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$4=Symbol.for("react.memo"),q$4=Symbol.for("react.lazy"),t$4=Symbol.for("react.offscreen"),u$4;u$4=Symbol.for("react.module.reference");function v$3(_e){if(typeof _e=="object"&&_e!==null){var et=_e.$$typeof;switch(et){case b$2:switch(_e=_e.type,_e){case d$2:case f$2:case e$1:case m$4:case n$4:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$3:case h$4:case l$2:case q$4:case p$4:case g$2:return _e;default:return et}}case c$2:return et}}}reactIs_production_min.ContextConsumer=h$4;reactIs_production_min.ContextProvider=g$2;reactIs_production_min.Element=b$2;reactIs_production_min.ForwardRef=l$2;reactIs_production_min.Fragment=d$2;reactIs_production_min.Lazy=q$4;reactIs_production_min.Memo=p$4;reactIs_production_min.Portal=c$2;reactIs_production_min.Profiler=f$2;reactIs_production_min.StrictMode=e$1;reactIs_production_min.Suspense=m$4;reactIs_production_min.SuspenseList=n$4;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_e){return v$3(_e)===h$4};reactIs_production_min.isContextProvider=function(_e){return v$3(_e)===g$2};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b$2};reactIs_production_min.isForwardRef=function(_e){return v$3(_e)===l$2};reactIs_production_min.isFragment=function(_e){return v$3(_e)===d$2};reactIs_production_min.isLazy=function(_e){return v$3(_e)===q$4};reactIs_production_min.isMemo=function(_e){return v$3(_e)===p$4};reactIs_production_min.isPortal=function(_e){return v$3(_e)===c$2};reactIs_production_min.isProfiler=function(_e){return v$3(_e)===f$2};reactIs_production_min.isStrictMode=function(_e){return v$3(_e)===e$1};reactIs_production_min.isSuspense=function(_e){return v$3(_e)===m$4};reactIs_production_min.isSuspenseList=function(_e){return v$3(_e)===n$4};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d$2||_e===f$2||_e===e$1||_e===m$4||_e===n$4||_e===t$4||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q$4||_e.$$typeof===p$4||_e.$$typeof===g$2||_e.$$typeof===h$4||_e.$$typeof===l$2||_e.$$typeof===u$4||_e.getModuleId!==void 0)};reactIs_production_min.typeOf=v$3;function createListenerCollection(){const _e=getBatch();let et=null,nt=null;return{clear(){et=null,nt=null},notify(){_e(()=>{let rt=et;for(;rt;)rt.callback(),rt=rt.next})},get(){let rt=[],ot=et;for(;ot;)rt.push(ot),ot=ot.next;return rt},subscribe(rt){let ot=!0,it=nt={callback:rt,next:null,prev:nt};return it.prev?it.prev.next=it:et=it,function(){!ot||et===null||(ot=!1,it.next?it.next.prev=it.prev:nt=it.prev,it.prev?it.prev.next=it.next:et=it.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(_e,et){let nt,rt=nullListeners,ot=0,it=!1;function ct(Rt){Mt();const Bt=rt.subscribe(Rt);let Vt=!1;return()=>{Vt||(Vt=!0,Bt(),bt())}}function lt(){rt.notify()}function pt(){Tt.onStateChange&&Tt.onStateChange()}function mt(){return it}function Mt(){ot++,nt||(nt=_e.subscribe(pt),rt=createListenerCollection())}function bt(){ot--,nt&&ot===0&&(nt(),nt=void 0,rt.clear(),rt=nullListeners)}function At(){it||(it=!0,Mt())}function wt(){it&&(it=!1,bt())}const Tt={addNestedSub:ct,notifyNestedSubs:lt,handleChangeWrapper:pt,isSubscribed:mt,trySubscribe:At,tryUnsubscribe:wt,getListeners:()=>rt};return Tt}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$2=canUseDOM$1?reactExports.useLayoutEffect:reactExports.useEffect;function Provider({store:_e,context:et,children:nt,serverState:rt,stabilityCheck:ot="once",noopCheck:it="once"}){const ct=reactExports.useMemo(()=>{const mt=createSubscription(_e);return{store:_e,subscription:mt,getServerState:rt?()=>rt:void 0,stabilityCheck:ot,noopCheck:it}},[_e,rt,ot,it]),lt=reactExports.useMemo(()=>_e.getState(),[_e]);useIsomorphicLayoutEffect$2(()=>{const{subscription:mt}=ct;return mt.onStateChange=mt.notifyNestedSubs,mt.trySubscribe(),lt!==_e.getState()&&mt.notifyNestedSubs(),()=>{mt.tryUnsubscribe(),mt.onStateChange=void 0}},[ct,lt]);const pt=et||ReactReduxContext;return reactExports.createElement(pt.Provider,{value:ct},nt)}function createStoreHook(_e=ReactReduxContext){const et=_e===ReactReduxContext?useReduxContext:createReduxContextHook(_e);return function(){const{store:rt}=et();return rt}}const useStore$1=createStoreHook();function createDispatchHook(_e=ReactReduxContext){const et=_e===ReactReduxContext?useStore$1:createStoreHook(_e);return function(){return et().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports$1.useSyncExternalStoreWithSelector);setBatch(reactDomExports.unstable_batchedUpdates);function _setPrototypeOf$1(_e,et){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,rt){return nt.__proto__=rt,nt},_setPrototypeOf$1(_e,et)}function _inheritsLoose$1(_e,et){_e.prototype=Object.create(et.prototype),_e.prototype.constructor=_e,_setPrototypeOf$1(_e,et)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(rt,ot,it,ct,lt,pt){if(pt!==ReactPropTypesSecret){var mt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw mt.name="Invariant Violation",mt}}_e.isRequired=_e;function et(){return _e}var nt={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:et,element:_e,elementType:_e,instanceOf:et,node:_e,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return nt.PropTypes=nt,nt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function isAbsolute(_e){return _e.charAt(0)==="/"}function spliceOne(_e,et){for(var nt=et,rt=nt+1,ot=_e.length;rt<ot;nt+=1,rt+=1)_e[nt]=_e[rt];_e.pop()}function resolvePathname(_e,et){et===void 0&&(et="");var nt=_e&&_e.split("/")||[],rt=et&&et.split("/")||[],ot=_e&&isAbsolute(_e),it=et&&isAbsolute(et),ct=ot||it;if(_e&&isAbsolute(_e)?rt=nt:nt.length&&(rt.pop(),rt=rt.concat(nt)),!rt.length)return"/";var lt;if(rt.length){var pt=rt[rt.length-1];lt=pt==="."||pt===".."||pt===""}else lt=!1;for(var mt=0,Mt=rt.length;Mt>=0;Mt--){var bt=rt[Mt];bt==="."?spliceOne(rt,Mt):bt===".."?(spliceOne(rt,Mt),mt++):mt&&(spliceOne(rt,Mt),mt--)}if(!ct)for(;mt--;mt)rt.unshift("..");ct&&rt[0]!==""&&(!rt[0]||!isAbsolute(rt[0]))&&rt.unshift("");var At=rt.join("/");return lt&&At.substr(-1)!=="/"&&(At+="/"),At}function valueOf(_e){return _e.valueOf?_e.valueOf():Object.prototype.valueOf.call(_e)}function valueEqual(_e,et){if(_e===et)return!0;if(_e==null||et==null)return!1;if(Array.isArray(_e))return Array.isArray(et)&&_e.length===et.length&&_e.every(function(ot,it){return valueEqual(ot,et[it])});if(typeof _e=="object"||typeof et=="object"){var nt=valueOf(_e),rt=valueOf(et);return nt!==_e||rt!==et?valueEqual(nt,rt):Object.keys(Object.assign({},_e,et)).every(function(ot){return valueEqual(_e[ot],et[ot])})}return!1}var prefix$1="Invariant failed";function invariant(_e,et){throw new Error(prefix$1)}function addLeadingSlash$1(_e){return _e.charAt(0)==="/"?_e:"/"+_e}function stripLeadingSlash(_e){return _e.charAt(0)==="/"?_e.substr(1):_e}function hasBasename(_e,et){return _e.toLowerCase().indexOf(et.toLowerCase())===0&&"/?#".indexOf(_e.charAt(et.length))!==-1}function stripBasename$1(_e,et){return hasBasename(_e,et)?_e.substr(et.length):_e}function stripTrailingSlash(_e){return _e.charAt(_e.length-1)==="/"?_e.slice(0,-1):_e}function parsePath(_e){var et=_e||"/",nt="",rt="",ot=et.indexOf("#");ot!==-1&&(rt=et.substr(ot),et=et.substr(0,ot));var it=et.indexOf("?");return it!==-1&&(nt=et.substr(it),et=et.substr(0,it)),{pathname:et,search:nt==="?"?"":nt,hash:rt==="#"?"":rt}}function createPath(_e){var et=_e.pathname,nt=_e.search,rt=_e.hash,ot=et||"/";return nt&&nt!=="?"&&(ot+=nt.charAt(0)==="?"?nt:"?"+nt),rt&&rt!=="#"&&(ot+=rt.charAt(0)==="#"?rt:"#"+rt),ot}function createLocation(_e,et,nt,rt){var ot;typeof _e=="string"?(ot=parsePath(_e),ot.state=et):(ot=_extends$1({},_e),ot.pathname===void 0&&(ot.pathname=""),ot.search?ot.search.charAt(0)!=="?"&&(ot.search="?"+ot.search):ot.search="",ot.hash?ot.hash.charAt(0)!=="#"&&(ot.hash="#"+ot.hash):ot.hash="",et!==void 0&&ot.state===void 0&&(ot.state=et));try{ot.pathname=decodeURI(ot.pathname)}catch(it){throw it instanceof URIError?new URIError('Pathname "'+ot.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):it}return nt&&(ot.key=nt),rt?ot.pathname?ot.pathname.charAt(0)!=="/"&&(ot.pathname=resolvePathname(ot.pathname,rt.pathname)):ot.pathname=rt.pathname:ot.pathname||(ot.pathname="/"),ot}function locationsAreEqual(_e,et){return _e.pathname===et.pathname&&_e.search===et.search&&_e.hash===et.hash&&_e.key===et.key&&valueEqual(_e.state,et.state)}function createTransitionManager(){var _e=null;function et(ct){return _e=ct,function(){_e===ct&&(_e=null)}}function nt(ct,lt,pt,mt){if(_e!=null){var Mt=typeof _e=="function"?_e(ct,lt):_e;typeof Mt=="string"?typeof pt=="function"?pt(Mt,mt):mt(!0):mt(Mt!==!1)}else mt(!0)}var rt=[];function ot(ct){var lt=!0;function pt(){lt&&ct.apply(void 0,arguments)}return rt.push(pt),function(){lt=!1,rt=rt.filter(function(mt){return mt!==pt})}}function it(){for(var ct=arguments.length,lt=new Array(ct),pt=0;pt<ct;pt++)lt[pt]=arguments[pt];rt.forEach(function(mt){return mt.apply(void 0,lt)})}return{setPrompt:et,confirmTransitionTo:nt,appendListener:ot,notifyListeners:it}}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);function getConfirmation(_e,et){et(window.confirm(_e))}function supportsHistory(){var _e=window.navigator.userAgent;return(_e.indexOf("Android 2.")!==-1||_e.indexOf("Android 4.0")!==-1)&&_e.indexOf("Mobile Safari")!==-1&&_e.indexOf("Chrome")===-1&&_e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1}function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1}function isExtraneousPopstateEvent(_e){return _e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch{return{}}}function createBrowserHistory(_e){_e===void 0&&(_e={}),canUseDOM||invariant();var et=window.history,nt=supportsHistory(),rt=!supportsPopStateOnHashChange(),ot=_e,it=ot.forceRefresh,ct=it===void 0?!1:it,lt=ot.getUserConfirmation,pt=lt===void 0?getConfirmation:lt,mt=ot.keyLength,Mt=mt===void 0?6:mt,bt=_e.basename?stripTrailingSlash(addLeadingSlash$1(_e.basename)):"";function At(Tn){var Un=Tn||{},$n=Un.key,Vn=Un.state,tr=window.location,Jn=tr.pathname,wr=tr.search,jr=tr.hash,Zt=Jn+wr+jr;return bt&&(Zt=stripBasename$1(Zt,bt)),createLocation(Zt,Vn,$n)}function wt(){return Math.random().toString(36).substr(2,Mt)}var Tt=createTransitionManager();function Rt(Tn){_extends$1(Rn,Tn),Rn.length=et.length,Tt.notifyListeners(Rn.location,Rn.action)}function Bt(Tn){isExtraneousPopstateEvent(Tn)||Ft(At(Tn.state))}function Vt(){Ft(At(getHistoryState()))}var $t=!1;function Ft(Tn){if($t)$t=!1,Rt();else{var Un="POP";Tt.confirmTransitionTo(Tn,Un,pt,function($n){$n?Rt({action:Un,location:Tn}):Ht(Tn)})}}function Ht(Tn){var Un=Rn.location,$n=_n.indexOf(Un.key);$n===-1&&($n=0);var Vn=_n.indexOf(Tn.key);Vn===-1&&(Vn=0);var tr=$n-Vn;tr&&($t=!0,Cn(tr))}var Qt=At(getHistoryState()),_n=[Qt.key];function hn(Tn){return bt+createPath(Tn)}function Mn(Tn,Un){var $n="PUSH",Vn=createLocation(Tn,Un,wt(),Rn.location);Tt.confirmTransitionTo(Vn,$n,pt,function(tr){if(tr){var Jn=hn(Vn),wr=Vn.key,jr=Vn.state;if(nt)if(et.pushState({key:wr,state:jr},null,Jn),ct)window.location.href=Jn;else{var Zt=_n.indexOf(Rn.location.key),hr=_n.slice(0,Zt+1);hr.push(Vn.key),_n=hr,Rt({action:$n,location:Vn})}else window.location.href=Jn}})}function kn(Tn,Un){var $n="REPLACE",Vn=createLocation(Tn,Un,wt(),Rn.location);Tt.confirmTransitionTo(Vn,$n,pt,function(tr){if(tr){var Jn=hn(Vn),wr=Vn.key,jr=Vn.state;if(nt)if(et.replaceState({key:wr,state:jr},null,Jn),ct)window.location.replace(Jn);else{var Zt=_n.indexOf(Rn.location.key);Zt!==-1&&(_n[Zt]=Vn.key),Rt({action:$n,location:Vn})}else window.location.replace(Jn)}})}function Cn(Tn){et.go(Tn)}function yn(){Cn(-1)}function Ut(){Cn(1)}var En=0;function vn(Tn){En+=Tn,En===1&&Tn===1?(window.addEventListener(PopStateEvent,Bt),rt&&window.addEventListener(HashChangeEvent,Vt)):En===0&&(window.removeEventListener(PopStateEvent,Bt),rt&&window.removeEventListener(HashChangeEvent,Vt))}var wn=!1;function Ln(Tn){Tn===void 0&&(Tn=!1);var Un=Tt.setPrompt(Tn);return wn||(vn(1),wn=!0),function(){return wn&&(wn=!1,vn(-1)),Un()}}function Kn(Tn){var Un=Tt.appendListener(Tn);return vn(1),function(){vn(-1),Un()}}var Rn={length:et.length,action:"POP",location:Qt,createHref:hn,push:Mn,replace:kn,go:Cn,goBack:yn,goForward:Ut,block:Ln,listen:Kn};return Rn}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(et){return et.charAt(0)==="!"?et:"!/"+stripLeadingSlash(et)},decodePath:function(et){return et.charAt(0)==="!"?et.substr(1):et}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash$1},slash:{encodePath:addLeadingSlash$1,decodePath:addLeadingSlash$1}};function stripHash(_e){var et=_e.indexOf("#");return et===-1?_e:_e.slice(0,et)}function getHashPath(){var _e=window.location.href,et=_e.indexOf("#");return et===-1?"":_e.substring(et+1)}function pushHashPath(_e){window.location.hash=_e}function replaceHashPath(_e){window.location.replace(stripHash(window.location.href)+"#"+_e)}function createHashHistory(_e){_e===void 0&&(_e={}),canUseDOM||invariant();var et=window.history;supportsGoWithoutReloadUsingHash();var nt=_e,rt=nt.getUserConfirmation,ot=rt===void 0?getConfirmation:rt,it=nt.hashType,ct=it===void 0?"slash":it,lt=_e.basename?stripTrailingSlash(addLeadingSlash$1(_e.basename)):"",pt=HashPathCoders[ct],mt=pt.encodePath,Mt=pt.decodePath;function bt(){var Un=Mt(getHashPath());return lt&&(Un=stripBasename$1(Un,lt)),createLocation(Un)}var At=createTransitionManager();function wt(Un){_extends$1(Tn,Un),Tn.length=et.length,At.notifyListeners(Tn.location,Tn.action)}var Tt=!1,Rt=null;function Bt(Un,$n){return Un.pathname===$n.pathname&&Un.search===$n.search&&Un.hash===$n.hash}function Vt(){var Un=getHashPath(),$n=mt(Un);if(Un!==$n)replaceHashPath($n);else{var Vn=bt(),tr=Tn.location;if(!Tt&&Bt(tr,Vn)||Rt===createPath(Vn))return;Rt=null,$t(Vn)}}function $t(Un){if(Tt)Tt=!1,wt();else{var $n="POP";At.confirmTransitionTo(Un,$n,ot,function(Vn){Vn?wt({action:$n,location:Un}):Ft(Un)})}}function Ft(Un){var $n=Tn.location,Vn=hn.lastIndexOf(createPath($n));Vn===-1&&(Vn=0);var tr=hn.lastIndexOf(createPath(Un));tr===-1&&(tr=0);var Jn=Vn-tr;Jn&&(Tt=!0,yn(Jn))}var Ht=getHashPath(),Qt=mt(Ht);Ht!==Qt&&replaceHashPath(Qt);var _n=bt(),hn=[createPath(_n)];function Mn(Un){var $n=document.querySelector("base"),Vn="";return $n&&$n.getAttribute("href")&&(Vn=stripHash(window.location.href)),Vn+"#"+mt(lt+createPath(Un))}function kn(Un,$n){var Vn="PUSH",tr=createLocation(Un,void 0,void 0,Tn.location);At.confirmTransitionTo(tr,Vn,ot,function(Jn){if(Jn){var wr=createPath(tr),jr=mt(lt+wr),Zt=getHashPath()!==jr;if(Zt){Rt=wr,pushHashPath(jr);var hr=hn.lastIndexOf(createPath(Tn.location)),lo=hn.slice(0,hr+1);lo.push(wr),hn=lo,wt({action:Vn,location:tr})}else wt()}})}function Cn(Un,$n){var Vn="REPLACE",tr=createLocation(Un,void 0,void 0,Tn.location);At.confirmTransitionTo(tr,Vn,ot,function(Jn){if(Jn){var wr=createPath(tr),jr=mt(lt+wr),Zt=getHashPath()!==jr;Zt&&(Rt=wr,replaceHashPath(jr));var hr=hn.indexOf(createPath(Tn.location));hr!==-1&&(hn[hr]=wr),wt({action:Vn,location:tr})}})}function yn(Un){et.go(Un)}function Ut(){yn(-1)}function En(){yn(1)}var vn=0;function wn(Un){vn+=Un,vn===1&&Un===1?window.addEventListener(HashChangeEvent$1,Vt):vn===0&&window.removeEventListener(HashChangeEvent$1,Vt)}var Ln=!1;function Kn(Un){Un===void 0&&(Un=!1);var $n=At.setPrompt(Un);return Ln||(wn(1),Ln=!0),function(){return Ln&&(Ln=!1,wn(-1)),$n()}}function Rn(Un){var $n=At.appendListener(Un);return wn(1),function(){wn(-1),$n()}}var Tn={length:et.length,action:"POP",location:_n,createHref:Mn,push:kn,replace:Cn,go:yn,goBack:Ut,goForward:En,block:Kn,listen:Rn};return Tn}function clamp$2(_e,et,nt){return Math.min(Math.max(_e,et),nt)}function createMemoryHistory(_e){_e===void 0&&(_e={});var et=_e,nt=et.getUserConfirmation,rt=et.initialEntries,ot=rt===void 0?["/"]:rt,it=et.initialIndex,ct=it===void 0?0:it,lt=et.keyLength,pt=lt===void 0?6:lt,mt=createTransitionManager();function Mt(Mn){_extends$1(hn,Mn),hn.length=hn.entries.length,mt.notifyListeners(hn.location,hn.action)}function bt(){return Math.random().toString(36).substr(2,pt)}var At=clamp$2(ct,0,ot.length-1),wt=ot.map(function(Mn){return typeof Mn=="string"?createLocation(Mn,void 0,bt()):createLocation(Mn,void 0,Mn.key||bt())}),Tt=createPath;function Rt(Mn,kn){var Cn="PUSH",yn=createLocation(Mn,kn,bt(),hn.location);mt.confirmTransitionTo(yn,Cn,nt,function(Ut){if(Ut){var En=hn.index,vn=En+1,wn=hn.entries.slice(0);wn.length>vn?wn.splice(vn,wn.length-vn,yn):wn.push(yn),Mt({action:Cn,location:yn,index:vn,entries:wn})}})}function Bt(Mn,kn){var Cn="REPLACE",yn=createLocation(Mn,kn,bt(),hn.location);mt.confirmTransitionTo(yn,Cn,nt,function(Ut){Ut&&(hn.entries[hn.index]=yn,Mt({action:Cn,location:yn}))})}function Vt(Mn){var kn=clamp$2(hn.index+Mn,0,hn.entries.length-1),Cn="POP",yn=hn.entries[kn];mt.confirmTransitionTo(yn,Cn,nt,function(Ut){Ut?Mt({action:Cn,location:yn,index:kn}):Mt()})}function $t(){Vt(-1)}function Ft(){Vt(1)}function Ht(Mn){var kn=hn.index+Mn;return kn>=0&&kn<hn.entries.length}function Qt(Mn){return Mn===void 0&&(Mn=!1),mt.setPrompt(Mn)}function _n(Mn){return mt.appendListener(Mn)}var hn={length:wt.length,action:"POP",location:wt[At],index:At,entries:wt,createHref:Tt,push:Rt,replace:Bt,go:Vt,goBack:$t,goForward:Ft,canGo:Ht,block:Qt,listen:_n};return hn}var MAX_SIGNED_31_BIT_INT=1073741823,commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function getUniqueId(){var _e="__global_unique_id__";return commonjsGlobal[_e]=(commonjsGlobal[_e]||0)+1}function objectIs(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}function createEventEmitter(_e){var et=[];return{on:function(rt){et.push(rt)},off:function(rt){et=et.filter(function(ot){return ot!==rt})},get:function(){return _e},set:function(rt,ot){_e=rt,et.forEach(function(it){return it(_e,ot)})}}}function onlyChild(_e){return Array.isArray(_e)?_e[0]:_e}function createReactContext(_e,et){var nt,rt,ot="__create-react-context-"+getUniqueId()+"__",it=function(lt){_inheritsLoose$1(pt,lt);function pt(){var Mt;return Mt=lt.apply(this,arguments)||this,Mt.emitter=createEventEmitter(Mt.props.value),Mt}var mt=pt.prototype;return mt.getChildContext=function(){var bt;return bt={},bt[ot]=this.emitter,bt},mt.componentWillReceiveProps=function(bt){if(this.props.value!==bt.value){var At=this.props.value,wt=bt.value,Tt;objectIs(At,wt)?Tt=0:(Tt=typeof et=="function"?et(At,wt):MAX_SIGNED_31_BIT_INT,Tt|=0,Tt!==0&&this.emitter.set(bt.value,Tt))}},mt.render=function(){return this.props.children},pt}(reactExports.Component);it.childContextTypes=(nt={},nt[ot]=PropTypes.object.isRequired,nt);var ct=function(lt){_inheritsLoose$1(pt,lt);function pt(){var Mt;return Mt=lt.apply(this,arguments)||this,Mt.state={value:Mt.getValue()},Mt.onUpdate=function(bt,At){var wt=Mt.observedBits|0;wt&At&&Mt.setState({value:Mt.getValue()})},Mt}var mt=pt.prototype;return mt.componentWillReceiveProps=function(bt){var At=bt.observedBits;this.observedBits=At??MAX_SIGNED_31_BIT_INT},mt.componentDidMount=function(){this.context[ot]&&this.context[ot].on(this.onUpdate);var bt=this.props.observedBits;this.observedBits=bt??MAX_SIGNED_31_BIT_INT},mt.componentWillUnmount=function(){this.context[ot]&&this.context[ot].off(this.onUpdate)},mt.getValue=function(){return this.context[ot]?this.context[ot].get():_e},mt.render=function(){return onlyChild(this.props.children)(this.state.value)},pt}(reactExports.Component);return ct.contextTypes=(rt={},rt[ot]=PropTypes.object,rt),{Provider:it,Consumer:ct}}var index=React.createContext||createReactContext,pathToRegexp$2={exports:{}},isarray$1=Array.isArray||function(_e){return Object.prototype.toString.call(_e)=="[object Array]"},isarray=isarray$1;pathToRegexp$2.exports=pathToRegexp;pathToRegexp$2.exports.parse=parse$1;pathToRegexp$2.exports.compile=compile$1;pathToRegexp$2.exports.tokensToFunction=tokensToFunction;pathToRegexp$2.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse$1(_e,et){for(var nt=[],rt=0,ot=0,it="",ct=et&&et.delimiter||"/",lt;(lt=PATH_REGEXP.exec(_e))!=null;){var pt=lt[0],mt=lt[1],Mt=lt.index;if(it+=_e.slice(ot,Mt),ot=Mt+pt.length,mt){it+=mt[1];continue}var bt=_e[ot],At=lt[2],wt=lt[3],Tt=lt[4],Rt=lt[5],Bt=lt[6],Vt=lt[7];it&&(nt.push(it),it="");var $t=At!=null&&bt!=null&&bt!==At,Ft=Bt==="+"||Bt==="*",Ht=Bt==="?"||Bt==="*",Qt=At||ct,_n=Tt||Rt,hn=At||(typeof nt[nt.length-1]=="string"?nt[nt.length-1]:"");nt.push({name:wt||rt++,prefix:At||"",delimiter:Qt,optional:Ht,repeat:Ft,partial:$t,asterisk:!!Vt,pattern:_n?escapeGroup(_n):Vt?".*":restrictBacktrack(Qt,hn)})}return ot<_e.length&&(it+=_e.substr(ot)),it&&nt.push(it),nt}function restrictBacktrack(_e,et){return!et||et.indexOf(_e)>-1?"[^"+escapeString(_e)+"]+?":escapeString(et)+"|(?:(?!"+escapeString(et)+")[^"+escapeString(_e)+"])+?"}function compile$1(_e,et){return tokensToFunction(parse$1(_e,et),et)}function encodeURIComponentPretty(_e){return encodeURI(_e).replace(/[\/?#]/g,function(et){return"%"+et.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(_e){return encodeURI(_e).replace(/[?#]/g,function(et){return"%"+et.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(_e,et){for(var nt=new Array(_e.length),rt=0;rt<_e.length;rt++)typeof _e[rt]=="object"&&(nt[rt]=new RegExp("^(?:"+_e[rt].pattern+")$",flags(et)));return function(ot,it){for(var ct="",lt=ot||{},pt=it||{},mt=pt.pretty?encodeURIComponentPretty:encodeURIComponent,Mt=0;Mt<_e.length;Mt++){var bt=_e[Mt];if(typeof bt=="string"){ct+=bt;continue}var At=lt[bt.name],wt;if(At==null)if(bt.optional){bt.partial&&(ct+=bt.prefix);continue}else throw new TypeError('Expected "'+bt.name+'" to be defined');if(isarray(At)){if(!bt.repeat)throw new TypeError('Expected "'+bt.name+'" to not repeat, but received `'+JSON.stringify(At)+"`");if(At.length===0){if(bt.optional)continue;throw new TypeError('Expected "'+bt.name+'" to not be empty')}for(var Tt=0;Tt<At.length;Tt++){if(wt=mt(At[Tt]),!nt[Mt].test(wt))throw new TypeError('Expected all "'+bt.name+'" to match "'+bt.pattern+'", but received `'+JSON.stringify(wt)+"`");ct+=(Tt===0?bt.prefix:bt.delimiter)+wt}continue}if(wt=bt.asterisk?encodeAsterisk(At):mt(At),!nt[Mt].test(wt))throw new TypeError('Expected "'+bt.name+'" to match "'+bt.pattern+'", but received "'+wt+'"');ct+=bt.prefix+wt}return ct}}function escapeString(_e){return _e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(_e){return _e.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(_e,et){return _e.keys=et,_e}function flags(_e){return _e&&_e.sensitive?"":"i"}function regexpToRegexp(_e,et){var nt=_e.source.match(/\((?!\?)/g);if(nt)for(var rt=0;rt<nt.length;rt++)et.push({name:rt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(_e,et)}function arrayToRegexp(_e,et,nt){for(var rt=[],ot=0;ot<_e.length;ot++)rt.push(pathToRegexp(_e[ot],et,nt).source);var it=new RegExp("(?:"+rt.join("|")+")",flags(nt));return attachKeys(it,et)}function stringToRegexp(_e,et,nt){return tokensToRegExp(parse$1(_e,nt),et,nt)}function tokensToRegExp(_e,et,nt){isarray(et)||(nt=et||nt,et=[]),nt=nt||{};for(var rt=nt.strict,ot=nt.end!==!1,it="",ct=0;ct<_e.length;ct++){var lt=_e[ct];if(typeof lt=="string")it+=escapeString(lt);else{var pt=escapeString(lt.prefix),mt="(?:"+lt.pattern+")";et.push(lt),lt.repeat&&(mt+="(?:"+pt+mt+")*"),lt.optional?lt.partial?mt=pt+"("+mt+")?":mt="(?:"+pt+"("+mt+"))?":mt=pt+"("+mt+")",it+=mt}}var Mt=escapeString(nt.delimiter||"/"),bt=it.slice(-Mt.length)===Mt;return rt||(it=(bt?it.slice(0,-Mt.length):it)+"(?:"+Mt+"(?=$))?"),ot?it+="$":it+=rt&&bt?"":"(?="+Mt+"|$)",attachKeys(new RegExp("^"+it,flags(nt)),et)}function pathToRegexp(_e,et,nt){return isarray(et)||(nt=et||nt,et=[]),nt=nt||{},_e instanceof RegExp?regexpToRegexp(_e,et):isarray(_e)?arrayToRegexp(_e,et,nt):stringToRegexp(_e,et,nt)}var pathToRegexpExports=pathToRegexp$2.exports;const pathToRegexp$1=getDefaultExportFromCjs(pathToRegexpExports);var createNamedContext=function(et){var nt=index();return nt.displayName=et,nt},context=createNamedContext("Router"),Router=function(_e){_inheritsLoose$1(et,_e),et.computeRootMatch=function(ot){return{path:"/",url:"/",params:{},isExact:ot==="/"}};function et(rt){var ot;return ot=_e.call(this,rt)||this,ot.state={location:rt.history.location},ot._isMounted=!1,ot._pendingLocation=null,rt.staticContext||(ot.unlisten=rt.history.listen(function(it){ot._isMounted?ot.setState({location:it}):ot._pendingLocation=it})),ot}var nt=et.prototype;return nt.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},nt.componentWillUnmount=function(){this.unlisten&&this.unlisten()},nt.render=function(){return React.createElement(context.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:et.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},et}(React.Component);React.Component;var Lifecycle=function(_e){_inheritsLoose$1(et,_e);function et(){return _e.apply(this,arguments)||this}var nt=et.prototype;return nt.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},nt.componentDidUpdate=function(ot){this.props.onUpdate&&this.props.onUpdate.call(this,this,ot)},nt.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},nt.render=function(){return null},et}(React.Component),cache={},cacheLimit=1e4,cacheCount=0;function compilePath(_e){if(cache[_e])return cache[_e];var et=pathToRegexp$1.compile(_e);return cacheCount<cacheLimit&&(cache[_e]=et,cacheCount++),et}function generatePath(_e,et){return _e===void 0&&(_e="/"),et===void 0&&(et={}),_e==="/"?_e:compilePath(_e)(et,{pretty:!0})}function Redirect(_e){var et=_e.computedMatch,nt=_e.to,rt=_e.push,ot=rt===void 0?!1:rt;return React.createElement(context.Consumer,null,function(it){it||invariant();var ct=it.history,lt=it.staticContext,pt=ot?ct.push:ct.replace,mt=createLocation(et?typeof nt=="string"?generatePath(nt,et.params):_extends$1({},nt,{pathname:generatePath(nt.pathname,et.params)}):nt);return lt?(pt(mt),null):React.createElement(Lifecycle,{onMount:function(){pt(mt)},onUpdate:function(bt,At){var wt=createLocation(At.to);locationsAreEqual(wt,_extends$1({},mt,{key:wt.key}))||pt(mt)},to:nt})})}var cache$1={},cacheLimit$1=1e4,cacheCount$1=0;function compilePath$1(_e,et){var nt=""+et.end+et.strict+et.sensitive,rt=cache$1[nt]||(cache$1[nt]={});if(rt[_e])return rt[_e];var ot=[],it=pathToRegexp$1(_e,ot,et),ct={regexp:it,keys:ot};return cacheCount$1<cacheLimit$1&&(rt[_e]=ct,cacheCount$1++),ct}function matchPath(_e,et){et===void 0&&(et={}),(typeof et=="string"||Array.isArray(et))&&(et={path:et});var nt=et,rt=nt.path,ot=nt.exact,it=ot===void 0?!1:ot,ct=nt.strict,lt=ct===void 0?!1:ct,pt=nt.sensitive,mt=pt===void 0?!1:pt,Mt=[].concat(rt);return Mt.reduce(function(bt,At){if(!At&&At!=="")return null;if(bt)return bt;var wt=compilePath$1(At,{end:it,strict:lt,sensitive:mt}),Tt=wt.regexp,Rt=wt.keys,Bt=Tt.exec(_e);if(!Bt)return null;var Vt=Bt[0],$t=Bt.slice(1),Ft=_e===Vt;return it&&!Ft?null:{path:At,url:At==="/"&&Vt===""?"/":Vt,isExact:Ft,params:Rt.reduce(function(Ht,Qt,_n){return Ht[Qt.name]=$t[_n],Ht},{})}},null)}var Route=function(_e){_inheritsLoose$1(et,_e);function et(){return _e.apply(this,arguments)||this}var nt=et.prototype;return nt.render=function(){var ot=this;return React.createElement(context.Consumer,null,function(it){it||invariant();var ct=ot.props.location||it.location,lt=ot.props.computedMatch?ot.props.computedMatch:ot.props.path?matchPath(ct.pathname,ot.props):it.match,pt=_extends$1({},it,{location:ct,match:lt}),mt=ot.props,Mt=mt.children,bt=mt.component,At=mt.render;return Array.isArray(Mt)&&Mt.length===0&&(Mt=null),React.createElement(context.Provider,{value:pt},pt.match?Mt?typeof Mt=="function"?Mt(pt):Mt:bt?React.createElement(bt,pt):At?At(pt):null:typeof Mt=="function"?Mt(pt):null)})},et}(React.Component);function addLeadingSlash(_e){return _e.charAt(0)==="/"?_e:"/"+_e}function addBasename(_e,et){return _e?_extends$1({},et,{pathname:addLeadingSlash(_e)+et.pathname}):et}function stripBasename(_e,et){if(!_e)return et;var nt=addLeadingSlash(_e);return et.pathname.indexOf(nt)!==0?et:_extends$1({},et,{pathname:et.pathname.substr(nt.length)})}function createURL(_e){return typeof _e=="string"?_e:createPath(_e)}function staticHandler(_e){return function(){invariant()}}function noop$a(){}React.Component;var Switch=function(_e){_inheritsLoose$1(et,_e);function et(){return _e.apply(this,arguments)||this}var nt=et.prototype;return nt.render=function(){var ot=this;return React.createElement(context.Consumer,null,function(it){it||invariant();var ct=ot.props.location||it.location,lt,pt;return React.Children.forEach(ot.props.children,function(mt){if(pt==null&&React.isValidElement(mt)){lt=mt;var Mt=mt.props.path||mt.props.from;pt=Mt?matchPath(ct.pathname,_extends$1({},mt.props,{path:Mt})):it.match}}),pt?React.cloneElement(lt,{location:ct,computedMatch:pt}):null})},et}(React.Component),useContext=React.useContext;function useHistory(){return useContext(context).history}function useLocation(){return useContext(context).location}function useParams(){var _e=useContext(context).match;return _e?_e.params:{}}var BrowserRouter=function(_e){_inheritsLoose$1(et,_e);function et(){for(var rt,ot=arguments.length,it=new Array(ot),ct=0;ct<ot;ct++)it[ct]=arguments[ct];return rt=_e.call.apply(_e,[this].concat(it))||this,rt.history=createBrowserHistory(rt.props),rt}var nt=et.prototype;return nt.render=function(){return React.createElement(Router,{history:this.history,children:this.props.children})},et}(React.Component);React.Component;var resolveToLocation=function(et,nt){return typeof et=="function"?et(nt):et},normalizeToLocation=function(et,nt){return typeof et=="string"?createLocation(et,null,null,nt):et},forwardRefShim=function(et){return et},forwardRef=React.forwardRef;typeof forwardRef>"u"&&(forwardRef=forwardRefShim);function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}var LinkAnchor=forwardRef(function(_e,et){var nt=_e.innerRef,rt=_e.navigate,ot=_e.onClick,it=_objectWithoutPropertiesLoose$2(_e,["innerRef","navigate","onClick"]),ct=it.target,lt=_extends$1({},it,{onClick:function(mt){try{ot&&ot(mt)}catch(Mt){throw mt.preventDefault(),Mt}!mt.defaultPrevented&&mt.button===0&&(!ct||ct==="_self")&&!isModifiedEvent(mt)&&(mt.preventDefault(),rt())}});return forwardRefShim!==forwardRef?lt.ref=et||nt:lt.ref=nt,React.createElement("a",lt)}),Link=forwardRef(function(_e,et){var nt=_e.component,rt=nt===void 0?LinkAnchor:nt,ot=_e.replace,it=_e.to,ct=_e.innerRef,lt=_objectWithoutPropertiesLoose$2(_e,["component","replace","to","innerRef"]);return React.createElement(context.Consumer,null,function(pt){pt||invariant();var mt=pt.history,Mt=normalizeToLocation(resolveToLocation(it,pt.location),pt.location),bt=Mt?mt.createHref(Mt):"",At=_extends$1({},lt,{href:bt,navigate:function(){var Tt=resolveToLocation(it,pt.location),Rt=ot?mt.replace:mt.push;Rt(Tt)}});return forwardRefShim!==forwardRef?At.ref=et||ct:At.innerRef=ct,React.createElement(rt,At)})}),forwardRefShim$1=function(et){return et},forwardRef$1=React.forwardRef;typeof forwardRef$1>"u"&&(forwardRef$1=forwardRefShim$1);function joinClassnames(){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];return et.filter(function(rt){return rt}).join(" ")}forwardRef$1(function(_e,et){var nt=_e["aria-current"],rt=nt===void 0?"page":nt,ot=_e.activeClassName,it=ot===void 0?"active":ot,ct=_e.activeStyle,lt=_e.className,pt=_e.exact,mt=_e.isActive,Mt=_e.location,bt=_e.strict,At=_e.style,wt=_e.to,Tt=_e.innerRef,Rt=_objectWithoutPropertiesLoose$2(_e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return React.createElement(context.Consumer,null,function(Bt){Bt||invariant();var Vt=Mt||Bt.location,$t=normalizeToLocation(resolveToLocation(wt,Vt),Vt),Ft=$t.pathname,Ht=Ft&&Ft.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Qt=Ht?matchPath(Vt.pathname,{path:Ht,exact:pt,strict:bt}):null,_n=!!(mt?mt(Qt,Vt):Qt),hn=_n?joinClassnames(lt,it):lt,Mn=_n?_extends$1({},At,{},ct):At,kn=_extends$1({"aria-current":_n&&rt||null,className:hn,style:Mn,to:$t},Rt);return forwardRefShim$1!==forwardRef$1?kn.ref=et||Tt:kn.innerRef=Tt,React.createElement(Link,kn)})});const bottom$3="_bottom_1ujcg_1",bottomWrapper$1="_bottomWrapper_1ujcg_11",divider$1="_divider_1ujcg_15",menuItem$1="_menuItem_1ujcg_18",active$1="_active_1ujcg_28",styles$$={bottom:bottom$3,bottomWrapper:bottomWrapper$1,divider:divider$1,menuItem:menuItem$1,active:active$1};function r$4(_e){var et,nt,rt="";if(typeof _e=="string"||typeof _e=="number")rt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var ot=_e.length;for(et=0;et<ot;et++)_e[et]&&(nt=r$4(_e[et]))&&(rt&&(rt+=" "),rt+=nt)}else for(nt in _e)_e[nt]&&(rt&&(rt+=" "),rt+=nt);return rt}function clsx$2(){for(var _e,et,nt=0,rt="",ot=arguments.length;nt<ot;nt++)(_e=arguments[nt])&&(et=r$4(_e))&&(rt&&(rt+=" "),rt+=et);return rt}const UserIcon$1=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2a4.505 4.505 0 0 0-4.5 4.5M20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1z"})}),SkorIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsxs("mask",{id:"mask0_261_15796",width:"22",height:"19",x:"1",y:"2",maskUnits:"userSpaceOnUse",style:{maskType:"luminance"},children:[jsxRuntimeExports.jsx("path",{fill:"#fff",stroke:"#fff",strokeLinejoin:"round",strokeWidth:"2",d:"M20.5 6h-17A1.5 1.5 0 0 0 2 7.5v11A1.5 1.5 0 0 0 3.5 20h17a1.5 1.5 0 0 0 1.5-1.5v-11A1.5 1.5 0 0 0 20.5 6Z"}),jsxRuntimeExports.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v3m10-3v3"}),jsxRuntimeExports.jsx("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.114 12 7.5 9.508V16.5M12 6v14"}),jsxRuntimeExports.jsx("path",{stroke:"#000",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16.5c.828 0 1.5-1.567 1.5-3.5s-.672-3.5-1.5-3.5-1.5 1.567-1.5 3.5.672 3.5 1.5 3.5Z"}),jsxRuntimeExports.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.5 6h3m-3 14h3"})]}),jsxRuntimeExports.jsx("g",{mask:"url(#mask0_261_15796)",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M0 0h24v24H0z"})})]}),LiveIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.992 3C2.455 3 2 3.448 2 4v14a.994.994 0 0 0 .992 1h18.016c.537 0 .992-.448.992-1V4c0-.555-.444-1-.992-1zM19 20H5v2h14zM9.328 7q.087.001.163.05l6.35 4.142a.35.35 0 0 1 .117.131.39.39 0 0 1 0 .354.35.35 0 0 1-.117.13L9.49 15.95a.3.3 0 0 1-.327.003.34.34 0 0 1-.12-.13.4.4 0 0 1-.044-.18V7.357q0-.096.044-.18t.12-.131A.3.3 0 0 1 9.328 7",clipRule:"evenodd"})}),HomeIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1"})}),CalendarIcon$1=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7zm-5-9a1 1 0 0 1 1 1v1h2a2 2 0 0 1 2 2v3H3V7a2 2 0 0 1 2-2h2V4a1 1 0 0 1 2 0v1h6V4a1 1 0 0 1 1-1"})}),BottomNavigation=()=>{const{pathname:_e}=useLocation();return jsxRuntimeExports.jsx("div",{className:styles$$.bottom,children:jsxRuntimeExports.jsxs("div",{className:styles$$.bottomWrapper,children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:clsx$2(styles$$.menuItem,_e==="/"&&styles$$.active),children:[jsxRuntimeExports.jsx(HomeIcon,{}),jsxRuntimeExports.jsx("span",{children:"Home"})]}),jsxRuntimeExports.jsxs(Link,{to:"/schedule",className:clsx$2(styles$$.menuItem,_e.includes("/schedule")&&styles$$.active),children:[jsxRuntimeExports.jsx(CalendarIcon$1,{}),jsxRuntimeExports.jsx("span",{children:"Jadwal"})]}),jsxRuntimeExports.jsxs(Link,{to:"/live",className:clsx$2(styles$$.menuItem,_e.includes("/live")&&styles$$.active),children:[jsxRuntimeExports.jsx(LiveIcon,{}),jsxRuntimeExports.jsx("span",{children:"Live"})]}),jsxRuntimeExports.jsxs(Link,{to:"/score",className:clsx$2(styles$$.menuItem,_e.includes("/score")&&styles$$.active),children:[jsxRuntimeExports.jsx(SkorIcon,{}),jsxRuntimeExports.jsx("span",{children:"Skor"})]}),jsxRuntimeExports.jsxs(Link,{to:"/profile",className:clsx$2(styles$$.menuItem,(_e.includes("/profile")||_e.includes("/login"))&&styles$$.active),children:[jsxRuntimeExports.jsx(UserIcon$1,{}),jsxRuntimeExports.jsx("span",{children:"Profile"})]})]})})},homeLayout="_homeLayout_16c3w_1",styles$_={homeLayout},HomeLayout=({children:_e,noFooter:et})=>jsxRuntimeExports.jsx("div",{className:styles$_.homeLayout,children:jsxRuntimeExports.jsxs("div",{className:"container p-0",children:[_e,et?null:jsxRuntimeExports.jsx(BottomNavigation,{})]})}),home$2="_home_16dgs_1",wrapper$g="_wrapper_16dgs_7",live$2="_live_16dgs_12",liveCard$1="_liveCard_16dgs_17",info$5="_info_16dgs_26",avatar$b="_avatar_16dgs_31",nickName$3="_nickName_16dgs_50",dotWrapper$2="_dotWrapper_16dgs_55",dot$2="_dot_16dgs_55",fansCount$4="_fansCount_16dgs_68",upcoming="_upcoming_16dgs_78",player$2="_player_16dgs_89",swiper$3="_swiper_16dgs_126",swiperSlide="_swiperSlide_16dgs_126",more="_more_16dgs_130",styles$Z={home:home$2,wrapper:wrapper$g,live:live$2,liveCard:liveCard$1,info:info$5,avatar:avatar$b,nickName:nickName$3,dotWrapper:dotWrapper$2,dot:dot$2,fansCount:fansCount$4,upcoming,"player-container":"_player-container_16dgs_89",player:player$2,"live-thumb":"_live-thumb_16dgs_105","manual-play":"_manual-play_16dgs_113",swiper:swiper$3,swiperSlide,more},UserIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2a4.505 4.505 0 0 0-4.5 4.5M20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1z"})});function bind(_e,et){return function(){return _e.apply(et,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(_e=>et=>{const nt=toString$2.call(et);return _e[nt]||(_e[nt]=nt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),et=>kindOf(et)===_e),typeOfTest=_e=>et=>typeof et===_e,{isArray}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined$1(_e)&&_e.constructor!==null&&!isUndefined$1(_e.constructor)&&isFunction$3(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(_e):et=_e&&_e.buffer&&isArrayBuffer(_e.buffer),et}const isString$1=typeOfTest("string"),isFunction$3=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$7=_e=>_e!==null&&typeof _e=="object",isBoolean$2=_e=>_e===!0||_e===!1,isPlainObject$5=_e=>{if(kindOf(_e)!=="object")return!1;const et=getPrototypeOf$1(_e);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate$2=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject$7(_e)&&isFunction$3(_e.pipe),isFormData=_e=>{let et;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction$3(_e.append)&&((et=kindOf(_e))==="formdata"||et==="object"&&isFunction$3(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$1=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(_e,et,{allOwnKeys:nt=!1}={}){if(_e===null||typeof _e>"u")return;let rt,ot;if(typeof _e!="object"&&(_e=[_e]),isArray(_e))for(rt=0,ot=_e.length;rt<ot;rt++)et.call(null,_e[rt],rt,_e);else{const it=nt?Object.getOwnPropertyNames(_e):Object.keys(_e),ct=it.length;let lt;for(rt=0;rt<ct;rt++)lt=it[rt],et.call(null,_e[lt],lt,_e)}}function findKey$1(_e,et){et=et.toLowerCase();const nt=Object.keys(_e);let rt=nt.length,ot;for(;rt-- >0;)if(ot=nt[rt],et===ot.toLowerCase())return ot;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined$1(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},et={},nt=(rt,ot)=>{const it=_e&&findKey$1(et,ot)||ot;isPlainObject$5(et[it])&&isPlainObject$5(rt)?et[it]=merge(et[it],rt):isPlainObject$5(rt)?et[it]=merge({},rt):isArray(rt)?et[it]=rt.slice():et[it]=rt};for(let rt=0,ot=arguments.length;rt<ot;rt++)arguments[rt]&&forEach$2(arguments[rt],nt);return et}const extend$4=(_e,et,nt,{allOwnKeys:rt}={})=>(forEach$2(et,(ot,it)=>{nt&&isFunction$3(ot)?_e[it]=bind(ot,nt):_e[it]=ot},{allOwnKeys:rt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,et,nt,rt)=>{_e.prototype=Object.create(et.prototype,rt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:et.prototype}),nt&&Object.assign(_e.prototype,nt)},toFlatObject=(_e,et,nt,rt)=>{let ot,it,ct;const lt={};if(et=et||{},_e==null)return et;do{for(ot=Object.getOwnPropertyNames(_e),it=ot.length;it-- >0;)ct=ot[it],(!rt||rt(ct,_e,et))&&!lt[ct]&&(et[ct]=_e[ct],lt[ct]=!0);_e=nt!==!1&&getPrototypeOf$1(_e)}while(_e&&(!nt||nt(_e,et))&&_e!==Object.prototype);return et},endsWith=(_e,et,nt)=>{_e=String(_e),(nt===void 0||nt>_e.length)&&(nt=_e.length),nt-=et.length;const rt=_e.indexOf(et,nt);return rt!==-1&&rt===nt},toArray$2=_e=>{if(!_e)return null;if(isArray(_e))return _e;let et=_e.length;if(!isNumber(et))return null;const nt=new Array(et);for(;et-- >0;)nt[et]=_e[et];return nt},isTypedArray=(_e=>et=>_e&&et instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(_e,et)=>{const rt=(_e&&_e[Symbol.iterator]).call(_e);let ot;for(;(ot=rt.next())&&!ot.done;){const it=ot.value;et.call(_e,it[0],it[1])}},matchAll=(_e,et)=>{let nt;const rt=[];for(;(nt=_e.exec(et))!==null;)rt.push(nt);return rt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(nt,rt,ot){return rt.toUpperCase()+ot}),hasOwnProperty=(({hasOwnProperty:_e})=>(et,nt)=>_e.call(et,nt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,et)=>{const nt=Object.getOwnPropertyDescriptors(_e),rt={};forEach$2(nt,(ot,it)=>{let ct;(ct=et(ot,it,_e))!==!1&&(rt[it]=ct||ot)}),Object.defineProperties(_e,rt)},freezeMethods=_e=>{reduceDescriptors(_e,(et,nt)=>{if(isFunction$3(_e)&&["arguments","caller","callee"].indexOf(nt)!==-1)return!1;const rt=_e[nt];if(isFunction$3(rt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+nt+"'")})}})},toObjectSet=(_e,et)=>{const nt={},rt=ot=>{ot.forEach(it=>{nt[it]=!0})};return isArray(_e)?rt(_e):rt(String(_e).split(et)),nt},noop$9=()=>{},toFiniteNumber=(_e,et)=>_e!=null&&Number.isFinite(_e=+_e)?_e:et,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,et=ALPHABET.ALPHA_DIGIT)=>{let nt="";const{length:rt}=et;for(;_e--;)nt+=et[Math.random()*rt|0];return nt};function isSpecCompliantForm(_e){return!!(_e&&isFunction$3(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const et=new Array(10),nt=(rt,ot)=>{if(isObject$7(rt)){if(et.indexOf(rt)>=0)return;if(!("toJSON"in rt)){et[ot]=rt;const it=isArray(rt)?[]:{};return forEach$2(rt,(ct,lt)=>{const pt=nt(ct,ot+1);!isUndefined$1(pt)&&(it[lt]=pt)}),et[ot]=void 0,it}}return rt};return nt(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable$1=_e=>_e&&(isObject$7(_e)||isFunction$3(_e))&&isFunction$3(_e.then)&&isFunction$3(_e.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean:isBoolean$2,isObject:isObject$7,isPlainObject:isPlainObject$5,isReadableStream,isRequest,isResponse,isHeaders,isUndefined:isUndefined$1,isDate:isDate$2,isFile,isBlob,isRegExp,isFunction:isFunction$3,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$2,merge,extend:extend$4,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$2,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$9,toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable:isThenable$1};function AxiosError$1(_e,et,nt,rt,ot){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",et&&(this.code=et),nt&&(this.config=nt),rt&&(this.request=rt),ot&&(this.response=ot)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(_e,et,nt,rt,ot,it)=>{const ct=Object.create(prototype$1);return utils$1.toFlatObject(_e,ct,function(pt){return pt!==Error.prototype},lt=>lt!=="isAxiosError"),AxiosError$1.call(ct,_e.message,et,nt,rt,ot),ct.cause=_e,ct.name=_e.name,it&&Object.assign(ct,it),ct};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,et,nt){return _e?_e.concat(et).map(function(ot,it){return ot=removeBrackets(ot),!nt&&it?"["+ot+"]":ot}).join(nt?".":""):et}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(et){return/^is[A-Z]/.test(et)});function toFormData$1(_e,et,nt){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");et=et||new FormData,nt=utils$1.toFlatObject(nt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Rt,Bt){return!utils$1.isUndefined(Bt[Rt])});const rt=nt.metaTokens,ot=nt.visitor||Mt,it=nt.dots,ct=nt.indexes,pt=(nt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(et);if(!utils$1.isFunction(ot))throw new TypeError("visitor must be a function");function mt(Tt){if(Tt===null)return"";if(utils$1.isDate(Tt))return Tt.toISOString();if(!pt&&utils$1.isBlob(Tt))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Tt)||utils$1.isTypedArray(Tt)?pt&&typeof Blob=="function"?new Blob([Tt]):Buffer.from(Tt):Tt}function Mt(Tt,Rt,Bt){let Vt=Tt;if(Tt&&!Bt&&typeof Tt=="object"){if(utils$1.endsWith(Rt,"{}"))Rt=rt?Rt:Rt.slice(0,-2),Tt=JSON.stringify(Tt);else if(utils$1.isArray(Tt)&&isFlatArray(Tt)||(utils$1.isFileList(Tt)||utils$1.endsWith(Rt,"[]"))&&(Vt=utils$1.toArray(Tt)))return Rt=removeBrackets(Rt),Vt.forEach(function(Ft,Ht){!(utils$1.isUndefined(Ft)||Ft===null)&&et.append(ct===!0?renderKey([Rt],Ht,it):ct===null?Rt:Rt+"[]",mt(Ft))}),!1}return isVisitable(Tt)?!0:(et.append(renderKey(Bt,Rt,it),mt(Tt)),!1)}const bt=[],At=Object.assign(predicates,{defaultVisitor:Mt,convertValue:mt,isVisitable});function wt(Tt,Rt){if(!utils$1.isUndefined(Tt)){if(bt.indexOf(Tt)!==-1)throw Error("Circular reference detected in "+Rt.join("."));bt.push(Tt),utils$1.forEach(Tt,function(Vt,$t){(!(utils$1.isUndefined(Vt)||Vt===null)&&ot.call(et,Vt,utils$1.isString($t)?$t.trim():$t,Rt,At))===!0&&wt(Vt,Rt?Rt.concat($t):[$t])}),bt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return wt(_e),et}function encode$1(_e){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(rt){return et[rt]})}function AxiosURLSearchParams(_e,et){this._pairs=[],_e&&toFormData$1(_e,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(et,nt){this._pairs.push([et,nt])};prototype.toString=function(et){const nt=et?function(rt){return et.call(this,rt,encode$1)}:encode$1;return this._pairs.map(function(ot){return nt(ot[0])+"="+nt(ot[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,et,nt){if(!et)return _e;const rt=nt&&nt.encode||encode,ot=nt&&nt.serialize;let it;if(ot?it=ot(et,nt):it=utils$1.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,nt).toString(rt),it){const ct=_e.indexOf("#");ct!==-1&&(_e=_e.slice(0,ct)),_e+=(_e.indexOf("?")===-1?"?":"&")+it}return _e}class InterceptorManager{constructor(){this.handlers=[]}use(et,nt,rt){return this.handlers.push({fulfilled:et,rejected:nt,synchronous:rt?rt.synchronous:!1,runWhen:rt?rt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$1.forEach(this.handlers,function(rt){rt!==null&&et(rt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,et){return toFormData$1(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(nt,rt,ot,it){return platform.isNode&&utils$1.isBuffer(nt)?(this.append(rt,nt.toString("base64")),!1):it.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(_e){const et={},nt=Object.keys(_e);let rt;const ot=nt.length;let it;for(rt=0;rt<ot;rt++)it=nt[rt],et[it]=_e[it];return et}function formDataToJSON(_e){function et(nt,rt,ot,it){let ct=nt[it++];if(ct==="__proto__")return!0;const lt=Number.isFinite(+ct),pt=it>=nt.length;return ct=!ct&&utils$1.isArray(ot)?ot.length:ct,pt?(utils$1.hasOwnProp(ot,ct)?ot[ct]=[ot[ct],rt]:ot[ct]=rt,!lt):((!ot[ct]||!utils$1.isObject(ot[ct]))&&(ot[ct]=[]),et(nt,rt,ot[ct],it)&&utils$1.isArray(ot[ct])&&(ot[ct]=arrayToObject(ot[ct])),!lt)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const nt={};return utils$1.forEachEntry(_e,(rt,ot)=>{et(parsePropPath(rt),ot,nt,0)}),nt}return null}function stringifySafely(_e,et,nt){if(utils$1.isString(_e))try{return(et||JSON.parse)(_e),utils$1.trim(_e)}catch(rt){if(rt.name!=="SyntaxError")throw rt}return(0,JSON.stringify)(_e)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(et,nt){const rt=nt.getContentType()||"",ot=rt.indexOf("application/json")>-1,it=utils$1.isObject(et);if(it&&utils$1.isHTMLForm(et)&&(et=new FormData(et)),utils$1.isFormData(et))return ot?JSON.stringify(formDataToJSON(et)):et;if(utils$1.isArrayBuffer(et)||utils$1.isBuffer(et)||utils$1.isStream(et)||utils$1.isFile(et)||utils$1.isBlob(et)||utils$1.isReadableStream(et))return et;if(utils$1.isArrayBufferView(et))return et.buffer;if(utils$1.isURLSearchParams(et))return nt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let lt;if(it){if(rt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((lt=utils$1.isFileList(et))||rt.indexOf("multipart/form-data")>-1){const pt=this.env&&this.env.FormData;return toFormData$1(lt?{"files[]":et}:et,pt&&new pt,this.formSerializer)}}return it||ot?(nt.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function(et){const nt=this.transitional||defaults$2.transitional,rt=nt&&nt.forcedJSONParsing,ot=this.responseType==="json";if(utils$1.isResponse(et)||utils$1.isReadableStream(et))return et;if(et&&utils$1.isString(et)&&(rt&&!this.responseType||ot)){const ct=!(nt&&nt.silentJSONParsing)&&ot;try{return JSON.parse(et)}catch(lt){if(ct)throw lt.name==="SyntaxError"?AxiosError$1.from(lt,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):lt}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults$2.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const et={};let nt,rt,ot;return _e&&_e.split(`
`).forEach(function(ct){ot=ct.indexOf(":"),nt=ct.substring(0,ot).trim().toLowerCase(),rt=ct.substring(ot+1).trim(),!(!nt||et[nt]&&ignoreDuplicateOf[nt])&&(nt==="set-cookie"?et[nt]?et[nt].push(rt):et[nt]=[rt]:et[nt]=et[nt]?et[nt]+", "+rt:rt)}),et},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const et=Object.create(null),nt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let rt;for(;rt=nt.exec(_e);)et[rt[1]]=rt[2];return et}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,et,nt,rt,ot){if(utils$1.isFunction(rt))return rt.call(this,et,nt);if(ot&&(et=nt),!!utils$1.isString(et)){if(utils$1.isString(rt))return et.indexOf(rt)!==-1;if(utils$1.isRegExp(rt))return rt.test(et)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,nt,rt)=>nt.toUpperCase()+rt)}function buildAccessors(_e,et){const nt=utils$1.toCamelCase(" "+et);["get","set","has"].forEach(rt=>{Object.defineProperty(_e,rt+nt,{value:function(ot,it,ct){return this[rt].call(this,et,ot,it,ct)},configurable:!0})})}let AxiosHeaders$1=class{constructor(et){et&&this.set(et)}set(et,nt,rt){const ot=this;function it(lt,pt,mt){const Mt=normalizeHeader(pt);if(!Mt)throw new Error("header name must be a non-empty string");const bt=utils$1.findKey(ot,Mt);(!bt||ot[bt]===void 0||mt===!0||mt===void 0&&ot[bt]!==!1)&&(ot[bt||pt]=normalizeValue(lt))}const ct=(lt,pt)=>utils$1.forEach(lt,(mt,Mt)=>it(mt,Mt,pt));if(utils$1.isPlainObject(et)||et instanceof this.constructor)ct(et,nt);else if(utils$1.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))ct(parseHeaders(et),nt);else if(utils$1.isHeaders(et))for(const[lt,pt]of et.entries())it(pt,lt,rt);else et!=null&&it(nt,et,rt);return this}get(et,nt){if(et=normalizeHeader(et),et){const rt=utils$1.findKey(this,et);if(rt){const ot=this[rt];if(!nt)return ot;if(nt===!0)return parseTokens(ot);if(utils$1.isFunction(nt))return nt.call(this,ot,rt);if(utils$1.isRegExp(nt))return nt.exec(ot);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,nt){if(et=normalizeHeader(et),et){const rt=utils$1.findKey(this,et);return!!(rt&&this[rt]!==void 0&&(!nt||matchHeaderValue(this,this[rt],rt,nt)))}return!1}delete(et,nt){const rt=this;let ot=!1;function it(ct){if(ct=normalizeHeader(ct),ct){const lt=utils$1.findKey(rt,ct);lt&&(!nt||matchHeaderValue(rt,rt[lt],lt,nt))&&(delete rt[lt],ot=!0)}}return utils$1.isArray(et)?et.forEach(it):it(et),ot}clear(et){const nt=Object.keys(this);let rt=nt.length,ot=!1;for(;rt--;){const it=nt[rt];(!et||matchHeaderValue(this,this[it],it,et,!0))&&(delete this[it],ot=!0)}return ot}normalize(et){const nt=this,rt={};return utils$1.forEach(this,(ot,it)=>{const ct=utils$1.findKey(rt,it);if(ct){nt[ct]=normalizeValue(ot),delete nt[it];return}const lt=et?formatHeader(it):String(it).trim();lt!==it&&delete nt[it],nt[lt]=normalizeValue(ot),rt[lt]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const nt=Object.create(null);return utils$1.forEach(this,(rt,ot)=>{rt!=null&&rt!==!1&&(nt[ot]=et&&utils$1.isArray(rt)?rt.join(", "):rt)}),nt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,nt])=>et+": "+nt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...nt){const rt=new this(et);return nt.forEach(ot=>rt.set(ot)),rt}static accessor(et){const rt=(this[$internals]=this[$internals]={accessors:{}}).accessors,ot=this.prototype;function it(ct){const lt=normalizeHeader(ct);rt[lt]||(buildAccessors(ot,ct),rt[lt]=!0)}return utils$1.isArray(et)?et.forEach(it):it(et),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:_e},et)=>{let nt=et[0].toUpperCase()+et.slice(1);return{get:()=>_e,set(rt){this[nt]=rt}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(_e,et){const nt=this||defaults$2,rt=et||nt,ot=AxiosHeaders$1.from(rt.headers);let it=rt.data;return utils$1.forEach(_e,function(lt){it=lt.call(nt,it,ot.normalize(),et?et.status:void 0)}),ot.normalize(),it}function isCancel$1(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError$1(_e,et,nt){AxiosError$1.call(this,_e??"canceled",AxiosError$1.ERR_CANCELED,et,nt),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(_e,et,nt){const rt=nt.config.validateStatus;!nt.status||!rt||rt(nt.status)?_e(nt):et(new AxiosError$1("Request failed with status code "+nt.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(nt.status/100)-4],nt.config,nt.request,nt))}function parseProtocol(_e){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return et&&et[1]||""}function speedometer(_e,et){_e=_e||10;const nt=new Array(_e),rt=new Array(_e);let ot=0,it=0,ct;return et=et!==void 0?et:1e3,function(pt){const mt=Date.now(),Mt=rt[it];ct||(ct=mt),nt[ot]=pt,rt[ot]=mt;let bt=it,At=0;for(;bt!==ot;)At+=nt[bt++],bt=bt%_e;if(ot=(ot+1)%_e,ot===it&&(it=(it+1)%_e),mt-ct<et)return;const wt=Mt&&mt-Mt;return wt?Math.round(At*1e3/wt):void 0}}function throttle(_e,et){let nt=0;const rt=1e3/et;let ot=null;return function(){const ct=this===!0,lt=Date.now();if(ct||lt-nt>rt)return ot&&(clearTimeout(ot),ot=null),nt=lt,_e.apply(null,arguments);ot||(ot=setTimeout(()=>(ot=null,nt=Date.now(),_e.apply(null,arguments)),rt-(lt-nt)))}}const progressEventReducer=(_e,et,nt=3)=>{let rt=0;const ot=speedometer(50,250);return throttle(it=>{const ct=it.loaded,lt=it.lengthComputable?it.total:void 0,pt=ct-rt,mt=ot(pt),Mt=ct<=lt;rt=ct;const bt={loaded:ct,total:lt,progress:lt?ct/lt:void 0,bytes:pt,rate:mt||void 0,estimated:mt&&lt&&Mt?(lt-ct)/mt:void 0,event:it,lengthComputable:lt!=null};bt[et?"download":"upload"]=!0,_e(bt)},nt)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const et=/(msie|trident)/i.test(navigator.userAgent),nt=document.createElement("a");let rt;function ot(it){let ct=it;return et&&(nt.setAttribute("href",ct),ct=nt.href),nt.setAttribute("href",ct),{href:nt.href,protocol:nt.protocol?nt.protocol.replace(/:$/,""):"",host:nt.host,search:nt.search?nt.search.replace(/^\?/,""):"",hash:nt.hash?nt.hash.replace(/^#/,""):"",hostname:nt.hostname,port:nt.port,pathname:nt.pathname.charAt(0)==="/"?nt.pathname:"/"+nt.pathname}}return rt=ot(window.location.href),function(ct){const lt=utils$1.isString(ct)?ot(ct):ct;return lt.protocol===rt.protocol&&lt.host===rt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,et,nt,rt,ot,it){const ct=[_e+"="+encodeURIComponent(et)];utils$1.isNumber(nt)&&ct.push("expires="+new Date(nt).toGMTString()),utils$1.isString(rt)&&ct.push("path="+rt),utils$1.isString(ot)&&ct.push("domain="+ot),it===!0&&ct.push("secure"),document.cookie=ct.join("; ")},read(_e){const et=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,et){return et?_e.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):_e}function buildFullPath(_e,et){return _e&&!isAbsoluteURL(et)?combineURLs(_e,et):et}const headersToObject=_e=>_e instanceof AxiosHeaders$1?{..._e}:_e;function mergeConfig$1(_e,et){et=et||{};const nt={};function rt(mt,Mt,bt){return utils$1.isPlainObject(mt)&&utils$1.isPlainObject(Mt)?utils$1.merge.call({caseless:bt},mt,Mt):utils$1.isPlainObject(Mt)?utils$1.merge({},Mt):utils$1.isArray(Mt)?Mt.slice():Mt}function ot(mt,Mt,bt){if(utils$1.isUndefined(Mt)){if(!utils$1.isUndefined(mt))return rt(void 0,mt,bt)}else return rt(mt,Mt,bt)}function it(mt,Mt){if(!utils$1.isUndefined(Mt))return rt(void 0,Mt)}function ct(mt,Mt){if(utils$1.isUndefined(Mt)){if(!utils$1.isUndefined(mt))return rt(void 0,mt)}else return rt(void 0,Mt)}function lt(mt,Mt,bt){if(bt in et)return rt(mt,Mt);if(bt in _e)return rt(void 0,mt)}const pt={url:it,method:it,data:it,baseURL:ct,transformRequest:ct,transformResponse:ct,paramsSerializer:ct,timeout:ct,timeoutMessage:ct,withCredentials:ct,withXSRFToken:ct,adapter:ct,responseType:ct,xsrfCookieName:ct,xsrfHeaderName:ct,onUploadProgress:ct,onDownloadProgress:ct,decompress:ct,maxContentLength:ct,maxBodyLength:ct,beforeRedirect:ct,transport:ct,httpAgent:ct,httpsAgent:ct,cancelToken:ct,socketPath:ct,responseEncoding:ct,validateStatus:lt,headers:(mt,Mt)=>ot(headersToObject(mt),headersToObject(Mt),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,et)),function(Mt){const bt=pt[Mt]||ot,At=bt(_e[Mt],et[Mt],Mt);utils$1.isUndefined(At)&&bt!==lt||(nt[Mt]=At)}),nt}const resolveConfig=_e=>{const et=mergeConfig$1({},_e);let{data:nt,withXSRFToken:rt,xsrfHeaderName:ot,xsrfCookieName:it,headers:ct,auth:lt}=et;et.headers=ct=AxiosHeaders$1.from(ct),et.url=buildURL(buildFullPath(et.baseURL,et.url),_e.params,_e.paramsSerializer),lt&&ct.set("Authorization","Basic "+btoa((lt.username||"")+":"+(lt.password?unescape(encodeURIComponent(lt.password)):"")));let pt;if(utils$1.isFormData(nt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)ct.setContentType(void 0);else if((pt=ct.getContentType())!==!1){const[mt,...Mt]=pt?pt.split(";").map(bt=>bt.trim()).filter(Boolean):[];ct.setContentType([mt||"multipart/form-data",...Mt].join("; "))}}if(platform.hasStandardBrowserEnv&&(rt&&utils$1.isFunction(rt)&&(rt=rt(et)),rt||rt!==!1&&isURLSameOrigin(et.url))){const mt=ot&&it&&cookies.read(it);mt&&ct.set(ot,mt)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(nt,rt){const ot=resolveConfig(_e);let it=ot.data;const ct=AxiosHeaders$1.from(ot.headers).normalize();let{responseType:lt}=ot,pt;function mt(){ot.cancelToken&&ot.cancelToken.unsubscribe(pt),ot.signal&&ot.signal.removeEventListener("abort",pt)}let Mt=new XMLHttpRequest;Mt.open(ot.method.toUpperCase(),ot.url,!0),Mt.timeout=ot.timeout;function bt(){if(!Mt)return;const wt=AxiosHeaders$1.from("getAllResponseHeaders"in Mt&&Mt.getAllResponseHeaders()),Rt={data:!lt||lt==="text"||lt==="json"?Mt.responseText:Mt.response,status:Mt.status,statusText:Mt.statusText,headers:wt,config:_e,request:Mt};settle(function(Vt){nt(Vt),mt()},function(Vt){rt(Vt),mt()},Rt),Mt=null}"onloadend"in Mt?Mt.onloadend=bt:Mt.onreadystatechange=function(){!Mt||Mt.readyState!==4||Mt.status===0&&!(Mt.responseURL&&Mt.responseURL.indexOf("file:")===0)||setTimeout(bt)},Mt.onabort=function(){Mt&&(rt(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,ot,Mt)),Mt=null)},Mt.onerror=function(){rt(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,ot,Mt)),Mt=null},Mt.ontimeout=function(){let Tt=ot.timeout?"timeout of "+ot.timeout+"ms exceeded":"timeout exceeded";const Rt=ot.transitional||transitionalDefaults;ot.timeoutErrorMessage&&(Tt=ot.timeoutErrorMessage),rt(new AxiosError$1(Tt,Rt.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,ot,Mt)),Mt=null},it===void 0&&ct.setContentType(null),"setRequestHeader"in Mt&&utils$1.forEach(ct.toJSON(),function(Tt,Rt){Mt.setRequestHeader(Rt,Tt)}),utils$1.isUndefined(ot.withCredentials)||(Mt.withCredentials=!!ot.withCredentials),lt&&lt!=="json"&&(Mt.responseType=ot.responseType),typeof ot.onDownloadProgress=="function"&&Mt.addEventListener("progress",progressEventReducer(ot.onDownloadProgress,!0)),typeof ot.onUploadProgress=="function"&&Mt.upload&&Mt.upload.addEventListener("progress",progressEventReducer(ot.onUploadProgress)),(ot.cancelToken||ot.signal)&&(pt=wt=>{Mt&&(rt(!wt||wt.type?new CanceledError$1(null,_e,Mt):wt),Mt.abort(),Mt=null)},ot.cancelToken&&ot.cancelToken.subscribe(pt),ot.signal&&(ot.signal.aborted?pt():ot.signal.addEventListener("abort",pt)));const At=parseProtocol(ot.url);if(At&&platform.protocols.indexOf(At)===-1){rt(new AxiosError$1("Unsupported protocol "+At+":",AxiosError$1.ERR_BAD_REQUEST,_e));return}Mt.send(it||null)})},composeSignals=(_e,et)=>{let nt=new AbortController,rt;const ot=function(pt){if(!rt){rt=!0,ct();const mt=pt instanceof Error?pt:this.reason;nt.abort(mt instanceof AxiosError$1?mt:new CanceledError$1(mt instanceof Error?mt.message:mt))}};let it=et&&setTimeout(()=>{ot(new AxiosError$1(`timeout ${et} of ms exceeded`,AxiosError$1.ETIMEDOUT))},et);const ct=()=>{_e&&(it&&clearTimeout(it),it=null,_e.forEach(pt=>{pt&&(pt.removeEventListener?pt.removeEventListener("abort",ot):pt.unsubscribe(ot))}),_e=null)};_e.forEach(pt=>pt&&pt.addEventListener&&pt.addEventListener("abort",ot));const{signal:lt}=nt;return lt.unsubscribe=ct,[lt,()=>{it&&clearTimeout(it),it=null}]},streamChunk=function*(_e,et){let nt=_e.byteLength;if(nt<et){yield _e;return}let rt=0,ot;for(;rt<nt;)ot=rt+et,yield _e.slice(rt,ot),rt=ot},readBytes=async function*(_e,et,nt){for await(const rt of _e)yield*streamChunk(ArrayBuffer.isView(rt)?rt:await nt(String(rt)),et)},trackStream=(_e,et,nt,rt,ot)=>{const it=readBytes(_e,et,ot);let ct=0;return new ReadableStream({type:"bytes",async pull(lt){const{done:pt,value:mt}=await it.next();if(pt){lt.close(),rt();return}let Mt=mt.byteLength;nt&&nt(ct+=Mt),lt.enqueue(new Uint8Array(mt))},cancel(lt){return rt(lt),it.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,et)=>{const nt=_e!=null;return rt=>setTimeout(()=>et({lengthComputable:nt,total:_e,loaded:rt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>et=>_e.encode(et))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const et=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!et})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach(et=>{!resolvers[et]&&(resolvers[et]=utils$1.isFunction(_e[et])?nt=>nt[et]():(nt,rt)=>{throw new AxiosError$1(`Response type '${et}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,rt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,et)=>{const nt=utils$1.toFiniteNumber(_e.getContentLength());return nt??getBodyLength(et)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:et,method:nt,data:rt,signal:ot,cancelToken:it,timeout:ct,onDownloadProgress:lt,onUploadProgress:pt,responseType:mt,headers:Mt,withCredentials:bt="same-origin",fetchOptions:At}=resolveConfig(_e);mt=mt?(mt+"").toLowerCase():"text";let[wt,Tt]=ot||it||ct?composeSignals([ot,it],ct):[],Rt,Bt;const Vt=()=>{!Rt&&setTimeout(()=>{wt&&wt.unsubscribe()}),Rt=!0};let $t;try{if(pt&&supportsRequestStream&&nt!=="get"&&nt!=="head"&&($t=await resolveBodyLength(Mt,rt))!==0){let _n=new Request(et,{method:"POST",body:rt,duplex:"half"}),hn;utils$1.isFormData(rt)&&(hn=_n.headers.get("content-type"))&&Mt.setContentType(hn),_n.body&&(rt=trackStream(_n.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator($t,progressEventReducer(pt)),null,encodeText))}utils$1.isString(bt)||(bt=bt?"cors":"omit"),Bt=new Request(et,{...At,signal:wt,method:nt.toUpperCase(),headers:Mt.normalize().toJSON(),body:rt,duplex:"half",withCredentials:bt});let Ft=await fetch(Bt);const Ht=supportsResponseStream&&(mt==="stream"||mt==="response");if(supportsResponseStream&&(lt||Ht)){const _n={};["status","statusText","headers"].forEach(Mn=>{_n[Mn]=Ft[Mn]});const hn=utils$1.toFiniteNumber(Ft.headers.get("content-length"));Ft=new Response(trackStream(Ft.body,DEFAULT_CHUNK_SIZE,lt&&fetchProgressDecorator(hn,progressEventReducer(lt,!0)),Ht&&Vt,encodeText),_n)}mt=mt||"text";let Qt=await resolvers[utils$1.findKey(resolvers,mt)||"text"](Ft,_e);return!Ht&&Vt(),Tt&&Tt(),await new Promise((_n,hn)=>{settle(_n,hn,{data:Qt,headers:AxiosHeaders$1.from(Ft.headers),status:Ft.status,statusText:Ft.statusText,config:_e,request:Bt})})}catch(Ft){throw Vt(),Ft&&Ft.name==="TypeError"&&/fetch/i.test(Ft.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,_e,Bt),{cause:Ft.cause||Ft}):AxiosError$1.from(Ft,Ft&&Ft.code,_e,Bt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,et)=>{if(_e){try{Object.defineProperty(_e,"name",{value:et})}catch{}Object.defineProperty(_e,"adapterName",{value:et})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:et}=_e;let nt,rt;const ot={};for(let it=0;it<et;it++){nt=_e[it];let ct;if(rt=nt,!isResolvedHandle(nt)&&(rt=knownAdapters[(ct=String(nt)).toLowerCase()],rt===void 0))throw new AxiosError$1(`Unknown adapter '${ct}'`);if(rt)break;ot[ct||"#"+it]=rt}if(!rt){const it=Object.entries(ot).map(([lt,pt])=>`adapter ${lt} `+(pt===!1?"is not supported by the environment":"is not available in the build"));let ct=et?it.length>1?`since :
`+it.map(renderReason).join(`
`):" "+renderReason(it[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+ct,"ERR_NOT_SUPPORT")}return rt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError$1(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders$1.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults$2.adapter)(_e).then(function(rt){return throwIfCancellationRequested(_e),rt.data=transformData.call(_e,_e.transformResponse,rt),rt.headers=AxiosHeaders$1.from(rt.headers),rt},function(rt){return isCancel$1(rt)||(throwIfCancellationRequested(_e),rt&&rt.response&&(rt.response.data=transformData.call(_e,_e.transformResponse,rt.response),rt.response.headers=AxiosHeaders$1.from(rt.response.headers))),Promise.reject(rt)})}const VERSION$1="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,et)=>{validators$1[_e]=function(rt){return typeof rt===_e||"a"+(et<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function(et,nt,rt){function ot(it,ct){return"[Axios v"+VERSION$1+"] Transitional option '"+it+"'"+ct+(rt?". "+rt:"")}return(it,ct,lt)=>{if(et===!1)throw new AxiosError$1(ot(ct," has been removed"+(nt?" in "+nt:"")),AxiosError$1.ERR_DEPRECATED);return nt&&!deprecatedWarnings[ct]&&(deprecatedWarnings[ct]=!0,console.warn(ot(ct," has been deprecated since v"+nt+" and will be removed in the near future"))),et?et(it,ct,lt):!0}};function assertOptions(_e,et,nt){if(typeof _e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const rt=Object.keys(_e);let ot=rt.length;for(;ot-- >0;){const it=rt[ot],ct=et[it];if(ct){const lt=_e[it],pt=lt===void 0||ct(lt,it,_e);if(pt!==!0)throw new AxiosError$1("option "+it+" must be "+pt,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(nt!==!0)throw new AxiosError$1("Unknown option "+it,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(et,nt){try{return await this._request(et,nt)}catch(rt){if(rt instanceof Error){let ot;Error.captureStackTrace?Error.captureStackTrace(ot={}):ot=new Error;const it=ot.stack?ot.stack.replace(/^.+\n/,""):"";try{rt.stack?it&&!String(rt.stack).endsWith(it.replace(/^.+\n.+\n/,""))&&(rt.stack+=`
`+it):rt.stack=it}catch{}}throw rt}}_request(et,nt){typeof et=="string"?(nt=nt||{},nt.url=et):nt=et||{},nt=mergeConfig$1(this.defaults,nt);const{transitional:rt,paramsSerializer:ot,headers:it}=nt;rt!==void 0&&validator.assertOptions(rt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ot!=null&&(utils$1.isFunction(ot)?nt.paramsSerializer={serialize:ot}:validator.assertOptions(ot,{encode:validators.function,serialize:validators.function},!0)),nt.method=(nt.method||this.defaults.method||"get").toLowerCase();let ct=it&&utils$1.merge(it.common,it[nt.method]);it&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Tt=>{delete it[Tt]}),nt.headers=AxiosHeaders$1.concat(ct,it);const lt=[];let pt=!0;this.interceptors.request.forEach(function(Rt){typeof Rt.runWhen=="function"&&Rt.runWhen(nt)===!1||(pt=pt&&Rt.synchronous,lt.unshift(Rt.fulfilled,Rt.rejected))});const mt=[];this.interceptors.response.forEach(function(Rt){mt.push(Rt.fulfilled,Rt.rejected)});let Mt,bt=0,At;if(!pt){const Tt=[dispatchRequest.bind(this),void 0];for(Tt.unshift.apply(Tt,lt),Tt.push.apply(Tt,mt),At=Tt.length,Mt=Promise.resolve(nt);bt<At;)Mt=Mt.then(Tt[bt++],Tt[bt++]);return Mt}At=lt.length;let wt=nt;for(bt=0;bt<At;){const Tt=lt[bt++],Rt=lt[bt++];try{wt=Tt(wt)}catch(Bt){Rt.call(this,Bt);break}}try{Mt=dispatchRequest.call(this,wt)}catch(Tt){return Promise.reject(Tt)}for(bt=0,At=mt.length;bt<At;)Mt=Mt.then(mt[bt++],mt[bt++]);return Mt}getUri(et){et=mergeConfig$1(this.defaults,et);const nt=buildFullPath(et.baseURL,et.url);return buildURL(nt,et.params,et.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(et){Axios$1.prototype[et]=function(nt,rt){return this.request(mergeConfig$1(rt||{},{method:et,url:nt,data:(rt||{}).data}))}});utils$1.forEach(["post","put","patch"],function(et){function nt(rt){return function(it,ct,lt){return this.request(mergeConfig$1(lt||{},{method:et,headers:rt?{"Content-Type":"multipart/form-data"}:{},url:it,data:ct}))}}Axios$1.prototype[et]=nt(),Axios$1.prototype[et+"Form"]=nt(!0)});let CancelToken$1=class IM{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let nt;this.promise=new Promise(function(it){nt=it});const rt=this;this.promise.then(ot=>{if(!rt._listeners)return;let it=rt._listeners.length;for(;it-- >0;)rt._listeners[it](ot);rt._listeners=null}),this.promise.then=ot=>{let it;const ct=new Promise(lt=>{rt.subscribe(lt),it=lt}).then(ot);return ct.cancel=function(){rt.unsubscribe(it)},ct},et(function(it,ct,lt){rt.reason||(rt.reason=new CanceledError$1(it,ct,lt),nt(rt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const nt=this._listeners.indexOf(et);nt!==-1&&this._listeners.splice(nt,1)}static source(){let et;return{token:new IM(function(ot){et=ot}),cancel:et}}};function spread$1(_e){return function(nt){return _e.apply(null,nt)}}function isAxiosError$1(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([_e,et])=>{HttpStatusCode$1[et]=_e});function createInstance(_e){const et=new Axios$1(_e),nt=bind(Axios$1.prototype.request,et);return utils$1.extend(nt,Axios$1.prototype,et,{allOwnKeys:!0}),utils$1.extend(nt,et,null,{allOwnKeys:!0}),nt.create=function(ot){return createInstance(mergeConfig$1(_e,ot))},nt}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(et){return Promise.all(et)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all:all$1,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;function getTargetElement(_e,et){if(!_e)return et;let nt;return typeof _e=="function"?nt=_e():"current"in _e?nt=_e.current:nt=_e,nt}function noop$8(){}const extend$3=Object.assign,inBrowser=typeof window<"u";function isDef(_e){return _e!=null}function isFunction$2(_e){return typeof _e=="function"}function isPromise(_e){return isObject$6(_e)&&isFunction$2(_e.then)&&isFunction$2(_e.catch)}function isObject$6(_e){return _e!==null&&typeof _e=="object"}function gen(_e,et){return et?typeof et=="string"?` ${_e}--${et}`:Array.isArray(et)?et.reduce((nt,rt)=>nt+gen(_e,rt),""):Object.keys(et).reduce((nt,rt)=>nt+(et[rt]?gen(_e,rt):""),""):""}function createBEM(_e){return(et,nt)=>(et&&typeof et!="string"&&(nt=et,et=""),et=et?`${_e}__${et}`:_e,`${et}${gen(et,nt)}`)}function createNamespace(_e,et){return _e=`rv-${_e}`,[createBEM(_e),_e]}function stopPropagation(_e){_e.stopPropagation()}function preventDefault(_e,et){(typeof _e.cancelable!="boolean"||_e.cancelable)&&_e.preventDefault(),stopPropagation(_e)}const eventToPropRecord={click:"onClick"};function withStopPropagation(_e,et){const nt=Object.assign({},et.props);for(const rt of _e){const ot=eventToPropRecord[rt];nt[ot]=function(it){var ct,lt;it.stopPropagation(),(lt=(ct=et.props)[ot])===null||lt===void 0||lt.call(ct,it)}}return React.cloneElement(et,nt)}function isNumeric(_e){return/^\d+(\.\d+)?$/.test(_e)}function addUnit(_e){if(isDef(_e))return _e=String(_e),isNumeric(_e)?`${_e}px`:_e}function getSizeStyle(_e){if(isDef(_e)){const et=addUnit(_e);return{width:et,height:et}}return{}}let supportsPassive$1=!1;if(inBrowser)try{const _e={};Object.defineProperty(_e,"passive",{get(){supportsPassive$1=!0}}),window.addEventListener("test-passive",null,_e)}catch{}function useEventListener(_e,et,nt={}){if(!inBrowser)return;const{target:rt=window,passive:ot=!1,capture:it=!1,depends:ct=[]}=nt;let lt;const pt=()=>{const Mt=getTargetElement(rt);Mt&&!lt&&(Mt.addEventListener(_e,et,supportsPassive$1?{capture:it,passive:ot}:it),lt=!0)},mt=()=>{const Mt=getTargetElement(rt);Mt&&lt&&(Mt.removeEventListener(_e,et,it),lt=!1)};reactExports.useEffect(()=>(pt(),()=>mt()),[rt,...ct])}const MIN_DISTANCE=10;function getDirection(_e,et){return _e>et&&_e>MIN_DISTANCE?"horizontal":et>_e&&et>MIN_DISTANCE?"vertical":""}function useTouch(){const _e=reactExports.useRef(0),et=reactExports.useRef(0),nt=reactExports.useRef(0),rt=reactExports.useRef(0),ot=reactExports.useRef(0),it=reactExports.useRef(0),ct=reactExports.useRef(""),lt=reactExports.useRef(null),pt=()=>ct.current==="vertical",mt=()=>ct.current==="horizontal",Mt=()=>{nt.current=0,rt.current=0,ot.current=0,it.current=0,ct.current="",lt.current=null};return{move:wt=>{const Tt=wt.touches[0];nt.current=Tt.clientX<0?0:Tt.clientX-_e.current,rt.current=Tt.clientY-et.current,ot.current=Math.abs(nt.current),it.current=Math.abs(rt.current),lt.current===null?lt.current=!0:lt.current=!1,ct.current||(ct.current=getDirection(ot.current,it.current))},start:wt=>{Mt(),_e.current=wt.touches[0].clientX,et.current=wt.touches[0].clientY},reset:Mt,startX:_e,startY:et,deltaX:nt,deltaY:rt,offsetX:ot,offsetY:it,direction:ct,isVertical:pt,isHorizontal:mt,firstMove:lt}}const overflowScrollReg=/scroll|auto/i,defaultRoot=inBrowser?window:void 0;function isElement(_e){return _e.tagName!=="HTML"&&_e.tagName!=="BODY"&&_e.nodeType===1}function getScrollParent(_e,et=defaultRoot){et===void 0&&(et=window);let nt=_e;for(;nt&&nt!==et&&isElement(nt);){const{overflowY:rt}=window.getComputedStyle(nt);if(overflowScrollReg.test(rt)){if(nt.tagName!=="BODY")return nt;const ot=window.getComputedStyle(nt.parentNode).overflowY;if(overflowScrollReg.test(ot))return nt}nt=nt.parentNode}return et}const useIsomorphicLayoutEffect$1=inBrowser?React.useLayoutEffect:React.useEffect;function __rest$1(_e,et){var nt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,rt=Object.getOwnPropertySymbols(_e);ot<rt.length;ot++)et.indexOf(rt[ot])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[ot])&&(nt[rt[ot]]=_e[rt[ot]]);return nt}function __awaiter(_e,et,nt,rt){function ot(it){return it instanceof nt?it:new nt(function(ct){ct(it)})}return new(nt||(nt=Promise))(function(it,ct){function lt(Mt){try{mt(rt.next(Mt))}catch(bt){ct(bt)}}function pt(Mt){try{mt(rt.throw(Mt))}catch(bt){ct(bt)}}function mt(Mt){Mt.done?it(Mt.value):ot(Mt.value).then(lt,pt)}mt((rt=rt.apply(_e,et||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function r$3(_e){var et,nt,rt="";if(typeof _e=="string"||typeof _e=="number")rt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(et=0;et<_e.length;et++)_e[et]&&(nt=r$3(_e[et]))&&(rt&&(rt+=" "),rt+=nt);else for(et in _e)_e[et]&&(rt&&(rt+=" "),rt+=et);return rt}function clsx$1(){for(var _e,et,nt=0,rt="";nt<arguments.length;)(_e=arguments[nt++])&&(et=r$3(_e))&&(rt&&(rt+=" "),rt+=et);return rt}const SpinIcon=({bem:_e})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Array(12).fill(null).map((et,nt)=>jsxRuntimeExports.jsx("i",{className:clsx$1(_e("line",String(nt+1)))},nt))}),CircularIcon=({bem:_e})=>jsxRuntimeExports.jsx("svg",Object.assign({className:clsx$1(_e("circular")),viewBox:"25 25 50 50"},{children:jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"none"})})),BallIcon=({bem:_e})=>jsxRuntimeExports.jsxs("div",Object.assign({className:clsx$1(_e("ball"))},{children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{})]})),Icon=_e=>({spinner:jsxRuntimeExports.jsx(SpinIcon,{bem:_e}),circular:jsxRuntimeExports.jsx(CircularIcon,{bem:_e}),ball:jsxRuntimeExports.jsx(BallIcon,{bem:_e})}),[bem$a]=createNamespace("loading"),Loading=_e=>{const{className:et,type:nt="circular",vertical:rt,color:ot,size:it,textColor:ct,children:lt,textSize:pt}=_e,mt=reactExports.useMemo(()=>Object.assign({color:ot},getSizeStyle(it)),[ot,it]),Mt=()=>lt?jsxRuntimeExports.jsx("span",Object.assign({className:clsx$1(bem$a("text")),style:{fontSize:addUnit(pt),color:ct??ot}},{children:lt})):null;return jsxRuntimeExports.jsxs("div",Object.assign({className:clsx$1(et,bem$a([nt,{vertical:rt}])),style:_e.style},{children:[jsxRuntimeExports.jsx("span",Object.assign({className:clsx$1(bem$a("spinner",nt)),style:mt},{children:Icon(bem$a)[nt]})),Mt()]}))},WHITE="#fff",BORDER="rv-hairline",BORDER_TOP=`${BORDER}--top`,BORDER_LEFT=`${BORDER}--left`,BORDER_SURROUND=`${BORDER}--surround`,SHADOW="rv-shadow",ButtonContext=React.createContext({}),[bem$9]=createNamespace("button"),Button$1=_e=>{const{color:et,loading:nt,className:rt,hairline:ot,loadingText:it,round:ct,square:lt,plain:pt,block:mt,loadingType:Mt,nativeType:bt,iconPosition:At}=_e,wt=__rest$1(_e,["color","loading","className","hairline","loadingText","round","square","plain","block","loadingType","nativeType","iconPosition"]),{parent:Tt}=reactExports.useContext(ButtonContext),Rt=React.useMemo(()=>_e.size||(Tt==null?void 0:Tt.size)||"normal",[Tt==null?void 0:Tt.size,_e.size]),Bt=React.useMemo(()=>_e.type||(Tt==null?void 0:Tt.type)||"default",[Tt==null?void 0:Tt.type,_e.type]),Vt=React.useMemo(()=>pt??(Tt==null?void 0:Tt.plain),[Tt==null?void 0:Tt.plain,pt]),$t=React.useMemo(()=>mt??(Tt==null?void 0:Tt.block),[Tt==null?void 0:Tt.block,mt]),Ft=React.useMemo(()=>At||(Tt==null?void 0:Tt.iconPosition)||"left",[Tt==null?void 0:Tt.iconPosition,At]),Ht=React.useMemo(()=>{var wn;return(wn=_e.disabled)!==null&&wn!==void 0?wn:Tt==null?void 0:Tt.disabled},[Tt==null?void 0:Tt.disabled,_e.disabled]),Qt=React.useMemo(()=>bt||(Tt==null?void 0:Tt.nativeType)||"button",[Tt==null?void 0:Tt.nativeType,bt]),hn=React.useMemo(()=>_e.tag||(Tt==null?void 0:Tt.tag)||"button",[Tt==null?void 0:Tt.tag,_e.tag]),Mn=clsx$1(rt,bem$9([Bt,Rt,{plain:Vt,loading:nt,disabled:Ht,hairline:ot,block:$t,round:ct,square:lt}]),{[BORDER_SURROUND]:ot},_e.shadow&&`${SHADOW}--${+_e.shadow}`),kn=Object.assign({},_e.style);et&&(kn.color=Vt?et:WHITE,Vt||(kn.background=et),et.indexOf("gradient")!==-1?kn.border=0:kn.borderColor=et);const Cn=wn=>{!nt&&!Ht&&_e.onClick&&_e.onClick(wn)},yn=()=>{if(nt){const{loadingSize:wn="20px"}=_e;return jsxRuntimeExports.jsx(Loading,{className:clsx$1(bem$9("loading")),size:wn,type:Mt,color:Bt==="default"?void 0:""})}return null},Ut=()=>_e.loading?yn():_e.icon?React.cloneElement(_e.icon,{className:clsx$1(bem$9("icon"))}):null,En=()=>{let wn;return nt?wn=it:wn=_e.children||_e.text,wn?jsxRuntimeExports.jsx("span",Object.assign({className:clsx$1(bem$9("text"))},{children:wn}),"text"):null},vn=()=>jsxRuntimeExports.jsxs("div",Object.assign({className:clsx$1(bem$9("content"))},{children:[Ft==="left"&&Ut(),En(),Ft==="right"&&Ut()]}));return jsxRuntimeExports.jsx(hn,Object.assign({},wt,{disabled:Ht,className:Mn,style:kn,type:Qt,onClick:Cn},{children:vn()}))},[bem$8]=createNamespace("button-group"),ButtonGroup=_e=>{var{className:et,style:nt,children:rt,onClick:ot}=_e,it=__rest$1(_e,["className","style","children","onClick"]);const ct=lt=>{it.disabled||ot==null||ot(lt)};return jsxRuntimeExports.jsx("div",Object.assign({onClick:ct,style:nt,className:clsx$1(et,bem$8([it.type,{round:it.round,plain:it.plain,disabled:it.disabled}]),it.shadow&&`${SHADOW}--${+it.shadow}`)},{children:jsxRuntimeExports.jsx(ButtonContext.Provider,Object.assign({value:{parent:it}},{children:rt}))}))},Button=Object.assign(Button$1,{Group:ButtonGroup});function mergeProps(..._e){const et=Object.assign({},_e[0]);return _e.forEach(nt=>{for(const rt in nt){const ot=nt[rt];et[rt]=et.hasOwnProperty(rt)?et[rt]:ot}}),et}const[bem$7]=createNamespace("badge"),Badge=_e=>{const et=mergeProps(_e,{tag:"div",showZero:!0}),{content:nt,max:rt,dot:ot,showZero:it,tag:ct="div"}=et,lt=ct,pt=()=>et.content?!0:isDef(nt)&&nt!==""&&(it||+nt!=0),mt=()=>!ot&&pt()?isDef(rt)&&isNumeric(nt==null?void 0:nt.toString())&&+nt>rt?`${rt}+`:nt:null,Mt=()=>{if(pt()||et.dot){let bt={background:et.color};if(et.offset){const[At,wt]=et.offset;et.children?(bt.top=addUnit(wt),bt.right=addUnit(At)):(bt.marginTop=addUnit(wt),bt.marginLeft=addUnit(At))}return et.children||(bt=Object.assign(Object.assign({},et.style),bt)),jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1({[et.className]:et.className&&!et.children},bem$7({dot:et.dot,fixed:!!et.children})),style:bt},{children:mt()}))}return null};return et.children?jsxRuntimeExports.jsxs(lt,Object.assign({className:clsx$1(bem$7("wrapper"),et.className),style:et.style,onClick:et.onClick,onTouchStart:et.onTouchStart},{children:[et.children,Mt()]})):Mt()};var __rest=function(_e,et){var nt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,rt=Object.getOwnPropertySymbols(_e);ot<rt.length;ot++)et.indexOf(rt[ot])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[ot])&&(nt[rt[ot]]=_e[rt[ot]]);return nt};function kebabCase$1(_e){return _e.substring(3).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}const IconBase=React.forwardRef((_e,et)=>{const{name:nt="",className:rt,style:ot,spin:it,rotate:ct,tabIndex:lt,onClick:pt,children:mt}=_e,Mt=__rest(_e,["name","className","style","spin","rotate","tabIndex","onClick","children"]),bt={};ct&&(bt.msTransform=`rotate(${ct}deg)`,bt.transform=`rotate(${ct}deg)`);const At=nt?kebabCase$1(nt):void 0;let wt=lt;wt===void 0&&pt&&(wt=-1);const Tt=Object.assign({role:"img","aria-label":At,focusable:"false","data-icon":At,"aria-hidden":"true",preserveAspectRatio:"xMidYMid meet",ref:et,tabIndex:wt,onClick:pt,className:["rv-icon",At?`rv-icon-${At}`:"",it?"rv-icon--spin":"",rt].join(" ").trim(),style:Object.assign(Object.assign({},ot),bt)},Mt);return React.cloneElement(mt,Tt)}),SvgIcon$1=_e=>reactExports.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},_e),reactExports.createElement("path",{d:"M560.149 501.223l255.344 255.344c16.272 16.272 16.272 42.654 0 58.926s-42.654 16.272-58.926 0L501.223 560.149 245.88 815.493c-16.272 16.272-42.654 16.272-58.925 0-16.272-16.272-16.272-42.654 0-58.926l255.344-255.344L186.954 245.88c-16.272-16.272-16.272-42.654 0-58.925 16.271-16.272 42.653-16.272 58.925 0l255.344 255.344 255.344-255.344c16.272-16.272 42.654-16.272 58.926 0 16.272 16.271 16.272 42.653 0 58.925L560.149 501.223z",fillRule:"nonzero"})),SvgCross=reactExports.forwardRef((_e,et)=>reactExports.createElement(IconBase,Object.assign({name:"SvgCross"},_e,{ref:et}),reactExports.createElement(SvgIcon$1,null))),SvgIcon=_e=>reactExports.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},_e),reactExports.createElement("path",{d:"M119.415 524.046c-9.708-9.693-11.278-24.766-2.72-35.554l20.007-25.223c8.201-10.34 23.543-12.936 34.386-5.699l173.175 115.585c9.134 6.097 24.856 5.303 33.384-1.616l457.6-371.25c10.286-8.345 26.397-7.634 35.412 1.368l11.272 11.255c9.81 9.795 9.096 25.343-1.187 35.611l-491.14 490.414c-15.28 15.258-40.369 14.59-56.099-1.116l-214.09-213.775z",fillRule:"nonzero"})),SvgSuccess=reactExports.forwardRef((_e,et)=>reactExports.createElement(IconBase,Object.assign({name:"SvgSuccess"},_e,{ref:et}),reactExports.createElement(SvgIcon,null)));function hasClass(_e,et){return _e.classList?!!et&&_e.classList.contains(et):(" "+(_e.className.baseVal||_e.className)+" ").indexOf(" "+et+" ")!==-1}function addClass(_e,et){_e.classList?_e.classList.add(et):hasClass(_e,et)||(typeof _e.className=="string"?_e.className=_e.className+" "+et:_e.setAttribute("class",(_e.className&&_e.className.baseVal||"")+" "+et))}function replaceClassName(_e,et){return _e.replace(new RegExp("(^|\\s)"+et+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(_e,et){_e.classList?_e.classList.remove(et):typeof _e.className=="string"?_e.className=replaceClassName(_e.className,et):_e.setAttribute("class",replaceClassName(_e.className&&_e.className.baseVal||"",et))}const config$1={disabled:!1},TransitionGroupContext$1=React.createContext(null);var UNMOUNTED$1="unmounted",EXITED$1="exited",ENTERING$1="entering",ENTERED$1="entered",EXITING$1="exiting",Transition$1=function(_e){_inheritsLoose$1(et,_e);function et(rt,ot){var it;it=_e.call(this,rt,ot)||this;var ct=ot,lt=ct&&!ct.isMounting?rt.enter:rt.appear,pt;return it.appearStatus=null,rt.in?lt?(pt=EXITED$1,it.appearStatus=ENTERING$1):pt=ENTERED$1:rt.unmountOnExit||rt.mountOnEnter?pt=UNMOUNTED$1:pt=EXITED$1,it.state={status:pt},it.nextCallback=null,it}et.getDerivedStateFromProps=function(ot,it){var ct=ot.in;return ct&&it.status===UNMOUNTED$1?{status:EXITED$1}:null};var nt=et.prototype;return nt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},nt.componentDidUpdate=function(ot){var it=null;if(ot!==this.props){var ct=this.state.status;this.props.in?ct!==ENTERING$1&&ct!==ENTERED$1&&(it=ENTERING$1):(ct===ENTERING$1||ct===ENTERED$1)&&(it=EXITING$1)}this.updateStatus(!1,it)},nt.componentWillUnmount=function(){this.cancelNextCallback()},nt.getTimeouts=function(){var ot=this.props.timeout,it,ct,lt;return it=ct=lt=ot,ot!=null&&typeof ot!="number"&&(it=ot.exit,ct=ot.enter,lt=ot.appear!==void 0?ot.appear:ct),{exit:it,enter:ct,appear:lt}},nt.updateStatus=function(ot,it){ot===void 0&&(ot=!1),it!==null?(this.cancelNextCallback(),it===ENTERING$1?this.performEnter(ot):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED$1&&this.setState({status:UNMOUNTED$1})},nt.performEnter=function(ot){var it=this,ct=this.props.enter,lt=this.context?this.context.isMounting:ot,pt=this.props.nodeRef?[lt]:[ReactDOM.findDOMNode(this),lt],mt=pt[0],Mt=pt[1],bt=this.getTimeouts(),At=lt?bt.appear:bt.enter;if(!ot&&!ct||config$1.disabled){this.safeSetState({status:ENTERED$1},function(){it.props.onEntered(mt)});return}this.props.onEnter(mt,Mt),this.safeSetState({status:ENTERING$1},function(){it.props.onEntering(mt,Mt),it.onTransitionEnd(At,function(){it.safeSetState({status:ENTERED$1},function(){it.props.onEntered(mt,Mt)})})})},nt.performExit=function(){var ot=this,it=this.props.exit,ct=this.getTimeouts(),lt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config$1.disabled){this.safeSetState({status:EXITED$1},function(){ot.props.onExited(lt)});return}this.props.onExit(lt),this.safeSetState({status:EXITING$1},function(){ot.props.onExiting(lt),ot.onTransitionEnd(ct.exit,function(){ot.safeSetState({status:EXITED$1},function(){ot.props.onExited(lt)})})})},nt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},nt.safeSetState=function(ot,it){it=this.setNextCallback(it),this.setState(ot,it)},nt.setNextCallback=function(ot){var it=this,ct=!0;return this.nextCallback=function(lt){ct&&(ct=!1,it.nextCallback=null,ot(lt))},this.nextCallback.cancel=function(){ct=!1},this.nextCallback},nt.onTransitionEnd=function(ot,it){this.setNextCallback(it);var ct=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),lt=ot==null&&!this.props.addEndListener;if(!ct||lt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var pt=this.props.nodeRef?[this.nextCallback]:[ct,this.nextCallback],mt=pt[0],Mt=pt[1];this.props.addEndListener(mt,Mt)}ot!=null&&setTimeout(this.nextCallback,ot)},nt.render=function(){var ot=this.state.status;if(ot===UNMOUNTED$1)return null;var it=this.props,ct=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var lt=_objectWithoutPropertiesLoose$2(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext$1.Provider,{value:null},typeof ct=="function"?ct(ot,lt):React.cloneElement(React.Children.only(ct),lt))},et}(React.Component);Transition$1.contextType=TransitionGroupContext$1;Transition$1.propTypes={};function noop$7(){}Transition$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$7,onEntering:noop$7,onEntered:noop$7,onExit:noop$7,onExiting:noop$7,onExited:noop$7};Transition$1.UNMOUNTED=UNMOUNTED$1;Transition$1.EXITED=EXITED$1;Transition$1.ENTERING=ENTERING$1;Transition$1.ENTERED=ENTERED$1;Transition$1.EXITING=EXITING$1;var _addClass=function(et,nt){return et&&nt&&nt.split(" ").forEach(function(rt){return addClass(et,rt)})},removeClass=function(et,nt){return et&&nt&&nt.split(" ").forEach(function(rt){return removeClass$1(et,rt)})},CSSTransition=function(_e){_inheritsLoose$1(et,_e);function et(){for(var rt,ot=arguments.length,it=new Array(ot),ct=0;ct<ot;ct++)it[ct]=arguments[ct];return rt=_e.call.apply(_e,[this].concat(it))||this,rt.appliedClasses={appear:{},enter:{},exit:{}},rt.onEnter=function(lt,pt){var mt=rt.resolveArguments(lt,pt),Mt=mt[0],bt=mt[1];rt.removeClasses(Mt,"exit"),rt.addClass(Mt,bt?"appear":"enter","base"),rt.props.onEnter&&rt.props.onEnter(lt,pt)},rt.onEntering=function(lt,pt){var mt=rt.resolveArguments(lt,pt),Mt=mt[0],bt=mt[1],At=bt?"appear":"enter";rt.addClass(Mt,At,"active"),rt.props.onEntering&&rt.props.onEntering(lt,pt)},rt.onEntered=function(lt,pt){var mt=rt.resolveArguments(lt,pt),Mt=mt[0],bt=mt[1],At=bt?"appear":"enter";rt.removeClasses(Mt,At),rt.addClass(Mt,At,"done"),rt.props.onEntered&&rt.props.onEntered(lt,pt)},rt.onExit=function(lt){var pt=rt.resolveArguments(lt),mt=pt[0];rt.removeClasses(mt,"appear"),rt.removeClasses(mt,"enter"),rt.addClass(mt,"exit","base"),rt.props.onExit&&rt.props.onExit(lt)},rt.onExiting=function(lt){var pt=rt.resolveArguments(lt),mt=pt[0];rt.addClass(mt,"exit","active"),rt.props.onExiting&&rt.props.onExiting(lt)},rt.onExited=function(lt){var pt=rt.resolveArguments(lt),mt=pt[0];rt.removeClasses(mt,"exit"),rt.addClass(mt,"exit","done"),rt.props.onExited&&rt.props.onExited(lt)},rt.resolveArguments=function(lt,pt){return rt.props.nodeRef?[rt.props.nodeRef.current,lt]:[lt,pt]},rt.getClassNames=function(lt){var pt=rt.props.classNames,mt=typeof pt=="string",Mt=mt&&pt?pt+"-":"",bt=mt?""+Mt+lt:pt[lt],At=mt?bt+"-active":pt[lt+"Active"],wt=mt?bt+"-done":pt[lt+"Done"];return{baseClassName:bt,activeClassName:At,doneClassName:wt}},rt}var nt=et.prototype;return nt.addClass=function(ot,it,ct){var lt=this.getClassNames(it)[ct+"ClassName"],pt=this.getClassNames("enter"),mt=pt.doneClassName;it==="appear"&&ct==="done"&&mt&&(lt+=" "+mt),ct==="active"&&ot&&ot.scrollTop,lt&&(this.appliedClasses[it][ct]=lt,_addClass(ot,lt))},nt.removeClasses=function(ot,it){var ct=this.appliedClasses[it],lt=ct.base,pt=ct.active,mt=ct.done;this.appliedClasses[it]={},lt&&removeClass(ot,lt),pt&&removeClass(ot,pt),mt&&removeClass(ot,mt)},nt.render=function(){var ot=this.props;ot.classNames;var it=_objectWithoutPropertiesLoose$2(ot,["classNames"]);return React.createElement(Transition$1,_extends$1({},it,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},et}(React.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};const[bem$6]=createNamespace("overlay"),Overlay=_e=>{const et=reactExports.useRef(null),nt=mergeProps(_e,{stopPropagation:["click"],lockScroll:!0,duration:300}),{visible:rt,duration:ot}=nt,it=lt=>{nt.lockScroll&&preventDefault(lt)},ct=()=>{const lt=Object.assign(Object.assign({zIndex:nt.zIndex!==void 0?+nt.zIndex:void 0,touchAction:nt.lockScroll&&"none"},nt.style),nt.customStyle);return isDef(ot)&&(lt.animationDuration=`${ot}ms`),withStopPropagation(nt.stopPropagation,jsxRuntimeExports.jsx("div",Object.assign({ref:et,style:lt,onClick:pt=>{var mt;pt.target===pt.currentTarget&&((mt=nt.onClick)===null||mt===void 0||mt.call(nt,pt))},className:clsx$1(bem$6(),nt.className)},{children:nt.children})))};return useEventListener("touchmove",it,{target:et}),jsxRuntimeExports.jsx(CSSTransition,Object.assign({nodeRef:et,mountOnEnter:!0,unmountOnExit:!0,in:rt,timeout:ot,classNames:"rv-fade"},{children:ct()}))};function callInterceptor(_e){const{interceptor:et,args:nt,done:rt,canceled:ot}=_e;if(et){const it=et.apply(null,nt||[]);isPromise(it)?it.then(ct=>{ct?rt():ot&&ot()}).catch(noop$8):it?rt():ot&&ot()}else rt()}function resolveContainer(_e){return(typeof _e=="function"?_e():_e)||document.body}function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function renderToContainer(_e,et){if(canUseDom()&&_e){const nt=resolveContainer(_e);return reactDomExports.createPortal(et,nt)}return et}const PopupContext=reactExports.createContext({});let supportsPassive=!1;if(canUseDom())try{const _e={};Object.defineProperty(_e,"passive",{get(){supportsPassive=!0}}),window.addEventListener("test-passive",null,_e)}catch{}let totalLockCount=0;const BODY_LOCK_CLASS="rv-overflow-hidden";function useLockScroll(_e,et){const nt=useTouch(),rt=ct=>{nt.move(ct);const lt=nt.deltaY.current>0?"10":"01",pt=getScrollParent(ct.target,_e.current);if(!pt)return;const{scrollHeight:mt,offsetHeight:Mt,scrollTop:bt}=pt;let At="11";bt===0?At=Mt>=mt?"00":"01":bt+Mt>=mt&&(At="10"),At!=="11"&&nt.isVertical()&&!(parseInt(At,2)&parseInt(lt,2))&&ct.cancelable&&ct.preventDefault()},ot=()=>{document.addEventListener("touchstart",nt.start),document.addEventListener("touchmove",rt,supportsPassive?{passive:!1}:!1),totalLockCount||document.body.classList.add(BODY_LOCK_CLASS),totalLockCount++},it=()=>{totalLockCount&&(document.removeEventListener("touchstart",nt.start),document.removeEventListener("touchmove",rt),totalLockCount--,totalLockCount||document.body.classList.remove(BODY_LOCK_CLASS))};reactExports.useEffect(()=>{if(et)return ot(),()=>{it()}},[et])}let globalZIndex=2e3;const[bem$5]=createNamespace("popup"),Popup=reactExports.forwardRef((_e,et)=>{var nt;const rt=mergeProps(_e,{duration:300,overlay:!0,lockScroll:!0,position:"center",closeIcon:jsxRuntimeExports.jsx(SvgCross,{}),closeIconPosition:"top-right",closeOnClickOverlay:!0,stopPropagation:["click"],teleport:()=>document.body}),{round:ot,closeable:it,title:ct,description:lt,children:pt,duration:mt,closeIcon:Mt,position:bt}=rt,At=reactExports.useRef(!1),wt=reactExports.useRef((nt=rt.zIndex)!==null&&nt!==void 0?nt:globalZIndex),Tt=reactExports.useRef(),[Rt,Bt]=reactExports.useState(rt.visible),[Vt,$t]=reactExports.useState(Rt),Ft=reactExports.useMemo(()=>{const vn=Object.assign({zIndex:wt.current},rt.style);if(isDef(rt.duration)){const wn=rt.position==="center"?"animationDuration":"transitionDuration";vn[wn]=`${rt.duration}ms`}return vn},[wt.current,rt.position,rt.style,rt.duration]),Ht=()=>{var vn;rt.zIndex!==void 0?wt.current=+rt.zIndex:wt.current=globalZIndex++,At.current=!0,(vn=rt.onOpen)===null||vn===void 0||vn.call(rt)},Qt=()=>{callInterceptor({interceptor:rt.beforeClose,args:["close"],done:()=>{var vn;At.current=!1,(vn=rt.onClose)===null||vn===void 0||vn.call(rt)}})},_n=vn=>{var wn;(wn=rt.onClickOverlay)===null||wn===void 0||wn.call(rt,vn),rt.closeOnClickOverlay&&Qt()},hn=()=>rt.overlay?jsxRuntimeExports.jsx(Overlay,{visible:Rt,className:rt.overlayClass,customStyle:rt.overlayStyle,zIndex:wt.current,duration:mt,onClick:_n}):null,Mn=vn=>{rt.onClickCloseIcon&&rt.onClickCloseIcon(vn),Qt()},kn=()=>{if(it){const{closeIconPosition:vn}=rt;return Mt?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$5("close-icon",vn)),onClick:Mn},{children:Mt})):null}return null},Cn=()=>ct?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$5("title"))},{children:ct})):null,yn=()=>lt?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$5("description"))},{children:lt})):null,Ut=()=>{const{safeAreaInsetBottom:vn}=rt;return withStopPropagation(rt.stopPropagation,jsxRuntimeExports.jsxs("div",Object.assign({ref:Tt,style:Object.assign(Object.assign({},Ft),{display:!Rt&&!Vt?"none":void 0}),className:clsx$1(bem$5({round:ot,[bt]:bt}),{"rv-safe-area-bottom":vn},rt.className),onClick:rt.onClick},{children:[Cn(),yn(),pt,kn()]})))},En=()=>{const{transition:vn,destroyOnClose:wn,forceRender:Ln}=rt,Kn=bt==="center"?"rv-fade":`rv-popup-slide-${bt}`;return jsxRuntimeExports.jsx(CSSTransition,Object.assign({in:Rt,nodeRef:Tt,timeout:mt,classNames:vn||Kn,mountOnEnter:!Ln,unmountOnExit:wn,onEnter:Ht,onEntered:rt.onOpened,onExited:()=>{var Rn;$t(!1),(Rn=rt.onClosed)===null||Rn===void 0||Rn.call(rt)}},{children:Ut()}))};return useEventListener("popstate",()=>{rt.closeOnPopstate&&Qt()}),useIsomorphicLayoutEffect$1(()=>{Rt&&$t(!0)},[Rt]),useIsomorphicLayoutEffect$1(()=>{Bt(rt.visible)},[rt.visible]),useLockScroll(Tt,Rt&&rt.lockScroll),reactExports.useImperativeHandle(et,()=>({popupRef:Tt})),renderToContainer(rt.teleport,jsxRuntimeExports.jsxs(PopupContext.Provider,Object.assign({value:{visible:Rt}},{children:[hn(),En()]})))}),ActionButtonContext=reactExports.createContext({}),[bem$4]=createNamespace("action-bar"),ActionBar$1=_e=>{const et=mergeProps(_e,{safeAreaInsetBottom:!0}),nt=reactExports.useMemo(()=>React.Children.toArray(et.children),[et.children]);return jsxRuntimeExports.jsx(ActionButtonContext.Provider,Object.assign({value:{parent:{children:nt}}},{children:jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(et.className,bem$4(),{"rv-safe-area-bottom":et.safeAreaInsetBottom}),style:et.style},{children:React.Children.toArray(et.children).filter(Boolean).map((rt,ot)=>React.cloneElement(rt,{index:ot}))}))}))},[bem$3]=createNamespace("action-bar-icon"),ActionBarIcon=_e=>{const et=()=>{const{badge:nt,icon:rt}=_e;return rt?jsxRuntimeExports.jsx(Badge,Object.assign({},nt,{className:clsx$1(bem$3("icon"))},{children:rt})):null};return jsxRuntimeExports.jsxs("div",Object.assign({role:"button",className:clsx$1(_e.className,bem$3()),style:_e.style,tabIndex:0,onClick:_e.onClick},{children:[et(),_e.children||_e.text]}))},[bem$2]=createNamespace("action-bar-button"),ActionBarButton=_e=>{const{type:et,icon:nt,text:rt,color:ot,loading:it,disabled:ct,index:lt}=_e,{parent:pt}=reactExports.useContext(ActionButtonContext),mt=reactExports.useMemo(()=>{if(pt){const bt=pt.children[lt-1];return!(bt&&"isButton"in bt.type)}return!1},[lt,pt]),Mt=reactExports.useMemo(()=>{if(pt){const bt=pt.children[lt+1];return!(bt&&"isButton"in bt.type)}return!1},[lt,pt]);return jsxRuntimeExports.jsx(Button,Object.assign({className:clsx$1(_e.className,bem$2([et,{last:Mt,first:mt}])),style:_e.style,size:"large",type:et,icon:nt,color:ot,loading:it,disabled:ct,onClick:_e.onClick},{children:_e.children?_e.children:rt}))},ActionBarButtonNameSpace=Object.assign(ActionBarButton,{isButton:!0}),ActionBar=Object.assign(ActionBar$1,{Icon:ActionBarIcon,Button:ActionBarButtonNameSpace});function assignKey(_e,et,nt){const rt=et[nt];isDef(rt)&&(!Object.prototype.hasOwnProperty.call(_e,nt)||!isObject$6(rt)?_e[nt]=rt:_e[nt]=deepAssign(Object(_e[nt]),et[nt]))}function deepAssign(_e,et){return Object.keys(et).forEach(nt=>{assignKey(_e,et,nt)}),_e}const base={name:"",tel:"",save:"",confirm:"",cancel:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",confirm:"",startEnd:"/",weekdays:["","","","","","",""],monthTitle:(_e,et)=>`${_e}${et}`,rangePrompt:_e=>` ${_e} `},vanPicker:{select:""},vanContactCard:{addText:""},vanContactList:{addText:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"...",loading:"..."},vanSubmitBar:{label:""},vanCoupon:{unlimited:"",discount:_e=>`${_e}`,condition:_e=>`${_e}`},vanCouponCell:{title:"",count:_e=>`${_e}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",postal:"",areaEmpty:"",addressEmpty:"",postalEmpty:"",defaultAddress:""},vanAddressEditDetail:{label:"",placeholder:""},vanAddressList:{add:""}},zhCN=deepAssign(base,{}),INITIAL_STATE={locale:zhCN},ConfigProvider=reactExports.createContext(INITIAL_STATE),[bem$1]=createNamespace("dialog"),Dialog$1=_e=>{const{locale:et}=reactExports.useContext(ConfigProvider),nt=mergeProps(_e,{transition:"rv-dialog-bounce",showConfirmButton:!0,closeOnPopstate:!0}),{width:rt,title:ot,theme:it,visible:ct,message:lt,className:pt,messageAlign:mt,closeOnClickOverlay:Mt,onClickCloseIcon:bt}=nt,At=__rest$1(nt,["width","title","theme","visible","message","className","messageAlign","closeOnClickOverlay","onClickCloseIcon"]),wt=()=>nt.title?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$1("header",{isolated:!nt.message&&!nt.children}))},{children:ot})):null,Tt=()=>nt.children?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$1("content"))},{children:nt.children})):lt?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$1("content",{isolated:!ot}))},{children:jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem$1("message",{"has-title":ot,[mt]:mt}))},{children:lt}))})):null,Rt=()=>{var $t,Ft,Ht,Qt,_n,hn;return jsxRuntimeExports.jsxs("div",Object.assign({className:clsx$1(BORDER_TOP,bem$1("footer"))},{children:[nt.showCancelButton&&jsxRuntimeExports.jsx(Button,{size:"large",text:nt.cancelButtonText||et.cancel,className:clsx$1(bem$1("cancel")),style:{color:nt.cancelButtonColor},loading:($t=nt.cancelProps)===null||$t===void 0?void 0:$t.loading,disabled:(Ft=nt.cancelProps)===null||Ft===void 0?void 0:Ft.disabled,onClick:!((Ht=nt.cancelProps)===null||Ht===void 0)&&Ht.loading?noop$8:nt.onCancel}),nt.showConfirmButton&&jsxRuntimeExports.jsx(Button,{size:"large",text:nt.confirmButtonText||et.confirm,className:clsx$1(bem$1("confirm"),{[BORDER_LEFT]:nt.showCancelButton}),round:it==="round-button"||void 0,style:{color:nt.confirmButtonColor},loading:(Qt=nt.confirmProps)===null||Qt===void 0?void 0:Qt.loading,disabled:(_n=nt.confirmProps)===null||_n===void 0?void 0:_n.disabled,onClick:!((hn=nt.confirmProps)===null||hn===void 0)&&hn.loading?noop$8:nt.onConfirm})]}))},Bt=()=>{var $t,Ft,Ht,Qt,_n,hn;return jsxRuntimeExports.jsxs(ActionBar,Object.assign({className:clsx$1(bem$1("footer"))},{children:[nt.showCancelButton&&jsxRuntimeExports.jsx(ActionBar.Button,{type:"warning",text:nt.cancelButtonText||et.cancel,className:clsx$1(bem$1("cancel")),color:nt.cancelButtonColor,loading:($t=nt.cancelProps)===null||$t===void 0?void 0:$t.loading,disabled:(Ft=nt.cancelProps)===null||Ft===void 0?void 0:Ft.disabled,onClick:!((Ht=nt.cancelProps)===null||Ht===void 0)&&Ht.loading?noop$8:nt.onCancel}),nt.showConfirmButton&&jsxRuntimeExports.jsx(ActionBar.Button,{type:"danger",text:nt.confirmButtonText||et.confirm,className:clsx$1(bem$1("confirm")),color:nt.confirmButtonColor,loading:(Qt=nt.confirmProps)===null||Qt===void 0?void 0:Qt.loading,disabled:(_n=nt.confirmProps)===null||_n===void 0?void 0:_n.disabled,onClick:!((hn=nt.confirmProps)===null||hn===void 0)&&hn.loading?noop$8:nt.onConfirm})]}))},Vt=()=>nt.footer?nt.footer:nt.theme==="round-button"?Bt():Rt();return jsxRuntimeExports.jsxs(Popup,Object.assign({},At,{visible:ct,className:clsx$1(bem$1([it]),pt),style:{width:addUnit(rt)},"aria-labelledby":ot||lt,closeOnClickOverlay:Mt,onClickCloseIcon:bt,onClose:nt.onClose,onClosed:nt.onClosed},{children:[wt(),Tt(),Vt()]}))};Number((reactExports.version||"").split(".")[0]);const reactDomVersion=Number((reactDomExports.version||"").split(".")[0]),fullClone=Object.assign({},ReactDOM$1),{render:reactRender,unmountComponentAtNode}=fullClone;let createRoot$1;try{reactDomVersion>=18&&fullClone.createRoot&&(createRoot$1=fullClone.createRoot)}catch{}function toggleWarning(_e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:et}=fullClone;et&&typeof et=="object"&&(et.usingClientEntryPoint=_e)}const MARK="__react_vant_root__";function legacyRender(_e,et){reactRender(_e,et)}function concurrentRender(_e,et){toggleWarning(!0);const nt=et[MARK]||createRoot$1(et);toggleWarning(!1),nt.render(_e),et[MARK]=nt}function render(_e,et){if(createRoot$1){concurrentRender(_e,et);return}legacyRender(_e,et)}function legacyUnmount(_e){return unmountComponentAtNode(_e)}function concurrentUnmount(_e){return __awaiter(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var et;(et=_e[MARK])===null||et===void 0||et.unmount(),delete _e[MARK]})})}function unmount(_e){return createRoot$1?concurrentUnmount(_e):legacyUnmount(_e)}const Dialog=Dialog$1;Dialog.show=_e=>{if(!canUseDom())return null;const et={overlay:!0,closeable:!1,closeIcon:jsxRuntimeExports.jsx(SvgCross,{}),lockScroll:!0,transition:"rv-dialog-bounce",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1},{onClosed:nt,onCancel:rt=noop$8,onConfirm:ot=noop$8,onClose:it=noop$8,cancelProps:ct,confirmProps:lt}=_e,pt=__rest$1(_e,["onClosed","onCancel","onConfirm","onClose","cancelProps","confirmProps"]),mt=resolveContainer(_e.teleport),Mt=document.createElement("div");mt.appendChild(Mt);let bt=noop$8;const At=()=>{const[wt,Tt]=reactExports.useState(!1),[Rt,Bt]=reactExports.useState(!1),[Vt,$t]=reactExports.useState(!1);reactExports.useEffect(()=>{Tt(!0)},[]),bt=()=>{Tt(!1),it&&it()};const Ft=()=>{nt&&nt(),unmount(Mt)&&Mt.parentNode&&Mt.parentNode.removeChild(Mt)},Ht=_n=>__awaiter(void 0,void 0,void 0,function*(){const hn=setTimeout(()=>$t(!0));(yield ot(_n))!==!1?(clearTimeout(hn),bt()):(clearTimeout(hn),$t(!1))}),Qt=(_n,hn)=>__awaiter(void 0,void 0,void 0,function*(){if(hn){bt();return}const Mn=setTimeout(()=>Bt(!0));(yield rt(_n))!==!1?(clearTimeout(Mn),bt()):(clearTimeout(Mn),Bt(!1))});return jsxRuntimeExports.jsx(Dialog$1,Object.assign({},et,pt,{visible:wt,teleport:()=>Mt,cancelProps:Object.assign({loading:Rt},ct),confirmProps:Object.assign({loading:Vt},lt),onClose:bt,onCancel:Qt,onConfirm:Ht,onClosed:Ft}))};return render(jsxRuntimeExports.jsx(At,{}),Mt),bt};Dialog.alert=_e=>{const{onConfirm:et=noop$8}=_e;return new Promise(nt=>{Dialog.show(Object.assign(Object.assign({},_e),{onConfirm:rt=>{et(rt),nt(rt)}}))})};Dialog.confirm=_e=>{const{onCancel:et=noop$8,onConfirm:nt=noop$8}=_e;return new Promise((rt,ot)=>{Dialog.show(Object.assign(Object.assign({showCancelButton:!0},_e),{onCancel:it=>{et(it),ot()},onConfirm:it=>{nt(it),rt(!0)}}))})};let lockCount=0;function lockClick(_e){_e?(lockCount||document.body.classList.add("rv-toast--unclickable"),lockCount+=1):lockCount&&(lockCount-=1,lockCount||document.body.classList.remove("rv-toast--unclickable"))}const[bem]=createNamespace("toast"),Toast$1=_e=>{const et=mergeProps(_e,{type:"info",duration:2e3,position:"middle",transition:"rv-fade",loadingType:"circular",overlay:!1}),nt=()=>{et.closeOnClick&&et.onClose()};reactExports.useEffect(()=>{if(!et.visible){lockClick(!1);return}let it=!1;const ct=et.visible&&et.forbidClick;it!==ct&&(it=ct,lockClick(it))},[et.visible,et.forbidClick]);const rt=()=>{const{icon:it,type:ct,iconSize:lt,loadingType:pt}=et;if(it||ct==="success"||ct==="fail"){const Mt=ct==="fail"?jsxRuntimeExports.jsx(SvgCross,{}):jsxRuntimeExports.jsx(SvgSuccess,{});return React.cloneElement(it||Mt,{className:clsx$1(bem("icon")),fontSize:lt})}return ct==="loading"?jsxRuntimeExports.jsx(Loading,{className:clsx$1(bem("loading")),type:pt}):null},ot=()=>{const{message:it}=et;return isDef(it)&&it!==""?jsxRuntimeExports.jsx("div",Object.assign({className:clsx$1(bem("info"))},{children:it})):null};return jsxRuntimeExports.jsxs(Popup,Object.assign({className:clsx$1([bem([et.position,{[et.type]:!et.icon}]),et.className]),visible:et.visible,overlay:et.overlay,transition:et.transition,overlayClass:et.overlayClass,overlayStyle:et.overlayStyle,closeOnClickOverlay:et.closeOnClickOverlay,lockScroll:!1,onClick:nt,onClose:et.onClose,onClosed:et.onClosed,onOpened:et.onOpened,teleport:et.teleport},{children:[rt(),ot()]}))},defaultOptions$3={message:"",className:"",type:"info",position:"middle",forbidClick:!1,duration:2e3,teleport:()=>document.body},toastArray=[];let allowMultiple=!1,currentOptions=extend$3({},defaultOptions$3);const defaultOptionsMap=new Map;function syncClear(){let _e=toastArray.pop();for(;_e;)_e(),_e=toastArray.pop()}function nextTickClear(){setTimeout(syncClear)}const ToastObj=_e=>{if(!canUseDom())return null;const et=parseOptions(_e),nt={config:()=>{},clear:()=>null};let rt=0;const{onClose:ot,teleport:it}=et,ct=document.createElement("div");resolveContainer(it).appendChild(ct);const pt=()=>{const mt=Object.assign({duration:2e3},et),[Mt,bt]=reactExports.useState(!1),[At,wt]=reactExports.useState(Object.assign({},mt)),Tt=reactExports.useCallback(()=>{At.forbidClick&&lockClick(!1),bt(!1),window.setTimeout(()=>{unmount(ct)&&ct.parentNode&&ct.parentNode.removeChild(ct)},+At.duration||+defaultOptions$3.duration)},[ct]),Rt=reactExports.useCallback(()=>{bt(!1),ot&&ot()},[]);return nt.clear=Tt,nt.config=reactExports.useCallback(Bt=>{wt(Vt=>typeof Bt=="function"?Object.assign(Object.assign({},Vt),Bt(Vt)):Object.assign(Object.assign({},Vt),Bt))},[wt]),reactExports.useEffect(()=>(bt(!0),allowMultiple||syncClear(),toastArray.push(Tt),At.duration!==0&&"duration"in At&&(rt=window.setTimeout(Rt,+At.duration)),()=>{rt!==0&&window.clearTimeout(rt)}),[]),jsxRuntimeExports.jsx(Toast$1,Object.assign({},At,{visible:Mt,teleport:()=>ct,onClose:Rt,onClosed:Tt}))};return render(jsxRuntimeExports.jsx(pt,{}),ct),nt};function parseOptions(_e){return isObject$6(_e)?_e:{message:_e}}const createMethod=_e=>et=>ToastObj(Object.assign(Object.assign(Object.assign(Object.assign({},currentOptions),defaultOptionsMap.get(_e)),parseOptions(et)),{type:_e}));["info","loading","success","fail"].forEach(_e=>{ToastObj[_e]=createMethod(_e)});ToastObj.allowMultiple=(_e=!0)=>{allowMultiple=_e};ToastObj.clear=nextTickClear;function setDefaultOptions(_e,et){typeof _e=="string"?defaultOptionsMap.set(_e,et):extend$3(currentOptions,_e)}ToastObj.setDefaultOptions=setDefaultOptions;ToastObj.resetDefaultOptions=_e=>{typeof _e=="string"?defaultOptionsMap.delete(_e):(currentOptions=extend$3({},defaultOptions$3),defaultOptionsMap.clear())};const Toast=ToastObj;function _typeof$3(_e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$3(_e)}function toPrimitive(_e,et){if(_typeof$3(_e)!="object"||!_e)return _e;var nt=_e[Symbol.toPrimitive];if(nt!==void 0){var rt=nt.call(_e,et||"default");if(_typeof$3(rt)!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function toPropertyKey(_e){var et=toPrimitive(_e,"string");return _typeof$3(et)=="symbol"?et:et+""}function _defineProperty$6(_e,et,nt){return(et=toPropertyKey(et))in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}function ownKeys$5(_e,et){var nt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(ot){return Object.getOwnPropertyDescriptor(_e,ot).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread2(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$5(Object(nt),!0).forEach(function(rt){_defineProperty$6(_e,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(nt)):ownKeys$5(Object(nt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return _e}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(_e,et){(function(){var nt,rt="4.17.21",ot=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ct="Expected a function",lt="Invalid `variable` option passed into `_.template`",pt="__lodash_hash_undefined__",mt=500,Mt="__lodash_placeholder__",bt=1,At=2,wt=4,Tt=1,Rt=2,Bt=1,Vt=2,$t=4,Ft=8,Ht=16,Qt=32,_n=64,hn=128,Mn=256,kn=512,Cn=30,yn="...",Ut=800,En=16,vn=1,wn=2,Ln=3,Kn=1/0,Rn=9007199254740991,Tn=17976931348623157e292,Un=NaN,$n=4294967295,Vn=$n-1,tr=$n>>>1,Jn=[["ary",hn],["bind",Bt],["bindKey",Vt],["curry",Ft],["curryRight",Ht],["flip",kn],["partial",Qt],["partialRight",_n],["rearg",Mn]],wr="[object Arguments]",jr="[object Array]",Zt="[object AsyncFunction]",hr="[object Boolean]",lo="[object Date]",_o="[object DOMException]",bo="[object Error]",Hr="[object Function]",Do="[object GeneratorFunction]",Oo="[object Map]",zo="[object Number]",qo="[object Null]",_i="[object Object]",na="[object Promise]",Qn="[object Proxy]",sr="[object RegExp]",ar="[object Set]",Or="[object String]",Dr="[object Symbol]",lr="[object Undefined]",cr="[object WeakMap]",gr="[object WeakSet]",Mr="[object ArrayBuffer]",Ar="[object DataView]",Ir="[object Float32Array]",mo="[object Float64Array]",Ao="[object Int8Array]",jn="[object Int16Array]",Br="[object Int32Array]",Pn="[object Uint8Array]",Xr="[object Uint8ClampedArray]",po="[object Uint16Array]",fo="[object Uint32Array]",Us=/\b__p \+= '';/g,ao=/\b(__p \+=) '' \+/g,xa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$r=/&(?:amp|lt|gt|quot|#39);/g,Gr=/[&<>"']/g,Ll=RegExp($r.source),Ss=RegExp(Gr.source),Fo=/<%-([\s\S]+?)%>/g,Cp=/<%([\s\S]+?)%>/g,Js=/<%=([\s\S]+?)%>/g,ls=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zs=/^\w*$/,ou=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mu=/[\\^$.*+?()[\]{}|]/g,lp=RegExp(Mu.source),Nl=/^\s+/,Ts=/\s/,qs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,iu=/\{\n\/\* \[wrapped with (.+)\] \*/,ds=/,? & /,Gs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ga=/[()=,{}\[\]\/\s]/,Du=/\\(\\)?/g,pn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sn=/\w*$/,xs=/^[-+]0x[0-9a-f]+$/i,Wo=/^0b[01]+$/i,dm=/^\[object .+?Constructor\]$/,dp=/^0o[0-7]+$/i,Ql=/^(?:0|[1-9]\d*)$/,_d=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ep=/($^)/,zu=/['\n\r\u2028\u2029\\]/g,Fl="\\ud800-\\udfff",Lp="\\u0300-\\u036f",Qs="\\ufe20-\\ufe2f",Zo="\\u20d0-\\u20ff",Po=Lp+Qs+Zo,Ku="\\u2700-\\u27bf",as="a-z\\xdf-\\xf6\\xf8-\\xff",to="\\xac\\xb1\\xd7\\xf7",vr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yo="\\u2000-\\u206f",yo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",ns="\\ufe0e\\ufe0f",Zr=to+vr+Yo+yo,fr="[']",tp="["+Fl+"]",ku="["+Zr+"]",_c="["+Po+"]",Wu="\\d+",Il="["+Ku+"]",Eu="["+as+"]",Bl="[^"+Fl+Zr+Wu+Ku+as+Ru+"]",Fu="\\ud83c[\\udffb-\\udfff]",Qu="(?:"+_c+"|"+Fu+")",Ou="[^"+Fl+"]",cu="(?:\\ud83c[\\udde6-\\uddff]){2}",Vs="[\\ud800-\\udbff][\\udc00-\\udfff]",ps="["+Ru+"]",gu="\\u200d",Au="(?:"+Eu+"|"+Bl+")",zs="(?:"+ps+"|"+Bl+")",uu="(?:"+fr+"(?:d|ll|m|re|s|t|ve))?",eu="(?:"+fr+"(?:D|LL|M|RE|S|T|VE))?",lu=Qu+"?",rs="["+ns+"]?",mu="(?:"+gu+"(?:"+[Ou,cu,Vs].join("|")+")"+rs+lu+")*",Sp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tu=rs+lu+mu,Lu="(?:"+[Il,cu,Vs].join("|")+")"+Tu,np="(?:"+[Ou+_c+"?",_c,cu,Vs,tp].join("|")+")",pm=RegExp(fr,"g"),tu=RegExp(_c,"g"),rp=RegExp(Fu+"(?="+Fu+")|"+np+Tu,"g"),Tl=RegExp([ps+"?"+Eu+"+"+uu+"(?="+[ku,ps,"$"].join("|")+")",zs+"+"+eu+"(?="+[ku,ps+Au,"$"].join("|")+")",ps+"?"+Au+"+"+uu,ps+"+"+eu,zp,Sp,Wu,Lu].join("|"),"g"),ju=RegExp("["+gu+Fl+Po+ns+"]"),Kp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ip=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Es=-1,ws={};ws[Ir]=ws[mo]=ws[Ao]=ws[jn]=ws[Br]=ws[Pn]=ws[Xr]=ws[po]=ws[fo]=!0,ws[wr]=ws[jr]=ws[Mr]=ws[hr]=ws[Ar]=ws[lo]=ws[bo]=ws[Hr]=ws[Oo]=ws[zo]=ws[_i]=ws[sr]=ws[ar]=ws[Or]=ws[cr]=!1;var dr={};dr[wr]=dr[jr]=dr[Mr]=dr[Ar]=dr[hr]=dr[lo]=dr[Ir]=dr[mo]=dr[Ao]=dr[jn]=dr[Br]=dr[Oo]=dr[zo]=dr[_i]=dr[sr]=dr[ar]=dr[Or]=dr[Dr]=dr[Pn]=dr[Xr]=dr[po]=dr[fo]=!0,dr[bo]=dr[Hr]=dr[cr]=!1;var mr={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},so={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ds=parseFloat,kr=parseInt,Fr=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_u=typeof self=="object"&&self&&self.Object===Object&&self,fs=Fr||_u||Function("return this")(),ss=et&&!et.nodeType&&et,nu=ss&&!0&&_e&&!_e.nodeType&&_e,Vl=nu&&nu.exports===ss,Yr=Vl&&Fr.process,As=function(){try{var _r=nu&&nu.require&&nu.require("util").types;return _r||Yr&&Yr.binding&&Yr.binding("util")}catch{}}(),op=As&&As.isArrayBuffer,kp=As&&As.isDate,xm=As&&As.isMap,pp=As&&As.isRegExp,Qm=As&&As.isSet,Bu=As&&As.isTypedArray;function Ks(_r,Nr,Rr){switch(Rr.length){case 0:return _r.call(Nr);case 1:return _r.call(Nr,Rr[0]);case 2:return _r.call(Nr,Rr[0],Rr[1]);case 3:return _r.call(Nr,Rr[0],Rr[1],Rr[2])}return _r.apply(Nr,Rr)}function wm(_r,Nr,Rr,Co){for(var _a=-1,_s=_r==null?0:_r.length;++_a<_s;){var bu=_r[_a];Nr(Co,bu,Rr(bu),_r)}return Co}function Nu(_r,Nr){for(var Rr=-1,Co=_r==null?0:_r.length;++Rr<Co&&Nr(_r[Rr],Rr,_r)!==!1;);return _r}function Np(_r,Nr){for(var Rr=_r==null?0:_r.length;Rr--&&Nr(_r[Rr],Rr,_r)!==!1;);return _r}function e_(_r,Nr){for(var Rr=-1,Co=_r==null?0:_r.length;++Rr<Co;)if(!Nr(_r[Rr],Rr,_r))return!1;return!0}function Pl(_r,Nr){for(var Rr=-1,Co=_r==null?0:_r.length,_a=0,_s=[];++Rr<Co;){var bu=_r[Rr];Nr(bu,Rr,_r)&&(_s[_a++]=bu)}return _s}function Jr(_r,Nr){var Rr=_r==null?0:_r.length;return!!Rr&&Ws(_r,Nr,0)>-1}function du(_r,Nr,Rr){for(var Co=-1,_a=_r==null?0:_r.length;++Co<_a;)if(Rr(Nr,_r[Co]))return!0;return!1}function Qo(_r,Nr){for(var Rr=-1,Co=_r==null?0:_r.length,_a=Array(Co);++Rr<Co;)_a[Rr]=Nr(_r[Rr],Rr,_r);return _a}function _l(_r,Nr){for(var Rr=-1,Co=Nr.length,_a=_r.length;++Rr<Co;)_r[_a+Rr]=Nr[Rr];return _r}function Wp(_r,Nr,Rr,Co){var _a=-1,_s=_r==null?0:_r.length;for(Co&&_s&&(Rr=_r[++_a]);++_a<_s;)Rr=Nr(Rr,_r[_a],_a,_r);return Rr}function hs(_r,Nr,Rr,Co){var _a=_r==null?0:_r.length;for(Co&&_a&&(Rr=_r[--_a]);_a--;)Rr=Nr(Rr,_r[_a],_a,_r);return Rr}function uo(_r,Nr){for(var Rr=-1,Co=_r==null?0:_r.length;++Rr<Co;)if(Nr(_r[Rr],Rr,_r))return!0;return!1}var ru=ys("length");function Hs(_r){return _r.split("")}function Xs(_r){return _r.match(Gs)||[]}function Yp(_r,Nr,Rr){var Co;return Rr(_r,function(_a,_s,bu){if(Nr(_a,_s,bu))return Co=_s,!1}),Co}function Uo(_r,Nr,Rr,Co){for(var _a=_r.length,_s=Rr+(Co?1:-1);Co?_s--:++_s<_a;)if(Nr(_r[_s],_s,_r))return _s;return-1}function Ws(_r,Nr,Rr){return Nr===Nr?n_(_r,Nr,Rr):Uo(_r,cs,Rr)}function So(_r,Nr,Rr,Co){for(var _a=Rr-1,_s=_r.length;++_a<_s;)if(Co(_r[_a],Nr))return _a;return-1}function cs(_r){return _r!==_r}function ba(_r,Nr){var Rr=_r==null?0:_r.length;return Rr?Fs(_r,Nr)/Rr:Un}function ys(_r){return function(Nr){return Nr==null?nt:Nr[_r]}}function qr(_r){return function(Nr){return _r==null?nt:_r[Nr]}}function To(_r,Nr,Rr,Co,_a){return _a(_r,function(_s,bu,bs){Rr=Co?(Co=!1,_s):Nr(Rr,_s,bu,bs)}),Rr}function vo(_r,Nr){var Rr=_r.length;for(_r.sort(Nr);Rr--;)_r[Rr]=_r[Rr].value;return _r}function Fs(_r,Nr){for(var Rr,Co=-1,_a=_r.length;++Co<_a;){var _s=Nr(_r[Co]);_s!==nt&&(Rr=Rr===nt?_s:Rr+_s)}return Rr}function Rs(_r,Nr){for(var Rr=-1,Co=Array(_r);++Rr<_r;)Co[Rr]=Nr(Rr);return Co}function gs(_r,Nr){return Qo(Nr,function(Rr){return[Rr,_r[Rr]]})}function no(_r){return _r&&_r.slice(0,Ys(_r)+1).replace(Nl,"")}function jo(_r){return function(Nr){return _r(Nr)}}function Yu(_r,Nr){return Qo(Nr,function(Rr){return _r[Rr]})}function au(_r,Nr){return _r.has(Nr)}function Su(_r,Nr){for(var Rr=-1,Co=_r.length;++Rr<Co&&Ws(Nr,_r[Rr],0)>-1;);return Rr}function fp(_r,Nr){for(var Rr=_r.length;Rr--&&Ws(Nr,_r[Rr],0)>-1;);return Rr}function fm(_r,Nr){for(var Rr=_r.length,Co=0;Rr--;)_r[Rr]===Nr&&++Co;return Co}var Hl=qr(mr),t_=qr(so);function $s(_r){return"\\"+Ko[_r]}function yl(_r,Nr){return _r==null?nt:_r[Nr]}function Pu(_r){return ju.test(_r)}function zl(_r){return Kp.test(_r)}function Jp(_r){for(var Nr,Rr=[];!(Nr=_r.next()).done;)Rr.push(Nr.value);return Rr}function Dm(_r){var Nr=-1,Rr=Array(_r.size);return _r.forEach(function(Co,_a){Rr[++Nr]=[_a,Co]}),Rr}function pu(_r,Nr){return function(Rr){return _r(Nr(Rr))}}function xl(_r,Nr){for(var Rr=-1,Co=_r.length,_a=0,_s=[];++Rr<Co;){var bu=_r[Rr];(bu===Nr||bu===Mt)&&(_r[Rr]=Mt,_s[_a++]=Rr)}return _s}function Os(_r){var Nr=-1,Rr=Array(_r.size);return _r.forEach(function(Co){Rr[++Nr]=Co}),Rr}function Ju(_r){var Nr=-1,Rr=Array(_r.size);return _r.forEach(function(Co){Rr[++Nr]=[Co,Co]}),Rr}function n_(_r,Nr,Rr){for(var Co=Rr-1,_a=_r.length;++Co<_a;)if(_r[Co]===Nr)return Co;return-1}function v_(_r,Nr,Rr){for(var Co=Rr+1;Co--;)if(_r[Co]===Nr)return Co;return Co}function Xp(_r){return Pu(_r)?Rm(_r):ru(_r)}function Uu(_r){return Pu(_r)?Om(_r):Hs(_r)}function Ys(_r){for(var Nr=_r.length;Nr--&&Ts.test(_r.charAt(Nr)););return Nr}var Ul=qr(Mo);function Rm(_r){for(var Nr=rp.lastIndex=0;rp.test(_r);)++Nr;return Nr}function Om(_r){return _r.match(rp)||[]}function Y_(_r){return _r.match(Tl)||[]}var y_=function _r(Nr){Nr=Nr==null?fs:Kl.defaults(fs.Object(),Nr,Kl.pick(fs,Ip));var Rr=Nr.Array,Co=Nr.Date,_a=Nr.Error,_s=Nr.Function,bu=Nr.Math,bs=Nr.Object,hm=Nr.RegExp,M_=Nr.String,wl=Nr.TypeError,hp=Rr.prototype,J_=_s.prototype,Tp=bs.prototype,gm=Nr["__core-js_shared__"],gp=J_.toString,Ls=Tp.hasOwnProperty,E_=0,r_=function(){var Et=/[^.]+$/.exec(gm&&gm.keys&&gm.keys.IE_PROTO||"");return Et?"Symbol(src)_1."+Et:""}(),mm=Tp.toString,Lm=gp.call(bs),Zp=fs._,o_=hm("^"+gp.call(Ls).replace(Mu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_m=Vl?Nr.Buffer:nt,ip=Nr.Symbol,mp=Nr.Uint8Array,Nm=_m?_m.allocUnsafe:nt,ap=pu(bs.getPrototypeOf,bs),Pm=bs.create,i_=Tp.propertyIsEnumerable,vm=hp.splice,Xt=ip?ip.isConcatSpreadable:nt,dn=ip?ip.iterator:nt,In=ip?ip.toStringTag:nt,Yt=function(){try{var Et=km(bs,"defineProperty");return Et({},"",{}),Et}catch{}}(),gn=Nr.clearTimeout!==fs.clearTimeout&&Nr.clearTimeout,An=Co&&Co.now!==fs.Date.now&&Co.now,Dn=Nr.setTimeout!==fs.setTimeout&&Nr.setTimeout,Hn=bu.ceil,zn=bu.floor,Cr=bs.getOwnPropertySymbols,Lr=_m?_m.isBuffer:nt,ho=Nr.isFinite,Eo=hp.join,xo=pu(bs.keys,bs),ro=bu.max,Qr=bu.min,Lo=Co.now,Jo=Nr.parseInt,vu=bu.random,fu=hp.reverse,Is=km(Nr,"DataView"),Ml=km(Nr,"Map"),sp=km(Nr,"Promise"),Gl=km(Nr,"Set"),cp=km(Nr,"WeakMap"),Pp=km(bs,"create"),a_=cp&&new cp,Qp={},X_=Wm(Is),Tv=Wm(Ml),A_=Wm(sp),xv=Wm(Gl),wv=Wm(cp),s_=ip?ip.prototype:nt,Um=s_?s_.valueOf:nt,Z_=s_?s_.toString:nt;function Gn(Et){if(Zu(Et)&&!us(Et)&&!(Et instanceof ms)){if(Et instanceof Wl)return Et;if(Ls.call(Et,"__wrapped__"))return dy(Et)}return new Wl(Et)}var ym=function(){function Et(){}return function(xt){if(!Hu(xt))return{};if(Pm)return Pm(xt);Et.prototype=xt;var zt=new Et;return Et.prototype=nt,zt}}();function c_(){}function Wl(Et,xt){this.__wrapped__=Et,this.__actions__=[],this.__chain__=!!xt,this.__index__=0,this.__values__=nt}Gn.templateSettings={escape:Fo,evaluate:Cp,interpolate:Js,variable:"",imports:{_:Gn}},Gn.prototype=c_.prototype,Gn.prototype.constructor=Gn,Wl.prototype=ym(c_.prototype),Wl.prototype.constructor=Wl;function ms(Et){this.__wrapped__=Et,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$n,this.__views__=[]}function Q_(){var Et=new ms(this.__wrapped__);return Et.__actions__=Rl(this.__actions__),Et.__dir__=this.__dir__,Et.__filtered__=this.__filtered__,Et.__iteratees__=Rl(this.__iteratees__),Et.__takeCount__=this.__takeCount__,Et.__views__=Rl(this.__views__),Et}function Dv(){if(this.__filtered__){var Et=new ms(this);Et.__dir__=-1,Et.__filtered__=!0}else Et=this.clone(),Et.__dir__*=-1;return Et}function b_(){var Et=this.__wrapped__.value(),xt=this.__dir__,zt=us(Et),mn=xt<0,xn=zt?Et.length:0,Bn=y0(0,xn,this.__views__),nr=Bn.start,ur=Bn.end,Er=ur-nr,Kr=mn?ur:nr-1,Wr=this.__iteratees__,eo=Wr.length,wo=0,Vo=Qr(Er,this.__takeCount__);if(!zt||!mn&&xn==Er&&Vo==Er)return Oy(Et,this.__actions__);var $a=[];e:for(;Er--&&wo<Vo;){Kr+=xt;for(var Ms=-1,es=Et[Kr];++Ms<eo;){var Ps=Wr[Ms],Bs=Ps.iteratee,um=Ps.type,Op=Bs(es);if(um==wn)es=Op;else if(!Op){if(um==vn)continue e;break e}}$a[wo++]=es}return $a}ms.prototype=ym(c_.prototype),ms.prototype.constructor=ms;function Up(Et){var xt=-1,zt=Et==null?0:Et.length;for(this.clear();++xt<zt;){var mn=Et[xt];this.set(mn[0],mn[1])}}function _y(){this.__data__=Pp?Pp(null):{},this.size=0}function vy(Et){var xt=this.has(Et)&&delete this.__data__[Et];return this.size-=xt?1:0,xt}function C_(Et){var xt=this.__data__;if(Pp){var zt=xt[Et];return zt===pt?nt:zt}return Ls.call(xt,Et)?xt[Et]:nt}function Rv(Et){var xt=this.__data__;return Pp?xt[Et]!==nt:Ls.call(xt,Et)}function Ov(Et,xt){var zt=this.__data__;return this.size+=this.has(Et)?0:1,zt[Et]=Pp&&xt===nt?pt:xt,this}Up.prototype.clear=_y,Up.prototype.delete=vy,Up.prototype.get=C_,Up.prototype.has=Rv,Up.prototype.set=Ov;function xp(Et){var xt=-1,zt=Et==null?0:Et.length;for(this.clear();++xt<zt;){var mn=Et[xt];this.set(mn[0],mn[1])}}function Lv(){this.__data__=[],this.size=0}function yy(Et){var xt=this.__data__,zt=Gp(xt,Et);if(zt<0)return!1;var mn=xt.length-1;return zt==mn?xt.pop():vm.call(xt,zt,1),--this.size,!0}function Nv(Et){var xt=this.__data__,zt=Gp(xt,Et);return zt<0?nt:xt[zt][1]}function My(Et){return Gp(this.__data__,Et)>-1}function Ey(Et,xt){var zt=this.__data__,mn=Gp(zt,Et);return mn<0?(++this.size,zt.push([Et,xt])):zt[mn][1]=xt,this}xp.prototype.clear=Lv,xp.prototype.delete=yy,xp.prototype.get=Nv,xp.prototype.has=My,xp.prototype.set=Ey;function wp(Et){var xt=-1,zt=Et==null?0:Et.length;for(this.clear();++xt<zt;){var mn=Et[xt];this.set(mn[0],mn[1])}}function Pv(){this.size=0,this.__data__={hash:new Up,map:new(Ml||xp),string:new Up}}function Uv(Et){var xt=vv(this,Et).delete(Et);return this.size-=xt?1:0,xt}function Gv(Et){return vv(this,Et).get(Et)}function $v(Et){return vv(this,Et).has(Et)}function Fv(Et,xt){var zt=vv(this,Et),mn=zt.size;return zt.set(Et,xt),this.size+=zt.size==mn?0:1,this}wp.prototype.clear=Pv,wp.prototype.delete=Uv,wp.prototype.get=Gv,wp.prototype.has=$v,wp.prototype.set=Fv;function _f(Et){var xt=-1,zt=Et==null?0:Et.length;for(this.__data__=new wp;++xt<zt;)this.add(Et[xt])}function S_(Et){return this.__data__.set(Et,pt),this}function ev(Et){return this.__data__.has(Et)}_f.prototype.add=_f.prototype.push=S_,_f.prototype.has=ev;function _p(Et){var xt=this.__data__=new xp(Et);this.size=xt.size}function Ay(){this.__data__=new xp,this.size=0}function tv(Et){var xt=this.__data__,zt=xt.delete(Et);return this.size=xt.size,zt}function by(Et){return this.__data__.get(Et)}function yr(Et){return this.__data__.has(Et)}function nv(Et,xt){var zt=this.__data__;if(zt instanceof xp){var mn=zt.__data__;if(!Ml||mn.length<ot-1)return mn.push([Et,xt]),this.size=++zt.size,this;zt=this.__data__=new wp(mn)}return zt.set(Et,xt),this.size=zt.size,this}_p.prototype.clear=Ay,_p.prototype.delete=tv,_p.prototype.get=by,_p.prototype.has=yr,_p.prototype.set=nv;function I_(Et,xt){var zt=us(Et),mn=!zt&&gy(Et),xn=!zt&&!mn&&kv(Et),Bn=!zt&&!mn&&!xn&&a0(Et),nr=zt||mn||xn||Bn,ur=nr?Rs(Et.length,M_):[],Er=ur.length;for(var Kr in Et)(xt||Ls.call(Et,Kr))&&!(nr&&(Kr=="length"||xn&&(Kr=="offset"||Kr=="parent")||Bn&&(Kr=="buffer"||Kr=="byteLength"||Kr=="byteOffset")||im(Kr,Er)))&&ur.push(Kr);return ur}function Gm(Et){var xt=Et.length;return xt?Et[Wv(0,xt-1)]:nt}function $m(Et,xt){return up(Rl(Et),Mm(xt,0,Et.length))}function u_(Et){return up(Rl(Et))}function _h(Et,xt,zt){(zt!==nt&&!Xm(Et[xt],zt)||zt===nt&&!(xt in Et))&&$p(Et,xt,zt)}function Gu(Et,xt,zt){var mn=Et[xt];(!(Ls.call(Et,xt)&&Xm(mn,zt))||zt===nt&&!(xt in Et))&&$p(Et,xt,zt)}function Gp(Et,xt){for(var zt=Et.length;zt--;)if(Xm(Et[zt][0],xt))return zt;return-1}function l_(Et,xt,zt,mn){return pr(Et,function(xn,Bn,nr){xt(mn,xn,zt(xn),nr)}),mn}function Fm(Et,xt){return Et&&Bp(xt,Zl(xt),Et)}function Cy(Et,xt){return Et&&Bp(xt,Vp(xt),Et)}function $p(Et,xt,zt){xt=="__proto__"&&Yt?Yt(Et,xt,{configurable:!0,enumerable:!0,value:zt,writable:!0}):Et[xt]=zt}function k_(Et,xt){for(var zt=-1,mn=xt.length,xn=Rr(mn),Bn=Et==null;++zt<mn;)xn[zt]=Bn?nt:V0(Et,xt[zt]);return xn}function Mm(Et,xt,zt){return Et===Et&&(zt!==nt&&(Et=Et<=zt?Et:zt),xt!==nt&&(Et=Et>=xt?Et:xt)),Et}function xr(Et,xt,zt,mn,xn,Bn){var nr,ur=xt&bt,Er=xt&At,Kr=xt&wt;if(zt&&(nr=xn?zt(Et,mn,xn,Bn):zt(Et)),nr!==nt)return nr;if(!Hu(Et))return Et;var Wr=us(Et);if(Wr){if(nr=M0(Et),!ur)return Rl(Et,nr)}else{var eo=Ol(Et),wo=eo==Hr||eo==Do;if(kv(Et))return g_(Et,ur);if(eo==_i||eo==wr||wo&&!xn){if(nr=Er||wo?{}:Ep(Et),!ur)return Er?Gy(Et,Cy(nr,Et)):g0(Et,Fm(nr,Et))}else{if(!dr[eo])return xn?Et:{};nr=E0(Et,eo,ur)}}Bn||(Bn=new _p);var Vo=Bn.get(Et);if(Vo)return Vo;Bn.set(Et,nr),dM(Et)?Et.forEach(function(es){nr.add(xr(es,xt,zt,es,Et,Bn))}):uM(Et)&&Et.forEach(function(es,Ps){nr.set(Ps,xr(es,xt,zt,Ps,Et,Bn))});var $a=Kr?Er?B_:iy:Er?Vp:Zl,Ms=Wr?nt:$a(Et);return Nu(Ms||Et,function(es,Ps){Ms&&(Ps=es,es=Et[Ps]),Gu(nr,Ps,xr(es,xt,zt,Ps,Et,Bn))}),nr}function rv(Et){var xt=Zl(Et);return function(zt){return T_(zt,Et,xt)}}function T_(Et,xt,zt){var mn=zt.length;if(Et==null)return!mn;for(Et=bs(Et);mn--;){var xn=zt[mn],Bn=xt[xn],nr=Et[xn];if(nr===nt&&!(xn in Et)||!Bn(nr))return!1}return!0}function x_(Et,xt,zt){if(typeof Et!="function")throw new wl(ct);return V_(function(){Et.apply(nt,zt)},xt)}function Em(Et,xt,zt,mn){var xn=-1,Bn=Jr,nr=!0,ur=Et.length,Er=[],Kr=xt.length;if(!ur)return Er;zt&&(xt=Qo(xt,jo(zt))),mn?(Bn=du,nr=!1):xt.length>=ot&&(Bn=au,nr=!1,xt=new _f(xt));e:for(;++xn<ur;){var Wr=Et[xn],eo=zt==null?Wr:zt(Wr);if(Wr=mn||Wr!==0?Wr:0,nr&&eo===eo){for(var wo=Kr;wo--;)if(xt[wo]===eo)continue e;Er.push(Wr)}else Bn(xt,eo,mn)||Er.push(Wr)}return Er}var pr=$y(El),w_=$y(em,!0);function jv(Et,xt){var zt=!0;return pr(Et,function(mn,xn,Bn){return zt=!!xt(mn,xn,Bn),zt}),zt}function Fp(Et,xt,zt){for(var mn=-1,xn=Et.length;++mn<xn;){var Bn=Et[mn],nr=xt(Bn);if(nr!=null&&(ur===nt?nr===nr&&!cm(nr):zt(nr,ur)))var ur=nr,Er=Bn}return Er}function Am(Et,xt,zt,mn){var xn=Et.length;for(zt=vs(zt),zt<0&&(zt=-zt>xn?0:xn+zt),mn=mn===nt||mn>xn?xn:vs(mn),mn<0&&(mn+=xn),mn=zt>mn?0:fM(mn);zt<mn;)Et[zt++]=xt;return Et}function _g(Et,xt){var zt=[];return pr(Et,function(mn,xn,Bn){xt(mn,xn,Bn)&&zt.push(mn)}),zt}function hu(Et,xt,zt,mn,xn){var Bn=-1,nr=Et.length;for(zt||(zt=b0),xn||(xn=[]);++Bn<nr;){var ur=Et[Bn];xt>0&&zt(ur)?xt>1?hu(ur,xt-1,zt,mn,xn):_l(xn,ur):mn||(xn[xn.length]=ur)}return xn}var qu=Fy(),bm=Fy(!0);function El(Et,xt){return Et&&qu(Et,xt,Zl)}function em(Et,xt){return Et&&bm(Et,xt,Zl)}function yu(Et,xt){return Pl(xt,function(zt){return H_(Et[zt])})}function go(Et,xt){xt=Sm(xt,Et);for(var zt=0,mn=xt.length;Et!=null&&zt<mn;)Et=Et[Ap(xt[zt++])];return zt&&zt==mn?Et:nt}function Cs(Et,xt,zt){var mn=xt(Et);return us(Et)?mn:_l(mn,zt(Et))}function xu(Et){return Et==null?Et===nt?lr:qo:In&&In in bs(Et)?yv(Et):Xy(Et)}function br(Et,xt){return Et>xt}function Go(Et,xt){return Et!=null&&Ls.call(Et,xt)}function rr(Et,xt){return Et!=null&&xt in bs(Et)}function Bv(Et,xt,zt){return Et>=Qr(xt,zt)&&Et<ro(xt,zt)}function D_(Et,xt,zt){for(var mn=zt?du:Jr,xn=Et[0].length,Bn=Et.length,nr=Bn,ur=Rr(Bn),Er=1/0,Kr=[];nr--;){var Wr=Et[nr];nr&&xt&&(Wr=Qo(Wr,jo(xt))),Er=Qr(Wr.length,Er),ur[nr]=!zt&&(xt||xn>=120&&Wr.length>=120)?new _f(nr&&Wr):nt}Wr=Et[0];var eo=-1,wo=ur[0];e:for(;++eo<xn&&Kr.length<Er;){var Vo=Wr[eo],$a=xt?xt(Vo):Vo;if(Vo=zt||Vo!==0?Vo:0,!(wo?au(wo,$a):mn(Kr,$a,zt))){for(nr=Bn;--nr;){var Ms=ur[nr];if(!(Ms?au(Ms,$a):mn(Et[nr],$a,zt)))continue e}wo&&wo.push($a),Kr.push(Vo)}}return Kr}function jp(Et,xt,zt,mn){return El(Et,function(xn,Bn,nr){xt(mn,zt(xn),Bn,nr)}),mn}function Al(Et,xt,zt){xt=Sm(xt,Et),Et=ly(Et,xt);var mn=Et==null?Et:Et[Ap(Wt(xt))];return mn==null?nt:Ks(mn,Et,zt)}function ov(Et){return Zu(Et)&&xu(Et)==wr}function iv(Et){return Zu(Et)&&xu(Et)==Mr}function qv(Et){return Zu(Et)&&xu(Et)==lo}function jm(Et,xt,zt,mn,xn){return Et===xt?!0:Et==null||xt==null||!Zu(Et)&&!Zu(xt)?Et!==Et&&xt!==xt:Vv(Et,xt,zt,mn,jm,xn)}function Vv(Et,xt,zt,mn,xn,Bn){var nr=us(Et),ur=us(xt),Er=nr?jr:Ol(Et),Kr=ur?jr:Ol(xt);Er=Er==wr?_i:Er,Kr=Kr==wr?_i:Kr;var Wr=Er==_i,eo=Kr==_i,wo=Er==Kr;if(wo&&kv(Et)){if(!kv(xt))return!1;nr=!0,Wr=!1}if(wo&&!Wr)return Bn||(Bn=new _p),nr||a0(Et)?Hy(Et,xt,zt,mn,xn,Bn):zy(Et,xt,Er,zt,mn,xn,Bn);if(!(zt&Tt)){var Vo=Wr&&Ls.call(Et,"__wrapped__"),$a=eo&&Ls.call(xt,"__wrapped__");if(Vo||$a){var Ms=Vo?Et.value():Et,es=$a?xt.value():xt;return Bn||(Bn=new _p),xn(Ms,es,zt,mn,Bn)}}return wo?(Bn||(Bn=new _p),oy(Et,xt,zt,mn,xn,Bn)):!1}function Hv(Et){return Zu(Et)&&Ol(Et)==Oo}function av(Et,xt,zt,mn){var xn=zt.length,Bn=xn,nr=!mn;if(Et==null)return!Bn;for(Et=bs(Et);xn--;){var ur=zt[xn];if(nr&&ur[2]?ur[1]!==Et[ur[0]]:!(ur[0]in Et))return!1}for(;++xn<Bn;){ur=zt[xn];var Er=ur[0],Kr=Et[Er],Wr=ur[1];if(nr&&ur[2]){if(Kr===nt&&!(Er in Et))return!1}else{var eo=new _p;if(mn)var wo=mn(Kr,Wr,Er,Et,xt,eo);if(!(wo===nt?jm(Wr,Kr,Tt|Rt,mn,eo):wo))return!1}}return!0}function R_(Et){if(!Hu(Et)||Yy(Et))return!1;var xt=H_(Et)?o_:dm;return xt.test(Wm(Et))}function d_(Et){return Zu(Et)&&xu(Et)==sr}function wu(Et){return Zu(Et)&&Ol(Et)==ar}function oo(Et){return Zu(Et)&&L0(Et.length)&&!!ws[xu(Et)]}function ks(Et){return typeof Et=="function"?Et:Et==null?Hp:typeof Et=="object"?us(Et)?ky(Et[0],Et[1]):Iy(Et):CM(Et)}function Dl(Et){if(!__(Et))return xo(Et);var xt=[];for(var zt in bs(Et))Ls.call(Et,zt)&&zt!="constructor"&&xt.push(zt);return xt}function Sy(Et){if(!Hu(Et))return C0(Et);var xt=__(Et),zt=[];for(var mn in Et)mn=="constructor"&&(xt||!Ls.call(Et,mn))||zt.push(mn);return zt}function Io(Et,xt){return Et<xt}function Xn(Et,xt){var zt=-1,mn=qp(Et)?Rr(Et.length):[];return pr(Et,function(xn,Bn,nr){mn[++zt]=xt(xn,Bn,nr)}),mn}function Iy(Et){var xt=Vm(Et);return xt.length==1&&xt[0][2]?Ev(xt[0][0],xt[0][1]):function(zt){return zt===Et||av(zt,Et,xt)}}function ky(Et,xt){return Hm(Et)&&q_(xt)?Ev(Ap(Et),xt):function(zt){var mn=V0(zt,Et);return mn===nt&&mn===xt?H0(zt,Et):jm(xt,mn,Tt|Rt)}}function Yl(Et,xt,zt,mn,xn){Et!==xt&&qu(xt,function(Bn,nr){if(xn||(xn=new _p),Hu(Bn))vp(Et,xt,nr,zt,Yl,mn,xn);else{var ur=mn?mn(Km(Et,nr),Bn,nr+"",Et,xt,xn):nt;ur===nt&&(ur=Bn),_h(Et,nr,ur)}},Vp)}function vp(Et,xt,zt,mn,xn,Bn,nr){var ur=Km(Et,zt),Er=Km(xt,zt),Kr=nr.get(Er);if(Kr){_h(Et,zt,Kr);return}var Wr=Bn?Bn(ur,Er,zt+"",Et,xt,nr):nt,eo=Wr===nt;if(eo){var wo=us(Er),Vo=!wo&&kv(Er),$a=!wo&&!Vo&&a0(Er);Wr=Er,wo||Vo||$a?us(ur)?Wr=ur:Cl(ur)?Wr=Rl(ur):Vo?(eo=!1,Wr=g_(Er,!0)):$a?(eo=!1,Wr=ey(Er,!0)):Wr=[]:x0(Er)||gy(Er)?(Wr=ur,gy(ur)?Wr=hM(ur):(!Hu(ur)||H_(ur))&&(Wr=Ep(Er))):eo=!1}eo&&(nr.set(Er,Wr),xn(Wr,Er,mn,Bn,nr),nr.delete(Er)),_h(Et,zt,Wr)}function O_(Et,xt){var zt=Et.length;if(zt)return xt+=xt<0?zt:0,im(xt,zt)?Et[xt]:nt}function sv(Et,xt,zt){xt.length?xt=Qo(xt,function(Bn){return us(Bn)?function(nr){return go(nr,Bn.length===1?Bn[0]:Bn)}:Bn}):xt=[Hp];var mn=-1;xt=Qo(xt,jo(Xo()));var xn=Xn(Et,function(Bn,nr,ur){var Er=Qo(xt,function(Kr){return Kr(Bn)});return{criteria:Er,index:++mn,value:Bn}});return vo(xn,function(Bn,nr){return h0(Bn,nr,zt)})}function Ty(Et,xt){return zv(Et,xt,function(zt,mn){return H0(Et,mn)})}function zv(Et,xt,zt){for(var mn=-1,xn=xt.length,Bn={};++mn<xn;){var nr=xt[mn],ur=go(Et,nr);zt(ur,nr)&&p_(Bn,Sm(nr,Et),ur)}return Bn}function xy(Et){return function(xt){return go(xt,Et)}}function Kv(Et,xt,zt,mn){var xn=mn?So:Ws,Bn=-1,nr=xt.length,ur=Et;for(Et===xt&&(xt=Rl(xt)),zt&&(ur=Qo(Et,jo(zt)));++Bn<nr;)for(var Er=0,Kr=xt[Bn],Wr=zt?zt(Kr):Kr;(Er=xn(ur,Wr,Er,mn))>-1;)ur!==Et&&vm.call(ur,Er,1),vm.call(Et,Er,1);return Et}function wy(Et,xt){for(var zt=Et?xt.length:0,mn=zt-1;zt--;){var xn=xt[zt];if(zt==mn||xn!==Bn){var Bn=xn;im(xn)?vm.call(Et,xn,1):lv(Et,xn)}}return Et}function Wv(Et,xt){return Et+zn(vu()*(xt-Et+1))}function L_(Et,xt,zt,mn){for(var xn=-1,Bn=ro(Hn((xt-Et)/(zt||1)),0),nr=Rr(Bn);Bn--;)nr[mn?Bn:++xn]=Et,Et+=zt;return nr}function Yv(Et,xt){var zt="";if(!Et||xt<1||xt>Rn)return zt;do xt%2&&(zt+=Et),xt=zn(xt/2),xt&&(Et+=Et);while(xt);return zt}function os(Et,xt){return Ns(zm(Et,xt,Hp),Et+"")}function Dy(Et){return Gm(s0(Et))}function Cm(Et,xt){var zt=s0(Et);return up(zt,Mm(xt,0,zt.length))}function p_(Et,xt,zt,mn){if(!Hu(Et))return Et;xt=Sm(xt,Et);for(var xn=-1,Bn=xt.length,nr=Bn-1,ur=Et;ur!=null&&++xn<Bn;){var Er=Ap(xt[xn]),Kr=zt;if(Er==="__proto__"||Er==="constructor"||Er==="prototype")return Et;if(xn!=nr){var Wr=ur[Er];Kr=mn?mn(Wr,Er,ur):nt,Kr===nt&&(Kr=Hu(Wr)?Wr:im(xt[xn+1])?[]:{})}Gu(ur,Er,Kr),ur=ur[Er]}return Et}var N_=a_?function(Et,xt){return a_.set(Et,xt),Et}:Hp,c0=Yt?function(Et,xt){return Yt(Et,"toString",{configurable:!0,enumerable:!1,value:K0(xt),writable:!0})}:Hp;function u0(Et){return up(s0(Et))}function yp(Et,xt,zt){var mn=-1,xn=Et.length;xt<0&&(xt=-xt>xn?0:xn+xt),zt=zt>xn?xn:zt,zt<0&&(zt+=xn),xn=xt>zt?0:zt-xt>>>0,xt>>>=0;for(var Bn=Rr(xn);++mn<xn;)Bn[mn]=Et[mn+xt];return Bn}function l0(Et,xt){var zt;return pr(Et,function(mn,xn,Bn){return zt=xt(mn,xn,Bn),!zt}),!!zt}function cv(Et,xt,zt){var mn=0,xn=Et==null?mn:Et.length;if(typeof xt=="number"&&xt===xt&&xn<=tr){for(;mn<xn;){var Bn=mn+xn>>>1,nr=Et[Bn];nr!==null&&!cm(nr)&&(zt?nr<=xt:nr<xt)?mn=Bn+1:xn=Bn}return xn}return uv(Et,xt,Hp,zt)}function uv(Et,xt,zt,mn){var xn=0,Bn=Et==null?0:Et.length;if(Bn===0)return 0;xt=zt(xt);for(var nr=xt!==xt,ur=xt===null,Er=cm(xt),Kr=xt===nt;xn<Bn;){var Wr=zn((xn+Bn)/2),eo=zt(Et[Wr]),wo=eo!==nt,Vo=eo===null,$a=eo===eo,Ms=cm(eo);if(nr)var es=mn||$a;else Kr?es=$a&&(mn||wo):ur?es=$a&&wo&&(mn||!Vo):Er?es=$a&&wo&&!Vo&&(mn||!Ms):Vo||Ms?es=!1:es=mn?eo<=xt:eo<xt;es?xn=Wr+1:Bn=Wr}return Qr(Bn,Vn)}function Jv(Et,xt){for(var zt=-1,mn=Et.length,xn=0,Bn=[];++zt<mn;){var nr=Et[zt],ur=xt?xt(nr):nr;if(!zt||!Xm(ur,Er)){var Er=ur;Bn[xn++]=nr===0?0:nr}}return Bn}function Xv(Et){return typeof Et=="number"?Et:cm(Et)?Un:+Et}function Jl(Et){if(typeof Et=="string")return Et;if(us(Et))return Qo(Et,Jl)+"";if(cm(Et))return Z_?Z_.call(Et):"";var xt=Et+"";return xt=="0"&&1/Et==-Kn?"-0":xt}function tm(Et,xt,zt){var mn=-1,xn=Jr,Bn=Et.length,nr=!0,ur=[],Er=ur;if(zt)nr=!1,xn=du;else if(Bn>=ot){var Kr=xt?null:v0(Et);if(Kr)return Os(Kr);nr=!1,xn=au,Er=new _f}else Er=xt?[]:ur;e:for(;++mn<Bn;){var Wr=Et[mn],eo=xt?xt(Wr):Wr;if(Wr=zt||Wr!==0?Wr:0,nr&&eo===eo){for(var wo=Er.length;wo--;)if(Er[wo]===eo)continue e;xt&&Er.push(eo),ur.push(Wr)}else xn(Er,eo,zt)||(Er!==ur&&Er.push(eo),ur.push(Wr))}return ur}function lv(Et,xt){return xt=Sm(xt,Et),Et=ly(Et,xt),Et==null||delete Et[Ap(Wt(xt))]}function Ry(Et,xt,zt,mn){return p_(Et,xt,zt(go(Et,xt)),mn)}function f_(Et,xt,zt,mn){for(var xn=Et.length,Bn=mn?xn:-1;(mn?Bn--:++Bn<xn)&&xt(Et[Bn],Bn,Et););return zt?yp(Et,mn?0:Bn,mn?Bn+1:xn):yp(Et,mn?Bn+1:0,mn?xn:Bn)}function Oy(Et,xt){var zt=Et;return zt instanceof ms&&(zt=zt.value()),Wp(xt,function(mn,xn){return xn.func.apply(xn.thisArg,_l([mn],xn.args))},zt)}function Zv(Et,xt,zt){var mn=Et.length;if(mn<2)return mn?tm(Et[0]):[];for(var xn=-1,Bn=Rr(mn);++xn<mn;)for(var nr=Et[xn],ur=-1;++ur<mn;)ur!=xn&&(Bn[xn]=Em(Bn[xn]||nr,Et[ur],xt,zt));return tm(hu(Bn,1),xt,zt)}function Ly(Et,xt,zt){for(var mn=-1,xn=Et.length,Bn=xt.length,nr={};++mn<xn;){var ur=mn<Bn?xt[mn]:nt;zt(nr,Et[mn],ur)}return nr}function dv(Et){return Cl(Et)?Et:[]}function h_(Et){return typeof Et=="function"?Et:Hp}function Sm(Et,xt){return us(Et)?Et:Hm(Et,xt)?[Et]:Cu(su(Et))}var d0=os;function nm(Et,xt,zt){var mn=Et.length;return zt=zt===nt?mn:zt,!xt&&zt>=mn?Et:yp(Et,xt,zt)}var Ny=gn||function(Et){return fs.clearTimeout(Et)};function g_(Et,xt){if(xt)return Et.slice();var zt=Et.length,mn=Nm?Nm(zt):new Et.constructor(zt);return Et.copy(mn),mn}function P_(Et){var xt=new Et.constructor(Et.byteLength);return new mp(xt).set(new mp(Et)),xt}function p0(Et,xt){var zt=xt?P_(Et.buffer):Et.buffer;return new Et.constructor(zt,Et.byteOffset,Et.byteLength)}function f0(Et){var xt=new Et.constructor(Et.source,sn.exec(Et));return xt.lastIndex=Et.lastIndex,xt}function Qv(Et){return Um?bs(Um.call(Et)):{}}function ey(Et,xt){var zt=xt?P_(Et.buffer):Et.buffer;return new Et.constructor(zt,Et.byteOffset,Et.length)}function Py(Et,xt){if(Et!==xt){var zt=Et!==nt,mn=Et===null,xn=Et===Et,Bn=cm(Et),nr=xt!==nt,ur=xt===null,Er=xt===xt,Kr=cm(xt);if(!ur&&!Kr&&!Bn&&Et>xt||Bn&&nr&&Er&&!ur&&!Kr||mn&&nr&&Er||!zt&&Er||!xn)return 1;if(!mn&&!Bn&&!Kr&&Et<xt||Kr&&zt&&xn&&!mn&&!Bn||ur&&zt&&xn||!nr&&xn||!Er)return-1}return 0}function h0(Et,xt,zt){for(var mn=-1,xn=Et.criteria,Bn=xt.criteria,nr=xn.length,ur=zt.length;++mn<nr;){var Er=Py(xn[mn],Bn[mn]);if(Er){if(mn>=ur)return Er;var Kr=zt[mn];return Er*(Kr=="desc"?-1:1)}}return Et.index-xt.index}function ty(Et,xt,zt,mn){for(var xn=-1,Bn=Et.length,nr=zt.length,ur=-1,Er=xt.length,Kr=ro(Bn-nr,0),Wr=Rr(Er+Kr),eo=!mn;++ur<Er;)Wr[ur]=xt[ur];for(;++xn<nr;)(eo||xn<Bn)&&(Wr[zt[xn]]=Et[xn]);for(;Kr--;)Wr[ur++]=Et[xn++];return Wr}function Uy(Et,xt,zt,mn){for(var xn=-1,Bn=Et.length,nr=-1,ur=zt.length,Er=-1,Kr=xt.length,Wr=ro(Bn-ur,0),eo=Rr(Wr+Kr),wo=!mn;++xn<Wr;)eo[xn]=Et[xn];for(var Vo=xn;++Er<Kr;)eo[Vo+Er]=xt[Er];for(;++nr<ur;)(wo||xn<Bn)&&(eo[Vo+zt[nr]]=Et[xn++]);return eo}function Rl(Et,xt){var zt=-1,mn=Et.length;for(xt||(xt=Rr(mn));++zt<mn;)xt[zt]=Et[zt];return xt}function Bp(Et,xt,zt,mn){var xn=!zt;zt||(zt={});for(var Bn=-1,nr=xt.length;++Bn<nr;){var ur=xt[Bn],Er=mn?mn(zt[ur],Et[ur],ur,zt,Et):nt;Er===nt&&(Er=Et[ur]),xn?$p(zt,ur,Er):Gu(zt,ur,Er)}return zt}function g0(Et,xt){return Bp(Et,sy(Et),xt)}function Gy(Et,xt){return Bp(Et,Ky(Et),xt)}function pv(Et,xt){return function(zt,mn){var xn=us(zt)?wm:l_,Bn=xt?xt():{};return xn(zt,Et,Xo(mn,2),Bn)}}function rm(Et){return os(function(xt,zt){var mn=-1,xn=zt.length,Bn=xn>1?zt[xn-1]:nt,nr=xn>2?zt[2]:nt;for(Bn=Et.length>3&&typeof Bn=="function"?(xn--,Bn):nt,nr&&$l(zt[0],zt[1],nr)&&(Bn=xn<3?nt:Bn,xn=1),xt=bs(xt);++mn<xn;){var ur=zt[mn];ur&&Et(xt,ur,mn,Bn)}return xt})}function $y(Et,xt){return function(zt,mn){if(zt==null)return zt;if(!qp(zt))return Et(zt,mn);for(var xn=zt.length,Bn=xt?xn:-1,nr=bs(zt);(xt?Bn--:++Bn<xn)&&mn(nr[Bn],Bn,nr)!==!1;);return zt}}function Fy(Et){return function(xt,zt,mn){for(var xn=-1,Bn=bs(xt),nr=mn(xt),ur=nr.length;ur--;){var Er=nr[Et?ur:++xn];if(zt(Bn[Er],Er,Bn)===!1)break}return xt}}function jy(Et,xt,zt){var mn=xt&Bt,xn=Bm(Et);function Bn(){var nr=this&&this!==fs&&this instanceof Bn?xn:Et;return nr.apply(mn?zt:this,arguments)}return Bn}function U_(Et){return function(xt){xt=su(xt);var zt=Pu(xt)?Uu(xt):nt,mn=zt?zt[0]:xt.charAt(0),xn=zt?nm(zt,1).join(""):xt.slice(1);return mn[Et]()+xn}}function Mp(Et){return function(xt){return Wp(AM(EM(xt).replace(pm,"")),Et,"")}}function Bm(Et){return function(){var xt=arguments;switch(xt.length){case 0:return new Et;case 1:return new Et(xt[0]);case 2:return new Et(xt[0],xt[1]);case 3:return new Et(xt[0],xt[1],xt[2]);case 4:return new Et(xt[0],xt[1],xt[2],xt[3]);case 5:return new Et(xt[0],xt[1],xt[2],xt[3],xt[4]);case 6:return new Et(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);case 7:return new Et(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5],xt[6])}var zt=ym(Et.prototype),mn=Et.apply(zt,xt);return Hu(mn)?mn:zt}}function m0(Et,xt,zt){var mn=Bm(Et);function xn(){for(var Bn=arguments.length,nr=Rr(Bn),ur=Bn,Er=qm(xn);ur--;)nr[ur]=arguments[ur];var Kr=Bn<3&&nr[0]!==Er&&nr[Bn-1]!==Er?[]:xl(nr,Er);if(Bn-=Kr.length,Bn<zt)return mv(Et,xt,$_,xn.placeholder,nt,nr,Kr,nt,nt,zt-Bn);var Wr=this&&this!==fs&&this instanceof xn?mn:Et;return Ks(Wr,this,nr)}return xn}function fv(Et){return function(xt,zt,mn){var xn=bs(xt);if(!qp(xt)){var Bn=Xo(zt,3);xt=Zl(xt),zt=function(ur){return Bn(xn[ur],ur,xn)}}var nr=Et(xt,zt,mn);return nr>-1?xn[Bn?xt[nr]:nr]:nt}}function G_(Et){return Dp(function(xt){var zt=xt.length,mn=zt,xn=Wl.prototype.thru;for(Et&&xt.reverse();mn--;){var Bn=xt[mn];if(typeof Bn!="function")throw new wl(ct);if(xn&&!nr&&_v(Bn)=="wrapper")var nr=new Wl([],!0)}for(mn=nr?mn:zt;++mn<zt;){Bn=xt[mn];var ur=_v(Bn),Er=ur=="wrapper"?ay(Bn):nt;Er&&cy(Er[0])&&Er[1]==(hn|Ft|Qt|Mn)&&!Er[4].length&&Er[9]==1?nr=nr[_v(Er[0])].apply(nr,Er[3]):nr=Bn.length==1&&cy(Bn)?nr[ur]():nr.thru(Bn)}return function(){var Kr=arguments,Wr=Kr[0];if(nr&&Kr.length==1&&us(Wr))return nr.plant(Wr).value();for(var eo=0,wo=zt?xt[eo].apply(this,Kr):Wr;++eo<zt;)wo=xt[eo].call(this,wo);return wo}})}function $_(Et,xt,zt,mn,xn,Bn,nr,ur,Er,Kr){var Wr=xt&hn,eo=xt&Bt,wo=xt&Vt,Vo=xt&(Ft|Ht),$a=xt&kn,Ms=wo?nt:Bm(Et);function es(){for(var Ps=arguments.length,Bs=Rr(Ps),um=Ps;um--;)Bs[um]=arguments[um];if(Vo)var Op=qm(es),lm=fm(Bs,Op);if(mn&&(Bs=ty(Bs,mn,xn,Vo)),Bn&&(Bs=Uy(Bs,Bn,nr,Vo)),Ps-=lm,Vo&&Ps<Kr){var Sl=xl(Bs,Op);return mv(Et,xt,$_,es.placeholder,zt,Bs,Sl,ur,Er,Kr-Ps)}var Zm=eo?zt:this,K_=wo?Zm[Et]:Et;return Ps=Bs.length,ur?Bs=Zy(Bs,ur):$a&&Ps>1&&Bs.reverse(),Wr&&Er<Ps&&(Bs.length=Er),this&&this!==fs&&this instanceof es&&(K_=Ms||Bm(K_)),K_.apply(Zm,Bs)}return es}function hv(Et,xt){return function(zt,mn){return jp(zt,Et,xt(mn),{})}}function gv(Et,xt){return function(zt,mn){var xn;if(zt===nt&&mn===nt)return xt;if(zt!==nt&&(xn=zt),mn!==nt){if(xn===nt)return mn;typeof zt=="string"||typeof mn=="string"?(zt=Jl(zt),mn=Jl(mn)):(zt=Xv(zt),mn=Xv(mn)),xn=Et(zt,mn)}return xn}}function ny(Et){return Dp(function(xt){return xt=Qo(xt,jo(Xo())),os(function(zt){var mn=this;return Et(xt,function(xn){return Ks(xn,mn,zt)})})})}function F_(Et,xt){xt=xt===nt?" ":Jl(xt);var zt=xt.length;if(zt<2)return zt?Yv(xt,Et):xt;var mn=Yv(xt,Hn(Et/Xp(xt)));return Pu(xt)?nm(Uu(mn),0,Et).join(""):mn.slice(0,Et)}function _0(Et,xt,zt,mn){var xn=xt&Bt,Bn=Bm(Et);function nr(){for(var ur=-1,Er=arguments.length,Kr=-1,Wr=mn.length,eo=Rr(Wr+Er),wo=this&&this!==fs&&this instanceof nr?Bn:Et;++Kr<Wr;)eo[Kr]=mn[Kr];for(;Er--;)eo[Kr++]=arguments[++ur];return Ks(wo,xn?zt:this,eo)}return nr}function By(Et){return function(xt,zt,mn){return mn&&typeof mn!="number"&&$l(xt,zt,mn)&&(zt=mn=nt),xt=z_(xt),zt===nt?(zt=xt,xt=0):zt=z_(zt),mn=mn===nt?xt<zt?1:-1:z_(mn),L_(xt,zt,mn,Et)}}function Im(Et){return function(xt,zt){return typeof xt=="string"&&typeof zt=="string"||(xt=Tm(xt),zt=Tm(zt)),Et(xt,zt)}}function mv(Et,xt,zt,mn,xn,Bn,nr,ur,Er,Kr){var Wr=xt&Ft,eo=Wr?nr:nt,wo=Wr?nt:nr,Vo=Wr?Bn:nt,$a=Wr?nt:Bn;xt|=Wr?Qt:_n,xt&=~(Wr?_n:Qt),xt&$t||(xt&=~(Bt|Vt));var Ms=[Et,xt,xn,Vo,eo,$a,wo,ur,Er,Kr],es=zt.apply(nt,Ms);return cy(Et)&&am(es,Ms),es.placeholder=mn,bv(es,Et,xt)}function m_(Et){var xt=bu[Et];return function(zt,mn){if(zt=Tm(zt),mn=mn==null?0:Qr(vs(mn),292),mn&&ho(zt)){var xn=(su(zt)+"e").split("e"),Bn=xt(xn[0]+"e"+(+xn[1]+mn));return xn=(su(Bn)+"e").split("e"),+(xn[0]+"e"+(+xn[1]-mn))}return xt(zt)}}var v0=Gl&&1/Os(new Gl([,-0]))[1]==Kn?function(Et){return new Gl(Et)}:J0;function qy(Et){return function(xt){var zt=Ol(xt);return zt==Oo?Dm(xt):zt==ar?Ju(xt):gs(xt,Et(xt))}}function om(Et,xt,zt,mn,xn,Bn,nr,ur){var Er=xt&Vt;if(!Er&&typeof Et!="function")throw new wl(ct);var Kr=mn?mn.length:0;if(Kr||(xt&=~(Qt|_n),mn=xn=nt),nr=nr===nt?nr:ro(vs(nr),0),ur=ur===nt?ur:vs(ur),Kr-=xn?xn.length:0,xt&_n){var Wr=mn,eo=xn;mn=xn=nt}var wo=Er?nt:ay(Et),Vo=[Et,xt,zt,mn,xn,Wr,eo,Bn,nr,ur];if(wo&&Jy(Vo,wo),Et=Vo[0],xt=Vo[1],zt=Vo[2],mn=Vo[3],xn=Vo[4],ur=Vo[9]=Vo[9]===nt?Er?0:Et.length:ro(Vo[9]-Kr,0),!ur&&xt&(Ft|Ht)&&(xt&=~(Ft|Ht)),!xt||xt==Bt)var $a=jy(Et,xt,zt);else xt==Ft||xt==Ht?$a=m0(Et,xt,ur):(xt==Qt||xt==(Bt|Qt))&&!xn.length?$a=_0(Et,xt,zt,mn):$a=$_.apply(nt,Vo);var Ms=wo?N_:am;return bv(Ms($a,Vo),Et,xt)}function Vy(Et,xt,zt,mn){return Et===nt||Xm(Et,Tp[zt])&&!Ls.call(mn,zt)?xt:Et}function j_(Et,xt,zt,mn,xn,Bn){return Hu(Et)&&Hu(xt)&&(Bn.set(xt,Et),Yl(Et,xt,nt,j_,Bn),Bn.delete(xt)),Et}function ry(Et){return x0(Et)?nt:Et}function Hy(Et,xt,zt,mn,xn,Bn){var nr=zt&Tt,ur=Et.length,Er=xt.length;if(ur!=Er&&!(nr&&Er>ur))return!1;var Kr=Bn.get(Et),Wr=Bn.get(xt);if(Kr&&Wr)return Kr==xt&&Wr==Et;var eo=-1,wo=!0,Vo=zt&Rt?new _f:nt;for(Bn.set(Et,xt),Bn.set(xt,Et);++eo<ur;){var $a=Et[eo],Ms=xt[eo];if(mn)var es=nr?mn(Ms,$a,eo,xt,Et,Bn):mn($a,Ms,eo,Et,xt,Bn);if(es!==nt){if(es)continue;wo=!1;break}if(Vo){if(!uo(xt,function(Ps,Bs){if(!au(Vo,Bs)&&($a===Ps||xn($a,Ps,zt,mn,Bn)))return Vo.push(Bs)})){wo=!1;break}}else if(!($a===Ms||xn($a,Ms,zt,mn,Bn))){wo=!1;break}}return Bn.delete(Et),Bn.delete(xt),wo}function zy(Et,xt,zt,mn,xn,Bn,nr){switch(zt){case Ar:if(Et.byteLength!=xt.byteLength||Et.byteOffset!=xt.byteOffset)return!1;Et=Et.buffer,xt=xt.buffer;case Mr:return!(Et.byteLength!=xt.byteLength||!Bn(new mp(Et),new mp(xt)));case hr:case lo:case zo:return Xm(+Et,+xt);case bo:return Et.name==xt.name&&Et.message==xt.message;case sr:case Or:return Et==xt+"";case Oo:var ur=Dm;case ar:var Er=mn&Tt;if(ur||(ur=Os),Et.size!=xt.size&&!Er)return!1;var Kr=nr.get(Et);if(Kr)return Kr==xt;mn|=Rt,nr.set(Et,xt);var Wr=Hy(ur(Et),ur(xt),mn,xn,Bn,nr);return nr.delete(Et),Wr;case Dr:if(Um)return Um.call(Et)==Um.call(xt)}return!1}function oy(Et,xt,zt,mn,xn,Bn){var nr=zt&Tt,ur=iy(Et),Er=ur.length,Kr=iy(xt),Wr=Kr.length;if(Er!=Wr&&!nr)return!1;for(var eo=Er;eo--;){var wo=ur[eo];if(!(nr?wo in xt:Ls.call(xt,wo)))return!1}var Vo=Bn.get(Et),$a=Bn.get(xt);if(Vo&&$a)return Vo==xt&&$a==Et;var Ms=!0;Bn.set(Et,xt),Bn.set(xt,Et);for(var es=nr;++eo<Er;){wo=ur[eo];var Ps=Et[wo],Bs=xt[wo];if(mn)var um=nr?mn(Bs,Ps,wo,xt,Et,Bn):mn(Ps,Bs,wo,Et,xt,Bn);if(!(um===nt?Ps===Bs||xn(Ps,Bs,zt,mn,Bn):um)){Ms=!1;break}es||(es=wo=="constructor")}if(Ms&&!es){var Op=Et.constructor,lm=xt.constructor;Op!=lm&&"constructor"in Et&&"constructor"in xt&&!(typeof Op=="function"&&Op instanceof Op&&typeof lm=="function"&&lm instanceof lm)&&(Ms=!1)}return Bn.delete(Et),Bn.delete(xt),Ms}function Dp(Et){return Ns(zm(Et,nt,Gt),Et+"")}function iy(Et){return Cs(Et,Zl,sy)}function B_(Et){return Cs(Et,Vp,Ky)}var ay=a_?function(Et){return a_.get(Et)}:J0;function _v(Et){for(var xt=Et.name+"",zt=Qp[xt],mn=Ls.call(Qp,xt)?zt.length:0;mn--;){var xn=zt[mn],Bn=xn.func;if(Bn==null||Bn==Et)return xn.name}return xt}function qm(Et){var xt=Ls.call(Gn,"placeholder")?Gn:Et;return xt.placeholder}function Xo(){var Et=Gn.iteratee||W0;return Et=Et===W0?ks:Et,arguments.length?Et(arguments[0],arguments[1]):Et}function vv(Et,xt){var zt=Et.__data__;return Wy(xt)?zt[typeof xt=="string"?"string":"hash"]:zt.map}function Vm(Et){for(var xt=Zl(Et),zt=xt.length;zt--;){var mn=xt[zt],xn=Et[mn];xt[zt]=[mn,xn,q_(xn)]}return xt}function km(Et,xt){var zt=yl(Et,xt);return R_(zt)?zt:nt}function yv(Et){var xt=Ls.call(Et,In),zt=Et[In];try{Et[In]=nt;var mn=!0}catch{}var xn=mm.call(Et);return mn&&(xt?Et[In]=zt:delete Et[In]),xn}var sy=Cr?function(Et){return Et==null?[]:(Et=bs(Et),Pl(Cr(Et),function(xt){return i_.call(Et,xt)}))}:X0,Ky=Cr?function(Et){for(var xt=[];Et;)_l(xt,sy(Et)),Et=ap(Et);return xt}:X0,Ol=xu;(Is&&Ol(new Is(new ArrayBuffer(1)))!=Ar||Ml&&Ol(new Ml)!=Oo||sp&&Ol(sp.resolve())!=na||Gl&&Ol(new Gl)!=ar||cp&&Ol(new cp)!=cr)&&(Ol=function(Et){var xt=xu(Et),zt=xt==_i?Et.constructor:nt,mn=zt?Wm(zt):"";if(mn)switch(mn){case X_:return Ar;case Tv:return Oo;case A_:return na;case xv:return ar;case wv:return cr}return xt});function y0(Et,xt,zt){for(var mn=-1,xn=zt.length;++mn<xn;){var Bn=zt[mn],nr=Bn.size;switch(Bn.type){case"drop":Et+=nr;break;case"dropRight":xt-=nr;break;case"take":xt=Qr(xt,Et+nr);break;case"takeRight":Et=ro(Et,xt-nr);break}}return{start:Et,end:xt}}function js(Et){var xt=Et.match(iu);return xt?xt[1].split(ds):[]}function Mv(Et,xt,zt){xt=Sm(xt,Et);for(var mn=-1,xn=xt.length,Bn=!1;++mn<xn;){var nr=Ap(xt[mn]);if(!(Bn=Et!=null&&zt(Et,nr)))break;Et=Et[nr]}return Bn||++mn!=xn?Bn:(xn=Et==null?0:Et.length,!!xn&&L0(xn)&&im(nr,xn)&&(us(Et)||gy(Et)))}function M0(Et){var xt=Et.length,zt=new Et.constructor(xt);return xt&&typeof Et[0]=="string"&&Ls.call(Et,"index")&&(zt.index=Et.index,zt.input=Et.input),zt}function Ep(Et){return typeof Et.constructor=="function"&&!__(Et)?ym(ap(Et)):{}}function E0(Et,xt,zt){var mn=Et.constructor;switch(xt){case Mr:return P_(Et);case hr:case lo:return new mn(+Et);case Ar:return p0(Et,zt);case Ir:case mo:case Ao:case jn:case Br:case Pn:case Xr:case po:case fo:return ey(Et,zt);case Oo:return new mn;case zo:case Or:return new mn(Et);case sr:return f0(Et);case ar:return new mn;case Dr:return Qv(Et)}}function A0(Et,xt){var zt=xt.length;if(!zt)return Et;var mn=zt-1;return xt[mn]=(zt>1?"& ":"")+xt[mn],xt=xt.join(zt>2?", ":" "),Et.replace(qs,`{
/* [wrapped with `+xt+`] */
`)}function b0(Et){return us(Et)||gy(Et)||!!(Xt&&Et&&Et[Xt])}function im(Et,xt){var zt=typeof Et;return xt=xt??Rn,!!xt&&(zt=="number"||zt!="symbol"&&Ql.test(Et))&&Et>-1&&Et%1==0&&Et<xt}function $l(Et,xt,zt){if(!Hu(zt))return!1;var mn=typeof xt;return(mn=="number"?qp(zt)&&im(xt,zt.length):mn=="string"&&xt in zt)?Xm(zt[xt],Et):!1}function Hm(Et,xt){if(us(Et))return!1;var zt=typeof Et;return zt=="number"||zt=="symbol"||zt=="boolean"||Et==null||cm(Et)?!0:Zs.test(Et)||!ls.test(Et)||xt!=null&&Et in bs(xt)}function Wy(Et){var xt=typeof Et;return xt=="string"||xt=="number"||xt=="symbol"||xt=="boolean"?Et!=="__proto__":Et===null}function cy(Et){var xt=_v(Et),zt=Gn[xt];if(typeof zt!="function"||!(xt in ms.prototype))return!1;if(Et===zt)return!0;var mn=ay(zt);return!!mn&&Et===mn[0]}function Yy(Et){return!!r_&&r_ in Et}var uy=gm?H_:Z0;function __(Et){var xt=Et&&Et.constructor,zt=typeof xt=="function"&&xt.prototype||Tp;return Et===zt}function q_(Et){return Et===Et&&!Hu(Et)}function Ev(Et,xt){return function(zt){return zt==null?!1:zt[Et]===xt&&(xt!==nt||Et in bs(zt))}}function Av(Et){var xt=R0(Et,function(mn){return zt.size===mt&&zt.clear(),mn}),zt=xt.cache;return xt}function Jy(Et,xt){var zt=Et[1],mn=xt[1],xn=zt|mn,Bn=xn<(Bt|Vt|hn),nr=mn==hn&&zt==Ft||mn==hn&&zt==Mn&&Et[7].length<=xt[8]||mn==(hn|Mn)&&xt[7].length<=xt[8]&&zt==Ft;if(!(Bn||nr))return Et;mn&Bt&&(Et[2]=xt[2],xn|=zt&Bt?0:$t);var ur=xt[3];if(ur){var Er=Et[3];Et[3]=Er?ty(Er,ur,xt[4]):ur,Et[4]=Er?xl(Et[3],Mt):xt[4]}return ur=xt[5],ur&&(Er=Et[5],Et[5]=Er?Uy(Er,ur,xt[6]):ur,Et[6]=Er?xl(Et[5],Mt):xt[6]),ur=xt[7],ur&&(Et[7]=ur),mn&hn&&(Et[8]=Et[8]==null?xt[8]:Qr(Et[8],xt[8])),Et[9]==null&&(Et[9]=xt[9]),Et[0]=xt[0],Et[1]=xn,Et}function C0(Et){var xt=[];if(Et!=null)for(var zt in bs(Et))xt.push(zt);return xt}function Xy(Et){return mm.call(Et)}function zm(Et,xt,zt){return xt=ro(xt===nt?Et.length-1:xt,0),function(){for(var mn=arguments,xn=-1,Bn=ro(mn.length-xt,0),nr=Rr(Bn);++xn<Bn;)nr[xn]=mn[xt+xn];xn=-1;for(var ur=Rr(xt+1);++xn<xt;)ur[xn]=mn[xn];return ur[xt]=zt(nr),Ks(Et,this,ur)}}function ly(Et,xt){return xt.length<2?Et:go(Et,yp(xt,0,-1))}function Zy(Et,xt){for(var zt=Et.length,mn=Qr(xt.length,zt),xn=Rl(Et);mn--;){var Bn=xt[mn];Et[mn]=im(Bn,zt)?xn[Bn]:nt}return Et}function Km(Et,xt){if(!(xt==="constructor"&&typeof Et[xt]=="function")&&xt!="__proto__")return Et[xt]}var am=Qy(N_),V_=Dn||function(Et,xt){return fs.setTimeout(Et,xt)},Ns=Qy(c0);function bv(Et,xt,zt){var mn=xt+"";return Ns(Et,A0(mn,S0(js(mn),zt)))}function Qy(Et){var xt=0,zt=0;return function(){var mn=Lo(),xn=En-(mn-zt);if(zt=mn,xn>0){if(++xt>=Ut)return arguments[0]}else xt=0;return Et.apply(nt,arguments)}}function up(Et,xt){var zt=-1,mn=Et.length,xn=mn-1;for(xt=xt===nt?mn:xt;++zt<xt;){var Bn=Wv(zt,xn),nr=Et[Bn];Et[Bn]=Et[zt],Et[zt]=nr}return Et.length=xt,Et}var Cu=Av(function(Et){var xt=[];return Et.charCodeAt(0)===46&&xt.push(""),Et.replace(ou,function(zt,mn,xn,Bn){xt.push(xn?Bn.replace(Du,"$1"):mn||zt)}),xt});function Ap(Et){if(typeof Et=="string"||cm(Et))return Et;var xt=Et+"";return xt=="0"&&1/Et==-Kn?"-0":xt}function Wm(Et){if(Et!=null){try{return gp.call(Et)}catch{}try{return Et+""}catch{}}return""}function S0(Et,xt){return Nu(Jn,function(zt){var mn="_."+zt[0];xt&zt[1]&&!Jr(Et,mn)&&Et.push(mn)}),Et.sort()}function dy(Et){if(Et instanceof ms)return Et.clone();var xt=new Wl(Et.__wrapped__,Et.__chain__);return xt.__actions__=Rl(Et.__actions__),xt.__index__=Et.__index__,xt.__values__=Et.__values__,xt}function Rp(Et,xt,zt){(zt?$l(Et,xt,zt):xt===nt)?xt=1:xt=ro(vs(xt),0);var mn=Et==null?0:Et.length;if(!mn||xt<1)return[];for(var xn=0,Bn=0,nr=Rr(Hn(mn/xt));xn<mn;)nr[Bn++]=yp(Et,xn,xn+=xt);return nr}function Cv(Et){for(var xt=-1,zt=Et==null?0:Et.length,mn=0,xn=[];++xt<zt;){var Bn=Et[xt];Bn&&(xn[mn++]=Bn)}return xn}function I0(){var Et=arguments.length;if(!Et)return[];for(var xt=Rr(Et-1),zt=arguments[0],mn=Et;mn--;)xt[mn-1]=arguments[mn];return _l(us(zt)?Rl(zt):[zt],hu(xt,1))}var py=os(function(Et,xt){return Cl(Et)?Em(Et,hu(xt,1,Cl,!0)):[]}),e0=os(function(Et,xt){var zt=Wt(xt);return Cl(zt)&&(zt=nt),Cl(Et)?Em(Et,hu(xt,1,Cl,!0),Xo(zt,2)):[]}),t0=os(function(Et,xt){var zt=Wt(xt);return Cl(zt)&&(zt=nt),Cl(Et)?Em(Et,hu(xt,1,Cl,!0),nt,zt):[]});function n0(Et,xt,zt){var mn=Et==null?0:Et.length;return mn?(xt=zt||xt===nt?1:vs(xt),yp(Et,xt<0?0:xt,mn)):[]}function fy(Et,xt,zt){var mn=Et==null?0:Et.length;return mn?(xt=zt||xt===nt?1:vs(xt),xt=mn-xt,yp(Et,0,xt<0?0:xt)):[]}function hy(Et,xt){return Et&&Et.length?f_(Et,Xo(xt,3),!0,!0):[]}function r0(Et,xt){return Et&&Et.length?f_(Et,Xo(xt,3),!0):[]}function k0(Et,xt,zt,mn){var xn=Et==null?0:Et.length;return xn?(zt&&typeof zt!="number"&&$l(Et,xt,zt)&&(zt=0,mn=xn),Am(Et,xt,zt,mn)):[]}function Ym(Et,xt,zt){var mn=Et==null?0:Et.length;if(!mn)return-1;var xn=zt==null?0:vs(zt);return xn<0&&(xn=ro(mn+xn,0)),Uo(Et,Xo(xt,3),xn)}function bp(Et,xt,zt){var mn=Et==null?0:Et.length;if(!mn)return-1;var xn=mn-1;return zt!==nt&&(xn=vs(zt),xn=zt<0?ro(mn+xn,0):Qr(xn,mn-1)),Uo(Et,Xo(xt,3),xn,!0)}function Gt(Et){var xt=Et==null?0:Et.length;return xt?hu(Et,1):[]}function dt(Et){var xt=Et==null?0:Et.length;return xt?hu(Et,Kn):[]}function yt(Et,xt){var zt=Et==null?0:Et.length;return zt?(xt=xt===nt?1:vs(xt),hu(Et,xt)):[]}function st(Et){for(var xt=-1,zt=Et==null?0:Et.length,mn={};++xt<zt;){var xn=Et[xt];mn[xn[0]]=xn[1]}return mn}function ht(Et){return Et&&Et.length?Et[0]:nt}function vt(Et,xt,zt){var mn=Et==null?0:Et.length;if(!mn)return-1;var xn=zt==null?0:vs(zt);return xn<0&&(xn=ro(mn+xn,0)),Ws(Et,xt,xn)}function It(Et){var xt=Et==null?0:Et.length;return xt?yp(Et,0,-1):[]}var kt=os(function(Et){var xt=Qo(Et,dv);return xt.length&&xt[0]===Et[0]?D_(xt):[]}),Ot=os(function(Et){var xt=Wt(Et),zt=Qo(Et,dv);return xt===Wt(zt)?xt=nt:zt.pop(),zt.length&&zt[0]===Et[0]?D_(zt,Xo(xt,2)):[]}),Pt=os(function(Et){var xt=Wt(Et),zt=Qo(Et,dv);return xt=typeof xt=="function"?xt:nt,xt&&zt.pop(),zt.length&&zt[0]===Et[0]?D_(zt,nt,xt):[]});function qt(Et,xt){return Et==null?"":Eo.call(Et,xt)}function Wt(Et){var xt=Et==null?0:Et.length;return xt?Et[xt-1]:nt}function ln(Et,xt,zt){var mn=Et==null?0:Et.length;if(!mn)return-1;var xn=mn;return zt!==nt&&(xn=vs(zt),xn=xn<0?ro(mn+xn,0):Qr(xn,mn-1)),xt===xt?v_(Et,xt,xn):Uo(Et,cs,xn,!0)}function fn(Et,xt){return Et&&Et.length?O_(Et,vs(xt)):nt}var Sn=os(Nn);function Nn(Et,xt){return Et&&Et.length&&xt&&xt.length?Kv(Et,xt):Et}function qn(Et,xt,zt){return Et&&Et.length&&xt&&xt.length?Kv(Et,xt,Xo(zt,2)):Et}function Yn(Et,xt,zt){return Et&&Et.length&&xt&&xt.length?Kv(Et,xt,nt,zt):Et}var Zn=Dp(function(Et,xt){var zt=Et==null?0:Et.length,mn=k_(Et,xt);return wy(Et,Qo(xt,function(xn){return im(xn,zt)?+xn:xn}).sort(Py)),mn});function or(Et,xt){var zt=[];if(!(Et&&Et.length))return zt;var mn=-1,xn=[],Bn=Et.length;for(xt=Xo(xt,3);++mn<Bn;){var nr=Et[mn];xt(nr,mn,Et)&&(zt.push(nr),xn.push(mn))}return wy(Et,xn),zt}function Sr(Et){return Et==null?Et:fu.call(Et)}function Pr(Et,xt,zt){var mn=Et==null?0:Et.length;return mn?(zt&&typeof zt!="number"&&$l(Et,xt,zt)?(xt=0,zt=mn):(xt=xt==null?0:vs(xt),zt=zt===nt?mn:vs(zt)),yp(Et,xt,zt)):[]}function Vr(Et,xt){return cv(Et,xt)}function io(Et,xt,zt){return uv(Et,xt,Xo(zt,2))}function No(Et,xt){var zt=Et==null?0:Et.length;if(zt){var mn=cv(Et,xt);if(mn<zt&&Xm(Et[mn],xt))return mn}return-1}function Bo(Et,xt){return cv(Et,xt,!0)}function ko(Et,xt,zt){return uv(Et,xt,Xo(zt,2),!0)}function Nt(Et,xt){var zt=Et==null?0:Et.length;if(zt){var mn=cv(Et,xt,!0)-1;if(Xm(Et[mn],xt))return mn}return-1}function ut(Et){return Et&&Et.length?Jv(Et):[]}function _t(Et,xt){return Et&&Et.length?Jv(Et,Xo(xt,2)):[]}function at(Et){var xt=Et==null?0:Et.length;return xt?yp(Et,1,xt):[]}function ft(Et,xt,zt){return Et&&Et.length?(xt=zt||xt===nt?1:vs(xt),yp(Et,0,xt<0?0:xt)):[]}function gt(Et,xt,zt){var mn=Et==null?0:Et.length;return mn?(xt=zt||xt===nt?1:vs(xt),xt=mn-xt,yp(Et,xt<0?0:xt,mn)):[]}function Ct(Et,xt){return Et&&Et.length?f_(Et,Xo(xt,3),!1,!0):[]}function St(Et,xt){return Et&&Et.length?f_(Et,Xo(xt,3)):[]}var Dt=os(function(Et){return tm(hu(Et,1,Cl,!0))}),Lt=os(function(Et){var xt=Wt(Et);return Cl(xt)&&(xt=nt),tm(hu(Et,1,Cl,!0),Xo(xt,2))}),jt=os(function(Et){var xt=Wt(Et);return xt=typeof xt=="function"?xt:nt,tm(hu(Et,1,Cl,!0),nt,xt)});function Kt(Et){return Et&&Et.length?tm(Et):[]}function Jt(Et,xt){return Et&&Et.length?tm(Et,Xo(xt,2)):[]}function cn(Et,xt){return xt=typeof xt=="function"?xt:nt,Et&&Et.length?tm(Et,nt,xt):[]}function bn(Et){if(!(Et&&Et.length))return[];var xt=0;return Et=Pl(Et,function(zt){if(Cl(zt))return xt=ro(zt.length,xt),!0}),Rs(xt,function(zt){return Qo(Et,ys(zt))})}function On(Et,xt){if(!(Et&&Et.length))return[];var zt=bn(Et);return xt==null?zt:Qo(zt,function(mn){return Ks(xt,nt,mn)})}var Fn=os(function(Et,xt){return Cl(Et)?Em(Et,xt):[]}),Wn=os(function(Et){return Zv(Pl(Et,Cl))}),er=os(function(Et){var xt=Wt(Et);return Cl(xt)&&(xt=nt),Zv(Pl(Et,Cl),Xo(xt,2))}),ir=os(function(Et){var xt=Wt(Et);return xt=typeof xt=="function"?xt:nt,Zv(Pl(Et,Cl),nt,xt)}),Tr=os(bn);function Ur(Et,xt){return Ly(Et||[],xt||[],Gu)}function zr(Et,xt){return Ly(Et||[],xt||[],p_)}var co=os(function(Et){var xt=Et.length,zt=xt>1?Et[xt-1]:nt;return zt=typeof zt=="function"?(Et.pop(),zt):nt,On(Et,zt)});function $o(Et){var xt=Gn(Et);return xt.__chain__=!0,xt}function Ho(Et,xt){return xt(Et),Et}function Ro(Et,xt){return xt(Et)}var ts=Dp(function(Et){var xt=Et.length,zt=xt?Et[0]:0,mn=this.__wrapped__,xn=function(Bn){return k_(Bn,Et)};return xt>1||this.__actions__.length||!(mn instanceof ms)||!im(zt)?this.thru(xn):(mn=mn.slice(zt,+zt+(xt?1:0)),mn.__actions__.push({func:Ro,args:[xn],thisArg:nt}),new Wl(mn,this.__chain__).thru(function(Bn){return xt&&!Bn.length&&Bn.push(nt),Bn}))});function Iu(){return $o(this)}function Xu(){return new Wl(this.value(),this.__chain__)}function $u(){this.__values__===nt&&(this.__values__=pM(this.value()));var Et=this.__index__>=this.__values__.length,xt=Et?nt:this.__values__[this.__index__++];return{done:Et,value:xt}}function Vu(){return this}function Xl(Et){for(var xt,zt=this;zt instanceof c_;){var mn=dy(zt);mn.__index__=0,mn.__values__=nt,xt?xn.__wrapped__=mn:xt=mn;var xn=mn;zt=zt.__wrapped__}return xn.__wrapped__=Et,xt}function sm(){var Et=this.__wrapped__;if(Et instanceof ms){var xt=Et;return this.__actions__.length&&(xt=new ms(this)),xt=xt.reverse(),xt.__actions__.push({func:Ro,args:[Sr],thisArg:nt}),new Wl(xt,this.__chain__)}return this.thru(Sr)}function Sv(){return Oy(this.__wrapped__,this.__actions__)}var o0=pv(function(Et,xt,zt){Ls.call(Et,zt)?++Et[zt]:$p(Et,zt,1)});function Iv(Et,xt,zt){var mn=us(Et)?e_:jv;return zt&&$l(Et,xt,zt)&&(xt=nt),mn(Et,Xo(xt,3))}function T0(Et,xt){var zt=us(Et)?Pl:_g;return zt(Et,Xo(xt,3))}var U0=fv(Ym),Jm=fv(bp);function G0(Et,xt){return hu(w0(Et,xt),1)}function i0(Et,xt){return hu(w0(Et,xt),Kn)}function $0(Et,xt,zt){return zt=zt===nt?1:vs(zt),hu(w0(Et,xt),zt)}function Q0(Et,xt){var zt=us(Et)?Nu:pr;return zt(Et,Xo(xt,3))}function eM(Et,xt){var zt=us(Et)?Np:w_;return zt(Et,Xo(xt,3))}var kM=pv(function(Et,xt,zt){Ls.call(Et,zt)?Et[zt].push(xt):$p(Et,zt,[xt])});function TM(Et,xt,zt,mn){Et=qp(Et)?Et:s0(Et),zt=zt&&!mn?vs(zt):0;var xn=Et.length;return zt<0&&(zt=ro(xn+zt,0)),N0(Et)?zt<=xn&&Et.indexOf(xt,zt)>-1:!!xn&&Ws(Et,xt,zt)>-1}var xM=os(function(Et,xt,zt){var mn=-1,xn=typeof xt=="function",Bn=qp(Et)?Rr(Et.length):[];return pr(Et,function(nr){Bn[++mn]=xn?Ks(xt,nr,zt):Al(nr,xt,zt)}),Bn}),wM=pv(function(Et,xt,zt){$p(Et,zt,xt)});function w0(Et,xt){var zt=us(Et)?Qo:Xn;return zt(Et,Xo(xt,3))}function DM(Et,xt,zt,mn){return Et==null?[]:(us(xt)||(xt=xt==null?[]:[xt]),zt=mn?nt:zt,us(zt)||(zt=zt==null?[]:[zt]),sv(Et,xt,zt))}var RM=pv(function(Et,xt,zt){Et[zt?0:1].push(xt)},function(){return[[],[]]});function OM(Et,xt,zt){var mn=us(Et)?Wp:To,xn=arguments.length<3;return mn(Et,Xo(xt,4),zt,xn,pr)}function LM(Et,xt,zt){var mn=us(Et)?hs:To,xn=arguments.length<3;return mn(Et,Xo(xt,4),zt,xn,w_)}function NM(Et,xt){var zt=us(Et)?Pl:_g;return zt(Et,O0(Xo(xt,3)))}function PM(Et){var xt=us(Et)?Gm:Dy;return xt(Et)}function UM(Et,xt,zt){(zt?$l(Et,xt,zt):xt===nt)?xt=1:xt=vs(xt);var mn=us(Et)?$m:Cm;return mn(Et,xt)}function GM(Et){var xt=us(Et)?u_:u0;return xt(Et)}function $M(Et){if(Et==null)return 0;if(qp(Et))return N0(Et)?Xp(Et):Et.length;var xt=Ol(Et);return xt==Oo||xt==ar?Et.size:Dl(Et).length}function FM(Et,xt,zt){var mn=us(Et)?uo:l0;return zt&&$l(Et,xt,zt)&&(xt=nt),mn(Et,Xo(xt,3))}var jM=os(function(Et,xt){if(Et==null)return[];var zt=xt.length;return zt>1&&$l(Et,xt[0],xt[1])?xt=[]:zt>2&&$l(xt[0],xt[1],xt[2])&&(xt=[xt[0]]),sv(Et,hu(xt,1),[])}),D0=An||function(){return fs.Date.now()};function BM(Et,xt){if(typeof xt!="function")throw new wl(ct);return Et=vs(Et),function(){if(--Et<1)return xt.apply(this,arguments)}}function tM(Et,xt,zt){return xt=zt?nt:xt,xt=Et&&xt==null?Et.length:xt,om(Et,hn,nt,nt,nt,nt,xt)}function nM(Et,xt){var zt;if(typeof xt!="function")throw new wl(ct);return Et=vs(Et),function(){return--Et>0&&(zt=xt.apply(this,arguments)),Et<=1&&(xt=nt),zt}}var F0=os(function(Et,xt,zt){var mn=Bt;if(zt.length){var xn=xl(zt,qm(F0));mn|=Qt}return om(Et,mn,xt,zt,xn)}),rM=os(function(Et,xt,zt){var mn=Bt|Vt;if(zt.length){var xn=xl(zt,qm(rM));mn|=Qt}return om(xt,mn,Et,zt,xn)});function oM(Et,xt,zt){xt=zt?nt:xt;var mn=om(Et,Ft,nt,nt,nt,nt,nt,xt);return mn.placeholder=oM.placeholder,mn}function iM(Et,xt,zt){xt=zt?nt:xt;var mn=om(Et,Ht,nt,nt,nt,nt,nt,xt);return mn.placeholder=iM.placeholder,mn}function aM(Et,xt,zt){var mn,xn,Bn,nr,ur,Er,Kr=0,Wr=!1,eo=!1,wo=!0;if(typeof Et!="function")throw new wl(ct);xt=Tm(xt)||0,Hu(zt)&&(Wr=!!zt.leading,eo="maxWait"in zt,Bn=eo?ro(Tm(zt.maxWait)||0,xt):Bn,wo="trailing"in zt?!!zt.trailing:wo);function Vo(Sl){var Zm=mn,K_=xn;return mn=xn=nt,Kr=Sl,nr=Et.apply(K_,Zm),nr}function $a(Sl){return Kr=Sl,ur=V_(Ps,xt),Wr?Vo(Sl):nr}function Ms(Sl){var Zm=Sl-Er,K_=Sl-Kr,SM=xt-Zm;return eo?Qr(SM,Bn-K_):SM}function es(Sl){var Zm=Sl-Er,K_=Sl-Kr;return Er===nt||Zm>=xt||Zm<0||eo&&K_>=Bn}function Ps(){var Sl=D0();if(es(Sl))return Bs(Sl);ur=V_(Ps,Ms(Sl))}function Bs(Sl){return ur=nt,wo&&mn?Vo(Sl):(mn=xn=nt,nr)}function um(){ur!==nt&&Ny(ur),Kr=0,mn=Er=xn=ur=nt}function Op(){return ur===nt?nr:Bs(D0())}function lm(){var Sl=D0(),Zm=es(Sl);if(mn=arguments,xn=this,Er=Sl,Zm){if(ur===nt)return $a(Er);if(eo)return Ny(ur),ur=V_(Ps,xt),Vo(Er)}return ur===nt&&(ur=V_(Ps,xt)),nr}return lm.cancel=um,lm.flush=Op,lm}var qM=os(function(Et,xt){return x_(Et,1,xt)}),VM=os(function(Et,xt,zt){return x_(Et,Tm(xt)||0,zt)});function HM(Et){return om(Et,kn)}function R0(Et,xt){if(typeof Et!="function"||xt!=null&&typeof xt!="function")throw new wl(ct);var zt=function(){var mn=arguments,xn=xt?xt.apply(this,mn):mn[0],Bn=zt.cache;if(Bn.has(xn))return Bn.get(xn);var nr=Et.apply(this,mn);return zt.cache=Bn.set(xn,nr)||Bn,nr};return zt.cache=new(R0.Cache||wp),zt}R0.Cache=wp;function O0(Et){if(typeof Et!="function")throw new wl(ct);return function(){var xt=arguments;switch(xt.length){case 0:return!Et.call(this);case 1:return!Et.call(this,xt[0]);case 2:return!Et.call(this,xt[0],xt[1]);case 3:return!Et.call(this,xt[0],xt[1],xt[2])}return!Et.apply(this,xt)}}function zM(Et){return nM(2,Et)}var KM=d0(function(Et,xt){xt=xt.length==1&&us(xt[0])?Qo(xt[0],jo(Xo())):Qo(hu(xt,1),jo(Xo()));var zt=xt.length;return os(function(mn){for(var xn=-1,Bn=Qr(mn.length,zt);++xn<Bn;)mn[xn]=xt[xn].call(this,mn[xn]);return Ks(Et,this,mn)})}),j0=os(function(Et,xt){var zt=xl(xt,qm(j0));return om(Et,Qt,nt,xt,zt)}),sM=os(function(Et,xt){var zt=xl(xt,qm(sM));return om(Et,_n,nt,xt,zt)}),WM=Dp(function(Et,xt){return om(Et,Mn,nt,nt,nt,xt)});function YM(Et,xt){if(typeof Et!="function")throw new wl(ct);return xt=xt===nt?xt:vs(xt),os(Et,xt)}function JM(Et,xt){if(typeof Et!="function")throw new wl(ct);return xt=xt==null?0:ro(vs(xt),0),os(function(zt){var mn=zt[xt],xn=nm(zt,0,xt);return mn&&_l(xn,mn),Ks(Et,this,xn)})}function XM(Et,xt,zt){var mn=!0,xn=!0;if(typeof Et!="function")throw new wl(ct);return Hu(zt)&&(mn="leading"in zt?!!zt.leading:mn,xn="trailing"in zt?!!zt.trailing:xn),aM(Et,xt,{leading:mn,maxWait:xt,trailing:xn})}function ZM(Et){return tM(Et,1)}function QM(Et,xt){return j0(h_(xt),Et)}function eE(){if(!arguments.length)return[];var Et=arguments[0];return us(Et)?Et:[Et]}function tE(Et){return xr(Et,wt)}function nE(Et,xt){return xt=typeof xt=="function"?xt:nt,xr(Et,wt,xt)}function rE(Et){return xr(Et,bt|wt)}function oE(Et,xt){return xt=typeof xt=="function"?xt:nt,xr(Et,bt|wt,xt)}function iE(Et,xt){return xt==null||T_(Et,xt,Zl(xt))}function Xm(Et,xt){return Et===xt||Et!==Et&&xt!==xt}var aE=Im(br),sE=Im(function(Et,xt){return Et>=xt}),gy=ov(function(){return arguments}())?ov:function(Et){return Zu(Et)&&Ls.call(Et,"callee")&&!i_.call(Et,"callee")},us=Rr.isArray,cE=op?jo(op):iv;function qp(Et){return Et!=null&&L0(Et.length)&&!H_(Et)}function Cl(Et){return Zu(Et)&&qp(Et)}function uE(Et){return Et===!0||Et===!1||Zu(Et)&&xu(Et)==hr}var kv=Lr||Z0,lE=kp?jo(kp):qv;function dE(Et){return Zu(Et)&&Et.nodeType===1&&!x0(Et)}function pE(Et){if(Et==null)return!0;if(qp(Et)&&(us(Et)||typeof Et=="string"||typeof Et.splice=="function"||kv(Et)||a0(Et)||gy(Et)))return!Et.length;var xt=Ol(Et);if(xt==Oo||xt==ar)return!Et.size;if(__(Et))return!Dl(Et).length;for(var zt in Et)if(Ls.call(Et,zt))return!1;return!0}function fE(Et,xt){return jm(Et,xt)}function hE(Et,xt,zt){zt=typeof zt=="function"?zt:nt;var mn=zt?zt(Et,xt):nt;return mn===nt?jm(Et,xt,nt,zt):!!mn}function B0(Et){if(!Zu(Et))return!1;var xt=xu(Et);return xt==bo||xt==_o||typeof Et.message=="string"&&typeof Et.name=="string"&&!x0(Et)}function gE(Et){return typeof Et=="number"&&ho(Et)}function H_(Et){if(!Hu(Et))return!1;var xt=xu(Et);return xt==Hr||xt==Do||xt==Zt||xt==Qn}function cM(Et){return typeof Et=="number"&&Et==vs(Et)}function L0(Et){return typeof Et=="number"&&Et>-1&&Et%1==0&&Et<=Rn}function Hu(Et){var xt=typeof Et;return Et!=null&&(xt=="object"||xt=="function")}function Zu(Et){return Et!=null&&typeof Et=="object"}var uM=xm?jo(xm):Hv;function mE(Et,xt){return Et===xt||av(Et,xt,Vm(xt))}function _E(Et,xt,zt){return zt=typeof zt=="function"?zt:nt,av(Et,xt,Vm(xt),zt)}function vE(Et){return lM(Et)&&Et!=+Et}function yE(Et){if(uy(Et))throw new _a(it);return R_(Et)}function ME(Et){return Et===null}function EE(Et){return Et==null}function lM(Et){return typeof Et=="number"||Zu(Et)&&xu(Et)==zo}function x0(Et){if(!Zu(Et)||xu(Et)!=_i)return!1;var xt=ap(Et);if(xt===null)return!0;var zt=Ls.call(xt,"constructor")&&xt.constructor;return typeof zt=="function"&&zt instanceof zt&&gp.call(zt)==Lm}var q0=pp?jo(pp):d_;function AE(Et){return cM(Et)&&Et>=-Rn&&Et<=Rn}var dM=Qm?jo(Qm):wu;function N0(Et){return typeof Et=="string"||!us(Et)&&Zu(Et)&&xu(Et)==Or}function cm(Et){return typeof Et=="symbol"||Zu(Et)&&xu(Et)==Dr}var a0=Bu?jo(Bu):oo;function bE(Et){return Et===nt}function CE(Et){return Zu(Et)&&Ol(Et)==cr}function SE(Et){return Zu(Et)&&xu(Et)==gr}var IE=Im(Io),kE=Im(function(Et,xt){return Et<=xt});function pM(Et){if(!Et)return[];if(qp(Et))return N0(Et)?Uu(Et):Rl(Et);if(dn&&Et[dn])return Jp(Et[dn]());var xt=Ol(Et),zt=xt==Oo?Dm:xt==ar?Os:s0;return zt(Et)}function z_(Et){if(!Et)return Et===0?Et:0;if(Et=Tm(Et),Et===Kn||Et===-Kn){var xt=Et<0?-1:1;return xt*Tn}return Et===Et?Et:0}function vs(Et){var xt=z_(Et),zt=xt%1;return xt===xt?zt?xt-zt:xt:0}function fM(Et){return Et?Mm(vs(Et),0,$n):0}function Tm(Et){if(typeof Et=="number")return Et;if(cm(Et))return Un;if(Hu(Et)){var xt=typeof Et.valueOf=="function"?Et.valueOf():Et;Et=Hu(xt)?xt+"":xt}if(typeof Et!="string")return Et===0?Et:+Et;Et=no(Et);var zt=Wo.test(Et);return zt||dp.test(Et)?kr(Et.slice(2),zt?2:8):xs.test(Et)?Un:+Et}function hM(Et){return Bp(Et,Vp(Et))}function TE(Et){return Et?Mm(vs(Et),-Rn,Rn):Et===0?Et:0}function su(Et){return Et==null?"":Jl(Et)}var xE=rm(function(Et,xt){if(__(xt)||qp(xt)){Bp(xt,Zl(xt),Et);return}for(var zt in xt)Ls.call(xt,zt)&&Gu(Et,zt,xt[zt])}),gM=rm(function(Et,xt){Bp(xt,Vp(xt),Et)}),P0=rm(function(Et,xt,zt,mn){Bp(xt,Vp(xt),Et,mn)}),wE=rm(function(Et,xt,zt,mn){Bp(xt,Zl(xt),Et,mn)}),DE=Dp(k_);function RE(Et,xt){var zt=ym(Et);return xt==null?zt:Fm(zt,xt)}var OE=os(function(Et,xt){Et=bs(Et);var zt=-1,mn=xt.length,xn=mn>2?xt[2]:nt;for(xn&&$l(xt[0],xt[1],xn)&&(mn=1);++zt<mn;)for(var Bn=xt[zt],nr=Vp(Bn),ur=-1,Er=nr.length;++ur<Er;){var Kr=nr[ur],Wr=Et[Kr];(Wr===nt||Xm(Wr,Tp[Kr])&&!Ls.call(Et,Kr))&&(Et[Kr]=Bn[Kr])}return Et}),LE=os(function(Et){return Et.push(nt,j_),Ks(mM,nt,Et)});function NE(Et,xt){return Yp(Et,Xo(xt,3),El)}function PE(Et,xt){return Yp(Et,Xo(xt,3),em)}function UE(Et,xt){return Et==null?Et:qu(Et,Xo(xt,3),Vp)}function GE(Et,xt){return Et==null?Et:bm(Et,Xo(xt,3),Vp)}function $E(Et,xt){return Et&&El(Et,Xo(xt,3))}function FE(Et,xt){return Et&&em(Et,Xo(xt,3))}function jE(Et){return Et==null?[]:yu(Et,Zl(Et))}function BE(Et){return Et==null?[]:yu(Et,Vp(Et))}function V0(Et,xt,zt){var mn=Et==null?nt:go(Et,xt);return mn===nt?zt:mn}function qE(Et,xt){return Et!=null&&Mv(Et,xt,Go)}function H0(Et,xt){return Et!=null&&Mv(Et,xt,rr)}var VE=hv(function(Et,xt,zt){xt!=null&&typeof xt.toString!="function"&&(xt=mm.call(xt)),Et[xt]=zt},K0(Hp)),HE=hv(function(Et,xt,zt){xt!=null&&typeof xt.toString!="function"&&(xt=mm.call(xt)),Ls.call(Et,xt)?Et[xt].push(zt):Et[xt]=[zt]},Xo),zE=os(Al);function Zl(Et){return qp(Et)?I_(Et):Dl(Et)}function Vp(Et){return qp(Et)?I_(Et,!0):Sy(Et)}function KE(Et,xt){var zt={};return xt=Xo(xt,3),El(Et,function(mn,xn,Bn){$p(zt,xt(mn,xn,Bn),mn)}),zt}function WE(Et,xt){var zt={};return xt=Xo(xt,3),El(Et,function(mn,xn,Bn){$p(zt,xn,xt(mn,xn,Bn))}),zt}var YE=rm(function(Et,xt,zt){Yl(Et,xt,zt)}),mM=rm(function(Et,xt,zt,mn){Yl(Et,xt,zt,mn)}),JE=Dp(function(Et,xt){var zt={};if(Et==null)return zt;var mn=!1;xt=Qo(xt,function(Bn){return Bn=Sm(Bn,Et),mn||(mn=Bn.length>1),Bn}),Bp(Et,B_(Et),zt),mn&&(zt=xr(zt,bt|At|wt,ry));for(var xn=xt.length;xn--;)lv(zt,xt[xn]);return zt});function XE(Et,xt){return _M(Et,O0(Xo(xt)))}var ZE=Dp(function(Et,xt){return Et==null?{}:Ty(Et,xt)});function _M(Et,xt){if(Et==null)return{};var zt=Qo(B_(Et),function(mn){return[mn]});return xt=Xo(xt),zv(Et,zt,function(mn,xn){return xt(mn,xn[0])})}function QE(Et,xt,zt){xt=Sm(xt,Et);var mn=-1,xn=xt.length;for(xn||(xn=1,Et=nt);++mn<xn;){var Bn=Et==null?nt:Et[Ap(xt[mn])];Bn===nt&&(mn=xn,Bn=zt),Et=H_(Bn)?Bn.call(Et):Bn}return Et}function eA(Et,xt,zt){return Et==null?Et:p_(Et,xt,zt)}function tA(Et,xt,zt,mn){return mn=typeof mn=="function"?mn:nt,Et==null?Et:p_(Et,xt,zt,mn)}var vM=qy(Zl),yM=qy(Vp);function nA(Et,xt,zt){var mn=us(Et),xn=mn||kv(Et)||a0(Et);if(xt=Xo(xt,4),zt==null){var Bn=Et&&Et.constructor;xn?zt=mn?new Bn:[]:Hu(Et)?zt=H_(Bn)?ym(ap(Et)):{}:zt={}}return(xn?Nu:El)(Et,function(nr,ur,Er){return xt(zt,nr,ur,Er)}),zt}function rA(Et,xt){return Et==null?!0:lv(Et,xt)}function oA(Et,xt,zt){return Et==null?Et:Ry(Et,xt,h_(zt))}function iA(Et,xt,zt,mn){return mn=typeof mn=="function"?mn:nt,Et==null?Et:Ry(Et,xt,h_(zt),mn)}function s0(Et){return Et==null?[]:Yu(Et,Zl(Et))}function aA(Et){return Et==null?[]:Yu(Et,Vp(Et))}function sA(Et,xt,zt){return zt===nt&&(zt=xt,xt=nt),zt!==nt&&(zt=Tm(zt),zt=zt===zt?zt:0),xt!==nt&&(xt=Tm(xt),xt=xt===xt?xt:0),Mm(Tm(Et),xt,zt)}function cA(Et,xt,zt){return xt=z_(xt),zt===nt?(zt=xt,xt=0):zt=z_(zt),Et=Tm(Et),Bv(Et,xt,zt)}function uA(Et,xt,zt){if(zt&&typeof zt!="boolean"&&$l(Et,xt,zt)&&(xt=zt=nt),zt===nt&&(typeof xt=="boolean"?(zt=xt,xt=nt):typeof Et=="boolean"&&(zt=Et,Et=nt)),Et===nt&&xt===nt?(Et=0,xt=1):(Et=z_(Et),xt===nt?(xt=Et,Et=0):xt=z_(xt)),Et>xt){var mn=Et;Et=xt,xt=mn}if(zt||Et%1||xt%1){var xn=vu();return Qr(Et+xn*(xt-Et+Ds("1e-"+((xn+"").length-1))),xt)}return Wv(Et,xt)}var lA=Mp(function(Et,xt,zt){return xt=xt.toLowerCase(),Et+(zt?MM(xt):xt)});function MM(Et){return z0(su(Et).toLowerCase())}function EM(Et){return Et=su(Et),Et&&Et.replace(_d,Hl).replace(tu,"")}function dA(Et,xt,zt){Et=su(Et),xt=Jl(xt);var mn=Et.length;zt=zt===nt?mn:Mm(vs(zt),0,mn);var xn=zt;return zt-=xt.length,zt>=0&&Et.slice(zt,xn)==xt}function pA(Et){return Et=su(Et),Et&&Ss.test(Et)?Et.replace(Gr,t_):Et}function fA(Et){return Et=su(Et),Et&&lp.test(Et)?Et.replace(Mu,"\\$&"):Et}var hA=Mp(function(Et,xt,zt){return Et+(zt?"-":"")+xt.toLowerCase()}),gA=Mp(function(Et,xt,zt){return Et+(zt?" ":"")+xt.toLowerCase()}),mA=U_("toLowerCase");function _A(Et,xt,zt){Et=su(Et),xt=vs(xt);var mn=xt?Xp(Et):0;if(!xt||mn>=xt)return Et;var xn=(xt-mn)/2;return F_(zn(xn),zt)+Et+F_(Hn(xn),zt)}function vA(Et,xt,zt){Et=su(Et),xt=vs(xt);var mn=xt?Xp(Et):0;return xt&&mn<xt?Et+F_(xt-mn,zt):Et}function yA(Et,xt,zt){Et=su(Et),xt=vs(xt);var mn=xt?Xp(Et):0;return xt&&mn<xt?F_(xt-mn,zt)+Et:Et}function MA(Et,xt,zt){return zt||xt==null?xt=0:xt&&(xt=+xt),Jo(su(Et).replace(Nl,""),xt||0)}function EA(Et,xt,zt){return(zt?$l(Et,xt,zt):xt===nt)?xt=1:xt=vs(xt),Yv(su(Et),xt)}function AA(){var Et=arguments,xt=su(Et[0]);return Et.length<3?xt:xt.replace(Et[1],Et[2])}var bA=Mp(function(Et,xt,zt){return Et+(zt?"_":"")+xt.toLowerCase()});function CA(Et,xt,zt){return zt&&typeof zt!="number"&&$l(Et,xt,zt)&&(xt=zt=nt),zt=zt===nt?$n:zt>>>0,zt?(Et=su(Et),Et&&(typeof xt=="string"||xt!=null&&!q0(xt))&&(xt=Jl(xt),!xt&&Pu(Et))?nm(Uu(Et),0,zt):Et.split(xt,zt)):[]}var SA=Mp(function(Et,xt,zt){return Et+(zt?" ":"")+z0(xt)});function IA(Et,xt,zt){return Et=su(Et),zt=zt==null?0:Mm(vs(zt),0,Et.length),xt=Jl(xt),Et.slice(zt,zt+xt.length)==xt}function kA(Et,xt,zt){var mn=Gn.templateSettings;zt&&$l(Et,xt,zt)&&(xt=nt),Et=su(Et),xt=P0({},xt,mn,Vy);var xn=P0({},xt.imports,mn.imports,Vy),Bn=Zl(xn),nr=Yu(xn,Bn),ur,Er,Kr=0,Wr=xt.interpolate||ep,eo="__p += '",wo=hm((xt.escape||ep).source+"|"+Wr.source+"|"+(Wr===Js?pn:ep).source+"|"+(xt.evaluate||ep).source+"|$","g"),Vo="//# sourceURL="+(Ls.call(xt,"sourceURL")?(xt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Es+"]")+`
`;Et.replace(wo,function(es,Ps,Bs,um,Op,lm){return Bs||(Bs=um),eo+=Et.slice(Kr,lm).replace(zu,$s),Ps&&(ur=!0,eo+=`' +
__e(`+Ps+`) +
'`),Op&&(Er=!0,eo+=`';
`+Op+`;
__p += '`),Bs&&(eo+=`' +
((__t = (`+Bs+`)) == null ? '' : __t) +
'`),Kr=lm+es.length,es}),eo+=`';
`;var $a=Ls.call(xt,"variable")&&xt.variable;if(!$a)eo=`with (obj) {
`+eo+`
}
`;else if(ga.test($a))throw new _a(lt);eo=(Er?eo.replace(Us,""):eo).replace(ao,"$1").replace(xa,"$1;"),eo="function("+($a||"obj")+`) {
`+($a?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ur?", __e = _.escape":"")+(Er?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+eo+`return __p
}`;var Ms=bM(function(){return _s(Bn,Vo+"return "+eo).apply(nt,nr)});if(Ms.source=eo,B0(Ms))throw Ms;return Ms}function TA(Et){return su(Et).toLowerCase()}function xA(Et){return su(Et).toUpperCase()}function wA(Et,xt,zt){if(Et=su(Et),Et&&(zt||xt===nt))return no(Et);if(!Et||!(xt=Jl(xt)))return Et;var mn=Uu(Et),xn=Uu(xt),Bn=Su(mn,xn),nr=fp(mn,xn)+1;return nm(mn,Bn,nr).join("")}function DA(Et,xt,zt){if(Et=su(Et),Et&&(zt||xt===nt))return Et.slice(0,Ys(Et)+1);if(!Et||!(xt=Jl(xt)))return Et;var mn=Uu(Et),xn=fp(mn,Uu(xt))+1;return nm(mn,0,xn).join("")}function RA(Et,xt,zt){if(Et=su(Et),Et&&(zt||xt===nt))return Et.replace(Nl,"");if(!Et||!(xt=Jl(xt)))return Et;var mn=Uu(Et),xn=Su(mn,Uu(xt));return nm(mn,xn).join("")}function OA(Et,xt){var zt=Cn,mn=yn;if(Hu(xt)){var xn="separator"in xt?xt.separator:xn;zt="length"in xt?vs(xt.length):zt,mn="omission"in xt?Jl(xt.omission):mn}Et=su(Et);var Bn=Et.length;if(Pu(Et)){var nr=Uu(Et);Bn=nr.length}if(zt>=Bn)return Et;var ur=zt-Xp(mn);if(ur<1)return mn;var Er=nr?nm(nr,0,ur).join(""):Et.slice(0,ur);if(xn===nt)return Er+mn;if(nr&&(ur+=Er.length-ur),q0(xn)){if(Et.slice(ur).search(xn)){var Kr,Wr=Er;for(xn.global||(xn=hm(xn.source,su(sn.exec(xn))+"g")),xn.lastIndex=0;Kr=xn.exec(Wr);)var eo=Kr.index;Er=Er.slice(0,eo===nt?ur:eo)}}else if(Et.indexOf(Jl(xn),ur)!=ur){var wo=Er.lastIndexOf(xn);wo>-1&&(Er=Er.slice(0,wo))}return Er+mn}function LA(Et){return Et=su(Et),Et&&Ll.test(Et)?Et.replace($r,Ul):Et}var NA=Mp(function(Et,xt,zt){return Et+(zt?" ":"")+xt.toUpperCase()}),z0=U_("toUpperCase");function AM(Et,xt,zt){return Et=su(Et),xt=zt?nt:xt,xt===nt?zl(Et)?Y_(Et):Xs(Et):Et.match(xt)||[]}var bM=os(function(Et,xt){try{return Ks(Et,nt,xt)}catch(zt){return B0(zt)?zt:new _a(zt)}}),PA=Dp(function(Et,xt){return Nu(xt,function(zt){zt=Ap(zt),$p(Et,zt,F0(Et[zt],Et))}),Et});function UA(Et){var xt=Et==null?0:Et.length,zt=Xo();return Et=xt?Qo(Et,function(mn){if(typeof mn[1]!="function")throw new wl(ct);return[zt(mn[0]),mn[1]]}):[],os(function(mn){for(var xn=-1;++xn<xt;){var Bn=Et[xn];if(Ks(Bn[0],this,mn))return Ks(Bn[1],this,mn)}})}function GA(Et){return rv(xr(Et,bt))}function K0(Et){return function(){return Et}}function $A(Et,xt){return Et==null||Et!==Et?xt:Et}var FA=G_(),jA=G_(!0);function Hp(Et){return Et}function W0(Et){return ks(typeof Et=="function"?Et:xr(Et,bt))}function BA(Et){return Iy(xr(Et,bt))}function qA(Et,xt){return ky(Et,xr(xt,bt))}var VA=os(function(Et,xt){return function(zt){return Al(zt,Et,xt)}}),HA=os(function(Et,xt){return function(zt){return Al(Et,zt,xt)}});function Y0(Et,xt,zt){var mn=Zl(xt),xn=yu(xt,mn);zt==null&&!(Hu(xt)&&(xn.length||!mn.length))&&(zt=xt,xt=Et,Et=this,xn=yu(xt,Zl(xt)));var Bn=!(Hu(zt)&&"chain"in zt)||!!zt.chain,nr=H_(Et);return Nu(xn,function(ur){var Er=xt[ur];Et[ur]=Er,nr&&(Et.prototype[ur]=function(){var Kr=this.__chain__;if(Bn||Kr){var Wr=Et(this.__wrapped__),eo=Wr.__actions__=Rl(this.__actions__);return eo.push({func:Er,args:arguments,thisArg:Et}),Wr.__chain__=Kr,Wr}return Er.apply(Et,_l([this.value()],arguments))})}),Et}function zA(){return fs._===this&&(fs._=Zp),this}function J0(){}function KA(Et){return Et=vs(Et),os(function(xt){return O_(xt,Et)})}var WA=ny(Qo),YA=ny(e_),JA=ny(uo);function CM(Et){return Hm(Et)?ys(Ap(Et)):xy(Et)}function XA(Et){return function(xt){return Et==null?nt:go(Et,xt)}}var ZA=By(),QA=By(!0);function X0(){return[]}function Z0(){return!1}function e1(){return{}}function t1(){return""}function n1(){return!0}function r1(Et,xt){if(Et=vs(Et),Et<1||Et>Rn)return[];var zt=$n,mn=Qr(Et,$n);xt=Xo(xt),Et-=$n;for(var xn=Rs(mn,xt);++zt<Et;)xt(zt);return xn}function o1(Et){return us(Et)?Qo(Et,Ap):cm(Et)?[Et]:Rl(Cu(su(Et)))}function i1(Et){var xt=++E_;return su(Et)+xt}var a1=gv(function(Et,xt){return Et+xt},0),s1=m_("ceil"),c1=gv(function(Et,xt){return Et/xt},1),u1=m_("floor");function l1(Et){return Et&&Et.length?Fp(Et,Hp,br):nt}function d1(Et,xt){return Et&&Et.length?Fp(Et,Xo(xt,2),br):nt}function p1(Et){return ba(Et,Hp)}function f1(Et,xt){return ba(Et,Xo(xt,2))}function h1(Et){return Et&&Et.length?Fp(Et,Hp,Io):nt}function g1(Et,xt){return Et&&Et.length?Fp(Et,Xo(xt,2),Io):nt}var m1=gv(function(Et,xt){return Et*xt},1),_1=m_("round"),v1=gv(function(Et,xt){return Et-xt},0);function y1(Et){return Et&&Et.length?Fs(Et,Hp):0}function M1(Et,xt){return Et&&Et.length?Fs(Et,Xo(xt,2)):0}return Gn.after=BM,Gn.ary=tM,Gn.assign=xE,Gn.assignIn=gM,Gn.assignInWith=P0,Gn.assignWith=wE,Gn.at=DE,Gn.before=nM,Gn.bind=F0,Gn.bindAll=PA,Gn.bindKey=rM,Gn.castArray=eE,Gn.chain=$o,Gn.chunk=Rp,Gn.compact=Cv,Gn.concat=I0,Gn.cond=UA,Gn.conforms=GA,Gn.constant=K0,Gn.countBy=o0,Gn.create=RE,Gn.curry=oM,Gn.curryRight=iM,Gn.debounce=aM,Gn.defaults=OE,Gn.defaultsDeep=LE,Gn.defer=qM,Gn.delay=VM,Gn.difference=py,Gn.differenceBy=e0,Gn.differenceWith=t0,Gn.drop=n0,Gn.dropRight=fy,Gn.dropRightWhile=hy,Gn.dropWhile=r0,Gn.fill=k0,Gn.filter=T0,Gn.flatMap=G0,Gn.flatMapDeep=i0,Gn.flatMapDepth=$0,Gn.flatten=Gt,Gn.flattenDeep=dt,Gn.flattenDepth=yt,Gn.flip=HM,Gn.flow=FA,Gn.flowRight=jA,Gn.fromPairs=st,Gn.functions=jE,Gn.functionsIn=BE,Gn.groupBy=kM,Gn.initial=It,Gn.intersection=kt,Gn.intersectionBy=Ot,Gn.intersectionWith=Pt,Gn.invert=VE,Gn.invertBy=HE,Gn.invokeMap=xM,Gn.iteratee=W0,Gn.keyBy=wM,Gn.keys=Zl,Gn.keysIn=Vp,Gn.map=w0,Gn.mapKeys=KE,Gn.mapValues=WE,Gn.matches=BA,Gn.matchesProperty=qA,Gn.memoize=R0,Gn.merge=YE,Gn.mergeWith=mM,Gn.method=VA,Gn.methodOf=HA,Gn.mixin=Y0,Gn.negate=O0,Gn.nthArg=KA,Gn.omit=JE,Gn.omitBy=XE,Gn.once=zM,Gn.orderBy=DM,Gn.over=WA,Gn.overArgs=KM,Gn.overEvery=YA,Gn.overSome=JA,Gn.partial=j0,Gn.partialRight=sM,Gn.partition=RM,Gn.pick=ZE,Gn.pickBy=_M,Gn.property=CM,Gn.propertyOf=XA,Gn.pull=Sn,Gn.pullAll=Nn,Gn.pullAllBy=qn,Gn.pullAllWith=Yn,Gn.pullAt=Zn,Gn.range=ZA,Gn.rangeRight=QA,Gn.rearg=WM,Gn.reject=NM,Gn.remove=or,Gn.rest=YM,Gn.reverse=Sr,Gn.sampleSize=UM,Gn.set=eA,Gn.setWith=tA,Gn.shuffle=GM,Gn.slice=Pr,Gn.sortBy=jM,Gn.sortedUniq=ut,Gn.sortedUniqBy=_t,Gn.split=CA,Gn.spread=JM,Gn.tail=at,Gn.take=ft,Gn.takeRight=gt,Gn.takeRightWhile=Ct,Gn.takeWhile=St,Gn.tap=Ho,Gn.throttle=XM,Gn.thru=Ro,Gn.toArray=pM,Gn.toPairs=vM,Gn.toPairsIn=yM,Gn.toPath=o1,Gn.toPlainObject=hM,Gn.transform=nA,Gn.unary=ZM,Gn.union=Dt,Gn.unionBy=Lt,Gn.unionWith=jt,Gn.uniq=Kt,Gn.uniqBy=Jt,Gn.uniqWith=cn,Gn.unset=rA,Gn.unzip=bn,Gn.unzipWith=On,Gn.update=oA,Gn.updateWith=iA,Gn.values=s0,Gn.valuesIn=aA,Gn.without=Fn,Gn.words=AM,Gn.wrap=QM,Gn.xor=Wn,Gn.xorBy=er,Gn.xorWith=ir,Gn.zip=Tr,Gn.zipObject=Ur,Gn.zipObjectDeep=zr,Gn.zipWith=co,Gn.entries=vM,Gn.entriesIn=yM,Gn.extend=gM,Gn.extendWith=P0,Y0(Gn,Gn),Gn.add=a1,Gn.attempt=bM,Gn.camelCase=lA,Gn.capitalize=MM,Gn.ceil=s1,Gn.clamp=sA,Gn.clone=tE,Gn.cloneDeep=rE,Gn.cloneDeepWith=oE,Gn.cloneWith=nE,Gn.conformsTo=iE,Gn.deburr=EM,Gn.defaultTo=$A,Gn.divide=c1,Gn.endsWith=dA,Gn.eq=Xm,Gn.escape=pA,Gn.escapeRegExp=fA,Gn.every=Iv,Gn.find=U0,Gn.findIndex=Ym,Gn.findKey=NE,Gn.findLast=Jm,Gn.findLastIndex=bp,Gn.findLastKey=PE,Gn.floor=u1,Gn.forEach=Q0,Gn.forEachRight=eM,Gn.forIn=UE,Gn.forInRight=GE,Gn.forOwn=$E,Gn.forOwnRight=FE,Gn.get=V0,Gn.gt=aE,Gn.gte=sE,Gn.has=qE,Gn.hasIn=H0,Gn.head=ht,Gn.identity=Hp,Gn.includes=TM,Gn.indexOf=vt,Gn.inRange=cA,Gn.invoke=zE,Gn.isArguments=gy,Gn.isArray=us,Gn.isArrayBuffer=cE,Gn.isArrayLike=qp,Gn.isArrayLikeObject=Cl,Gn.isBoolean=uE,Gn.isBuffer=kv,Gn.isDate=lE,Gn.isElement=dE,Gn.isEmpty=pE,Gn.isEqual=fE,Gn.isEqualWith=hE,Gn.isError=B0,Gn.isFinite=gE,Gn.isFunction=H_,Gn.isInteger=cM,Gn.isLength=L0,Gn.isMap=uM,Gn.isMatch=mE,Gn.isMatchWith=_E,Gn.isNaN=vE,Gn.isNative=yE,Gn.isNil=EE,Gn.isNull=ME,Gn.isNumber=lM,Gn.isObject=Hu,Gn.isObjectLike=Zu,Gn.isPlainObject=x0,Gn.isRegExp=q0,Gn.isSafeInteger=AE,Gn.isSet=dM,Gn.isString=N0,Gn.isSymbol=cm,Gn.isTypedArray=a0,Gn.isUndefined=bE,Gn.isWeakMap=CE,Gn.isWeakSet=SE,Gn.join=qt,Gn.kebabCase=hA,Gn.last=Wt,Gn.lastIndexOf=ln,Gn.lowerCase=gA,Gn.lowerFirst=mA,Gn.lt=IE,Gn.lte=kE,Gn.max=l1,Gn.maxBy=d1,Gn.mean=p1,Gn.meanBy=f1,Gn.min=h1,Gn.minBy=g1,Gn.stubArray=X0,Gn.stubFalse=Z0,Gn.stubObject=e1,Gn.stubString=t1,Gn.stubTrue=n1,Gn.multiply=m1,Gn.nth=fn,Gn.noConflict=zA,Gn.noop=J0,Gn.now=D0,Gn.pad=_A,Gn.padEnd=vA,Gn.padStart=yA,Gn.parseInt=MA,Gn.random=uA,Gn.reduce=OM,Gn.reduceRight=LM,Gn.repeat=EA,Gn.replace=AA,Gn.result=QE,Gn.round=_1,Gn.runInContext=_r,Gn.sample=PM,Gn.size=$M,Gn.snakeCase=bA,Gn.some=FM,Gn.sortedIndex=Vr,Gn.sortedIndexBy=io,Gn.sortedIndexOf=No,Gn.sortedLastIndex=Bo,Gn.sortedLastIndexBy=ko,Gn.sortedLastIndexOf=Nt,Gn.startCase=SA,Gn.startsWith=IA,Gn.subtract=v1,Gn.sum=y1,Gn.sumBy=M1,Gn.template=kA,Gn.times=r1,Gn.toFinite=z_,Gn.toInteger=vs,Gn.toLength=fM,Gn.toLower=TA,Gn.toNumber=Tm,Gn.toSafeInteger=TE,Gn.toString=su,Gn.toUpper=xA,Gn.trim=wA,Gn.trimEnd=DA,Gn.trimStart=RA,Gn.truncate=OA,Gn.unescape=LA,Gn.uniqueId=i1,Gn.upperCase=NA,Gn.upperFirst=z0,Gn.each=Q0,Gn.eachRight=eM,Gn.first=ht,Y0(Gn,function(){var Et={};return El(Gn,function(xt,zt){Ls.call(Gn.prototype,zt)||(Et[zt]=xt)}),Et}(),{chain:!1}),Gn.VERSION=rt,Nu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Et){Gn[Et].placeholder=Gn}),Nu(["drop","take"],function(Et,xt){ms.prototype[Et]=function(zt){zt=zt===nt?1:ro(vs(zt),0);var mn=this.__filtered__&&!xt?new ms(this):this.clone();return mn.__filtered__?mn.__takeCount__=Qr(zt,mn.__takeCount__):mn.__views__.push({size:Qr(zt,$n),type:Et+(mn.__dir__<0?"Right":"")}),mn},ms.prototype[Et+"Right"]=function(zt){return this.reverse()[Et](zt).reverse()}}),Nu(["filter","map","takeWhile"],function(Et,xt){var zt=xt+1,mn=zt==vn||zt==Ln;ms.prototype[Et]=function(xn){var Bn=this.clone();return Bn.__iteratees__.push({iteratee:Xo(xn,3),type:zt}),Bn.__filtered__=Bn.__filtered__||mn,Bn}}),Nu(["head","last"],function(Et,xt){var zt="take"+(xt?"Right":"");ms.prototype[Et]=function(){return this[zt](1).value()[0]}}),Nu(["initial","tail"],function(Et,xt){var zt="drop"+(xt?"":"Right");ms.prototype[Et]=function(){return this.__filtered__?new ms(this):this[zt](1)}}),ms.prototype.compact=function(){return this.filter(Hp)},ms.prototype.find=function(Et){return this.filter(Et).head()},ms.prototype.findLast=function(Et){return this.reverse().find(Et)},ms.prototype.invokeMap=os(function(Et,xt){return typeof Et=="function"?new ms(this):this.map(function(zt){return Al(zt,Et,xt)})}),ms.prototype.reject=function(Et){return this.filter(O0(Xo(Et)))},ms.prototype.slice=function(Et,xt){Et=vs(Et);var zt=this;return zt.__filtered__&&(Et>0||xt<0)?new ms(zt):(Et<0?zt=zt.takeRight(-Et):Et&&(zt=zt.drop(Et)),xt!==nt&&(xt=vs(xt),zt=xt<0?zt.dropRight(-xt):zt.take(xt-Et)),zt)},ms.prototype.takeRightWhile=function(Et){return this.reverse().takeWhile(Et).reverse()},ms.prototype.toArray=function(){return this.take($n)},El(ms.prototype,function(Et,xt){var zt=/^(?:filter|find|map|reject)|While$/.test(xt),mn=/^(?:head|last)$/.test(xt),xn=Gn[mn?"take"+(xt=="last"?"Right":""):xt],Bn=mn||/^find/.test(xt);xn&&(Gn.prototype[xt]=function(){var nr=this.__wrapped__,ur=mn?[1]:arguments,Er=nr instanceof ms,Kr=ur[0],Wr=Er||us(nr),eo=function(Ps){var Bs=xn.apply(Gn,_l([Ps],ur));return mn&&wo?Bs[0]:Bs};Wr&&zt&&typeof Kr=="function"&&Kr.length!=1&&(Er=Wr=!1);var wo=this.__chain__,Vo=!!this.__actions__.length,$a=Bn&&!wo,Ms=Er&&!Vo;if(!Bn&&Wr){nr=Ms?nr:new ms(this);var es=Et.apply(nr,ur);return es.__actions__.push({func:Ro,args:[eo],thisArg:nt}),new Wl(es,wo)}return $a&&Ms?Et.apply(this,ur):(es=this.thru(eo),$a?mn?es.value()[0]:es.value():es)})}),Nu(["pop","push","shift","sort","splice","unshift"],function(Et){var xt=hp[Et],zt=/^(?:push|sort|unshift)$/.test(Et)?"tap":"thru",mn=/^(?:pop|shift)$/.test(Et);Gn.prototype[Et]=function(){var xn=arguments;if(mn&&!this.__chain__){var Bn=this.value();return xt.apply(us(Bn)?Bn:[],xn)}return this[zt](function(nr){return xt.apply(us(nr)?nr:[],xn)})}}),El(ms.prototype,function(Et,xt){var zt=Gn[xt];if(zt){var mn=zt.name+"";Ls.call(Qp,mn)||(Qp[mn]=[]),Qp[mn].push({name:xt,func:zt})}}),Qp[$_(nt,Vt).name]=[{name:"wrapper",func:nt}],ms.prototype.clone=Q_,ms.prototype.reverse=Dv,ms.prototype.value=b_,Gn.prototype.at=ts,Gn.prototype.chain=Iu,Gn.prototype.commit=Xu,Gn.prototype.next=$u,Gn.prototype.plant=Xl,Gn.prototype.reverse=sm,Gn.prototype.toJSON=Gn.prototype.valueOf=Gn.prototype.value=Sv,Gn.prototype.first=Gn.prototype.head,dn&&(Gn.prototype[dn]=Vu),Gn},Kl=y_();nu?((nu.exports=Kl)._=Kl,ss._=Kl):fs._=Kl}).call(commonjsGlobal$1)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _$2=getDefaultExportFromCjs(lodashExports);var dayjs_min={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt()})(commonjsGlobal$1,function(){var nt=1e3,rt=6e4,ot=36e5,it="millisecond",ct="second",lt="minute",pt="hour",mt="day",Mt="week",bt="month",At="quarter",wt="year",Tt="date",Rt="Invalid Date",Bt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Vt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(vn){var wn=["th","st","nd","rd"],Ln=vn%100;return"["+vn+(wn[(Ln-20)%10]||wn[Ln]||wn[0])+"]"}},Ft=function(vn,wn,Ln){var Kn=String(vn);return!Kn||Kn.length>=wn?vn:""+Array(wn+1-Kn.length).join(Ln)+vn},Ht={s:Ft,z:function(vn){var wn=-vn.utcOffset(),Ln=Math.abs(wn),Kn=Math.floor(Ln/60),Rn=Ln%60;return(wn<=0?"+":"-")+Ft(Kn,2,"0")+":"+Ft(Rn,2,"0")},m:function vn(wn,Ln){if(wn.date()<Ln.date())return-vn(Ln,wn);var Kn=12*(Ln.year()-wn.year())+(Ln.month()-wn.month()),Rn=wn.clone().add(Kn,bt),Tn=Ln-Rn<0,Un=wn.clone().add(Kn+(Tn?-1:1),bt);return+(-(Kn+(Ln-Rn)/(Tn?Rn-Un:Un-Rn))||0)},a:function(vn){return vn<0?Math.ceil(vn)||0:Math.floor(vn)},p:function(vn){return{M:bt,y:wt,w:Mt,d:mt,D:Tt,h:pt,m:lt,s:ct,ms:it,Q:At}[vn]||String(vn||"").toLowerCase().replace(/s$/,"")},u:function(vn){return vn===void 0}},Qt="en",_n={};_n[Qt]=$t;var hn="$isDayjsObject",Mn=function(vn){return vn instanceof Ut||!(!vn||!vn[hn])},kn=function vn(wn,Ln,Kn){var Rn;if(!wn)return Qt;if(typeof wn=="string"){var Tn=wn.toLowerCase();_n[Tn]&&(Rn=Tn),Ln&&(_n[Tn]=Ln,Rn=Tn);var Un=wn.split("-");if(!Rn&&Un.length>1)return vn(Un[0])}else{var $n=wn.name;_n[$n]=wn,Rn=$n}return!Kn&&Rn&&(Qt=Rn),Rn||!Kn&&Qt},Cn=function(vn,wn){if(Mn(vn))return vn.clone();var Ln=typeof wn=="object"?wn:{};return Ln.date=vn,Ln.args=arguments,new Ut(Ln)},yn=Ht;yn.l=kn,yn.i=Mn,yn.w=function(vn,wn){return Cn(vn,{locale:wn.$L,utc:wn.$u,x:wn.$x,$offset:wn.$offset})};var Ut=function(){function vn(Ln){this.$L=kn(Ln.locale,null,!0),this.parse(Ln),this.$x=this.$x||Ln.x||{},this[hn]=!0}var wn=vn.prototype;return wn.parse=function(Ln){this.$d=function(Kn){var Rn=Kn.date,Tn=Kn.utc;if(Rn===null)return new Date(NaN);if(yn.u(Rn))return new Date;if(Rn instanceof Date)return new Date(Rn);if(typeof Rn=="string"&&!/Z$/i.test(Rn)){var Un=Rn.match(Bt);if(Un){var $n=Un[2]-1||0,Vn=(Un[7]||"0").substring(0,3);return Tn?new Date(Date.UTC(Un[1],$n,Un[3]||1,Un[4]||0,Un[5]||0,Un[6]||0,Vn)):new Date(Un[1],$n,Un[3]||1,Un[4]||0,Un[5]||0,Un[6]||0,Vn)}}return new Date(Rn)}(Ln),this.init()},wn.init=function(){var Ln=this.$d;this.$y=Ln.getFullYear(),this.$M=Ln.getMonth(),this.$D=Ln.getDate(),this.$W=Ln.getDay(),this.$H=Ln.getHours(),this.$m=Ln.getMinutes(),this.$s=Ln.getSeconds(),this.$ms=Ln.getMilliseconds()},wn.$utils=function(){return yn},wn.isValid=function(){return this.$d.toString()!==Rt},wn.isSame=function(Ln,Kn){var Rn=Cn(Ln);return this.startOf(Kn)<=Rn&&Rn<=this.endOf(Kn)},wn.isAfter=function(Ln,Kn){return Cn(Ln)<this.startOf(Kn)},wn.isBefore=function(Ln,Kn){return this.endOf(Kn)<Cn(Ln)},wn.$g=function(Ln,Kn,Rn){return yn.u(Ln)?this[Kn]:this.set(Rn,Ln)},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this.$d.getTime()},wn.startOf=function(Ln,Kn){var Rn=this,Tn=!!yn.u(Kn)||Kn,Un=yn.p(Ln),$n=function(lo,_o){var bo=yn.w(Rn.$u?Date.UTC(Rn.$y,_o,lo):new Date(Rn.$y,_o,lo),Rn);return Tn?bo:bo.endOf(mt)},Vn=function(lo,_o){return yn.w(Rn.toDate()[lo].apply(Rn.toDate("s"),(Tn?[0,0,0,0]:[23,59,59,999]).slice(_o)),Rn)},tr=this.$W,Jn=this.$M,wr=this.$D,jr="set"+(this.$u?"UTC":"");switch(Un){case wt:return Tn?$n(1,0):$n(31,11);case bt:return Tn?$n(1,Jn):$n(0,Jn+1);case Mt:var Zt=this.$locale().weekStart||0,hr=(tr<Zt?tr+7:tr)-Zt;return $n(Tn?wr-hr:wr+(6-hr),Jn);case mt:case Tt:return Vn(jr+"Hours",0);case pt:return Vn(jr+"Minutes",1);case lt:return Vn(jr+"Seconds",2);case ct:return Vn(jr+"Milliseconds",3);default:return this.clone()}},wn.endOf=function(Ln){return this.startOf(Ln,!1)},wn.$set=function(Ln,Kn){var Rn,Tn=yn.p(Ln),Un="set"+(this.$u?"UTC":""),$n=(Rn={},Rn[mt]=Un+"Date",Rn[Tt]=Un+"Date",Rn[bt]=Un+"Month",Rn[wt]=Un+"FullYear",Rn[pt]=Un+"Hours",Rn[lt]=Un+"Minutes",Rn[ct]=Un+"Seconds",Rn[it]=Un+"Milliseconds",Rn)[Tn],Vn=Tn===mt?this.$D+(Kn-this.$W):Kn;if(Tn===bt||Tn===wt){var tr=this.clone().set(Tt,1);tr.$d[$n](Vn),tr.init(),this.$d=tr.set(Tt,Math.min(this.$D,tr.daysInMonth())).$d}else $n&&this.$d[$n](Vn);return this.init(),this},wn.set=function(Ln,Kn){return this.clone().$set(Ln,Kn)},wn.get=function(Ln){return this[yn.p(Ln)]()},wn.add=function(Ln,Kn){var Rn,Tn=this;Ln=Number(Ln);var Un=yn.p(Kn),$n=function(Jn){var wr=Cn(Tn);return yn.w(wr.date(wr.date()+Math.round(Jn*Ln)),Tn)};if(Un===bt)return this.set(bt,this.$M+Ln);if(Un===wt)return this.set(wt,this.$y+Ln);if(Un===mt)return $n(1);if(Un===Mt)return $n(7);var Vn=(Rn={},Rn[lt]=rt,Rn[pt]=ot,Rn[ct]=nt,Rn)[Un]||1,tr=this.$d.getTime()+Ln*Vn;return yn.w(tr,this)},wn.subtract=function(Ln,Kn){return this.add(-1*Ln,Kn)},wn.format=function(Ln){var Kn=this,Rn=this.$locale();if(!this.isValid())return Rn.invalidDate||Rt;var Tn=Ln||"YYYY-MM-DDTHH:mm:ssZ",Un=yn.z(this),$n=this.$H,Vn=this.$m,tr=this.$M,Jn=Rn.weekdays,wr=Rn.months,jr=Rn.meridiem,Zt=function(_o,bo,Hr,Do){return _o&&(_o[bo]||_o(Kn,Tn))||Hr[bo].slice(0,Do)},hr=function(_o){return yn.s($n%12||12,_o,"0")},lo=jr||function(_o,bo,Hr){var Do=_o<12?"AM":"PM";return Hr?Do.toLowerCase():Do};return Tn.replace(Vt,function(_o,bo){return bo||function(Hr){switch(Hr){case"YY":return String(Kn.$y).slice(-2);case"YYYY":return yn.s(Kn.$y,4,"0");case"M":return tr+1;case"MM":return yn.s(tr+1,2,"0");case"MMM":return Zt(Rn.monthsShort,tr,wr,3);case"MMMM":return Zt(wr,tr);case"D":return Kn.$D;case"DD":return yn.s(Kn.$D,2,"0");case"d":return String(Kn.$W);case"dd":return Zt(Rn.weekdaysMin,Kn.$W,Jn,2);case"ddd":return Zt(Rn.weekdaysShort,Kn.$W,Jn,3);case"dddd":return Jn[Kn.$W];case"H":return String($n);case"HH":return yn.s($n,2,"0");case"h":return hr(1);case"hh":return hr(2);case"a":return lo($n,Vn,!0);case"A":return lo($n,Vn,!1);case"m":return String(Vn);case"mm":return yn.s(Vn,2,"0");case"s":return String(Kn.$s);case"ss":return yn.s(Kn.$s,2,"0");case"SSS":return yn.s(Kn.$ms,3,"0");case"Z":return Un}return null}(_o)||Un.replace(":","")})},wn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},wn.diff=function(Ln,Kn,Rn){var Tn,Un=this,$n=yn.p(Kn),Vn=Cn(Ln),tr=(Vn.utcOffset()-this.utcOffset())*rt,Jn=this-Vn,wr=function(){return yn.m(Un,Vn)};switch($n){case wt:Tn=wr()/12;break;case bt:Tn=wr();break;case At:Tn=wr()/3;break;case Mt:Tn=(Jn-tr)/6048e5;break;case mt:Tn=(Jn-tr)/864e5;break;case pt:Tn=Jn/ot;break;case lt:Tn=Jn/rt;break;case ct:Tn=Jn/nt;break;default:Tn=Jn}return Rn?Tn:yn.a(Tn)},wn.daysInMonth=function(){return this.endOf(bt).$D},wn.$locale=function(){return _n[this.$L]},wn.locale=function(Ln,Kn){if(!Ln)return this.$L;var Rn=this.clone(),Tn=kn(Ln,Kn,!0);return Tn&&(Rn.$L=Tn),Rn},wn.clone=function(){return yn.w(this.$d,this)},wn.toDate=function(){return new Date(this.valueOf())},wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toISOString=function(){return this.$d.toISOString()},wn.toString=function(){return this.$d.toUTCString()},vn}(),En=Ut.prototype;return Cn.prototype=En,[["$ms",it],["$s",ct],["$m",lt],["$H",pt],["$W",mt],["$M",bt],["$y",wt],["$D",Tt]].forEach(function(vn){En[vn[1]]=function(wn){return this.$g(wn,vn[0],vn[1])}}),Cn.extend=function(vn,wn){return vn.$i||(vn(wn,Ut,Cn),vn.$i=!0),Cn},Cn.locale=kn,Cn.isDayjs=Mn,Cn.unix=function(vn){return Cn(1e3*vn)},Cn.en=_n[Qt],Cn.Ls=_n,Cn.p={},Cn})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var duration$2={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt()})(commonjsGlobal$1,function(){var nt,rt,ot=1e3,it=6e4,ct=36e5,lt=864e5,pt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,mt=31536e6,Mt=2628e6,bt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,At={years:mt,months:Mt,days:lt,hours:ct,minutes:it,seconds:ot,milliseconds:1,weeks:6048e5},wt=function(_n){return _n instanceof Ht},Tt=function(_n,hn,Mn){return new Ht(_n,Mn,hn.$l)},Rt=function(_n){return rt.p(_n)+"s"},Bt=function(_n){return _n<0},Vt=function(_n){return Bt(_n)?Math.ceil(_n):Math.floor(_n)},$t=function(_n){return Math.abs(_n)},Ft=function(_n,hn){return _n?Bt(_n)?{negative:!0,format:""+$t(_n)+hn}:{negative:!1,format:""+_n+hn}:{negative:!1,format:""}},Ht=function(){function _n(Mn,kn,Cn){var yn=this;if(this.$d={},this.$l=Cn,Mn===void 0&&(this.$ms=0,this.parseFromMilliseconds()),kn)return Tt(Mn*At[Rt(kn)],this);if(typeof Mn=="number")return this.$ms=Mn,this.parseFromMilliseconds(),this;if(typeof Mn=="object")return Object.keys(Mn).forEach(function(vn){yn.$d[Rt(vn)]=Mn[vn]}),this.calMilliseconds(),this;if(typeof Mn=="string"){var Ut=Mn.match(bt);if(Ut){var En=Ut.slice(2).map(function(vn){return vn!=null?Number(vn):0});return this.$d.years=En[0],this.$d.months=En[1],this.$d.weeks=En[2],this.$d.days=En[3],this.$d.hours=En[4],this.$d.minutes=En[5],this.$d.seconds=En[6],this.calMilliseconds(),this}}return this}var hn=_n.prototype;return hn.calMilliseconds=function(){var Mn=this;this.$ms=Object.keys(this.$d).reduce(function(kn,Cn){return kn+(Mn.$d[Cn]||0)*At[Cn]},0)},hn.parseFromMilliseconds=function(){var Mn=this.$ms;this.$d.years=Vt(Mn/mt),Mn%=mt,this.$d.months=Vt(Mn/Mt),Mn%=Mt,this.$d.days=Vt(Mn/lt),Mn%=lt,this.$d.hours=Vt(Mn/ct),Mn%=ct,this.$d.minutes=Vt(Mn/it),Mn%=it,this.$d.seconds=Vt(Mn/ot),Mn%=ot,this.$d.milliseconds=Mn},hn.toISOString=function(){var Mn=Ft(this.$d.years,"Y"),kn=Ft(this.$d.months,"M"),Cn=+this.$d.days||0;this.$d.weeks&&(Cn+=7*this.$d.weeks);var yn=Ft(Cn,"D"),Ut=Ft(this.$d.hours,"H"),En=Ft(this.$d.minutes,"M"),vn=this.$d.seconds||0;this.$d.milliseconds&&(vn+=this.$d.milliseconds/1e3,vn=Math.round(1e3*vn)/1e3);var wn=Ft(vn,"S"),Ln=Mn.negative||kn.negative||yn.negative||Ut.negative||En.negative||wn.negative,Kn=Ut.format||En.format||wn.format?"T":"",Rn=(Ln?"-":"")+"P"+Mn.format+kn.format+yn.format+Kn+Ut.format+En.format+wn.format;return Rn==="P"||Rn==="-P"?"P0D":Rn},hn.toJSON=function(){return this.toISOString()},hn.format=function(Mn){var kn=Mn||"YYYY-MM-DDTHH:mm:ss",Cn={Y:this.$d.years,YY:rt.s(this.$d.years,2,"0"),YYYY:rt.s(this.$d.years,4,"0"),M:this.$d.months,MM:rt.s(this.$d.months,2,"0"),D:this.$d.days,DD:rt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:rt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:rt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:rt.s(this.$d.seconds,2,"0"),SSS:rt.s(this.$d.milliseconds,3,"0")};return kn.replace(pt,function(yn,Ut){return Ut||String(Cn[yn])})},hn.as=function(Mn){return this.$ms/At[Rt(Mn)]},hn.get=function(Mn){var kn=this.$ms,Cn=Rt(Mn);return Cn==="milliseconds"?kn%=1e3:kn=Cn==="weeks"?Vt(kn/At[Cn]):this.$d[Cn],kn||0},hn.add=function(Mn,kn,Cn){var yn;return yn=kn?Mn*At[Rt(kn)]:wt(Mn)?Mn.$ms:Tt(Mn,this).$ms,Tt(this.$ms+yn*(Cn?-1:1),this)},hn.subtract=function(Mn,kn){return this.add(Mn,kn,!0)},hn.locale=function(Mn){var kn=this.clone();return kn.$l=Mn,kn},hn.clone=function(){return Tt(this.$ms,this)},hn.humanize=function(Mn){return nt().add(this.$ms,"ms").locale(this.$l).fromNow(!Mn)},hn.valueOf=function(){return this.asMilliseconds()},hn.milliseconds=function(){return this.get("milliseconds")},hn.asMilliseconds=function(){return this.as("milliseconds")},hn.seconds=function(){return this.get("seconds")},hn.asSeconds=function(){return this.as("seconds")},hn.minutes=function(){return this.get("minutes")},hn.asMinutes=function(){return this.as("minutes")},hn.hours=function(){return this.get("hours")},hn.asHours=function(){return this.as("hours")},hn.days=function(){return this.get("days")},hn.asDays=function(){return this.as("days")},hn.weeks=function(){return this.get("weeks")},hn.asWeeks=function(){return this.as("weeks")},hn.months=function(){return this.get("months")},hn.asMonths=function(){return this.as("months")},hn.years=function(){return this.get("years")},hn.asYears=function(){return this.as("years")},_n}(),Qt=function(_n,hn,Mn){return _n.add(hn.years()*Mn,"y").add(hn.months()*Mn,"M").add(hn.days()*Mn,"d").add(hn.hours()*Mn,"h").add(hn.minutes()*Mn,"m").add(hn.seconds()*Mn,"s").add(hn.milliseconds()*Mn,"ms")};return function(_n,hn,Mn){nt=Mn,rt=Mn().$utils(),Mn.duration=function(yn,Ut){var En=Mn.locale();return Tt(yn,{$l:En},Ut)},Mn.isDuration=wt;var kn=hn.prototype.add,Cn=hn.prototype.subtract;hn.prototype.add=function(yn,Ut){return wt(yn)?Qt(this,yn,1):kn.bind(this)(yn,Ut)},hn.prototype.subtract=function(yn,Ut){return wt(yn)?Qt(this,yn,-1):Cn.bind(this)(yn,Ut)}}})})(duration$2);var durationExports=duration$2.exports;const duration$1=getDefaultExportFromCjs(durationExports);var SportId=(_e=>(_e[_e.none=-1]="none",_e[_e.all=0]="all",_e[_e.football=1]="football",_e[_e.basketball=2]="basketball",_e[_e.badminton=3]="badminton",_e))(SportId||{}),Platform=(_e=>(_e[_e.web=0]="web",_e[_e.ios=1]="ios",_e[_e.android=2]="android",_e[_e.h5=3]="h5",_e))(Platform||{}),Site=(_e=>(_e.unknown="",_e.pq8="pq8",_e.xzb="xzb",_e.kqb="kqb",_e.kqb2="kqb2",_e.qutu="qutu",_e.br="br",_e.kqbIOS="kqb_ios",_e.pq8sp="pq8sp",_e))(Site||{}),C2cChatType=(_e=>(_e.converstaion_list="converstaion_list",_e.chatroom="chatroom",_e.unopened="unopened",_e))(C2cChatType||{});const footballMatchStatusList=["","","","","","","","","","","","","",""],basketballMatchStatusList=["","","","","","","","","","","","","","","",""],dayZh=["","","","","","",""],giftNotifyDuration=4,c2cUserStatus=["","","",""],getItem=_e=>{const et=localStorage.getItem(_e);try{return JSON.parse(et)}catch{return et}},setItem=(_e,et)=>{typeof et!="string"&&(et=JSON.stringify(et)),localStorage.setItem(_e,et)},initCommonConfig={config:{agent_ratio:0,beauty_channel:0,cos_bucket:"",cos_folder_blurimage:"",cos_folder_image:"",cos_region:"",customer_title_contact:"",customer_title_content:"",customer_title_info:"",dl_michat_url:"",michat_text:"",dl_web_url:"",exchange_rate:0,im_sdkappid:"",qcloud_appid:"",qq_appid:"",qq_appkey:"",raceroom_scroll_text:"",raceroom_scroll_text_enable:"0",recordvideo_scroll_text:"",recordvideo_scroll_text_enable:"0",raceroom_scroll_left_pic_enable:"0",raceroom_scroll_left_pic:"",raceroom_scroll_right_pic_enable:"0",raceroom_scroll_right_pic:"",recordvideo_scroll_left_pic_enable:"0",recordvideo_scroll_left_pic:"",recordvideo_scroll_right_pic_enable:"0",recordvideo_scroll_right_pic:"",room_notice:"",room_allow_guest_voice:"",room_people_magnification:"",search_default:null,service_email:"",service_link:"",service_qq:"",share_live_url:"",share_moment_url:"",share_shortvideo_url:"",site_h5_domain:"",site_domain:"",socket_server:"",switch_iap:0,switch_helper_check:"",tisdk_key:"",txim_admin:"",txim_broadcast:"",universal_link:"",update_info_android:"",update_info_ios:"",version_android:"",version_ios:"",withdraw_min:0,wx_appid:"",createTime:null,switch_race_analysis:"0",switch_race_index:"0",switch_race_lineup:"0",switch_race_status:"0",switch_race_quiz_check:"0",switch_shortvideo_check:"0",switch_race_list_index:"0",switch_recordvideo_check:"0",switch_playback_check:"0",switch_worldcup:"0",ad_noqr_enable:"0",ad_noqr_avatar:"",ad_noqr_nick_name:"",ad_noqr_text:"",ad_noqr_button_text:"",ad_noqr_button_link:"",dl_ios:""},emoji:[],launch_ad:null,live_badge:[],live_category:[],user_tag:[],msg:"",status:0,home_pop_ad:{image_url:"",jump_url:""},live_play_ad:{image_url:"",jump_url:""}},initUserInfo={account:"",agentid:0,anchor_level:0,anchor_point:0,app_reg_id:null,attent_count:0,auth_time:null,avatar:"",balance:0,call_accept_count:0,call_recive_count:0,channel:null,diamond:0,diamond_total:0,fans_count:0,gift_spend:0,gold:0,guildid:0,id:0,uid:0,isLogin:!1,invite:{invite_code:"",profit:"",total_profit:"",uid:0},is_youliao:0,is_anchor:0,is_anchor_admin:0,last_login:"",last_online:"",login_platform:0,moment_count:0,nick_name:"",online_status:0,point:0,profile:{age:0,birthday:"",career:"",city:"",constellation:"",gender:0,height:0,photos:null,signature:"",uid:0,weight:0},rec_weight:0,regist_time:"",sharing_ratio:0,status:0,tags:null,token:"",token_web:"",txim_sign:"",user_level:0,vip_date:"",svip_date:"",vip_level:0,visitor_count:0,signature:"",is_no_qrad:0,is_no_popad:0,is_operate:0},initTaskInfo={checkin:0,checkText:"",checkin_continuous:0,checkin_nearest_contious:0,checkin_continuous_accumulation_new:0,checkin_continuous_accumulation:0,checkin_nth:0,checkin_nth_status:"",gold:0,tasks:{appFirstLogin:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},inviteFriend:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},readInfo:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},sendComment:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},sendGift:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},sendFirstGift:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},shareInfo:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},shareMessage:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},watchLive:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},online:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0},shareToFriend:{prop:"",name:"",desc:"",stage:0,stage_max:0,received:0}},level:{level:{id:0,level:0,point:0},next:{id:0,level:0,point:0},point:0}},initCheckinResult={continuous:0,award:0},initGoods={list:[],total:0},initOrders={list:[],total:0},initEvents={football:{event:[],match_total:0},basketball:{event:[],match_total:0}},initRoomInfo={anchorId:0,memberCount:0},initState={lang:"cn",sdkConfig:{},commonConfig:initCommonConfig,categories:[],userInfo:{...initUserInfo},curTim:null,taskInfo:{...initTaskInfo},checkinResult:initCheckinResult,goods:initGoods,orders:initOrders,events:initEvents,matchList:[],selectedSport:SportId.football,banners:[],homeData:{anchorm_lives:[],hot:[],lives:[],rec_anchors:[],rec_matchs:[],srec_lives:[],announcement:[]},databaseHomeData:{bbList:[],fbList:[],hotList:[]},roomInfo:initRoomInfo,newsCategories:[],packageList:{gift:[],gold:[]},availablePackages:[],giftList:[],userBagItems:[],searchLog:[],startRaceMsgs:[],videoFullscreen:!1,roomNotes:[],isStandalone:!1,inChat:!1,baseDict:{basket_ball_type:{name:"",data:[]},foot_ball_type:{name:"",data:[]},integral_type:{name:"",data:[]},sports_type:{name:"",data:[]}},visitedLeagues:[],selectedHeadline:"",scoreSearchLog:[],prevPathname:"",scoreType:{},scoreEvent:{},giftAnime:!0,isTest:!1,isLandscape:!1,sp:"",sp_source:"",sp_name:"",c2cUnreadCount:0,inC2cChatroom:!1,gettingC2cUserStatus:!1,guestInfo:null,site:Site.unknown,siteName:"",theme:"",mode:"light",requests:[],v2:!1,timBanMessage:"",timForbiddenMessage:"",showDownloadApp:!0};var define_import_meta_env_default$5={VITE_REACT_APP_BASE_API:"https://ruangbola.live",BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const createStoreImpl=_e=>{let et;const nt=new Set,rt=(Mt,bt)=>{const At=typeof Mt=="function"?Mt(et):Mt;if(!Object.is(At,et)){const wt=et;et=bt??(typeof At!="object"||At===null)?At:Object.assign({},et,At),nt.forEach(Tt=>Tt(et,wt))}},ot=()=>et,pt={setState:rt,getState:ot,getInitialState:()=>mt,subscribe:Mt=>(nt.add(Mt),()=>nt.delete(Mt)),destroy:()=>{(define_import_meta_env_default$5?"development":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),nt.clear()}},mt=et=_e(rt,ot,pt);return pt},createStore$2=_e=>_e?createStoreImpl(_e):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$3(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var k$2=typeof Object.is=="function"?Object.is:h$3,l$1=e.useState,m$3=e.useEffect,n$3=e.useLayoutEffect,p$3=e.useDebugValue;function q$3(_e,et){var nt=et(),rt=l$1({inst:{value:nt,getSnapshot:et}}),ot=rt[0].inst,it=rt[1];return n$3(function(){ot.value=nt,ot.getSnapshot=et,r$2(ot)&&it({inst:ot})},[_e,nt,et]),m$3(function(){return r$2(ot)&&it({inst:ot}),_e(function(){r$2(ot)&&it({inst:ot})})},[_e]),p$3(nt),nt}function r$2(_e){var et=_e.getSnapshot;_e=_e.value;try{var nt=et();return!k$2(_e,nt)}catch{return!0}}function t$3(_e,et){return et()}var u$3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$3:q$3;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$3;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$2=shimExports;function p$2(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var q$2=typeof Object.is=="function"?Object.is:p$2,r$1=n$2.useSyncExternalStore,t$2=h$2.useRef,u$2=h$2.useEffect,v$2=h$2.useMemo,w$2=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_e,et,nt,rt,ot){var it=t$2(null);if(it.current===null){var ct={hasValue:!1,value:null};it.current=ct}else ct=it.current;it=v$2(function(){function pt(wt){if(!mt){if(mt=!0,Mt=wt,wt=rt(wt),ot!==void 0&&ct.hasValue){var Tt=ct.value;if(ot(Tt,wt))return bt=Tt}return bt=wt}if(Tt=bt,q$2(Mt,wt))return Tt;var Rt=rt(wt);return ot!==void 0&&ot(Tt,Rt)?Tt:(Mt=wt,bt=Rt)}var mt=!1,Mt,bt,At=nt===void 0?null:nt;return[function(){return pt(et())},At===null?void 0:function(){return pt(At())}]},[et,nt,rt,ot]);var lt=r$1(_e,it[0],it[1]);return u$2(function(){ct.hasValue=!0,ct.value=lt},[lt]),w$2(lt),lt};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports);var define_import_meta_env_default$4={VITE_REACT_APP_BASE_API:"https://ruangbola.live",BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=_e=>_e;function useStore(_e,et=identity$1,nt){(define_import_meta_env_default$4?"development":void 0)!=="production"&&nt&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const rt=useSyncExternalStoreWithSelector(_e.subscribe,_e.getState,_e.getServerState||_e.getInitialState,et,nt);return useDebugValue(rt),rt}const createImpl=_e=>{(define_import_meta_env_default$4?"development":void 0)!=="production"&&typeof _e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const et=typeof _e=="function"?createStore$2(_e):_e,nt=(rt,ot)=>useStore(et,rt,ot);return Object.assign(nt,et),nt},create=_e=>createImpl;var define_import_meta_env_default$3={VITE_REACT_APP_BASE_API:"https://ruangbola.live",BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};function createJSONStorage(_e,et){let nt;try{nt=_e()}catch{return}return{getItem:ot=>{var it;const ct=pt=>pt===null?null:JSON.parse(pt,void 0),lt=(it=nt.getItem(ot))!=null?it:null;return lt instanceof Promise?lt.then(ct):ct(lt)},setItem:(ot,it)=>nt.setItem(ot,JSON.stringify(it,void 0)),removeItem:ot=>nt.removeItem(ot)}}const toThenable=_e=>et=>{try{const nt=_e(et);return nt instanceof Promise?nt:{then(rt){return toThenable(rt)(nt)},catch(rt){return this}}}catch(nt){return{then(rt){return this},catch(rt){return toThenable(rt)(nt)}}}},oldImpl=(_e,et)=>(nt,rt,ot)=>{let it={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Bt=>Bt,version:0,merge:(Bt,Vt)=>({...Vt,...Bt}),...et},ct=!1;const lt=new Set,pt=new Set;let mt;try{mt=it.getStorage()}catch{}if(!mt)return _e((...Bt)=>{console.warn(`[zustand persist middleware] Unable to update item '${it.name}', the given storage is currently unavailable.`),nt(...Bt)},rt,ot);const Mt=toThenable(it.serialize),bt=()=>{const Bt=it.partialize({...rt()});let Vt;const $t=Mt({state:Bt,version:it.version}).then(Ft=>mt.setItem(it.name,Ft)).catch(Ft=>{Vt=Ft});if(Vt)throw Vt;return $t},At=ot.setState;ot.setState=(Bt,Vt)=>{At(Bt,Vt),bt()};const wt=_e((...Bt)=>{nt(...Bt),bt()},rt,ot);let Tt;const Rt=()=>{var Bt;if(!mt)return;ct=!1,lt.forEach($t=>$t(rt()));const Vt=((Bt=it.onRehydrateStorage)==null?void 0:Bt.call(it,rt()))||void 0;return toThenable(mt.getItem.bind(mt))(it.name).then($t=>{if($t)return it.deserialize($t)}).then($t=>{if($t)if(typeof $t.version=="number"&&$t.version!==it.version){if(it.migrate)return it.migrate($t.state,$t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return $t.state}).then($t=>{var Ft;return Tt=it.merge($t,(Ft=rt())!=null?Ft:wt),nt(Tt,!0),bt()}).then(()=>{Vt==null||Vt(Tt,void 0),ct=!0,pt.forEach($t=>$t(Tt))}).catch($t=>{Vt==null||Vt(void 0,$t)})};return ot.persist={setOptions:Bt=>{it={...it,...Bt},Bt.getStorage&&(mt=Bt.getStorage())},clearStorage:()=>{mt==null||mt.removeItem(it.name)},getOptions:()=>it,rehydrate:()=>Rt(),hasHydrated:()=>ct,onHydrate:Bt=>(lt.add(Bt),()=>{lt.delete(Bt)}),onFinishHydration:Bt=>(pt.add(Bt),()=>{pt.delete(Bt)})},Rt(),Tt||wt},newImpl=(_e,et)=>(nt,rt,ot)=>{let it={storage:createJSONStorage(()=>localStorage),partialize:Rt=>Rt,version:0,merge:(Rt,Bt)=>({...Bt,...Rt}),...et},ct=!1;const lt=new Set,pt=new Set;let mt=it.storage;if(!mt)return _e((...Rt)=>{console.warn(`[zustand persist middleware] Unable to update item '${it.name}', the given storage is currently unavailable.`),nt(...Rt)},rt,ot);const Mt=()=>{const Rt=it.partialize({...rt()});return mt.setItem(it.name,{state:Rt,version:it.version})},bt=ot.setState;ot.setState=(Rt,Bt)=>{bt(Rt,Bt),Mt()};const At=_e((...Rt)=>{nt(...Rt),Mt()},rt,ot);ot.getInitialState=()=>At;let wt;const Tt=()=>{var Rt,Bt;if(!mt)return;ct=!1,lt.forEach($t=>{var Ft;return $t((Ft=rt())!=null?Ft:At)});const Vt=((Bt=it.onRehydrateStorage)==null?void 0:Bt.call(it,(Rt=rt())!=null?Rt:At))||void 0;return toThenable(mt.getItem.bind(mt))(it.name).then($t=>{if($t)if(typeof $t.version=="number"&&$t.version!==it.version){if(it.migrate)return it.migrate($t.state,$t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return $t.state}).then($t=>{var Ft;return wt=it.merge($t,(Ft=rt())!=null?Ft:At),nt(wt,!0),Mt()}).then(()=>{Vt==null||Vt(wt,void 0),wt=rt(),ct=!0,pt.forEach($t=>$t(wt))}).catch($t=>{Vt==null||Vt(void 0,$t)})};return ot.persist={setOptions:Rt=>{it={...it,...Rt},Rt.storage&&(mt=Rt.storage)},clearStorage:()=>{mt==null||mt.removeItem(it.name)},getOptions:()=>it,rehydrate:()=>Tt(),hasHydrated:()=>ct,onHydrate:Rt=>(lt.add(Rt),()=>{lt.delete(Rt)}),onFinishHydration:Rt=>(pt.add(Rt),()=>{pt.delete(Rt)})},it.skipHydration||Tt(),wt||At},persistImpl=(_e,et)=>"getStorage"in et||"serialize"in et||"deserialize"in et?((define_import_meta_env_default$3?"development":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(_e,et)):newImpl(_e,et),persist=persistImpl;var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(_e,...et){throw new Error(`[Immer] minified error nr: ${_e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(_e){return!!_e&&!!_e[DRAFT_STATE]}function isDraftable(_e){var et;return _e?isPlainObject$4(_e)||Array.isArray(_e)||!!_e[DRAFTABLE]||!!((et=_e.constructor)!=null&&et[DRAFTABLE])||isMap(_e)||isSet(_e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$4(_e){if(!_e||typeof _e!="object")return!1;const et=getPrototypeOf(_e);if(et===null)return!0;const nt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;return nt===Object?!0:typeof nt=="function"&&Function.toString.call(nt)===objectCtorString}function each(_e,et){getArchtype(_e)===0?Object.entries(_e).forEach(([nt,rt])=>{et(nt,rt,_e)}):_e.forEach((nt,rt)=>et(rt,nt,_e))}function getArchtype(_e){const et=_e[DRAFT_STATE];return et?et.type_:Array.isArray(_e)?1:isMap(_e)?2:isSet(_e)?3:0}function has(_e,et){return getArchtype(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function set$1(_e,et,nt){const rt=getArchtype(_e);rt===2?_e.set(et,nt):rt===3?_e.add(nt):_e[et]=nt}function is(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}function isMap(_e){return _e instanceof Map}function isSet(_e){return _e instanceof Set}function latest(_e){return _e.copy_||_e.base_}function shallowCopy(_e,et){if(isMap(_e))return new Map(_e);if(isSet(_e))return new Set(_e);if(Array.isArray(_e))return Array.prototype.slice.call(_e);if(!et&&isPlainObject$4(_e))return getPrototypeOf(_e)?{..._e}:Object.assign(Object.create(null),_e);const nt=Object.getOwnPropertyDescriptors(_e);delete nt[DRAFT_STATE];let rt=Reflect.ownKeys(nt);for(let ot=0;ot<rt.length;ot++){const it=rt[ot],ct=nt[it];ct.writable===!1&&(ct.writable=!0,ct.configurable=!0),(ct.get||ct.set)&&(nt[it]={configurable:!0,writable:!0,enumerable:ct.enumerable,value:_e[it]})}return Object.create(getPrototypeOf(_e),nt)}function freeze(_e,et=!1){return isFrozen(_e)||isDraft(_e)||!isDraftable(_e)||(getArchtype(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=dontMutateFrozenCollections),Object.freeze(_e),et&&each(_e,(nt,rt)=>freeze(rt,!0))),_e}function dontMutateFrozenCollections(){die(2)}function isFrozen(_e){return Object.isFrozen(_e)}var plugins={};function getPlugin(_e){const et=plugins[_e];return et||die(0,_e),et}var currentScope;function getCurrentScope(){return currentScope}function createScope(_e,et){return{drafts_:[],parent_:_e,immer_:et,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(_e,et){et&&(getPlugin("Patches"),_e.patches_=[],_e.inversePatches_=[],_e.patchListener_=et)}function revokeScope(_e){leaveScope(_e),_e.drafts_.forEach(revokeDraft),_e.drafts_=null}function leaveScope(_e){_e===currentScope&&(currentScope=_e.parent_)}function enterScope(_e){return currentScope=createScope(currentScope,_e)}function revokeDraft(_e){const et=_e[DRAFT_STATE];et.type_===0||et.type_===1?et.revoke_():et.revoked_=!0}function processResult(_e,et){et.unfinalizedDrafts_=et.drafts_.length;const nt=et.drafts_[0];return _e!==void 0&&_e!==nt?(nt[DRAFT_STATE].modified_&&(revokeScope(et),die(4)),isDraftable(_e)&&(_e=finalize(et,_e),et.parent_||maybeFreeze(et,_e)),et.patches_&&getPlugin("Patches").generateReplacementPatches_(nt[DRAFT_STATE].base_,_e,et.patches_,et.inversePatches_)):_e=finalize(et,nt,[]),revokeScope(et),et.patches_&&et.patchListener_(et.patches_,et.inversePatches_),_e!==NOTHING?_e:void 0}function finalize(_e,et,nt){if(isFrozen(et))return et;const rt=et[DRAFT_STATE];if(!rt)return each(et,(ot,it)=>finalizeProperty(_e,rt,et,ot,it,nt)),et;if(rt.scope_!==_e)return et;if(!rt.modified_)return maybeFreeze(_e,rt.base_,!0),rt.base_;if(!rt.finalized_){rt.finalized_=!0,rt.scope_.unfinalizedDrafts_--;const ot=rt.copy_;let it=ot,ct=!1;rt.type_===3&&(it=new Set(ot),ot.clear(),ct=!0),each(it,(lt,pt)=>finalizeProperty(_e,rt,ot,lt,pt,nt,ct)),maybeFreeze(_e,ot,!1),nt&&_e.patches_&&getPlugin("Patches").generatePatches_(rt,nt,_e.patches_,_e.inversePatches_)}return rt.copy_}function finalizeProperty(_e,et,nt,rt,ot,it,ct){if(isDraft(ot)){const lt=it&&et&&et.type_!==3&&!has(et.assigned_,rt)?it.concat(rt):void 0,pt=finalize(_e,ot,lt);if(set$1(nt,rt,pt),isDraft(pt))_e.canAutoFreeze_=!1;else return}else ct&&nt.add(ot);if(isDraftable(ot)&&!isFrozen(ot)){if(!_e.immer_.autoFreeze_&&_e.unfinalizedDrafts_<1)return;finalize(_e,ot),(!et||!et.scope_.parent_)&&maybeFreeze(_e,ot)}}function maybeFreeze(_e,et,nt=!1){!_e.parent_&&_e.immer_.autoFreeze_&&_e.canAutoFreeze_&&freeze(et,nt)}function createProxyProxy(_e,et){const nt=Array.isArray(_e),rt={type_:nt?1:0,scope_:et?et.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:et,base_:_e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let ot=rt,it=objectTraps;nt&&(ot=[rt],it=arrayTraps);const{revoke:ct,proxy:lt}=Proxy.revocable(ot,it);return rt.draft_=lt,rt.revoke_=ct,lt}var objectTraps={get(_e,et){if(et===DRAFT_STATE)return _e;const nt=latest(_e);if(!has(nt,et))return readPropFromProto(_e,nt,et);const rt=nt[et];return _e.finalized_||!isDraftable(rt)?rt:rt===peek$1(_e.base_,et)?(prepareCopy(_e),_e.copy_[et]=createProxy(rt,_e)):rt},has(_e,et){return et in latest(_e)},ownKeys(_e){return Reflect.ownKeys(latest(_e))},set(_e,et,nt){const rt=getDescriptorFromProto(latest(_e),et);if(rt!=null&&rt.set)return rt.set.call(_e.draft_,nt),!0;if(!_e.modified_){const ot=peek$1(latest(_e),et),it=ot==null?void 0:ot[DRAFT_STATE];if(it&&it.base_===nt)return _e.copy_[et]=nt,_e.assigned_[et]=!1,!0;if(is(nt,ot)&&(nt!==void 0||has(_e.base_,et)))return!0;prepareCopy(_e),markChanged(_e)}return _e.copy_[et]===nt&&(nt!==void 0||et in _e.copy_)||Number.isNaN(nt)&&Number.isNaN(_e.copy_[et])||(_e.copy_[et]=nt,_e.assigned_[et]=!0),!0},deleteProperty(_e,et){return peek$1(_e.base_,et)!==void 0||et in _e.base_?(_e.assigned_[et]=!1,prepareCopy(_e),markChanged(_e)):delete _e.assigned_[et],_e.copy_&&delete _e.copy_[et],!0},getOwnPropertyDescriptor(_e,et){const nt=latest(_e),rt=Reflect.getOwnPropertyDescriptor(nt,et);return rt&&{writable:!0,configurable:_e.type_!==1||et!=="length",enumerable:rt.enumerable,value:nt[et]}},defineProperty(){die(11)},getPrototypeOf(_e){return getPrototypeOf(_e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(_e,et)=>{arrayTraps[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}});arrayTraps.deleteProperty=function(_e,et){return arrayTraps.set.call(this,_e,et,void 0)};arrayTraps.set=function(_e,et,nt){return objectTraps.set.call(this,_e[0],et,nt,_e[0])};function peek$1(_e,et){const nt=_e[DRAFT_STATE];return(nt?latest(nt):_e)[et]}function readPropFromProto(_e,et,nt){var ot;const rt=getDescriptorFromProto(et,nt);return rt?"value"in rt?rt.value:(ot=rt.get)==null?void 0:ot.call(_e.draft_):void 0}function getDescriptorFromProto(_e,et){if(!(et in _e))return;let nt=getPrototypeOf(_e);for(;nt;){const rt=Object.getOwnPropertyDescriptor(nt,et);if(rt)return rt;nt=getPrototypeOf(nt)}}function markChanged(_e){_e.modified_||(_e.modified_=!0,_e.parent_&&markChanged(_e.parent_))}function prepareCopy(_e){_e.copy_||(_e.copy_=shallowCopy(_e.base_,_e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(_e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(et,nt,rt)=>{if(typeof et=="function"&&typeof nt!="function"){const it=nt;nt=et;const ct=this;return function(pt=it,...mt){return ct.produce(pt,Mt=>nt.call(this,Mt,...mt))}}typeof nt!="function"&&die(6),rt!==void 0&&typeof rt!="function"&&die(7);let ot;if(isDraftable(et)){const it=enterScope(this),ct=createProxy(et,void 0);let lt=!0;try{ot=nt(ct),lt=!1}finally{lt?revokeScope(it):leaveScope(it)}return usePatchesInScope(it,rt),processResult(ot,it)}else if(!et||typeof et!="object"){if(ot=nt(et),ot===void 0&&(ot=et),ot===NOTHING&&(ot=void 0),this.autoFreeze_&&freeze(ot,!0),rt){const it=[],ct=[];getPlugin("Patches").generateReplacementPatches_(et,ot,it,ct),rt(it,ct)}return ot}else die(1,et)},this.produceWithPatches=(et,nt)=>{if(typeof et=="function")return(ct,...lt)=>this.produceWithPatches(ct,pt=>et(pt,...lt));let rt,ot;return[this.produce(et,nt,(ct,lt)=>{rt=ct,ot=lt}),rt,ot]},typeof(_e==null?void 0:_e.autoFreeze)=="boolean"&&this.setAutoFreeze(_e.autoFreeze),typeof(_e==null?void 0:_e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_e.useStrictShallowCopy)}createDraft(_e){isDraftable(_e)||die(8),isDraft(_e)&&(_e=current$1(_e));const et=enterScope(this),nt=createProxy(_e,void 0);return nt[DRAFT_STATE].isManual_=!0,leaveScope(et),nt}finishDraft(_e,et){const nt=_e&&_e[DRAFT_STATE];(!nt||!nt.isManual_)&&die(9);const{scope_:rt}=nt;return usePatchesInScope(rt,et),processResult(void 0,rt)}setAutoFreeze(_e){this.autoFreeze_=_e}setUseStrictShallowCopy(_e){this.useStrictShallowCopy_=_e}applyPatches(_e,et){let nt;for(nt=et.length-1;nt>=0;nt--){const ot=et[nt];if(ot.path.length===0&&ot.op==="replace"){_e=ot.value;break}}nt>-1&&(et=et.slice(nt+1));const rt=getPlugin("Patches").applyPatches_;return isDraft(_e)?rt(_e,et):this.produce(_e,ot=>rt(ot,et))}};function createProxy(_e,et){const nt=isMap(_e)?getPlugin("MapSet").proxyMap_(_e,et):isSet(_e)?getPlugin("MapSet").proxySet_(_e,et):createProxyProxy(_e,et);return(et?et.scope_:getCurrentScope()).drafts_.push(nt),nt}function current$1(_e){return isDraft(_e)||die(10,_e),currentImpl(_e)}function currentImpl(_e){if(!isDraftable(_e)||isFrozen(_e))return _e;const et=_e[DRAFT_STATE];let nt;if(et){if(!et.modified_)return et.base_;et.finalized_=!0,nt=shallowCopy(_e,et.scope_.immer_.useStrictShallowCopy_)}else nt=shallowCopy(_e,!0);return each(nt,(rt,ot)=>{set$1(nt,rt,currentImpl(ot))}),et&&(et.finalized_=!1),nt}var immer$1=new Immer2,produce=immer$1.produce;immer$1.produceWithPatches.bind(immer$1);immer$1.setAutoFreeze.bind(immer$1);immer$1.setUseStrictShallowCopy.bind(immer$1);immer$1.applyPatches.bind(immer$1);immer$1.createDraft.bind(immer$1);immer$1.finishDraft.bind(immer$1);const immerImpl=_e=>(et,nt,rt)=>(rt.setState=(ot,it,...ct)=>{const lt=typeof ot=="function"?produce(ot):ot;return et(lt,it,...ct)},_e(rt.setState,nt,rt)),immer=immerImpl,consoleLogger={type:"logger",log(_e){this.output("log",_e)},warn(_e){this.output("warn",_e)},error(_e){this.output("error",_e)},output(_e,et){console&&console[_e]&&console[_e].apply(console,et)}};class Logger{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(et,nt)}init(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=nt.prefix||"i18next:",this.logger=et||consoleLogger,this.options=nt,this.debug=nt.debug}log(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.forward(nt,"log","",!0)}warn(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.forward(nt,"warn","",!0)}error(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.forward(nt,"error","")}deprecate(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return this.forward(nt,"warn","WARNING DEPRECATED: ",!0)}forward(et,nt,rt,ot){return ot&&!this.debug?null:(typeof et[0]=="string"&&(et[0]=`${rt}${this.prefix} ${et[0]}`),this.logger[nt](et))}create(et){return new Logger(this.logger,{prefix:`${this.prefix}:${et}:`,...this.options})}clone(et){return et=et||this.options,et.prefix=et.prefix||this.prefix,new Logger(this.logger,et)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(et,nt){return et.split(" ").forEach(rt=>{this.observers[rt]||(this.observers[rt]=new Map);const ot=this.observers[rt].get(nt)||0;this.observers[rt].set(nt,ot+1)}),this}off(et,nt){if(this.observers[et]){if(!nt){delete this.observers[et];return}this.observers[et].delete(nt)}}emit(et){for(var nt=arguments.length,rt=new Array(nt>1?nt-1:0),ot=1;ot<nt;ot++)rt[ot-1]=arguments[ot];this.observers[et]&&Array.from(this.observers[et].entries()).forEach(ct=>{let[lt,pt]=ct;for(let mt=0;mt<pt;mt++)lt(...rt)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(ct=>{let[lt,pt]=ct;for(let mt=0;mt<pt;mt++)lt.apply(lt,[et,...rt])})}}function defer(){let _e,et;const nt=new Promise((rt,ot)=>{_e=rt,et=ot});return nt.resolve=_e,nt.reject=et,nt}function makeString(_e){return _e==null?"":""+_e}function copy$1(_e,et,nt){_e.forEach(rt=>{et[rt]&&(nt[rt]=et[rt])})}const lastOfPathSeparatorRegExp=/###/g;function getLastOfPath(_e,et,nt){function rt(lt){return lt&&lt.indexOf("###")>-1?lt.replace(lastOfPathSeparatorRegExp,"."):lt}function ot(){return!_e||typeof _e=="string"}const it=typeof et!="string"?et:et.split(".");let ct=0;for(;ct<it.length-1;){if(ot())return{};const lt=rt(it[ct]);!_e[lt]&&nt&&(_e[lt]=new nt),Object.prototype.hasOwnProperty.call(_e,lt)?_e=_e[lt]:_e={},++ct}return ot()?{}:{obj:_e,k:rt(it[ct])}}function setPath(_e,et,nt){const{obj:rt,k:ot}=getLastOfPath(_e,et,Object);if(rt!==void 0||et.length===1){rt[ot]=nt;return}let it=et[et.length-1],ct=et.slice(0,et.length-1),lt=getLastOfPath(_e,ct,Object);for(;lt.obj===void 0&&ct.length;)it=`${ct[ct.length-1]}.${it}`,ct=ct.slice(0,ct.length-1),lt=getLastOfPath(_e,ct,Object),lt&&lt.obj&&typeof lt.obj[`${lt.k}.${it}`]<"u"&&(lt.obj=void 0);lt.obj[`${lt.k}.${it}`]=nt}function pushPath(_e,et,nt,rt){const{obj:ot,k:it}=getLastOfPath(_e,et,Object);ot[it]=ot[it]||[],ot[it].push(nt)}function getPath(_e,et){const{obj:nt,k:rt}=getLastOfPath(_e,et);if(nt)return nt[rt]}function getPathWithDefaults(_e,et,nt){const rt=getPath(_e,nt);return rt!==void 0?rt:getPath(et,nt)}function deepExtend(_e,et,nt){for(const rt in et)rt!=="__proto__"&&rt!=="constructor"&&(rt in _e?typeof _e[rt]=="string"||_e[rt]instanceof String||typeof et[rt]=="string"||et[rt]instanceof String?nt&&(_e[rt]=et[rt]):deepExtend(_e[rt],et[rt],nt):_e[rt]=et[rt]);return _e}function regexEscape(_e){return _e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(_e){return typeof _e=="string"?_e.replace(/[&<>"'\/]/g,et=>_entityMap[et]):_e}class RegExpCache{constructor(et){this.capacity=et,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(et){const nt=this.regExpMap.get(et);if(nt!==void 0)return nt;const rt=new RegExp(et);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(et,rt),this.regExpQueue.push(et),rt}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20);function looksLikeObjectPath(_e,et,nt){et=et||"",nt=nt||"";const rt=chars.filter(ct=>et.indexOf(ct)<0&&nt.indexOf(ct)<0);if(rt.length===0)return!0;const ot=looksLikeObjectPathRegExpCache.getRegExp(`(${rt.map(ct=>ct==="?"?"\\?":ct).join("|")})`);let it=!ot.test(_e);if(!it){const ct=_e.indexOf(nt);ct>0&&!ot.test(_e.substring(0,ct))&&(it=!0)}return it}function deepFind(_e,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!_e)return;if(_e[et])return _e[et];const rt=et.split(nt);let ot=_e;for(let it=0;it<rt.length;){if(!ot||typeof ot!="object")return;let ct,lt="";for(let pt=it;pt<rt.length;++pt)if(pt!==it&&(lt+=nt),lt+=rt[pt],ct=ot[lt],ct!==void 0){if(["string","number","boolean"].indexOf(typeof ct)>-1&&pt<rt.length-1)continue;it+=pt-it+1;break}ot=ct}return ot}function getCleanedCode(_e){return _e&&_e.indexOf("_")>0?_e.replace("_","-"):_e}class ResourceStore extends EventEmitter{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=et||{},this.options=nt,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(et){this.options.ns.indexOf(et)<0&&this.options.ns.push(et)}removeNamespaces(et){const nt=this.options.ns.indexOf(et);nt>-1&&this.options.ns.splice(nt,1)}getResource(et,nt,rt){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const it=ot.keySeparator!==void 0?ot.keySeparator:this.options.keySeparator,ct=ot.ignoreJSONStructure!==void 0?ot.ignoreJSONStructure:this.options.ignoreJSONStructure;let lt;et.indexOf(".")>-1?lt=et.split("."):(lt=[et,nt],rt&&(Array.isArray(rt)?lt.push(...rt):typeof rt=="string"&&it?lt.push(...rt.split(it)):lt.push(rt)));const pt=getPath(this.data,lt);return!pt&&!nt&&!rt&&et.indexOf(".")>-1&&(et=lt[0],nt=lt[1],rt=lt.slice(2).join(".")),pt||!ct||typeof rt!="string"?pt:deepFind(this.data&&this.data[et]&&this.data[et][nt],rt,it)}addResource(et,nt,rt,ot){let it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const ct=it.keySeparator!==void 0?it.keySeparator:this.options.keySeparator;let lt=[et,nt];rt&&(lt=lt.concat(ct?rt.split(ct):rt)),et.indexOf(".")>-1&&(lt=et.split("."),ot=nt,nt=lt[1]),this.addNamespaces(nt),setPath(this.data,lt,ot),it.silent||this.emit("added",et,nt,rt,ot)}addResources(et,nt,rt){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const it in rt)(typeof rt[it]=="string"||Array.isArray(rt[it]))&&this.addResource(et,nt,it,rt[it],{silent:!0});ot.silent||this.emit("added",et,nt,rt)}addResourceBundle(et,nt,rt,ot,it){let ct=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},lt=[et,nt];et.indexOf(".")>-1&&(lt=et.split("."),ot=rt,rt=nt,nt=lt[1]),this.addNamespaces(nt);let pt=getPath(this.data,lt)||{};ct.skipCopy||(rt=JSON.parse(JSON.stringify(rt))),ot?deepExtend(pt,rt,it):pt={...pt,...rt},setPath(this.data,lt,pt),ct.silent||this.emit("added",et,nt,rt)}removeResourceBundle(et,nt){this.hasResourceBundle(et,nt)&&delete this.data[et][nt],this.removeNamespaces(nt),this.emit("removed",et,nt)}hasResourceBundle(et,nt){return this.getResource(et,nt)!==void 0}getResourceBundle(et,nt){return nt||(nt=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(et,nt)}:this.getResource(et,nt)}getDataByLanguage(et){return this.data[et]}hasLanguageSomeTranslations(et){const nt=this.getDataByLanguage(et);return!!(nt&&Object.keys(nt)||[]).find(ot=>nt[ot]&&Object.keys(nt[ot]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(_e){this.processors[_e.name]=_e},handle(_e,et,nt,rt,ot){return _e.forEach(it=>{this.processors[it]&&(et=this.processors[it].process(et,nt,rt,ot))}),et}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy$1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],et,this),this.options=nt,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(et){et&&(this.language=et)}exists(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(et==null)return!1;const rt=this.resolve(et,nt);return rt&&rt.res!==void 0}extractFromKey(et,nt){let rt=nt.nsSeparator!==void 0?nt.nsSeparator:this.options.nsSeparator;rt===void 0&&(rt=":");const ot=nt.keySeparator!==void 0?nt.keySeparator:this.options.keySeparator;let it=nt.ns||this.options.defaultNS||[];const ct=rt&&et.indexOf(rt)>-1,lt=!this.options.userDefinedKeySeparator&&!nt.keySeparator&&!this.options.userDefinedNsSeparator&&!nt.nsSeparator&&!looksLikeObjectPath(et,rt,ot);if(ct&&!lt){const pt=et.match(this.interpolator.nestingRegexp);if(pt&&pt.length>0)return{key:et,namespaces:it};const mt=et.split(rt);(rt!==ot||rt===ot&&this.options.ns.indexOf(mt[0])>-1)&&(it=mt.shift()),et=mt.join(ot)}return typeof it=="string"&&(it=[it]),{key:et,namespaces:it}}translate(et,nt,rt){if(typeof nt!="object"&&this.options.overloadTranslationOptionHandler&&(nt=this.options.overloadTranslationOptionHandler(arguments)),typeof nt=="object"&&(nt={...nt}),nt||(nt={}),et==null)return"";Array.isArray(et)||(et=[String(et)]);const ot=nt.returnDetails!==void 0?nt.returnDetails:this.options.returnDetails,it=nt.keySeparator!==void 0?nt.keySeparator:this.options.keySeparator,{key:ct,namespaces:lt}=this.extractFromKey(et[et.length-1],nt),pt=lt[lt.length-1],mt=nt.lng||this.language,Mt=nt.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(mt&&mt.toLowerCase()==="cimode"){if(Mt){const Ht=nt.nsSeparator||this.options.nsSeparator;return ot?{res:`${pt}${Ht}${ct}`,usedKey:ct,exactUsedKey:ct,usedLng:mt,usedNS:pt,usedParams:this.getUsedParamsDetails(nt)}:`${pt}${Ht}${ct}`}return ot?{res:ct,usedKey:ct,exactUsedKey:ct,usedLng:mt,usedNS:pt,usedParams:this.getUsedParamsDetails(nt)}:ct}const bt=this.resolve(et,nt);let At=bt&&bt.res;const wt=bt&&bt.usedKey||ct,Tt=bt&&bt.exactUsedKey||ct,Rt=Object.prototype.toString.apply(At),Bt=["[object Number]","[object Function]","[object RegExp]"],Vt=nt.joinArrays!==void 0?nt.joinArrays:this.options.joinArrays,$t=!this.i18nFormat||this.i18nFormat.handleAsObject;if($t&&At&&(typeof At!="string"&&typeof At!="boolean"&&typeof At!="number")&&Bt.indexOf(Rt)<0&&!(typeof Vt=="string"&&Array.isArray(At))){if(!nt.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Ht=this.options.returnedObjectHandler?this.options.returnedObjectHandler(wt,At,{...nt,ns:lt}):`key '${ct} (${this.language})' returned an object instead of string.`;return ot?(bt.res=Ht,bt.usedParams=this.getUsedParamsDetails(nt),bt):Ht}if(it){const Ht=Array.isArray(At),Qt=Ht?[]:{},_n=Ht?Tt:wt;for(const hn in At)if(Object.prototype.hasOwnProperty.call(At,hn)){const Mn=`${_n}${it}${hn}`;Qt[hn]=this.translate(Mn,{...nt,joinArrays:!1,ns:lt}),Qt[hn]===Mn&&(Qt[hn]=At[hn])}At=Qt}}else if($t&&typeof Vt=="string"&&Array.isArray(At))At=At.join(Vt),At&&(At=this.extendTranslation(At,et,nt,rt));else{let Ht=!1,Qt=!1;const _n=nt.count!==void 0&&typeof nt.count!="string",hn=Translator.hasDefaultValue(nt),Mn=_n?this.pluralResolver.getSuffix(mt,nt.count,nt):"",kn=nt.ordinal&&_n?this.pluralResolver.getSuffix(mt,nt.count,{ordinal:!1}):"",Cn=_n&&!nt.ordinal&&nt.count===0&&this.pluralResolver.shouldUseIntlApi(),yn=Cn&&nt[`defaultValue${this.options.pluralSeparator}zero`]||nt[`defaultValue${Mn}`]||nt[`defaultValue${kn}`]||nt.defaultValue;!this.isValidLookup(At)&&hn&&(Ht=!0,At=yn),this.isValidLookup(At)||(Qt=!0,At=ct);const En=(nt.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Qt?void 0:At,vn=hn&&yn!==At&&this.options.updateMissing;if(Qt||Ht||vn){if(this.logger.log(vn?"updateKey":"missingKey",mt,pt,ct,vn?yn:At),it){const Rn=this.resolve(ct,{...nt,keySeparator:!1});Rn&&Rn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let wn=[];const Ln=this.languageUtils.getFallbackCodes(this.options.fallbackLng,nt.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ln&&Ln[0])for(let Rn=0;Rn<Ln.length;Rn++)wn.push(Ln[Rn]);else this.options.saveMissingTo==="all"?wn=this.languageUtils.toResolveHierarchy(nt.lng||this.language):wn.push(nt.lng||this.language);const Kn=(Rn,Tn,Un)=>{const $n=hn&&Un!==At?Un:En;this.options.missingKeyHandler?this.options.missingKeyHandler(Rn,pt,Tn,$n,vn,nt):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Rn,pt,Tn,$n,vn,nt),this.emit("missingKey",Rn,pt,Tn,At)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_n?wn.forEach(Rn=>{const Tn=this.pluralResolver.getSuffixes(Rn,nt);Cn&&nt[`defaultValue${this.options.pluralSeparator}zero`]&&Tn.indexOf(`${this.options.pluralSeparator}zero`)<0&&Tn.push(`${this.options.pluralSeparator}zero`),Tn.forEach(Un=>{Kn([Rn],ct+Un,nt[`defaultValue${Un}`]||yn)})}):Kn(wn,ct,yn))}At=this.extendTranslation(At,et,nt,bt,rt),Qt&&At===ct&&this.options.appendNamespaceToMissingKey&&(At=`${pt}:${ct}`),(Qt||Ht)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?At=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${pt}:${ct}`:ct,Ht?At:void 0):At=this.options.parseMissingKeyHandler(At))}return ot?(bt.res=At,bt.usedParams=this.getUsedParamsDetails(nt),bt):At}extendTranslation(et,nt,rt,ot,it){var ct=this;if(this.i18nFormat&&this.i18nFormat.parse)et=this.i18nFormat.parse(et,{...this.options.interpolation.defaultVariables,...rt},rt.lng||this.language||ot.usedLng,ot.usedNS,ot.usedKey,{resolved:ot});else if(!rt.skipInterpolation){rt.interpolation&&this.interpolator.init({...rt,interpolation:{...this.options.interpolation,...rt.interpolation}});const mt=typeof et=="string"&&(rt&&rt.interpolation&&rt.interpolation.skipOnVariables!==void 0?rt.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let Mt;if(mt){const At=et.match(this.interpolator.nestingRegexp);Mt=At&&At.length}let bt=rt.replace&&typeof rt.replace!="string"?rt.replace:rt;if(this.options.interpolation.defaultVariables&&(bt={...this.options.interpolation.defaultVariables,...bt}),et=this.interpolator.interpolate(et,bt,rt.lng||this.language,rt),mt){const At=et.match(this.interpolator.nestingRegexp),wt=At&&At.length;Mt<wt&&(rt.nest=!1)}!rt.lng&&this.options.compatibilityAPI!=="v1"&&ot&&ot.res&&(rt.lng=ot.usedLng),rt.nest!==!1&&(et=this.interpolator.nest(et,function(){for(var At=arguments.length,wt=new Array(At),Tt=0;Tt<At;Tt++)wt[Tt]=arguments[Tt];return it&&it[0]===wt[0]&&!rt.context?(ct.logger.warn(`It seems you are nesting recursively key: ${wt[0]} in key: ${nt[0]}`),null):ct.translate(...wt,nt)},rt)),rt.interpolation&&this.interpolator.reset()}const lt=rt.postProcess||this.options.postProcess,pt=typeof lt=="string"?[lt]:lt;return et!=null&&pt&&pt.length&&rt.applyPostProcessor!==!1&&(et=postProcessor.handle(pt,et,nt,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...ot,usedParams:this.getUsedParamsDetails(rt)},...rt}:rt,this)),et}resolve(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt,ot,it,ct,lt;return typeof et=="string"&&(et=[et]),et.forEach(pt=>{if(this.isValidLookup(rt))return;const mt=this.extractFromKey(pt,nt),Mt=mt.key;ot=Mt;let bt=mt.namespaces;this.options.fallbackNS&&(bt=bt.concat(this.options.fallbackNS));const At=nt.count!==void 0&&typeof nt.count!="string",wt=At&&!nt.ordinal&&nt.count===0&&this.pluralResolver.shouldUseIntlApi(),Tt=nt.context!==void 0&&(typeof nt.context=="string"||typeof nt.context=="number")&&nt.context!=="",Rt=nt.lngs?nt.lngs:this.languageUtils.toResolveHierarchy(nt.lng||this.language,nt.fallbackLng);bt.forEach(Bt=>{this.isValidLookup(rt)||(lt=Bt,!checkedLoadedFor[`${Rt[0]}-${Bt}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(lt)&&(checkedLoadedFor[`${Rt[0]}-${Bt}`]=!0,this.logger.warn(`key "${ot}" for languages "${Rt.join(", ")}" won't get resolved as namespace "${lt}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Rt.forEach(Vt=>{if(this.isValidLookup(rt))return;ct=Vt;const $t=[Mt];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys($t,Mt,Vt,Bt,nt);else{let Ht;At&&(Ht=this.pluralResolver.getSuffix(Vt,nt.count,nt));const Qt=`${this.options.pluralSeparator}zero`,_n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(At&&($t.push(Mt+Ht),nt.ordinal&&Ht.indexOf(_n)===0&&$t.push(Mt+Ht.replace(_n,this.options.pluralSeparator)),wt&&$t.push(Mt+Qt)),Tt){const hn=`${Mt}${this.options.contextSeparator}${nt.context}`;$t.push(hn),At&&($t.push(hn+Ht),nt.ordinal&&Ht.indexOf(_n)===0&&$t.push(hn+Ht.replace(_n,this.options.pluralSeparator)),wt&&$t.push(hn+Qt))}}let Ft;for(;Ft=$t.pop();)this.isValidLookup(rt)||(it=Ft,rt=this.getResource(Vt,Bt,Ft,nt))}))})}),{res:rt,usedKey:ot,exactUsedKey:it,usedLng:ct,usedNS:lt}}isValidLookup(et){return et!==void 0&&!(!this.options.returnNull&&et===null)&&!(!this.options.returnEmptyString&&et==="")}getResource(et,nt,rt){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(et,nt,rt,ot):this.resourceStore.getResource(et,nt,rt,ot)}getUsedParamsDetails(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const nt=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],rt=et.replace&&typeof et.replace!="string";let ot=rt?et.replace:et;if(rt&&typeof et.count<"u"&&(ot.count=et.count),this.options.interpolation.defaultVariables&&(ot={...this.options.interpolation.defaultVariables,...ot}),!rt){ot={...ot};for(const it of nt)delete ot[it]}return ot}static hasDefaultValue(et){const nt="defaultValue";for(const rt in et)if(Object.prototype.hasOwnProperty.call(et,rt)&&nt===rt.substring(0,nt.length)&&et[rt]!==void 0)return!0;return!1}}function capitalize(_e){return _e.charAt(0).toUpperCase()+_e.slice(1)}class LanguageUtil{constructor(et){this.options=et,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(et){if(et=getCleanedCode(et),!et||et.indexOf("-")<0)return null;const nt=et.split("-");return nt.length===2||(nt.pop(),nt[nt.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(nt.join("-"))}getLanguagePartFromCode(et){if(et=getCleanedCode(et),!et||et.indexOf("-")<0)return et;const nt=et.split("-");return this.formatLanguageCode(nt[0])}formatLanguageCode(et){if(typeof et=="string"&&et.indexOf("-")>-1){const nt=["hans","hant","latn","cyrl","cans","mong","arab"];let rt=et.split("-");return this.options.lowerCaseLng?rt=rt.map(ot=>ot.toLowerCase()):rt.length===2?(rt[0]=rt[0].toLowerCase(),rt[1]=rt[1].toUpperCase(),nt.indexOf(rt[1].toLowerCase())>-1&&(rt[1]=capitalize(rt[1].toLowerCase()))):rt.length===3&&(rt[0]=rt[0].toLowerCase(),rt[1].length===2&&(rt[1]=rt[1].toUpperCase()),rt[0]!=="sgn"&&rt[2].length===2&&(rt[2]=rt[2].toUpperCase()),nt.indexOf(rt[1].toLowerCase())>-1&&(rt[1]=capitalize(rt[1].toLowerCase())),nt.indexOf(rt[2].toLowerCase())>-1&&(rt[2]=capitalize(rt[2].toLowerCase()))),rt.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?et.toLowerCase():et}isSupportedCode(et){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(et=this.getLanguagePartFromCode(et)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(et)>-1}getBestMatchFromCodes(et){if(!et)return null;let nt;return et.forEach(rt=>{if(nt)return;const ot=this.formatLanguageCode(rt);(!this.options.supportedLngs||this.isSupportedCode(ot))&&(nt=ot)}),!nt&&this.options.supportedLngs&&et.forEach(rt=>{if(nt)return;const ot=this.getLanguagePartFromCode(rt);if(this.isSupportedCode(ot))return nt=ot;nt=this.options.supportedLngs.find(it=>{if(it===ot)return it;if(!(it.indexOf("-")<0&&ot.indexOf("-")<0)&&(it.indexOf("-")>0&&ot.indexOf("-")<0&&it.substring(0,it.indexOf("-"))===ot||it.indexOf(ot)===0&&ot.length>1))return it})}),nt||(nt=this.getFallbackCodes(this.options.fallbackLng)[0]),nt}getFallbackCodes(et,nt){if(!et)return[];if(typeof et=="function"&&(et=et(nt)),typeof et=="string"&&(et=[et]),Array.isArray(et))return et;if(!nt)return et.default||[];let rt=et[nt];return rt||(rt=et[this.getScriptPartFromCode(nt)]),rt||(rt=et[this.formatLanguageCode(nt)]),rt||(rt=et[this.getLanguagePartFromCode(nt)]),rt||(rt=et.default),rt||[]}toResolveHierarchy(et,nt){const rt=this.getFallbackCodes(nt||this.options.fallbackLng||[],et),ot=[],it=ct=>{ct&&(this.isSupportedCode(ct)?ot.push(ct):this.logger.warn(`rejecting language code not found in supportedLngs: ${ct}`))};return typeof et=="string"&&(et.indexOf("-")>-1||et.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&it(this.formatLanguageCode(et)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&it(this.getScriptPartFromCode(et)),this.options.load!=="currentOnly"&&it(this.getLanguagePartFromCode(et))):typeof et=="string"&&it(this.formatLanguageCode(et)),rt.forEach(ct=>{ot.indexOf(ct)<0&&it(this.formatLanguageCode(ct))}),ot}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(_e){return+(_e>1)},2:function(_e){return+(_e!=1)},3:function(_e){return 0},4:function(_e){return _e%10==1&&_e%100!=11?0:_e%10>=2&&_e%10<=4&&(_e%100<10||_e%100>=20)?1:2},5:function(_e){return _e==0?0:_e==1?1:_e==2?2:_e%100>=3&&_e%100<=10?3:_e%100>=11?4:5},6:function(_e){return _e==1?0:_e>=2&&_e<=4?1:2},7:function(_e){return _e==1?0:_e%10>=2&&_e%10<=4&&(_e%100<10||_e%100>=20)?1:2},8:function(_e){return _e==1?0:_e==2?1:_e!=8&&_e!=11?2:3},9:function(_e){return+(_e>=2)},10:function(_e){return _e==1?0:_e==2?1:_e<7?2:_e<11?3:4},11:function(_e){return _e==1||_e==11?0:_e==2||_e==12?1:_e>2&&_e<20?2:3},12:function(_e){return+(_e%10!=1||_e%100==11)},13:function(_e){return+(_e!==0)},14:function(_e){return _e==1?0:_e==2?1:_e==3?2:3},15:function(_e){return _e%10==1&&_e%100!=11?0:_e%10>=2&&(_e%100<10||_e%100>=20)?1:2},16:function(_e){return _e%10==1&&_e%100!=11?0:_e!==0?1:2},17:function(_e){return _e==1||_e%10==1&&_e%100!=11?0:1},18:function(_e){return _e==0?0:_e==1?1:2},19:function(_e){return _e==1?0:_e==0||_e%100>1&&_e%100<11?1:_e%100>10&&_e%100<20?2:3},20:function(_e){return _e==1?0:_e==0||_e%100>0&&_e%100<20?1:2},21:function(_e){return _e%100==1?1:_e%100==2?2:_e%100==3||_e%100==4?3:0},22:function(_e){return _e==1?0:_e==2?1:(_e<0||_e>10)&&_e%10==0?2:3}};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){const _e={};return sets.forEach(et=>{et.lngs.forEach(nt=>{_e[nt]={numbers:et.nr,plurals:_rulesPluralsTypes[et.fc]}})}),_e}class PluralResolver{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=et,this.options=nt,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}addRule(et,nt){this.rules[et]=nt}getRule(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(et==="dev"?"en":et),{type:nt.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[et]||this.rules[this.languageUtils.getLanguagePartFromCode(et)]}needsPlural(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=this.getRule(et,nt);return this.shouldUseIntlApi()?rt&&rt.resolvedOptions().pluralCategories.length>1:rt&&rt.numbers.length>1}getPluralFormsOfKey(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(et,rt).map(ot=>`${nt}${ot}`)}getSuffixes(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=this.getRule(et,nt);return rt?this.shouldUseIntlApi()?rt.resolvedOptions().pluralCategories.sort((ot,it)=>suffixesOrder[ot]-suffixesOrder[it]).map(ot=>`${this.options.prepend}${nt.ordinal?`ordinal${this.options.prepend}`:""}${ot}`):rt.numbers.map(ot=>this.getSuffix(et,ot,nt)):[]}getSuffix(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ot=this.getRule(et,rt);return ot?this.shouldUseIntlApi()?`${this.options.prepend}${rt.ordinal?`ordinal${this.options.prepend}`:""}${ot.select(nt)}`:this.getSuffixRetroCompatible(ot,nt):(this.logger.warn(`no plural rule found for: ${et}`),"")}getSuffixRetroCompatible(et,nt){const rt=et.noAbs?et.plurals(nt):et.plurals(Math.abs(nt));let ot=et.numbers[rt];this.options.simplifyPluralSuffix&&et.numbers.length===2&&et.numbers[0]===1&&(ot===2?ot="plural":ot===1&&(ot=""));const it=()=>this.options.prepend&&ot.toString()?this.options.prepend+ot.toString():ot.toString();return this.options.compatibilityJSON==="v1"?ot===1?"":typeof ot=="number"?`_plural_${ot.toString()}`:it():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&et.numbers.length===2&&et.numbers[0]===1?it():this.options.prepend&&rt.toString()?this.options.prepend+rt.toString():rt.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}function deepFindWithDefaults(_e,et,nt){let rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,it=getPathWithDefaults(_e,et,nt);return!it&&ot&&typeof nt=="string"&&(it=deepFind(_e,nt,rt),it===void 0&&(it=deepFind(et,nt,rt))),it}class Interpolator{constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=et,this.format=et.interpolation&&et.interpolation.format||(nt=>nt),this.init(et)}init(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};et.interpolation||(et.interpolation={escapeValue:!0});const{escape:nt,escapeValue:rt,useRawValueToEscape:ot,prefix:it,prefixEscaped:ct,suffix:lt,suffixEscaped:pt,formatSeparator:mt,unescapeSuffix:Mt,unescapePrefix:bt,nestingPrefix:At,nestingPrefixEscaped:wt,nestingSuffix:Tt,nestingSuffixEscaped:Rt,nestingOptionsSeparator:Bt,maxReplaces:Vt,alwaysFormat:$t}=et.interpolation;this.escape=nt!==void 0?nt:escape$1,this.escapeValue=rt!==void 0?rt:!0,this.useRawValueToEscape=ot!==void 0?ot:!1,this.prefix=it?regexEscape(it):ct||"{{",this.suffix=lt?regexEscape(lt):pt||"}}",this.formatSeparator=mt||",",this.unescapePrefix=Mt?"":bt||"-",this.unescapeSuffix=this.unescapePrefix?"":Mt||"",this.nestingPrefix=At?regexEscape(At):wt||regexEscape("$t("),this.nestingSuffix=Tt?regexEscape(Tt):Rt||regexEscape(")"),this.nestingOptionsSeparator=Bt||",",this.maxReplaces=Vt||1e3,this.alwaysFormat=$t!==void 0?$t:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const et=(nt,rt)=>nt&&nt.source===rt?(nt.lastIndex=0,nt):new RegExp(rt,"g");this.regexp=et(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=et(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=et(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(et,nt,rt,ot){let it,ct,lt;const pt=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function mt(Tt){return Tt.replace(/\$/g,"$$$$")}const Mt=Tt=>{if(Tt.indexOf(this.formatSeparator)<0){const $t=deepFindWithDefaults(nt,pt,Tt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($t,void 0,rt,{...ot,...nt,interpolationkey:Tt}):$t}const Rt=Tt.split(this.formatSeparator),Bt=Rt.shift().trim(),Vt=Rt.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(nt,pt,Bt,this.options.keySeparator,this.options.ignoreJSONStructure),Vt,rt,{...ot,...nt,interpolationkey:Bt})};this.resetRegExp();const bt=ot&&ot.missingInterpolationHandler||this.options.missingInterpolationHandler,At=ot&&ot.interpolation&&ot.interpolation.skipOnVariables!==void 0?ot.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:Tt=>mt(Tt)},{regex:this.regexp,safeValue:Tt=>this.escapeValue?mt(this.escape(Tt)):mt(Tt)}].forEach(Tt=>{for(lt=0;it=Tt.regex.exec(et);){const Rt=it[1].trim();if(ct=Mt(Rt),ct===void 0)if(typeof bt=="function"){const Vt=bt(et,it,ot);ct=typeof Vt=="string"?Vt:""}else if(ot&&Object.prototype.hasOwnProperty.call(ot,Rt))ct="";else if(At){ct=it[0];continue}else this.logger.warn(`missed to pass in variable ${Rt} for interpolating ${et}`),ct="";else typeof ct!="string"&&!this.useRawValueToEscape&&(ct=makeString(ct));const Bt=Tt.safeValue(ct);if(et=et.replace(it[0],Bt),At?(Tt.regex.lastIndex+=ct.length,Tt.regex.lastIndex-=it[0].length):Tt.regex.lastIndex=0,lt++,lt>=this.maxReplaces)break}}),et}nest(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ot,it,ct;function lt(pt,mt){const Mt=this.nestingOptionsSeparator;if(pt.indexOf(Mt)<0)return pt;const bt=pt.split(new RegExp(`${Mt}[ ]*{`));let At=`{${bt[1]}`;pt=bt[0],At=this.interpolate(At,ct);const wt=At.match(/'/g),Tt=At.match(/"/g);(wt&&wt.length%2===0&&!Tt||Tt.length%2!==0)&&(At=At.replace(/'/g,'"'));try{ct=JSON.parse(At),mt&&(ct={...mt,...ct})}catch(Rt){return this.logger.warn(`failed parsing options string in nesting for key ${pt}`,Rt),`${pt}${Mt}${At}`}return ct.defaultValue&&ct.defaultValue.indexOf(this.prefix)>-1&&delete ct.defaultValue,pt}for(;ot=this.nestingRegexp.exec(et);){let pt=[];ct={...rt},ct=ct.replace&&typeof ct.replace!="string"?ct.replace:ct,ct.applyPostProcessor=!1,delete ct.defaultValue;let mt=!1;if(ot[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(ot[1])){const Mt=ot[1].split(this.formatSeparator).map(bt=>bt.trim());ot[1]=Mt.shift(),pt=Mt,mt=!0}if(it=nt(lt.call(this,ot[1].trim(),ct),ct),it&&ot[0]===et&&typeof it!="string")return it;typeof it!="string"&&(it=makeString(it)),it||(this.logger.warn(`missed to resolve ${ot[1]} for nesting ${et}`),it=""),mt&&(it=pt.reduce((Mt,bt)=>this.format(Mt,bt,rt.lng,{...rt,interpolationkey:ot[1].trim()}),it.trim())),et=et.replace(ot[0],it),this.regexp.lastIndex=0}return et}}function parseFormatStr(_e){let et=_e.toLowerCase().trim();const nt={};if(_e.indexOf("(")>-1){const rt=_e.split("(");et=rt[0].toLowerCase().trim();const ot=rt[1].substring(0,rt[1].length-1);et==="currency"&&ot.indexOf(":")<0?nt.currency||(nt.currency=ot.trim()):et==="relativetime"&&ot.indexOf(":")<0?nt.range||(nt.range=ot.trim()):ot.split(";").forEach(ct=>{if(ct){const[lt,...pt]=ct.split(":"),mt=pt.join(":").trim().replace(/^'+|'+$/g,""),Mt=lt.trim();nt[Mt]||(nt[Mt]=mt),mt==="false"&&(nt[Mt]=!1),mt==="true"&&(nt[Mt]=!0),isNaN(mt)||(nt[Mt]=parseInt(mt,10))}})}return{formatName:et,formatOptions:nt}}function createCachedFormatter(_e){const et={};return function(rt,ot,it){const ct=ot+JSON.stringify(it);let lt=et[ct];return lt||(lt=_e(getCleanedCode(ot),it),et[ct]=lt),lt(rt)}}class Formatter{constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=et,this.formats={number:createCachedFormatter((nt,rt)=>{const ot=new Intl.NumberFormat(nt,{...rt});return it=>ot.format(it)}),currency:createCachedFormatter((nt,rt)=>{const ot=new Intl.NumberFormat(nt,{...rt,style:"currency"});return it=>ot.format(it)}),datetime:createCachedFormatter((nt,rt)=>{const ot=new Intl.DateTimeFormat(nt,{...rt});return it=>ot.format(it)}),relativetime:createCachedFormatter((nt,rt)=>{const ot=new Intl.RelativeTimeFormat(nt,{...rt});return it=>ot.format(it,rt.range||"day")}),list:createCachedFormatter((nt,rt)=>{const ot=new Intl.ListFormat(nt,{...rt});return it=>ot.format(it)})},this.init(et)}init(et){const rt=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=rt.formatSeparator?rt.formatSeparator:rt.formatSeparator||","}add(et,nt){this.formats[et.toLowerCase().trim()]=nt}addCached(et,nt){this.formats[et.toLowerCase().trim()]=createCachedFormatter(nt)}format(et,nt,rt){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return nt.split(this.formatSeparator).reduce((lt,pt)=>{const{formatName:mt,formatOptions:Mt}=parseFormatStr(pt);if(this.formats[mt]){let bt=lt;try{const At=ot&&ot.formatParams&&ot.formatParams[ot.interpolationkey]||{},wt=At.locale||At.lng||ot.locale||ot.lng||rt;bt=this.formats[mt](lt,wt,{...Mt,...ot,...At})}catch(At){this.logger.warn(At)}return bt}else this.logger.warn(`there was no format function for ${mt}`);return lt},et)}}function removePending(_e,et){_e.pending[et]!==void 0&&(delete _e.pending[et],_e.pendingCount--)}class Connector extends EventEmitter{constructor(et,nt,rt){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=et,this.store=nt,this.services=rt,this.languageUtils=rt.languageUtils,this.options=ot,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=ot.maxParallelReads||10,this.readingCalls=0,this.maxRetries=ot.maxRetries>=0?ot.maxRetries:5,this.retryTimeout=ot.retryTimeout>=1?ot.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(rt,ot.backend,ot)}queueLoad(et,nt,rt,ot){const it={},ct={},lt={},pt={};return et.forEach(mt=>{let Mt=!0;nt.forEach(bt=>{const At=`${mt}|${bt}`;!rt.reload&&this.store.hasResourceBundle(mt,bt)?this.state[At]=2:this.state[At]<0||(this.state[At]===1?ct[At]===void 0&&(ct[At]=!0):(this.state[At]=1,Mt=!1,ct[At]===void 0&&(ct[At]=!0),it[At]===void 0&&(it[At]=!0),pt[bt]===void 0&&(pt[bt]=!0)))}),Mt||(lt[mt]=!0)}),(Object.keys(it).length||Object.keys(ct).length)&&this.queue.push({pending:ct,pendingCount:Object.keys(ct).length,loaded:{},errors:[],callback:ot}),{toLoad:Object.keys(it),pending:Object.keys(ct),toLoadLanguages:Object.keys(lt),toLoadNamespaces:Object.keys(pt)}}loaded(et,nt,rt){const ot=et.split("|"),it=ot[0],ct=ot[1];nt&&this.emit("failedLoading",it,ct,nt),rt&&this.store.addResourceBundle(it,ct,rt,void 0,void 0,{skipCopy:!0}),this.state[et]=nt?-1:2;const lt={};this.queue.forEach(pt=>{pushPath(pt.loaded,[it],ct),removePending(pt,et),nt&&pt.errors.push(nt),pt.pendingCount===0&&!pt.done&&(Object.keys(pt.loaded).forEach(mt=>{lt[mt]||(lt[mt]={});const Mt=pt.loaded[mt];Mt.length&&Mt.forEach(bt=>{lt[mt][bt]===void 0&&(lt[mt][bt]=!0)})}),pt.done=!0,pt.errors.length?pt.callback(pt.errors):pt.callback())}),this.emit("loaded",lt),this.queue=this.queue.filter(pt=>!pt.done)}read(et,nt,rt){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,ct=arguments.length>5?arguments[5]:void 0;if(!et.length)return ct(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:et,ns:nt,fcName:rt,tried:ot,wait:it,callback:ct});return}this.readingCalls++;const lt=(mt,Mt)=>{if(this.readingCalls--,this.waitingReads.length>0){const bt=this.waitingReads.shift();this.read(bt.lng,bt.ns,bt.fcName,bt.tried,bt.wait,bt.callback)}if(mt&&Mt&&ot<this.maxRetries){setTimeout(()=>{this.read.call(this,et,nt,rt,ot+1,it*2,ct)},it);return}ct(mt,Mt)},pt=this.backend[rt].bind(this.backend);if(pt.length===2){try{const mt=pt(et,nt);mt&&typeof mt.then=="function"?mt.then(Mt=>lt(null,Mt)).catch(lt):lt(null,mt)}catch(mt){lt(mt)}return}return pt(et,nt,lt)}prepareLoading(et,nt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ot=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),ot&&ot();typeof et=="string"&&(et=this.languageUtils.toResolveHierarchy(et)),typeof nt=="string"&&(nt=[nt]);const it=this.queueLoad(et,nt,rt,ot);if(!it.toLoad.length)return it.pending.length||ot(),null;it.toLoad.forEach(ct=>{this.loadOne(ct)})}load(et,nt,rt){this.prepareLoading(et,nt,{},rt)}reload(et,nt,rt){this.prepareLoading(et,nt,{reload:!0},rt)}loadOne(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const rt=et.split("|"),ot=rt[0],it=rt[1];this.read(ot,it,"read",void 0,void 0,(ct,lt)=>{ct&&this.logger.warn(`${nt}loading namespace ${it} for language ${ot} failed`,ct),!ct&&lt&&this.logger.log(`${nt}loaded namespace ${it} for language ${ot}`,lt),this.loaded(et,ct,lt)})}saveMissing(et,nt,rt,ot,it){let ct=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},lt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(nt)){this.logger.warn(`did not save key "${rt}" as the namespace "${nt}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(rt==null||rt==="")){if(this.backend&&this.backend.create){const pt={...ct,isUpdate:it},mt=this.backend.create.bind(this.backend);if(mt.length<6)try{let Mt;mt.length===5?Mt=mt(et,nt,rt,ot,pt):Mt=mt(et,nt,rt,ot),Mt&&typeof Mt.then=="function"?Mt.then(bt=>lt(null,bt)).catch(lt):lt(null,Mt)}catch(Mt){lt(Mt)}else mt(et,nt,rt,ot,lt,pt)}!et||!et[0]||this.store.addResource(et[0],nt,rt,ot)}}}function get$1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(et){let nt={};if(typeof et[1]=="object"&&(nt=et[1]),typeof et[1]=="string"&&(nt.defaultValue=et[1]),typeof et[2]=="string"&&(nt.tDescription=et[2]),typeof et[2]=="object"||typeof et[3]=="object"){const rt=et[3]||et[2];Object.keys(rt).forEach(ot=>{nt[ot]=rt[ot]})}return nt},interpolation:{escapeValue:!0,format:_e=>_e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(_e){return typeof _e.ns=="string"&&(_e.ns=[_e.ns]),typeof _e.fallbackLng=="string"&&(_e.fallbackLng=[_e.fallbackLng]),typeof _e.fallbackNS=="string"&&(_e.fallbackNS=[_e.fallbackNS]),_e.supportedLngs&&_e.supportedLngs.indexOf("cimode")<0&&(_e.supportedLngs=_e.supportedLngs.concat(["cimode"])),_e}function noop$6(){}function bindMemberFunctions(_e){Object.getOwnPropertyNames(Object.getPrototypeOf(_e)).forEach(nt=>{typeof _e[nt]=="function"&&(_e[nt]=_e[nt].bind(_e))})}class I18n extends EventEmitter{constructor(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(et),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),nt&&!this.isInitialized&&!et.isClone){if(!this.options.initImmediate)return this.init(et,nt),this;setTimeout(()=>{this.init(et,nt)},0)}}init(){var et=this;let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof nt=="function"&&(rt=nt,nt={}),!nt.defaultNS&&nt.defaultNS!==!1&&nt.ns&&(typeof nt.ns=="string"?nt.defaultNS=nt.ns:nt.ns.indexOf("translation")<0&&(nt.defaultNS=nt.ns[0]));const ot=get$1();this.options={...ot,...this.options,...transformOptions(nt)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...ot.interpolation,...this.options.interpolation}),nt.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=nt.keySeparator),nt.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=nt.nsSeparator);function it(Mt){return Mt?typeof Mt=="function"?new Mt:Mt:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(it(this.modules.logger),this.options):baseLogger.init(null,this.options);let Mt;this.modules.formatter?Mt=this.modules.formatter:typeof Intl<"u"&&(Mt=Formatter);const bt=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const At=this.services;At.logger=baseLogger,At.resourceStore=this.store,At.languageUtils=bt,At.pluralResolver=new PluralResolver(bt,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),Mt&&(!this.options.interpolation.format||this.options.interpolation.format===ot.interpolation.format)&&(At.formatter=it(Mt),At.formatter.init(At,this.options),this.options.interpolation.format=At.formatter.format.bind(At.formatter)),At.interpolator=new Interpolator(this.options),At.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},At.backendConnector=new Connector(it(this.modules.backend),At.resourceStore,At,this.options),At.backendConnector.on("*",function(wt){for(var Tt=arguments.length,Rt=new Array(Tt>1?Tt-1:0),Bt=1;Bt<Tt;Bt++)Rt[Bt-1]=arguments[Bt];et.emit(wt,...Rt)}),this.modules.languageDetector&&(At.languageDetector=it(this.modules.languageDetector),At.languageDetector.init&&At.languageDetector.init(At,this.options.detection,this.options)),this.modules.i18nFormat&&(At.i18nFormat=it(this.modules.i18nFormat),At.i18nFormat.init&&At.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(wt){for(var Tt=arguments.length,Rt=new Array(Tt>1?Tt-1:0),Bt=1;Bt<Tt;Bt++)Rt[Bt-1]=arguments[Bt];et.emit(wt,...Rt)}),this.modules.external.forEach(wt=>{wt.init&&wt.init(this)})}if(this.format=this.options.interpolation.format,rt||(rt=noop$6),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const Mt=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);Mt.length>0&&Mt[0]!=="dev"&&(this.options.lng=Mt[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(Mt=>{this[Mt]=function(){return et.store[Mt](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(Mt=>{this[Mt]=function(){return et.store[Mt](...arguments),et}});const pt=defer(),mt=()=>{const Mt=(bt,At)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),pt.resolve(At),rt(bt,At)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return Mt(null,this.t.bind(this));this.changeLanguage(this.options.lng,Mt)};return this.options.resources||!this.options.initImmediate?mt():setTimeout(mt,0),pt}loadResources(et){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$6;const ot=typeof et=="string"?et:this.language;if(typeof et=="function"&&(rt=et),!this.options.resources||this.options.partialBundledLanguages){if(ot&&ot.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return rt();const it=[],ct=lt=>{if(!lt||lt==="cimode")return;this.services.languageUtils.toResolveHierarchy(lt).forEach(mt=>{mt!=="cimode"&&it.indexOf(mt)<0&&it.push(mt)})};ot?ct(ot):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(pt=>ct(pt)),this.options.preload&&this.options.preload.forEach(lt=>ct(lt)),this.services.backendConnector.load(it,this.options.ns,lt=>{!lt&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),rt(lt)})}else rt(null)}reloadResources(et,nt,rt){const ot=defer();return et||(et=this.languages),nt||(nt=this.options.ns),rt||(rt=noop$6),this.services.backendConnector.reload(et,nt,it=>{ot.resolve(),rt(it)}),ot}use(et){if(!et)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!et.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return et.type==="backend"&&(this.modules.backend=et),(et.type==="logger"||et.log&&et.warn&&et.error)&&(this.modules.logger=et),et.type==="languageDetector"&&(this.modules.languageDetector=et),et.type==="i18nFormat"&&(this.modules.i18nFormat=et),et.type==="postProcessor"&&postProcessor.addPostProcessor(et),et.type==="formatter"&&(this.modules.formatter=et),et.type==="3rdParty"&&this.modules.external.push(et),this}setResolvedLanguage(et){if(!(!et||!this.languages)&&!(["cimode","dev"].indexOf(et)>-1))for(let nt=0;nt<this.languages.length;nt++){const rt=this.languages[nt];if(!(["cimode","dev"].indexOf(rt)>-1)&&this.store.hasLanguageSomeTranslations(rt)){this.resolvedLanguage=rt;break}}}changeLanguage(et,nt){var rt=this;this.isLanguageChangingTo=et;const ot=defer();this.emit("languageChanging",et);const it=pt=>{this.language=pt,this.languages=this.services.languageUtils.toResolveHierarchy(pt),this.resolvedLanguage=void 0,this.setResolvedLanguage(pt)},ct=(pt,mt)=>{mt?(it(mt),this.translator.changeLanguage(mt),this.isLanguageChangingTo=void 0,this.emit("languageChanged",mt),this.logger.log("languageChanged",mt)):this.isLanguageChangingTo=void 0,ot.resolve(function(){return rt.t(...arguments)}),nt&&nt(pt,function(){return rt.t(...arguments)})},lt=pt=>{!et&&!pt&&this.services.languageDetector&&(pt=[]);const mt=typeof pt=="string"?pt:this.services.languageUtils.getBestMatchFromCodes(pt);mt&&(this.language||it(mt),this.translator.language||this.translator.changeLanguage(mt),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(mt)),this.loadResources(mt,Mt=>{ct(Mt,mt)})};return!et&&this.services.languageDetector&&!this.services.languageDetector.async?lt(this.services.languageDetector.detect()):!et&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(lt):this.services.languageDetector.detect(lt):lt(et),ot}getFixedT(et,nt,rt){var ot=this;const it=function(ct,lt){let pt;if(typeof lt!="object"){for(var mt=arguments.length,Mt=new Array(mt>2?mt-2:0),bt=2;bt<mt;bt++)Mt[bt-2]=arguments[bt];pt=ot.options.overloadTranslationOptionHandler([ct,lt].concat(Mt))}else pt={...lt};pt.lng=pt.lng||it.lng,pt.lngs=pt.lngs||it.lngs,pt.ns=pt.ns||it.ns,pt.keyPrefix=pt.keyPrefix||rt||it.keyPrefix;const At=ot.options.keySeparator||".";let wt;return pt.keyPrefix&&Array.isArray(ct)?wt=ct.map(Tt=>`${pt.keyPrefix}${At}${Tt}`):wt=pt.keyPrefix?`${pt.keyPrefix}${At}${ct}`:ct,ot.t(wt,pt)};return typeof et=="string"?it.lng=et:it.lngs=et,it.ns=nt,it.keyPrefix=rt,it}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(et){this.options.defaultNS=et}hasLoadedNamespace(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const rt=nt.lng||this.resolvedLanguage||this.languages[0],ot=this.options?this.options.fallbackLng:!1,it=this.languages[this.languages.length-1];if(rt.toLowerCase()==="cimode")return!0;const ct=(lt,pt)=>{const mt=this.services.backendConnector.state[`${lt}|${pt}`];return mt===-1||mt===2};if(nt.precheck){const lt=nt.precheck(this,ct);if(lt!==void 0)return lt}return!!(this.hasResourceBundle(rt,et)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||ct(rt,et)&&(!ot||ct(it,et)))}loadNamespaces(et,nt){const rt=defer();return this.options.ns?(typeof et=="string"&&(et=[et]),et.forEach(ot=>{this.options.ns.indexOf(ot)<0&&this.options.ns.push(ot)}),this.loadResources(ot=>{rt.resolve(),nt&&nt(ot)}),rt):(nt&&nt(),Promise.resolve())}loadLanguages(et,nt){const rt=defer();typeof et=="string"&&(et=[et]);const ot=this.options.preload||[],it=et.filter(ct=>ot.indexOf(ct)<0&&this.services.languageUtils.isSupportedCode(ct));return it.length?(this.options.preload=ot.concat(it),this.loadResources(ct=>{rt.resolve(),nt&&nt(ct)}),rt):(nt&&nt(),Promise.resolve())}dir(et){if(et||(et=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!et)return"rtl";const nt=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],rt=this.services&&this.services.languageUtils||new LanguageUtil(get$1());return nt.indexOf(rt.getLanguagePartFromCode(et))>-1||et.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=arguments.length>1?arguments[1]:void 0;return new I18n(et,nt)}cloneInstance(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$6;const rt=et.forkResourceStore;rt&&delete et.forkResourceStore;const ot={...this.options,...et,isClone:!0},it=new I18n(ot);return(et.debug!==void 0||et.prefix!==void 0)&&(it.logger=it.logger.clone(et)),["store","services","language"].forEach(lt=>{it[lt]=this[lt]}),it.services={...this.services},it.services.utils={hasLoadedNamespace:it.hasLoadedNamespace.bind(it)},rt&&(it.store=new ResourceStore(this.store.data,ot),it.services.resourceStore=it.store),it.translator=new Translator(it.services,ot),it.translator.on("*",function(lt){for(var pt=arguments.length,mt=new Array(pt>1?pt-1:0),Mt=1;Mt<pt;Mt++)mt[Mt-1]=arguments[Mt];it.emit(lt,...mt)}),it.init(ot,nt),it.translator.options=ot,it.translator.backendConnector.services.utils={hasLoadedNamespace:it.hasLoadedNamespace.bind(it)},it}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance$1=I18n.createInstance();instance$1.createInstance=I18n.createInstance;instance$1.createInstance;instance$1.dir;instance$1.init;instance$1.loadResources;instance$1.reloadResources;instance$1.use;instance$1.changeLanguage;instance$1.getFixedT;instance$1.t;instance$1.exists;instance$1.setDefaultNamespace;instance$1.hasLoadedNamespace;instance$1.loadNamespaces;instance$1.loadLanguages;function warn(){if(console&&console.warn){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];typeof et[0]=="string"&&(et[0]=`react-i18next:: ${et[0]}`),console.warn(...et)}}const alreadyWarned={};function warnOnce(){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];typeof et[0]=="string"&&alreadyWarned[et[0]]||(typeof et[0]=="string"&&(alreadyWarned[et[0]]=new Date),warn(...et))}const loadedClb=(_e,et)=>()=>{if(_e.isInitialized)et();else{const nt=()=>{setTimeout(()=>{_e.off("initialized",nt)},0),et()};_e.on("initialized",nt)}};function loadNamespaces(_e,et,nt){_e.loadNamespaces(et,loadedClb(_e,nt))}function loadLanguages(_e,et,nt,rt){typeof nt=="string"&&(nt=[nt]),nt.forEach(ot=>{_e.options.ns.indexOf(ot)<0&&_e.options.ns.push(ot)}),_e.loadLanguages(et,loadedClb(_e,rt))}function oldI18nextHasLoadedNamespace(_e,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const rt=et.languages[0],ot=et.options?et.options.fallbackLng:!1,it=et.languages[et.languages.length-1];if(rt.toLowerCase()==="cimode")return!0;const ct=(lt,pt)=>{const mt=et.services.backendConnector.state[`${lt}|${pt}`];return mt===-1||mt===2};return nt.bindI18n&&nt.bindI18n.indexOf("languageChanging")>-1&&et.services.backendConnector.backend&&et.isLanguageChangingTo&&!ct(et.isLanguageChangingTo,_e)?!1:!!(et.hasResourceBundle(rt,_e)||!et.services.backendConnector.backend||et.options.resources&&!et.options.partialBundledLanguages||ct(rt,_e)&&(!ot||ct(it,_e)))}function hasLoadedNamespace(_e,et){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!et.languages||!et.languages.length?(warnOnce("i18n.languages were undefined or empty",et.languages),!0):et.options.ignoreJSONStructure!==void 0?et.hasLoadedNamespace(_e,{lng:nt.lng,precheck:(ot,it)=>{if(nt.bindI18n&&nt.bindI18n.indexOf("languageChanging")>-1&&ot.services.backendConnector.backend&&ot.isLanguageChangingTo&&!it(ot.isLanguageChangingTo,_e))return!1}}):oldI18nextHasLoadedNamespace(_e,et,nt)}const matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=_e=>htmlEntities[_e],unescape$1=_e=>_e.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions$2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};function setDefaults(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions$2={...defaultOptions$2,..._e}}function getDefaults$1(){return defaultOptions$2}let i18nInstance;function setI18n(_e){i18nInstance=_e}function getI18n(){return i18nInstance}const initReactI18next={type:"3rdParty",init(_e){setDefaults(_e.options.react),setI18n(_e)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(et){et.forEach(nt=>{this.usedNamespaces[nt]||(this.usedNamespaces[nt]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious$1=(_e,et)=>{const nt=reactExports.useRef();return reactExports.useEffect(()=>{nt.current=_e},[_e,et]),nt.current};function alwaysNewT(_e,et,nt,rt){return _e.getFixedT(et,nt,rt)}function useMemoizedT(_e,et,nt,rt){return reactExports.useCallback(alwaysNewT(_e,et,nt,rt),[_e,et,nt,rt])}function useTranslation(_e){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:nt}=et,{i18n:rt,defaultNS:ot}=reactExports.useContext(I18nContext)||{},it=nt||rt||getI18n();if(it&&!it.reportNamespaces&&(it.reportNamespaces=new ReportNamespaces),!it){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const Ht=(_n,hn)=>typeof hn=="string"?hn:hn&&typeof hn=="object"&&typeof hn.defaultValue=="string"?hn.defaultValue:Array.isArray(_n)?_n[_n.length-1]:_n,Qt=[Ht,{},!1];return Qt.t=Ht,Qt.i18n={},Qt.ready=!1,Qt}it.options.react&&it.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const ct={...getDefaults$1(),...it.options.react,...et},{useSuspense:lt,keyPrefix:pt}=ct;let mt=ot||it.options&&it.options.defaultNS;mt=typeof mt=="string"?[mt]:mt||["translation"],it.reportNamespaces.addUsedNamespaces&&it.reportNamespaces.addUsedNamespaces(mt);const Mt=(it.isInitialized||it.initializedStoreOnce)&&mt.every(Ht=>hasLoadedNamespace(Ht,it,ct)),bt=useMemoizedT(it,et.lng||null,ct.nsMode==="fallback"?mt:mt[0],pt),At=()=>bt,wt=()=>alwaysNewT(it,et.lng||null,ct.nsMode==="fallback"?mt:mt[0],pt),[Tt,Rt]=reactExports.useState(At);let Bt=mt.join();et.lng&&(Bt=`${et.lng}${Bt}`);const Vt=usePrevious$1(Bt),$t=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:Ht,bindI18nStore:Qt}=ct;$t.current=!0,!Mt&&!lt&&(et.lng?loadLanguages(it,et.lng,mt,()=>{$t.current&&Rt(wt)}):loadNamespaces(it,mt,()=>{$t.current&&Rt(wt)})),Mt&&Vt&&Vt!==Bt&&$t.current&&Rt(wt);function _n(){$t.current&&Rt(wt)}return Ht&&it&&it.on(Ht,_n),Qt&&it&&it.store.on(Qt,_n),()=>{$t.current=!1,Ht&&it&&Ht.split(" ").forEach(hn=>it.off(hn,_n)),Qt&&it&&Qt.split(" ").forEach(hn=>it.store.off(hn,_n))}},[it,Bt]),reactExports.useEffect(()=>{$t.current&&Mt&&Rt(At)},[it,pt,Mt]);const Ft=[Tt,it,Mt];if(Ft.t=Tt,Ft.i18n=it,Ft.ready=Mt,Mt||!Mt&&!lt)return Ft;throw new Promise(Ht=>{et.lng?loadLanguages(it,et.lng,mt,()=>Ht()):loadNamespaces(it,mt,()=>Ht())})}const{slice:slice$1,forEach:forEach$1}=[];function defaults$1(_e){return forEach$1.call(slice$1.call(arguments,1),et=>{if(et)for(const nt in et)_e[nt]===void 0&&(_e[nt]=et[nt])}),_e}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=(_e,et,nt)=>{const rt=nt||{};rt.path=rt.path||"/";const ot=encodeURIComponent(et);let it=`${_e}=${ot}`;if(rt.maxAge>0){const ct=rt.maxAge-0;if(Number.isNaN(ct))throw new Error("maxAge should be a Number");it+=`; Max-Age=${Math.floor(ct)}`}if(rt.domain){if(!fieldContentRegExp.test(rt.domain))throw new TypeError("option domain is invalid");it+=`; Domain=${rt.domain}`}if(rt.path){if(!fieldContentRegExp.test(rt.path))throw new TypeError("option path is invalid");it+=`; Path=${rt.path}`}if(rt.expires){if(typeof rt.expires.toUTCString!="function")throw new TypeError("option expires is invalid");it+=`; Expires=${rt.expires.toUTCString()}`}if(rt.httpOnly&&(it+="; HttpOnly"),rt.secure&&(it+="; Secure"),rt.sameSite)switch(typeof rt.sameSite=="string"?rt.sameSite.toLowerCase():rt.sameSite){case!0:it+="; SameSite=Strict";break;case"lax":it+="; SameSite=Lax";break;case"strict":it+="; SameSite=Strict";break;case"none":it+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return it},cookie={create(_e,et,nt,rt){let ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};nt&&(ot.expires=new Date,ot.expires.setTime(ot.expires.getTime()+nt*60*1e3)),rt&&(ot.domain=rt),document.cookie=serializeCookie(_e,encodeURIComponent(et),ot)},read(_e){const et=`${_e}=`,nt=document.cookie.split(";");for(let rt=0;rt<nt.length;rt++){let ot=nt[rt];for(;ot.charAt(0)===" ";)ot=ot.substring(1,ot.length);if(ot.indexOf(et)===0)return ot.substring(et.length,ot.length)}return null},remove(_e){this.create(_e,"",-1)}};var cookie$1={name:"cookie",lookup(_e){let{lookupCookie:et}=_e;if(et&&typeof document<"u")return cookie.read(et)||void 0},cacheUserLanguage(_e,et){let{lookupCookie:nt,cookieMinutes:rt,cookieDomain:ot,cookieOptions:it}=et;nt&&typeof document<"u"&&cookie.create(nt,_e,rt,ot,it)}},querystring={name:"querystring",lookup(_e){var rt;let{lookupQuerystring:et}=_e,nt;if(typeof window<"u"){let{search:ot}=window.location;!window.location.search&&((rt=window.location.hash)==null?void 0:rt.indexOf("?"))>-1&&(ot=window.location.hash.substring(window.location.hash.indexOf("?")));const ct=ot.substring(1).split("&");for(let lt=0;lt<ct.length;lt++){const pt=ct[lt].indexOf("=");pt>0&&ct[lt].substring(0,pt)===et&&(nt=ct[lt].substring(pt+1))}}return nt}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;const _e="i18next.translate.boo";window.localStorage.setItem(_e,"foo"),window.localStorage.removeItem(_e)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(_e){let{lookupLocalStorage:et}=_e;if(et&&localStorageAvailable())return window.localStorage.getItem(et)||void 0},cacheUserLanguage(_e,et){let{lookupLocalStorage:nt}=et;nt&&localStorageAvailable()&&window.localStorage.setItem(nt,_e)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;const _e="i18next.translate.boo";window.sessionStorage.setItem(_e,"foo"),window.sessionStorage.removeItem(_e)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(_e){let{lookupSessionStorage:et}=_e;if(et&&sessionStorageAvailable())return window.sessionStorage.getItem(et)||void 0},cacheUserLanguage(_e,et){let{lookupSessionStorage:nt}=et;nt&&sessionStorageAvailable()&&window.sessionStorage.setItem(nt,_e)}},navigator$1={name:"navigator",lookup(_e){const et=[];if(typeof navigator<"u"){const{languages:nt,userLanguage:rt,language:ot}=navigator;if(nt)for(let it=0;it<nt.length;it++)et.push(nt[it]);rt&&et.push(rt),ot&&et.push(ot)}return et.length>0?et:void 0}},htmlTag={name:"htmlTag",lookup(_e){let{htmlTag:et}=_e,nt;const rt=et||(typeof document<"u"?document.documentElement:null);return rt&&typeof rt.getAttribute=="function"&&(nt=rt.getAttribute("lang")),nt}},path={name:"path",lookup(_e){var ot;let{lookupFromPathIndex:et}=_e;if(typeof window>"u")return;const nt=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(nt)?(ot=nt[typeof et=="number"?et:0])==null?void 0:ot.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(_e){var ot,it;let{lookupFromSubdomainIndex:et}=_e;const nt=typeof et=="number"?et+1:1,rt=typeof window<"u"&&((it=(ot=window.location)==null?void 0:ot.hostname)==null?void 0:it.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(rt)return rt[nt]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:_e=>_e}}class Browser{constructor(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(et,nt)}init(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=et||{languageUtils:{}},this.options=defaults$1(nt,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=ot=>ot.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=rt,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector(et){return this.detectors[et.name]=et,this}detect(et){et||(et=this.options.order);let nt=[];return et.forEach(rt=>{if(this.detectors[rt]){let ot=this.detectors[rt].lookup(this.options);ot&&typeof ot=="string"&&(ot=[ot]),ot&&(nt=nt.concat(ot))}}),nt=nt.map(rt=>this.options.convertDetectedLanguage(rt)),this.services.languageUtils.getBestMatchFromCodes?nt:nt.length>0?nt[0]:null}cacheUserLanguage(et,nt){nt||(nt=this.options.caches),nt&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(et)>-1||nt.forEach(rt=>{this.detectors[rt]&&this.detectors[rt].cacheUserLanguage(et,this.options)}))}}Browser.type="languageDetector";/*! js-cookie v3.0.5 | MIT */function assign$1(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)_e[rt]=nt[rt]}return _e}var defaultConverter={read:function(_e){return _e[0]==='"'&&(_e=_e.slice(1,-1)),_e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(_e){return encodeURIComponent(_e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(_e,et){function nt(ot,it,ct){if(!(typeof document>"u")){ct=assign$1({},et,ct),typeof ct.expires=="number"&&(ct.expires=new Date(Date.now()+ct.expires*864e5)),ct.expires&&(ct.expires=ct.expires.toUTCString()),ot=encodeURIComponent(ot).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var lt="";for(var pt in ct)ct[pt]&&(lt+="; "+pt,ct[pt]!==!0&&(lt+="="+ct[pt].split(";")[0]));return document.cookie=ot+"="+_e.write(it,ot)+lt}}function rt(ot){if(!(typeof document>"u"||arguments.length&&!ot)){for(var it=document.cookie?document.cookie.split("; "):[],ct={},lt=0;lt<it.length;lt++){var pt=it[lt].split("="),mt=pt.slice(1).join("=");try{var Mt=decodeURIComponent(pt[0]);if(ct[Mt]=_e.read(mt,Mt),ot===Mt)break}catch{}}return ot?ct[ot]:ct}}return Object.create({set:nt,get:rt,remove:function(ot,it){nt(ot,"",assign$1({},it,{expires:-1}))},withAttributes:function(ot){return init(this.converter,assign$1({},this.attributes,ot))},withConverter:function(ot){return init(assign$1({},this.converter,ot),this.attributes)}},{attributes:{value:Object.freeze(et)},converter:{value:Object.freeze(_e)}})}var api=init(defaultConverter,{path:"/"});const common$1={continue:"Yes, Continue",void:"MOD VOID",voidDesc:"<p>We apologize, the MOD you attempted to add has been declared VOID or does not meet the standards due to independent modification.</br></br>Please contact our Customer Service if you have any questions.</p>",notRegistered:"Email not registered",notRegisteredDesc:"Sorry, the email address you entered is not registered in our system.",back:"Back",send:"Send",cancel:"Cancel",changeLanguage:"Change Language",changeLanguageDesc:"Are you sure you want to switch to English?",confirmBack:"Are you sure you want to go back?",welcome:"Welcome",welcomeDesc:"You can now enjoy our services",goToHome:"Go to Home",register:"Register",save:"Save",password:"Password",tryAgain:"Try Again",notRegister:"Don't have an account?",registerNow:"Register Now?",optional:"Optional",upload:"Upload Photo",reupload:"Reupload",modNotFound:"MOD is not available in our system",modNotFoundDesc:"<p>The MOD you tried to add is not available in our system<br />Please contact our Customer Service via: <br /><a href='https: //wa.me/+14695455746' rel='noreferrer' target='_blank' style={{ fontWeight: 'bold', color: 'blue' }}>+1 (469) 545-5746</a></p>",modRegistered:"MOD is already registered with another account",modRegisteredDesc:"<p>The MOD you tried to add is already registered with another account<br />Please contact our Customer Service via: <br /><a href='https: //wa.me/+14695455746' rel='noreferrer' target='_blank' style={{ fontWeight: 'bold', color: 'blue' }}>+1 (469) 545-5746</a></p>",modOwned:"MOD is already registered under your account",modOwnedDesc:"<p>The MOD you are trying to add is already registered under your account.</p>",tryAnotherEmail:"Try Another Email",emailRegistered:"Email is already registered",emailRegisteredDesc:"The email you entered is already registered. Please try another email.",newMessage:"New Message",giveFeedback:"Give Feedback",logout:"Logout",addPhoto:"Add Photo",uploadPhoto:"Upload Photo",uploadVideo:"Upload Video",fileTooBig:"File too large",fileNotSupported:"Format not supported"},login$5={title:"Login",desc:"Enter your email and password to continue",forgot:"Forgot Password?",foundMod:"Found a MOD?",report:"Report",wrongPasswordTitle:"Incorrect Password",wrongPasswordDesc:'The password you entered does not match our records. Check your capitalization and make sure CAPS LOCK is off. Click "Forgot Password" if you need to reset your password.',blocked:"Your account is blocked",blockedDesc:"Sorry, your account is blocked in our system."},forgotPassword$8={title:"Forgot Password",desc:"We will send an email to help you get back to your account",send:"Send Email",successTitle:"Password Reset Email Sent",successDesc:"Please check your email to reset your password."},foundMod$1={title:"MOD Found Report",desc:"Thank you for helping the owner find their MOD",fullName:"Finder's Full Name",phoneNumber:"Finder's Phone Number",note:"Note",send:"Send Report",successTitle:"Thank you for reporting the found MOD",successDesc:"Your report has been successfully submitted and is being processed by our team. We will notify you if the MOD's owner is identified.",uploadNotes:"Ensure the MOD information is visible to facilitate verification",imageRequired:"MOD photo is required"},register$2={title:"Register",desc:"Please use an active email that hasn't been registered before and a reachable phone number.",fullName:"Full Name",phoneNumber:"Phone Number",birthDate:"Birth Date",city:"City",province:"State/Region",country:"Country",zipCode:"Zip Code",address:"Full Address",password:"Password",confirmPassword:"Confirm Password",note:"Note",send:"Send Report",alreadyRegistered:"Already have an account?",loginNow:"Login Now"},verifyEmail$1={title:"Verify Email",otpSent:"We have sent a verification code to your email",checkSpam:"Please check your inbox or spam folder",resendOtpIn:"Resend in",notRecievedOtp:"Didn't receive an email?",resendOtp:"Resend"},resetPassword$1={title:"Reset Password",desc:"Create your new password",successTitle:"Your Password Has Been Updated Successfully",successDesc:"Please login again"},bottomSheet$1={home:"Home",mod:"Mod",store:"Store",ticket:"Ticket",profile:"Profile"},home$1={claim:"Warranty Claim",lost:"Lost Report",latestActivities:"Latest Activities",noActivities:"No activities yet",claim2:"Warranty<br />Claim",lost2:"Lost<br />Report",alertProfileTitle:"Your profile is incomplete",alertProfileButtonTitle:"Complete Profile",alertAddressTitle:"Your address is incomplete",alertAddressButtonTitle:"Complete Address"},profile$3={addressList:"Address List",helpCenter:"Help Center",notificationSetting:"Notification Settings",changeProfile:"Edit Profile",editTip:"Please contact the admin through the help center if you would like to change your email or phone number."},upload$1={upload:"Upload Photo",reupload:"Reupload",uploadExtensionError:"Logo file must be in JPG, JPEG, or PNG format",uploadLargeError:"Logo file is too large and must be under 5MB"},address$1={title:"Address List",address:"Address",addAddress:"Add Address",addNewAddress:"Add New Address",editAddress:"Edit Address",deleteAddress:"Delete Address",addressLabel:"Address Label",recipientName:"Recipient Name",fullAddress:"Full Address",phoneNumber:"Phone Number",note:"Note for Courier",noAddress:"No addresses available",deleteSureTitle:"Are you sure you want to delete this address?",mainAddress:"Set as Main Address",chooseAddress:"Choose Address",noteExample:"(e.g., white house number 17 at the end of the alley)"},mod$1={title:"My MOD",desc:"My MOD List",serialNumber:"Serial Number",color:"Color",modType:"Mod Type",deleteModDesc:"Are you sure you want to delete this MOD?",findMod:"Check MOD Availability",claimMod:"Claim MOD Ownership",relatedMod:"Related Products",rejectReason:"Rejection Reason",refill:"Refill",unlink:"Unlink Ownership",uploadNote:"Upload a close-up selfie photo showing your FACE and the SERIAL NUMBER of your HEXOHM clearly, to confirm MOD ownership. Without a clear FACE and SERIAL NUMBER, the claim will be rejected (especially if there are logos like ANARCHIST/HERO57 etc. visible).",uploadExample:"Here is an example of a correct selfie photo",verifyMod:"Verify Your Mod",samplePhoto:"Sample Photo"},store$2={title:"Store",desc:"Product List",noProducts:"No products available"},lostReport$1={title:"Loss Report",newReportDesc:"Create a New Loss Report",reportList:"Report List",updatedAt:"Updated at",foundMod:"Found Mod",newReport:"New Report",isClaimDesc:"Your mod is currently in Active Warranty Claim status",isClaimPendingDesc:"Your ownership claim for the mod is still under review",isLostDesc:"Your mod is currently in Active Loss Report status",isClaim:"In Claim",isLost:"In Loss Report",isActive:"Active",isPending:"Under Review by Admin",chooseMod:"Choose your Mod",lostDate:"Date of Loss",lostPlace:"Place of Loss",chronological:"Chronological of Loss",succesTitle:"Thank you for submitting your MOD loss report",successDesc:"Your report has been successfully submitted and is being processed by our team. We will notify you if the MOD's whereabouts are identified.",failed:"Request Failed!",detailTitle:"Loss Report Details",finishReport:"Complete the report",updatedDate:"Updated Date",sure:"Are you sure?",sureTitle:"Are you sure you want to delete your loss report?",sureDesc:"You cannot reactivate the loss report status if the report has been deleted."},nfc$1={guaranteedSparepart:"Guaranteed Spare Part",continue:"Continue to the application",stillValid:"Still Valid",expired:"Expired",owner:"Owner"},ticketDiscussion$1={title:"Ticket Discussion",noMessage:"No Messages Yet",attachmentTitle:"Attach Photo/Video"},chatHelp$1={title:"Help Center",endChat:"End Chat",noMessage:"No Messages Yet",writeHere:"Type here...",sureTitle:"Are you sure you want to end this conversation?",isContinueTitle:"Do you still want to continue the previous conversation?",no:"No, Start a New Message",end:"End Chat"},ticket$1={title:"Warranty Claim",list:"Ticket List",addTicket:"Create Ticket",addTicketDesc:"Create Warranty Claim Ticket",claimTypes:"Claim Types",underconstructor:"The warranty claim feature is under development and will be available to you soon. Currently, the warranty claim feature is only available for those invited to upgrade NFC for free. Stay tuned for further updates.",addUc:"For now, warranty claims can only be made through "},notification$1={title:"Notification",markAllAsRead:"Mark all as read",notificationEmpty:"No notifications",invitation:"NFC Upgrade Invitation",announcement:"Announcement!!!",helpCenter:"Help Center"},ticketDetail$1={title:"Ticket Details",ticketCode:"Ticket Code",createdAt:"Created Date",updatedAt:"Updated Date",rejectReason:"Reject Reason",note:"Note",spareparts:"Used Spare Parts:",sparepartName:"Spare Part Name",sparepartPrice:"Price",deliveryService:"Delivery Service",otherDeliveryService:"Enter Delivery Service Manually",deliveryDate:"Delivery Date",receiptNumber:"Receipt Number",copied:"Copied Successfully",attachments:"Admin Attachments:",confirmDelivery:"Confirm Delivery",confirmAddSparepart:"Confirm Spare Part Addition",confirmNotAgreeAddSparepartTitle:"Confirm Cancellation",confirmNotAgreeAddSparepart:"Cancel & Return",confirmDone:"Complete Claim",review:"Give Review",confirmPay:"Pay Here",uploadProof:"Upload Payment Proof",confirmUploadProof:"I have made the payment",reuploadProof:"Re-upload Payment Proof",statusHistories:"Status History",discussion:"Discussion",complaintDesc:"Complaint",attachment:"Attachment",confirmDoneTitle:"Are you sure you want to complete this claim?",confirmDoneDesc:"By completing the claim, it means the MOD has been received and is satisfactory",lessHappy:"less satisfied",happy:"satisfied",lessHappyDesc:"Let us know our shortcomings and what we need to improve",happyDesc:"Example: Everything works well again, repairs are neat, mod looks like new",fromAdmin:"From Admin",fromUser:"From User",transferTo:"Transfer to",chooseBank:"Choose Bank",totalAmount:"Transfer Amount",confirm:"Confirm",confirmPayNow:"Pay Now",declinePay:"Decline Payment",confirmReturn:"Cancel & Refund",agreeAddSparepart:"Do you agree to add paid spare parts?",notAgreeAddSparepart:"I want my MOD returned without adding paid spare parts.",agreeAddSparepartYes:"Yes, I agree to the cost of adding paid spare parts",agreeAddSparepartNo:"No, return my MOD",confirmCancelTitle:"Cancel Claim",confirmCancelDesc:"Are you sure you want to cancel the claim?",cancelReason:"Reason for Cancellation"},install$2={buttonTitle:"Install Now",buttonClose:"Close",title:"Install Application",description:"Install the application to your home screen",descriptionIos:"To install this App, follow these steps:",descriptionIos1:"Open Safari (not Chrome or other browsers).",descriptionIos2:"Tap the Share button at the bottom of the screen.",descriptionIos3:'Select "Add to Home Screen."'},updateApp$1={buttonTitle:"Update Now",buttonClose:"Close",title:"Update App",description:"An update is available! Click to update the app."},enJSON={common:common$1,login:login$5,forgotPassword:forgotPassword$8,foundMod:foundMod$1,register:register$2,verifyEmail:verifyEmail$1,resetPassword:resetPassword$1,bottomSheet:bottomSheet$1,home:home$1,profile:profile$3,upload:upload$1,address:address$1,mod:mod$1,store:store$2,lostReport:lostReport$1,nfc:nfc$1,ticketDiscussion:ticketDiscussion$1,chatHelp:chatHelp$1,ticket:ticket$1,notification:notification$1,ticketDetail:ticketDetail$1,install:install$2,updateApp:updateApp$1},common={continue:"Ya, Lanjutkan",void:"MOD telah dinyatakan VOID",voidDesc:"<p>Mohon maaf, MOD yang Anda coba tambahkan dinyatakan VOID atau tidak sesuai standar karena modifikasi mandiri.</br></br>Hubungi Customer Service kami jika ada pertanyaan.</p>",notRegistered:"Email tidak terdaftar",notRegisteredDesc:"Mohon maaf, alamat email yang Anda masukkan belum terdaftar di sistem kami.",back:"Kembali",send:"Kirim",cancel:"Batalkan",changeLanguage:"Ubah Bahasa",changeLanguageDesc:"Apakah Anda yakin ingin mengubah ke Bahasa Inggris",confirmBack:"Apakah anda yakin untuk kembali?",welcome:"Selamat Datang",welcomeDesc:"Sekarang anda sudah dapat menikmati layanan kami",goToHome:"Lanjut ke Beranda",register:"Daftar",save:"Simpan",password:"Kata Sandi",tryAgain:"Coba lagi",notRegister:"Belum punya akun?",registerNow:"Daftar Sekarang?",optional:"Jika ada",upload:"Unggah Foto",reupload:"Unggah Ulang",modNotFound:"MOD tidak tersedia di system kami",modNotFoundDesc:"<p>MOD yang anda coba tambahkan tidak tersedia pada system kami<br />Silahkan hubungi Costumer Service kami melalui: <br /><a href='https: //wa.me/+14695455746' rel='noreferrer' target='_blank' style={{ fontWeight: 'bold', color: 'blue' }}>+1 (469) 545-5746</a></p>",modRegistered:"MOD telah terdaftar di akun lain",modRegisteredDesc:"<p>MOD yang anda coba tambahkan telah terdaftar di akun lain<br />Silahkan hubungi Costumer Service kami melalui: <br /><a href='https: //wa.me/+14695455746' rel='noreferrer' target='_blank' style={{ fontWeight: 'bold', color: 'blue' }}>+1 (469) 545-5746</a></p>",modOwned:"MOD telah terdaftar di akun anda",modOwnedDesc:"<p>MOD yang anda coba tambahkan telah terdaftar di akun anda</p>",tryAnotherEmail:"Coba Email Lain",emailRegistered:"Email telah terdaftar",emailRegisteredDesc:"Email yang anda masukan telah terdaftar, silahkan coba email lain",newMessage:"Pesan Baru",giveFeedback:"Beri ulasan",logout:"Keluar",addPhoto:"Tambah Foto",uploadPhoto:"Unggah Foto",uploadVideo:"Unggah Video",fileTooBig:"File terlalu besar",fileNotSupported:"Format tidak mendukung"},login$4={title:"Login",desc:"Masukan email dan kata sandi Anda untuk melanjutkan",forgot:"Lupa Kata Sandi?",foundMod:"Menemukan MOD?",report:"Laporkan",wrongPasswordTitle:"Kata Sandi Anda Salah",wrongPasswordDesc:'Kata sandi yang Anda masukkan tidak sesuai dengan yang terdaftar. Periksa kembali huruf besar/kecil dan pastikan CAPS LOCK tidak aktif. Klik "Lupa kata sandi" jika Anda lupa kata sandi dan perlu mengatur ulang.',blocked:"Akun anda terblokir",blockedDesc:"Mohon maaf, akun anda telah terblokir di sistem kami"},forgotPassword$7={title:"Lupa Kata Sandi",desc:"Kami akan mengirimkan email untuk membantu anda kembali ke akun anda",send:"Kirim Email",successTitle:"Atur Kata Sandi anda telah terkirim",successDesc:"Silahkan periksa email anda untuk mengatur ulang kata sandi"},foundMod={title:"Laporan Temuan MOD",desc:"Terima kasih telah membantu pemilik menemukan MOD miliknya",fullName:"Nama Lengkap Penemu",phoneNumber:"Nomor Handphone Penemu",note:"Catatan",send:"Kirim Laporan",successTitle:"Terima kasih telah membuat laporan temuan MOD",successDesc:"Laporan Anda telah berhasil dikirim dan sedang diproses oleh tim. Kami akan memberitahu Anda apabila pemilik MOD telah teridentifikasi.",uploadNotes:"Pastikan bagian informasi MOD terlihat untuk memudahkan verifikasi",imageRequired:"Foto MOD harus di isi"},register$1={title:"Daftar",desc:"Mohon gunakan email aktif yang belum pernah terdaftar sebelumnya, dan nomor handphone yang bisa dihubungi.",fullName:"Nama Lengkap",phoneNumber:"Nomor Handphone",birthDate:"Tanggal Lahir",city:"Kota/Kabupaten",province:"Provinsi",country:"Negara",zipCode:"Kode Pos",address:"Alamat Lengkap",password:"Kata Sandi",confirmPassword:"Konfirmasi Kata Sandi",note:"Catatan",send:"Kirim Laporan",alreadyRegistered:"Sudah punya akun?",loginNow:"Login Sekarang"},verifyEmail={title:"Verifikasi Email",otpSent:"Kami telah mengirimkan kode verifikasi pada email",checkSpam:"Silahkan periksa pesan masuk atau spam",resendOtpIn:"Kirim ulang dalam",notRecievedOtp:"Belum menerima email?",resendOtp:"Kirim Ulang"},resetPassword={title:"Atur Ulang Kata Sandi",desc:"Buat kata sandi baru Anda",successTitle:"Kata Sandi Anda telah berhasil diperbarui",successDesc:"Silahkan melakukan login kembali"},bottomSheet={home:"Beranda",mod:"Mod",store:"Store",ticket:"Tiket",profile:"Profil"},home={claim:"Klaim Garansi",lost:"Laporan Kehilangan",latestActivities:"Aktifitas Terbaru",noActivities:"Belum ada aktivitas",claim2:"Klaim<br />Garansi",lost2:"Laporan<br />Kehilangan",alertProfileTitle:"Profil anda belum lengkap",alertProfileButtonTitle:"Lengkapi Profil",alertAddressTitle:"Alamat anda belum lengkap",alertAddressButtonTitle:"Lengkapi Alamat"},profile$2={addressList:"Daftar Alamat",helpCenter:"Pusat Bantuan",notificationSetting:"Atur Notifikasi",changeProfile:"Ubah Profil",editTip:"Hubungi Admin melalui pusat bantuan jika Anda ingin mengubah email atau nomor handphone."},upload={upload:"Unggah Foto",reupload:"Unggah Ulang",uploadExtensionError:"File Logo harus dalam berbetuk JPG, JPEG, atau PNG",uploadLargeError:"Ukuran Logo terlalu besar dan harus kurang dari 5MB"},address={title:"Daftar Alamat",address:"Alamat",addAddress:"Tambah Alamat",addNewAddress:"Tambah Alamat",editAddress:"Ubah Alamat",deleteAddress:"Hapus Alamat",addressLabel:"Label Alamat",recipientName:"Nama Penerima",fullAddress:"Alamat Lengkap",phoneNumber:"Nomor Handphone",note:"Catatan Untuk Kurir",noAddress:"Belum ada alamat",deleteSureTitle:"Apakah anda yakin ingin menghapus Alamat ini?",mainAddress:"Jadikan Alamat Utama",chooseAddress:"Pilih Alamat",noteExample:"(contoh: rumah putih nomor 17 di ujung gang)"},mod={title:"MOD Saya",desc:"Daftar MOD Saya",serialNumber:"Nomor Seri",color:"Warna",modType:"Tipe Mod",deleteModDesc:"Apakah anda yakin ingin menghapus MOD ini?",findMod:"Cari Ketersediaan MOD",claimMod:"Klaim Kepemilikan MOD",relatedMod:"Produk Terkait",rejectReason:"Alasan Penolakan",refill:"Input Ulang",unlink:"Lepas Kepemilikan",uploadNote:"Unggah foto selfie close up dengan memperlihatkan WAJAH dan SERIAL NUMBER HEXOHM Anda terbaca dengan jelas, untuk mengkonfirmasi kepemilikan MOD, tanpa WAJAH dan SERIAL NUMBER yang jelas maka Klaim akan ditolak (Khusus yang berlogo (ANARCHIST/HERO57 dll) juga terlihat)",uploadExample:"Berikut contoh foto selfie yang benar",verifyMod:"Verifikasi Mod Anda",samplePhoto:"Contoh Foto"},store$1={title:"Store",desc:"Daftar Produk",noProducts:"Belum ada produk"},lostReport={title:"Laporan Kehilangan",newReportDesc:"Buat Laporan Kehilangan Baru",reportList:"Daftar Laporan",updatedAt:"Diperbarui pada",foundMod:"Temuan Mod",newReport:"Laporan Baru",isClaimDesc:"Mod anda sedang dalam status Klaim Garansi Aktif",isClaimPendingDesc:"Klaim kepemilikan atas MOD anda masih dalam peninjauan",isLostDesc:"Mod anda sedang dalam status Laporan kehilangan Aktif",isClaim:"Sedang Dalam Klaim",isLost:"Sedang Dalam Laporan Kehilangan",isActive:"Aktif",isPending:"Sedang Ditinjau Oleh Admin",chooseMod:"Pilih MOD Anda",lostDate:"Tanggal Kehilangan",lostPlace:"Tempat Kehilangan",chronological:"Kronologis Kehilangan",succesTitle:"Terima kasih telah membuat laporan kehilangan MOD Anda",successDesc:"Laporan Anda telah berhasil dikirim dan sedang diproses oleh tim. Kami akan memberitahu Anda apabila keberadaan MOD telah teridentifikasi.",failed:"Permintaan Gagal!",detailTitle:"Detail Laporan Kehilangan",finishReport:"Selesaikan laporan",updatedDate:"Tanggal Diperbarui",sure:"Yakin",sureTitle:"Yakin ingin menghapus laporan kehilangan anda?",sureDesc:"Anda tidak bisa mengaktifkan kembali status laporan kehilangan apabila laporan telah dihapus."},nfc={guaranteedSparepart:"Sparepart Tergaransi",continue:"Lanjutkan ke aplikasi",stillValid:"Masih Berlaku",expired:"Hangus",owner:"Pemilik"},ticketDiscussion={title:"Diskusi Klaim Garansi",noMessage:"Belum Ada Pesan",attachmentTitle:"Lampirkan Foto/Video"},chatHelp={title:"Pusat Bantuan",endChat:"Akhiri Pesan",noMessage:"Belum Ada Pesan",writeHere:"Ketik disini...",sureTitle:"Apakah anda yakin ingin mengakhiri Percakapan ini?",isContinueTitle:"Apakah Anda masih ingin melanjutkan percakapan sebelumnya?",no:"Tidak, Buat Pesan Baru",end:"Akhiri"},ticket={title:"Klaim Garansi",list:"Daftar Tiket",addTicket:"Buat Tiket",addTicketDesc:"Buat Tiket Klaim Garansi",claimTypes:"Pilih Jenis Klaim",underconstructor:"Fitur klaim garansi sedang dalam pengembangan dan akan segera hadir untuk Anda. Saat ini, fitur klaim garansi hanya tersedia bagi yang terundang terpilih untuk upgrade NFC secara gratis. Pantau terus untuk mendapatkan pembaruan lebih lanjut.",addUc:"Untuk saat ini klaim garansi masih hanya bisa dilakukan melalui "},notification={title:"Notifikasi",markAllAsRead:"Tandai semua sebagai sudah dibaca",notificationEmpty:"Tidak Ada notifikasi",invitation:"Undangan Upgrade NFC",announcement:"Pengumuman!!!",helpCenter:"Pusat Bantuan"},ticketDetail={title:"Detail Tiket",ticketCode:"Kode Tiket",createdAt:"Tanggal Dibuat",updatedAt:"Tanggal Diperbarui",rejectReason:"Alasan Penolakan",note:"Catatan",spareparts:"Sparepart yang digunakan :",sparepartName:"Nama Sparepart",sparepartPrice:"Harga",deliveryService:"Jasa Pengiriman",otherDeliveryService:"Ketik Manual Jasa Pengiriman",deliveryDate:"Tanggal Pengiriman",receiptNumber:"No. Resi",copied:"Berhasil di Salin",attachments:"Lampiran dari admin :",confirmDelivery:"Konfirmasi Pengiriman",confirmAddSparepart:"Konfirmasi Penambahan Sparepart",confirmNotAgreeAddSparepartTitle:"Konfirmasi Pembatalan",confirmNotAgreeAddSparepart:"Batal & Pengembalian",confirmDone:"Selesaikan Klaim",review:"Beri Ulasan",confirmPay:"Bayar Disini",uploadProof:"Unggah Bukti Pembayaran",confirmUploadProof:"Saya sudah bayar",reuploadProof:"Unggah Ulang Bukti Pembayaran",statusHistories:"Riwayat Status",discussion:"Diskusi",complaintDesc:"Keluhan",attachment:"Lampiran",confirmDoneTitle:"Apakah anda yakin ingin menyelesaikan klaim ini?",confirmDoneDesc:"Dengan menyelesaikan klaim, berarti MOD telah diterima dan telah sesuai",lessHappy:"kurang puas",happy:"puas",lessHappyDesc:"Beri tahu kekurangan kami dan apa yang perlu kami tingkatkan",happyDesc:"Contoh: Semua berfungsi kembali dengan baik, perbaikan rapih, mod terlihat seperti baru",fromAdmin:"Dari Admin",fromUser:"Dari Pengguna",transferTo:"Transfer ke",chooseBank:"Pilih Bank",totalAmount:"Jumlah Transfer",confirm:"Konfirmasi",confirmPayNow:"Bayar Sekarang",declinePay:"Tolak Bayar",confirmReturn:"Batal & Pengembalian",agreeAddSparepart:"Saya menyetujui biaya penambahan sparepart berbayar",notAgreeAddSparepart:"Saya ingin MOD saya dikembalikan tanpa menambahkan sparepart berbayar.",agreeAddSparepartYes:"Ya, saya menyetujui biaya penambahan sparepart berbayar",agreeAddSparepartNo:"Tidak, kembalikan MOD Saya",confirmCancelTitle:"Batalkan Klaim",confirmCancelDesc:"Apakah Anda yakin ingin membatalkan klaim?",cancelReason:"Alasan Pembatalan"},install$1={buttonTitle:"Install",buttonClose:"Tutup",title:"Instal Aplikasi",description:"Instal aplikasi ke halaman utama Anda",descriptionIos:"Untuk menginstal aplikasi ini, ikuti langkah-langkah berikut:",descriptionIos1:"Buka Safari (bukan Chrome atau browser lainnya).",descriptionIos2:"Ketuk tombol Bagikan di bagian bawah layar.",descriptionIos3:'Pilih "Tambahkan ke Layar Utama."'},updateApp={buttonTitle:"Perbarui",buttonClose:"Tutup",title:"Perbarui Aplikasi",description:"Pembaruan tersedia! Klik untuk memperbarui aplikasi."},idJSON={common,login:login$4,forgotPassword:forgotPassword$7,foundMod,register:register$1,verifyEmail,resetPassword,bottomSheet,home,profile:profile$2,upload,address,mod,store:store$1,lostReport,nfc,ticketDiscussion,chatHelp,ticket,notification,ticketDetail,install:install$1,updateApp};instance$1.use(Browser).use(initReactI18next).init({lng:api.get("locale")||"id",resources:{en:{translation:{...enJSON}},id:{translation:{...idJSON}}},fallbackLng:"en",supportedLngs:["id","en"],interpolation:{escapeValue:!1}});const actionSlice=(_e,et)=>({setStore:_e,setStoreValue:nt=>{_e(()=>nt)},resetUserInfo:()=>_e(nt=>{nt.userInfo=initUserInfo}),setUserInfo:nt=>{_e(rt=>{rt.userInfo={...rt.userInfo,...nt,isLogin:nt.id>0||rt.userInfo.id>0,uid:rt.userInfo.id}})},resetTaskInfo:()=>_e(nt=>{nt.taskInfo=initTaskInfo,nt.timForbiddenMessage="",nt.timBanMessage=""}),resetRoomInfo:()=>_e(nt=>{nt.roomInfo=initRoomInfo}),setSite:nt=>{switch(nt){case Site.pq8:_e(rt=>{rt.theme="#319cfc",rt.siteName=instance$1.t("")});break;case Site.xzb:_e(rt=>{rt.theme="#fffb01",rt.siteName=instance$1.t("")});break;case Site.kqb:_e(rt=>{rt.theme="#319cfc",rt.siteName=instance$1.t("")});break;case Site.kqb2:_e(rt=>{rt.theme="#319cfc",rt.siteName=instance$1.t("")});break;case Site.qutu:_e(rt=>{rt.theme="#319cfc",rt.siteName=instance$1.t("")});break;case Site.kqbIOS:_e(rt=>{rt.theme="#319cfc",rt.siteName=instance$1.t(""),rt.showDownloadApp=!1});break;case Site.pq8sp:_e(rt=>{rt.theme="#319cfc",rt.siteName=instance$1.t(""),rt.showDownloadApp=!1});break;default:_e(rt=>{rt.showDownloadApp=!0});break}_e(()=>({site:nt})),[Site.xzb,Site.kqb,Site.kqb2,Site.qutu,Site.br,Site.kqbIOS,Site.pq8sp].includes(nt)&&_e(rt=>{rt.v2=!0}),et().sp_source||setDataSite(nt),nt===Site.qutu&&_e(rt=>{rt.sp_source="9"}),nt===Site.kqb&&_e(rt=>{rt.sp_source="11"}),nt===Site.kqb2&&_e(rt=>{rt.sp_source="12"}),nt===Site.kqbIOS&&_e(rt=>{rt.sp_source="6"}),nt===Site.pq8sp&&_e(rt=>{rt.sp_source="25"})},setSpSource:nt=>{_e(()=>({sp_source:nt||""}));let rt="",ot="";switch(nt){case"1":rt="kq8",ot=instance$1.t("");break;case"2":rt="kuzb",ot=instance$1.t("");break;case"3":rt="kzb",ot=instance$1.t("");break;case"4":rt="kqtu",ot=instance$1.t("");break;case"5":case"6":rt="xzb",ot=instance$1.t("");break;case"7":rt="kqb",ot=instance$1.t("");break;case"8":rt="kq8js",ot=instance$1.t("");break;case"9":rt="qutu",ot=instance$1.t("");break;case"10":rt="qmtu",ot=instance$1.t("");break;case"11":case"12":rt="kqb",ot="";break;case"25":rt="pq8sp",ot="";break;default:rt="pq8",ot=instance$1.t("");break}nt&&(_e(()=>({sp:rt,sp_name:ot})),setDataSite(rt),setDataSp(nt))},setMode:nt=>{const rt=nt==="dark"?"dark":"light";switch(et().site){case Site.xzb:_e(()=>({theme:rt==="dark"?"#fffb01":"#e8c049"}));break}_e(()=>({mode:rt}))},setGoods:nt=>{_e(rt=>{rt.goods={total:nt.total,list:nt.page>1?rt.goods.list.concat(nt.list):nt.list}})},setOrders:nt=>{_e(rt=>{rt.orders={total:nt.total,list:nt.page>1?rt.orders.list.concat(nt.list):nt.list}})},resetGoods:()=>_e(nt=>{nt.goods=initGoods}),setBaseDict:nt=>{_e(rt=>{rt.baseDict={...nt,sports_type:{...nt.sports_type,data:nt.sports_type.data.map(ot=>({...ot,sportId:Number(ot.code)}))}}})},setTaskInfo:nt=>{_e(rt=>{rt.taskInfo={...nt,checkText:nt.checkin===1?instance$1.t(""):instance$1.t("")}})},resetCheckinResult:()=>{_e(nt=>{nt.checkinResult=initCheckinResult})},setVisitedLeague:nt=>{const{id:rt,name:ot,logo:it,sportsType:ct}=nt;_e(lt=>{const pt=[...lt.visitedLeagues].filter(mt=>!(mt.id===rt&&mt.sportsType===ct));lt.visitedLeagues=[{id:rt,name:ot,logo:it,sportsType:ct}].concat(pt).slice(0,15)})},addRequest:nt=>{_e(rt=>{rt.requests=[...et().requests,nt]})},removeRequest:nt=>{_e(rt=>{rt.requests=et().requests.filter(ot=>ot.url!==nt)})},reset:()=>_e(initState)});var define_import_meta_env_default$2={VITE_REACT_APP_BASE_API:"https://ruangbola.live",BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const useMainStore=create()(persist(immer((_e,et)=>({...initState,...actionSlice(_e,et)})),{name:`${define_import_meta_env_default$2.VITE_APP_SITE}_store`}));dayjs.extend(duration$1);const parseSearch=_e=>{_e.indexOf("?")>=0&&(_e=_e.split("?")[1]);const et=_e.split("&"),nt={};for(let rt=0,ot=et.length;rt<ot;rt++){const it=et[rt].split("=");nt[it[0]]=it[1]}return nt},getMatchStatusByScore=({status:_e,sport_id:et})=>{switch(et){case SportId.football:return{inPlay:_$2.includes(_$2.range(2,8),_e),finished:_e===8,waiting:_e===1,stage:footballMatchStatusList[_e]};case SportId.basketball:return{inPlay:_$2.includes(_$2.range(2,10),_e),finished:_e===10,waiting:_e===1,stage:basketballMatchStatusList[_e]};case SportId.badminton:return{inPlay:_$2.includes(_$2.range(2,10),_e),finished:_e===0,waiting:_e===4,stage:basketballMatchStatusList[_e]};default:return{}}},delay$1=(_e,et=!0)=>new Promise((nt,rt)=>{et||rt(),setTimeout(()=>{nt()},_e)}),pathTo=_e=>{typeof window>"u"||(window.location.href=window.location.href.indexOf("/m/")>-1?`/m/${_$2.trimStart(_e,"/")}`:_e)},getDuration=_e=>dayjs.duration(_e),parseMatch=_e=>{const et=_$2.get(_e,"matchevent",{});if(!et)return null;const nt=et.logo,rt=et.short_name_zh??et.name_zh,ot=useMainStore.getState().lang==="cn",it=useMainStore.getState().lang==="pt",ct=it?"DD-MM-YY":"YYYY-MM-DD",lt=it?"DD/MM":"MM-DD",pt=dayjs(_e.time*1e3),mt=pt.format("HH:mm"),Mt=pt.format(ct),bt=pt.format(lt),At=pt.format("MMDD"),wt=instance$1.t(`${dayZh[pt.get("day")]}`),Tt=instance$1.t(`${dayZh[pt.get("day")]}`),Rt=Mt+" "+wt,Bt=_$2.get(_e,"hometeam",{}),Vt=_$2.get(_e,"awayteam",{}),$t=ot?Bt.short_name_zh||Bt.name_zh:Bt.short_name_en||Bt.name_en,Ft=ot?Vt.short_name_zh||Vt.name_zh:Vt.short_name_en||Vt.name_en,Ht=Bt.logo,Qt=Vt.logo,_n=Bt.country_logo,hn=Vt.country_logo,Mn=getMatchStatusByScore(_e),kn=Mn.waiting?pt.diff(dayjs(),"minute"):0;return{..._e,shortTime:mt,date:Mt,shortDate:bt,shortDateZh:At,dayOfWeek:wt,dayOfWeek2:Tt,dateWithDayOfWeek:Rt,homeTeamName:$t,awayTeamName:Ft,homeTeamLogo:Ht,awayTeamLogo:Qt,homeCountryFlag:_n,awayCountryFlag:hn,eventLogo:nt,eventName:rt,...Mn,playTime:getPlayTime(_e),liveInPlay:_e.live&&Mn.inPlay,attented:_e.attented||0,waitingMinutes:kn,liveIn30Minutes:kn>0&&kn<=30}},showPlayTime=_e=>{if(_e.sport_id===SportId.basketball)return[2,4,6,8,9].indexOf(_e.status)>-1&&_e.period_remaining_time>0;if(_e.sport_id===SportId.badminton)return _e.period_remaining_time>0;if(_e.sport_id===SportId.football)return _e.sport_id===SportId.football&&[2,3,4,5,7].indexOf(_e.status)>-1&&_e.time>0},getPlayTime=_e=>{let et="";const nt=showPlayTime(_e);if(_e.sport_id===SportId.basketball&&nt&&(et=getDuration(_e.period_remaining_time*1e3).format("mm:ss")),_e.sport_id===SportId.badminton&&nt&&(et=getDuration(_e.period_remaining_time*1e3).format("mm:ss")),_e.sport_id===SportId.football&&nt){const rt=dayjs().diff(dayjs(_e.time*1e3),"minute");switch(_e.status){case 2:et=rt;break;case 3:et="45";break;case 4:const ot=Number(rt)-15;et=ot>90?"90+":ot;break;default:et="90+";break}}return et},setDataSite=_e=>{const et=document.getElementsByTagName("body")[0];et&&(et.dataset.site=_e)},setDataSp=_e=>{const et=document.getElementsByTagName("body")[0];et&&(et.dataset.sp=`sp${_e}`)},toRem=_e=>`${_e/37.5}rem`,checkG8PMdomain=_e=>{let et=!1;for(const nt of _e)if(window.location.host.includes(nt)){et=!0;break}return et},promptLogin=async _e=>{useMainStore.getState().lang;try{await Dialog.confirm({title:instance$1.t("Belum Login"),message:"Silakan Login untuk menggunakan fitur lengkap",confirmButtonText:instance$1.t("Masuk"),cancelButtonText:instance$1.t("Batal"),onConfirm:()=>{setItem("backurl",window.location.pathname+window.location.search),pathTo("/login")},onCancel:()=>{}})}catch{}};var index_min={},md5={exports:{}};function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(_e,et){(function(nt,rt){_e.exports=rt()})(commonjsGlobal$1,function(){var nt=nt||function(rt,ot){var it;if(typeof window<"u"&&window.crypto&&(it=window.crypto),typeof self<"u"&&self.crypto&&(it=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(it=globalThis.crypto),!it&&typeof window<"u"&&window.msCrypto&&(it=window.msCrypto),!it&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(it=commonjsGlobal$1.crypto),!it&&typeof commonjsRequire=="function")try{it=require$$0}catch{}var ct=function(){if(it){if(typeof it.getRandomValues=="function")try{return it.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof it.randomBytes=="function")try{return it.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},lt=Object.create||function(){function $t(){}return function(Ft){var Ht;return $t.prototype=Ft,Ht=new $t,$t.prototype=null,Ht}}(),pt={},mt=pt.lib={},Mt=mt.Base=function(){return{extend:function($t){var Ft=lt(this);return $t&&Ft.mixIn($t),(!Ft.hasOwnProperty("init")||this.init===Ft.init)&&(Ft.init=function(){Ft.$super.init.apply(this,arguments)}),Ft.init.prototype=Ft,Ft.$super=this,Ft},create:function(){var $t=this.extend();return $t.init.apply($t,arguments),$t},init:function(){},mixIn:function($t){for(var Ft in $t)$t.hasOwnProperty(Ft)&&(this[Ft]=$t[Ft]);$t.hasOwnProperty("toString")&&(this.toString=$t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),bt=mt.WordArray=Mt.extend({init:function($t,Ft){$t=this.words=$t||[],Ft!=ot?this.sigBytes=Ft:this.sigBytes=$t.length*4},toString:function($t){return($t||wt).stringify(this)},concat:function($t){var Ft=this.words,Ht=$t.words,Qt=this.sigBytes,_n=$t.sigBytes;if(this.clamp(),Qt%4)for(var hn=0;hn<_n;hn++){var Mn=Ht[hn>>>2]>>>24-hn%4*8&255;Ft[Qt+hn>>>2]|=Mn<<24-(Qt+hn)%4*8}else for(var kn=0;kn<_n;kn+=4)Ft[Qt+kn>>>2]=Ht[kn>>>2];return this.sigBytes+=_n,this},clamp:function(){var $t=this.words,Ft=this.sigBytes;$t[Ft>>>2]&=4294967295<<32-Ft%4*8,$t.length=rt.ceil(Ft/4)},clone:function(){var $t=Mt.clone.call(this);return $t.words=this.words.slice(0),$t},random:function($t){for(var Ft=[],Ht=0;Ht<$t;Ht+=4)Ft.push(ct());return new bt.init(Ft,$t)}}),At=pt.enc={},wt=At.Hex={stringify:function($t){for(var Ft=$t.words,Ht=$t.sigBytes,Qt=[],_n=0;_n<Ht;_n++){var hn=Ft[_n>>>2]>>>24-_n%4*8&255;Qt.push((hn>>>4).toString(16)),Qt.push((hn&15).toString(16))}return Qt.join("")},parse:function($t){for(var Ft=$t.length,Ht=[],Qt=0;Qt<Ft;Qt+=2)Ht[Qt>>>3]|=parseInt($t.substr(Qt,2),16)<<24-Qt%8*4;return new bt.init(Ht,Ft/2)}},Tt=At.Latin1={stringify:function($t){for(var Ft=$t.words,Ht=$t.sigBytes,Qt=[],_n=0;_n<Ht;_n++){var hn=Ft[_n>>>2]>>>24-_n%4*8&255;Qt.push(String.fromCharCode(hn))}return Qt.join("")},parse:function($t){for(var Ft=$t.length,Ht=[],Qt=0;Qt<Ft;Qt++)Ht[Qt>>>2]|=($t.charCodeAt(Qt)&255)<<24-Qt%4*8;return new bt.init(Ht,Ft)}},Rt=At.Utf8={stringify:function($t){try{return decodeURIComponent(escape(Tt.stringify($t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function($t){return Tt.parse(unescape(encodeURIComponent($t)))}},Bt=mt.BufferedBlockAlgorithm=Mt.extend({reset:function(){this._data=new bt.init,this._nDataBytes=0},_append:function($t){typeof $t=="string"&&($t=Rt.parse($t)),this._data.concat($t),this._nDataBytes+=$t.sigBytes},_process:function($t){var Ft,Ht=this._data,Qt=Ht.words,_n=Ht.sigBytes,hn=this.blockSize,Mn=hn*4,kn=_n/Mn;$t?kn=rt.ceil(kn):kn=rt.max((kn|0)-this._minBufferSize,0);var Cn=kn*hn,yn=rt.min(Cn*4,_n);if(Cn){for(var Ut=0;Ut<Cn;Ut+=hn)this._doProcessBlock(Qt,Ut);Ft=Qt.splice(0,Cn),Ht.sigBytes-=yn}return new bt.init(Ft,yn)},clone:function(){var $t=Mt.clone.call(this);return $t._data=this._data.clone(),$t},_minBufferSize:0});mt.Hasher=Bt.extend({cfg:Mt.extend(),init:function($t){this.cfg=this.cfg.extend($t),this.reset()},reset:function(){Bt.reset.call(this),this._doReset()},update:function($t){return this._append($t),this._process(),this},finalize:function($t){$t&&this._append($t);var Ft=this._doFinalize();return Ft},blockSize:16,_createHelper:function($t){return function(Ft,Ht){return new $t.init(Ht).finalize(Ft)}},_createHmacHelper:function($t){return function(Ft,Ht){return new Vt.HMAC.init($t,Ht).finalize(Ft)}}});var Vt=pt.algo={};return pt}(Math);return nt})}(core)),core.exports}(function(_e,et){(function(nt,rt){_e.exports=rt(requireCore())})(commonjsGlobal$1,function(nt){return function(rt){var ot=nt,it=ot.lib,ct=it.WordArray,lt=it.Hasher,pt=ot.algo,mt=[];(function(){for(var Rt=0;Rt<64;Rt++)mt[Rt]=rt.abs(rt.sin(Rt+1))*4294967296|0})();var Mt=pt.MD5=lt.extend({_doReset:function(){this._hash=new ct.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Rt,Bt){for(var Vt=0;Vt<16;Vt++){var $t=Bt+Vt,Ft=Rt[$t];Rt[$t]=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360}var Ht=this._hash.words,Qt=Rt[Bt+0],_n=Rt[Bt+1],hn=Rt[Bt+2],Mn=Rt[Bt+3],kn=Rt[Bt+4],Cn=Rt[Bt+5],yn=Rt[Bt+6],Ut=Rt[Bt+7],En=Rt[Bt+8],vn=Rt[Bt+9],wn=Rt[Bt+10],Ln=Rt[Bt+11],Kn=Rt[Bt+12],Rn=Rt[Bt+13],Tn=Rt[Bt+14],Un=Rt[Bt+15],$n=Ht[0],Vn=Ht[1],tr=Ht[2],Jn=Ht[3];$n=bt($n,Vn,tr,Jn,Qt,7,mt[0]),Jn=bt(Jn,$n,Vn,tr,_n,12,mt[1]),tr=bt(tr,Jn,$n,Vn,hn,17,mt[2]),Vn=bt(Vn,tr,Jn,$n,Mn,22,mt[3]),$n=bt($n,Vn,tr,Jn,kn,7,mt[4]),Jn=bt(Jn,$n,Vn,tr,Cn,12,mt[5]),tr=bt(tr,Jn,$n,Vn,yn,17,mt[6]),Vn=bt(Vn,tr,Jn,$n,Ut,22,mt[7]),$n=bt($n,Vn,tr,Jn,En,7,mt[8]),Jn=bt(Jn,$n,Vn,tr,vn,12,mt[9]),tr=bt(tr,Jn,$n,Vn,wn,17,mt[10]),Vn=bt(Vn,tr,Jn,$n,Ln,22,mt[11]),$n=bt($n,Vn,tr,Jn,Kn,7,mt[12]),Jn=bt(Jn,$n,Vn,tr,Rn,12,mt[13]),tr=bt(tr,Jn,$n,Vn,Tn,17,mt[14]),Vn=bt(Vn,tr,Jn,$n,Un,22,mt[15]),$n=At($n,Vn,tr,Jn,_n,5,mt[16]),Jn=At(Jn,$n,Vn,tr,yn,9,mt[17]),tr=At(tr,Jn,$n,Vn,Ln,14,mt[18]),Vn=At(Vn,tr,Jn,$n,Qt,20,mt[19]),$n=At($n,Vn,tr,Jn,Cn,5,mt[20]),Jn=At(Jn,$n,Vn,tr,wn,9,mt[21]),tr=At(tr,Jn,$n,Vn,Un,14,mt[22]),Vn=At(Vn,tr,Jn,$n,kn,20,mt[23]),$n=At($n,Vn,tr,Jn,vn,5,mt[24]),Jn=At(Jn,$n,Vn,tr,Tn,9,mt[25]),tr=At(tr,Jn,$n,Vn,Mn,14,mt[26]),Vn=At(Vn,tr,Jn,$n,En,20,mt[27]),$n=At($n,Vn,tr,Jn,Rn,5,mt[28]),Jn=At(Jn,$n,Vn,tr,hn,9,mt[29]),tr=At(tr,Jn,$n,Vn,Ut,14,mt[30]),Vn=At(Vn,tr,Jn,$n,Kn,20,mt[31]),$n=wt($n,Vn,tr,Jn,Cn,4,mt[32]),Jn=wt(Jn,$n,Vn,tr,En,11,mt[33]),tr=wt(tr,Jn,$n,Vn,Ln,16,mt[34]),Vn=wt(Vn,tr,Jn,$n,Tn,23,mt[35]),$n=wt($n,Vn,tr,Jn,_n,4,mt[36]),Jn=wt(Jn,$n,Vn,tr,kn,11,mt[37]),tr=wt(tr,Jn,$n,Vn,Ut,16,mt[38]),Vn=wt(Vn,tr,Jn,$n,wn,23,mt[39]),$n=wt($n,Vn,tr,Jn,Rn,4,mt[40]),Jn=wt(Jn,$n,Vn,tr,Qt,11,mt[41]),tr=wt(tr,Jn,$n,Vn,Mn,16,mt[42]),Vn=wt(Vn,tr,Jn,$n,yn,23,mt[43]),$n=wt($n,Vn,tr,Jn,vn,4,mt[44]),Jn=wt(Jn,$n,Vn,tr,Kn,11,mt[45]),tr=wt(tr,Jn,$n,Vn,Un,16,mt[46]),Vn=wt(Vn,tr,Jn,$n,hn,23,mt[47]),$n=Tt($n,Vn,tr,Jn,Qt,6,mt[48]),Jn=Tt(Jn,$n,Vn,tr,Ut,10,mt[49]),tr=Tt(tr,Jn,$n,Vn,Tn,15,mt[50]),Vn=Tt(Vn,tr,Jn,$n,Cn,21,mt[51]),$n=Tt($n,Vn,tr,Jn,Kn,6,mt[52]),Jn=Tt(Jn,$n,Vn,tr,Mn,10,mt[53]),tr=Tt(tr,Jn,$n,Vn,wn,15,mt[54]),Vn=Tt(Vn,tr,Jn,$n,_n,21,mt[55]),$n=Tt($n,Vn,tr,Jn,En,6,mt[56]),Jn=Tt(Jn,$n,Vn,tr,Un,10,mt[57]),tr=Tt(tr,Jn,$n,Vn,yn,15,mt[58]),Vn=Tt(Vn,tr,Jn,$n,Rn,21,mt[59]),$n=Tt($n,Vn,tr,Jn,kn,6,mt[60]),Jn=Tt(Jn,$n,Vn,tr,Ln,10,mt[61]),tr=Tt(tr,Jn,$n,Vn,hn,15,mt[62]),Vn=Tt(Vn,tr,Jn,$n,vn,21,mt[63]),Ht[0]=Ht[0]+$n|0,Ht[1]=Ht[1]+Vn|0,Ht[2]=Ht[2]+tr|0,Ht[3]=Ht[3]+Jn|0},_doFinalize:function(){var Rt=this._data,Bt=Rt.words,Vt=this._nDataBytes*8,$t=Rt.sigBytes*8;Bt[$t>>>5]|=128<<24-$t%32;var Ft=rt.floor(Vt/4294967296),Ht=Vt;Bt[($t+64>>>9<<4)+15]=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360,Bt[($t+64>>>9<<4)+14]=(Ht<<8|Ht>>>24)&16711935|(Ht<<24|Ht>>>8)&4278255360,Rt.sigBytes=(Bt.length+1)*4,this._process();for(var Qt=this._hash,_n=Qt.words,hn=0;hn<4;hn++){var Mn=_n[hn];_n[hn]=(Mn<<8|Mn>>>24)&16711935|(Mn<<24|Mn>>>8)&4278255360}return Qt},clone:function(){var Rt=lt.clone.call(this);return Rt._hash=this._hash.clone(),Rt}});function bt(Rt,Bt,Vt,$t,Ft,Ht,Qt){var _n=Rt+(Bt&Vt|~Bt&$t)+Ft+Qt;return(_n<<Ht|_n>>>32-Ht)+Bt}function At(Rt,Bt,Vt,$t,Ft,Ht,Qt){var _n=Rt+(Bt&$t|Vt&~$t)+Ft+Qt;return(_n<<Ht|_n>>>32-Ht)+Bt}function wt(Rt,Bt,Vt,$t,Ft,Ht,Qt){var _n=Rt+(Bt^Vt^$t)+Ft+Qt;return(_n<<Ht|_n>>>32-Ht)+Bt}function Tt(Rt,Bt,Vt,$t,Ft,Ht,Qt){var _n=Rt+(Vt^(Bt|~$t))+Ft+Qt;return(_n<<Ht|_n>>>32-Ht)+Bt}ot.MD5=lt._createHelper(Mt),ot.HmacMD5=lt._createHmacHelper(Mt)}(Math),nt.MD5})})(md5);var md5Exports=md5.exports,_const={};Object.defineProperty(_const,"__esModule",{value:!0});_const.incidentVarResult=_const.incidentVarReason=_const.incidentReason=_const.incidentNameBasketball=_const.incidentName=_const.livestreamSources=_const.giftQuantities=_const.redformPlanStatus=_const.shopGoodStatus=_const.quizStatus=_const.dayZh=_const.daysOfWeek=_const.basketballMatchStatus=_const.footballMatchStatus=void 0;_const.footballMatchStatus=["","","","","","","","","","","","","",""];_const.basketballMatchStatus=["","","","","","","","","","","","","","","",""];_const.daysOfWeek=["","","","","","",""];_const.dayZh=["","","","","","",""];_const.quizStatus=["","","","",""];_const.shopGoodStatus=["","","",""];_const.redformPlanStatus=["","","","",""];_const.giftQuantities=[1,10,66,88,100,520,1314];_const.livestreamSources=[1,2,4,5];_const.incidentName=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","VAR()","()","()"];_const.incidentNameBasketball=["","3","2","","","","",""];_const.incidentReason=["","","","/","/","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","var","","",""];_const.incidentVarReason=["","","","","","","",""];_const.incidentVarResult=["","","","","","","","","","",""];/*! @license DOMPurify 3.2.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.2/LICENSE */var purify_cjs,hasRequiredPurify_cjs;function requirePurify_cjs(){if(hasRequiredPurify_cjs)return purify_cjs;hasRequiredPurify_cjs=1;const{entries:_e,setPrototypeOf:et,isFrozen:nt,getPrototypeOf:rt,getOwnPropertyDescriptor:ot}=Object;let{freeze:it,seal:ct,create:lt}=Object,{apply:pt,construct:mt}=typeof Reflect<"u"&&Reflect;it||(it=function(ar){return ar}),ct||(ct=function(ar){return ar}),pt||(pt=function(ar,Or,Dr){return ar.apply(Or,Dr)}),mt||(mt=function(ar,Or){return new ar(...Or)});const Mt=_n(Array.prototype.forEach),bt=_n(Array.prototype.pop),At=_n(Array.prototype.push),wt=_n(String.prototype.toLowerCase),Tt=_n(String.prototype.toString),Rt=_n(String.prototype.match),Bt=_n(String.prototype.replace),Vt=_n(String.prototype.indexOf),$t=_n(String.prototype.trim),Ft=_n(Object.prototype.hasOwnProperty),Ht=_n(RegExp.prototype.test),Qt=hn(TypeError);function _n(sr){return function(ar){for(var Or=arguments.length,Dr=new Array(Or>1?Or-1:0),lr=1;lr<Or;lr++)Dr[lr-1]=arguments[lr];return pt(sr,ar,Dr)}}function hn(sr){return function(){for(var ar=arguments.length,Or=new Array(ar),Dr=0;Dr<ar;Dr++)Or[Dr]=arguments[Dr];return mt(sr,Or)}}function Mn(sr,ar){let Or=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wt;et&&et(sr,null);let Dr=ar.length;for(;Dr--;){let lr=ar[Dr];if(typeof lr=="string"){const cr=Or(lr);cr!==lr&&(nt(ar)||(ar[Dr]=cr),lr=cr)}sr[lr]=!0}return sr}function kn(sr){for(let ar=0;ar<sr.length;ar++)Ft(sr,ar)||(sr[ar]=null);return sr}function Cn(sr){const ar=lt(null);for(const[Or,Dr]of _e(sr))Ft(sr,Or)&&(Array.isArray(Dr)?ar[Or]=kn(Dr):Dr&&typeof Dr=="object"&&Dr.constructor===Object?ar[Or]=Cn(Dr):ar[Or]=Dr);return ar}function yn(sr,ar){for(;sr!==null;){const Dr=ot(sr,ar);if(Dr){if(Dr.get)return _n(Dr.get);if(typeof Dr.value=="function")return _n(Dr.value)}sr=rt(sr)}function Or(){return null}return Or}const Ut=it(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),En=it(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vn=it(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wn=it(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ln=it(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Kn=it(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rn=it(["#text"]),Tn=it(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Un=it(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$n=it(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vn=it(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tr=ct(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jn=ct(/<%[\w\W]*|[\w\W]*%>/gm),wr=ct(/\${[\w\W]*}/gm),jr=ct(/^data-[\-\w.\u00B7-\uFFFF]/),Zt=ct(/^aria-[\-\w]+$/),hr=ct(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lo=ct(/^(?:\w+script|data):/i),_o=ct(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bo=ct(/^html$/i),Hr=ct(/^[a-z][.\w]*(-[.\w]+)+$/i);var Do=Object.freeze({__proto__:null,ARIA_ATTR:Zt,ATTR_WHITESPACE:_o,CUSTOM_ELEMENT:Hr,DATA_ATTR:jr,DOCTYPE_NAME:bo,ERB_EXPR:Jn,IS_ALLOWED_URI:hr,IS_SCRIPT_OR_DATA:lo,MUSTACHE_EXPR:tr,TMPLIT_EXPR:wr});const Oo={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},zo=function(){return typeof window>"u"?null:window},qo=function(ar,Or){if(typeof ar!="object"||typeof ar.createPolicy!="function")return null;let Dr=null;const lr="data-tt-policy-suffix";Or&&Or.hasAttribute(lr)&&(Dr=Or.getAttribute(lr));const cr="dompurify"+(Dr?"#"+Dr:"");try{return ar.createPolicy(cr,{createHTML(gr){return gr},createScriptURL(gr){return gr}})}catch{return console.warn("TrustedTypes policy "+cr+" could not be created."),null}},_i=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function na(){let sr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zo();const ar=dr=>na(dr);if(ar.version="3.2.2",ar.removed=[],!sr||!sr.document||sr.document.nodeType!==Oo.document)return ar.isSupported=!1,ar;let{document:Or}=sr;const Dr=Or,lr=Dr.currentScript,{DocumentFragment:cr,HTMLTemplateElement:gr,Node:Mr,Element:Ar,NodeFilter:Ir,NamedNodeMap:mo=sr.NamedNodeMap||sr.MozNamedAttrMap,HTMLFormElement:Ao,DOMParser:jn,trustedTypes:Br}=sr,Pn=Ar.prototype,Xr=yn(Pn,"cloneNode"),po=yn(Pn,"remove"),fo=yn(Pn,"nextSibling"),Us=yn(Pn,"childNodes"),ao=yn(Pn,"parentNode");if(typeof gr=="function"){const dr=Or.createElement("template");dr.content&&dr.content.ownerDocument&&(Or=dr.content.ownerDocument)}let xa,$r="";const{implementation:Gr,createNodeIterator:Ll,createDocumentFragment:Ss,getElementsByTagName:Fo}=Or,{importNode:Cp}=Dr;let Js=_i();ar.isSupported=typeof _e=="function"&&typeof ao=="function"&&Gr&&Gr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ls,ERB_EXPR:Zs,TMPLIT_EXPR:ou,DATA_ATTR:Mu,ARIA_ATTR:lp,IS_SCRIPT_OR_DATA:Nl,ATTR_WHITESPACE:Ts,CUSTOM_ELEMENT:qs}=Do;let{IS_ALLOWED_URI:iu}=Do,ds=null;const Gs=Mn({},[...Ut,...En,...vn,...Ln,...Rn]);let ga=null;const Du=Mn({},[...Tn,...Un,...$n,...Vn]);let pn=Object.seal(lt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),sn=null,xs=null,Wo=!0,dm=!0,dp=!1,Ql=!0,_d=!1,ep=!0,zu=!1,Fl=!1,Lp=!1,Qs=!1,Zo=!1,Po=!1,Ku=!0,as=!1;const to="user-content-";let vr=!0,Yo=!1,yo={},Ru=null;const ns=Mn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Zr=null;const fr=Mn({},["audio","video","img","source","image","track"]);let tp=null;const ku=Mn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_c="http://www.w3.org/1998/Math/MathML",Wu="http://www.w3.org/2000/svg",Il="http://www.w3.org/1999/xhtml";let Eu=Il,Bl=!1,Fu=null;const Qu=Mn({},[_c,Wu,Il],Tt);let Ou=Mn({},["mi","mo","mn","ms","mtext"]),cu=Mn({},["annotation-xml"]);const Vs=Mn({},["title","style","font","a","script"]);let ps=null;const gu=["application/xhtml+xml","text/html"],Au="text/html";let zs=null,uu=null;const eu=Or.createElement("form"),lu=function(mr){return mr instanceof RegExp||mr instanceof Function},rs=function(){let mr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(uu&&uu===mr)){if((!mr||typeof mr!="object")&&(mr={}),mr=Cn(mr),ps=gu.indexOf(mr.PARSER_MEDIA_TYPE)===-1?Au:mr.PARSER_MEDIA_TYPE,zs=ps==="application/xhtml+xml"?Tt:wt,ds=Ft(mr,"ALLOWED_TAGS")?Mn({},mr.ALLOWED_TAGS,zs):Gs,ga=Ft(mr,"ALLOWED_ATTR")?Mn({},mr.ALLOWED_ATTR,zs):Du,Fu=Ft(mr,"ALLOWED_NAMESPACES")?Mn({},mr.ALLOWED_NAMESPACES,Tt):Qu,tp=Ft(mr,"ADD_URI_SAFE_ATTR")?Mn(Cn(ku),mr.ADD_URI_SAFE_ATTR,zs):ku,Zr=Ft(mr,"ADD_DATA_URI_TAGS")?Mn(Cn(fr),mr.ADD_DATA_URI_TAGS,zs):fr,Ru=Ft(mr,"FORBID_CONTENTS")?Mn({},mr.FORBID_CONTENTS,zs):ns,sn=Ft(mr,"FORBID_TAGS")?Mn({},mr.FORBID_TAGS,zs):{},xs=Ft(mr,"FORBID_ATTR")?Mn({},mr.FORBID_ATTR,zs):{},yo=Ft(mr,"USE_PROFILES")?mr.USE_PROFILES:!1,Wo=mr.ALLOW_ARIA_ATTR!==!1,dm=mr.ALLOW_DATA_ATTR!==!1,dp=mr.ALLOW_UNKNOWN_PROTOCOLS||!1,Ql=mr.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_d=mr.SAFE_FOR_TEMPLATES||!1,ep=mr.SAFE_FOR_XML!==!1,zu=mr.WHOLE_DOCUMENT||!1,Qs=mr.RETURN_DOM||!1,Zo=mr.RETURN_DOM_FRAGMENT||!1,Po=mr.RETURN_TRUSTED_TYPE||!1,Lp=mr.FORCE_BODY||!1,Ku=mr.SANITIZE_DOM!==!1,as=mr.SANITIZE_NAMED_PROPS||!1,vr=mr.KEEP_CONTENT!==!1,Yo=mr.IN_PLACE||!1,iu=mr.ALLOWED_URI_REGEXP||hr,Eu=mr.NAMESPACE||Il,Ou=mr.MATHML_TEXT_INTEGRATION_POINTS||Ou,cu=mr.HTML_INTEGRATION_POINTS||cu,pn=mr.CUSTOM_ELEMENT_HANDLING||{},mr.CUSTOM_ELEMENT_HANDLING&&lu(mr.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pn.tagNameCheck=mr.CUSTOM_ELEMENT_HANDLING.tagNameCheck),mr.CUSTOM_ELEMENT_HANDLING&&lu(mr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pn.attributeNameCheck=mr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),mr.CUSTOM_ELEMENT_HANDLING&&typeof mr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pn.allowCustomizedBuiltInElements=mr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_d&&(dm=!1),Zo&&(Qs=!0),yo&&(ds=Mn({},Rn),ga=[],yo.html===!0&&(Mn(ds,Ut),Mn(ga,Tn)),yo.svg===!0&&(Mn(ds,En),Mn(ga,Un),Mn(ga,Vn)),yo.svgFilters===!0&&(Mn(ds,vn),Mn(ga,Un),Mn(ga,Vn)),yo.mathMl===!0&&(Mn(ds,Ln),Mn(ga,$n),Mn(ga,Vn))),mr.ADD_TAGS&&(ds===Gs&&(ds=Cn(ds)),Mn(ds,mr.ADD_TAGS,zs)),mr.ADD_ATTR&&(ga===Du&&(ga=Cn(ga)),Mn(ga,mr.ADD_ATTR,zs)),mr.ADD_URI_SAFE_ATTR&&Mn(tp,mr.ADD_URI_SAFE_ATTR,zs),mr.FORBID_CONTENTS&&(Ru===ns&&(Ru=Cn(Ru)),Mn(Ru,mr.FORBID_CONTENTS,zs)),vr&&(ds["#text"]=!0),zu&&Mn(ds,["html","head","body"]),ds.table&&(Mn(ds,["tbody"]),delete sn.tbody),mr.TRUSTED_TYPES_POLICY){if(typeof mr.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof mr.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');xa=mr.TRUSTED_TYPES_POLICY,$r=xa.createHTML("")}else xa===void 0&&(xa=qo(Br,lr)),xa!==null&&typeof $r=="string"&&($r=xa.createHTML(""));it&&it(mr),uu=mr}},mu=Mn({},[...En,...vn,...wn]),Sp=Mn({},[...Ln,...Kn]),zp=function(mr){let so=ao(mr);(!so||!so.tagName)&&(so={namespaceURI:Eu,tagName:"template"});const Mo=wt(mr.tagName),Ko=wt(so.tagName);return Fu[mr.namespaceURI]?mr.namespaceURI===Wu?so.namespaceURI===Il?Mo==="svg":so.namespaceURI===_c?Mo==="svg"&&(Ko==="annotation-xml"||Ou[Ko]):!!mu[Mo]:mr.namespaceURI===_c?so.namespaceURI===Il?Mo==="math":so.namespaceURI===Wu?Mo==="math"&&cu[Ko]:!!Sp[Mo]:mr.namespaceURI===Il?so.namespaceURI===Wu&&!cu[Ko]||so.namespaceURI===_c&&!Ou[Ko]?!1:!Sp[Mo]&&(Vs[Mo]||!mu[Mo]):!!(ps==="application/xhtml+xml"&&Fu[mr.namespaceURI]):!1},Tu=function(mr){At(ar.removed,{element:mr});try{ao(mr).removeChild(mr)}catch{po(mr)}},Lu=function(mr,so){try{At(ar.removed,{attribute:so.getAttributeNode(mr),from:so})}catch{At(ar.removed,{attribute:null,from:so})}if(so.removeAttribute(mr),mr==="is")if(Qs||Zo)try{Tu(so)}catch{}else try{so.setAttribute(mr,"")}catch{}},np=function(mr){let so=null,Mo=null;if(Lp)mr="<remove></remove>"+mr;else{const kr=Rt(mr,/^[\r\n\t ]+/);Mo=kr&&kr[0]}ps==="application/xhtml+xml"&&Eu===Il&&(mr='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+mr+"</body></html>");const Ko=xa?xa.createHTML(mr):mr;if(Eu===Il)try{so=new jn().parseFromString(Ko,ps)}catch{}if(!so||!so.documentElement){so=Gr.createDocument(Eu,"template",null);try{so.documentElement.innerHTML=Bl?$r:Ko}catch{}}const Ds=so.body||so.documentElement;return mr&&Mo&&Ds.insertBefore(Or.createTextNode(Mo),Ds.childNodes[0]||null),Eu===Il?Fo.call(so,zu?"html":"body")[0]:zu?so.documentElement:Ds},pm=function(mr){return Ll.call(mr.ownerDocument||mr,mr,Ir.SHOW_ELEMENT|Ir.SHOW_COMMENT|Ir.SHOW_TEXT|Ir.SHOW_PROCESSING_INSTRUCTION|Ir.SHOW_CDATA_SECTION,null)},tu=function(mr){return mr instanceof Ao&&(typeof mr.nodeName!="string"||typeof mr.textContent!="string"||typeof mr.removeChild!="function"||!(mr.attributes instanceof mo)||typeof mr.removeAttribute!="function"||typeof mr.setAttribute!="function"||typeof mr.namespaceURI!="string"||typeof mr.insertBefore!="function"||typeof mr.hasChildNodes!="function")},rp=function(mr){return typeof Mr=="function"&&mr instanceof Mr};function Tl(dr,mr,so){Mt(dr,Mo=>{Mo.call(ar,mr,so,uu)})}const ju=function(mr){let so=null;if(Tl(Js.beforeSanitizeElements,mr,null),tu(mr))return Tu(mr),!0;const Mo=zs(mr.nodeName);if(Tl(Js.uponSanitizeElement,mr,{tagName:Mo,allowedTags:ds}),mr.hasChildNodes()&&!rp(mr.firstElementChild)&&Ht(/<[/\w]/g,mr.innerHTML)&&Ht(/<[/\w]/g,mr.textContent)||mr.nodeType===Oo.progressingInstruction||ep&&mr.nodeType===Oo.comment&&Ht(/<[/\w]/g,mr.data))return Tu(mr),!0;if(!ds[Mo]||sn[Mo]){if(!sn[Mo]&&Ip(Mo)&&(pn.tagNameCheck instanceof RegExp&&Ht(pn.tagNameCheck,Mo)||pn.tagNameCheck instanceof Function&&pn.tagNameCheck(Mo)))return!1;if(vr&&!Ru[Mo]){const Ko=ao(mr)||mr.parentNode,Ds=Us(mr)||mr.childNodes;if(Ds&&Ko){const kr=Ds.length;for(let Fr=kr-1;Fr>=0;--Fr){const _u=Xr(Ds[Fr],!0);_u.__removalCount=(mr.__removalCount||0)+1,Ko.insertBefore(_u,fo(mr))}}}return Tu(mr),!0}return mr instanceof Ar&&!zp(mr)||(Mo==="noscript"||Mo==="noembed"||Mo==="noframes")&&Ht(/<\/no(script|embed|frames)/i,mr.innerHTML)?(Tu(mr),!0):(_d&&mr.nodeType===Oo.text&&(so=mr.textContent,Mt([ls,Zs,ou],Ko=>{so=Bt(so,Ko," ")}),mr.textContent!==so&&(At(ar.removed,{element:mr.cloneNode()}),mr.textContent=so)),Tl(Js.afterSanitizeElements,mr,null),!1)},Kp=function(mr,so,Mo){if(Ku&&(so==="id"||so==="name")&&(Mo in Or||Mo in eu))return!1;if(!(dm&&!xs[so]&&Ht(Mu,so))){if(!(Wo&&Ht(lp,so))){if(!ga[so]||xs[so]){if(!(Ip(mr)&&(pn.tagNameCheck instanceof RegExp&&Ht(pn.tagNameCheck,mr)||pn.tagNameCheck instanceof Function&&pn.tagNameCheck(mr))&&(pn.attributeNameCheck instanceof RegExp&&Ht(pn.attributeNameCheck,so)||pn.attributeNameCheck instanceof Function&&pn.attributeNameCheck(so))||so==="is"&&pn.allowCustomizedBuiltInElements&&(pn.tagNameCheck instanceof RegExp&&Ht(pn.tagNameCheck,Mo)||pn.tagNameCheck instanceof Function&&pn.tagNameCheck(Mo))))return!1}else if(!tp[so]){if(!Ht(iu,Bt(Mo,Ts,""))){if(!((so==="src"||so==="xlink:href"||so==="href")&&mr!=="script"&&Vt(Mo,"data:")===0&&Zr[mr])){if(!(dp&&!Ht(Nl,Bt(Mo,Ts,"")))){if(Mo)return!1}}}}}}return!0},Ip=function(mr){return mr!=="annotation-xml"&&Rt(mr,qs)},Es=function(mr){Tl(Js.beforeSanitizeAttributes,mr,null);const{attributes:so}=mr;if(!so)return;const Mo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ga,forceKeepAttr:void 0};let Ko=so.length;for(;Ko--;){const Ds=so[Ko],{name:kr,namespaceURI:Fr,value:_u}=Ds,fs=zs(kr);let ss=kr==="value"?_u:$t(_u);if(Mo.attrName=fs,Mo.attrValue=ss,Mo.keepAttr=!0,Mo.forceKeepAttr=void 0,Tl(Js.uponSanitizeAttribute,mr,Mo),ss=Mo.attrValue,as&&(fs==="id"||fs==="name")&&(Lu(kr,mr),ss=to+ss),ep&&Ht(/((--!?|])>)|<\/(style|title)/i,ss)){Lu(kr,mr);continue}if(Mo.forceKeepAttr||(Lu(kr,mr),!Mo.keepAttr))continue;if(!Ql&&Ht(/\/>/i,ss)){Lu(kr,mr);continue}_d&&Mt([ls,Zs,ou],Vl=>{ss=Bt(ss,Vl," ")});const nu=zs(mr.nodeName);if(Kp(nu,fs,ss)){if(xa&&typeof Br=="object"&&typeof Br.getAttributeType=="function"&&!Fr)switch(Br.getAttributeType(nu,fs)){case"TrustedHTML":{ss=xa.createHTML(ss);break}case"TrustedScriptURL":{ss=xa.createScriptURL(ss);break}}try{Fr?mr.setAttributeNS(Fr,kr,ss):mr.setAttribute(kr,ss),tu(mr)?Tu(mr):bt(ar.removed)}catch{}}}Tl(Js.afterSanitizeAttributes,mr,null)},ws=function dr(mr){let so=null;const Mo=pm(mr);for(Tl(Js.beforeSanitizeShadowDOM,mr,null);so=Mo.nextNode();)Tl(Js.uponSanitizeShadowNode,so,null),!ju(so)&&(so.content instanceof cr&&dr(so.content),Es(so));Tl(Js.afterSanitizeShadowDOM,mr,null)};return ar.sanitize=function(dr){let mr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},so=null,Mo=null,Ko=null,Ds=null;if(Bl=!dr,Bl&&(dr="<!-->"),typeof dr!="string"&&!rp(dr))if(typeof dr.toString=="function"){if(dr=dr.toString(),typeof dr!="string")throw Qt("dirty is not a string, aborting")}else throw Qt("toString is not a function");if(!ar.isSupported)return dr;if(Fl||rs(mr),ar.removed=[],typeof dr=="string"&&(Yo=!1),Yo){if(dr.nodeName){const _u=zs(dr.nodeName);if(!ds[_u]||sn[_u])throw Qt("root node is forbidden and cannot be sanitized in-place")}}else if(dr instanceof Mr)so=np("<!---->"),Mo=so.ownerDocument.importNode(dr,!0),Mo.nodeType===Oo.element&&Mo.nodeName==="BODY"||Mo.nodeName==="HTML"?so=Mo:so.appendChild(Mo);else{if(!Qs&&!_d&&!zu&&dr.indexOf("<")===-1)return xa&&Po?xa.createHTML(dr):dr;if(so=np(dr),!so)return Qs?null:Po?$r:""}so&&Lp&&Tu(so.firstChild);const kr=pm(Yo?dr:so);for(;Ko=kr.nextNode();)ju(Ko)||(Ko.content instanceof cr&&ws(Ko.content),Es(Ko));if(Yo)return dr;if(Qs){if(Zo)for(Ds=Ss.call(so.ownerDocument);so.firstChild;)Ds.appendChild(so.firstChild);else Ds=so;return(ga.shadowroot||ga.shadowrootmode)&&(Ds=Cp.call(Dr,Ds,!0)),Ds}let Fr=zu?so.outerHTML:so.innerHTML;return zu&&ds["!doctype"]&&so.ownerDocument&&so.ownerDocument.doctype&&so.ownerDocument.doctype.name&&Ht(bo,so.ownerDocument.doctype.name)&&(Fr="<!DOCTYPE "+so.ownerDocument.doctype.name+`>
`+Fr),_d&&Mt([ls,Zs,ou],_u=>{Fr=Bt(Fr,_u," ")}),xa&&Po?xa.createHTML(Fr):Fr},ar.setConfig=function(){let dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rs(dr),Fl=!0},ar.clearConfig=function(){uu=null,Fl=!1},ar.isValidAttribute=function(dr,mr,so){uu||rs({});const Mo=zs(dr),Ko=zs(mr);return Kp(Mo,Ko,so)},ar.addHook=function(dr,mr){typeof mr=="function"&&At(Js[dr],mr)},ar.removeHook=function(dr){return bt(Js[dr])},ar.removeHooks=function(dr){Js[dr]=[]},ar.removeAllHooks=function(){Js=_i()},ar}var Qn=na();return purify_cjs=Qn,purify_cjs}var browser$1=window.DOMPurify||(window.DOMPurify=requirePurify_cjs().default||requirePurify_cjs());(function(_e){var et=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(En,vn,wn,Ln){Ln===void 0&&(Ln=wn);var Kn=Object.getOwnPropertyDescriptor(vn,wn);Kn&&("get"in Kn?vn.__esModule:!Kn.writable&&!Kn.configurable)||(Kn={enumerable:!0,get:function(){return vn[wn]}}),Object.defineProperty(En,Ln,Kn)}:function(En,vn,wn,Ln){En[Ln=Ln===void 0?wn:Ln]=vn[wn]}),nt=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(En,vn){Object.defineProperty(En,"default",{enumerable:!0,value:vn})}:function(En,vn){En.default=vn}),rt=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(En){if(En&&En.__esModule)return En;var vn={};if(En!=null)for(var wn in En)wn!=="default"&&Object.prototype.hasOwnProperty.call(En,wn)&&et(vn,En,wn);return nt(vn,En),vn},ot=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(En){return En&&En.__esModule?En:{default:En}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.genGuestInfoPayload=_e.getConversationTime=_e.showC2cTimeline=_e.getC2cMessageDate=_e.getC2cMessageTimeTitle=_e.parseLineupTeamData=_e.parseLineupPlayerData=_e.compressImage=_e.getImageSize=_e.detectBrowser=_e.uuid=_e.parseRoomMessage=_e.sanitize=_e.CONST=void 0;const it=ot(dayjs_minExports),ct=ot(md5Exports),lt=rt(_const),pt=(_e.CONST=lt,ot(browser$1));pt.default.addHook("afterSanitizeAttributes",En=>{"target"in En&&(En.setAttribute("target","_blank"),En.setAttribute("rel","noopener"))});const mt=/pqlink\(([^)]+)\)/g,Mt=/pqimg\(([^)]+)\)/g,bt=/\((.*)\)/,At=En=>pt.default.sanitize(En),wt=(_e.sanitize=At,(En="",vn=!1)=>{if((0,_e.detectBrowser)().iosapp&&(En.startsWith("!app")||En.startsWith("!ios")))return"";if((En=En.replace(/\\n/g,vn?" ":"<br>").replace(/^!android|^!ios|^!app/,"")).indexOf("pqlink(")!==-1){var wn=En.match(mt);if(wn)for(var Ln of wn){var Kn,Rn=(bt.exec(Ln)||[])[1];Rn&&([Rn,Kn]=Rn.trim().split("###"),Rn=Rn.startsWith("http")?Rn:"http://"+Rn,En=vn?En.replace(Ln,Kn||Rn):En.replace(Ln,`<a href="${Rn}" target="_blank" style="text-decoration:underline;text-underline-offset:3px;">${Kn||Rn}</a>`))}}if(En.indexOf("pqimg(")!==-1&&(wn=En.match(Mt),wn))for(var Tn of wn){var Un=(bt.exec(Tn)||[])[1];Un&&(En=vn?En.replace(Tn,""):En.replace(Tn,`<img src="${Un}" alt="" />`))}return(0,_e.sanitize)(En)}),Tt=(_e.parseRoomMessage=wt,()=>{var En=[],vn="0123456789abcdef";for(let wn=0;wn<36;wn++)En[wn]=vn[Math.floor(16*Math.random())];return En[14]="4",En[19]=vn[3&En[19]|8],En[8]=En[13]=En[18]=En[23]="-",En.join("")}),Rt=(_e.uuid=Tt,Ln=>{var vn={winphone:!1,symbian:!1,android:!1,firefox:!1,tablet:!1,iphone:!1,pc:!1,ipad:!1,uc:!1,ios:!1,wechat:!1,qq:!1,douyin:!1,baidu:!1,safari:!1,standalone:!1,iosapp:!1},wn=typeof window<"u"&&typeof navigator<"u",Ln=Ln||(wn?navigator.userAgent:"");return Ln&&(vn.winphone=/Windows Phone/gi.test(Ln),vn.symbian=/SymbianOS/gi.test(Ln)||vn.winphone,vn.android=/Android/gi.test(Ln),vn.firefox=/Firefox/gi.test(Ln),vn.tablet=/iPad|PlayBook/gi.test(Ln)||vn.android&&!/Mobile/gi.test(Ln)||vn.firefox&&/Tablet/gi.test(Ln),vn.iphone=/iPhone/gi.test(Ln)&&!vn.tablet,vn.pc=!vn.iphone&&!vn.android&&!vn.symbian,vn.ipad=/iPad/gi.test(Ln),vn.uc=/UCBrowser/gi.test(Ln),vn.ios=/iphone|ipad/gi.test(Ln),vn.wechat=/MicroMessenger/gi.test(Ln),vn.qq=/qq/gi.test(Ln),vn.douyin=/aweme/gi.test(Ln),vn.baidu=/baidu/gi.test(Ln),vn.safari=wn&&/apple/gi.test(navigator.vendor)&&!/crios/gi.test(Ln)&&!/fxios/gi.test(Ln)&&!/opera|opt/gi.test(Ln)&&!vn.uc&&!vn.qq&&!vn.douyin&&!vn.baidu,vn.standalone=wn&&"standalone"in navigator&&navigator.standalone,vn.iosapp=vn.ios&&vn.safari&&vn.standalone),vn}),Bt=(_e.detectBrowser=Rt,(wn,vn)=>{var wn=wn.split(","),Ln=wn[0].match(/:(.*?);/)[1],Kn=atob(wn[1]);let Rn=Kn.length;for(var Tn=new Uint8Array(Rn);Rn--;)Tn[Rn]=Kn.charCodeAt(Rn);return new File([Tn],vn,{type:Ln})}),Vt=En=>new Promise((vn,wn)=>{let Ln=new Image;var Kn=window.URL||window.webkitURL;Ln.src=Kn.createObjectURL(En),Ln.onload=()=>{var{width:Rn,height:Tn}=Ln,Un=En.size;vn({width:Rn,height:Tn,size:Un})}}),$t=(_e.getImageSize=Vt,({file:En,maxWidth:vn=1200,maxHeight:wn=1200})=>new Promise((Ln,Kn)=>{let Rn=new Image;var Tn=window.URL||window.webkitURL;Rn.src=Tn.createObjectURL(En),Rn.onload=function(){var Jn=Rn.height,wr=Rn.width;let Un=Rn.width,$n=Rn.height;var tr=En?En.type.replace("image/",""):null,Vn=tr?En.name.replace("."+tr,""):"",Vn=(En.name?Vn+"_"+new Date().getTime():new Date().getTime())+"."+tr,tr=(vn<wr&&wn<Jn?wn/vn<Jn/wr?($n=wn,Un=wn*(wr/Jn)):(Un=vn,$n=vn*(Jn/wr)):vn<wr&&Jn<=wn?(Un=vn,$n=vn*(Jn/wr)):wr<=vn&&wn<Jn?($n=wn,Un=wn*(wr/Jn)):Ln(new File([En],Vn,{type:En.type})),document.createElement("canvas")),wr=tr.getContext("2d"),Jn=(tr.height=$n,tr.width=Un,wr.clearRect(0,0,Un,$n),wr.drawImage(Rn,0,0,Un,$n),tr.toDataURL("image/*",.8)),wr=Bt(Jn,Vn);Ln(wr)}})),Ft=(_e.compressImage=$t,Ln=>{var _o=Ln[6]?Ln[6].split("^"):[],vn=Ln[1],wn=Ln[3],Ln=Ln[4],Kn=_o[0],Rn=_o[1],Tn=_o[2],Un=_o[3],$n=_o[4],Vn=_o[5],tr=_o[6],Jn=_o[7],wr=_o[8],jr=_o[9],Zt=_o[10],hr=_o[11],lo=_o[13],_o=+_o[16]==0?"":"";return{name:vn,name_en:wn,logo:Ln,time:Kn,shot:Rn,three_point:Tn,penalty_shot:Un,offensive_rebound:$n,defensive_rebound:Vn,rebound:tr,assist:Jn,steal:wr,cap:jr,mistake:Zt,foul:hr,score:lo,starting:_o,cols:[_o,Kn,lo,Rn,Tn,Un,$n,Vn,tr,Jn,wr,jr,Zt,hr]}}),Ht=En=>{if(En.length!==0){var vn=[];for(const wn of En)vn.push(Ft(wn));return vn}},Qt=(_e.parseLineupPlayerData=Ht,En=>{var vn,wn,Ln,Kn,Rn,Tn,Un,$n,Vn,tr,Jn;return En.length<13?{}:{shot:vn=(En=En.split("^"))[1],three_point:wn=En[2],penalty_shot:Ln=En[3],offensive_rebound:Kn=En[4],defensive_rebound:Rn=En[5],rebound:Tn=En[6],assist:Un=En[7],steal:$n=En[8],cap:Vn=En[9],mistake:tr=En[10],foul:Jn=En[11],score:En=En[13],cols:[vn,wn,Ln,Kn,Rn,Tn,Un,$n,Vn,tr,Jn,En]}}),_n=(_e.parseLineupTeamData=Qt,({time:En,clientTime:vn})=>En||vn?(""+(En=En||vn)).length===10?1e3*En:En:null),hn=(En,vn,wn)=>{var Ln=(0,it.default)();let Kn="";return En=_n(En),Kn=En&&((Ln=(0,it.default)(Ln.format("YYYY-MM-DD")).diff((0,it.default)(En).format("YYYY-MM-DD"),"day"))===0&&vn&&(Kn=wn==="pt"?"Hoje":""),Ln===1&&(Kn=wn==="pt"?"Ontem":""),1<Ln&&Ln<=7&&(Kn=lt.daysOfWeek[(0,it.default)(En).get("day")]),7<Ln)?(0,it.default)(En).format(wn==="pt"?"DD-MM-YY":"YYYY-MM-DD"):Kn},Mn=(_e.getC2cMessageTimeTitle=hn,En=>(En=_n(En),En?(0,it.default)(En).format("YYYY-MM-DD"):"")),kn=(_e.getC2cMessageDate=Mn,(En,vn)=>vn===0?(0,_e.getC2cMessageTimeTitle)(En[vn]):(0,_e.getC2cMessageDate)(En[vn])!==(0,_e.getC2cMessageDate)(En[vn-1])),Cn=(_e.showC2cTimeline=kn,(Ln,vn)=>{var wn=(0,it.default)().format(),Ln=1e3*Ln.lastMessage.lastTime,Kn=(0,it.default)(Ln).format(vn==="pt"?"DD-MM-YY HH:mm":"YYYY-MM-DD HH:mm"),Rn=(0,it.default)(wn).diff((0,it.default)(Ln),"minute"),Tn=(0,it.default)(wn).diff((0,it.default)(Ln),"hour");return(0,it.default)(wn).diff((0,it.default)(Ln,"day")),1<(0,it.default)(wn).diff((0,it.default)(Ln),"year")?Kn:Rn<1?vn==="pt"?"Agora":"":Rn<30?vn==="pt"?Rn+" min. atrs":Rn+"":Tn<1?vn==="pt"?"Meia hora atrs":"":Tn<24?vn==="pt"?Tn+"horas atrs":Tn+"":(0,it.default)(Ln).format(vn==="pt"?"DD/MM HH:mm":"MM-DD HH:mm")}),yn=(_e.getConversationTime=Cn,En=>{var vn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let wn="";for(let Ln=En;0<Ln;--Ln)wn+=vn[Math.round(Math.random()*(vn.length-1))];return wn}),Ut=()=>{var En=Math.floor((0,it.default)().valueOf()/1e3),vn=yn(10);return{timestamp:En,random_num:vn,check_sum:(0,ct.default)(`timestamp=${En}&random_num=`+vn).toString()}};_e.genGuestInfoPayload=Ut})(index_min);function n$1(_e){for(var et=arguments.length,nt=Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];throw Error("[Immer] minified error nr: "+_e+(nt.length?" "+nt.map(function(ot){return"'"+ot+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(_e){return!!_e&&!!_e[Q$1]}function t$1(_e){var et;return!!_e&&(function(nt){if(!nt||typeof nt!="object")return!1;var rt=Object.getPrototypeOf(nt);if(rt===null)return!0;var ot=Object.hasOwnProperty.call(rt,"constructor")&&rt.constructor;return ot===Object||typeof ot=="function"&&Function.toString.call(ot)===Z}(_e)||Array.isArray(_e)||!!_e[L$1]||!!(!((et=_e.constructor)===null||et===void 0)&&et[L$1])||s(_e)||v$1(_e))}function i$1(_e,et,nt){nt===void 0&&(nt=!1),o$2(_e)===0?(nt?Object.keys:nn)(_e).forEach(function(rt){nt&&typeof rt=="symbol"||et(rt,_e[rt],_e)}):_e.forEach(function(rt,ot){return et(ot,rt,_e)})}function o$2(_e){var et=_e[Q$1];return et?et.i>3?et.i-4:et.i:Array.isArray(_e)?1:s(_e)?2:v$1(_e)?3:0}function u$1(_e,et){return o$2(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function a(_e,et){return o$2(_e)===2?_e.get(et):_e[et]}function f$1(_e,et,nt){var rt=o$2(_e);rt===2?_e.set(et,nt):rt===3?_e.add(nt):_e[et]=nt}function c$1(_e,et){return _e===et?_e!==0||1/_e==1/et:_e!=_e&&et!=et}function s(_e){return X&&_e instanceof Map}function v$1(_e){return q$1&&_e instanceof Set}function p$1(_e){return _e.o||_e.t}function l(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var et=rn(_e);delete et[Q$1];for(var nt=nn(et),rt=0;rt<nt.length;rt++){var ot=nt[rt],it=et[ot];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(et[ot]={configurable:!0,writable:!0,enumerable:it.enumerable,value:_e[ot]})}return Object.create(Object.getPrototypeOf(_e),et)}function d$1(_e,et){return et===void 0&&(et=!1),y$1(_e)||r(_e)||!t$1(_e)||(o$2(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h$1),Object.freeze(_e),et&&i$1(_e,function(nt,rt){return d$1(rt,!0)},!0)),_e}function h$1(){n$1(2)}function y$1(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b$1(_e){var et=tn[_e];return et||n$1(18,_e),et}function m$2(_e,et){tn[_e]||(tn[_e]=et)}function _$1(){return U}function j(_e,et){et&&(b$1("Patches"),_e.u=[],_e.s=[],_e.v=et)}function g$1(_e){O$1(_e),_e.p.forEach(S$1),_e.p=null}function O$1(_e){_e===U&&(U=_e.l)}function w$1(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S$1(_e){var et=_e[Q$1];et.i===0||et.i===1?et.j():et.g=!0}function P$1(_e,et){et._=et.p.length;var nt=et.p[0],rt=_e!==void 0&&_e!==nt;return et.h.O||b$1("ES5").S(et,_e,rt),rt?(nt[Q$1].P&&(g$1(et),n$1(4)),t$1(_e)&&(_e=M$1(et,_e),et.l||x$1(et,_e)),et.u&&b$1("Patches").M(nt[Q$1].t,_e,et.u,et.s)):_e=M$1(et,nt,[]),g$1(et),et.u&&et.v(et.u,et.s),_e!==H$1?_e:void 0}function M$1(_e,et,nt){if(y$1(et))return et;var rt=et[Q$1];if(!rt)return i$1(et,function(lt,pt){return A$1(_e,rt,et,lt,pt,nt)},!0),et;if(rt.A!==_e)return et;if(!rt.P)return x$1(_e,rt.t,!0),rt.t;if(!rt.I){rt.I=!0,rt.A._--;var ot=rt.i===4||rt.i===5?rt.o=l(rt.k):rt.o,it=ot,ct=!1;rt.i===3&&(it=new Set(ot),ot.clear(),ct=!0),i$1(it,function(lt,pt){return A$1(_e,rt,ot,lt,pt,nt,ct)}),x$1(_e,ot,!1),nt&&_e.u&&b$1("Patches").N(rt,nt,_e.u,_e.s)}return rt.o}function A$1(_e,et,nt,rt,ot,it,ct){if(r(ot)){var lt=M$1(_e,ot,it&&et&&et.i!==3&&!u$1(et.R,rt)?it.concat(rt):void 0);if(f$1(nt,rt,lt),!r(lt))return;_e.m=!1}else ct&&nt.add(ot);if(t$1(ot)&&!y$1(ot)){if(!_e.h.D&&_e._<1)return;M$1(_e,ot),et&&et.A.l||x$1(_e,ot)}}function x$1(_e,et,nt){nt===void 0&&(nt=!1),!_e.l&&_e.h.D&&_e.m&&d$1(et,nt)}function z$1(_e,et){var nt=_e[Q$1];return(nt?p$1(nt):_e)[et]}function I$1(_e,et){if(et in _e)for(var nt=Object.getPrototypeOf(_e);nt;){var rt=Object.getOwnPropertyDescriptor(nt,et);if(rt)return rt;nt=Object.getPrototypeOf(nt)}}function k$1(_e){_e.P||(_e.P=!0,_e.l&&k$1(_e.l))}function E$1(_e){_e.o||(_e.o=l(_e.t))}function N$1(_e,et,nt){var rt=s(et)?b$1("MapSet").F(et,nt):v$1(et)?b$1("MapSet").T(et,nt):_e.O?function(ot,it){var ct=Array.isArray(ot),lt={i:ct?1:0,A:it?it.A:_$1(),P:!1,I:!1,R:{},l:it,t:ot,k:null,o:null,j:null,C:!1},pt=lt,mt=en;ct&&(pt=[lt],mt=on);var Mt=Proxy.revocable(pt,mt),bt=Mt.revoke,At=Mt.proxy;return lt.k=At,lt.j=bt,At}(et,nt):b$1("ES5").J(et,nt);return(nt?nt.A:_$1()).p.push(rt),rt}function R$1(_e){return r(_e)||n$1(22,_e),function et(nt){if(!t$1(nt))return nt;var rt,ot=nt[Q$1],it=o$2(nt);if(ot){if(!ot.P&&(ot.i<4||!b$1("ES5").K(ot)))return ot.t;ot.I=!0,rt=D$1(nt,it),ot.I=!1}else rt=D$1(nt,it);return i$1(rt,function(ct,lt){ot&&a(ot.t,ct)===lt||f$1(rt,ct,et(lt))}),it===3?new Set(rt):rt}(_e)}function D$1(_e,et){switch(et){case 2:return new Map(_e);case 3:return Array.from(_e)}return l(_e)}function F(){function _e(it,ct){var lt=ot[it];return lt?lt.enumerable=ct:ot[it]=lt={configurable:!0,enumerable:ct,get:function(){var pt=this[Q$1];return en.get(pt,it)},set:function(pt){var mt=this[Q$1];en.set(mt,it,pt)}},lt}function et(it){for(var ct=it.length-1;ct>=0;ct--){var lt=it[ct][Q$1];if(!lt.P)switch(lt.i){case 5:rt(lt)&&k$1(lt);break;case 4:nt(lt)&&k$1(lt)}}}function nt(it){for(var ct=it.t,lt=it.k,pt=nn(lt),mt=pt.length-1;mt>=0;mt--){var Mt=pt[mt];if(Mt!==Q$1){var bt=ct[Mt];if(bt===void 0&&!u$1(ct,Mt))return!0;var At=lt[Mt],wt=At&&At[Q$1];if(wt?wt.t!==bt:!c$1(At,bt))return!0}}var Tt=!!ct[Q$1];return pt.length!==nn(ct).length+(Tt?0:1)}function rt(it){var ct=it.k;if(ct.length!==it.t.length)return!0;var lt=Object.getOwnPropertyDescriptor(ct,ct.length-1);if(lt&&!lt.get)return!0;for(var pt=0;pt<ct.length;pt++)if(!ct.hasOwnProperty(pt))return!0;return!1}var ot={};m$2("ES5",{J:function(it,ct){var lt=Array.isArray(it),pt=function(Mt,bt){if(Mt){for(var At=Array(bt.length),wt=0;wt<bt.length;wt++)Object.defineProperty(At,""+wt,_e(wt,!0));return At}var Tt=rn(bt);delete Tt[Q$1];for(var Rt=nn(Tt),Bt=0;Bt<Rt.length;Bt++){var Vt=Rt[Bt];Tt[Vt]=_e(Vt,Mt||!!Tt[Vt].enumerable)}return Object.create(Object.getPrototypeOf(bt),Tt)}(lt,it),mt={i:lt?5:4,A:ct?ct.A:_$1(),P:!1,I:!1,R:{},l:ct,t:it,k:pt,o:null,g:!1,C:!1};return Object.defineProperty(pt,Q$1,{value:mt,writable:!0}),pt},S:function(it,ct,lt){lt?r(ct)&&ct[Q$1].A===it&&et(it.p):(it.u&&function pt(mt){if(mt&&typeof mt=="object"){var Mt=mt[Q$1];if(Mt){var bt=Mt.t,At=Mt.k,wt=Mt.R,Tt=Mt.i;if(Tt===4)i$1(At,function(Ft){Ft!==Q$1&&(bt[Ft]!==void 0||u$1(bt,Ft)?wt[Ft]||pt(At[Ft]):(wt[Ft]=!0,k$1(Mt)))}),i$1(bt,function(Ft){At[Ft]!==void 0||u$1(At,Ft)||(wt[Ft]=!1,k$1(Mt))});else if(Tt===5){if(rt(Mt)&&(k$1(Mt),wt.length=!0),At.length<bt.length)for(var Rt=At.length;Rt<bt.length;Rt++)wt[Rt]=!1;else for(var Bt=bt.length;Bt<At.length;Bt++)wt[Bt]=!0;for(var Vt=Math.min(At.length,bt.length),$t=0;$t<Vt;$t++)At.hasOwnProperty($t)||(wt[$t]=!0),wt[$t]===void 0&&pt(At[$t])}}}}(it.p[0]),et(it.p))},K:function(it){return it.i===4?nt(it):rt(it)}})}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q$1=typeof Set<"u",B$1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$1=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L$1=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q$1=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var et={};return nn(_e).forEach(function(nt){et[nt]=Object.getOwnPropertyDescriptor(_e,nt)}),et},tn={},en={get:function(_e,et){if(et===Q$1)return _e;var nt=p$1(_e);if(!u$1(nt,et))return function(ot,it,ct){var lt,pt=I$1(it,ct);return pt?"value"in pt?pt.value:(lt=pt.get)===null||lt===void 0?void 0:lt.call(ot.k):void 0}(_e,nt,et);var rt=nt[et];return _e.I||!t$1(rt)?rt:rt===z$1(_e.t,et)?(E$1(_e),_e.o[et]=N$1(_e.A.h,rt,_e)):rt},has:function(_e,et){return et in p$1(_e)},ownKeys:function(_e){return Reflect.ownKeys(p$1(_e))},set:function(_e,et,nt){var rt=I$1(p$1(_e),et);if(rt!=null&&rt.set)return rt.set.call(_e.k,nt),!0;if(!_e.P){var ot=z$1(p$1(_e),et),it=ot==null?void 0:ot[Q$1];if(it&&it.t===nt)return _e.o[et]=nt,_e.R[et]=!1,!0;if(c$1(nt,ot)&&(nt!==void 0||u$1(_e.t,et)))return!0;E$1(_e),k$1(_e)}return _e.o[et]===nt&&(nt!==void 0||et in _e.o)||Number.isNaN(nt)&&Number.isNaN(_e.o[et])||(_e.o[et]=nt,_e.R[et]=!0),!0},deleteProperty:function(_e,et){return z$1(_e.t,et)!==void 0||et in _e.t?(_e.R[et]=!1,E$1(_e),k$1(_e)):delete _e.R[et],_e.o&&delete _e.o[et],!0},getOwnPropertyDescriptor:function(_e,et){var nt=p$1(_e),rt=Reflect.getOwnPropertyDescriptor(nt,et);return rt&&{writable:!0,configurable:_e.i!==1||et!=="length",enumerable:rt.enumerable,value:nt[et]}},defineProperty:function(){n$1(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n$1(12)}},on={};i$1(en,function(_e,et){on[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}}),on.deleteProperty=function(_e,et){return on.set.call(this,_e,et,void 0)},on.set=function(_e,et,nt){return en.set.call(this,_e[0],et,nt,_e[0])};var un=function(){function _e(nt){var rt=this;this.O=B$1,this.D=!0,this.produce=function(ot,it,ct){if(typeof ot=="function"&&typeof it!="function"){var lt=it;it=ot;var pt=rt;return function(Rt){var Bt=this;Rt===void 0&&(Rt=lt);for(var Vt=arguments.length,$t=Array(Vt>1?Vt-1:0),Ft=1;Ft<Vt;Ft++)$t[Ft-1]=arguments[Ft];return pt.produce(Rt,function(Ht){var Qt;return(Qt=it).call.apply(Qt,[Bt,Ht].concat($t))})}}var mt;if(typeof it!="function"&&n$1(6),ct!==void 0&&typeof ct!="function"&&n$1(7),t$1(ot)){var Mt=w$1(rt),bt=N$1(rt,ot,void 0),At=!0;try{mt=it(bt),At=!1}finally{At?g$1(Mt):O$1(Mt)}return typeof Promise<"u"&&mt instanceof Promise?mt.then(function(Rt){return j(Mt,ct),P$1(Rt,Mt)},function(Rt){throw g$1(Mt),Rt}):(j(Mt,ct),P$1(mt,Mt))}if(!ot||typeof ot!="object"){if((mt=it(ot))===void 0&&(mt=ot),mt===H$1&&(mt=void 0),rt.D&&d$1(mt,!0),ct){var wt=[],Tt=[];b$1("Patches").M(ot,mt,wt,Tt),ct(wt,Tt)}return mt}n$1(21,ot)},this.produceWithPatches=function(ot,it){if(typeof ot=="function")return function(mt){for(var Mt=arguments.length,bt=Array(Mt>1?Mt-1:0),At=1;At<Mt;At++)bt[At-1]=arguments[At];return rt.produceWithPatches(mt,function(wt){return ot.apply(void 0,[wt].concat(bt))})};var ct,lt,pt=rt.produce(ot,it,function(mt,Mt){ct=mt,lt=Mt});return typeof Promise<"u"&&pt instanceof Promise?pt.then(function(mt){return[mt,ct,lt]}):[pt,ct,lt]},typeof(nt==null?void 0:nt.useProxies)=="boolean"&&this.setUseProxies(nt.useProxies),typeof(nt==null?void 0:nt.autoFreeze)=="boolean"&&this.setAutoFreeze(nt.autoFreeze)}var et=_e.prototype;return et.createDraft=function(nt){t$1(nt)||n$1(8),r(nt)&&(nt=R$1(nt));var rt=w$1(this),ot=N$1(this,nt,void 0);return ot[Q$1].C=!0,O$1(rt),ot},et.finishDraft=function(nt,rt){var ot=nt&&nt[Q$1],it=ot.A;return j(it,rt),P$1(void 0,it)},et.setAutoFreeze=function(nt){this.D=nt},et.setUseProxies=function(nt){nt&&!B$1&&n$1(20),this.O=nt},et.applyPatches=function(nt,rt){var ot;for(ot=rt.length-1;ot>=0;ot--){var it=rt[ot];if(it.path.length===0&&it.op==="replace"){nt=it.value;break}}ot>-1&&(rt=rt.slice(ot+1));var ct=b$1("Patches").$;return r(nt)?ct(nt,rt):this.produce(nt,function(lt){return ct(lt,rt)})},_e}(),an=new un;an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function formatProdErrorMessage$1(_e){return"Minified Redux error #"+_e+"; visit https://redux.js.org/Errors?code="+_e+" for the full message or use the non-minified dev environment for full errors. "}var $$observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString$1=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes$1={INIT:"@@redux/INIT"+randomString$1(),REPLACE:"@@redux/REPLACE"+randomString$1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString$1()}};function isPlainObject$3(_e){if(typeof _e!="object"||_e===null)return!1;for(var et=_e;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(_e)===et}function createStore$1(_e,et,nt){var rt;if(typeof et=="function"&&typeof nt=="function"||typeof nt=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof et=="function"&&typeof nt>"u"&&(nt=et,et=void 0),typeof nt<"u"){if(typeof nt!="function")throw new Error(formatProdErrorMessage$1(1));return nt(createStore$1)(_e,et)}if(typeof _e!="function")throw new Error(formatProdErrorMessage$1(2));var ot=_e,it=et,ct=[],lt=ct,pt=!1;function mt(){lt===ct&&(lt=ct.slice())}function Mt(){if(pt)throw new Error(formatProdErrorMessage$1(3));return it}function bt(Rt){if(typeof Rt!="function")throw new Error(formatProdErrorMessage$1(4));if(pt)throw new Error(formatProdErrorMessage$1(5));var Bt=!0;return mt(),lt.push(Rt),function(){if(Bt){if(pt)throw new Error(formatProdErrorMessage$1(6));Bt=!1,mt();var $t=lt.indexOf(Rt);lt.splice($t,1),ct=null}}}function At(Rt){if(!isPlainObject$3(Rt))throw new Error(formatProdErrorMessage$1(7));if(typeof Rt.type>"u")throw new Error(formatProdErrorMessage$1(8));if(pt)throw new Error(formatProdErrorMessage$1(9));try{pt=!0,it=ot(it,Rt)}finally{pt=!1}for(var Bt=ct=lt,Vt=0;Vt<Bt.length;Vt++){var $t=Bt[Vt];$t()}return Rt}function wt(Rt){if(typeof Rt!="function")throw new Error(formatProdErrorMessage$1(10));ot=Rt,At({type:ActionTypes$1.REPLACE})}function Tt(){var Rt,Bt=bt;return Rt={subscribe:function($t){if(typeof $t!="object"||$t===null)throw new Error(formatProdErrorMessage$1(11));function Ft(){$t.next&&$t.next(Mt())}Ft();var Ht=Bt(Ft);return{unsubscribe:Ht}}},Rt[$$observable$1]=function(){return this},Rt}return At({type:ActionTypes$1.INIT}),rt={dispatch:At,subscribe:bt,getState:Mt,replaceReducer:wt},rt[$$observable$1]=Tt,rt}function assertReducerShape$1(_e){Object.keys(_e).forEach(function(et){var nt=_e[et],rt=nt(void 0,{type:ActionTypes$1.INIT});if(typeof rt>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof nt(void 0,{type:ActionTypes$1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers$1(_e){for(var et=Object.keys(_e),nt={},rt=0;rt<et.length;rt++){var ot=et[rt];typeof _e[ot]=="function"&&(nt[ot]=_e[ot])}var it=Object.keys(nt),ct;try{assertReducerShape$1(nt)}catch(lt){ct=lt}return function(pt,mt){if(pt===void 0&&(pt={}),ct)throw ct;for(var Mt=!1,bt={},At=0;At<it.length;At++){var wt=it[At],Tt=nt[wt],Rt=pt[wt],Bt=Tt(Rt,mt);if(typeof Bt>"u")throw mt&&mt.type,new Error(formatProdErrorMessage$1(14));bt[wt]=Bt,Mt=Mt||Bt!==Rt}return Mt=Mt||it.length!==Object.keys(pt).length,Mt?bt:pt}}function compose$1(){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];return et.length===0?function(rt){return rt}:et.length===1?et[0]:et.reduce(function(rt,ot){return function(){return rt(ot.apply(void 0,arguments))}})}function applyMiddleware(){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];return function(rt){return function(){var ot=rt.apply(void 0,arguments),it=function(){throw new Error(formatProdErrorMessage$1(15))},ct={getState:ot.getState,dispatch:function(){return it.apply(void 0,arguments)}},lt=et.map(function(pt){return pt(ct)});return it=compose$1.apply(void 0,lt)(ot.dispatch),_objectSpread2(_objectSpread2({},ot),{},{dispatch:it})}}}function createThunkMiddleware(_e){var et=function(rt){var ot=rt.dispatch,it=rt.getState;return function(ct){return function(lt){return typeof lt=="function"?lt(ot,it,_e):ct(lt)}}};return et}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;var __extends=function(){var _e=function(et,nt){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,ot){rt.__proto__=ot}||function(rt,ot){for(var it in ot)Object.prototype.hasOwnProperty.call(ot,it)&&(rt[it]=ot[it])},_e(et,nt)};return function(et,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Class extends value "+String(nt)+" is not a constructor or null");_e(et,nt);function rt(){this.constructor=et}et.prototype=nt===null?Object.create(nt):(rt.prototype=nt.prototype,new rt)}}(),__generator=function(_e,et){var nt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},rt,ot,it,ct;return ct={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function lt(mt){return function(Mt){return pt([mt,Mt])}}function pt(mt){if(rt)throw new TypeError("Generator is already executing.");for(;nt;)try{if(rt=1,ot&&(it=mt[0]&2?ot.return:mt[0]?ot.throw||((it=ot.return)&&it.call(ot),0):ot.next)&&!(it=it.call(ot,mt[1])).done)return it;switch(ot=0,it&&(mt=[mt[0]&2,it.value]),mt[0]){case 0:case 1:it=mt;break;case 4:return nt.label++,{value:mt[1],done:!1};case 5:nt.label++,ot=mt[1],mt=[0];continue;case 7:mt=nt.ops.pop(),nt.trys.pop();continue;default:if(it=nt.trys,!(it=it.length>0&&it[it.length-1])&&(mt[0]===6||mt[0]===2)){nt=0;continue}if(mt[0]===3&&(!it||mt[1]>it[0]&&mt[1]<it[3])){nt.label=mt[1];break}if(mt[0]===6&&nt.label<it[1]){nt.label=it[1],it=mt;break}if(it&&nt.label<it[2]){nt.label=it[2],nt.ops.push(mt);break}it[2]&&nt.ops.pop(),nt.trys.pop();continue}mt=et.call(_e,nt)}catch(Mt){mt=[6,Mt],ot=0}finally{rt=it=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}},__spreadArray=function(_e,et){for(var nt=0,rt=et.length,ot=_e.length;nt<rt;nt++,ot++)_e[ot]=et[nt];return _e},__defProp$y=Object.defineProperty,__defProps$d=Object.defineProperties,__getOwnPropDescs$d=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$z=Object.getOwnPropertySymbols,__hasOwnProp$z=Object.prototype.hasOwnProperty,__propIsEnum$z=Object.prototype.propertyIsEnumerable,__defNormalProp$y=function(_e,et,nt){return et in _e?__defProp$y(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt},__spreadValues$y=function(_e,et){for(var nt in et||(et={}))__hasOwnProp$z.call(et,nt)&&__defNormalProp$y(_e,nt,et[nt]);if(__getOwnPropSymbols$z)for(var rt=0,ot=__getOwnPropSymbols$z(et);rt<ot.length;rt++){var nt=ot[rt];__propIsEnum$z.call(et,nt)&&__defNormalProp$y(_e,nt,et[nt])}return _e},__spreadProps$d=function(_e,et){return __defProps$d(_e,__getOwnPropDescs$d(et))},__async=function(_e,et,nt){return new Promise(function(rt,ot){var it=function(pt){try{lt(nt.next(pt))}catch(mt){ot(mt)}},ct=function(pt){try{lt(nt.throw(pt))}catch(mt){ot(mt)}},lt=function(pt){return pt.done?rt(pt.value):Promise.resolve(pt.value).then(it,ct)};lt((nt=nt.apply(_e,et)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function isPlainObject$2(_e){if(typeof _e!="object"||_e===null)return!1;var et=Object.getPrototypeOf(_e);if(et===null)return!0;for(var nt=et;Object.getPrototypeOf(nt)!==null;)nt=Object.getPrototypeOf(nt);return et===nt}function createAction(_e,et){function nt(){for(var rt=[],ot=0;ot<arguments.length;ot++)rt[ot]=arguments[ot];if(et){var it=et.apply(void 0,rt);if(!it)throw new Error("prepareAction did not return an object");return __spreadValues$y(__spreadValues$y({type:_e,payload:it.payload},"meta"in it&&{meta:it.meta}),"error"in it&&{error:it.error})}return{type:_e,payload:rt[0]}}return nt.toString=function(){return""+_e},nt.type=_e,nt.match=function(rt){return rt.type===_e},nt}var MiddlewareArray=function(_e){__extends(et,_e);function et(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];var ot=_e.apply(this,nt)||this;return Object.setPrototypeOf(ot,et.prototype),ot}return Object.defineProperty(et,Symbol.species,{get:function(){return et},enumerable:!1,configurable:!0}),et.prototype.concat=function(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];return _e.prototype.concat.apply(this,nt)},et.prototype.prepend=function(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];return nt.length===1&&Array.isArray(nt[0])?new(et.bind.apply(et,__spreadArray([void 0],nt[0].concat(this)))):new(et.bind.apply(et,__spreadArray([void 0],nt.concat(this))))},et}(Array),EnhancerArray=function(_e){__extends(et,_e);function et(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];var ot=_e.apply(this,nt)||this;return Object.setPrototypeOf(ot,et.prototype),ot}return Object.defineProperty(et,Symbol.species,{get:function(){return et},enumerable:!1,configurable:!0}),et.prototype.concat=function(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];return _e.prototype.concat.apply(this,nt)},et.prototype.prepend=function(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];return nt.length===1&&Array.isArray(nt[0])?new(et.bind.apply(et,__spreadArray([void 0],nt[0].concat(this)))):new(et.bind.apply(et,__spreadArray([void 0],nt.concat(this))))},et}(Array);function isBoolean$1(_e){return typeof _e=="boolean"}function curryGetDefaultMiddleware(){return function(et){return getDefaultMiddleware(et)}}function getDefaultMiddleware(_e){_e===void 0&&(_e={});var et=_e.thunk,nt=et===void 0?!0:et;_e.immutableCheck,_e.serializableCheck,_e.actionCreatorCheck;var rt=new MiddlewareArray;return nt&&(isBoolean$1(nt)?rt.push(thunk):rt.push(thunk.withExtraArgument(nt.extraArgument))),rt}var IS_PRODUCTION=!0;function configureStore(_e){var et=curryGetDefaultMiddleware(),nt=_e||{},rt=nt.reducer,ot=rt===void 0?void 0:rt,it=nt.middleware,ct=it===void 0?et():it,lt=nt.devTools,pt=lt===void 0?!0:lt,mt=nt.preloadedState,Mt=mt===void 0?void 0:mt,bt=nt.enhancers,At=bt===void 0?void 0:bt,wt;if(typeof ot=="function")wt=ot;else if(isPlainObject$2(ot))wt=combineReducers$1(ot);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var Tt=ct;typeof Tt=="function"&&(Tt=Tt(et));var Rt=applyMiddleware.apply(void 0,Tt),Bt=compose$1;pt&&(Bt=composeWithDevTools(__spreadValues$y({trace:!IS_PRODUCTION},typeof pt=="object"&&pt)));var Vt=new EnhancerArray(Rt),$t=Vt;Array.isArray(At)?$t=__spreadArray([Rt],At):typeof At=="function"&&($t=At(Vt));var Ft=Bt.apply(void 0,$t);return createStore$1(wt,Mt,Ft)}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(_e){_e===void 0&&(_e=21);for(var et="",nt=_e;nt--;)et+=urlAlphabet[Math.random()*64|0];return et},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function _e(et,nt){this.payload=et,this.meta=nt}return _e}(),FulfillWithMeta=function(){function _e(et,nt){this.payload=et,this.meta=nt}return _e}(),miniSerializeError=function(_e){if(typeof _e=="object"&&_e!==null){for(var et={},nt=0,rt=commonProperties;nt<rt.length;nt++){var ot=rt[nt];typeof _e[ot]=="string"&&(et[ot]=_e[ot])}return et}return{message:String(_e)}};(function(){function _e(et,nt,rt){var ot=createAction(et+"/fulfilled",function(mt,Mt,bt,At){return{payload:mt,meta:__spreadProps$d(__spreadValues$y({},At||{}),{arg:bt,requestId:Mt,requestStatus:"fulfilled"})}}),it=createAction(et+"/pending",function(mt,Mt,bt){return{payload:void 0,meta:__spreadProps$d(__spreadValues$y({},bt||{}),{arg:Mt,requestId:mt,requestStatus:"pending"})}}),ct=createAction(et+"/rejected",function(mt,Mt,bt,At,wt){return{payload:At,error:(rt&&rt.serializeError||miniSerializeError)(mt||"Rejected"),meta:__spreadProps$d(__spreadValues$y({},wt||{}),{arg:bt,requestId:Mt,rejectedWithValue:!!At,requestStatus:"rejected",aborted:(mt==null?void 0:mt.name)==="AbortError",condition:(mt==null?void 0:mt.name)==="ConditionError"})}}),lt=typeof AbortController<"u"?AbortController:function(){function mt(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return mt.prototype.abort=function(){},mt}();function pt(mt){return function(Mt,bt,At){var wt=rt!=null&&rt.idGenerator?rt.idGenerator(mt):nanoid(),Tt=new lt,Rt;function Bt($t){Rt=$t,Tt.abort()}var Vt=function(){return __async(this,null,function(){var $t,Ft,Ht,Qt,_n,hn,Mn;return __generator(this,function(kn){switch(kn.label){case 0:return kn.trys.push([0,4,,5]),Qt=($t=rt==null?void 0:rt.condition)==null?void 0:$t.call(rt,mt,{getState:bt,extra:At}),isThenable(Qt)?[4,Qt]:[3,2];case 1:Qt=kn.sent(),kn.label=2;case 2:if(Qt===!1||Tt.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _n=new Promise(function(Cn,yn){return Tt.signal.addEventListener("abort",function(){return yn({name:"AbortError",message:Rt||"Aborted"})})}),Mt(it(wt,mt,(Ft=rt==null?void 0:rt.getPendingMeta)==null?void 0:Ft.call(rt,{requestId:wt,arg:mt},{getState:bt,extra:At}))),[4,Promise.race([_n,Promise.resolve(nt(mt,{dispatch:Mt,getState:bt,extra:At,requestId:wt,signal:Tt.signal,abort:Bt,rejectWithValue:function(Cn,yn){return new RejectWithValue(Cn,yn)},fulfillWithValue:function(Cn,yn){return new FulfillWithMeta(Cn,yn)}})).then(function(Cn){if(Cn instanceof RejectWithValue)throw Cn;return Cn instanceof FulfillWithMeta?ot(Cn.payload,wt,mt,Cn.meta):ot(Cn,wt,mt)})])];case 3:return Ht=kn.sent(),[3,5];case 4:return hn=kn.sent(),Ht=hn instanceof RejectWithValue?ct(null,wt,mt,hn.payload,hn.meta):ct(hn,wt,mt),[3,5];case 5:return Mn=rt&&!rt.dispatchConditionRejection&&ct.match(Ht)&&Ht.meta.condition,Mn||Mt(Ht),[2,Ht]}})})}();return Object.assign(Vt,{abort:Bt,requestId:wt,arg:mt,unwrap:function(){return Vt.then(unwrapResult)}})}}return Object.assign(pt,{pending:it,rejected:ct,fulfilled:ot,typePrefix:et})}return _e.withTypes=function(){return _e},_e})();function unwrapResult(_e){if(_e.meta&&_e.meta.rejectedWithValue)throw _e.payload;if(_e.error)throw _e.error;return _e.payload}function isThenable(_e){return _e!==null&&typeof _e=="object"&&typeof _e.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise$1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F();var KEY_PREFIX="persist:",FLUSH$1="persist/FLUSH",REHYDRATE$1="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof$2(_e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(nt){return typeof nt}:_typeof$2=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$2(_e)}function ownKeys$4(_e,et){var nt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(ot){return Object.getOwnPropertyDescriptor(_e,ot).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread$4(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$4(nt,!0).forEach(function(rt){_defineProperty$5(_e,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(nt)):ownKeys$4(nt).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return _e}function _defineProperty$5(_e,et,nt){return et in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}function autoMergeLevel1(_e,et,nt,rt){rt.debug;var ot=_objectSpread$4({},nt);return _e&&_typeof$2(_e)==="object"&&Object.keys(_e).forEach(function(it){it!=="_persist"&&et[it]===nt[it]&&(ot[it]=_e[it])}),ot}function createPersistoid(_e){var et=_e.blacklist||null,nt=_e.whitelist||null,rt=_e.transforms||[],ot=_e.throttle||0,it="".concat(_e.keyPrefix!==void 0?_e.keyPrefix:KEY_PREFIX).concat(_e.key),ct=_e.storage,lt;_e.serialize===!1?lt=function(Qt){return Qt}:typeof _e.serialize=="function"?lt=_e.serialize:lt=defaultSerialize;var pt=_e.writeFailHandler||null,mt={},Mt={},bt=[],At=null,wt=null,Tt=function(Qt){Object.keys(Qt).forEach(function(_n){Vt(_n)&&mt[_n]!==Qt[_n]&&bt.indexOf(_n)===-1&&bt.push(_n)}),Object.keys(mt).forEach(function(_n){Qt[_n]===void 0&&Vt(_n)&&bt.indexOf(_n)===-1&&mt[_n]!==void 0&&bt.push(_n)}),At===null&&(At=setInterval(Rt,ot)),mt=Qt};function Rt(){if(bt.length===0){At&&clearInterval(At),At=null;return}var Ht=bt.shift(),Qt=rt.reduce(function(_n,hn){return hn.in(_n,Ht,mt)},mt[Ht]);if(Qt!==void 0)try{Mt[Ht]=lt(Qt)}catch(_n){console.error("redux-persist/createPersistoid: error serializing state",_n)}else delete Mt[Ht];bt.length===0&&Bt()}function Bt(){Object.keys(Mt).forEach(function(Ht){mt[Ht]===void 0&&delete Mt[Ht]}),wt=ct.setItem(it,lt(Mt)).catch($t)}function Vt(Ht){return!(nt&&nt.indexOf(Ht)===-1&&Ht!=="_persist"||et&&et.indexOf(Ht)!==-1)}function $t(Ht){pt&&pt(Ht)}var Ft=function(){for(;bt.length!==0;)Rt();return wt||Promise.resolve()};return{update:Tt,flush:Ft}}function defaultSerialize(_e){return JSON.stringify(_e)}function getStoredState(_e){var et=_e.transforms||[],nt="".concat(_e.keyPrefix!==void 0?_e.keyPrefix:KEY_PREFIX).concat(_e.key),rt=_e.storage;_e.debug;var ot;return _e.deserialize===!1?ot=function(ct){return ct}:typeof _e.deserialize=="function"?ot=_e.deserialize:ot=defaultDeserialize,rt.getItem(nt).then(function(it){if(it)try{var ct={},lt=ot(it);return Object.keys(lt).forEach(function(pt){ct[pt]=et.reduceRight(function(mt,Mt){return Mt.out(mt,pt,lt)},ot(lt[pt]))}),ct}catch(pt){throw pt}else return})}function defaultDeserialize(_e){return JSON.parse(_e)}function purgeStoredState(_e){var et=_e.storage,nt="".concat(_e.keyPrefix!==void 0?_e.keyPrefix:KEY_PREFIX).concat(_e.key);return et.removeItem(nt,warnIfRemoveError)}function warnIfRemoveError(_e){}function ownKeys$3(_e,et){var nt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(ot){return Object.getOwnPropertyDescriptor(_e,ot).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread$3(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$3(nt,!0).forEach(function(rt){_defineProperty$4(_e,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(nt)):ownKeys$3(nt).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return _e}function _defineProperty$4(_e,et,nt){return et in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}function _objectWithoutProperties$1(_e,et){if(_e==null)return{};var nt=_objectWithoutPropertiesLoose$1(_e,et),rt,ot;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(ot=0;ot<it.length;ot++)rt=it[ot],!(et.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,rt)&&(nt[rt]=_e[rt])}return nt}function _objectWithoutPropertiesLoose$1(_e,et){if(_e==null)return{};var nt={},rt=Object.keys(_e),ot,it;for(it=0;it<rt.length;it++)ot=rt[it],!(et.indexOf(ot)>=0)&&(nt[ot]=_e[ot]);return nt}var DEFAULT_TIMEOUT=5e3;function persistReducer(_e,et){var nt=_e.version!==void 0?_e.version:DEFAULT_VERSION;_e.debug;var rt=_e.stateReconciler===void 0?autoMergeLevel1:_e.stateReconciler,ot=_e.getStoredState||getStoredState,it=_e.timeout!==void 0?_e.timeout:DEFAULT_TIMEOUT,ct=null,lt=!1,pt=!0,mt=function(bt){return bt._persist.rehydrated&&ct&&!pt&&ct.update(bt),bt};return function(Mt,bt){var At=Mt||{},wt=At._persist,Tt=_objectWithoutProperties$1(At,["_persist"]),Rt=Tt;if(bt.type===PERSIST){var Bt=!1,Vt=function(Mn,kn){Bt||(bt.rehydrate(_e.key,Mn,kn),Bt=!0)};if(it&&setTimeout(function(){!Bt&&Vt(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(_e.key,'"')))},it),pt=!1,ct||(ct=createPersistoid(_e)),wt)return _objectSpread$3({},et(Rt,bt),{_persist:wt});if(typeof bt.rehydrate!="function"||typeof bt.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return bt.register(_e.key),ot(_e).then(function(hn){var Mn=_e.migrate||function(kn,Cn){return Promise.resolve(kn)};Mn(hn,nt).then(function(kn){Vt(kn)},function(kn){Vt(void 0,kn)})},function(hn){Vt(void 0,hn)}),_objectSpread$3({},et(Rt,bt),{_persist:{version:nt,rehydrated:!1}})}else{if(bt.type===PURGE)return lt=!0,bt.result(purgeStoredState(_e)),_objectSpread$3({},et(Rt,bt),{_persist:wt});if(bt.type===FLUSH$1)return bt.result(ct&&ct.flush()),_objectSpread$3({},et(Rt,bt),{_persist:wt});if(bt.type===PAUSE)pt=!0;else if(bt.type===REHYDRATE$1){if(lt)return _objectSpread$3({},Rt,{_persist:_objectSpread$3({},wt,{rehydrated:!0})});if(bt.key===_e.key){var $t=et(Rt,bt),Ft=bt.payload,Ht=rt!==!1&&Ft!==void 0?rt(Ft,Mt,$t,_e):$t,Qt=_objectSpread$3({},Ht,{_persist:_objectSpread$3({},wt,{rehydrated:!0})});return mt(Qt)}}}if(!wt)return et(Mt,bt);var _n=et(Rt,bt);return _n===Rt?Mt:mt(_objectSpread$3({},_n,{_persist:wt}))}}function formatProdErrorMessage(_e){return`Minified Redux error #${_e}; visit https://redux.js.org/Errors?code=${_e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(_e){if(typeof _e!="object"||_e===null)return!1;let et=_e;for(;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(_e)===et||Object.getPrototypeOf(_e)===null}function createStore(_e,et,nt){if(typeof _e!="function")throw new Error(formatProdErrorMessage(2));if(typeof et=="function"&&typeof nt=="function"||typeof nt=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof et=="function"&&typeof nt>"u"&&(nt=et,et=void 0),typeof nt<"u"){if(typeof nt!="function")throw new Error(formatProdErrorMessage(1));return nt(createStore)(_e,et)}let rt=_e,ot=et,it=new Map,ct=it,lt=0,pt=!1;function mt(){ct===it&&(ct=new Map,it.forEach((Bt,Vt)=>{ct.set(Vt,Bt)}))}function Mt(){if(pt)throw new Error(formatProdErrorMessage(3));return ot}function bt(Bt){if(typeof Bt!="function")throw new Error(formatProdErrorMessage(4));if(pt)throw new Error(formatProdErrorMessage(5));let Vt=!0;mt();const $t=lt++;return ct.set($t,Bt),function(){if(Vt){if(pt)throw new Error(formatProdErrorMessage(6));Vt=!1,mt(),ct.delete($t),it=null}}}function At(Bt){if(!isPlainObject$1(Bt))throw new Error(formatProdErrorMessage(7));if(typeof Bt.type>"u")throw new Error(formatProdErrorMessage(8));if(typeof Bt.type!="string")throw new Error(formatProdErrorMessage(17));if(pt)throw new Error(formatProdErrorMessage(9));try{pt=!0,ot=rt(ot,Bt)}finally{pt=!1}return(it=ct).forEach($t=>{$t()}),Bt}function wt(Bt){if(typeof Bt!="function")throw new Error(formatProdErrorMessage(10));rt=Bt,At({type:actionTypes_default.REPLACE})}function Tt(){const Bt=bt;return{subscribe(Vt){if(typeof Vt!="object"||Vt===null)throw new Error(formatProdErrorMessage(11));function $t(){const Ht=Vt;Ht.next&&Ht.next(Mt())}return $t(),{unsubscribe:Bt($t)}},[symbol_observable_default](){return this}}}return At({type:actionTypes_default.INIT}),{dispatch:At,subscribe:bt,getState:Mt,replaceReducer:wt,[symbol_observable_default]:Tt}}function assertReducerShape(_e){Object.keys(_e).forEach(et=>{const nt=_e[et];if(typeof nt(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage(12));if(typeof nt(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(_e){const et=Object.keys(_e),nt={};for(let it=0;it<et.length;it++){const ct=et[it];typeof _e[ct]=="function"&&(nt[ct]=_e[ct])}const rt=Object.keys(nt);let ot;try{assertReducerShape(nt)}catch(it){ot=it}return function(ct={},lt){if(ot)throw ot;let pt=!1;const mt={};for(let Mt=0;Mt<rt.length;Mt++){const bt=rt[Mt],At=nt[bt],wt=ct[bt],Tt=At(wt,lt);if(typeof Tt>"u")throw lt&&lt.type,new Error(formatProdErrorMessage(14));mt[bt]=Tt,pt=pt||Tt!==wt}return pt=pt||rt.length!==Object.keys(ct).length,pt?mt:ct}}function _toConsumableArray$2(_e){return _arrayWithoutHoles$2(_e)||_iterableToArray$2(_e)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray$2(_e){if(Symbol.iterator in Object(_e)||Object.prototype.toString.call(_e)==="[object Arguments]")return Array.from(_e)}function _arrayWithoutHoles$2(_e){if(Array.isArray(_e)){for(var et=0,nt=new Array(_e.length);et<_e.length;et++)nt[et]=_e[et];return nt}}function ownKeys$2(_e,et){var nt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(ot){return Object.getOwnPropertyDescriptor(_e,ot).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread$2(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(nt,!0).forEach(function(rt){_defineProperty$3(_e,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(nt)):ownKeys$2(nt).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return _e}function _defineProperty$3(_e,et,nt){return et in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}var initialState$4={registry:[],bootstrapped:!1},persistorReducer=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState$4,nt=arguments.length>1?arguments[1]:void 0;switch(nt.type){case REGISTER:return _objectSpread$2({},et,{registry:[].concat(_toConsumableArray$2(et.registry),[nt.key])});case REHYDRATE$1:var rt=et.registry.indexOf(nt.key),ot=_toConsumableArray$2(et.registry);return ot.splice(rt,1),_objectSpread$2({},et,{registry:ot,bootstrapped:ot.length===0});default:return et}};function persistStore(_e,et,nt){var rt=createStore(persistorReducer,initialState$4,void 0),ot=function(pt){rt.dispatch({type:REGISTER,key:pt})},it=function(pt,mt,Mt){var bt={type:REHYDRATE$1,payload:mt,err:Mt,key:pt};_e.dispatch(bt),rt.dispatch(bt)},ct=_objectSpread$2({},rt,{purge:function(){var pt=[];return _e.dispatch({type:PURGE,result:function(Mt){pt.push(Mt)}}),Promise.all(pt)},flush:function(){var pt=[];return _e.dispatch({type:FLUSH$1,result:function(Mt){pt.push(Mt)}}),Promise.all(pt)},pause:function(){_e.dispatch({type:PAUSE})},persist:function(){_e.dispatch({type:PERSIST,register:ot,rehydrate:it})}});return ct.persist(),ct}var createSymbol=function(et){return"@@redux-saga/"+et},CANCEL$1=createSymbol("CANCEL_PROMISE"),CHANNEL_END_TYPE=createSymbol("CHANNEL_END"),IO=createSymbol("IO"),MATCH=createSymbol("MATCH"),MULTICAST=createSymbol("MULTICAST"),SAGA_ACTION=createSymbol("SAGA_ACTION"),SELF_CANCELLATION=createSymbol("SELF_CANCELLATION"),TASK=createSymbol("TASK"),TASK_CANCEL=createSymbol("TASK_CANCEL"),TERMINATE=createSymbol("TERMINATE"),SAGA_LOCATION=createSymbol("LOCATION"),undef=function(et){return et==null},notUndef=function(et){return et!=null},func=function(et){return typeof et=="function"},string$2=function(et){return typeof et=="string"},array$2=Array.isArray,promise=function(et){return et&&func(et.then)},iterator=function(et){return et&&func(et.next)&&func(et.throw)},pattern=function _e(et){return et&&(string$2(et)||symbol$1(et)||func(et)||array$2(et)&&et.every(_e))},channel$1=function(et){return et&&func(et.take)&&func(et.close)},stringableFunc=function(et){return func(et)&&et.hasOwnProperty("toString")},symbol$1=function(et){return!!et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype},multicast=function(et){return channel$1(et)&&et[MULTICAST]},MAX_SIGNED_INT=2147483647;function delayP(_e,et){et===void 0&&(et=!0);var nt,rt=new Promise(function(ot){nt=setTimeout(ot,Math.min(MAX_SIGNED_INT,_e),et)});return rt[CANCEL$1]=function(){clearTimeout(nt)},rt}var konst=function(et){return function(){return et}},kTrue=konst(!0),noop$5=function(){},identity=function(et){return et},assignWithSymbols=function(et,nt){_extends$1(et,nt),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(nt).forEach(function(rt){et[rt]=nt[rt]})},flatMap=function(et,nt){var rt;return(rt=[]).concat.apply(rt,nt.map(et))};function remove(_e,et){var nt=_e.indexOf(et);nt>=0&&_e.splice(nt,1)}function once(_e){var et=!1;return function(){et||(et=!0,_e())}}var kThrow=function(et){throw et},kReturn=function(et){return{value:et,done:!0}};function makeIterator(_e,et,nt){et===void 0&&(et=kThrow),nt===void 0&&(nt="iterator");var rt={meta:{name:nt},next:_e,throw:et,return:kReturn,isSagaIterator:!0};return typeof Symbol<"u"&&(rt[Symbol.iterator]=function(){return rt}),rt}function logError(_e,et){var nt=et.sagaStack;console.error(_e),console.error(nt)}var createEmptyArray=function(et){return Array.apply(null,new Array(et))},wrapSagaDispatch=function(et){return function(nt){return et(Object.defineProperty(nt,SAGA_ACTION,{value:!0}))}},shouldTerminate=function(et){return et===TERMINATE},shouldCancel=function(et){return et===TASK_CANCEL},shouldComplete=function(et){return shouldTerminate(et)||shouldCancel(et)};function createAllStyleChildCallbacks(_e,et){var nt=Object.keys(_e),rt=nt.length,ot=0,it,ct=array$2(_e)?createEmptyArray(rt):{},lt={};function pt(){ot===rt&&(it=!0,et(ct))}return nt.forEach(function(mt){var Mt=function(At,wt){it||(wt||shouldComplete(At)?(et.cancel(),et(At,wt)):(ct[mt]=At,ot++,pt()))};Mt.cancel=noop$5,lt[mt]=Mt}),et.cancel=function(){it||(it=!0,nt.forEach(function(mt){return lt[mt].cancel()}))},lt}function getMetaInfo(_e){return{name:_e.name||"anonymous",location:getLocation(_e)}}function getLocation(_e){return _e[SAGA_LOCATION]}function compose(){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];return et.length===0?function(rt){return rt}:et.length===1?et[0]:et.reduce(function(rt,ot){return function(){return rt(ot.apply(void 0,arguments))}})}var BUFFER_OVERFLOW="Channel's Buffer overflow!",ON_OVERFLOW_THROW=1,ON_OVERFLOW_SLIDE=3,ON_OVERFLOW_EXPAND=4;function ringBuffer(_e,et){_e===void 0&&(_e=10);var nt=new Array(_e),rt=0,ot=0,it=0,ct=function(Mt){nt[ot]=Mt,ot=(ot+1)%_e,rt++},lt=function(){if(rt!=0){var Mt=nt[it];return nt[it]=null,rt--,it=(it+1)%_e,Mt}},pt=function(){for(var Mt=[];rt;)Mt.push(lt());return Mt};return{isEmpty:function(){return rt==0},put:function(Mt){if(rt<_e)ct(Mt);else{var bt;switch(et){case ON_OVERFLOW_THROW:throw new Error(BUFFER_OVERFLOW);case ON_OVERFLOW_SLIDE:nt[ot]=Mt,ot=(ot+1)%_e,it=ot;break;case ON_OVERFLOW_EXPAND:bt=2*_e,nt=pt(),rt=nt.length,ot=nt.length,it=0,nt.length=bt,_e=bt,ct(Mt);break}}},take:lt,flush:pt}}var expanding=function(et){return ringBuffer(et,ON_OVERFLOW_EXPAND)},TAKE="TAKE",PUT="PUT",ALL="ALL",RACE="RACE",CALL="CALL",CPS="CPS",FORK="FORK",JOIN="JOIN",CANCEL="CANCEL",SELECT="SELECT",ACTION_CHANNEL="ACTION_CHANNEL",CANCELLED$1="CANCELLED",FLUSH="FLUSH",GET_CONTEXT="GET_CONTEXT",SET_CONTEXT="SET_CONTEXT",makeEffect=function(et,nt){var rt;return rt={},rt[IO]=!0,rt.combinator=!1,rt.type=et,rt.payload=nt,rt};function take(_e,et){if(_e===void 0&&(_e="*"),pattern(_e))return notUndef(et)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),makeEffect(TAKE,{pattern:_e});if(multicast(_e)&&notUndef(et)&&pattern(et))return makeEffect(TAKE,{channel:_e,pattern:et});if(channel$1(_e))return notUndef(et)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),makeEffect(TAKE,{channel:_e})}function put(_e,et){return undef(et)&&(et=_e,_e=void 0),makeEffect(PUT,{channel:_e,action:et})}function all(_e){var et=makeEffect(ALL,_e);return et.combinator=!0,et}function getFnCallDescriptor(_e,et){var nt=null,rt;return func(_e)?rt=_e:(array$2(_e)?(nt=_e[0],rt=_e[1]):(nt=_e.context,rt=_e.fn),nt&&string$2(rt)&&func(nt[rt])&&(rt=nt[rt])),{context:nt,fn:rt,args:et}}function call(_e){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];return makeEffect(CALL,getFnCallDescriptor(_e,nt))}function fork(_e){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];return makeEffect(FORK,getFnCallDescriptor(_e,nt))}function cancel(_e){return _e===void 0&&(_e=SELF_CANCELLATION),makeEffect(CANCEL,_e)}function select(_e){_e===void 0&&(_e=identity);for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];return makeEffect(SELECT,{selector:_e,args:nt})}var delay=call.bind(null,delayP);function deferred(){var _e={};return _e.promise=new Promise(function(et,nt){_e.resolve=et,_e.reject=nt}),_e}var queue=[],semaphore=0;function exec(_e){try{suspend(),_e()}finally{release()}}function asap(_e){queue.push(_e),semaphore||(suspend(),flush())}function immediately(_e){try{return suspend(),_e()}finally{flush()}}function suspend(){semaphore++}function release(){semaphore--}function flush(){release();for(var _e;!semaphore&&(_e=queue.shift())!==void 0;)exec(_e)}var array$1=function(et){return function(nt){return et.some(function(rt){return matcher(rt)(nt)})}},predicate=function(et){return function(nt){return et(nt)}},string$1=function(et){return function(nt){return nt.type===String(et)}},symbol=function(et){return function(nt){return nt.type===et}},wildcard=function(){return kTrue};function matcher(_e){var et=_e==="*"?wildcard:string$2(_e)?string$1:array$2(_e)?array$1:stringableFunc(_e)?string$1:func(_e)?predicate:symbol$1(_e)?symbol:null;if(et===null)throw new Error("invalid pattern: "+_e);return et(_e)}var END={type:CHANNEL_END_TYPE},isEnd=function(et){return et&&et.type===CHANNEL_END_TYPE};function channel(_e){_e===void 0&&(_e=expanding());var et=!1,nt=[];function rt(lt){if(!et){if(nt.length===0)return _e.put(lt);var pt=nt.shift();pt(lt)}}function ot(lt){et&&_e.isEmpty()?lt(END):_e.isEmpty()?(nt.push(lt),lt.cancel=function(){remove(nt,lt)}):lt(_e.take())}function it(lt){if(et&&_e.isEmpty()){lt(END);return}lt(_e.flush())}function ct(){if(!et){et=!0;var lt=nt;nt=[];for(var pt=0,mt=lt.length;pt<mt;pt++){var Mt=lt[pt];Mt(END)}}}return{take:ot,put:rt,flush:it,close:ct}}function multicastChannel(){var _e,et=!1,nt=[],rt=nt,ot=function(){rt===nt&&(rt=nt.slice())},it=function(){et=!0;var lt=nt=rt;rt=[],lt.forEach(function(pt){pt(END)})};return _e={},_e[MULTICAST]=!0,_e.put=function(lt){if(!et){if(isEnd(lt)){it();return}for(var pt=nt=rt,mt=0,Mt=pt.length;mt<Mt;mt++){var bt=pt[mt];bt[MATCH](lt)&&(bt.cancel(),bt(lt))}}},_e.take=function(lt,pt){if(pt===void 0&&(pt=wildcard),et){lt(END);return}lt[MATCH]=pt,ot(),rt.push(lt),lt.cancel=once(function(){ot(),remove(rt,lt)})},_e.close=it,_e}function stdChannel(){var _e=multicastChannel(),et=_e.put;return _e.put=function(nt){if(nt[SAGA_ACTION]){et(nt);return}asap(function(){et(nt)})},_e}var RUNNING=0,CANCELLED=1,ABORTED=2,DONE=3;function resolvePromise(_e,et){var nt=_e[CANCEL$1];func(nt)&&(et.cancel=nt),_e.then(et,function(rt){et(rt,!0)})}var current=0,nextSagaId=function(){return++current},_effectRunnerMap;function getIteratorMetaInfo(_e,et){return _e.isSagaIterator?{name:_e.meta.name}:getMetaInfo(et)}function createTaskIterator(_e){var et=_e.context,nt=_e.fn,rt=_e.args;try{var ot=nt.apply(et,rt);if(iterator(ot))return ot;var it=!1,ct=function(pt){return it?{value:pt,done:!0}:(it=!0,{value:ot,done:!promise(ot)})};return makeIterator(ct)}catch(lt){return makeIterator(function(){throw lt})}}function runPutEffect(_e,et,nt){var rt=et.channel,ot=et.action,it=et.resolve;asap(function(){var ct;try{ct=(rt?rt.put:_e.dispatch)(ot)}catch(lt){nt(lt,!0);return}it&&promise(ct)?resolvePromise(ct,nt):nt(ct)})}function runTakeEffect(_e,et,nt){var rt=et.channel,ot=rt===void 0?_e.channel:rt,it=et.pattern,ct=et.maybe,lt=function(mt){if(mt instanceof Error){nt(mt,!0);return}if(isEnd(mt)&&!ct){nt(TERMINATE);return}nt(mt)};try{ot.take(lt,notUndef(it)?matcher(it):null)}catch(pt){nt(pt,!0);return}nt.cancel=lt.cancel}function runCallEffect(_e,et,nt,rt){var ot=et.context,it=et.fn,ct=et.args,lt=rt.task;try{var pt=it.apply(ot,ct);if(promise(pt)){resolvePromise(pt,nt);return}if(iterator(pt)){proc(_e,pt,lt.context,current,getMetaInfo(it),!1,nt);return}nt(pt)}catch(mt){nt(mt,!0)}}function runCPSEffect(_e,et,nt){var rt=et.context,ot=et.fn,it=et.args;try{var ct=function(pt,mt){undef(pt)?nt(mt):nt(pt,!0)};ot.apply(rt,it.concat(ct)),ct.cancel&&(nt.cancel=ct.cancel)}catch(lt){nt(lt,!0)}}function runForkEffect(_e,et,nt,rt){var ot=et.context,it=et.fn,ct=et.args,lt=et.detached,pt=rt.task,mt=createTaskIterator({context:ot,fn:it,args:ct}),Mt=getIteratorMetaInfo(mt,it);immediately(function(){var bt=proc(_e,mt,pt.context,current,Mt,lt,void 0);lt?nt(bt):bt.isRunning()?(pt.queue.addTask(bt),nt(bt)):bt.isAborted()?pt.queue.abort(bt.error()):nt(bt)})}function runJoinEffect(_e,et,nt,rt){var ot=rt.task,it=function(pt,mt){if(pt.isRunning()){var Mt={task:ot,cb:mt};mt.cancel=function(){pt.isRunning()&&remove(pt.joiners,Mt)},pt.joiners.push(Mt)}else pt.isAborted()?mt(pt.error(),!0):mt(pt.result())};if(array$2(et)){if(et.length===0){nt([]);return}var ct=createAllStyleChildCallbacks(et,nt);et.forEach(function(lt,pt){it(lt,ct[pt])})}else it(et,nt)}function cancelSingleTask(_e){_e.isRunning()&&_e.cancel()}function runCancelEffect(_e,et,nt,rt){var ot=rt.task;et===SELF_CANCELLATION?cancelSingleTask(ot):array$2(et)?et.forEach(cancelSingleTask):cancelSingleTask(et),nt()}function runAllEffect(_e,et,nt,rt){var ot=rt.digestEffect,it=current,ct=Object.keys(et);if(ct.length===0){nt(array$2(et)?[]:{});return}var lt=createAllStyleChildCallbacks(et,nt);ct.forEach(function(pt){ot(et[pt],it,lt[pt],pt)})}function runRaceEffect(_e,et,nt,rt){var ot=rt.digestEffect,it=current,ct=Object.keys(et),lt=array$2(et)?createEmptyArray(ct.length):{},pt={},mt=!1;ct.forEach(function(Mt){var bt=function(wt,Tt){mt||(Tt||shouldComplete(wt)?(nt.cancel(),nt(wt,Tt)):(nt.cancel(),mt=!0,lt[Mt]=wt,nt(lt)))};bt.cancel=noop$5,pt[Mt]=bt}),nt.cancel=function(){mt||(mt=!0,ct.forEach(function(Mt){return pt[Mt].cancel()}))},ct.forEach(function(Mt){mt||ot(et[Mt],it,pt[Mt],Mt)})}function runSelectEffect(_e,et,nt){var rt=et.selector,ot=et.args;try{var it=rt.apply(void 0,[_e.getState()].concat(ot));nt(it)}catch(ct){nt(ct,!0)}}function runChannelEffect(_e,et,nt){var rt=et.pattern,ot=et.buffer,it=channel(ot),ct=matcher(rt),lt=function mt(Mt){isEnd(Mt)||_e.channel.take(mt,ct),it.put(Mt)},pt=it.close;it.close=function(){lt.cancel(),pt()},_e.channel.take(lt,ct),nt(it)}function runCancelledEffect(_e,et,nt,rt){var ot=rt.task;nt(ot.isCancelled())}function runFlushEffect(_e,et,nt){et.flush(nt)}function runGetContextEffect(_e,et,nt,rt){var ot=rt.task;nt(ot.context[et])}function runSetContextEffect(_e,et,nt,rt){var ot=rt.task;assignWithSymbols(ot.context,et),nt()}var effectRunnerMap=(_effectRunnerMap={},_effectRunnerMap[TAKE]=runTakeEffect,_effectRunnerMap[PUT]=runPutEffect,_effectRunnerMap[ALL]=runAllEffect,_effectRunnerMap[RACE]=runRaceEffect,_effectRunnerMap[CALL]=runCallEffect,_effectRunnerMap[CPS]=runCPSEffect,_effectRunnerMap[FORK]=runForkEffect,_effectRunnerMap[JOIN]=runJoinEffect,_effectRunnerMap[CANCEL]=runCancelEffect,_effectRunnerMap[SELECT]=runSelectEffect,_effectRunnerMap[ACTION_CHANNEL]=runChannelEffect,_effectRunnerMap[CANCELLED$1]=runCancelledEffect,_effectRunnerMap[FLUSH]=runFlushEffect,_effectRunnerMap[GET_CONTEXT]=runGetContextEffect,_effectRunnerMap[SET_CONTEXT]=runSetContextEffect,_effectRunnerMap);function forkQueue(_e,et,nt){var rt=[],ot,it=!1;pt(_e);var ct=function(){return rt};function lt(Mt){et(),mt(),nt(Mt,!0)}function pt(Mt){rt.push(Mt),Mt.cont=function(bt,At){it||(remove(rt,Mt),Mt.cont=noop$5,At?lt(bt):(Mt===_e&&(ot=bt),rt.length||(it=!0,nt(ot))))}}function mt(){it||(it=!0,rt.forEach(function(Mt){Mt.cont=noop$5,Mt.cancel()}),rt=[])}return{addTask:pt,cancelAll:mt,abort:lt,getTasks:ct}}function formatLocation(_e,et){return _e+"?"+et}function effectLocationAsString(_e){var et=getLocation(_e);if(et){var nt=et.code,rt=et.fileName,ot=et.lineNumber,it=nt+"  "+formatLocation(rt,ot);return it}return""}function sagaLocationAsString(_e){var et=_e.name,nt=_e.location;return nt?et+"  "+formatLocation(nt.fileName,nt.lineNumber):et}function cancelledTasksAsString(_e){var et=flatMap(function(nt){return nt.cancelledTasks},_e);return et.length?["Tasks cancelled due to error:"].concat(et).join(`
`):""}var crashedEffect=null,sagaStack=[],addSagaFrame=function(et){et.crashedEffect=crashedEffect,sagaStack.push(et)},clear=function(){crashedEffect=null,sagaStack.length=0},setCrashedEffect=function(et){crashedEffect=et},toString$1=function(){var et=sagaStack[0],nt=sagaStack.slice(1),rt=et.crashedEffect?effectLocationAsString(et.crashedEffect):null,ot="The above error occurred in task "+sagaLocationAsString(et.meta)+(rt?` 
 when executing effect `+rt:"");return[ot].concat(nt.map(function(it){return"    created by "+sagaLocationAsString(it.meta)}),[cancelledTasksAsString(sagaStack)]).join(`
`)};function newTask(_e,et,nt,rt,ot,it,ct){var lt;ct===void 0&&(ct=noop$5);var pt=RUNNING,mt,Mt,bt=null,At=[],wt=Object.create(nt),Tt=forkQueue(et,function(){At.push.apply(At,Tt.getTasks().map(function(Qt){return Qt.meta.name}))},Bt);function Rt(){pt===RUNNING&&(pt=CANCELLED,Tt.cancelAll(),Bt(TASK_CANCEL,!1))}function Bt(Ht,Qt){if(!Qt)Ht===TASK_CANCEL?pt=CANCELLED:pt!==CANCELLED&&(pt=DONE),mt=Ht,bt&&bt.resolve(Ht);else{if(pt=ABORTED,addSagaFrame({meta:ot,cancelledTasks:At}),Ft.isRoot){var _n=toString$1();clear(),_e.onError(Ht,{sagaStack:_n})}Mt=Ht,bt&&bt.reject(Ht)}Ft.cont(Ht,Qt),Ft.joiners.forEach(function(hn){hn.cb(Ht,Qt)}),Ft.joiners=null}function Vt(Ht){assignWithSymbols(wt,Ht)}function $t(){return bt||(bt=deferred(),pt===ABORTED?bt.reject(Mt):pt!==RUNNING&&bt.resolve(mt)),bt.promise}var Ft=(lt={},lt[TASK]=!0,lt.id=rt,lt.meta=ot,lt.isRoot=it,lt.context=wt,lt.joiners=[],lt.queue=Tt,lt.cancel=Rt,lt.cont=ct,lt.end=Bt,lt.setContext=Vt,lt.toPromise=$t,lt.isRunning=function(){return pt===RUNNING},lt.isCancelled=function(){return pt===CANCELLED||pt===RUNNING&&et.status===CANCELLED},lt.isAborted=function(){return pt===ABORTED},lt.result=function(){return mt},lt.error=function(){return Mt},lt);return Ft}function proc(_e,et,nt,rt,ot,it,ct){var lt=_e.finalizeRunEffect(wt);At.cancel=noop$5;var pt={meta:ot,cancel:bt,status:RUNNING},mt=newTask(_e,pt,nt,rt,ot,it,ct),Mt={task:mt,digestEffect:Tt};function bt(){pt.status===RUNNING&&(pt.status=CANCELLED,At(TASK_CANCEL))}return ct&&(ct.cancel=mt.cancel),At(),mt;function At(Rt,Bt){try{var Vt;Bt?(Vt=et.throw(Rt),clear()):shouldCancel(Rt)?(pt.status=CANCELLED,At.cancel(),Vt=func(et.return)?et.return(TASK_CANCEL):{done:!0,value:TASK_CANCEL}):shouldTerminate(Rt)?Vt=func(et.return)?et.return():{done:!0}:Vt=et.next(Rt),Vt.done?(pt.status!==CANCELLED&&(pt.status=DONE),pt.cont(Vt.value)):Tt(Vt.value,rt,At)}catch($t){if(pt.status===CANCELLED)throw $t;pt.status=ABORTED,pt.cont($t,!0)}}function wt(Rt,Bt,Vt){if(promise(Rt))resolvePromise(Rt,Vt);else if(iterator(Rt))proc(_e,Rt,mt.context,Bt,ot,!1,Vt);else if(Rt&&Rt[IO]){var $t=effectRunnerMap[Rt.type];$t(_e,Rt.payload,Vt,Mt)}else Vt(Rt)}function Tt(Rt,Bt,Vt,$t){$t===void 0&&($t="");var Ft=nextSagaId();_e.sagaMonitor&&_e.sagaMonitor.effectTriggered({effectId:Ft,parentEffectId:Bt,label:$t,effect:Rt});var Ht;function Qt(_n,hn){Ht||(Ht=!0,Vt.cancel=noop$5,_e.sagaMonitor&&(hn?_e.sagaMonitor.effectRejected(Ft,_n):_e.sagaMonitor.effectResolved(Ft,_n)),hn&&setCrashedEffect(Rt),Vt(_n,hn))}Qt.cancel=noop$5,Vt.cancel=function(){Ht||(Ht=!0,Qt.cancel(),Qt.cancel=noop$5,_e.sagaMonitor&&_e.sagaMonitor.effectCancelled(Ft))},lt(Rt,Ft,Qt)}}function runSaga(_e,et){for(var nt=_e.channel,rt=nt===void 0?stdChannel():nt,ot=_e.dispatch,it=_e.getState,ct=_e.context,lt=ct===void 0?{}:ct,pt=_e.sagaMonitor,mt=_e.effectMiddlewares,Mt=_e.onError,bt=Mt===void 0?logError:Mt,At=arguments.length,wt=new Array(At>2?At-2:0),Tt=2;Tt<At;Tt++)wt[Tt-2]=arguments[Tt];var Rt=et.apply(void 0,wt),Bt=nextSagaId();pt&&(pt.rootSagaStarted=pt.rootSagaStarted||noop$5,pt.effectTriggered=pt.effectTriggered||noop$5,pt.effectResolved=pt.effectResolved||noop$5,pt.effectRejected=pt.effectRejected||noop$5,pt.effectCancelled=pt.effectCancelled||noop$5,pt.actionDispatched=pt.actionDispatched||noop$5,pt.rootSagaStarted({effectId:Bt,saga:et,args:wt}));var Vt;if(mt){var $t=compose.apply(void 0,mt);Vt=function(Qt){return function(_n,hn,Mn){var kn=function(yn){return Qt(yn,hn,Mn)};return $t(kn)(_n)}}}else Vt=identity;var Ft={channel:rt,dispatch:wrapSagaDispatch(ot),getState:it,sagaMonitor:pt,onError:bt,finalizeRunEffect:Vt};return immediately(function(){var Ht=proc(Ft,Rt,lt,Bt,getMetaInfo(et),!0,void 0);return pt&&pt.effectResolved(Bt,Ht),Ht})}function sagaMiddlewareFactory(_e){var et={},nt=et.context,rt=nt===void 0?{}:nt,ot=et.channel,it=ot===void 0?stdChannel():ot,ct=et.sagaMonitor,lt=_objectWithoutPropertiesLoose$2(et,["context","channel","sagaMonitor"]),pt;function mt(Mt){var bt=Mt.getState,At=Mt.dispatch;return pt=runSaga.bind(null,_extends$1({},lt,{context:rt,channel:it,dispatch:At,getState:bt,sagaMonitor:ct})),function(wt){return function(Tt){ct&&ct.actionDispatched&&ct.actionDispatched(Tt);var Rt=wt(Tt);return it.put(Tt),Rt}}}return mt.run=function(){return pt.apply(void 0,arguments)},mt.setContext=function(Mt){assignWithSymbols(rt,Mt)},mt}var done=function(et){return{done:!0,value:et}},qEnd={};function safeName(_e){return channel$1(_e)?"channel":stringableFunc(_e)?String(_e):func(_e)?_e.name:String(_e)}function fsmIterator(_e,et,nt){var rt,ot,it,ct=et;function lt(pt,mt){if(ct===qEnd)return done(pt);if(mt&&!ot)throw ct=qEnd,mt;rt&&rt(pt);var Mt=mt?_e[ot](mt):_e[ct]();return ct=Mt.nextState,it=Mt.effect,rt=Mt.stateUpdater,ot=Mt.errorState,ct===qEnd?done(pt):it}return makeIterator(lt,function(pt){return lt(null,pt)},nt)}function takeLatest(_e,et){for(var nt=arguments.length,rt=new Array(nt>2?nt-2:0),ot=2;ot<nt;ot++)rt[ot-2]=arguments[ot];var it={done:!1,value:take(_e)},ct=function(wt){return{done:!1,value:fork.apply(void 0,[et].concat(rt,[wt]))}},lt=function(wt){return{done:!1,value:cancel(wt)}},pt,mt,Mt=function(wt){return pt=wt},bt=function(wt){return mt=wt};return fsmIterator({q1:function(){return{nextState:"q2",effect:it,stateUpdater:bt}},q2:function(){return pt?{nextState:"q3",effect:lt(pt)}:{nextState:"q1",effect:ct(mt),stateUpdater:Mt}},q3:function(){return{nextState:"q1",effect:ct(mt),stateUpdater:Mt}}},"q1","takeLatest("+safeName(_e)+", "+et.name+")")}function takeLatest$1(_e,et){for(var nt=arguments.length,rt=new Array(nt>2?nt-2:0),ot=2;ot<nt;ot++)rt[ot-2]=arguments[ot];return fork.apply(void 0,[takeLatest,_e,et].concat(rt))}var createWebStorage$1={},getStorage$1={};getStorage$1.__esModule=!0;getStorage$1.default=getStorage;function _typeof$1(_e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(nt){return typeof nt}:_typeof$1=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$1(_e)}function noop$4(){}var noopStorage={getItem:noop$4,setItem:noop$4,removeItem:noop$4};function hasStorage(_e){if((typeof self>"u"?"undefined":_typeof$1(self))!=="object"||!(_e in self))return!1;try{var et=self[_e],nt="redux-persist ".concat(_e," test");et.setItem(nt,"test"),et.getItem(nt),et.removeItem(nt)}catch{return!1}return!0}function getStorage(_e){var et="".concat(_e,"Storage");return hasStorage(et)?self[et]:noopStorage}createWebStorage$1.__esModule=!0;createWebStorage$1.default=createWebStorage;var _getStorage=_interopRequireDefault$2(getStorage$1);function _interopRequireDefault$2(_e){return _e&&_e.__esModule?_e:{default:_e}}function createWebStorage(_e){var et=(0,_getStorage.default)(_e);return{getItem:function(rt){return new Promise(function(ot,it){ot(et.getItem(rt))})},setItem:function(rt,ot){return new Promise(function(it,ct){it(et.setItem(rt,ot))})},removeItem:function(rt){return new Promise(function(ot,it){ot(et.removeItem(rt))})}}}var default_1$1=void 0,_createWebStorage$1=_interopRequireDefault$1(createWebStorage$1);function _interopRequireDefault$1(_e){return _e&&_e.__esModule?_e:{default:_e}}var _default$2=(0,_createWebStorage$1.default)("local");default_1$1=_default$2;const authActionTypes={LOGIN:"LOGIN",LOGOUT:"LOGOUT",REQUEST_USER:"REQUEST_USER",USER_LOADED:"USER_LOADED",REQUEST_REFRESH_TOKEN:"REQUEST_REFRESH_TOKEN",TOKEN_REFRESHED:"TOKEN_REFRESHED",STORE_API_REQUEST:"STORE_API_REQUEST",PENDING_API_REQUEST_EXECUTED:"PENDING_API_REQUEST_EXECUTED"},authActions={login:(_e,et,nt,rt)=>({type:authActionTypes.LOGIN,id:_e,token_web:et,txim_sign:nt,user:rt}),logout:()=>({type:authActionTypes.LOGOUT}),requestUser:()=>({type:authActionTypes.REQUEST_USER}),userLoaded:_e=>({type:authActionTypes.USER_LOADED,user:_e}),requestRefreshToken:(_e,et)=>({type:authActionTypes.REQUEST_REFRESH_TOKEN,refreshToken:_e,userId:et}),tokenRefreshed:(_e,et)=>({type:authActionTypes.TOKEN_REFRESHED,accessToken:_e,refreshToken:et}),storeApiRequest:(_e,et,nt)=>({type:authActionTypes.STORE_API_REQUEST,apiRequest:{config:_e,resolve:et,reject:nt}}),pendingApiRequestExecuted:()=>({type:authActionTypes.PENDING_API_REQUEST_EXECUTED})},LOGIN_URL="/webapi/user/login",ME_URL="/webapi/User/getUserInfo",authService={login:_e=>axios.post(LOGIN_URL,_e),me:()=>axios.post(ME_URL)};REHYDRATE_1=void 0;var REHYDRATE="persist/REHYDRATE",REHYDRATE_1=REHYDRATE;const initialState$3={id:"",token_web:"",txim_sign:"",user:void 0},reducer$3=persistReducer({storage:default_1$1,key:"reducer-auth",whitelist:["id","token_web","txim_sign"]},(_e=initialState$3,et)=>{switch(et.type){case authActionTypes.LOGIN:return{..._e,id:et.id,token_web:et.token_web,txim_sign:et.txim_sign,user:et.user};case authActionTypes.USER_LOADED:return{..._e,user:et.user};case authActionTypes.LOGOUT:return initialState$3;case authActionTypes.STORE_API_REQUEST:return{..._e,pendingApiRequests:[..._e.pendingApiRequests,et.apiRequest]};case authActionTypes.PENDING_API_REQUEST_EXECUTED:return{..._e,pendingApiRequests:[]};default:return _e}}),isAuthenticated=_e=>!!_e.auth.token_web;function*saga(){yield takeLatest$1(REHYDRATE_1,function*(et){et&&(yield put(authActions.requestUser()))}),yield takeLatest$1(authActionTypes.REQUEST_USER,function*(){const et=yield select(nt=>nt);if(isAuthenticated(et)){yield delay(300);try{const{data:nt}=yield call(authService.me);yield put(authActions.userLoaded(nt))}catch{}}})}var default_1=void 0,_createWebStorage=_interopRequireDefault(createWebStorage$1);function _interopRequireDefault(_e){return _e&&_e.__esModule?_e:{default:_e}}var _default$1=(0,_createWebStorage.default)("session");default_1=_default$1;const moduleKey="COMMON",commonTypes={SET_LOADING:moduleKey+"_SET_LOADING",SET_IS_NEW:moduleKey+"_SET_IS_NEW",SET_IS_NEW_MESSAGE:moduleKey+"_SET_IS_NEW_MESSAGE",SET_CHAT_HELP_TOTAL:moduleKey+"_SET_CHAT_HELP_TOTAL",SET_UNDER_MAINTENANCE:moduleKey+"_SET_UNDER_MAINTENANCE",SET_IS_UNLOADED:moduleKey+"_SET_IS_UNLOADED",SET_HIDE_INSTALL_POPUP:moduleKey+"_SET_HIDE_INSTALL_POPUP"},initialState$2={loading:!1,isNew:!1,isNewMessage:0,chatHelpTotal:0,isDiscussionLoaded:!1,isChatHelpLoaded:!1,underMaintenance:[],hideInstallPopup:!1},reducer$2=persistReducer({storage:default_1,key:"reducer-common",whitelist:["hideInstallPopup"]},(_e=initialState$2,et)=>{switch(et.type){case commonTypes.SET_LOADING:return{..._e,loading:et.loading};case commonTypes.SET_HIDE_INSTALL_POPUP:return{..._e,hideInstallPopup:et.hideInstallPopup};case commonTypes.SET_IS_NEW_MESSAGE:return{..._e,isNewMessage:et.isNewMessage,isDiscussionLoaded:!0};case commonTypes.SET_IS_UNLOADED:return{..._e,isDiscussionLoaded:!1,isChatHelpLoaded:!1};case commonTypes.SET_CHAT_HELP_TOTAL:return{..._e,chatHelpTotal:et.chatHelpTotal,isChatHelpLoaded:!0};case commonTypes.SET_IS_NEW:return{..._e,isNew:!0};case commonTypes.SET_UNDER_MAINTENANCE:return{..._e,loading:!1,underMaintenance:et.underMaintenance};default:return _e}}),registrationActionTypes={REGISTER:"REGISTER",RESET:"RESET"},registrationActions={registration:_e=>({type:registrationActionTypes.REGISTER,registrationTemp:_e}),reset:()=>({type:registrationActionTypes.RESET})},initialState$1={registrationTemp:void 0},reducer$1=persistReducer({storage:default_1$1,key:"reducer-registration",whitelist:["registrationTemp"]},(_e=initialState$1,et)=>{switch(et.type){case registrationActionTypes.REGISTER:return{..._e,registrationTemp:et.registrationTemp};case registrationActionTypes.RESET:return initialState$1;default:return _e}}),reducers=combineReducers({auth:reducer$3,common:reducer$2,registration:reducer$1});function*sagas(){yield all([saga()])}var define_import_meta_env_default$1={VITE_REACT_APP_BASE_API:"https://ruangbola.live",BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const sagaMiddleware=sagaMiddlewareFactory(),middlewares=[sagaMiddleware],store=configureStore({reducer:reducers,middleware:middlewares,devTools:define_import_meta_env_default$1.NODE_ENV!=="production"}),persistor=persistStore(store);sagaMiddleware.run(sagas);const host$2="https://ruangbola.live",instance=axios.create({baseURL:host$2,timeout:1e4});let noToast=!1;instance.interceptors.request.use(_e=>{var lt,pt;const et=new AbortController;_e.signal=et.signal;const{lang:nt,sp_source:rt,site:ot}=useMainStore.getState(),{auth:{id:it,token_web:ct}}=store.getState();if(typeof _e.data!="string"&&(_e.data||(_e.data={}),_e.data.token=_e.data.token||ct,_e.data.uid=_e.data.uid?Number(_e.data.uid):it),rt&&(_e.data.sp_source=rt),_e.data.hideLoading||Toast.loading("Memuat..."),_e.data.noToast&&(noToast=!0),delete _e.data.hideLoading,delete _e.data.noToast,!_e.data.platform){const mt=index_min.detectBrowser();_e.data.platform=mt.iosapp?Platform.ios:Platform.h5,useMainStore.getState().site===Site.kqbIOS&&(_e.data.platform=Platform.ios)}if(nt!=="cn"&&(_e.url=_e.url+(_e.url.includes("?")?`&lang=${nt}`:`&lang=${nt}`)),ot===Site.qutu&&((lt=window==null?void 0:window.location)!=null&&lt.search)){const mt=(pt=parseSearch(window.location.search))==null?void 0:pt.channel_code;mt&&(_e.url=_e.url+(_e.url.includes("?")?`&channel_code=${mt}`:`?channel_code=${mt}`))}return _e},_e=>Promise.reject(_e));instance.interceptors.response.use(async _e=>{var et,nt;return(et=_e.config)!=null&&et.url&&useMainStore.getState().removeRequest((nt=_e.config)==null?void 0:nt.url),Toast.clear(),_e.data.msg.indexOf(instance$1.t(""))>0||_e.data.status+""=="2"?(Toast.info(_e.data.msg),useMainStore.getState().resetUserInfo(),localStorage.clear(),_e.config.url!=="/webapi/User/getUserInfo"&&await promptLogin(),Promise.reject(instance$1.t(""))):_e.data.msg&&!noToast?(Toast.fail(_e.data.msg),Promise.reject(_e.data.msg)):_e},_e=>{if(Toast.clear(),_e.code===AxiosError.ECONNABORTED&&console.warn(" http"),_e.code!==AxiosError.ERR_CANCELED)return Promise.reject(_e)});const post=async(_e,et={})=>{var rt,ot,it;Object.keys(et).forEach(ct=>{(et[ct]===void 0||et[ct]===null)&&delete et[ct]});const nt=await instance.post(_e,et);return useMainStore.getState().site!==Site.pq8sp&&_e.includes("getProtocal?type=2")&&checkG8PMdomain(["pq8.club","90bf.cn"])&&(nt.data.data=(it=(ot=(rt=nt==null?void 0:nt.data)==null?void 0:rt.data)==null?void 0:ot.content)==null?void 0:it.replaceAll("","")),nt==null?void 0:nt.data},getHomeDataApi=_e=>post("/api/home/getHomeData",_e),getHomeScrollApi=()=>post("/api/home/getHomeScroll"),getAttentAnchorsApi=_e=>post("/api/anchor/getAttentAnchors",_e),attentAnchorApi=({anchorid:_e,type:et,notify:nt})=>post("/api/anchor/attentAnchor",{anchorid:_e,type:et,notify:nt}),getAnchorInfoApi=_e=>post("/api/Anchor/getAnchorInfo",{anchorid:_e}),getDateMatchApi=_e=>post("/api/race/getDateMatch",_e),getEventByDateApi=_e=>post("/api/race/getEventByDate",{date:_e}),getMatchAnchorsApi=({sportName:_e,matchId:et})=>post(`/api/${_e}/getMatchAnchors`,{matchid:et}),getMatchDataApi=({matchId:_e,sportName:et})=>post(`/api/${et}/getMatchData`,{matchid:_e}),getMatchOddApi=({matchId:_e,sportName:et})=>post(`/api/${et}/matchOdd`,{matchid:_e}),getTliveDataApi=({matchId:_e,sportName:et,startid:nt})=>post(`/api/${et}/getTliveData`,{matchid:_e,startid:nt}),getIncidentDataApi=({matchId:_e})=>post("webapi/football/getIncidentsData",{matchid:_e}),getAnalysisDataApi=({sportName:_e,matchId:et})=>post(`/webapi/${_e}/getAnalysisData`,{matchid:et}),getLineupDataApi=({matchId:_e,sportName:et})=>post(`/webapi/${et}/getLineupData`,{matchid:_e,noToast:!0}),getMatchRankApi=({sportName:_e,matchId:et})=>post(`webapi/${_e}/getMatchRank`,{matchid:et}),getMatchTop3DataApi=({sportName:_e,matchId:et})=>post(`webapi/${_e}/getMatchTop3Data`,{matchid:et}),getMatchCombineDataApi=({sportName:_e,matchId:et})=>post(`webapi/${_e}/getMatchCombineData`,{matchid:et}),getMatchInfoApi=({matchId:_e,sportName:et})=>post(`/api/${et}/getMatchInfo`,{matchid:_e}),getRaceTagApi=()=>post("/api/race/getRaceTag"),getRaceSearchApi=_e=>post("/api/race/getRaceSearch",_e),searchEventsApi=_e=>post("/api/search/events",_e),searchTeamsApi=_e=>post("/api/search/teams",_e),searchAnchor=_e=>post("/api/search/anchor",_e),searchMatchesApi=_e=>post("/api/search/matches",_e),getRecommendedMatchApi=()=>post("/api/race/getRecMath"),getSingleRecommendedMatchApi=()=>post("/api/race/getSingleRecMatch"),getCategoryApi=()=>post("/webapi/live/getCategory"),getRealLivesApi=_e=>post("/api/live/getRealLives",_e),getLivePageDataApi=_e=>post("/webapi/live/getLivePageData",{anchorid:_e}),getLiveChatApi=({liveid:_e})=>post("/api/live/getLiveChat",{liveid:_e}),getGiftListApi=()=>post("/api/gift/getGiftList"),getPackageListApi=()=>post("/api/luckymoney/packageList"),getAvailablePackagesApi=_e=>post("/api/luckymoney/availablePackage",{anchorid:_e}),getUserBagListApi=()=>post("/api/gift/userbagList"),sendGiftApi=_e=>post("/api/gift/sendGift",_e),getConfigApi=()=>post("/api/config/getCommonConfig",{hideLoading:!0}),getQuizBalanceApi=_e=>post("/api/racequiz/getQuizBalance",_e),getBaseDictionaryApi=()=>post("/api/SportDatabase/getBaseDictionary"),getDatabaseHomeApi=()=>post("/api/SportDatabase/getHome"),useConfig=()=>{const{setStoreValue:_e,setMode:et,setBaseDict:nt,removeRequest:rt}=useMainStore(),ot=useMainStore(hr=>hr.site),it=index_min.detectBrowser(),ct=reactExports.useMemo(()=>it.iosapp||ot===Site.kqbIOS,[ot,it]),lt=async()=>{const{data:hr}=await getConfigApi();return console.log(hr),hr&&_e({commonConfig:hr}),hr},pt=async()=>{const{data:hr}=await getCategoryApi();hr&&_e({categories:hr})},mt=async()=>{const{data:hr}=await getHomeScrollApi();hr&&_e({banners:hr})},Mt=async hr=>{const{data:lo}=await getHomeDataApi(hr);lo&&_e({homeData:lo})},bt=async()=>{const{status:hr,data:lo}=await getDatabaseHomeApi();return hr===0&&lo&&_e({databaseHomeData:lo}),lo},At=hr=>{const{searchLog:lo}=useMainStore.getState();if(Array.isArray(hr))_e({searchLog:[]});else{if(_$2.find(lo,bo=>bo.target_id===hr.target_id)||_$2.isEmpty(hr))return;const _o=_$2.takeRight([...lo,hr],5);_e({searchLog:_o})}},wt=hr=>{const{roomNotes:lo}=useMainStore.getState(),_o=lo.concat(hr);_e({roomNotes:_o})},Tt=hr=>{_e({roomNotes:hr})},Rt=()=>{const{requests:hr}=useMainStore.getState();for(const lo of hr){const{controller:_o,url:bo}=lo;if(!_o)continue;const{signal:Hr}=_o;if(!Hr){rt(bo);continue}Hr.aborted?rt(bo):_o.abort()}},Bt=reactExports.useMemo(()=>""||"",[ot]),Vt=async()=>{try{const{status:hr,data:lo}=await getBaseDictionaryApi();hr===0&&nt(lo)}catch{}},$t=()=>{let hr="";Un==="dark"?hr="light":Un==="light"&&(hr="dark");const lo=document.querySelector("body");lo&&(lo.setAttribute("data-mode",hr),et(hr))},Ft=useMainStore(hr=>hr.commonConfig),{config:{huawei_pull_hls_domain:Ht}}=Ft,Qt=({url:hr,livestream_source:lo})=>{const{livestreamSources:_o}=index_min.CONST;let bo=hr;if(_o.includes(lo)?bo=hr.replace(".flv",".m3u8"):lo===2&&(bo=hr.replace("/pull","/hls").replace("/flv","/hls").replace(".flv",".m3u8")),Ht&&+lo==4){const Hr=window.URL||window.webkitURL,Do=new Hr(bo);Do.hostname=Ht,bo=Do.href}return console.log(bo),bo},{live_play_ad:_n,config:hn}=Ft,{switch_robotroom:Mn,switch_anchorroom:kn,switch_shortvideo_check:Cn,switch_match_database:yn}=hn,Ut=useMainStore(hr=>hr.categories),En=useMainStore(hr=>hr.banners),vn=useMainStore(hr=>hr.homeData),wn=useMainStore(hr=>hr.searchLog),Ln=useMainStore(hr=>hr.prevPathname),Kn=useMainStore(hr=>hr.isTest),Rn=useMainStore(hr=>hr.isLandscape),Tn=useMainStore(hr=>hr.theme),Un=useMainStore(hr=>hr.mode),$n=useMainStore(hr=>hr.siteName),Vn=useMainStore(hr=>hr.databaseHomeData),tr=useMainStore(hr=>hr.selectedHeadline),Jn=useMainStore(hr=>hr.v2),wr=useMainStore(hr=>hr.lang),jr=Mn==="0"&&kn==="0",Zt=reactExports.useMemo(()=>{let hr="";return Jn&&!jr?hr="anchors":Cn==="1"?hr="clips":yn==="1"&&(hr="db"),hr},[Jn,jr,Cn,yn]);return{getCommonConfig:lt,commonConfig:Ft,config:Ft.config,getCategories:pt,categories:Ut,getBanners:mt,banners:En,getHomeData:Mt,homeData:vn,setSearchLog:At,searchLog:wn,addRoomNote:wt,setRoomNotes:Tt,cancelRequests:Rt,prevPathname:Ln,isTest:Kn,isLandscape:Rn,defaultAvatar:Bt,theme:Tn,mode:Un,getBaseDictionary:Vt,site:ot,siteName:$n,v2:Jn,getDatabaseHomeData:bt,databaseHomeData:Vn,toggleMode:$t,selectedHeadline:tr,live_play_ad:_n,defaultSelectedHeadline:Zt,parsePullUrl:Qt,lang:wr,allowFullScreen:ct}};var DPlayer_min={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt()})(self,()=>(()=>{var nt={916:(ct,lt,pt)=>{var mt=pt(471);ct.exports=function(Mt){var bt,At="",wt=(Mt=Mt||{}).video,Tt=Mt.options,Rt=mt.$escape,Bt=Mt.tran,Vt=Mt.icons,$t=Mt.index,Ft=mt.$each;return Mt.$value,Mt.$index,At+=`<div class="dplayer-mask"></div>
<div class="dplayer-video-wrap">
    `,bt=pt(568)(wt),At+=bt,At+=`
    `,Tt.logo&&(At+=`
    <div class="dplayer-logo">
        <img src="`,At+=Rt(Tt.logo),At+=`">
    </div>
    `),At+=`
    <div class="dplayer-danmaku"`,Tt.danmaku&&Tt.danmaku.bottom&&(At+=' style="margin-bottom:',At+=Rt(Tt.danmaku.bottom),At+='"'),At+=`>
        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>
    </div>
    <div class="dplayer-subtitle"></div>
    <div class="dplayer-bezel">
        <span class="dplayer-bezel-icon"></span>
        `,Tt.danmaku&&(At+=`
        <span class="dplayer-danloading">`,At+=Rt(Bt("danmaku-loading")),At+=`</span>
        `),At+=`
        <span class="diplayer-loading-icon">`,At+=Vt.loading,At+=`</span>
    </div>
</div>
<div class="dplayer-controller-mask"></div>
<div class="dplayer-controller">
    <div class="dplayer-icons dplayer-comment-box">
        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="`,At+=Rt(Bt("setting")),At+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,At+=Vt.pallette,At+=`</span>
        </button>
        <div class="dplayer-comment-setting-box">
            <div class="dplayer-comment-setting-color">
                <div class="dplayer-comment-setting-title">`,At+=Rt(Bt("set-danmaku-color")),At+=`</div>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,At+=Rt($t),At+=`" value="#fff" checked>
                    <span style="background: #fff;"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,At+=Rt($t),At+=`" value="#e54256">
                    <span style="background: #e54256"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,At+=Rt($t),At+=`" value="#ffe133">
                    <span style="background: #ffe133"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,At+=Rt($t),At+=`" value="#64DD17">
                    <span style="background: #64DD17"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,At+=Rt($t),At+=`" value="#39ccff">
                    <span style="background: #39ccff"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,At+=Rt($t),At+=`" value="#D500F9">
                    <span style="background: #D500F9"></span>
                </label>
            </div>
            <div class="dplayer-comment-setting-type">
                <div class="dplayer-comment-setting-title">`,At+=Rt(Bt("set-danmaku-type")),At+=`</div>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,At+=Rt($t),At+=`" value="1">
                    <span>`,At+=Rt(Bt("top")),At+=`</span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,At+=Rt($t),At+=`" value="0" checked>
                    <span>`,At+=Rt(Bt("rolling")),At+=`</span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,At+=Rt($t),At+=`" value="2">
                    <span>`,At+=Rt(Bt("bottom")),At+=`</span>
                </label>
            </div>
        </div>
        <input class="dplayer-comment-input" type="text" placeholder="`,At+=Rt(Bt("input-danmaku-enter")),At+=`" maxlength="30">
        <button class="dplayer-icon dplayer-send-icon" data-balloon="`,At+=Rt(Bt("send")),At+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,At+=Vt.send,At+=`</span>
        </button>
    </div>
    <div class="dplayer-icons dplayer-icons-left">
        <button class="dplayer-icon dplayer-play-icon">
            <span class="dplayer-icon-content">`,At+=Vt.play,At+=`</span>
        </button>
        <div class="dplayer-volume">
            <button class="dplayer-icon dplayer-volume-icon">
                <span class="dplayer-icon-content">`,At+=Vt.volumeDown,At+=`</span>
            </button>
            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">
                <div class="dplayer-volume-bar">
                    <div class="dplayer-volume-bar-inner" style="background: `,At+=Rt(Tt.theme),At+=`;">
                        <span class="dplayer-thumb" style="background: `,At+=Rt(Tt.theme),At+=`"></span>
                    </div>
                </div>
            </div>
        </div>
        <span class="dplayer-time">
            <span class="dplayer-ptime">0:00</span> /
            <span class="dplayer-dtime">0:00</span>
        </span>
        `,Tt.live&&(At+=`
        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: `,At+=Rt(Tt.theme),At+=';"></span>',At+=Rt(Bt("live")),At+=`</span>
        `),At+=`
    </div>
    <div class="dplayer-icons dplayer-icons-right">
        `,Tt.video.quality&&(At+=`
        <div class="dplayer-quality">
            <button class="dplayer-icon dplayer-quality-icon">`,At+=Rt(Tt.video.quality[Tt.video.defaultQuality].name),At+=`</button>
            <div class="dplayer-quality-mask">
                <div class="dplayer-quality-list">
                `,Ft(Tt.video.quality,function(Ht,Qt){At+=`
                    <div class="dplayer-quality-item" data-index="`,At+=Rt(Qt),At+='">',At+=Rt(Ht.name),At+=`</div>
                `}),At+=`
                </div>
            </div>
        </div>
        `),At+=`
        `,Tt.screenshot&&(At+=`
        <div class="dplayer-icon dplayer-camera-icon" data-balloon="`,At+=Rt(Bt("screenshot")),At+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,At+=Vt.camera,At+=`</span>
        </div>
        `),At+=`
        `,Tt.airplay&&(At+=`
        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="`,At+=Rt(Bt("airplay")),At+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,At+=Vt.airplay,At+=`</span>
        </div>
        `),At+=`
        `,Tt.chromecast&&(At+=`
        <div class="dplayer-icon dplayer-chromecast-icon" data-balloon="`,At+=Rt(Bt("chromecast")),At+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,At+=Vt.chromecast,At+=`</span>
        </div>
        `),At+=`
        <div class="dplayer-comment">
            <button class="dplayer-icon dplayer-comment-icon" data-balloon="`,At+=Rt(Bt("send-danmaku")),At+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,At+=Vt.comment,At+=`</span>
            </button>
        </div>
        `,Tt.subtitle&&(At+=`
        `,typeof Tt.subtitle.url=="string"?(At+=`
        <div class="dplayer-subtitle-btn">
            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="`,At+=Rt(Bt("hide-subs")),At+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,At+=Vt.subtitle,At+=`</span>
            </button>
        </div>
        `):(At+=`
        <div class="dplayer-subtitles">
            <button class="dplayer-icon dplayer-subtitles-icon" data-balloon="`,At+=Rt(Bt("subtitle")),At+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,At+=Vt.subtitle,At+=`</span>
            </button>
            <div class="dplayer-subtitles-box">
                <div class="dplayer-subtitles-panel">
                    `,Ft(Tt.subtitle.url,function(Ht,Qt){At+=`
                        <div class="dplayer-subtitles-item" data-subtitle="`,At+=Rt(Ht.url),At+=`">
                            <!-- if lang, show tran(lang). if lang and name, show name + (tran(lang)). if name, show name. off option use lang for translation. -->
                            <span class="dplayer-label">`,At+=Rt(Ht.lang?Ht.name?Ht.name+" ("+Bt(Ht.lang)+")":Bt(Ht.lang):Ht.name),At+=`</span>
                        </div>
                    `}),At+=`
                </div>
            </div>
        </div>
        `),At+=`
        `),At+=`
        <div class="dplayer-setting">
            <button class="dplayer-icon dplayer-setting-icon" data-balloon="`,At+=Rt(Bt("setting")),At+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,At+=Vt.setting,At+=`</span>
            </button>
            <div class="dplayer-setting-box">
                <div class="dplayer-setting-origin-panel">
                    <div class="dplayer-setting-item dplayer-setting-speed">
                        <span class="dplayer-label">`,At+=Rt(Bt("speed")),At+=`</span>
                        <div class="dplayer-toggle">`,At+=Vt.right,At+=`</div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-loop">
                        <span class="dplayer-label">`,At+=Rt(Bt("loop")),At+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">
                            <label for="dplayer-toggle"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-showdan">
                        <span class="dplayer-label">`,At+=Rt(Bt("show-danmaku")),At+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">
                            <label for="dplayer-toggle-dan"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-danunlimit">
                        <span class="dplayer-label">`,At+=Rt(Bt("unlimited-danmaku")),At+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">
                            <label for="dplayer-toggle-danunlimit"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-danmaku">
                        <span class="dplayer-label">`,At+=Rt(Bt("opacity-danmaku")),At+=`</span>
                        <div class="dplayer-danmaku-bar-wrap">
                            <div class="dplayer-danmaku-bar">
                                <div class="dplayer-danmaku-bar-inner">
                                    <span class="dplayer-thumb"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dplayer-setting-speed-panel">
                    `,Ft(Tt.playbackSpeed,function(Ht,Qt){At+=`
                        <div class="dplayer-setting-speed-item" data-speed="`,At+=Rt(Ht),At+=`">
                            <span class="dplayer-label">`,At+=Rt(Ht===1?Bt("normal"):Ht),At+=`</span>
                        </div>
                    `}),At+=`
                </div>
            </div>
        </div>
        <div class="dplayer-full">
            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="`,At+=Rt(Bt("web-fullscreen")),At+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,At+=Vt.fullWeb,At+=`</span>
            </button>
            <button class="dplayer-icon dplayer-full-icon" data-balloon="`,At+=Rt(Bt("fullscreen")),At+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,At+=Vt.full,At+=`</span>
            </button>
        </div>
    </div>
    <div class="dplayer-bar-wrap">
        <div class="dplayer-bar-time hidden">00:00</div>
        <div class="dplayer-bar-preview"></div>
        <div class="dplayer-bar">
            <div class="dplayer-loaded" style="width: 0;"></div>
            <div class="dplayer-played" style="width: 0; background: `,At+=Rt(Tt.theme),At+=`">
                <span class="dplayer-thumb" style="background: `,At+=Rt(Tt.theme),At+=`"></span>
            </div>
        </div>
    </div>
</div>
<div class="dplayer-info-panel dplayer-info-panel-hide">
    <div class="dplayer-info-panel-close">[x]</div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">
        <span class="dplayer-info-panel-item-title">Player version</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">
        <span class="dplayer-info-panel-item-title">Player FPS</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">
        <span class="dplayer-info-panel-item-title">Video type</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">
        <span class="dplayer-info-panel-item-title">Video url</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">
        <span class="dplayer-info-panel-item-title">Video resolution</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">
        <span class="dplayer-info-panel-item-title">Video duration</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    `,Tt.danmaku&&(At+=`
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">
        <span class="dplayer-info-panel-item-title">Danmaku id</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">
        <span class="dplayer-info-panel-item-title">Danmaku api</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">
        <span class="dplayer-info-panel-item-title">Danmaku amount</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    `),At+=`
</div>
<div class="dplayer-menu">
    `,Ft(Tt.contextmenu,function(Ht,Qt){At+=`
        <div class="dplayer-menu-item">
            <a`,Ht.link&&(At+=' target="_blank"'),At+=' href="',At+=Rt(Ht.link||"javascript:void(0);"),At+='">',Ht.key&&(At+=" ",At+=Rt(Bt(Ht.key))),Ht.text&&(At+=" ",At+=Rt(Ht.text)),At+=`</a>
        </div>
    `}),At+=`
</div>
<div class="dplayer-notice-list"></div>
<button class="dplayer-mobile-play">
    `,At+=Vt.play,At+=`
</button>`}},568:(ct,lt,pt)=>{var mt=pt(471);ct.exports=function(Mt){var bt="",At=(Mt=Mt||{}).enableSubtitle,wt=Mt.subtitle,Tt=Mt.current,Rt=Mt.airplay,Bt=Mt.pic,Vt=mt.$escape,$t=Mt.screenshot,Ft=Mt.preload,Ht=Mt.url;return At=wt&&wt.type==="webvtt",bt+=`
<video
    class="dplayer-video `,Tt&&(bt+="dplayer-video-current"),bt+=`"
    webkit-playsinline
    `,Rt&&(bt+=' x-webkit-airplay="allow" '),bt+=`
    playsinline
    `,Bt&&(bt+='poster="',bt+=Vt(Bt),bt+='"'),bt+=`
    `,($t||At)&&(bt+='crossorigin="anonymous"'),bt+=`
    `,Ft&&(bt+='preload="',bt+=Vt(Ft),bt+='"'),bt+=`
    `,Rt?bt+=`
    nosrc
    `:Ht&&(bt+=`
    src="`,bt+=Vt(Ht),bt+=`"
    `),bt+=`
    >
    `,Rt&&(bt+=`
    <source src="`,bt+=Vt(Ht),bt+=`">
    `),bt+=`
    `,At&&(bt+=`
    <track class="dplayer-subtrack" kind="metadata" default src="`,bt+=Vt(typeof wt.url=="string"?wt.url:wt.url[wt.index].url),bt+=`"></track>
    `),bt+`
</video>`}},49:(ct,lt,pt)=>{pt.d(lt,{Z:()=>wt});var mt=pt(415),Mt=pt.n(mt),bt=pt(352),At=pt.n(bt)()(Mt());At.push([ct.id,`:root {
  --balloon-border-radius: 2px;
  --balloon-color: rgba(16, 16, 16, 0.95);
  --balloon-text-color: #fff;
  --balloon-font-size: 12px;
  --balloon-move: 4px; }

button[aria-label][data-balloon-pos] {
  overflow: visible; }

[aria-label][data-balloon-pos] {
  position: relative;
  cursor: pointer; }
  [aria-label][data-balloon-pos]:after {
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    text-indent: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    font-weight: normal;
    font-style: normal;
    text-shadow: none;
    font-size: 12px;
    font-size: var(--balloon-font-size);
    background: rgba(16, 16, 16, 0.95);
    background: var(--balloon-color);
    border-radius: 2px;
    color: #fff;
    color: var(--balloon-text-color);
    border-radius: var(--balloon-border-radius);
    content: attr(aria-label);
    padding: .5em 1em;
    position: absolute;
    white-space: nowrap;
    z-index: 10; }
  [aria-label][data-balloon-pos]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-top-color: rgba(16, 16, 16, 0.95);
    border-top-color: var(--balloon-color);
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    content: "";
    position: absolute;
    z-index: 10; }
  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {
    opacity: 1;
    pointer-events: none; }
  [aria-label][data-balloon-pos].font-awesome:after {
    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }
  [aria-label][data-balloon-pos][data-balloon-break]:after {
    white-space: pre; }
  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {
    white-space: pre-line;
    word-break: break-word; }
  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {
    transition: none; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {
    left: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {
    left: 5px; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {
    right: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {
    right: 5px; }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    bottom: 100%;
    transform-origin: top;
    transform: translate(0, 4px);
    transform: translate(0, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    margin-bottom: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {
    left: 50%;
    transform: translate(-50%, 4px);
    transform: translate(-50%, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    top: 100%;
    transform: translate(0, calc(4px * -1));
    transform: translate(0, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    margin-top: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-bottom-color: rgba(16, 16, 16, 0.95);
    border-bottom-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {
    left: 50%;
    transform: translate(-50%, calc(4px * -1));
    transform: translate(-50%, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    right: 100%;
    top: 50%;
    transform: translate(4px, -50%);
    transform: translate(var(--balloon-move), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {
    margin-right: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-left-color: rgba(16, 16, 16, 0.95);
    border-left-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    left: 100%;
    top: 50%;
    transform: translate(calc(4px * -1), -50%);
    transform: translate(calc(var(--balloon-move) * -1), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {
    margin-left: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-right-color: rgba(16, 16, 16, 0.95);
    border-right-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-length]:after {
    white-space: normal; }
  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {
    width: 80px; }
  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {
    width: 150px; }
  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {
    width: 260px; }
  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
    width: 380px; }
    @media screen and (max-width: 768px) {
      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
        width: 90vw; } }
  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {
    width: 100%; }
`,"",{version:3,sources:["webpack://./node_modules/.pnpm/balloon-css@1.2.0/node_modules/balloon-css/balloon.css"],names:[],mappings:"AAAA;EACE,4BAA4B;EAC5B,uCAAuC;EACvC,0BAA0B;EAC1B,yBAAyB;EACzB,mBAAmB,EAAE;;AAEvB;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB;EAClB,eAAe,EAAE;EACjB;IACE,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,cAAc;IACd,wIAAwI;IACxI,mBAAmB;IACnB,kBAAkB;IAClB,iBAAiB;IACjB,eAAmC;IAAnC,mCAAmC;IACnC,kCAAgC;IAAhC,gCAAgC;IAChC,kBAAkB;IAClB,WAAgC;IAAhC,gCAAgC;IAChC,2CAA2C;IAC3C,yBAAyB;IACzB,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,WAAW,EAAE;EACf;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,wCAAsC;IAAtC,sCAAsC;IACtC,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,WAAW;IACX,kBAAkB;IAClB,WAAW,EAAE;EACf;IACE,UAAU;IACV,oBAAoB,EAAE;EACxB;IACE,qJAAqJ,EAAE;EACzJ;IACE,gBAAgB,EAAE;EACpB;IACE,qBAAqB;IACrB,sBAAsB,EAAE;EAC1B;IACE,gBAAgB,EAAE;EACpB;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,OAAO,EAAE;EACX;IACE,SAAS,EAAE;EACb;IACE,QAAQ,EAAE;EACZ;IACE,UAAU,EAAE;EACd;IACE,0BAA0B,EAAE;EAC9B;IACE,0BAA0B,EAAE;EAC9B;IACE,YAAY;IACZ,qBAAqB;IACrB,4BAA4C;IAA5C,4CAA4C,EAAE;EAChD;IACE,mBAAmB,EAAE;EACvB;IACE,SAAS;IACT,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,SAAS;IACT,uCAAuD;IAAvD,uDAAuD,EAAE;EAC3D;IACE,gBAAgB,EAAE;EACpB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,2CAAyC;IAAzC,yCAAyC,EAAE;EAC7C;IACE,SAAS;IACT,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,WAAW;IACX,QAAQ;IACR,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,kBAAkB,EAAE;EACtB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,yCAAuC;IAAvC,uCAAuC,EAAE;EAC3C;IACE,UAAU;IACV,QAAQ;IACR,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,iBAAiB,EAAE;EACrB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,0CAAwC;IAAxC,wCAAwC,EAAE;EAC5C;IACE,mBAAmB,EAAE;EACvB;IACE,WAAW,EAAE;EACf;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;IACd;MACE;QACE,WAAW,EAAE,EAAE;EACrB;IACE,WAAW,EAAE",sourcesContent:[`:root {
  --balloon-border-radius: 2px;
  --balloon-color: rgba(16, 16, 16, 0.95);
  --balloon-text-color: #fff;
  --balloon-font-size: 12px;
  --balloon-move: 4px; }

button[aria-label][data-balloon-pos] {
  overflow: visible; }

[aria-label][data-balloon-pos] {
  position: relative;
  cursor: pointer; }
  [aria-label][data-balloon-pos]:after {
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    text-indent: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    font-weight: normal;
    font-style: normal;
    text-shadow: none;
    font-size: var(--balloon-font-size);
    background: var(--balloon-color);
    border-radius: 2px;
    color: var(--balloon-text-color);
    border-radius: var(--balloon-border-radius);
    content: attr(aria-label);
    padding: .5em 1em;
    position: absolute;
    white-space: nowrap;
    z-index: 10; }
  [aria-label][data-balloon-pos]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-top-color: var(--balloon-color);
    opacity: 0;
    pointer-events: none;
    transition: all 0.18s ease-out 0.18s;
    content: "";
    position: absolute;
    z-index: 10; }
  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {
    opacity: 1;
    pointer-events: none; }
  [aria-label][data-balloon-pos].font-awesome:after {
    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }
  [aria-label][data-balloon-pos][data-balloon-break]:after {
    white-space: pre; }
  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {
    white-space: pre-line;
    word-break: break-word; }
  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {
    transition: none; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {
    transform: translate(-50%, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {
    left: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {
    left: 5px; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {
    right: 0; }
  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {
    right: 5px; }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {
    transform: translate(0, 0); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    bottom: 100%;
    transform-origin: top;
    transform: translate(0, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {
    margin-bottom: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {
    left: 50%;
    transform: translate(-50%, var(--balloon-move)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    top: 100%;
    transform: translate(0, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {
    margin-top: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-bottom-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {
    left: 50%;
    transform: translate(-50%, calc(var(--balloon-move) * -1)); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {
    transform: translate(0, -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    right: 100%;
    top: 50%;
    transform: translate(var(--balloon-move), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {
    margin-right: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-left-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    left: 100%;
    top: 50%;
    transform: translate(calc(var(--balloon-move) * -1), -50%); }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {
    margin-left: 10px; }
  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {
    width: 0;
    height: 0;
    border: 5px solid transparent;
    border-right-color: var(--balloon-color); }
  [aria-label][data-balloon-pos][data-balloon-length]:after {
    white-space: normal; }
  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {
    width: 80px; }
  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {
    width: 150px; }
  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {
    width: 260px; }
  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
    width: 380px; }
    @media screen and (max-width: 768px) {
      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {
        width: 90vw; } }
  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {
    width: 100%; }
`],sourceRoot:""}]);const wt=At},685:(ct,lt,pt)=>{pt.d(lt,{Z:()=>Ft});var mt=pt(415),Mt=pt.n(mt),bt=pt(352),At=pt.n(bt),wt=pt(49),Tt=pt(80),Rt=pt.n(Tt),Bt=new URL(pt(831),pt.b),Vt=At()(Mt());Vt.i(wt.Z);var $t=Rt()(Bt);Vt.push([ct.id,`@keyframes my-face {
  2% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  4% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  6% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  8% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  10% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  12% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  14% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  16% {
    transform: translate(0, -0.5px) rotate(-1.5deg);
  }
  18% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  20% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  22% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  24% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  26% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  28% {
    transform: translate(0, 0.5px) rotate(1.5deg);
  }
  30% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  32% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  34% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  36% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  38% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  40% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  42% {
    transform: translate(0, 2.5px) rotate(-1.5deg);
  }
  44% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  46% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  48% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  50% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  52% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  54% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  56% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  58% {
    transform: translate(0, 0.5px) rotate(2.5deg);
  }
  60% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  62% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  64% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  66% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  68% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  70% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  72% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  74% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  76% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  78% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  80% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  82% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  84% {
    transform: translate(0, 1.5px) rotate(2.5deg);
  }
  86% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  88% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  90% {
    transform: translate(0, 2.5px) rotate(-0.5deg);
  }
  92% {
    transform: translate(0, 0.5px) rotate(-0.5deg);
  }
  94% {
    transform: translate(0, 2.5px) rotate(0.5deg);
  }
  96% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  98% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}
.dplayer {
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  line-height: 1;
}
.dplayer * {
  box-sizing: content-box;
}
.dplayer svg {
  width: 100%;
  height: 100%;
}
.dplayer svg path,
.dplayer svg circle {
  fill: #fff;
}
.dplayer:-webkit-full-screen {
  width: 100%;
  height: 100%;
  background: #000;
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
  margin: 0;
  padding: 0;
  transform: translate(0, 0);
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-danmaku {
  display: none;
}
.dplayer.dplayer-live .dplayer-time {
  display: none;
}
.dplayer.dplayer-live .dplayer-bar-wrap {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-speed {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-loop {
  display: none;
}
.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {
  display: none;
}
.dplayer.dplayer-arrow .dplayer-danmaku {
  font-size: 18px;
}
.dplayer.dplayer-arrow .dplayer-icon {
  margin: 0 -3px;
}
.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {
  animation-play-state: running;
}
@media (min-width: 900px) {
  .dplayer.dplayer-playing .dplayer-controller-mask {
    opacity: 0;
  }
  .dplayer.dplayer-playing .dplayer-controller {
    opacity: 0;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller-mask {
    opacity: 1;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller {
    opacity: 1;
  }
}
.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {
  display: block;
}
.dplayer.dplayer-loading .dplayer-danmaku,
.dplayer.dplayer-paused .dplayer-danmaku,
.dplayer.dplayer-loading .dplayer-danmaku-move,
.dplayer.dplayer-paused .dplayer-danmaku-move {
  animation-play-state: paused;
}
.dplayer.dplayer-hide-controller {
  cursor: none;
}
.dplayer.dplayer-hide-controller .dplayer-controller-mask {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-hide-controller .dplayer-controller {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-show-controller .dplayer-controller-mask {
  opacity: 1;
}
.dplayer.dplayer-show-controller .dplayer-controller {
  opacity: 1;
}
.dplayer.dplayer-fulled {
  width: 100% !important;
  height: 100% !important;
}
.dplayer.dplayer-fulled {
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: static;
  display: inline-block;
}
.dplayer.dplayer-mobile .dplayer-bar-time {
  display: none;
}
.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-mobile-play {
  display: block;
}
.dplayer-web-fullscreen-fix {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
}
[data-balloon]:before {
  display: none;
}
[data-balloon]:after {
  padding: 0.3em 0.7em;
  background: rgba(17, 17, 17, 0.7);
}
[data-balloon][data-balloon-pos="up"]:after {
  margin-bottom: 0;
}
.dplayer-bezel {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -26px 0 0 -26px;
  height: 52px;
  width: 52px;
  padding: 12px;
  box-sizing: border-box;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {
  animation: bezel-hide 0.5s linear;
}
@keyframes bezel-hide {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}
.dplayer-bezel .dplayer-danloading {
  position: absolute;
  top: 50%;
  margin-top: -7px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  line-height: 14px;
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-bezel .diplayer-loading-icon {
  display: none;
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -18px 0 0 -18px;
  height: 36px;
  width: 36px;
  pointer-events: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {
  display: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {
  animation: diplayer-loading-dot-fade 0.8s ease infinite;
  opacity: 0;
  transform-origin: 4px 4px;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {
  animation-delay: 0.1s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {
  animation-delay: 0.2s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {
  animation-delay: 0.3s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {
  animation-delay: 0.4s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {
  animation-delay: 0.5s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {
  animation-delay: 0.6s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {
  animation-delay: 0.7s;
}
@keyframes diplayer-loading-dot-fade {
  0% {
    opacity: 0.7;
    transform: scale(1.2, 1.2);
  }
  50% {
    opacity: 0.25;
    transform: scale(0.9, 0.9);
  }
  to {
    opacity: 0.25;
    transform: scale(0.85, 0.85);
  }
}
.dplayer-controller-mask {
  background: url(`+$t+`) repeat-x bottom;
  height: 98px;
  width: 100%;
  position: absolute;
  bottom: 0;
  transition: all 0.3s ease;
}
.dplayer-controller {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 41px;
  padding: 0 20px;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  transition: all 0.3s ease;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons {
  display: none;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap {
  padding: 5px 0;
  cursor: pointer;
  position: absolute;
  bottom: 33px;
  width: calc(100% - 40px);
  height: 3px;
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {
  display: block;
  width: 8px;
  transform: translateX(-4px);
  top: 4px;
  height: 40%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {
  z-index: 12;
  position: absolute;
  top: 5px;
  width: 6px;
  height: 20%;
  border-radius: 6px;
  background-color: #fff;
  text-align: center;
  transform: translateX(-3px);
  transition: all 0.2s ease-in-out;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {
  display: none;
  position: absolute;
  left: 50%;
  top: -24px;
  padding: 5px 8px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  transform: translateX(-50%);
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {
  position: absolute;
  background: #fff;
  pointer-events: none;
  display: none;
  background-size: 16000px 100%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {
  position: absolute;
  left: 0px;
  top: -20px;
  border-radius: 4px;
  padding: 5px 7px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  font-size: 12px;
  text-align: center;
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
  word-wrap: normal;
  word-break: normal;
  z-index: 2;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar {
  position: relative;
  height: 3px;
  width: 100%;
  background: rgba(255, 255, 255, 0.2);
  cursor: pointer;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.4);
  height: 3px;
  transition: all 0.5s ease;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  height: 3px;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons {
  height: 38px;
  position: absolute;
  bottom: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box {
  display: none;
  position: absolute;
  transition: all 0.3s ease-in-out;
  z-index: 2;
  height: 38px;
  bottom: 0;
  left: 20px;
  right: 20px;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {
  position: absolute;
  left: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {
  position: absolute;
  right: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {
  position: absolute;
  background: rgba(28, 28, 28, 0.9);
  bottom: 41px;
  left: 0;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  padding: 10px 10px 16px;
  font-size: 14px;
  width: 204px;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {
  font-size: 13px;
  color: #fff;
  line-height: 30px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {
  margin-bottom: 6px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {
  border-radius: 4px 0 0 4px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {
  border-radius: 0 4px 4px 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {
  width: 33%;
  padding: 4px 6px;
  line-height: 16px;
  display: inline-block;
  font-size: 12px;
  color: #fff;
  border: 1px solid #fff;
  margin-right: -1px;
  box-sizing: border-box;
  text-align: center;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {
  background: #E4E4E6;
  color: #1c1c1c;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {
  font-size: 0;
  padding: 6px;
  display: inline-block;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {
  width: 22px;
  height: 22px;
  display: inline-block;
  border-radius: 50%;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {
  outline: none;
  border: none;
  padding: 8px 31px;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  border-radius: 4px;
  background: none;
  margin: 0;
  height: 100%;
  box-sizing: border-box;
  width: 100%;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder {
  color: #fff;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {
  color: #fff;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right {
  right: 20px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {
  padding: 8px;
}
.dplayer-controller .dplayer-icons .dplayer-time,
.dplayer-controller .dplayer-icons .dplayer-live-badge {
  line-height: 38px;
  color: #eee;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
  vertical-align: middle;
  font-size: 13px;
  cursor: default;
}
.dplayer-controller .dplayer-icons .dplayer-live-dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  vertical-align: 4%;
  margin-right: 5px;
  content: '';
  border-radius: 6px;
}
.dplayer-controller .dplayer-icons .dplayer-icon {
  width: 40px;
  height: 100%;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  vertical-align: middle;
  box-sizing: border-box;
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {
  transition: all 0.2s ease-in-out;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {
  opacity: 1;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {
  color: #fff;
  width: auto;
  line-height: 22px;
  font-size: 14px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {
  padding: 10px 9px 9px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {
  padding-top: 8.5px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {
  width: 43px;
}
.dplayer-controller .dplayer-icons .dplayer-volume {
  position: relative;
  display: inline-block;
  cursor: pointer;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {
  display: inline-block;
  margin: 0 10px 0 -5px;
  vertical-align: middle;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {
  position: relative;
  top: 17px;
  width: 0;
  height: 3px;
  background: #aaa;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: -moz-fit-content;
  width: fit-content;
  max-width: 240px;
  min-width: 120px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: auto;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: 150px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {
  width: 70px;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {
  padding: 5px 0;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {
  padding: 0 10px;
  display: inline;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {
  padding: 0 10px;
  box-sizing: border-box;
  display: none;
  vertical-align: middle;
  height: 100%;
  width: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {
  position: relative;
  top: 8.5px;
  width: 100%;
  height: 3px;
  background: #fff;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  background: #aaa;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  background: #aaa;
}
.dplayer-controller .dplayer-icons .dplayer-full {
  display: inline-block;
  height: 100%;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: absolute;
  top: -30px;
  z-index: 1;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-quality {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {
  display: none;
  position: absolute;
  bottom: 38px;
  left: -18px;
  width: 80px;
  padding-bottom: 12px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {
  display: none;
  font-size: 12px;
  width: 80px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 5px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {
  height: 25px;
  box-sizing: border-box;
  cursor: pointer;
  line-height: 25px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-comment {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-label {
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  white-space: nowrap;
}
.dplayer-controller .dplayer-icons .dplayer-toggle {
  width: 32px;
  height: 20px;
  text-align: center;
  font-size: 0;
  vertical-align: middle;
  position: absolute;
  top: 5px;
  right: 10px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input {
  max-height: 0;
  max-width: 0;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label {
  display: inline-block;
  position: relative;
  box-shadow: #dfdfdf 0 0 0 0 inset;
  border: 1px solid #dfdfdf;
  height: 20px;
  width: 32px;
  border-radius: 10px;
  box-sizing: border-box;
  cursor: pointer;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {
  content: "";
  position: absolute;
  display: block;
  height: 18px;
  width: 18px;
  top: 0;
  left: 0;
  border-radius: 15px;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {
  content: "";
  position: absolute;
  display: block;
  left: 0;
  top: 0;
  border-radius: 15px;
  background: #fff;
  transition: 0.2s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  height: 18px;
  width: 18px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {
  border-color: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {
  width: 30px;
  background: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {
  left: 12px;
}
.dplayer-mobile-play {
  display: none;
  width: 50px;
  height: 50px;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  box-sizing: border-box;
  bottom: 0;
  opacity: 0.8;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.dplayer-danmaku {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
}
.dplayer-danmaku .dplayer-danmaku-item {
  display: inline-block;
  pointer-events: none;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  cursor: default;
  white-space: nowrap;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
}
.dplayer-danmaku .dplayer-danmaku-item--demo {
  position: absolute;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-right {
  position: absolute;
  right: 0;
  transform: translateX(100%);
}
.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {
  will-change: transform;
  animation-name: 'danmaku';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku {
  from {
    transform: translateX(100%);
  }
}
.dplayer-danmaku .dplayer-danmaku-top,
.dplayer-danmaku .dplayer-danmaku-bottom {
  position: absolute;
  width: 100%;
  text-align: center;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,
.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {
  will-change: visibility;
  animation-name: 'danmaku-center';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku-center {
  from {
    visibility: visible;
  }
  to {
    visibility: visible;
  }
}
.dplayer-logo {
  pointer-events: none;
  position: absolute;
  left: 20px;
  top: 20px;
  max-width: 50px;
  max-height: 50px;
}
.dplayer-logo img {
  max-width: 100%;
  max-height: 100%;
  background: none;
}
.dplayer-menu {
  position: absolute;
  width: 170px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.85);
  padding: 5px 0;
  overflow: hidden;
  z-index: 3;
  display: none;
}
.dplayer-menu.dplayer-menu-show {
  display: block;
}
.dplayer-menu .dplayer-menu-item {
  height: 30px;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-menu .dplayer-menu-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-menu .dplayer-menu-item a {
  padding: 0 10px;
  line-height: 30px;
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-menu .dplayer-menu-item a:hover {
  text-decoration: none;
}
.dplayer-notice-list {
  position: absolute;
  bottom: 60px;
  left: 20px;
}
.dplayer-notice-list .dplayer-notice {
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  display: table;
  pointer-events: none;
  animation: showNotice 0.3s ease 1 forwards;
}
.dplayer-notice-list .remove-notice {
  animation: removeNotice 0.3s ease 1 forwards;
}
@keyframes showNotice {
  from {
    padding: 0;
    font-size: 0;
    margin-top: 0;
  }
  to {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
}
@keyframes removeNotice {
  0% {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
  20% {
    font-size: 12px;
  }
  21% {
    font-size: 0;
    padding: 7px 10px;
  }
  100% {
    padding: 0;
    margin-top: 0;
    font-size: 0;
  }
}
.dplayer-subtitle {
  position: absolute;
  bottom: 40px;
  width: 90%;
  left: 5%;
  text-align: center;
  color: #fff;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
  font-size: 20px;
}
.dplayer-subtitle.dplayer-subtitle-hide {
  display: none;
}
.dplayer-mask {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
  display: none;
}
.dplayer-mask.dplayer-mask-show {
  display: block;
}
.dplayer-video-wrap {
  position: relative;
  background: #000;
  font-size: 0;
  width: 100%;
  height: 100%;
}
.dplayer-video-wrap .dplayer-video {
  width: 100%;
  height: 100%;
  display: none;
}
.dplayer-video-wrap .dplayer-video-current {
  display: block;
}
.dplayer-video-wrap .dplayer-video-prepare {
  display: none;
}
.dplayer-info-panel {
  position: absolute;
  top: 10px;
  left: 10px;
  width: 400px;
  background: rgba(28, 28, 28, 0.8);
  padding: 10px;
  color: #fff;
  font-size: 12px;
  border-radius: 2px;
}
.dplayer-info-panel-hide {
  display: none;
}
.dplayer-info-panel .dplayer-info-panel-close {
  cursor: pointer;
  position: absolute;
  right: 10px;
  top: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item > span {
  display: inline-block;
  vertical-align: middle;
  line-height: 15px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-info-panel .dplayer-info-panel-item-title {
  width: 100px;
  text-align: right;
  margin-right: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item-data {
  width: 260px;
}
`,"",{version:3,sources:["webpack://./src/css/global.less","webpack://./src/css/index.less","webpack://./src/css/player.less","webpack://./src/css/balloon.less","webpack://./src/css/bezel.less","webpack://./src/css/notice.less","webpack://./src/css/controller.less","webpack://./src/css/danmaku.less","webpack://./src/css/logo.less","webpack://./src/css/menu.less","webpack://./src/css/subtitle.less","webpack://./src/css/video.less","webpack://./src/css/info-panel.less"],names:[],mappings:"AAAA;EACI;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;;IAEI,uCAAA;ECEN;AACF;ACzJA;EACI,kBAAA;EACA,gBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,cAAA;AD2JJ;AC/JA;EAOQ,uBAAA;AD2JR;AClKA;EAWQ,WAAA;EACA,YAAA;AD0JR;ACtKA;;EAgBY,UAAA;AD0JZ;ACtJI;EACI,WAAA;EACA,YAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,0BAAA;ADwJR;ACpJI;;;EAKY,aAAA;ADoJhB;ACzJI;EAUQ,aAAA;ADkJZ;AC5JI;EAcQ,aAAA;ADiJZ;AC7II;EAEQ,aAAA;AD8IZ;AChJI;EAKQ,aAAA;AD8IZ;ACnJI;EAQQ,aAAA;AD8IZ;ACtJI;EAWQ,aAAA;AD8IZ;AC3IQ;EAEQ,aAAA;AD4IhB;ACvII;EAEQ,eAAA;ADwIZ;AC1II;EAKQ,cAAA;ADwIZ;ACpII;EAEQ,6BAAA;ADqIZ;AClIQ;EAAA;IAEQ,UAAA;EDoId;ECtIM;IAKQ,UAAA;EDoId;ECjIU;IAEQ,UAAA;EDkIlB;ECpIU;IAKQ,UAAA;EDkIlB;AACF;AC7HI;EAEQ,cAAA;AD8HZ;AC1HI;;;;EAIQ,4BAAA;AD4HZ;ACxHI;EACI,YAAA;AD0HR;AC3HI;EAIQ,UAAA;EACA,2BAAA;AD0HZ;AC/HI;EAQQ,UAAA;EACA,2BAAA;AD0HZ;ACvHI;EAEQ,UAAA;ADwHZ;AC1HI;EAKQ,UAAA;ADwHZ;ACrHI;EAKI,sBAAA;EACA,uBAAA;ADuHR;AC7HI;EACI,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;ADyHR;ACrHI;;;;;EAOY,aAAA;ADqHhB;AC5HI;EAUY,gBAAA;EACA,qBAAA;ADqHhB;AChII;EAgBQ,aAAA;ADmHZ;AChHQ;EAEQ,aAAA;ADiHhB;ACtII;EA0BQ,cAAA;AD+GZ;ACzGA;EACI,eAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;AD2GJ;AElSA;EACI,aAAA;AFoSJ;AEjSA;EACI,oBAAA;EACA,iCAAA;AFmSJ;AEhSA;EACI,gBAAA;AFkSJ;AG9SA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;EACA,oBAAA;AHgTJ;AGxTA;EAUQ,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;EACA,8BAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AHiTR;AGhTQ;EACI,iCAAA;AHkTZ;AGhTQ;EACI;IACI,UAAA;IACA,mBAAA;EHkTd;EGhTU;IACI,UAAA;IACA,mBAAA;EHkTd;AACF;AGnVA;EAqCQ,kBAAA;EACA,QAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,0CAAA;AHiTR;AG7VA;EA+CQ,aAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,oBAAA;AHiTR;AGvWA;EAwDY,aAAA;AHkTZ;AG1WA;EA2DY,uDAAA;EACA,UAAA;EACA,yBAAA;AHkTZ;AI/WC;EDgEmB,qBAAA;AHkTpB;AIlXC;EDgEmB,qBAAA;AHqTpB;AIrXC;EDgEmB,qBAAA;AHwTpB;AIxXC;EDgEmB,qBAAA;AH2TpB;AI3XC;EDgEmB,qBAAA;AH8TpB;AI9XC;EDgEmB,qBAAA;AHiUpB;AIjYC;EDgEmB,qBAAA;AHoUpB;AGhUQ;EACI;IACI,YAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,4BAAA;EHkUd;AACF;AKlZA;EACI,mEAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,SAAA;EACA,yBAAA;ALoZJ;AKjZA;EACI,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,yBAAA;ALmZJ;AKlZI;EAEQ,aAAA;ALmZZ;AKrZI;EAKQ,cAAA;ALmZZ;AKjaA;EAkBQ,cAAA;EACA,eAAA;EACA,kBAAA;EACA,YAAA;EACA,wBAAA;EACA,WAAA;ALkZR;AKjZQ;EAEQ,mBAAA;ALkZhB;AKpZQ;EAKQ,cAAA;EACA,UAAA;EACA,2BAAA;EACA,QAAA;EACA,WAAA;ALkZhB;AKnbA;EAqCY,WAAA;EACA,kBAAA;EACA,QAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,2BAAA;EACA,gCAAA;ALiZZ;AKhZY;EAEQ,cAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AKxcA;EA2DgB,aAAA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,mBAAA;EACA,2BAAA;ALgZhB;AKrdA;EAyEY,kBAAA;EACA,gBAAA;EACA,oBAAA;EACA,aAAA;EACA,6BAAA;AL+YZ;AK5dA;EAgFY,kBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,oBAAA;AL+YZ;AKneA;EA0FY,kBAAA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;EACA,UAAA;EACA,oCAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AL4YZ;AK7ZY;EACI,UAAA;AL+ZhB;AKvfA;EA2GY,kBAAA;EACA,WAAA;EACA,WAAA;EACA,oCAAA;EACA,eAAA;AL+YZ;AK9fA;EAiHgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,oCAAA;EACA,WAAA;EACA,yBAAA;EACA,kBAAA;ALgZhB;AKxgBA;EA2HgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,WAAA;EACA,kBAAA;ALgZhB;AKhhBA;EAkIoB,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALiZpB;AK7hBA;EAkJQ,YAAA;EACA,kBAAA;EACA,SAAA;AL8YR;AK7YQ;EACI,aAAA;EACA,kBAAA;EACA,gCAAA;EACA,UAAA;EACA,YAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;AL+YZ;AKxZQ;EAWQ,YAAA;ALgZhB;AK3ZQ;EAcQ,kBAAA;EACA,OAAA;EACA,MAAA;ALgZhB;AKhaQ;EAmBQ,kBAAA;EACA,QAAA;EACA,MAAA;ALgZhB;AKraQ;EAwBQ,kBAAA;EACA,iCAAA;EACA,YAAA;EACA,OAAA;EACA,uCAAA;EACA,kBAAA;EACA,uBAAA;EACA,eAAA;EACA,YAAA;EACA,gCAAA;EACA,mBAAA;ALgZhB;AK/YgB;EACI,mBAAA;ALiZpB;AKrbQ;EAuCY,aAAA;ALiZpB;AKxbQ;EA0CY,eAAA;ALiZpB;AK3bQ;EA6CY,eAAA;EACA,WAAA;EACA,iBAAA;ALiZpB;AKhcQ;EAkDY,YAAA;ALiZpB;AKncQ;EAoDgB,kBAAA;ALkZxB;AK/YwB;EAEQ,0BAAA;ALgZhC;AK7YwB;EAEQ,0BAAA;AL8YhC;AK5cQ;EAmEgB,UAAA;EACA,gBAAA;EACA,iBAAA;EACA,qBAAA;EACA,eAAA;EACA,WAAA;EACA,sBAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,eAAA;AL4YxB;AKzdQ;EAgFgB,mBAAA;EACA,cAAA;AL4YxB;AK7dQ;EAqFY,YAAA;AL2YpB;AKheQ;EAuFgB,YAAA;EACA,YAAA;EACA,qBAAA;AL4YxB;AKreQ;EA4FgB,WAAA;EACA,YAAA;EACA,qBAAA;EACA,kBAAA;EACA,sBAAA;EACA,eAAA;AL4YxB;AK3YwB;EACI,0CAAA;AL6Y5B;AKhfQ;EAyGQ,aAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,kBAAA;EACA,gBAAA;EACA,SAAA;EACA,YAAA;EACA,sBAAA;EACA,WAAA;EACA,WAAA;AL0YhB;AKzYgB;EACI,WAAA;EACA,YAAA;AL2YpB;AK7YgB;EACI,WAAA;EACA,YAAA;AL2YpB;AKzYgB;EACI,aAAA;AL2YpB;AKvYQ;EAEQ,YAAA;ALwYhB;AKrYQ;EACI,WAAA;ALuYZ;AKxYQ;EAGQ,YAAA;ALwYhB;AKpqBA;;EAiSY,iBAAA;EACA,WAAA;EACA,uCAAA;EACA,sBAAA;EACA,eAAA;EACA,eAAA;ALuYZ;AK7qBA;EAySY,qBAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,kBAAA;ALuYZ;AKtrBA;EAkTY,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EACA,sBAAA;EACA,qBAAA;ALuYZ;AKjsBA;EA4TgB,gCAAA;EACA,YAAA;ALwYhB;AKtYY;EAEQ,UAAA;ALuYpB;AKpYY;EACI,WAAA;EACA,WAAA;EACA,iBAAA;EACA,eAAA;ALsYhB;AKpYY;EACI,qBAAA;ALsYhB;AKpYY;EACI,kBAAA;ALsYhB;AKpYY;EACI,WAAA;ALsYhB;AKvtBA;EAqVY,kBAAA;EACA,qBAAA;EACA,eAAA;EACA,YAAA;ALqYZ;AKpYY;EAEQ,WAAA;ALqYpB;AKvYY;EAKQ,mBAAA;ALqYpB;AKlYY;EAEQ,WAAA;ALmYpB;AKrYY;EAKQ,mBAAA;ALmYpB;AKzuBA;EA0WgB,qBAAA;EACA,qBAAA;EACA,sBAAA;EACA,YAAA;ALkYhB;AK/uBA;EA+WoB,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;ALmYpB;AKvvBA;EAsXwB,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,kBAAA;ALoYxB;AK/vBA;EA6X4B,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALqY5B;AK5wBA;EA8YY,qBAAA;EACA,YAAA;ALiYZ;AKhxBA;EAkZY,qBAAA;EACA,YAAA;ALiYZ;AKpxBA;EAqZgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,uBAAA;EAAA,kBAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,cAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,cAAA;ALmYpB;AKjYgB;EACI,mBAAA;ALmYpB;AKzyBA;EA0agB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALkYhB;AKjYgB;EACI,0CAAA;ALmYpB;AKnzBA;EAqbY,qBAAA;EACA,YAAA;ALiYZ;AKvzBA;EAwbgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,YAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,aAAA;ALmYpB;AKlYoB;EACI,cAAA;ALoYxB;AKjYgB;EACI,mBAAA;ALmYpB;AKjYgB;EACI,WAAA;EACA,kBAAA;ALmYpB;AKjYgB;EAEQ,aAAA;ALkYxB;AKpYgB;EAKQ,cAAA;ALkYxB;AKv1BA;;EA2dgB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALgYhB;AK/XgB;;EACI,0CAAA;ALkYpB;AKn2BA;EAqegB,cAAA;ALiYhB;AKt2BA;EAueoB,eAAA;EACA,eAAA;ALkYpB;AKhYgB;EAEQ,aAAA;ALiYxB;AKnYgB;EAKQ,qBAAA;ALiYxB;AK9XgB;EAEQ,aAAA;AL+XxB;AKjYgB;EAKQ,qBAAA;AL+XxB;AKt3BA;EA2foB,eAAA;EACA,sBAAA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;EACA,WAAA;AL8XpB;AK93BA;EAkgBwB,kBAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;AL+XxB;AKt4BA;EAygB4B,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,gBAAA;EACA,kBAAA;ALgY5B;AK/4BA;EAihBgC,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,gBAAA;ALiYhC;AK55BA;EAmiBY,qBAAA;EACA,YAAA;EACA,kBAAA;AL4XZ;AK3XY;EAEQ,cAAA;AL4XpB;AKp6BA;EA4iBgB,kBAAA;EACA,UAAA;EACA,UAAA;EACA,aAAA;AL2XhB;AK16BA;EAmjBY,kBAAA;EACA,qBAAA;EACA,YAAA;EACA,UAAA;AL0XZ;AKzXY;EAEQ,cAAA;AL0XpB;AK5XY;EAKQ,cAAA;AL0XpB;AKt7BA;EAgkBgB,aAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,WAAA;EACA,oBAAA;ALyXhB;AK97BA;EAwkBgB,aAAA;EACA,eAAA;EACA,WAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;ALyXhB;AK18BA;EAolBgB,YAAA;EACA,sBAAA;EACA,eAAA;EACA,iBAAA;ALyXhB;AKxXgB;EACI,0CAAA;AL0XpB;AKn9BA;EA8lBY,qBAAA;EACA,YAAA;ALwXZ;AKv9BA;EAkmBY,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,mBAAA;ALwXZ;AK99BA;EAymBY,WAAA;EACA,YAAA;EACA,kBAAA;EACA,YAAA;EACA,sBAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;ALwXZ;AKx+BA;EAknBgB,aAAA;EACA,YAAA;EACA,aAAA;ALyXhB;AK7+BA;EAunBgB,qBAAA;EACA,kBAAA;EACA,iCAAA;EACA,yBAAA;EACA,YAAA;EACA,WAAA;EACA,mBAAA;EACA,sBAAA;EACA,eAAA;EACA,4BAAA;ALyXhB;AKz/BA;EAmoBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,YAAA;EACA,WAAA;EACA,MAAA;EACA,OAAA;EACA,mBAAA;EACA,4BAAA;ALyXhB;AKpgCA;EA8oBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,OAAA;EACA,MAAA;EACA,mBAAA;EACA,gBAAA;EACA,4BAAA;EACA,wCAAA;EACA,YAAA;EACA,WAAA;ALyXhB;AKjhCA;EA2pBgB,sCAAA;ALyXhB;AKphCA;EA8pBgB,WAAA;EACA,oCAAA;ALyXhB;AKxhCA;EAkqBgB,UAAA;ALyXhB;AKnXA;EACI,aAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EAEA,SAAA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,gCAAA;ALoXJ;AMpjCA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;ANsjCJ;AM7jCA;EASQ,qBAAA;EACA,oBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,eAAA;EACA,mBAAA;EACA,iDAAA;ANujCR;AMtjCQ;EACI,kBAAA;EACA,kBAAA;ANwjCZ;AMzkCA;EAqBQ,kBAAA;EACA,QAAA;EACA,2BAAA;ANujCR;AMtjCQ;EACI,sBAAA;EACA,yBAAA;EACA,iCAAA;EACA,4BAAA;ANwjCZ;AMrjCI;EACI;IACI,2BAAA;ENujCV;AACF;AMzlCA;;EAsCQ,kBAAA;EACA,WAAA;EACA,kBAAA;EACA,kBAAA;ANujCR;AMtjCQ;;EACI,uBAAA;EACA,gCAAA;EACA,iCAAA;EACA,4BAAA;ANyjCZ;AMtjCI;EACI;IACI,mBAAA;ENwjCV;EMtjCM;IACI,mBAAA;ENwjCV;AACF;AO/mCA;EACI,oBAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;APinCJ;AOvnCA;EAQQ,eAAA;EACA,gBAAA;EACA,gBAAA;APknCR;AQ5nCA;EACI,kBAAA;EACA,YAAA;EACA,kBAAA;EACA,kCAAA;EACA,cAAA;EACA,gBAAA;EACA,UAAA;EACA,aAAA;AR8nCJ;AQ7nCI;EACI,cAAA;AR+nCR;AQzoCA;EAaQ,YAAA;EACA,sBAAA;EACA,eAAA;AR+nCR;AQ9nCQ;EACI,0CAAA;ARgoCZ;AQjpCA;EAqBY,eAAA;EACA,iBAAA;EACA,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AR+nCZ;AQ9nCY;EACI,qBAAA;ARgoChB;AIjqCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;AJmqCJ;AItqCA;EAMQ,kBAAA;EACA,iCAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,cAAA;EACA,oBAAA;EACA,0CAAA;AJmqCR;AIhrCA;EAiBQ,4CAAA;AJkqCR;AI9pCA;EACI;IACI,UAAA;IACA,YAAA;IACA,aAAA;EJgqCN;EI9pCE;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJgqCN;AACF;AI7pCA;EACI;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJ+pCN;EI7pCE;IACI,eAAA;EJ+pCN;EI7pCE;IACI,YAAA;IACA,iBAAA;EJ+pCN;EI7pCE;IACI,UAAA;IACA,aAAA;IACA,YAAA;EJ+pCN;AACF;ASltCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;EACA,QAAA;EACA,kBAAA;EACA,WAAA;EACA,iDAAA;EACA,eAAA;ATotCJ;ASntCI;EACI,aAAA;ATqtCR;AU/tCA;EACI,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,UAAA;EACA,aAAA;AViuCJ;AUhuCI;EACI,cAAA;AVkuCR;AU9tCA;EACI,kBAAA;EACA,gBAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AVguCJ;AUruCA;EAOQ,WAAA;EACA,YAAA;EACA,aAAA;AViuCR;AU1uCA;EAYQ,cAAA;AViuCR;AU7uCA;EAeQ,aAAA;AViuCR;AW7vCA;EACI,kBAAA;EACA,SAAA;EACA,UAAA;EACA,YAAA;EACA,iCAAA;EACA,aAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;AX+vCJ;AW7vCI;EACI,aAAA;AX+vCR;AW3wCA;EAgBQ,eAAA;EACA,kBAAA;EACA,WAAA;EACA,SAAA;AX8vCR;AW1vCQ;EACI,qBAAA;EACA,sBAAA;EACA,iBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AX4vCZ;AWzxCA;EAkCQ,YAAA;EACA,iBAAA;EACA,kBAAA;AX0vCR;AW9xCA;EAwCQ,YAAA;AXyvCR",sourcesContent:[`@keyframes my-face {
    2% {
        transform: translate(0, 1.5px) rotate(1.5deg);
    }
    4% {
        transform: translate(0, -1.5px) rotate(-0.5deg);
    }
    6% {
        transform: translate(0, 1.5px) rotate(-1.5deg);
    }
    8% {
        transform: translate(0, -1.5px) rotate(-1.5deg);
    }
    10% {
        transform: translate(0, 2.5px) rotate(1.5deg);
    }
    12% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    14% {
        transform: translate(0, -1.5px) rotate(1.5deg);
    }
    16% {
        transform: translate(0, -0.5px) rotate(-1.5deg);
    }
    18% {
        transform: translate(0, 0.5px) rotate(-1.5deg);
    }
    20% {
        transform: translate(0, -1.5px) rotate(2.5deg);
    }
    22% {
        transform: translate(0, 0.5px) rotate(-1.5deg);
    }
    24% {
        transform: translate(0, 1.5px) rotate(1.5deg);
    }
    26% {
        transform: translate(0, 0.5px) rotate(0.5deg);
    }
    28% {
        transform: translate(0, 0.5px) rotate(1.5deg);
    }
    30% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    32% {
        transform: translate(0, 1.5px) rotate(-0.5deg);
    }
    34% {
        transform: translate(0, 1.5px) rotate(-0.5deg);
    }
    36% {
        transform: translate(0, -1.5px) rotate(2.5deg);
    }
    38% {
        transform: translate(0, 1.5px) rotate(-1.5deg);
    }
    40% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    42% {
        transform: translate(0, 2.5px) rotate(-1.5deg);
    }
    44% {
        transform: translate(0, 1.5px) rotate(0.5deg);
    }
    46% {
        transform: translate(0, -1.5px) rotate(2.5deg);
    }
    48% {
        transform: translate(0, -0.5px) rotate(0.5deg);
    }
    50% {
        transform: translate(0, 0.5px) rotate(0.5deg);
    }
    52% {
        transform: translate(0, 2.5px) rotate(2.5deg);
    }
    54% {
        transform: translate(0, -1.5px) rotate(1.5deg);
    }
    56% {
        transform: translate(0, 2.5px) rotate(2.5deg);
    }
    58% {
        transform: translate(0, 0.5px) rotate(2.5deg);
    }
    60% {
        transform: translate(0, 2.5px) rotate(2.5deg);
    }
    62% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    64% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    66% {
        transform: translate(0, 1.5px) rotate(-0.5deg);
    }
    68% {
        transform: translate(0, -1.5px) rotate(-0.5deg);
    }
    70% {
        transform: translate(0, 1.5px) rotate(0.5deg);
    }
    72% {
        transform: translate(0, 2.5px) rotate(1.5deg);
    }
    74% {
        transform: translate(0, -0.5px) rotate(0.5deg);
    }
    76% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    78% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    80% {
        transform: translate(0, 1.5px) rotate(1.5deg);
    }
    82% {
        transform: translate(0, -0.5px) rotate(0.5deg);
    }
    84% {
        transform: translate(0, 1.5px) rotate(2.5deg);
    }
    86% {
        transform: translate(0, -1.5px) rotate(-1.5deg);
    }
    88% {
        transform: translate(0, -0.5px) rotate(2.5deg);
    }
    90% {
        transform: translate(0, 2.5px) rotate(-0.5deg);
    }
    92% {
        transform: translate(0, 0.5px) rotate(-0.5deg);
    }
    94% {
        transform: translate(0, 2.5px) rotate(0.5deg);
    }
    96% {
        transform: translate(0, -0.5px) rotate(1.5deg);
    }
    98% {
        transform: translate(0, -1.5px) rotate(-0.5deg);
    }
    0%,
    100% {
        transform: translate(0, 0) rotate(0deg);
    }
}`,`@import '../../node_modules/balloon-css/balloon.css';
@keyframes my-face {
  2% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  4% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  6% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  8% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  10% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  12% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  14% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  16% {
    transform: translate(0, -0.5px) rotate(-1.5deg);
  }
  18% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  20% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  22% {
    transform: translate(0, 0.5px) rotate(-1.5deg);
  }
  24% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  26% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  28% {
    transform: translate(0, 0.5px) rotate(1.5deg);
  }
  30% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  32% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  34% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  36% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  38% {
    transform: translate(0, 1.5px) rotate(-1.5deg);
  }
  40% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  42% {
    transform: translate(0, 2.5px) rotate(-1.5deg);
  }
  44% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  46% {
    transform: translate(0, -1.5px) rotate(2.5deg);
  }
  48% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  50% {
    transform: translate(0, 0.5px) rotate(0.5deg);
  }
  52% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  54% {
    transform: translate(0, -1.5px) rotate(1.5deg);
  }
  56% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  58% {
    transform: translate(0, 0.5px) rotate(2.5deg);
  }
  60% {
    transform: translate(0, 2.5px) rotate(2.5deg);
  }
  62% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  64% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  66% {
    transform: translate(0, 1.5px) rotate(-0.5deg);
  }
  68% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  70% {
    transform: translate(0, 1.5px) rotate(0.5deg);
  }
  72% {
    transform: translate(0, 2.5px) rotate(1.5deg);
  }
  74% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  76% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  78% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  80% {
    transform: translate(0, 1.5px) rotate(1.5deg);
  }
  82% {
    transform: translate(0, -0.5px) rotate(0.5deg);
  }
  84% {
    transform: translate(0, 1.5px) rotate(2.5deg);
  }
  86% {
    transform: translate(0, -1.5px) rotate(-1.5deg);
  }
  88% {
    transform: translate(0, -0.5px) rotate(2.5deg);
  }
  90% {
    transform: translate(0, 2.5px) rotate(-0.5deg);
  }
  92% {
    transform: translate(0, 0.5px) rotate(-0.5deg);
  }
  94% {
    transform: translate(0, 2.5px) rotate(0.5deg);
  }
  96% {
    transform: translate(0, -0.5px) rotate(1.5deg);
  }
  98% {
    transform: translate(0, -1.5px) rotate(-0.5deg);
  }
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}
.dplayer {
  position: relative;
  overflow: hidden;
  user-select: none;
  line-height: 1;
}
.dplayer * {
  box-sizing: content-box;
}
.dplayer svg {
  width: 100%;
  height: 100%;
}
.dplayer svg path,
.dplayer svg circle {
  fill: #fff;
}
.dplayer:-webkit-full-screen {
  width: 100%;
  height: 100%;
  background: #000;
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
  margin: 0;
  padding: 0;
  transform: translate(0, 0);
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {
  display: none;
}
.dplayer.dplayer-no-danmaku .dplayer-danmaku {
  display: none;
}
.dplayer.dplayer-live .dplayer-time {
  display: none;
}
.dplayer.dplayer-live .dplayer-bar-wrap {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-speed {
  display: none;
}
.dplayer.dplayer-live .dplayer-setting-loop {
  display: none;
}
.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {
  display: none;
}
.dplayer.dplayer-arrow .dplayer-danmaku {
  font-size: 18px;
}
.dplayer.dplayer-arrow .dplayer-icon {
  margin: 0 -3px;
}
.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {
  animation-play-state: running;
}
@media (min-width: 900px) {
  .dplayer.dplayer-playing .dplayer-controller-mask {
    opacity: 0;
  }
  .dplayer.dplayer-playing .dplayer-controller {
    opacity: 0;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller-mask {
    opacity: 1;
  }
  .dplayer.dplayer-playing:hover .dplayer-controller {
    opacity: 1;
  }
}
.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {
  display: block;
}
.dplayer.dplayer-loading .dplayer-danmaku,
.dplayer.dplayer-paused .dplayer-danmaku,
.dplayer.dplayer-loading .dplayer-danmaku-move,
.dplayer.dplayer-paused .dplayer-danmaku-move {
  animation-play-state: paused;
}
.dplayer.dplayer-hide-controller {
  cursor: none;
}
.dplayer.dplayer-hide-controller .dplayer-controller-mask {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-hide-controller .dplayer-controller {
  opacity: 0;
  transform: translateY(100%);
}
.dplayer.dplayer-show-controller .dplayer-controller-mask {
  opacity: 1;
}
.dplayer.dplayer-show-controller .dplayer-controller {
  opacity: 1;
}
.dplayer.dplayer-fulled {
  position: fixed;
  z-index: 100000;
  left: 0;
  top: 0;
  width: 100% !important;
  height: 100% !important;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: static;
  display: inline-block;
}
.dplayer.dplayer-mobile .dplayer-bar-time {
  display: none;
}
.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {
  display: none;
}
.dplayer.dplayer-mobile .dplayer-mobile-play {
  display: block;
}
.dplayer-web-fullscreen-fix {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
}
[data-balloon]:before {
  display: none;
}
[data-balloon]:after {
  padding: 0.3em 0.7em;
  background: rgba(17, 17, 17, 0.7);
}
[data-balloon][data-balloon-pos="up"]:after {
  margin-bottom: 0;
}
.dplayer-bezel {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -26px 0 0 -26px;
  height: 52px;
  width: 52px;
  padding: 12px;
  box-sizing: border-box;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
}
.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {
  animation: bezel-hide 0.5s linear;
}
@keyframes bezel-hide {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}
.dplayer-bezel .dplayer-danloading {
  position: absolute;
  top: 50%;
  margin-top: -7px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  line-height: 14px;
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-bezel .diplayer-loading-icon {
  display: none;
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -18px 0 0 -18px;
  height: 36px;
  width: 36px;
  pointer-events: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {
  display: none;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {
  animation: diplayer-loading-dot-fade 0.8s ease infinite;
  opacity: 0;
  transform-origin: 4px 4px;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {
  animation-delay: 0.1s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {
  animation-delay: 0.2s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {
  animation-delay: 0.3s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {
  animation-delay: 0.4s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {
  animation-delay: 0.5s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {
  animation-delay: 0.6s;
}
.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {
  animation-delay: 0.7s;
}
@keyframes diplayer-loading-dot-fade {
  0% {
    opacity: 0.7;
    transform: scale(1.2, 1.2);
  }
  50% {
    opacity: 0.25;
    transform: scale(0.9, 0.9);
  }
  to {
    opacity: 0.25;
    transform: scale(0.85, 0.85);
  }
}
.dplayer-controller-mask {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;
  height: 98px;
  width: 100%;
  position: absolute;
  bottom: 0;
  transition: all 0.3s ease;
}
.dplayer-controller {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 41px;
  padding: 0 20px;
  user-select: none;
  transition: all 0.3s ease;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons {
  display: none;
}
.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap {
  padding: 5px 0;
  cursor: pointer;
  position: absolute;
  bottom: 33px;
  width: calc(100% - 40px);
  height: 3px;
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {
  display: block;
  width: 8px;
  transform: translateX(-4px);
  top: 4px;
  height: 40%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {
  z-index: 12;
  position: absolute;
  top: 5px;
  width: 6px;
  height: 20%;
  border-radius: 6px;
  background-color: #fff;
  text-align: center;
  transform: translateX(-3px);
  transition: all 0.2s ease-in-out;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {
  display: block;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {
  display: none;
  position: absolute;
  left: 50%;
  top: -24px;
  padding: 5px 8px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  transform: translateX(-50%);
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {
  position: absolute;
  background: #fff;
  pointer-events: none;
  display: none;
  background-size: 16000px 100%;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {
  position: absolute;
  left: 0px;
  top: -20px;
  border-radius: 4px;
  padding: 5px 7px;
  background-color: rgba(0, 0, 0, 0.62);
  color: #fff;
  font-size: 12px;
  text-align: center;
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
  word-wrap: normal;
  word-break: normal;
  z-index: 2;
  pointer-events: none;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {
  opacity: 0;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar {
  position: relative;
  height: 3px;
  width: 100%;
  background: rgba(255, 255, 255, 0.2);
  cursor: pointer;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.4);
  height: 3px;
  transition: all 0.5s ease;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  height: 3px;
  will-change: width;
}
.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons {
  height: 38px;
  position: absolute;
  bottom: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box {
  display: none;
  position: absolute;
  transition: all 0.3s ease-in-out;
  z-index: 2;
  height: 38px;
  bottom: 0;
  left: 20px;
  right: 20px;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {
  position: absolute;
  left: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {
  position: absolute;
  right: 0;
  top: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {
  position: absolute;
  background: rgba(28, 28, 28, 0.9);
  bottom: 41px;
  left: 0;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  padding: 10px 10px 16px;
  font-size: 14px;
  width: 204px;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {
  font-size: 13px;
  color: #fff;
  line-height: 30px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {
  margin-bottom: 6px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {
  border-radius: 4px 0 0 4px;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {
  border-radius: 0 4px 4px 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {
  width: 33%;
  padding: 4px 6px;
  line-height: 16px;
  display: inline-block;
  font-size: 12px;
  color: #fff;
  border: 1px solid #fff;
  margin-right: -1px;
  box-sizing: border-box;
  text-align: center;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {
  background: #E4E4E6;
  color: #1c1c1c;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {
  font-size: 0;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {
  font-size: 0;
  padding: 6px;
  display: inline-block;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {
  width: 22px;
  height: 22px;
  display: inline-block;
  border-radius: 50%;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {
  animation: my-face 5s infinite ease-in-out;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {
  outline: none;
  border: none;
  padding: 8px 31px;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  border-radius: 4px;
  background: none;
  margin: 0;
  height: 100%;
  box-sizing: border-box;
  width: 100%;
  color: #fff;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {
  color: #fff;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {
  display: none;
}
.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {
  padding: 7px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right {
  right: 20px;
}
.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {
  padding: 8px;
}
.dplayer-controller .dplayer-icons .dplayer-time,
.dplayer-controller .dplayer-icons .dplayer-live-badge {
  line-height: 38px;
  color: #eee;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
  vertical-align: middle;
  font-size: 13px;
  cursor: default;
}
.dplayer-controller .dplayer-icons .dplayer-live-dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  vertical-align: 4%;
  margin-right: 5px;
  content: '';
  border-radius: 6px;
}
.dplayer-controller .dplayer-icons .dplayer-icon {
  width: 40px;
  height: 100%;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  vertical-align: middle;
  box-sizing: border-box;
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {
  transition: all 0.2s ease-in-out;
  opacity: 0.8;
}
.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {
  opacity: 1;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {
  color: #fff;
  width: auto;
  line-height: 22px;
  font-size: 14px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {
  padding: 10px 9px 9px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {
  padding-top: 8.5px;
}
.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {
  width: 43px;
}
.dplayer-controller .dplayer-icons .dplayer-volume {
  position: relative;
  display: inline-block;
  cursor: pointer;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {
  width: 45px;
}
.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {
  display: inline-block;
  margin: 0 10px 0 -5px;
  vertical-align: middle;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {
  position: relative;
  top: 17px;
  width: 0;
  height: 3px;
  background: #aaa;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  transform: scale(0);
}
.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: fit-content;
  max-width: 240px;
  min-width: 120px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: auto;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {
  position: absolute;
  right: 0;
  bottom: 50px;
  transform: scale(0);
  width: 150px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 7px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {
  transform: scale(1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {
  width: 70px;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {
  height: 30px;
  padding: 5px 10px;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {
  padding: 5px 0;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {
  padding: 0 10px;
  display: inline;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {
  display: inline-block;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {
  padding: 0 10px;
  box-sizing: border-box;
  display: none;
  vertical-align: middle;
  height: 100%;
  width: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {
  position: relative;
  top: 8.5px;
  width: 100%;
  height: 3px;
  background: #fff;
  transition: all 0.3s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 100%;
  transition: all 0.1s ease;
  background: #aaa;
  will-change: width;
}
.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {
  position: absolute;
  top: 0;
  right: 5px;
  margin-top: -4px;
  margin-right: -10px;
  height: 11px;
  width: 11px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  background: #aaa;
}
.dplayer-controller .dplayer-icons .dplayer-full {
  display: inline-block;
  height: 100%;
  position: relative;
}
.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {
  position: absolute;
  top: -30px;
  z-index: 1;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-quality {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 2;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {
  display: block;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {
  display: none;
  position: absolute;
  bottom: 38px;
  left: -18px;
  width: 80px;
  padding-bottom: 12px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {
  display: none;
  font-size: 12px;
  width: 80px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  padding: 5px 0;
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  text-align: center;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {
  height: 25px;
  box-sizing: border-box;
  cursor: pointer;
  line-height: 25px;
}
.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-controller .dplayer-icons .dplayer-comment {
  display: inline-block;
  height: 100%;
}
.dplayer-controller .dplayer-icons .dplayer-label {
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  white-space: nowrap;
}
.dplayer-controller .dplayer-icons .dplayer-toggle {
  width: 32px;
  height: 20px;
  text-align: center;
  font-size: 0;
  vertical-align: middle;
  position: absolute;
  top: 5px;
  right: 10px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input {
  max-height: 0;
  max-width: 0;
  display: none;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label {
  display: inline-block;
  position: relative;
  box-shadow: #dfdfdf 0 0 0 0 inset;
  border: 1px solid #dfdfdf;
  height: 20px;
  width: 32px;
  border-radius: 10px;
  box-sizing: border-box;
  cursor: pointer;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {
  content: "";
  position: absolute;
  display: block;
  height: 18px;
  width: 18px;
  top: 0;
  left: 0;
  border-radius: 15px;
  transition: 0.2s ease-in-out;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {
  content: "";
  position: absolute;
  display: block;
  left: 0;
  top: 0;
  border-radius: 15px;
  background: #fff;
  transition: 0.2s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  height: 18px;
  width: 18px;
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {
  border-color: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {
  width: 30px;
  background: rgba(255, 255, 255, 0.5);
}
.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {
  left: 12px;
}
.dplayer-mobile-play {
  display: none;
  width: 50px;
  height: 50px;
  border: none;
  background-color: transparent;
  outline: none;
  cursor: pointer;
  box-sizing: border-box;
  bottom: 0;
  opacity: 0.8;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.dplayer-danmaku {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  font-size: 22px;
  color: #fff;
}
.dplayer-danmaku .dplayer-danmaku-item {
  display: inline-block;
  pointer-events: none;
  user-select: none;
  cursor: default;
  white-space: nowrap;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
}
.dplayer-danmaku .dplayer-danmaku-item--demo {
  position: absolute;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-right {
  position: absolute;
  right: 0;
  transform: translateX(100%);
}
.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {
  will-change: transform;
  animation-name: 'danmaku';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku {
  from {
    transform: translateX(100%);
  }
}
.dplayer-danmaku .dplayer-danmaku-top,
.dplayer-danmaku .dplayer-danmaku-bottom {
  position: absolute;
  width: 100%;
  text-align: center;
  visibility: hidden;
}
.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,
.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {
  will-change: visibility;
  animation-name: 'danmaku-center';
  animation-timing-function: linear;
  animation-play-state: paused;
}
@keyframes danmaku-center {
  from {
    visibility: visible;
  }
  to {
    visibility: visible;
  }
}
.dplayer-logo {
  pointer-events: none;
  position: absolute;
  left: 20px;
  top: 20px;
  max-width: 50px;
  max-height: 50px;
}
.dplayer-logo img {
  max-width: 100%;
  max-height: 100%;
  background: none;
}
.dplayer-menu {
  position: absolute;
  width: 170px;
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.85);
  padding: 5px 0;
  overflow: hidden;
  z-index: 3;
  display: none;
}
.dplayer-menu.dplayer-menu-show {
  display: block;
}
.dplayer-menu .dplayer-menu-item {
  height: 30px;
  box-sizing: border-box;
  cursor: pointer;
}
.dplayer-menu .dplayer-menu-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.dplayer-menu .dplayer-menu-item a {
  padding: 0 10px;
  line-height: 30px;
  color: #eee;
  font-size: 13px;
  display: inline-block;
  vertical-align: middle;
  width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-menu .dplayer-menu-item a:hover {
  text-decoration: none;
}
.dplayer-notice-list {
  position: absolute;
  bottom: 60px;
  left: 20px;
}
.dplayer-notice-list .dplayer-notice {
  border-radius: 2px;
  background: rgba(28, 28, 28, 0.9);
  transition: all 0.3s ease-in-out;
  overflow: hidden;
  color: #fff;
  display: table;
  pointer-events: none;
  animation: showNotice 0.3s ease 1 forwards;
}
.dplayer-notice-list .remove-notice {
  animation: removeNotice 0.3s ease 1 forwards;
}
@keyframes showNotice {
  from {
    padding: 0;
    font-size: 0;
    margin-top: 0;
  }
  to {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
}
@keyframes removeNotice {
  0% {
    padding: 7px 20px;
    font-size: 14px;
    margin-top: 5px;
  }
  20% {
    font-size: 12px;
  }
  21% {
    font-size: 0;
    padding: 7px 10px;
  }
  100% {
    padding: 0;
    margin-top: 0;
    font-size: 0;
  }
}
.dplayer-subtitle {
  position: absolute;
  bottom: 40px;
  width: 90%;
  left: 5%;
  text-align: center;
  color: #fff;
  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
  font-size: 20px;
}
.dplayer-subtitle.dplayer-subtitle-hide {
  display: none;
}
.dplayer-mask {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
  display: none;
}
.dplayer-mask.dplayer-mask-show {
  display: block;
}
.dplayer-video-wrap {
  position: relative;
  background: #000;
  font-size: 0;
  width: 100%;
  height: 100%;
}
.dplayer-video-wrap .dplayer-video {
  width: 100%;
  height: 100%;
  display: none;
}
.dplayer-video-wrap .dplayer-video-current {
  display: block;
}
.dplayer-video-wrap .dplayer-video-prepare {
  display: none;
}
.dplayer-info-panel {
  position: absolute;
  top: 10px;
  left: 10px;
  width: 400px;
  background: rgba(28, 28, 28, 0.8);
  padding: 10px;
  color: #fff;
  font-size: 12px;
  border-radius: 2px;
}
.dplayer-info-panel-hide {
  display: none;
}
.dplayer-info-panel .dplayer-info-panel-close {
  cursor: pointer;
  position: absolute;
  right: 10px;
  top: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item > span {
  display: inline-block;
  vertical-align: middle;
  line-height: 15px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.dplayer-info-panel .dplayer-info-panel-item-title {
  width: 100px;
  text-align: right;
  margin-right: 10px;
}
.dplayer-info-panel .dplayer-info-panel-item-data {
  width: 260px;
}
`,`.dplayer {
    position: relative;
    overflow: hidden;
    user-select: none;
    line-height: 1;

    * {
        box-sizing: content-box;
    }

    svg {
        width: 100%;
        height: 100%;

        path,
        circle {
            fill: #fff;
        }
    }

    &:-webkit-full-screen {
        width: 100%;
        height: 100%;
        background: #000;
        position: fixed;
        z-index: 100000;
        left: 0;
        top: 0;
        margin: 0;
        padding: 0;
        transform: translate(0, 0);
        
    }

    &.dplayer-no-danmaku {
        .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {
            .dplayer-setting-showdan,
            .dplayer-setting-danmaku,
            .dplayer-setting-danunlimit {
                display: none;
            }
        }

        .dplayer-controller .dplayer-icons .dplayer-comment {
            display: none;
        }

        .dplayer-danmaku {
            display: none;
        }
    }

    &.dplayer-live {
        .dplayer-time {
            display: none;
        }
        .dplayer-bar-wrap {
            display: none;
        }
        .dplayer-setting-speed {
            display: none;
        }
        .dplayer-setting-loop {
            display: none;
        }

        &.dplayer-no-danmaku {
            .dplayer-setting {
                display: none;
            }
        }
    }

    &.dplayer-arrow {
        .dplayer-danmaku {
            font-size: 18px;
        }
        .dplayer-icon {
            margin: 0 -3px;
        }
    }

    &.dplayer-playing {
        .dplayer-danmaku .dplayer-danmaku-move {
            animation-play-state: running;
        }

        @media (min-width: 900px) {
            .dplayer-controller-mask {
                opacity: 0;
            }
            .dplayer-controller {
                opacity: 0;
            }

            &:hover {
                .dplayer-controller-mask {
                    opacity: 1;
                }
                .dplayer-controller {
                    opacity: 1;
                }
            }
        }
    }

    &.dplayer-loading {
        .dplayer-bezel .diplayer-loading-icon {
            display: block;
        }
    }

    &.dplayer-loading,
    &.dplayer-paused {
        .dplayer-danmaku,
        .dplayer-danmaku-move {
            animation-play-state: paused;
        }
    }

    &.dplayer-hide-controller {
        cursor: none;

        .dplayer-controller-mask {
            opacity: 0;
            transform: translateY(100%);
        }
        .dplayer-controller {
            opacity: 0;
            transform: translateY(100%);
        }
    }
    &.dplayer-show-controller {
        .dplayer-controller-mask {
            opacity: 1;
        }
        .dplayer-controller {
            opacity: 1;
        }
    }
    &.dplayer-fulled {
        position: fixed;
        z-index: 100000;
        left: 0;
        top: 0;
        width: 100% !important;
        height: 100% !important;
    }
    &.dplayer-mobile {
        .dplayer-controller .dplayer-icons {
            .dplayer-volume,
            .dplayer-camera-icon,
            .dplayer-airplay-icon,
            .dplayer-chromecast-icon,
            .dplayer-play-icon {
                display: none;
            }
            .dplayer-full .dplayer-full-in-icon {
                position: static;
                display: inline-block;
            }
        }

        .dplayer-bar-time {
            display: none;
        }

        &.dplayer-hide-controller {
            .dplayer-mobile-play {
                display: none;
            }
        }

        .dplayer-mobile-play {
            display: block;
        }
    }
}

// To hide scroll bar, apply this class to <body>
.dplayer-web-fullscreen-fix {
    position: fixed;
    top: 0;
    left: 0;
    margin: 0;
    padding: 0;
}
`,`@import '../../node_modules/balloon-css/balloon.css';

[data-balloon]:before {
    display: none;
}

[data-balloon]:after {
    padding: 0.3em 0.7em;
    background: rgba(17, 17, 17, 0.7);
}

[data-balloon][data-balloon-pos="up"]:after {
    margin-bottom: 0;
}`,`.dplayer-bezel {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    font-size: 22px;
    color: #fff;
    pointer-events: none;
    .dplayer-bezel-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -26px 0 0 -26px;
        height: 52px;
        width: 52px;
        padding: 12px;
        box-sizing: border-box;
        background: rgba(0, 0, 0, .5);
        border-radius: 50%;
        opacity: 0;
        pointer-events: none;
        &.dplayer-bezel-transition {
            animation: bezel-hide .5s linear;
        }
        @keyframes bezel-hide {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(2);
            }
        }
    }
    .dplayer-danloading {
        position: absolute;
        top: 50%;
        margin-top: -7px;
        width: 100%;
        text-align: center;
        font-size: 14px;
        line-height: 14px;
        animation: my-face 5s infinite ease-in-out;
    }
    .diplayer-loading-icon {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -18px 0 0 -18px;
        height: 36px;
        width: 36px;
        pointer-events: none;
        .diplayer-loading-hide {
            display: none;
        }
        .diplayer-loading-dot {
            animation: diplayer-loading-dot-fade .8s ease infinite;
            opacity: 0;
            transform-origin: 4px 4px;
            each(range(7), {
                &.diplayer-loading-dot-@{value} {
                    animation-delay: (@value * 0.1s);
                }
            });
        }
        @keyframes diplayer-loading-dot-fade {
            0% {
                opacity: .7;
                transform: scale(1.2, 1.2)
            }
            50% {
                opacity: .25;
                transform: scale(.9, .9)
            }
            to {
                opacity: .25;
                transform: scale(.85, .85)
            }
        }
    }
}`,`.dplayer-notice-list{
    position: absolute;
    bottom: 60px;
    left: 20px;

    .dplayer-notice {
        border-radius: 2px;
        background: rgba(28, 28, 28, 0.9);
        transition: all .3s ease-in-out;
        overflow: hidden;
        color: #fff;
        display: table;
        pointer-events: none;
        animation: showNotice .3s ease 1 forwards;
    }

    .remove-notice{
        animation: removeNotice .3s ease 1 forwards;
    }
}

@keyframes showNotice {
    from {
        padding: 0;
        font-size: 0;
        margin-top: 0;
    }
    to {
        padding: 7px 20px;
        font-size: 14px;
        margin-top: 5px;
    }
}

@keyframes removeNotice {
    0%{
        padding: 7px 20px;
        font-size: 14px;
        margin-top: 5px;
    }
    20%{
        font-size: 12px;
    }
    21%{
        font-size: 0;
        padding: 7px 10px;
    }
    100%{
        padding: 0;
        margin-top: 0;
        font-size: 0;
    }
}
`,`.dplayer-controller-mask {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;
    height: 98px;
    width: 100%;
    position: absolute;
    bottom: 0;
    transition: all 0.3s ease;
}

.dplayer-controller {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 41px;
    padding: 0 20px;
    user-select: none;
    transition: all 0.3s ease;
    &.dplayer-controller-comment {
        .dplayer-icons {
            display: none;
        }
        .dplayer-icons.dplayer-comment-box {
            display: block;
        }
    }
    .dplayer-bar-wrap {
        padding: 5px 0;
        cursor: pointer;
        position: absolute;
        bottom: 33px;
        width: calc(100% - 40px);
        height: 3px;
        &:hover {
            .dplayer-bar .dplayer-played .dplayer-thumb {
                transform: scale(1);
            }
            .dplayer-highlight {
                display: block;
                width: 8px;
                transform: translateX(-4px);
                top: 4px;
                height: 40%;
            }
        }
        .dplayer-highlight {
            z-index: 12;
            position: absolute;
            top: 5px;
            width: 6px;
            height: 20%;
            border-radius: 6px;
            background-color: #fff;
            text-align: center;
            transform: translateX(-3px);
            transition: all .2s ease-in-out;
            &:hover {
                .dplayer-highlight-text {
                    display: block;
                }
                &~.dplayer-bar-preview {
                    opacity: 0;
                }
                &~.dplayer-bar-time {
                    opacity: 0;
                }
            }
            .dplayer-highlight-text {
                display: none;
                position: absolute;
                left: 50%;
                top: -24px;
                padding: 5px 8px;
                background-color: rgba(0, 0, 0, .62);
                color: #fff;
                border-radius: 4px;
                font-size: 12px;
                white-space: nowrap;
                transform: translateX(-50%);
            }
        }
        .dplayer-bar-preview {
            position: absolute;
            background: #fff;
            pointer-events: none;
            display: none;
            background-size: 16000px 100%;
        }
        .dplayer-bar-preview-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        .dplayer-bar-time {
            &.hidden {
                opacity: 0;
            }
            position: absolute;
            left: 0px;
            top: -20px;
            border-radius: 4px;
            padding: 5px 7px;
            background-color: rgba(0, 0, 0, 0.62);
            color: #fff;
            font-size: 12px;
            text-align: center;
            opacity: 1;
            transition: opacity .1s ease-in-out;
            word-wrap: normal;
            word-break: normal;
            z-index: 2;
            pointer-events: none;
        }
        .dplayer-bar {
            position: relative;
            height: 3px;
            width: 100%;
            background: rgba(255, 255, 255, .2);
            cursor: pointer;
            .dplayer-loaded {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                background: rgba(255, 255, 255, .4);
                height: 3px;
                transition: all 0.5s ease;
                will-change: width;
            }
            .dplayer-played {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                height: 3px;
                will-change: width;
                .dplayer-thumb {
                    position: absolute;
                    top: 0;
                    right: 5px;
                    margin-top: -4px;
                    margin-right: -10px;
                    height: 11px;
                    width: 11px;
                    border-radius: 50%;
                    cursor: pointer;
                    transition: all .3s ease-in-out;
                    transform: scale(0);
                }
            }
        }
    }
    .dplayer-icons {
        height: 38px;
        position: absolute;
        bottom: 0;
        &.dplayer-comment-box {
            display: none;
            position: absolute;
            transition: all .3s ease-in-out;
            z-index: 2;
            height: 38px;
            bottom: 0;
            left: 20px;
            right: 20px;
            color: #fff;
            .dplayer-icon {
                padding: 7px;
            }
            .dplayer-comment-setting-icon {
                position: absolute;
                left: 0;
                top: 0;
            }
            .dplayer-send-icon {
                position: absolute;
                right: 0;
                top: 0;
            }
            .dplayer-comment-setting-box {
                position: absolute;
                background: rgba(28, 28, 28, 0.9);
                bottom: 41px;
                left: 0;
                box-shadow: 0 0 25px rgba(0, 0, 0, .3);
                border-radius: 4px;
                padding: 10px 10px 16px;
                font-size: 14px;
                width: 204px;
                transition: all .3s ease-in-out;
                transform: scale(0);
                &.dplayer-comment-setting-open {
                    transform: scale(1);
                }
                input[type=radio] {
                    display: none;
                }
                label {
                    cursor: pointer;
                }
                .dplayer-comment-setting-title {
                    font-size: 13px;
                    color: #fff;
                    line-height: 30px;
                }
                .dplayer-comment-setting-type {
                    font-size: 0;
                    .dplayer-comment-setting-title {
                        margin-bottom: 6px;
                    }
                    label {
                        &:nth-child(2) {
                            span {
                                border-radius: 4px 0 0 4px;
                            }
                        }
                        &:nth-child(4) {
                            span {
                                border-radius: 0 4px 4px 0;
                            }
                        }
                    }
                    span {
                        width: 33%;
                        padding: 4px 6px;
                        line-height: 16px;
                        display: inline-block;
                        font-size: 12px;
                        color: #fff;
                        border: 1px solid #fff;
                        margin-right: -1px;
                        box-sizing: border-box;
                        text-align: center;
                        cursor: pointer;
                    }
                    input:checked+span {
                        background: #E4E4E6;
                        color: #1c1c1c;
                    }
                }
                .dplayer-comment-setting-color {
                    font-size: 0;
                    label {
                        font-size: 0;
                        padding: 6px;
                        display: inline-block;
                    }
                    span {
                        width: 22px;
                        height: 22px;
                        display: inline-block;
                        border-radius: 50%;
                        box-sizing: border-box;
                        cursor: pointer;
                        &:hover {
                            animation: my-face 5s infinite ease-in-out;
                        }
                    }
                }
            }
            .dplayer-comment-input {
                outline: none;
                border: none;
                padding: 8px 31px;
                font-size: 14px;
                line-height: 18px;
                text-align: center;
                border-radius: 4px;
                background: none;
                margin: 0;
                height: 100%;
                box-sizing: border-box;
                width: 100%;
                color: #fff;
                &::placeholder {
                    color: #fff;
                    opacity: 0.8;
                }
                &::-ms-clear {
                    display: none;
                }
            }
        }
        &.dplayer-icons-left {
            .dplayer-icon {
                padding: 7px;
            }
        }
        &.dplayer-icons-right {
            right: 20px;
            .dplayer-icon {
                padding: 8px;
            }
        }
        .dplayer-time,
        .dplayer-live-badge {
            line-height: 38px;
            color: #eee;
            text-shadow: 0 0 2px rgba(0, 0, 0, .5);
            vertical-align: middle;
            font-size: 13px;
            cursor: default;
        }
        .dplayer-live-dot {
            display: inline-block;
            width: 6px;
            height: 6px;
            vertical-align: 4%;
            margin-right: 5px;
            content: '';
            border-radius: 6px;
        }
        .dplayer-icon {
            width: 40px;
            height: 100%;
            border: none;
            background-color: transparent;
            outline: none;
            cursor: pointer;
            vertical-align: middle;
            box-sizing: border-box;
            display: inline-block;
            .dplayer-icon-content {
                transition: all .2s ease-in-out;
                opacity: .8;
            }
            &:hover {
                .dplayer-icon-content {
                    opacity: 1;
                }
            }
            &.dplayer-quality-icon {
                color: #fff;
                width: auto;
                line-height: 22px;
                font-size: 14px;
            }
            &.dplayer-comment-icon {
                padding: 10px 9px 9px;
            }
            &.dplayer-setting-icon {
                padding-top: 8.5px;
            }
            &.dplayer-volume-icon {
                width: 43px;
            }
        }
        .dplayer-volume {
            position: relative;
            display: inline-block;
            cursor: pointer;
            height: 100%;
            &:hover {
                .dplayer-volume-bar-wrap .dplayer-volume-bar {
                    width: 45px;
                }
                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
                    transform: scale(1);
                }
            }
            &.dplayer-volume-active {
                .dplayer-volume-bar-wrap .dplayer-volume-bar {
                    width: 45px;
                }
                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {
                    transform: scale(1);
                }
            }
            .dplayer-volume-bar-wrap {
                display: inline-block;
                margin: 0 10px 0 -5px;
                vertical-align: middle;
                height: 100%;
                .dplayer-volume-bar {
                    position: relative;
                    top: 17px;
                    width: 0;
                    height: 3px;
                    background: #aaa;
                    transition: all 0.3s ease-in-out;
                    .dplayer-volume-bar-inner {
                        position: absolute;
                        bottom: 0;
                        left: 0;
                        height: 100%;
                        transition: all 0.1s ease;
                        will-change: width;
                        .dplayer-thumb {
                            position: absolute;
                            top: 0;
                            right: 5px;
                            margin-top: -4px;
                            margin-right: -10px;
                            height: 11px;
                            width: 11px;
                            border-radius: 50%;
                            cursor: pointer;
                            transition: all .3s ease-in-out;
                            transform: scale(0);
                        }
                    }
                }
            }
        }
        .dplayer-subtitle-btn {
            display: inline-block;
            height: 100%;
        }
        .dplayer-subtitles {
            display: inline-block;
            height: 100%;
            .dplayer-subtitles-box {
                position: absolute;
                right: 0;
                bottom: 50px;
                transform: scale(0);
                width: fit-content;
                max-width: 240px;
                min-width: 120px;
                border-radius: 2px;
                background: rgba(28, 28, 28, 0.9);
                padding: 7px 0;
                transition: all .3s ease-in-out;
                overflow: auto;
                z-index: 2;
                &.dplayer-subtitles-panel {
                    display: block;
                }
                &.dplayer-subtitles-box-open {
                    transform: scale(1);
                }
            }
            .dplayer-subtitles-item {
                height: 30px;
                padding: 5px 10px;
                box-sizing: border-box;
                cursor: pointer;
                position: relative;
                &:hover {
                    background-color: rgba(255, 255, 255, .1);
                }
            }
        }
        .dplayer-setting {
            display: inline-block;
            height: 100%;
            .dplayer-setting-box {
                position: absolute;
                right: 0;
                bottom: 50px;
                transform: scale(0);
                width: 150px;
                border-radius: 2px;
                background: rgba(28, 28, 28, 0.9);
                padding: 7px 0;
                transition: all .3s ease-in-out;
                overflow: hidden;
                z-index: 2;
                &>div {
                    display: none;
                    &.dplayer-setting-origin-panel {
                        display: block;
                    }
                }
                &.dplayer-setting-box-open {
                    transform: scale(1);
                }
                &.dplayer-setting-box-narrow {
                    width: 70px;
                    text-align: center;
                }
                &.dplayer-setting-box-speed {
                    .dplayer-setting-origin-panel {
                        display: none;
                    }
                    .dplayer-setting-speed-panel {
                        display: block;
                    }
                }
            }
            .dplayer-setting-item,
            .dplayer-setting-speed-item {
                height: 30px;
                padding: 5px 10px;
                box-sizing: border-box;
                cursor: pointer;
                position: relative;
                &:hover {
                    background-color: rgba(255, 255, 255, .1);
                }
            }
            .dplayer-setting-danmaku {
                padding: 5px 0;
                .dplayer-label {
                    padding: 0 10px;
                    display: inline;
                }
                &:hover {
                    .dplayer-label {
                        display: none;
                    }
                    .dplayer-danmaku-bar-wrap {
                        display: inline-block;
                    }
                }
                &.dplayer-setting-danmaku-active {
                    .dplayer-label {
                        display: none;
                    }
                    .dplayer-danmaku-bar-wrap {
                        display: inline-block;
                    }
                }
                .dplayer-danmaku-bar-wrap {
                    padding: 0 10px;
                    box-sizing: border-box;
                    display: none;
                    vertical-align: middle;
                    height: 100%;
                    width: 100%;
                    .dplayer-danmaku-bar {
                        position: relative;
                        top: 8.5px;
                        width: 100%;
                        height: 3px;
                        background: #fff;
                        transition: all 0.3s ease-in-out;
                        .dplayer-danmaku-bar-inner {
                            position: absolute;
                            bottom: 0;
                            left: 0;
                            height: 100%;
                            transition: all 0.1s ease;
                            background: #aaa;
                            will-change: width;
                            .dplayer-thumb {
                                position: absolute;
                                top: 0;
                                right: 5px;
                                margin-top: -4px;
                                margin-right: -10px;
                                height: 11px;
                                width: 11px;
                                border-radius: 50%;
                                cursor: pointer;
                                transition: all .3s ease-in-out;
                                background: #aaa;
                            }
                        }
                    }
                }
            }
        }
        .dplayer-full {
            display: inline-block;
            height: 100%;
            position: relative;
            &:hover {
                .dplayer-full-in-icon {
                    display: block;
                }
            }
            .dplayer-full-in-icon {
                position: absolute;
                top: -30px;
                z-index: 1;
                display: none;
            }
        }
        .dplayer-quality {
            position: relative;
            display: inline-block;
            height: 100%;
            z-index: 2;
            &:hover {
                .dplayer-quality-list {
                    display: block;
                }
                .dplayer-quality-mask {
                    display: block;
                }
            }
            .dplayer-quality-mask {
                display: none;
                position: absolute;
                bottom: 38px;
                left: -18px;
                width: 80px;
                padding-bottom: 12px;
            }
            .dplayer-quality-list {
                display: none;
                font-size: 12px;
                width: 80px;
                border-radius: 2px;
                background: rgba(28, 28, 28, 0.9);
                padding: 5px 0;
                transition: all .3s ease-in-out;
                overflow: hidden;
                color: #fff;
                text-align: center;
            }
            .dplayer-quality-item {
                height: 25px;
                box-sizing: border-box;
                cursor: pointer;
                line-height: 25px;
                &:hover {
                    background-color: rgba(255, 255, 255, .1);
                }
            }
        }
        .dplayer-comment {
            display: inline-block;
            height: 100%;
        }
        .dplayer-label {
            color: #eee;
            font-size: 13px;
            display: inline-block;
            vertical-align: middle;
            white-space: nowrap;
        }
        .dplayer-toggle {
            width: 32px;
            height: 20px;
            text-align: center;
            font-size: 0;
            vertical-align: middle;
            position: absolute;
            top: 5px;
            right: 10px;
            input {
                max-height: 0;
                max-width: 0;
                display: none;
            }
            input+label {
                display: inline-block;
                position: relative;
                box-shadow: rgb(223, 223, 223) 0 0 0 0 inset;
                border: 1px solid rgb(223, 223, 223);
                height: 20px;
                width: 32px;
                border-radius: 10px;
                box-sizing: border-box;
                cursor: pointer;
                transition: .2s ease-in-out;
            }
            input+label:before {
                content: "";
                position: absolute;
                display: block;
                height: 18px;
                width: 18px;
                top: 0;
                left: 0;
                border-radius: 15px;
                transition: .2s ease-in-out;
            }
            input+label:after {
                content: "";
                position: absolute;
                display: block;
                left: 0;
                top: 0;
                border-radius: 15px;
                background: #fff;
                transition: .2s ease-in-out;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
                height: 18px;
                width: 18px;
            }
            input:checked+label {
                border-color: rgba(255, 255, 255, 0.5);
            }
            input:checked+label:before {
                width: 30px;
                background: rgba(255, 255, 255, 0.5);
            }
            input:checked+label:after {
                left: 12px;
            }
        }
    }
}

.dplayer-mobile-play {
    display: none;
    width: 50px;
    height: 50px;
    border: none;
    background-color: transparent;
    outline: none;
    cursor: pointer;
    box-sizing: border-box;
    position: absolute;
    bottom: 0;
    opacity: 0.8;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}`,`.dplayer-danmaku {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    font-size: 22px;
    color: #fff;
    .dplayer-danmaku-item {
        display: inline-block;
        pointer-events: none;
        user-select: none;
        cursor: default;
        white-space: nowrap;
        text-shadow: .5px .5px .5px rgba(0, 0, 0, .5);
        &--demo {
            position: absolute;
            visibility: hidden;
        }
    }
    .dplayer-danmaku-right {
        position: absolute;
        right: 0;
        transform: translateX(100%);
        &.dplayer-danmaku-move {
            will-change: transform;
            animation-name: 'danmaku';
            animation-timing-function: linear;
            animation-play-state: paused;
        }
    }
    @keyframes danmaku {
        from {
            transform: translateX(100%);
        }
    }
    .dplayer-danmaku-top,
    .dplayer-danmaku-bottom {
        position: absolute;
        width: 100%;
        text-align: center;
        visibility: hidden;
        &.dplayer-danmaku-move {
            will-change: visibility;
            animation-name: 'danmaku-center';
            animation-timing-function: linear;
            animation-play-state: paused;
        }
    }
    @keyframes danmaku-center {
        from {
            visibility: visible;
        }
        to {
            visibility: visible;
        }
    }
}`,`.dplayer-logo {
    pointer-events: none;
    position: absolute;
    left: 20px;
    top: 20px;
    max-width: 50px;
    max-height: 50px;
    img {
        max-width: 100%;
        max-height: 100%;
        background: none;
    }
}`,`.dplayer-menu {
    position: absolute;
    width: 170px;
    border-radius: 2px;
    background: rgba(28, 28, 28, 0.85);
    padding: 5px 0;
    overflow: hidden;
    z-index: 3;
    display: none;
    &.dplayer-menu-show {
        display: block;
    }
    .dplayer-menu-item {
        height: 30px;
        box-sizing: border-box;
        cursor: pointer;
        &:hover {
            background-color: rgba(255, 255, 255, .1);
        }
        a {
            display: inline-block;
            padding: 0 10px;
            line-height: 30px;
            color: #eee;
            font-size: 13px;
            display: inline-block;
            vertical-align: middle;
            width: 100%;
            box-sizing: border-box;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            &:hover {
                text-decoration: none;
            }
        }
    }
}`,`.dplayer-subtitle {
    position: absolute;
    bottom: 40px;
    width: 90%;
    left: 5%;
    text-align: center;
    color: #fff;
    text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);
    font-size: 20px;
    &.dplayer-subtitle-hide {
        display: none;
    }
}`,`.dplayer-mask {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1;
    display: none;
    &.dplayer-mask-show {
        display: block;
    }
}

.dplayer-video-wrap {
    position: relative;
    background: #000;
    font-size: 0;
    width: 100%;
    height: 100%;
    .dplayer-video {
        width: 100%;
        height: 100%;
        display: none;
    }
    .dplayer-video-current {
        display: block;
    }
    .dplayer-video-prepare {
        display: none;
    }
}`,`.dplayer-info-panel {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 400px;
    background: rgba(28, 28, 28, 0.8);
    padding: 10px;
    color: #fff;
    font-size: 12px;
    border-radius: 2px;

    &-hide {
        display: none;
    }

    .dplayer-info-panel-close {
        cursor: pointer;
        position: absolute;
        right: 10px;
        top: 10px;
    }

    .dplayer-info-panel-item {
        & > span {
            display: inline-block;
            vertical-align: middle;
            line-height: 15px;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
    }

    .dplayer-info-panel-item-title {
        width: 100px;
        text-align: right;
        margin-right: 10px;
    }
    
    .dplayer-info-panel-item-data {
        width: 260px;
    }
}`],sourceRoot:""}]);const Ft=Vt},856:ct=>{var lt=[];function pt(bt){for(var At=-1,wt=0;wt<lt.length;wt++)if(lt[wt].identifier===bt){At=wt;break}return At}function mt(bt,At){for(var wt={},Tt=[],Rt=0;Rt<bt.length;Rt++){var Bt=bt[Rt],Vt=At.base?Bt[0]+At.base:Bt[0],$t=wt[Vt]||0,Ft="".concat(Vt," ").concat($t);wt[Vt]=$t+1;var Ht=pt(Ft),Qt={css:Bt[1],media:Bt[2],sourceMap:Bt[3],supports:Bt[4],layer:Bt[5]};if(Ht!==-1)lt[Ht].references++,lt[Ht].updater(Qt);else{var _n=Mt(Qt,At);At.byIndex=Rt,lt.splice(Rt,0,{identifier:Ft,updater:_n,references:1})}Tt.push(Ft)}return Tt}function Mt(bt,At){var wt=At.domAPI(At);return wt.update(bt),function(Tt){if(Tt){if(Tt.css===bt.css&&Tt.media===bt.media&&Tt.sourceMap===bt.sourceMap&&Tt.supports===bt.supports&&Tt.layer===bt.layer)return;wt.update(bt=Tt)}else wt.remove()}}ct.exports=function(bt,At){var wt=mt(bt=bt||[],At=At||{});return function(Tt){Tt=Tt||[];for(var Rt=0;Rt<wt.length;Rt++){var Bt=pt(wt[Rt]);lt[Bt].references--}for(var Vt=mt(Tt,At),$t=0;$t<wt.length;$t++){var Ft=pt(wt[$t]);lt[Ft].references===0&&(lt[Ft].updater(),lt.splice(Ft,1))}wt=Vt}}},370:ct=>{var lt={};ct.exports=function(pt,mt){var Mt=function(bt){if(lt[bt]===void 0){var At=document.querySelector(bt);if(window.HTMLIFrameElement&&At instanceof window.HTMLIFrameElement)try{At=At.contentDocument.head}catch{At=null}lt[bt]=At}return lt[bt]}(pt);if(!Mt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Mt.appendChild(mt)}},278:ct=>{ct.exports=function(lt){var pt=document.createElement("style");return lt.setAttributes(pt,lt.attributes),lt.insert(pt,lt.options),pt}},458:(ct,lt,pt)=>{ct.exports=function(mt){var Mt=pt.nc;Mt&&mt.setAttribute("nonce",Mt)}},470:ct=>{ct.exports=function(lt){var pt=lt.insertStyleElement(lt);return{update:function(mt){(function(Mt,bt,At){var wt="";At.supports&&(wt+="@supports (".concat(At.supports,") {")),At.media&&(wt+="@media ".concat(At.media," {"));var Tt=At.layer!==void 0;Tt&&(wt+="@layer".concat(At.layer.length>0?" ".concat(At.layer):""," {")),wt+=At.css,Tt&&(wt+="}"),At.media&&(wt+="}"),At.supports&&(wt+="}");var Rt=At.sourceMap;Rt&&typeof btoa<"u"&&(wt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Rt))))," */")),bt.styleTagTransform(wt,Mt,bt.options)})(pt,lt,mt)},remove:function(){(function(mt){if(mt.parentNode===null)return!1;mt.parentNode.removeChild(mt)})(pt)}}}},488:ct=>{ct.exports=function(lt,pt){if(pt.styleSheet)pt.styleSheet.cssText=lt;else{for(;pt.firstChild;)pt.removeChild(pt.firstChild);pt.appendChild(document.createTextNode(lt))}}},251:ct=>{ct.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},113:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},193:ct=>{ct.exports='<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="chromecast" class="svg-inline--fa fa-chromecast fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M447.8,64H64c-23.6,0-42.7,19.1-42.7,42.7v63.9H64v-63.9h383.8v298.6H298.6V448H448c23.6,0,42.7-19.1,42.7-42.7V106.7 C490.7,83.1,471.4,64,447.8,64z M21.3,383.6L21.3,383.6l0,63.9h63.9C85.2,412.2,56.6,383.6,21.3,383.6L21.3,383.6z M21.3,298.6V341 c58.9,0,106.6,48.1,106.6,107h42.7C170.7,365.6,103.7,298.7,21.3,298.6z M213.4,448h42.7c-0.5-129.5-105.3-234.3-234.8-234.6l0,42.4 C127.3,255.6,213.3,342,213.4,448z"></path></svg>'},338:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},807:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},300:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},574:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},182:ct=>{ct.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},965:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},74:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},730:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},428:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},254:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},934:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},410:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},644:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},324:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},437:ct=>{ct.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},897:(ct,lt,pt)=>{var mt=typeof self<"u"?self:typeof window<"u"?window:pt.g!==void 0?pt.g:{},Mt=Object.create(mt),bt=/["&'<>]/;function At(wt){return typeof wt!="string"&&(wt=wt==null?"":typeof wt=="function"?At(wt.call(wt)):JSON.stringify(wt)),wt}Mt.$escape=function(wt){return function(Tt){var Rt=""+Tt,Bt=bt.exec(Rt);if(!Bt)return Tt;var Vt="",$t=void 0,Ft=void 0,Ht=void 0;for($t=Bt.index,Ft=0;$t<Rt.length;$t++){switch(Rt.charCodeAt($t)){case 34:Ht="&#34;";break;case 38:Ht="&#38;";break;case 39:Ht="&#39;";break;case 60:Ht="&#60;";break;case 62:Ht="&#62;";break;default:continue}Ft!==$t&&(Vt+=Rt.substring(Ft,$t)),Ft=$t+1,Vt+=Ht}return Ft!==$t?Vt+Rt.substring(Ft,$t):Vt}(At(wt))},Mt.$each=function(wt,Tt){if(Array.isArray(wt))for(var Rt=0,Bt=wt.length;Rt<Bt;Rt++)Tt(wt[Rt],Rt);else for(var Vt in wt)Tt(wt[Vt],Vt)},ct.exports=Mt},471:(ct,lt,pt)=>{ct.exports=pt(897)},352:ct=>{ct.exports=function(lt){var pt=[];return pt.toString=function(){return this.map(function(mt){var Mt="",bt=mt[5]!==void 0;return mt[4]&&(Mt+="@supports (".concat(mt[4],") {")),mt[2]&&(Mt+="@media ".concat(mt[2]," {")),bt&&(Mt+="@layer".concat(mt[5].length>0?" ".concat(mt[5]):""," {")),Mt+=lt(mt),bt&&(Mt+="}"),mt[2]&&(Mt+="}"),mt[4]&&(Mt+="}"),Mt}).join("")},pt.i=function(mt,Mt,bt,At,wt){typeof mt=="string"&&(mt=[[null,mt,void 0]]);var Tt={};if(bt)for(var Rt=0;Rt<this.length;Rt++){var Bt=this[Rt][0];Bt!=null&&(Tt[Bt]=!0)}for(var Vt=0;Vt<mt.length;Vt++){var $t=[].concat(mt[Vt]);bt&&Tt[$t[0]]||(wt!==void 0&&($t[5]===void 0||($t[1]="@layer".concat($t[5].length>0?" ".concat($t[5]):""," {").concat($t[1],"}")),$t[5]=wt),Mt&&($t[2]&&($t[1]="@media ".concat($t[2]," {").concat($t[1],"}")),$t[2]=Mt),At&&($t[4]?($t[1]="@supports (".concat($t[4],") {").concat($t[1],"}"),$t[4]=At):$t[4]="".concat(At)),pt.push($t))}},pt}},80:ct=>{ct.exports=function(lt,pt){return pt||(pt={}),lt&&(lt=String(lt.__esModule?lt.default:lt),/^['"].*['"]$/.test(lt)&&(lt=lt.slice(1,-1)),pt.hash&&(lt+=pt.hash),/["'() \t\n]|(%20)/.test(lt)||pt.needQuotes?'"'.concat(lt.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):lt)}},415:ct=>{ct.exports=function(lt){var pt=lt[1],mt=lt[3];if(!mt)return pt;if(typeof btoa=="function"){var Mt=btoa(unescape(encodeURIComponent(JSON.stringify(mt)))),bt="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Mt),At="/*# ".concat(bt," */");return[pt].concat([At]).join(`
`)}return[pt].join(`
`)}},937:ct=>{function lt(pt){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},lt(pt)}ct.exports=(typeof self>"u"?"undefined":lt(self))=="object"?self.FormData:window.FormData},831:ct=>{ct.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg=="}},rt={};function ot(ct){var lt=rt[ct];if(lt!==void 0)return lt.exports;var pt=rt[ct]={id:ct,exports:{}};return nt[ct](pt,pt.exports,ot),pt.exports}ot.m=nt,ot.n=ct=>{var lt=ct&&ct.__esModule?()=>ct.default:()=>ct;return ot.d(lt,{a:lt}),lt},ot.d=(ct,lt)=>{for(var pt in lt)ot.o(lt,pt)&&!ot.o(ct,pt)&&Object.defineProperty(ct,pt,{enumerable:!0,get:lt[pt]})},ot.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ot.o=(ct,lt)=>Object.prototype.hasOwnProperty.call(ct,lt),ot.b=document.baseURI||self.location.href,ot.nc=void 0;var it={};return(()=>{ot.d(it,{default:()=>vm});var ct=ot(856),lt=ot.n(ct),pt=ot(470),mt=ot.n(pt),Mt=ot(370),bt=ot.n(Mt),At=ot(458),wt=ot.n(At),Tt=ot(278),Rt=ot.n(Tt),Bt=ot(488),Vt=ot.n(Bt),$t=ot(685),Ft={};Ft.styleTagTransform=Vt(),Ft.setAttributes=wt(),Ft.insert=bt().bind(null,"head"),Ft.domAPI=mt(),Ft.insertStyleElement=Rt(),lt()($t.Z,Ft),$t.Z&&$t.Z.locals&&$t.Z.locals;function Ht(Xt){return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Ht(Xt)}function Qt(Xt,dn){this.name="AggregateError",this.errors=Xt,this.message=dn||""}Qt.prototype=Error.prototype;function _n(Xt){return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},_n(Xt)}var hn=setTimeout;function Mn(Xt){return!!(Xt&&Xt.length!==void 0)}function kn(){}function Cn(Xt){if(!(this instanceof Cn))throw new TypeError("Promises must be constructed via new");if(typeof Xt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ln(Xt,this)}function yn(Xt,dn){for(;Xt._state===3;)Xt=Xt._value;Xt._state!==0?(Xt._handled=!0,Cn._immediateFn(function(){var In=Xt._state===1?dn.onFulfilled:dn.onRejected;if(In!==null){var Yt;try{Yt=In(Xt._value)}catch(gn){return void En(dn.promise,gn)}Ut(dn.promise,Yt)}else(Xt._state===1?Ut:En)(dn.promise,Xt._value)})):Xt._deferreds.push(dn)}function Ut(Xt,dn){try{if(dn===Xt)throw new TypeError("A promise cannot be resolved with itself.");if(dn&&(_n(dn)==="object"||typeof dn=="function")){var In=dn.then;if(dn instanceof Cn)return Xt._state=3,Xt._value=dn,void vn(Xt);if(typeof In=="function")return void Ln((Yt=In,gn=dn,function(){Yt.apply(gn,arguments)}),Xt)}Xt._state=1,Xt._value=dn,vn(Xt)}catch(An){En(Xt,An)}var Yt,gn}function En(Xt,dn){Xt._state=2,Xt._value=dn,vn(Xt)}function vn(Xt){Xt._state===2&&Xt._deferreds.length===0&&Cn._immediateFn(function(){Xt._handled||Cn._unhandledRejectionFn(Xt._value)});for(var dn=0,In=Xt._deferreds.length;dn<In;dn++)yn(Xt,Xt._deferreds[dn]);Xt._deferreds=null}function wn(Xt,dn,In){this.onFulfilled=typeof Xt=="function"?Xt:null,this.onRejected=typeof dn=="function"?dn:null,this.promise=In}function Ln(Xt,dn){var In=!1;try{Xt(function(Yt){In||(In=!0,Ut(dn,Yt))},function(Yt){In||(In=!0,En(dn,Yt))})}catch(Yt){if(In)return;In=!0,En(dn,Yt)}}Cn.prototype.catch=function(Xt){return this.then(null,Xt)},Cn.prototype.then=function(Xt,dn){var In=new this.constructor(kn);return yn(this,new wn(Xt,dn,In)),In},Cn.prototype.finally=function(Xt){var dn=this.constructor;return this.then(function(In){return dn.resolve(Xt()).then(function(){return In})},function(In){return dn.resolve(Xt()).then(function(){return dn.reject(In)})})},Cn.all=function(Xt){return new Cn(function(dn,In){if(!Mn(Xt))return In(new TypeError("Promise.all accepts an array"));var Yt=Array.prototype.slice.call(Xt);if(Yt.length===0)return dn([]);var gn=Yt.length;function An(Hn,zn){try{if(zn&&(_n(zn)==="object"||typeof zn=="function")){var Cr=zn.then;if(typeof Cr=="function")return void Cr.call(zn,function(Lr){An(Hn,Lr)},In)}Yt[Hn]=zn,--gn==0&&dn(Yt)}catch(Lr){In(Lr)}}for(var Dn=0;Dn<Yt.length;Dn++)An(Dn,Yt[Dn])})},Cn.any=function(Xt){var dn=this;return new dn(function(In,Yt){if(!Xt||Xt.length===void 0)return Yt(new TypeError("Promise.any accepts an array"));var gn=Array.prototype.slice.call(Xt);if(gn.length===0)return Yt();for(var An=[],Dn=0;Dn<gn.length;Dn++)try{dn.resolve(gn[Dn]).then(In).catch(function(Hn){An.push(Hn),An.length===gn.length&&Yt(new Qt(An,"All promises were rejected"))})}catch(Hn){Yt(Hn)}})},Cn.allSettled=function(Xt){return new this(function(dn,In){if(!Xt||Xt.length===void 0)return In(new TypeError(Ht(Xt)+" "+Xt+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var Yt=Array.prototype.slice.call(Xt);if(Yt.length===0)return dn([]);var gn=Yt.length;function An(Hn,zn){if(zn&&(Ht(zn)==="object"||typeof zn=="function")){var Cr=zn.then;if(typeof Cr=="function")return void Cr.call(zn,function(Lr){An(Hn,Lr)},function(Lr){Yt[Hn]={status:"rejected",reason:Lr},--gn==0&&dn(Yt)})}Yt[Hn]={status:"fulfilled",value:zn},--gn==0&&dn(Yt)}for(var Dn=0;Dn<Yt.length;Dn++)An(Dn,Yt[Dn])})},Cn.resolve=function(Xt){return Xt&&_n(Xt)==="object"&&Xt.constructor===Cn?Xt:new Cn(function(dn){dn(Xt)})},Cn.reject=function(Xt){return new Cn(function(dn,In){In(Xt)})},Cn.race=function(Xt){return new Cn(function(dn,In){if(!Mn(Xt))return In(new TypeError("Promise.race accepts an array"));for(var Yt=0,gn=Xt.length;Yt<gn;Yt++)Cn.resolve(Xt[Yt]).then(dn,In)})},Cn._immediateFn=typeof setImmediate=="function"&&function(Xt){setImmediate(Xt)}||function(Xt){hn(Xt,0)},Cn._unhandledRejectionFn=function(Xt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Xt)};const Kn=Cn;var Rn=/mobile/i.test(window.navigator.userAgent);const Tn={secondToTime:function(Xt){if((Xt=Xt||0)===0||Xt===1/0||Xt.toString()==="NaN")return"00:00";var dn=Math.floor(Xt/3600),In=Math.floor((Xt-3600*dn)/60),Yt=Math.floor(Xt-3600*dn-60*In);return(dn>0?[dn,In,Yt]:[In,Yt]).map(function(gn){return gn<10?"0"+gn:""+gn}).join(":")},getElementViewLeft:function(Xt){var dn=Xt.offsetLeft,In=Xt.offsetParent,Yt=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;In!==null&&In!==Xt;)dn+=In.offsetLeft,In=In.offsetParent;else for(;In!==null;)dn+=In.offsetLeft,In=In.offsetParent;return dn-Yt},getBoundingClientRectViewLeft:function(Xt){var dn=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(Xt.getBoundingClientRect){if(typeof this.getBoundingClientRectViewLeft.offset!="number"){var In=document.createElement("div");In.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(In),this.getBoundingClientRectViewLeft.offset=-In.getBoundingClientRect().top-dn,document.body.removeChild(In),In=null}var Yt=Xt.getBoundingClientRect(),gn=this.getBoundingClientRectViewLeft.offset;return Yt.left+gn}return this.getElementViewLeft(Xt)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(Xt){var dn=Xt.left,In=dn===void 0?0:dn,Yt=Xt.top,gn=Yt===void 0?0:Yt;this.isFirefox?(document.documentElement.scrollLeft=In,document.documentElement.scrollTop=gn):window.scrollTo(In,gn)},isMobile:Rn,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),isSafari:/safari/i.test(window.navigator.userAgent),storage:{set:function(Xt,dn){localStorage.setItem(Xt,dn)},get:function(Xt){return localStorage.getItem(Xt)}},nameMap:{dragStart:Rn?"touchstart":"mousedown",dragMove:Rn?"touchmove":"mousemove",dragEnd:Rn?"touchend":"mouseup"},color2Number:function(Xt){return Xt[0]==="#"&&(Xt=Xt.substr(1)),Xt.length===3&&(Xt="".concat(Xt[0]).concat(Xt[0]).concat(Xt[1]).concat(Xt[1]).concat(Xt[2]).concat(Xt[2])),parseInt(Xt,16)+0&16777215},number2Color:function(Xt){return"#"+("00000"+Xt.toString(16)).slice(-6)},number2Type:function(Xt){switch(Xt){case 0:default:return"right";case 1:return"top";case 2:return"bottom"}}};function Un(Xt,dn){return function(){return Xt.apply(dn,arguments)}}function $n(Xt){return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},$n(Xt)}var Vn,tr=Object.prototype.toString,Jn=Object.getPrototypeOf,wr=(Vn=Object.create(null),function(Xt){var dn=tr.call(Xt);return Vn[dn]||(Vn[dn]=dn.slice(8,-1).toLowerCase())}),jr=function(Xt){return Xt=Xt.toLowerCase(),function(dn){return wr(dn)===Xt}},Zt=function(Xt){return function(dn){return $n(dn)===Xt}},hr=Array.isArray,lo=Zt("undefined"),_o=jr("ArrayBuffer"),bo=Zt("string"),Hr=Zt("function"),Do=Zt("number"),Oo=function(Xt){return Xt!==null&&$n(Xt)==="object"},zo=function(Xt){if(wr(Xt)!=="object")return!1;var dn=Jn(Xt);return!(dn!==null&&dn!==Object.prototype&&Object.getPrototypeOf(dn)!==null||Symbol.toStringTag in Xt||Symbol.iterator in Xt)},qo=jr("Date"),_i=jr("File"),na=jr("Blob"),Qn=jr("FileList"),sr=jr("URLSearchParams");function ar(Xt,dn){var In,Yt,gn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},An=gn.allOwnKeys,Dn=An!==void 0&&An;if(Xt!=null)if($n(Xt)!=="object"&&(Xt=[Xt]),hr(Xt))for(In=0,Yt=Xt.length;In<Yt;In++)dn.call(null,Xt[In],In,Xt);else{var Hn,zn=Dn?Object.getOwnPropertyNames(Xt):Object.keys(Xt),Cr=zn.length;for(In=0;In<Cr;In++)Hn=zn[In],dn.call(null,Xt[Hn],Hn,Xt)}}function Or(Xt,dn){dn=dn.toLowerCase();for(var In,Yt=Object.keys(Xt),gn=Yt.length;gn-- >0;)if(dn===(In=Yt[gn]).toLowerCase())return In;return null}var Dr,lr,cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,gr=function(Xt){return!lo(Xt)&&Xt!==cr},Mr=(Dr=typeof Uint8Array<"u"&&Jn(Uint8Array),function(Xt){return Dr&&Xt instanceof Dr}),Ar=jr("HTMLFormElement"),Ir=(lr=Object.prototype.hasOwnProperty,function(Xt,dn){return lr.call(Xt,dn)}),mo=jr("RegExp"),Ao=function(Xt,dn){var In=Object.getOwnPropertyDescriptors(Xt),Yt={};ar(In,function(gn,An){dn(gn,An,Xt)!==!1&&(Yt[An]=gn)}),Object.defineProperties(Xt,Yt)};const jn={isArray:hr,isArrayBuffer:_o,isBuffer:function(Xt){return Xt!==null&&!lo(Xt)&&Xt.constructor!==null&&!lo(Xt.constructor)&&Hr(Xt.constructor.isBuffer)&&Xt.constructor.isBuffer(Xt)},isFormData:function(Xt){var dn="[object FormData]";return Xt&&(typeof FormData=="function"&&Xt instanceof FormData||tr.call(Xt)===dn||Hr(Xt.toString)&&Xt.toString()===dn)},isArrayBufferView:function(Xt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Xt):Xt&&Xt.buffer&&_o(Xt.buffer)},isString:bo,isNumber:Do,isBoolean:function(Xt){return Xt===!0||Xt===!1},isObject:Oo,isPlainObject:zo,isUndefined:lo,isDate:qo,isFile:_i,isBlob:na,isRegExp:mo,isFunction:Hr,isStream:function(Xt){return Oo(Xt)&&Hr(Xt.pipe)},isURLSearchParams:sr,isTypedArray:Mr,isFileList:Qn,forEach:ar,merge:function Xt(){for(var dn=gr(this)&&this||{},In=dn.caseless,Yt={},gn=function(Hn,zn){var Cr=In&&Or(Yt,zn)||zn;zo(Yt[Cr])&&zo(Hn)?Yt[Cr]=Xt(Yt[Cr],Hn):zo(Hn)?Yt[Cr]=Xt({},Hn):hr(Hn)?Yt[Cr]=Hn.slice():Yt[Cr]=Hn},An=0,Dn=arguments.length;An<Dn;An++)arguments[An]&&ar(arguments[An],gn);return Yt},extend:function(Xt,dn,In){var Yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},gn=Yt.allOwnKeys;return ar(dn,function(An,Dn){In&&Hr(An)?Xt[Dn]=Un(An,In):Xt[Dn]=An},{allOwnKeys:gn}),Xt},trim:function(Xt){return Xt.trim?Xt.trim():Xt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(Xt){return Xt.charCodeAt(0)===65279&&(Xt=Xt.slice(1)),Xt},inherits:function(Xt,dn,In,Yt){Xt.prototype=Object.create(dn.prototype,Yt),Xt.prototype.constructor=Xt,Object.defineProperty(Xt,"super",{value:dn.prototype}),In&&Object.assign(Xt.prototype,In)},toFlatObject:function(Xt,dn,In,Yt){var gn,An,Dn,Hn={};if(dn=dn||{},Xt==null)return dn;do{for(An=(gn=Object.getOwnPropertyNames(Xt)).length;An-- >0;)Dn=gn[An],Yt&&!Yt(Dn,Xt,dn)||Hn[Dn]||(dn[Dn]=Xt[Dn],Hn[Dn]=!0);Xt=In!==!1&&Jn(Xt)}while(Xt&&(!In||In(Xt,dn))&&Xt!==Object.prototype);return dn},kindOf:wr,kindOfTest:jr,endsWith:function(Xt,dn,In){Xt=String(Xt),(In===void 0||In>Xt.length)&&(In=Xt.length),In-=dn.length;var Yt=Xt.indexOf(dn,In);return Yt!==-1&&Yt===In},toArray:function(Xt){if(!Xt)return null;if(hr(Xt))return Xt;var dn=Xt.length;if(!Do(dn))return null;for(var In=new Array(dn);dn-- >0;)In[dn]=Xt[dn];return In},forEachEntry:function(Xt,dn){for(var In,Yt=(Xt&&Xt[Symbol.iterator]).call(Xt);(In=Yt.next())&&!In.done;){var gn=In.value;dn.call(Xt,gn[0],gn[1])}},matchAll:function(Xt,dn){for(var In,Yt=[];(In=Xt.exec(dn))!==null;)Yt.push(In);return Yt},isHTMLForm:Ar,hasOwnProperty:Ir,hasOwnProp:Ir,reduceDescriptors:Ao,freezeMethods:function(Xt){Ao(Xt,function(dn,In){if(Hr(Xt)&&["arguments","caller","callee"].indexOf(In)!==-1)return!1;var Yt=Xt[In];Hr(Yt)&&(dn.enumerable=!1,"writable"in dn?dn.writable=!1:dn.set||(dn.set=function(){throw Error("Can not rewrite read-only method '"+In+"'")}))})},toObjectSet:function(Xt,dn){var In={},Yt=function(gn){gn.forEach(function(An){In[An]=!0})};return hr(Xt)?Yt(Xt):Yt(String(Xt).split(dn)),In},toCamelCase:function(Xt){return Xt.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(dn,In,Yt){return In.toUpperCase()+Yt})},noop:function(){},toFiniteNumber:function(Xt,dn){return Xt=+Xt,Number.isFinite(Xt)?Xt:dn},findKey:Or,global:cr,isContextDefined:gr,toJSONObject:function(Xt){var dn=new Array(10);return function In(Yt,gn){if(Oo(Yt)){if(dn.indexOf(Yt)>=0)return;if(!("toJSON"in Yt)){dn[gn]=Yt;var An=hr(Yt)?[]:{};return ar(Yt,function(Dn,Hn){var zn=In(Dn,gn+1);!lo(zn)&&(An[Hn]=zn)}),dn[gn]=void 0,An}}return Yt}(Xt,0)}};function Br(Xt,dn,In,Yt,gn){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Xt,this.name="AxiosError",dn&&(this.code=dn),In&&(this.config=In),Yt&&(this.request=Yt),gn&&(this.response=gn)}jn.inherits(Br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Pn=Br.prototype,Xr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(Xt){Xr[Xt]={value:Xt}}),Object.defineProperties(Br,Xr),Object.defineProperty(Pn,"isAxiosError",{value:!0}),Br.from=function(Xt,dn,In,Yt,gn,An){var Dn=Object.create(Pn);return jn.toFlatObject(Xt,Dn,function(Hn){return Hn!==Error.prototype},function(Hn){return Hn!=="isAxiosError"}),Br.call(Dn,Xt.message,dn,In,Yt,gn),Dn.cause=Xt,Dn.name=Xt.name,An&&Object.assign(Dn,An),Dn};const po=Br,fo=ot(937);function Us(Xt){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Us(Xt)}function ao(Xt){return jn.isPlainObject(Xt)||jn.isArray(Xt)}function xa(Xt){return jn.endsWith(Xt,"[]")?Xt.slice(0,-2):Xt}function $r(Xt,dn,In){return Xt?Xt.concat(dn).map(function(Yt,gn){return Yt=xa(Yt),!In&&gn?"["+Yt+"]":Yt}).join(In?".":""):dn}var Gr=jn.toFlatObject(jn,{},null,function(Xt){return/^is[A-Z]/.test(Xt)});const Ll=function(Xt,dn,In){if(!jn.isObject(Xt))throw new TypeError("target must be an object");dn=dn||new(fo||FormData);var Yt,gn=(In=jn.toFlatObject(In,{metaTokens:!0,dots:!1,indexes:!1},!1,function(xo,ro){return!jn.isUndefined(ro[xo])})).metaTokens,An=In.visitor||Lr,Dn=In.dots,Hn=In.indexes,zn=(In.Blob||typeof Blob<"u"&&Blob)&&(Yt=dn)&&jn.isFunction(Yt.append)&&Yt[Symbol.toStringTag]==="FormData"&&Yt[Symbol.iterator];if(!jn.isFunction(An))throw new TypeError("visitor must be a function");function Cr(xo){if(xo===null)return"";if(jn.isDate(xo))return xo.toISOString();if(!zn&&jn.isBlob(xo))throw new po("Blob is not supported. Use a Buffer instead.");return jn.isArrayBuffer(xo)||jn.isTypedArray(xo)?zn&&typeof Blob=="function"?new Blob([xo]):Buffer.from(xo):xo}function Lr(xo,ro,Qr){var Lo=xo;if(xo&&!Qr&&Us(xo)==="object"){if(jn.endsWith(ro,"{}"))ro=gn?ro:ro.slice(0,-2),xo=JSON.stringify(xo);else if(jn.isArray(xo)&&function(Jo){return jn.isArray(Jo)&&!Jo.some(ao)}(xo)||jn.isFileList(xo)||jn.endsWith(ro,"[]")&&(Lo=jn.toArray(xo)))return ro=xa(ro),Lo.forEach(function(Jo,vu){!jn.isUndefined(Jo)&&Jo!==null&&dn.append(Hn===!0?$r([ro],vu,Dn):Hn===null?ro:ro+"[]",Cr(Jo))}),!1}return!!ao(xo)||(dn.append($r(Qr,ro,Dn),Cr(xo)),!1)}var ho=[],Eo=Object.assign(Gr,{defaultVisitor:Lr,convertValue:Cr,isVisitable:ao});if(!jn.isObject(Xt))throw new TypeError("data must be an object");return function xo(ro,Qr){if(!jn.isUndefined(ro)){if(ho.indexOf(ro)!==-1)throw Error("Circular reference detected in "+Qr.join("."));ho.push(ro),jn.forEach(ro,function(Lo,Jo){(!(jn.isUndefined(Lo)||Lo===null)&&An.call(dn,Lo,jn.isString(Jo)?Jo.trim():Jo,Qr,Eo))===!0&&xo(Lo,Qr?Qr.concat(Jo):[Jo])}),ho.pop()}}(Xt),dn};function Ss(Xt){var dn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Xt).replace(/[!'()~]|%20|%00/g,function(In){return dn[In]})}function Fo(Xt,dn){this._pairs=[],Xt&&Ll(Xt,this,dn)}var Cp=Fo.prototype;Cp.append=function(Xt,dn){this._pairs.push([Xt,dn])},Cp.toString=function(Xt){var dn=Xt?function(In){return Xt.call(this,In,Ss)}:Ss;return this._pairs.map(function(In){return dn(In[0])+"="+dn(In[1])},"").join("&")};const Js=Fo;function ls(Xt){return encodeURIComponent(Xt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zs(Xt,dn,In){if(!dn)return Xt;var Yt,gn=In&&In.encode||ls,An=In&&In.serialize;if(Yt=An?An(dn,In):jn.isURLSearchParams(dn)?dn.toString():new Js(dn,In).toString(gn)){var Dn=Xt.indexOf("#");Dn!==-1&&(Xt=Xt.slice(0,Dn)),Xt+=(Xt.indexOf("?")===-1?"?":"&")+Yt}return Xt}function ou(Xt){return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},ou(Xt)}function Mu(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(ou(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(ou(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),ou(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var lp=function(){function Xt(){(function(Yt,gn){if(!(Yt instanceof gn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.handlers=[]}var dn,In;return dn=Xt,In=[{key:"use",value:function(Yt,gn,An){return this.handlers.push({fulfilled:Yt,rejected:gn,synchronous:!!An&&An.synchronous,runWhen:An?An.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(Yt){this.handlers[Yt]&&(this.handlers[Yt]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(Yt){jn.forEach(this.handlers,function(gn){gn!==null&&Yt(gn)})}}],In&&Mu(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Nl=lp,Ts={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qs=typeof URLSearchParams<"u"?URLSearchParams:Js,iu=FormData;var ds,Gs=(typeof navigator>"u"||(ds=navigator.product)!=="ReactNative"&&ds!=="NativeScript"&&ds!=="NS")&&typeof window<"u"&&typeof document<"u",ga=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";const Du={isBrowser:!0,classes:{URLSearchParams:qs,FormData:iu,Blob},isStandardBrowserEnv:Gs,isStandardBrowserWebWorkerEnv:ga,protocols:["http","https","file","blob","url","data"]},pn=function(Xt){function dn(Yt,gn,An,Dn){var Hn=Yt[Dn++],zn=Number.isFinite(+Hn),Cr=Dn>=Yt.length;return Hn=!Hn&&jn.isArray(An)?An.length:Hn,Cr?(jn.hasOwnProp(An,Hn)?An[Hn]=[An[Hn],gn]:An[Hn]=gn,!zn):(An[Hn]&&jn.isObject(An[Hn])||(An[Hn]=[]),dn(Yt,gn,An[Hn],Dn)&&jn.isArray(An[Hn])&&(An[Hn]=function(Lr){var ho,Eo,xo={},ro=Object.keys(Lr),Qr=ro.length;for(ho=0;ho<Qr;ho++)xo[Eo=ro[ho]]=Lr[Eo];return xo}(An[Hn])),!zn)}if(jn.isFormData(Xt)&&jn.isFunction(Xt.entries)){var In={};return jn.forEachEntry(Xt,function(Yt,gn){dn(function(An){return jn.matchAll(/\w+|\[(\w*)]/g,An).map(function(Dn){return Dn[0]==="[]"?"":Dn[1]||Dn[0]})}(Yt),gn,In,0)}),In}return null};var sn={"Content-Type":void 0},xs={transitional:Ts,adapter:["xhr","http"],transformRequest:[function(Xt,dn){var In,Yt=dn.getContentType()||"",gn=Yt.indexOf("application/json")>-1,An=jn.isObject(Xt);if(An&&jn.isHTMLForm(Xt)&&(Xt=new FormData(Xt)),jn.isFormData(Xt))return gn&&gn?JSON.stringify(pn(Xt)):Xt;if(jn.isArrayBuffer(Xt)||jn.isBuffer(Xt)||jn.isStream(Xt)||jn.isFile(Xt)||jn.isBlob(Xt))return Xt;if(jn.isArrayBufferView(Xt))return Xt.buffer;if(jn.isURLSearchParams(Xt))return dn.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Xt.toString();if(An){if(Yt.indexOf("application/x-www-form-urlencoded")>-1)return function(Hn,zn){return Ll(Hn,new Du.classes.URLSearchParams,Object.assign({visitor:function(Cr,Lr,ho,Eo){return Du.isNode&&jn.isBuffer(Cr)?(this.append(Lr,Cr.toString("base64")),!1):Eo.defaultVisitor.apply(this,arguments)}},zn))}(Xt,this.formSerializer).toString();if((In=jn.isFileList(Xt))||Yt.indexOf("multipart/form-data")>-1){var Dn=this.env&&this.env.FormData;return Ll(In?{"files[]":Xt}:Xt,Dn&&new Dn,this.formSerializer)}}return An||gn?(dn.setContentType("application/json",!1),function(Hn,zn,Cr){if(jn.isString(Hn))try{return(0,JSON.parse)(Hn),jn.trim(Hn)}catch(Lr){if(Lr.name!=="SyntaxError")throw Lr}return(0,JSON.stringify)(Hn)}(Xt)):Xt}],transformResponse:[function(Xt){var dn=this.transitional||xs.transitional,In=dn&&dn.forcedJSONParsing,Yt=this.responseType==="json";if(Xt&&jn.isString(Xt)&&(In&&!this.responseType||Yt)){var gn=!(dn&&dn.silentJSONParsing)&&Yt;try{return JSON.parse(Xt)}catch(An){if(gn)throw An.name==="SyntaxError"?po.from(An,po.ERR_BAD_RESPONSE,this,null,this.response):An}}return Xt}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Du.classes.FormData,Blob:Du.classes.Blob},validateStatus:function(Xt){return Xt>=200&&Xt<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};jn.forEach(["delete","get","head"],function(Xt){xs.headers[Xt]={}}),jn.forEach(["post","put","patch"],function(Xt){xs.headers[Xt]=jn.merge(sn)});const Wo=xs;var dm=jn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);function dp(Xt){return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},dp(Xt)}function Ql(Xt,dn){(dn==null||dn>Xt.length)&&(dn=Xt.length);for(var In=0,Yt=new Array(dn);In<dn;In++)Yt[In]=Xt[In];return Yt}function _d(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(dp(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(dp(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),dp(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var ep=Symbol("internals");function zu(Xt){return Xt&&String(Xt).trim().toLowerCase()}function Fl(Xt){return Xt===!1||Xt==null?Xt:jn.isArray(Xt)?Xt.map(Fl):String(Xt)}function Lp(Xt,dn,In,Yt){return jn.isFunction(Yt)?Yt.call(this,dn,In):jn.isString(dn)?jn.isString(Yt)?dn.indexOf(Yt)!==-1:jn.isRegExp(Yt)?Yt.test(dn):void 0:void 0}var Qs=function(Xt,dn){function In(Dn){(function(Hn,zn){if(!(Hn instanceof zn))throw new TypeError("Cannot call a class as a function")})(this,In),Dn&&this.set(Dn)}var Yt,gn,An;return Yt=In,gn=[{key:"set",value:function(Dn,Hn,zn){var Cr=this;function Lr(Jo,vu,fu){var Is=zu(vu);if(!Is)throw new Error("header name must be a non-empty string");var Ml=jn.findKey(Cr,Is);(!Ml||Cr[Ml]===void 0||fu===!0||fu===void 0&&Cr[Ml]!==!1)&&(Cr[Ml||vu]=Fl(Jo))}var ho,Eo,xo,ro,Qr,Lo=function(Jo,vu){return jn.forEach(Jo,function(fu,Is){return Lr(fu,Is,vu)})};return jn.isPlainObject(Dn)||Dn instanceof this.constructor?Lo(Dn,Hn):jn.isString(Dn)&&(Dn=Dn.trim())&&!/^[-_a-zA-Z]+$/.test(Dn.trim())?Lo((Qr={},(ho=Dn)&&ho.split(`
`).forEach(function(Jo){ro=Jo.indexOf(":"),Eo=Jo.substring(0,ro).trim().toLowerCase(),xo=Jo.substring(ro+1).trim(),!Eo||Qr[Eo]&&dm[Eo]||(Eo==="set-cookie"?Qr[Eo]?Qr[Eo].push(xo):Qr[Eo]=[xo]:Qr[Eo]=Qr[Eo]?Qr[Eo]+", "+xo:xo)}),Qr),Hn):Dn!=null&&Lr(Hn,Dn,zn),this}},{key:"get",value:function(Dn,Hn){if(Dn=zu(Dn)){var zn=jn.findKey(this,Dn);if(zn){var Cr=this[zn];if(!Hn)return Cr;if(Hn===!0)return function(Lr){for(var ho,Eo=Object.create(null),xo=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;ho=xo.exec(Lr);)Eo[ho[1]]=ho[2];return Eo}(Cr);if(jn.isFunction(Hn))return Hn.call(this,Cr,zn);if(jn.isRegExp(Hn))return Hn.exec(Cr);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(Dn,Hn){if(Dn=zu(Dn)){var zn=jn.findKey(this,Dn);return!(!zn||Hn&&!Lp(0,this[zn],zn,Hn))}return!1}},{key:"delete",value:function(Dn,Hn){var zn=this,Cr=!1;function Lr(ho){if(ho=zu(ho)){var Eo=jn.findKey(zn,ho);!Eo||Hn&&!Lp(0,zn[Eo],Eo,Hn)||(delete zn[Eo],Cr=!0)}}return jn.isArray(Dn)?Dn.forEach(Lr):Lr(Dn),Cr}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(Dn){var Hn=this,zn={};return jn.forEach(this,function(Cr,Lr){var ho=jn.findKey(zn,Lr);if(ho)return Hn[ho]=Fl(Cr),void delete Hn[Lr];var Eo=Dn?function(xo){return xo.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(ro,Qr,Lo){return Qr.toUpperCase()+Lo})}(Lr):String(Lr).trim();Eo!==Lr&&delete Hn[Lr],Hn[Eo]=Fl(Cr),zn[Eo]=!0}),this}},{key:"concat",value:function(){for(var Dn,Hn=arguments.length,zn=new Array(Hn),Cr=0;Cr<Hn;Cr++)zn[Cr]=arguments[Cr];return(Dn=this.constructor).concat.apply(Dn,[this].concat(zn))}},{key:"toJSON",value:function(Dn){var Hn=Object.create(null);return jn.forEach(this,function(zn,Cr){zn!=null&&zn!==!1&&(Hn[Cr]=Dn&&jn.isArray(zn)?zn.join(", "):zn)}),Hn}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(Dn){var Hn,zn,Cr=(zn=2,function(Lr){if(Array.isArray(Lr))return Lr}(Hn=Dn)||function(Lr,ho){var Eo=Lr==null?null:typeof Symbol<"u"&&Lr[Symbol.iterator]||Lr["@@iterator"];if(Eo!=null){var xo,ro,Qr,Lo,Jo=[],vu=!0,fu=!1;try{if(Qr=(Eo=Eo.call(Lr)).next,ho===0){if(Object(Eo)!==Eo)return;vu=!1}else for(;!(vu=(xo=Qr.call(Eo)).done)&&(Jo.push(xo.value),Jo.length!==ho);vu=!0);}catch(Is){fu=!0,ro=Is}finally{try{if(!vu&&Eo.return!=null&&(Lo=Eo.return(),Object(Lo)!==Lo))return}finally{if(fu)throw ro}}return Jo}}(Hn,zn)||function(Lr,ho){if(Lr){if(typeof Lr=="string")return Ql(Lr,ho);var Eo=Object.prototype.toString.call(Lr).slice(8,-1);return Eo==="Object"&&Lr.constructor&&(Eo=Lr.constructor.name),Eo==="Map"||Eo==="Set"?Array.from(Lr):Eo==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Eo)?Ql(Lr,ho):void 0}}(Hn,zn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());return Cr[0]+": "+Cr[1]}).join(`
`)}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],An=[{key:"from",value:function(Dn){return Dn instanceof this?Dn:new this(Dn)}},{key:"concat",value:function(Dn){for(var Hn=new this(Dn),zn=arguments.length,Cr=new Array(zn>1?zn-1:0),Lr=1;Lr<zn;Lr++)Cr[Lr-1]=arguments[Lr];return Cr.forEach(function(ho){return Hn.set(ho)}),Hn}},{key:"accessor",value:function(Dn){var Hn=(this[ep]=this[ep]={accessors:{}}).accessors,zn=this.prototype;function Cr(Lr){var ho=zu(Lr);Hn[ho]||(function(Eo,xo){var ro=jn.toCamelCase(" "+xo);["get","set","has"].forEach(function(Qr){Object.defineProperty(Eo,Qr+ro,{value:function(Lo,Jo,vu){return this[Qr].call(this,xo,Lo,Jo,vu)},configurable:!0})})}(zn,Lr),Hn[ho]=!0)}return jn.isArray(Dn)?Dn.forEach(Cr):Cr(Dn),this}}],gn&&_d(Yt.prototype,gn),An&&_d(Yt,An),Object.defineProperty(Yt,"prototype",{writable:!1}),In}();Qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),jn.freezeMethods(Qs.prototype),jn.freezeMethods(Qs);const Zo=Qs;function Po(Xt,dn){var In=this||Wo,Yt=dn||In,gn=Zo.from(Yt.headers),An=Yt.data;return jn.forEach(Xt,function(Dn){An=Dn.call(In,An,gn.normalize(),dn?dn.status:void 0)}),gn.normalize(),An}function Ku(Xt){return!(!Xt||!Xt.__CANCEL__)}function as(Xt,dn,In){po.call(this,Xt??"canceled",po.ERR_CANCELED,dn,In),this.name="CanceledError"}jn.inherits(as,po,{__CANCEL__:!0});const to=as,vr=Du.isStandardBrowserEnv?{write:function(Xt,dn,In,Yt,gn,An){var Dn=[];Dn.push(Xt+"="+encodeURIComponent(dn)),jn.isNumber(In)&&Dn.push("expires="+new Date(In).toGMTString()),jn.isString(Yt)&&Dn.push("path="+Yt),jn.isString(gn)&&Dn.push("domain="+gn),An===!0&&Dn.push("secure"),document.cookie=Dn.join("; ")},read:function(Xt){var dn=document.cookie.match(new RegExp("(^|;\\s*)("+Xt+")=([^;]*)"));return dn?decodeURIComponent(dn[3]):null},remove:function(Xt){this.write(Xt,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Yo(Xt,dn){return Xt&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(dn)?function(In,Yt){return Yt?In.replace(/\/+$/,"")+"/"+Yt.replace(/^\/+/,""):In}(Xt,dn):dn}const yo=Du.isStandardBrowserEnv?function(){var Xt,dn=/(msie|trident)/i.test(navigator.userAgent),In=document.createElement("a");function Yt(gn){var An=gn;return dn&&(In.setAttribute("href",An),An=In.href),In.setAttribute("href",An),{href:In.href,protocol:In.protocol?In.protocol.replace(/:$/,""):"",host:In.host,search:In.search?In.search.replace(/^\?/,""):"",hash:In.hash?In.hash.replace(/^#/,""):"",hostname:In.hostname,port:In.port,pathname:In.pathname.charAt(0)==="/"?In.pathname:"/"+In.pathname}}return Xt=Yt(window.location.href),function(gn){var An=jn.isString(gn)?Yt(gn):gn;return An.protocol===Xt.protocol&&An.host===Xt.host}}():function(){return!0};function Ru(Xt,dn){var In=0,Yt=function(gn,An){gn=gn||10;var Dn,Hn=new Array(gn),zn=new Array(gn),Cr=0,Lr=0;return An=An!==void 0?An:1e3,function(ho){var Eo=Date.now(),xo=zn[Lr];Dn||(Dn=Eo),Hn[Cr]=ho,zn[Cr]=Eo;for(var ro=Lr,Qr=0;ro!==Cr;)Qr+=Hn[ro++],ro%=gn;if((Cr=(Cr+1)%gn)===Lr&&(Lr=(Lr+1)%gn),!(Eo-Dn<An)){var Lo=xo&&Eo-xo;return Lo?Math.round(1e3*Qr/Lo):void 0}}}(50,250);return function(gn){var An=gn.loaded,Dn=gn.lengthComputable?gn.total:void 0,Hn=An-In,zn=Yt(Hn);In=An;var Cr={loaded:An,total:Dn,progress:Dn?An/Dn:void 0,bytes:Hn,rate:zn||void 0,estimated:zn&&Dn&&An<=Dn?(Dn-An)/zn:void 0,event:gn};Cr[dn?"download":"upload"]=!0,Xt(Cr)}}var Zr={http:null,xhr:typeof XMLHttpRequest<"u"&&function(Xt){return new Promise(function(dn,In){var Yt,gn=Xt.data,An=Zo.from(Xt.headers).normalize(),Dn=Xt.responseType;function Hn(){Xt.cancelToken&&Xt.cancelToken.unsubscribe(Yt),Xt.signal&&Xt.signal.removeEventListener("abort",Yt)}jn.isFormData(gn)&&(Du.isStandardBrowserEnv||Du.isStandardBrowserWebWorkerEnv)&&An.setContentType(!1);var zn=new XMLHttpRequest;if(Xt.auth){var Cr=Xt.auth.username||"",Lr=Xt.auth.password?unescape(encodeURIComponent(Xt.auth.password)):"";An.set("Authorization","Basic "+btoa(Cr+":"+Lr))}var ho=Yo(Xt.baseURL,Xt.url);function Eo(){if(zn){var Lo=Zo.from("getAllResponseHeaders"in zn&&zn.getAllResponseHeaders());(function(Jo,vu,fu){var Is=fu.config.validateStatus;fu.status&&Is&&!Is(fu.status)?vu(new po("Request failed with status code "+fu.status,[po.ERR_BAD_REQUEST,po.ERR_BAD_RESPONSE][Math.floor(fu.status/100)-4],fu.config,fu.request,fu)):Jo(fu)})(function(Jo){dn(Jo),Hn()},function(Jo){In(Jo),Hn()},{data:Dn&&Dn!=="text"&&Dn!=="json"?zn.response:zn.responseText,status:zn.status,statusText:zn.statusText,headers:Lo,config:Xt,request:zn}),zn=null}}if(zn.open(Xt.method.toUpperCase(),Zs(ho,Xt.params,Xt.paramsSerializer),!0),zn.timeout=Xt.timeout,"onloadend"in zn?zn.onloadend=Eo:zn.onreadystatechange=function(){zn&&zn.readyState===4&&(zn.status!==0||zn.responseURL&&zn.responseURL.indexOf("file:")===0)&&setTimeout(Eo)},zn.onabort=function(){zn&&(In(new po("Request aborted",po.ECONNABORTED,Xt,zn)),zn=null)},zn.onerror=function(){In(new po("Network Error",po.ERR_NETWORK,Xt,zn)),zn=null},zn.ontimeout=function(){var Lo=Xt.timeout?"timeout of "+Xt.timeout+"ms exceeded":"timeout exceeded",Jo=Xt.transitional||Ts;Xt.timeoutErrorMessage&&(Lo=Xt.timeoutErrorMessage),In(new po(Lo,Jo.clarifyTimeoutError?po.ETIMEDOUT:po.ECONNABORTED,Xt,zn)),zn=null},Du.isStandardBrowserEnv){var xo=(Xt.withCredentials||yo(ho))&&Xt.xsrfCookieName&&vr.read(Xt.xsrfCookieName);xo&&An.set(Xt.xsrfHeaderName,xo)}gn===void 0&&An.setContentType(null),"setRequestHeader"in zn&&jn.forEach(An.toJSON(),function(Lo,Jo){zn.setRequestHeader(Jo,Lo)}),jn.isUndefined(Xt.withCredentials)||(zn.withCredentials=!!Xt.withCredentials),Dn&&Dn!=="json"&&(zn.responseType=Xt.responseType),typeof Xt.onDownloadProgress=="function"&&zn.addEventListener("progress",Ru(Xt.onDownloadProgress,!0)),typeof Xt.onUploadProgress=="function"&&zn.upload&&zn.upload.addEventListener("progress",Ru(Xt.onUploadProgress)),(Xt.cancelToken||Xt.signal)&&(Yt=function(Lo){zn&&(In(!Lo||Lo.type?new to(null,Xt,zn):Lo),zn.abort(),zn=null)},Xt.cancelToken&&Xt.cancelToken.subscribe(Yt),Xt.signal&&(Xt.signal.aborted?Yt():Xt.signal.addEventListener("abort",Yt)));var ro,Qr=(ro=/^([-+\w]{1,25})(:?\/\/|:)/.exec(ho))&&ro[1]||"";Qr&&Du.protocols.indexOf(Qr)===-1?In(new po("Unsupported protocol "+Qr+":",po.ERR_BAD_REQUEST,Xt)):zn.send(gn||null)})}};jn.forEach(Zr,function(Xt,dn){if(Xt){try{Object.defineProperty(Xt,"name",{value:dn})}catch{}Object.defineProperty(Xt,"adapterName",{value:dn})}});function fr(Xt){if(Xt.cancelToken&&Xt.cancelToken.throwIfRequested(),Xt.signal&&Xt.signal.aborted)throw new to(null,Xt)}function tp(Xt){return fr(Xt),Xt.headers=Zo.from(Xt.headers),Xt.data=Po.call(Xt,Xt.transformRequest),["post","put","patch"].indexOf(Xt.method)!==-1&&Xt.headers.setContentType("application/x-www-form-urlencoded",!1),function(dn){for(var In,Yt,gn=(dn=jn.isArray(dn)?dn:[dn]).length,An=0;An<gn&&(In=dn[An],!(Yt=jn.isString(In)?Zr[In.toLowerCase()]:In));An++);if(!Yt)throw Yt===!1?new po("Adapter ".concat(In," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(jn.hasOwnProp(Zr,In)?"Adapter '".concat(In,"' is not available in the build"):"Unknown adapter '".concat(In,"'"));if(!jn.isFunction(Yt))throw new TypeError("adapter is not a function");return Yt}(Xt.adapter||Wo.adapter)(Xt).then(function(dn){return fr(Xt),dn.data=Po.call(Xt,Xt.transformResponse,dn),dn.headers=Zo.from(dn.headers),dn},function(dn){return Ku(dn)||(fr(Xt),dn&&dn.response&&(dn.response.data=Po.call(Xt,Xt.transformResponse,dn.response),dn.response.headers=Zo.from(dn.response.headers))),Promise.reject(dn)})}var ku=function(Xt){return Xt instanceof Zo?Xt.toJSON():Xt};function _c(Xt,dn){dn=dn||{};var In={};function Yt(Cr,Lr,ho){return jn.isPlainObject(Cr)&&jn.isPlainObject(Lr)?jn.merge.call({caseless:ho},Cr,Lr):jn.isPlainObject(Lr)?jn.merge({},Lr):jn.isArray(Lr)?Lr.slice():Lr}function gn(Cr,Lr,ho){return jn.isUndefined(Lr)?jn.isUndefined(Cr)?void 0:Yt(void 0,Cr,ho):Yt(Cr,Lr,ho)}function An(Cr,Lr){if(!jn.isUndefined(Lr))return Yt(void 0,Lr)}function Dn(Cr,Lr){return jn.isUndefined(Lr)?jn.isUndefined(Cr)?void 0:Yt(void 0,Cr):Yt(void 0,Lr)}function Hn(Cr,Lr,ho){return ho in dn?Yt(Cr,Lr):ho in Xt?Yt(void 0,Cr):void 0}var zn={url:An,method:An,data:An,baseURL:Dn,transformRequest:Dn,transformResponse:Dn,paramsSerializer:Dn,timeout:Dn,timeoutMessage:Dn,withCredentials:Dn,adapter:Dn,responseType:Dn,xsrfCookieName:Dn,xsrfHeaderName:Dn,onUploadProgress:Dn,onDownloadProgress:Dn,decompress:Dn,maxContentLength:Dn,maxBodyLength:Dn,beforeRedirect:Dn,transport:Dn,httpAgent:Dn,httpsAgent:Dn,cancelToken:Dn,socketPath:Dn,responseEncoding:Dn,validateStatus:Hn,headers:function(Cr,Lr){return gn(ku(Cr),ku(Lr),!0)}};return jn.forEach(Object.keys(Xt).concat(Object.keys(dn)),function(Cr){var Lr=zn[Cr]||gn,ho=Lr(Xt[Cr],dn[Cr],Cr);jn.isUndefined(ho)&&Lr!==Hn||(In[Cr]=ho)}),In}function Wu(Xt){return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Wu(Xt)}var Il={};["object","boolean","number","function","string","symbol"].forEach(function(Xt,dn){Il[Xt]=function(In){return Wu(In)===Xt||"a"+(dn<1?"n ":" ")+Xt}});var Eu={};Il.transitional=function(Xt,dn,In){function Yt(gn,An){return"[Axios v1.2.3] Transitional option '"+gn+"'"+An+(In?". "+In:"")}return function(gn,An,Dn){if(Xt===!1)throw new po(Yt(An," has been removed"+(dn?" in "+dn:"")),po.ERR_DEPRECATED);return dn&&!Eu[An]&&(Eu[An]=!0,console.warn(Yt(An," has been deprecated since v"+dn+" and will be removed in the near future"))),!Xt||Xt(gn,An,Dn)}};const Bl={assertOptions:function(Xt,dn,In){if(Wu(Xt)!=="object")throw new po("options must be an object",po.ERR_BAD_OPTION_VALUE);for(var Yt=Object.keys(Xt),gn=Yt.length;gn-- >0;){var An=Yt[gn],Dn=dn[An];if(Dn){var Hn=Xt[An],zn=Hn===void 0||Dn(Hn,An,Xt);if(zn!==!0)throw new po("option "+An+" must be "+zn,po.ERR_BAD_OPTION_VALUE)}else if(In!==!0)throw new po("Unknown option "+An,po.ERR_BAD_OPTION)}},validators:Il};function Fu(Xt){return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Fu(Xt)}function Qu(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Fu(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Fu(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Fu(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Ou=Bl.validators,cu=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.defaults=Yt,this.interceptors={request:new Nl,response:new Nl}}var dn,In;return dn=Xt,(In=[{key:"request",value:function(Yt,gn){typeof Yt=="string"?(gn=gn||{}).url=Yt:gn=Yt||{};var An,Dn=gn=_c(this.defaults,gn),Hn=Dn.transitional,zn=Dn.paramsSerializer,Cr=Dn.headers;Hn!==void 0&&Bl.assertOptions(Hn,{silentJSONParsing:Ou.transitional(Ou.boolean),forcedJSONParsing:Ou.transitional(Ou.boolean),clarifyTimeoutError:Ou.transitional(Ou.boolean)},!1),zn!==void 0&&Bl.assertOptions(zn,{encode:Ou.function,serialize:Ou.function},!0),gn.method=(gn.method||this.defaults.method||"get").toLowerCase(),(An=Cr&&jn.merge(Cr.common,Cr[gn.method]))&&jn.forEach(["delete","get","head","post","put","patch","common"],function(Is){delete Cr[Is]}),gn.headers=Zo.concat(An,Cr);var Lr=[],ho=!0;this.interceptors.request.forEach(function(Is){typeof Is.runWhen=="function"&&Is.runWhen(gn)===!1||(ho=ho&&Is.synchronous,Lr.unshift(Is.fulfilled,Is.rejected))});var Eo,xo=[];this.interceptors.response.forEach(function(Is){xo.push(Is.fulfilled,Is.rejected)});var ro,Qr=0;if(!ho){var Lo=[tp.bind(this),void 0];for(Lo.unshift.apply(Lo,Lr),Lo.push.apply(Lo,xo),ro=Lo.length,Eo=Promise.resolve(gn);Qr<ro;)Eo=Eo.then(Lo[Qr++],Lo[Qr++]);return Eo}ro=Lr.length;var Jo=gn;for(Qr=0;Qr<ro;){var vu=Lr[Qr++],fu=Lr[Qr++];try{Jo=vu(Jo)}catch(Is){fu.call(this,Is);break}}try{Eo=tp.call(this,Jo)}catch(Is){return Promise.reject(Is)}for(Qr=0,ro=xo.length;Qr<ro;)Eo=Eo.then(xo[Qr++],xo[Qr++]);return Eo}},{key:"getUri",value:function(Yt){return Zs(Yo((Yt=_c(this.defaults,Yt)).baseURL,Yt.url),Yt.params,Yt.paramsSerializer)}}])&&Qu(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();jn.forEach(["delete","get","head","options"],function(Xt){cu.prototype[Xt]=function(dn,In){return this.request(_c(In||{},{method:Xt,url:dn,data:(In||{}).data}))}}),jn.forEach(["post","put","patch"],function(Xt){function dn(In){return function(Yt,gn,An){return this.request(_c(An||{},{method:Xt,headers:In?{"Content-Type":"multipart/form-data"}:{},url:Yt,data:gn}))}}cu.prototype[Xt]=dn(),cu.prototype[Xt+"Form"]=dn(!0)});const Vs=cu;function ps(Xt){return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},ps(Xt)}function gu(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(ps(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(ps(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),ps(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Au=function(){function Xt(gn){if(function(Hn,zn){if(!(Hn instanceof zn))throw new TypeError("Cannot call a class as a function")}(this,Xt),typeof gn!="function")throw new TypeError("executor must be a function.");var An;this.promise=new Promise(function(Hn){An=Hn});var Dn=this;this.promise.then(function(Hn){if(Dn._listeners){for(var zn=Dn._listeners.length;zn-- >0;)Dn._listeners[zn](Hn);Dn._listeners=null}}),this.promise.then=function(Hn){var zn,Cr=new Promise(function(Lr){Dn.subscribe(Lr),zn=Lr}).then(Hn);return Cr.cancel=function(){Dn.unsubscribe(zn)},Cr},gn(function(Hn,zn,Cr){Dn.reason||(Dn.reason=new to(Hn,zn,Cr),An(Dn.reason))})}var dn,In,Yt;return dn=Xt,In=[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(gn){this.reason?gn(this.reason):this._listeners?this._listeners.push(gn):this._listeners=[gn]}},{key:"unsubscribe",value:function(gn){if(this._listeners){var An=this._listeners.indexOf(gn);An!==-1&&this._listeners.splice(An,1)}}}],Yt=[{key:"source",value:function(){var gn;return{token:new Xt(function(An){gn=An}),cancel:gn}}}],In&&gu(dn.prototype,In),Yt&&gu(dn,Yt),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const zs=Au;function uu(Xt,dn){(dn==null||dn>Xt.length)&&(dn=Xt.length);for(var In=0,Yt=new Array(dn);In<dn;In++)Yt[In]=Xt[In];return Yt}var eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eu).forEach(function(Xt){var dn,In,Yt=(In=2,function(Dn){if(Array.isArray(Dn))return Dn}(dn=Xt)||function(Dn,Hn){var zn=Dn==null?null:typeof Symbol<"u"&&Dn[Symbol.iterator]||Dn["@@iterator"];if(zn!=null){var Cr,Lr,ho,Eo,xo=[],ro=!0,Qr=!1;try{if(ho=(zn=zn.call(Dn)).next,Hn===0){if(Object(zn)!==zn)return;ro=!1}else for(;!(ro=(Cr=ho.call(zn)).done)&&(xo.push(Cr.value),xo.length!==Hn);ro=!0);}catch(Lo){Qr=!0,Lr=Lo}finally{try{if(!ro&&zn.return!=null&&(Eo=zn.return(),Object(Eo)!==Eo))return}finally{if(Qr)throw Lr}}return xo}}(dn,In)||function(Dn,Hn){if(Dn){if(typeof Dn=="string")return uu(Dn,Hn);var zn=Object.prototype.toString.call(Dn).slice(8,-1);return zn==="Object"&&Dn.constructor&&(zn=Dn.constructor.name),zn==="Map"||zn==="Set"?Array.from(Dn):zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zn)?uu(Dn,Hn):void 0}}(dn,In)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),gn=Yt[0],An=Yt[1];eu[An]=gn});const lu=eu;var rs=function Xt(dn){var In=new Vs(dn),Yt=Un(Vs.prototype.request,In);return jn.extend(Yt,Vs.prototype,In,{allOwnKeys:!0}),jn.extend(Yt,In,null,{allOwnKeys:!0}),Yt.create=function(gn){return Xt(_c(dn,gn))},Yt}(Wo);rs.Axios=Vs,rs.CanceledError=to,rs.CancelToken=zs,rs.isCancel=Ku,rs.VERSION="1.2.3",rs.toFormData=Ll,rs.AxiosError=po,rs.Cancel=rs.CanceledError,rs.all=function(Xt){return Promise.all(Xt)},rs.spread=function(Xt){return function(dn){return Xt.apply(null,dn)}},rs.isAxiosError=function(Xt){return jn.isObject(Xt)&&Xt.isAxiosError===!0},rs.mergeConfig=_c,rs.AxiosHeaders=Zo,rs.formToJSON=function(Xt){return pn(jn.isHTMLForm(Xt)?new FormData(Xt):Xt)},rs.HttpStatusCode=lu,rs.default=rs;const mu=rs,Sp={send:function(Xt){mu.post(Xt.url,Xt.data).then(function(dn){var In=dn.data;In&&In.code===0?Xt.success&&Xt.success(In):Xt.error&&Xt.error(In&&In.msg)}).catch(function(dn){console.error(dn),Xt.error&&Xt.error()})},read:function(Xt){mu.get(Xt.url).then(function(dn){var In=dn.data;In&&In.code===0?Xt.success&&Xt.success(In.data.map(function(Yt){return{time:Yt[0],type:Yt[1],color:Yt[2],author:Yt[3],text:Yt[4]}})):Xt.error&&Xt.error(In&&In.msg)}).catch(function(dn){console.error(dn),Xt.error&&Xt.error()})}};function zp(Xt){return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},zp(Xt)}function Tu(Xt){var dn=this;this.lang=Xt,this.fallbackLang=this.lang.includes("-")?this.lang.split("-")[0]:this.lang,this.tran=function(In){return In=In.toLowerCase(),np[dn.lang]&&np[dn.lang][In]?np[dn.lang][In]:np[dn.fallbackLang]&&np[dn.fallbackLang][In]?np[dn.fallbackLang][In]:Lu[In]?Lu[In]:In}}var Lu={"danmaku-loading":"Danmaku is loading",top:"Top",bottom:"Bottom",rolling:"Rolling","input-danmaku-enter":"Input danmaku, hit Enter","about-author":"About author","dplayer-feedback":"DPlayer feedback","about-dplayer":"About DPlayer",loop:"Loop",speed:"Speed","opacity-danmaku":"Opacity for danmaku",normal:"Normal","please-input-danmaku":"Please input danmaku content!","set-danmaku-color":"Set danmaku color","set-danmaku-type":"Set danmaku type","show-danmaku":"Show danmaku","video-failed":"Video load failed","danmaku-failed":"Danmaku load failed","danmaku-send-failed":"Danmaku send failed","switching-quality":"Switching to %q quality","switched-quality":"Switched to %q quality",ff:"FF %s s",rew:"REW %s s","unlimited-danmaku":"Unlimited danmaku","send-danmaku":"Send danmaku",setting:"Setting",fullscreen:"Full screen","web-fullscreen":"Web full screen",send:"Send",screenshot:"Screenshot",airplay:"AirPlay",chromecast:"ChromeCast",subtitle:"Subtitle",off:"Off","show-subs":"Show subtitle","hide-subs":"Hide subtitle",volume:"Volume",live:"Live","video-info":"Video info"},np={en:Lu,"zh-cn":{"danmaku-loading":"",top:"",bottom:"",rolling:"","input-danmaku-enter":"","about-author":"","dplayer-feedback":"","about-dplayer":" DPlayer ",loop:"",speed:"","opacity-danmaku":"",normal:"","please-input-danmaku":"","set-danmaku-color":"","set-danmaku-type":"","show-danmaku":"","video-failed":"","danmaku-failed":"","danmaku-send-failed":"","switching-quality":" %q ","switched-quality":" %q ",ff:" %s ",rew:" %s ","unlimited-danmaku":"","send-danmaku":"",setting:"",fullscreen:"","web-fullscreen":"",send:"",screenshot:"",airplay:"",chromecast:"ChromeCast",subtitle:"",off:"","show-subs":"","hide-subs":"",volume:"",live:"","video-info":""},"zh-tw":{"danmaku-loading":"",top:"",bottom:"",rolling:"","input-danmaku-enter":"Enter ","about-author":"","dplayer-feedback":"","about-dplayer":" DPlayer ",loop:"",speed:"","opacity-danmaku":"",normal:"","please-input-danmaku":"","set-danmaku-color":"","set-danmaku-type":"","show-danmaku":"","video-failed":"","danmaku-failed":"","danmaku-send-failed":"","switching-quality":" %q ","switched-quality":" %q ",ff:" %s ",rew:" %s ","unlimited-danmaku":"","send-danmaku":"",setting:"",fullscreen:"","web-fullscreen":"",send:"",screenshot:"",airplay:"",chromecast:"ChromeCast",subtitle:"",off:"","show-subs":"","hide-subs":"",volume:"",live:"","video-info":""},"ko-kr":{"danmaku-loading":"Danmaku  .",top:"Top",bottom:"Bottom",rolling:"Rolling","input-danmaku-enter":"Danmaku  Enter .","about-author":"","dplayer-feedback":" ","about-dplayer":"DPlayer ",loop:"",speed:"","opacity-danmaku":"Danmaku ",normal:"","please-input-danmaku":"Danmaku !","set-danmaku-color":"Danmaku ","set-danmaku-type":"Danmaku ","show-danmaku":"Danmaku ","video-failed":"  .","danmaku-failed":"Danmaku  .","danmaku-send-failed":"Danmaku  .","Switching to":"","Switched to":"","switching-quality":" %q ","switched-quality":"  %q ",ff:" %s ",rew:" %s ","unlimited-danmaku":" Danmaku","send-danmaku":"Danmaku ",setting:"",fullscreen:" ","web-fullscreen":"  ",send:"",screenshot:" ",airplay:"",chromecast:"ChromeCast",subtitle:"",off:"","show-subs":" ","hide-subs":" ",Volume:"",live:"","video-info":" "},de:{"danmaku-loading":"Danmaku ldt...",top:"Oben",bottom:"Unten",rolling:"Rollend","input-danmaku-enter":"Drcke Enter nach dem Einfgen vom Danmaku","about-author":"ber den Autor","dplayer-feedback":"DPlayer Feedback","about-dplayer":"ber DPlayer",loop:"Wiederholen",speed:"Geschwindigkeit","opacity-danmaku":"Transparenz fr Danmaku",normal:"Normal","please-input-danmaku":"Bitte Danmaku Inhalt eingeben!","set-danmaku-color":"Danmaku Farbe festlegen","set-danmaku-type":"Danmaku Typ festlegen","show-danmaku":"Zeige Danmaku","video-failed":"Das Video konnte nicht geladen werden","danmaku-failed":"Danmaku konnte nicht geladen werden","danmaku-send-failed":"Das senden von Danmaku ist fehgeschlagen","switching-quality":"Wechsle zur %q Qualitt","switched-quality":"Zur %q Qualitt gewechselt",ff:"%s s Vorwrts",rew:"%s s Zurck","unlimited-danmaku":"Unlimitiertes Danmaku","send-danmaku":"Sende Danmaku",setting:"Einstellungen",fullscreen:"Vollbild","web-fullscreen":"Browser Vollbild",send:"Senden",screenshot:"Screenshot",airplay:"AirPlay","show-subs":"Zeige Untertitel",chromecast:"ChromeCast",subtitle:"Untertitel",off:"Schlieung","hide-subs":"Verstecke Untertitel",volume:"Lautstrke",live:"Live","video-info":"Video Info"}},pm=ot(730),tu=ot.n(pm),rp=ot(74),Tl=ot.n(rp),ju=ot(437),Kp=ot.n(ju),Ip=ot(644),Es=ot.n(Ip),ws=ot(324),dr=ot.n(ws),mr=ot(574),so=ot.n(mr),Mo=ot(300),Ko=ot.n(Mo),Ds=ot(934),kr=ot.n(Ds),Fr=ot(428),_u=ot.n(Fr),fs=ot(807),ss=ot.n(fs),nu=ot(338),Vl=ot.n(nu),Yr=ot(254),As=ot.n(Yr),op=ot(965),kp=ot.n(op),xm=ot(113),pp=ot.n(xm),Qm=ot(251),Bu=ot.n(Qm),Ks=ot(410),wm=ot.n(Ks),Nu=ot(182),Np=ot.n(Nu),e_=ot(193),Pl=ot.n(e_);const Jr={play:tu(),pause:Tl(),volumeUp:Kp(),volumeDown:Es(),volumeOff:dr(),full:so(),fullWeb:Ko(),setting:kr(),right:_u(),comment:ss(),commentOff:Vl(),send:As(),pallette:kp(),camera:pp(),subtitle:wm(),loading:Np(),airplay:Bu(),chromecast:Pl()};var du=ot(916),Qo=ot.n(du);function _l(Xt){return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},_l(Xt)}function Wp(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(_l(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(_l(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),_l(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var hs=function(){function Xt(gn){(function(An,Dn){if(!(An instanceof Dn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.container=gn.container,this.options=gn.options,this.index=gn.index,this.tran=gn.tran,this.init()}var dn,In,Yt;return dn=Xt,Yt=[{key:"NewNotice",value:function(gn,An,Dn){var Hn=document.createElement("div");return Hn.classList.add("dplayer-notice"),Hn.style.opacity=An,Hn.innerText=gn,Dn&&(Hn.id="dplayer-notice-".concat(Dn)),Hn}}],(In=[{key:"init",value:function(){this.container.innerHTML=Qo()({options:this.options,index:this.index,tran:this.tran,icons:Jr,mobile:Tn.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:!(!Tn.isSafari||Tn.isChrome)&&this.options.airplay,chromecast:this.options.chromecast,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.chromecastButton=this.container.querySelector(".dplayer-chromecast-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitlesButton=this.container.querySelector(".dplayer-subtitles-icon"),this.subtitlesBox=this.container.querySelector(".dplayer-subtitles-box"),this.subtitlesItem=this.container.querySelectorAll(".dplayer-subtitles-item"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.subtrack=this.container.querySelector(".dplayer-subtrack"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.noticeList=this.container.querySelector(".dplayer-notice-list"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&Wp(dn.prototype,In),Yt&&Wp(dn,Yt),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const uo=hs;function ru(Xt){return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},ru(Xt)}function Hs(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(ru(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(ru(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),ru(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Xs=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.options=Yt,this.player=this.options.player,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var dn,In;return dn=Xt,In=[{key:"load",value:function(){var Yt,gn=this;Yt=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var An=(this.options.api.addition||[]).slice(0);An.push(Yt),this.events&&this.events.trigger("danmaku_load_start",An),this._readAllEndpoints(An,function(Dn){gn.dan=[].concat.apply([],Dn).sort(function(Hn,zn){return Hn.time-zn.time}),window.requestAnimationFrame(function(){gn.frame()}),gn.options.callback(),gn.events&&gn.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(Yt){this.options.api=Yt,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(Yt,gn){for(var An=this,Dn=[],Hn=0,zn=function(Lr){An.options.apiBackend.read({url:Yt[Lr],success:function(ho){Dn[Lr]=ho,++Hn===Yt.length&&gn(Dn)},error:function(ho){An.options.error(ho||An.options.tran("danmaku-failed")),Dn[Lr]=[],++Hn===Yt.length&&gn(Dn)}})},Cr=0;Cr<Yt.length;++Cr)zn(Cr)}},{key:"send",value:function(Yt,gn){var An=this,Dn={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:Yt.text,color:Yt.color,type:Yt.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:Dn,success:gn,error:function(zn){An.options.error(zn||An.options.tran("danmaku-failed"))}}),this.dan.splice(this.danIndex,0,Dn),this.danIndex++;var Hn={text:this.htmlEncode(Dn.text),color:Dn.color,type:Dn.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(Hn),this.events&&this.events.trigger("danmaku_send",Dn)}},{key:"frame",value:function(){var Yt=this;if(this.dan.length&&!this.paused&&this.showing){for(var gn=this.dan[this.danIndex],An=[];gn&&this.options.time()>parseFloat(gn.time);)An.push(gn),gn=this.dan[++this.danIndex];this.draw(An)}window.requestAnimationFrame(function(){Yt.frame()})}},{key:"opacity",value:function(Yt){if(Yt!==void 0){for(var gn=this.container.getElementsByClassName("dplayer-danmaku-item"),An=0;An<gn.length;An++)gn[An].style.opacity=Yt;this._opacity=Yt,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(Yt){var gn=this;if(this.showing){var An=this.options.height,Dn=this.container.offsetWidth,Hn=this.container.offsetHeight,zn=parseInt(Hn/An),Cr=function(Qr){var Lo=Qr.offsetWidth||parseInt(Qr.style.width),Jo=Qr.getBoundingClientRect().right||gn.container.getBoundingClientRect().right+Lo;return gn.container.getBoundingClientRect().right-Jo},Lr=function(Qr){return(Dn+Qr)/5},ho=function(Qr,Lo,Jo){for(var vu=Dn/Lr(Jo),fu=function(sp){var Gl=gn.danTunnel[Lo][sp+""];if(!Gl||!Gl.length)return gn.danTunnel[Lo][sp+""]=[Qr],Qr.addEventListener("animationend",function(){gn.danTunnel[Lo][sp+""].splice(0,1)}),{v:sp%zn};if(Lo!=="right")return"continue";for(var cp=0;cp<Gl.length;cp++){var Pp=Cr(Gl[cp])-10;if(Pp<=Dn-vu*Lr(parseInt(Gl[cp].style.width))||Pp<=0)break;if(cp===Gl.length-1)return gn.danTunnel[Lo][sp+""].push(Qr),Qr.addEventListener("animationend",function(){gn.danTunnel[Lo][sp+""].splice(0,1)}),{v:sp%zn}}},Is=0;gn.unlimited||Is<zn;Is++){var Ml=fu(Is);if(Ml!=="continue"&&ru(Ml)==="object")return Ml.v}return-1};Object.prototype.toString.call(Yt)!=="[object Array]"&&(Yt=[Yt]);for(var Eo=document.createDocumentFragment(),xo=function(){Yt[ro].type=Tn.number2Type(Yt[ro].type),Yt[ro].color||(Yt[ro].color=16777215);var Qr=document.createElement("div");Qr.classList.add("dplayer-danmaku-item"),Qr.classList.add("dplayer-danmaku-".concat(Yt[ro].type)),Yt[ro].border?Qr.innerHTML='<span style="border:'.concat(Yt[ro].border,'">').concat(Yt[ro].text,"</span>"):Qr.innerHTML=Yt[ro].text,Qr.style.opacity=gn._opacity,Qr.style.color=Tn.number2Color(Yt[ro].color),Qr.addEventListener("animationend",function(){gn.container.removeChild(Qr)});var Lo,Jo=gn._measure(Yt[ro].text);switch(Yt[ro].type){case"right":(Lo=ho(Qr,Yt[ro].type,Jo))>=0&&(Qr.style.width=Jo+1+"px",Qr.style.top=An*Lo+"px",Qr.style.transform="translateX(-".concat(Dn,"px)"));break;case"top":(Lo=ho(Qr,Yt[ro].type))>=0&&(Qr.style.top=An*Lo+"px");break;case"bottom":(Lo=ho(Qr,Yt[ro].type))>=0&&(Qr.style.bottom=An*Lo+"px");break;default:console.error("Can't handled danmaku type: ".concat(Yt[ro].type))}Lo>=0&&(Qr.classList.add("dplayer-danmaku-move"),Qr.style.animationDuration=gn._danAnimation(Yt[ro].type),Eo.appendChild(Qr))},ro=0;ro<Yt.length;ro++)xo();return this.container.appendChild(Eo),Eo}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(Yt){if(!this.context){var gn=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=gn.getPropertyValue("font")}return this.context.measureText(Yt).width}},{key:"seek",value:function(){this.clear();for(var Yt=0;Yt<this.dan.length;Yt++){if(this.dan[Yt].time>=this.options.time()){this.danIndex=Yt;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(Yt){return Yt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var Yt=this.container.offsetWidth,gn=this.container.getElementsByClassName("dplayer-danmaku-item"),An=0;An<gn.length;An++)gn[An].style.transform="translateX(-".concat(Yt,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(Yt){this.unlimited=Yt}},{key:"speed",value:function(Yt){this.options.api.speedRate=Yt}},{key:"_danAnimation",value:function(Yt){var gn=this.options.api.speedRate||1,An=!!this.player.fullScreen.isFullScreen();return{top:"".concat((An?6:4)/gn,"s"),right:"".concat((An?8:5)/gn,"s"),bottom:"".concat((An?6:4)/gn,"s")}[Yt]}}],In&&Hs(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Yp=Xs;function Uo(Xt){return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Uo(Xt)}function Ws(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Uo(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Uo(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Uo(gn)==="symbol"?gn:String(gn)),Yt)}var gn}const So=function(){function Xt(){(function(Yt,gn){if(!(Yt instanceof gn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var dn,In;return dn=Xt,(In=[{key:"on",value:function(Yt,gn){this.type(Yt)&&typeof gn=="function"&&(this.events[Yt]||(this.events[Yt]=[]),this.events[Yt].push(gn))}},{key:"trigger",value:function(Yt,gn){if(this.events[Yt]&&this.events[Yt].length)for(var An=0;An<this.events[Yt].length;An++)this.events[Yt][An](gn)}},{key:"type",value:function(Yt){return this.playerEvents.indexOf(Yt)!==-1?"player":this.videoEvents.indexOf(Yt)!==-1?"video":(console.error("Unknown event name: ".concat(Yt)),null)}}])&&Ws(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();function cs(Xt){return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},cs(Xt)}function ba(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(cs(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(cs(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),cs(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var ys=function(){function Xt(Yt){var gn=this;(function(An,Dn){if(!(An instanceof Dn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",function(){gn.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){gn.player.resize(),Tn.setScrollPosition(gn.lastScrollPosition)}),this.fullscreenchange=function(){gn.player.resize(),gn.isFullScreen("browser")?gn.player.events.trigger("fullscreen"):(Tn.setScrollPosition(gn.lastScrollPosition),gn.player.events.trigger("fullscreen_cancel"))},this.docfullscreenchange=function(){var An=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;An&&An!==gn.player.container||(gn.player.resize(),An?gn.player.events.trigger("fullscreen"):(Tn.setScrollPosition(gn.lastScrollPosition),gn.player.events.trigger("fullscreen_cancel")))},/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",this.docfullscreenchange),document.addEventListener("fullscreenchange",this.docfullscreenchange)):(this.player.container.addEventListener("fullscreenchange",this.fullscreenchange),this.player.container.addEventListener("webkitfullscreenchange",this.fullscreenchange),document.addEventListener("msfullscreenchange",this.docfullscreenchange),document.addEventListener("MSFullscreenChange",this.docfullscreenchange))}var dn,In;return dn=Xt,In=[{key:"isFullScreen",value:function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(Yt){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser",gn=Yt==="browser"?"web":"browser",An=this.isFullScreen(gn);switch(An||(this.lastScrollPosition=Tn.getScrollPosition()),Yt){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}An&&this.cancel(gn)}},{key:"cancel",value:function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(Yt){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";this.isFullScreen(Yt)?this.cancel(Yt):this.request(Yt)}},{key:"destroy",value:function(){/Firefox/.test(navigator.userAgent)?(document.removeEventListener("mozfullscreenchange",this.docfullscreenchange),document.removeEventListener("fullscreenchange",this.docfullscreenchange)):(this.player.container.removeEventListener("fullscreenchange",this.fullscreenchange),this.player.container.removeEventListener("webkitfullscreenchange",this.fullscreenchange),document.removeEventListener("msfullscreenchange",this.docfullscreenchange),document.removeEventListener("MSFullscreenChange",this.docfullscreenchange))}}],In&&ba(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const qr=ys;function To(Xt){return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},To(Xt)}function vo(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(To(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(To(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),To(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Fs=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:Yt.options.hasOwnProperty("volume")?Yt.options.volume:.7,unlimited:(Yt.options.danmaku&&Yt.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var dn,In;return dn=Xt,(In=[{key:"init",value:function(){for(var Yt in this.storageName){var gn=this.storageName[Yt];this.data[Yt]=parseFloat(Tn.storage.get(gn)||this.default[Yt])}}},{key:"get",value:function(Yt){return this.data[Yt]}},{key:"set",value:function(Yt,gn){this.data[Yt]=gn,Tn.storage.set(this.storageName[Yt],gn)}}])&&vo(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Rs=Fs;function gs(Xt){return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},gs(Xt)}function no(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(gs(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(gs(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),gs(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var jo=function(){function Xt(Yt,gn,An,Dn){(function(Hn,zn){if(!(Hn instanceof zn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.container=Yt,this.video=gn,this.options=An,this.events=Dn,this.init()}var dn,In;return dn=Xt,In=[{key:"init",value:function(){var Yt=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var gn=this.video.textTracks[0];gn.oncuechange=function(){var An=gn.activeCues[gn.activeCues.length-1];if(Yt.container.innerHTML="",An){var Dn=document.createElement("div");Dn.appendChild(An.getCueAsHTML());var Hn=Dn.innerHTML.split(/\r?\n/).map(function(zn){return"<p>".concat(zn,"</p>")}).join("");Yt.container.innerHTML=Hn}Yt.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}],In&&no(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Yu=jo;function au(Xt){return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},au(Xt)}function Su(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(au(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(au(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),au(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var fp=function(){function Xt(Yt){var gn=this;(function(zn,Cr){if(!(zn instanceof Cr))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.player.template.mask.addEventListener("click",function(){gn.hide()}),this.player.template.subtitlesButton.addEventListener("click",function(){gn.adaptiveHeight(),gn.show()});for(var An=this.player.template.subtitlesItem.length-1,Dn=function(zn){gn.player.template.subtitlesItem[zn].addEventListener("click",function(){gn.hide(),gn.player.options.subtitle.index!==zn&&(gn.player.template.subtitle.innerHTML="<p></p>",gn.player.template.subtrack.src=gn.player.template.subtitlesItem[zn].dataset.subtitle,gn.player.options.subtitle.index=zn,gn.player.template.subtitle.classList.contains("dplayer-subtitle-hide")&&gn.subContainerShow())})},Hn=0;Hn<An;Hn++)Dn(Hn);this.player.template.subtitlesItem[An].addEventListener("click",function(){gn.hide(),gn.player.options.subtitle.index!==An&&(gn.player.template.subtitle.innerHTML="<p></p>",gn.player.template.subtrack.src="",gn.player.options.subtitle.index=An,gn.subContainerHide())})}var dn,In;return dn=Xt,(In=[{key:"subContainerShow",value:function(){this.player.template.subtitle.classList.remove("dplayer-subtitle-hide"),this.player.events.trigger("subtitle_show")}},{key:"subContainerHide",value:function(){this.player.template.subtitle.classList.add("dplayer-subtitle-hide"),this.player.events.trigger("subtitle_hide")}},{key:"hide",value:function(){this.player.template.subtitlesBox.classList.remove("dplayer-subtitles-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.subtitlesBox.classList.add("dplayer-subtitles-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}},{key:"adaptiveHeight",value:function(){var Yt=30*this.player.template.subtitlesItem.length+14,gn=.8*this.player.template.videoWrap.offsetHeight;Yt>=gn-50?(this.player.template.subtitlesBox.style.bottom="8px",this.player.template.subtitlesBox.style["max-height"]=gn-8+"px"):(this.player.template.subtitlesBox.style.bottom="50px",this.player.template.subtitlesBox.style["max-height"]=gn-50+"px")}}])&&Su(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const fm=fp;function Hl(Xt){return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Hl(Xt)}function t_(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Hl(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Hl(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Hl(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var $s=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.elements={},this.elements.volume=Yt.volumeBar,this.elements.played=Yt.playedBar,this.elements.loaded=Yt.loadedBar,this.elements.danmaku=Yt.danmakuOpacityBar}var dn,In;return dn=Xt,(In=[{key:"set",value:function(Yt,gn,An){gn=Math.max(gn,0),gn=Math.min(gn,1),this.elements[Yt].style[An]=100*gn+"%"}},{key:"get",value:function(Yt){return parseFloat(this.elements[Yt].style.width)/100}}])&&t_(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const yl=$s;function Pu(Xt){return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Pu(Xt)}function zl(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Pu(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Pu(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Pu(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Jp=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(gn){window.setTimeout(gn,1e3/60)},this.types=["loading","info","fps"],this.init()}var dn,In;return dn=Xt,(In=[{key:"init",value:function(){var Yt=this;this.types.map(function(gn){return gn!=="fps"&&Yt["init".concat(gn,"Checker")](),gn})}},{key:"initloadingChecker",value:function(){var Yt=this,gn=0,An=0,Dn=!1;this.loadingChecker=setInterval(function(){Yt.enableloadingChecker&&(An=Yt.player.video.currentTime,Dn||An!==gn||Yt.player.video.paused||(Yt.player.container.classList.add("dplayer-loading"),Dn=!0),Dn&&An>gn&&!Yt.player.video.paused&&(Yt.player.container.classList.remove("dplayer-loading"),Dn=!1),gn=An)},100)}},{key:"initfpsChecker",value:function(){var Yt=this;window.requestAnimationFrame(function(){if(Yt.enablefpsChecker)if(Yt.initfpsChecker(),Yt.fpsStart){Yt.fpsIndex++;var gn=new Date;gn-Yt.fpsStart>1e3&&(Yt.player.infoPanel.fps(Yt.fpsIndex/(gn-Yt.fpsStart)*1e3),Yt.fpsStart=new Date,Yt.fpsIndex=0)}else Yt.fpsStart=new Date,Yt.fpsIndex=0;else Yt.fpsStart=0,Yt.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var Yt=this;this.infoChecker=setInterval(function(){Yt.enableinfoChecker&&Yt.player.infoPanel.update()},1e3)}},{key:"enable",value:function(Yt){this["enable".concat(Yt,"Checker")]=!0,Yt==="fps"&&this.initfpsChecker()}},{key:"disable",value:function(Yt){this["enable".concat(Yt,"Checker")]=!1}},{key:"destroy",value:function(){var Yt=this;this.types.map(function(gn){return Yt["enable".concat(gn,"Checker")]=!1,Yt["".concat(gn,"Checker")]&&clearInterval(Yt["".concat(gn,"Checker")]),gn})}}])&&zl(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Dm=Jp;function pu(Xt){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},pu(Xt)}function xl(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(pu(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(pu(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),pu(gn)==="symbol"?gn:String(gn)),Yt)}var gn}const Os=function(){function Xt(Yt){var gn=this;(function(An,Dn){if(!(An instanceof Dn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.container=Yt,this.container.addEventListener("animationend",function(){gn.container.classList.remove("dplayer-bezel-transition")})}var dn,In;return dn=Xt,(In=[{key:"switch",value:function(Yt){this.container.innerHTML=Yt,this.container.classList.add("dplayer-bezel-transition")}}])&&xl(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();function Ju(Xt){return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Ju(Xt)}function n_(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Ju(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Ju(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Ju(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var v_=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.container=Yt.container,this.barWidth=Yt.barWidth,this.container.style.backgroundImage="url('".concat(Yt.url,"')"),this.events=Yt.events}var dn,In;return dn=Xt,(In=[{key:"resize",value:function(Yt,gn,An){this.container.style.width="".concat(Yt,"px"),this.container.style.height="".concat(gn,"px"),this.container.style.top="".concat(2-gn,"px"),this.barWidth=An}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(Yt){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(Yt/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(Yt-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&n_(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Xp=v_;function Uu(Xt){return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Uu(Xt)}function Ys(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Uu(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Uu(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Uu(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Ul,Rm=!0,Om=!1,Y_=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.autoHideTimer=0,Tn.isMobile||(this.setAutoHideHandler=this.setAutoHide.bind(this),this.player.container.addEventListener("mousemove",this.setAutoHideHandler),this.player.container.addEventListener("click",this.setAutoHideHandler),this.player.on("play",this.setAutoHideHandler),this.player.on("pause",this.setAutoHideHandler)),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.player.options.subtitle&&typeof this.player.options.subtitle.url=="string"&&this.initSubtitleButton(),this.initHighlights(),this.initAirplayButton(),this.initChromecastButton(),Tn.isMobile||this.initVolumeButton()}var dn,In;return dn=Xt,(In=[{key:"initPlayButton",value:function(){var Yt=this;this.player.template.playButton.addEventListener("click",function(){Yt.player.toggle()}),this.player.template.mobilePlayButton.addEventListener("click",function(){Yt.player.toggle()}),Tn.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){Yt.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){Yt.toggle()})):this.player.options.preventClickToggle||(this.player.template.videoWrap.addEventListener("click",function(){Yt.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){Yt.player.toggle()}))}},{key:"initHighlights",value:function(){var Yt=this;this.player.on("durationchange",function(){if(Yt.player.video.duration!==1&&Yt.player.video.duration!==1/0&&Yt.player.options.highlight){var gn=Yt.player.template.playedBarWrap.querySelectorAll(".dplayer-highlight");[].slice.call(gn,0).forEach(function(Hn){Yt.player.template.playedBarWrap.removeChild(Hn)});for(var An=0;An<Yt.player.options.highlight.length;An++)if(Yt.player.options.highlight[An].text&&Yt.player.options.highlight[An].time){var Dn=document.createElement("div");Dn.classList.add("dplayer-highlight"),Dn.style.left=Yt.player.options.highlight[An].time/Yt.player.video.duration*100+"%",Dn.innerHTML='<span class="dplayer-highlight-text">'+Yt.player.options.highlight[An].text+"</span>",Yt.player.template.playedBarWrap.insertBefore(Dn,Yt.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var Yt=this;this.player.options.video.thumbnails&&(this.thumbnails=new Xp({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){Yt.thumbnails.resize(160,Yt.player.video.videoHeight/Yt.player.video.videoWidth*160,Yt.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var Yt=this,gn=function(Dn){var Hn=((Dn.clientX||Dn.changedTouches[0].clientX)-Tn.getBoundingClientRectViewLeft(Yt.player.template.playedBarWrap))/Yt.player.template.playedBarWrap.clientWidth;Hn=Math.max(Hn,0),Hn=Math.min(Hn,1),Yt.player.bar.set("played",Hn,"width"),Yt.player.template.ptime.innerHTML=Tn.secondToTime(Hn*Yt.player.video.duration)},An=function Dn(Hn){document.removeEventListener(Tn.nameMap.dragEnd,Dn),document.removeEventListener(Tn.nameMap.dragMove,gn);var zn=((Hn.clientX||Hn.changedTouches[0].clientX)-Tn.getBoundingClientRectViewLeft(Yt.player.template.playedBarWrap))/Yt.player.template.playedBarWrap.clientWidth;zn=Math.max(zn,0),zn=Math.min(zn,1),Yt.player.bar.set("played",zn,"width"),Yt.player.seek(Yt.player.bar.get("played")*Yt.player.video.duration),Yt.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(Tn.nameMap.dragStart,function(){Yt.player.timer.disable("progress"),document.addEventListener(Tn.nameMap.dragMove,gn),document.addEventListener(Tn.nameMap.dragEnd,An)}),this.player.template.playedBarWrap.addEventListener(Tn.nameMap.dragMove,function(Dn){if(Yt.player.video.duration){var Hn=Yt.player.template.playedBarWrap.getBoundingClientRect().left,zn=(Dn.clientX||Dn.changedTouches[0].clientX)-Hn;if(zn<0||zn>Yt.player.template.playedBarWrap.offsetWidth)return;var Cr=Yt.player.video.duration*(zn/Yt.player.template.playedBarWrap.offsetWidth);Tn.isMobile&&Yt.thumbnails&&Yt.thumbnails.show(),Yt.thumbnails&&Yt.thumbnails.move(zn),Yt.player.template.playedBarTime.style.left="".concat(zn-(Cr>=3600?25:20),"px"),Yt.player.template.playedBarTime.innerText=Tn.secondToTime(Cr),Yt.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(Tn.nameMap.dragEnd,function(){Tn.isMobile&&Yt.thumbnails&&Yt.thumbnails.hide()}),Tn.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){Yt.player.video.duration&&(Yt.thumbnails&&Yt.thumbnails.show(),Yt.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){Yt.player.video.duration&&(Yt.thumbnails&&Yt.thumbnails.hide(),Yt.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var Yt=this;this.player.template.browserFullButton.addEventListener("click",function(){Yt.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){Yt.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var Yt=this,gn=function(Dn){var Hn=Dn||window.event,zn=((Hn.clientX||Hn.changedTouches[0].clientX)-Tn.getBoundingClientRectViewLeft(Yt.player.template.volumeBarWrap)-5.5)/35;Yt.player.volume(zn)},An=function Dn(){document.removeEventListener(Tn.nameMap.dragEnd,Dn),document.removeEventListener(Tn.nameMap.dragMove,gn),Yt.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(Dn){var Hn=Dn||window.event,zn=((Hn.clientX||Hn.changedTouches[0].clientX)-Tn.getBoundingClientRectViewLeft(Yt.player.template.volumeBarWrap)-5.5)/35;Yt.player.volume(zn)}),this.player.template.volumeBarWrapWrap.addEventListener(Tn.nameMap.dragStart,function(){document.addEventListener(Tn.nameMap.dragMove,gn),document.addEventListener(Tn.nameMap.dragEnd,An),Yt.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){Yt.player.video.muted?(Yt.player.video.muted=!1,Yt.player.switchVolumeIcon(),Yt.player.bar.set("volume",Yt.player.volume(),"width")):(Yt.player.video.muted=!0,Yt.player.template.volumeIcon.innerHTML=Jr.volumeOff,Yt.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var Yt=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(gn){gn.target.classList.contains("dplayer-quality-item")&&Yt.player.switchQuality(gn.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var Yt=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var gn,An=document.createElement("canvas");An.width=Yt.player.video.videoWidth,An.height=Yt.player.video.videoHeight,An.getContext("2d").drawImage(Yt.player.video,0,0,An.width,An.height),An.toBlob(function(Dn){gn=URL.createObjectURL(Dn);var Hn=document.createElement("a");Hn.href=gn,Hn.download="DPlayer.png",Hn.style.display="none",document.body.appendChild(Hn),Hn.click(),document.body.removeChild(Hn),URL.revokeObjectURL(gn),Yt.player.events.trigger("screenshot",gn)})})}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",(function(Yt){Yt.availability==="available"?this.template.airplayButton.disable=!1:this.template.airplayButton.disable=!0,this.template.airplayButton.addEventListener("click",(function(){this.video.webkitShowPlaybackTargetPicker()}).bind(this))}).bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initChromecast",value:function(){var Yt=window.document.createElement("script");Yt.setAttribute("type","text/javascript"),Yt.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),window.document.body.appendChild(Yt),window.__onGCastApiAvailable=function(gn){if(gn){var An=new(Ul=window.chrome.cast).SessionRequest(Ul.media.DEFAULT_MEDIA_RECEIVER_APP_ID),Dn=new Ul.ApiConfig(An,function(){},function(Hn){Hn===Ul.ReceiverAvailability.AVAILABLE&&console.log("chromecast: ",Hn)});Ul.initialize(Dn,function(){})}}}},{key:"initChromecastButton",value:function(){var Yt=this;if(this.player.options.chromecast){Rm&&(Rm=!1,this.initChromecast());var gn=function(Dn,Hn){Yt.currentMedia=Hn},An=function(Dn){console.error("Error launching media",Dn)};this.player.template.chromecastButton.addEventListener("click",function(){Om?(Om=!1,Yt.currentMedia.stop(),Yt.session.stop(),Yt.initChromecast()):(Om=!0,Ul.requestSession(function(Dn){var Hn,zn,Cr;Yt.session=Dn,Hn=Yt.player.options.video.url,zn=new Ul.media.MediaInfo(Hn),Cr=new Ul.media.LoadRequest(zn),Yt.session?Yt.session.loadMedia(Cr,gn.bind(Yt,"loadMedia"),An).play():window.open(Hn)},function(Dn){Dn.code==="cancel"?Yt.session=void 0:console.error("Error selecting a cast device",Dn)}))})}}},{key:"initSubtitleButton",value:function(){var Yt=this;this.player.events.on("subtitle_show",function(){Yt.player.template.subtitleButton.dataset.balloon=Yt.player.tran("hide-subs"),Yt.player.template.subtitleButtonInner.style.opacity="",Yt.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){Yt.player.template.subtitleButton.dataset.balloon=Yt.player.tran("show-subs"),Yt.player.template.subtitleButtonInner.style.opacity="0.4",Yt.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){Yt.player.subtitle.toggle()})}},{key:"setAutoHide",value:function(){var Yt=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!Yt.player.video.played.length||Yt.player.paused||Yt.disableAutoHide||Yt.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){Tn.isMobile||(this.player.container.removeEventListener("mousemove",this.setAutoHideHandler),this.player.container.removeEventListener("click",this.setAutoHideHandler)),clearTimeout(this.autoHideTimer)}}])&&Ys(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const y_=Y_;function Kl(Xt){return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Kl(Xt)}function _r(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Kl(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Kl(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Kl(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Nr=function(){function Xt(Yt){var gn=this;(function(Cr,Lr){if(!(Cr instanceof Lr))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.player.template.mask.addEventListener("click",function(){gn.hide()}),this.player.template.settingButton.addEventListener("click",function(){gn.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){gn.player.template.loopToggle.checked=!gn.player.template.loopToggle.checked,gn.player.template.loopToggle.checked?gn.loop=!0:gn.loop=!1,gn.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){gn.player.template.showDanmakuToggle.checked=!gn.player.template.showDanmakuToggle.checked,gn.player.template.showDanmakuToggle.checked?(gn.showDanmaku=!0,gn.player.danmaku.show()):(gn.showDanmaku=!1,gn.player.danmaku.hide()),gn.player.user.set("danmaku",gn.showDanmaku?1:0),gn.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){gn.player.template.unlimitDanmakuToggle.checked=!gn.player.template.unlimitDanmakuToggle.checked,gn.player.template.unlimitDanmakuToggle.checked?(gn.unlimitDanmaku=!0,gn.player.danmaku.unlimit(!0)):(gn.unlimitDanmaku=!1,gn.player.danmaku.unlimit(!1)),gn.player.user.set("unlimited",gn.unlimitDanmaku?1:0),gn.hide()}),this.player.template.speed.addEventListener("click",function(){gn.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),gn.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var An=function(Cr){gn.player.template.speedItem[Cr].addEventListener("click",function(){gn.player.speed(gn.player.template.speedItem[Cr].dataset.speed),gn.hide()})},Dn=0;Dn<this.player.template.speedItem.length;Dn++)An(Dn);if(this.player.danmaku){this.player.on("danmaku_opacity",function(Cr){gn.player.bar.set("danmaku",Cr,"width"),gn.player.user.set("opacity",Cr)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var Hn=function(Cr){var Lr=Cr||window.event,ho=((Lr.clientX||Lr.changedTouches[0].clientX)-Tn.getBoundingClientRectViewLeft(gn.player.template.danmakuOpacityBarWrap))/130;ho=Math.max(ho,0),ho=Math.min(ho,1),gn.player.danmaku.opacity(ho)},zn=function Cr(){document.removeEventListener(Tn.nameMap.dragEnd,Cr),document.removeEventListener(Tn.nameMap.dragMove,Hn),gn.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(Cr){var Lr=Cr||window.event,ho=((Lr.clientX||Lr.changedTouches[0].clientX)-Tn.getBoundingClientRectViewLeft(gn.player.template.danmakuOpacityBarWrap))/130;ho=Math.max(ho,0),ho=Math.min(ho,1),gn.player.danmaku.opacity(ho)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(Tn.nameMap.dragStart,function(){document.addEventListener(Tn.nameMap.dragMove,Hn),document.addEventListener(Tn.nameMap.dragEnd,zn),gn.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}var dn,In;return dn=Xt,(In=[{key:"hide",value:function(){var Yt=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){Yt.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),Yt.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&_r(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const Rr=Nr;function Co(Xt){return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Co(Xt)}function _a(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(Co(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(Co(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),Co(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var _s=function(){function Xt(Yt){var gn=this;(function(An,Dn){if(!(An instanceof Dn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.player.template.mask.addEventListener("click",function(){gn.hide()}),this.player.template.commentButton.addEventListener("click",function(){gn.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){gn.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(gn.player.template.commentColorSettingBox.querySelector("input:checked+span")){var An=gn.player.template.commentColorSettingBox.querySelector("input:checked").value;gn.player.template.commentSettingFill.style.fill=An,gn.player.template.commentInput.style.color=An,gn.player.template.commentSendFill.style.fill=An}}),this.player.template.commentInput.addEventListener("click",function(){gn.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(An){(An||window.event).keyCode===13&&gn.send()}),this.player.template.commentSendButton.addEventListener("click",function(){gn.send()})}var dn,In;return dn=Xt,(In=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var Yt=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:Tn.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){Yt.player.template.commentInput.value="",Yt.hide()}):this.player.notice(this.player.tran("please-input-danmaku"))}}])&&_a(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const bu=_s;function bs(Xt){return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},bs(Xt)}function hm(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(bs(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(bs(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),bs(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var M_=function(){function Xt(Yt){(function(gn,An){if(!(gn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.doHotKeyHandler=this.doHotKey.bind(this),this.cancelFullScreenHandler=this.cancelFullScreen.bind(this),this.player.options.hotkey&&document.addEventListener("keydown",this.doHotKeyHandler),document.addEventListener("keydown",this.cancelFullScreenHandler)}var dn,In;return dn=Xt,(In=[{key:"doHotKey",value:function(Yt){if(this.player.focus){var gn=document.activeElement.tagName.toUpperCase(),An=document.activeElement.getAttribute("contenteditable");if(gn!=="INPUT"&&gn!=="TEXTAREA"&&An!==""&&An!=="true"){var Dn,Hn=Yt||window.event;switch(Hn.keyCode){case 32:Hn.preventDefault(),this.player.toggle();break;case 37:if(Hn.preventDefault(),this.player.options.live)break;this.player.seek(this.player.video.currentTime-5),this.player.controller.setAutoHide();break;case 39:if(Hn.preventDefault(),this.player.options.live)break;this.player.seek(this.player.video.currentTime+5),this.player.controller.setAutoHide();break;case 38:Hn.preventDefault(),Dn=this.player.volume()+.1,this.player.volume(Dn);break;case 40:Hn.preventDefault(),Dn=this.player.volume()-.1,this.player.volume(Dn)}}}}},{key:"cancelFullScreen",value:function(Yt){(Yt||window.event).keyCode===27&&this.player.fullScreen.isFullScreen("web")&&this.player.fullScreen.cancel("web")}},{key:"destroy",value:function(){this.player.options.hotkey&&document.removeEventListener("keydown",this.doHotKeyHandler),document.removeEventListener("keydown",this.cancelFullScreenHandler)}}])&&hm(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const wl=M_;function hp(Xt){return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},hp(Xt)}function J_(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(hp(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(hp(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),hp(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var Tp=function(){function Xt(Yt){var gn=this;(function(An,Dn){if(!(An instanceof Dn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.player=Yt,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(An,Dn){gn.player.options.contextmenu[Dn].click&&An.addEventListener("click",function(){gn.player.options.contextmenu[Dn].click(gn.player),gn.hide()})}),this.contextmenuHandler=function(An){if(gn.shown)gn.hide();else{var Dn=An||window.event;Dn.preventDefault();var Hn=gn.player.container.getBoundingClientRect();gn.show(Dn.clientX-Hn.left,Dn.clientY-Hn.top),gn.player.template.mask.addEventListener("click",function(){gn.hide()})}},this.player.container.addEventListener("contextmenu",this.contextmenuHandler)}var dn,In;return dn=Xt,(In=[{key:"show",value:function(Yt,gn){this.player.template.menu.classList.add("dplayer-menu-show");var An=this.player.container.getBoundingClientRect();Yt+this.player.template.menu.offsetWidth>=An.width?(this.player.template.menu.style.right=An.width-Yt+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=Yt+"px",this.player.template.menu.style.right="initial"),gn+this.player.template.menu.offsetHeight>=An.height?(this.player.template.menu.style.bottom=An.height-gn+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=gn+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}},{key:"destroy",value:function(){this.player.container.removeEventListener("contextmenu",this.contextmenuHandler)}}])&&J_(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const gm=Tp;function gp(Xt){return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},gp(Xt)}function Ls(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,(gn=function(An,Dn){if(gp(An)!=="object"||An===null)return An;var Hn=An[Symbol.toPrimitive];if(Hn!==void 0){var zn=Hn.call(An,"string");if(gp(zn)!=="object")return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(An)}(Yt.key),gp(gn)==="symbol"?gn:String(gn)),Yt)}var gn}var E_=function(){function Xt(Yt){var gn=this;(function(An,Dn){if(!(An instanceof Dn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.container=Yt.template.infoPanel,this.template=Yt.template,this.video=Yt.video,this.player=Yt,this.template.infoPanelClose.addEventListener("click",function(){gn.hide()})}var dn,In;return dn=Xt,(In=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.27.1"," ").concat("v1.27.0-12-g4f61091"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(Yt){this.template.infoFPS.innerHTML="".concat(Yt.toFixed(1))}}])&&Ls(dn.prototype,In),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const r_=E_;var mm=ot(568),Lm=ot.n(mm);function Zp(Xt){return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dn){return typeof dn}:function(dn){return dn&&typeof Symbol=="function"&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Zp(Xt)}function o_(Xt,dn){var In=Object.keys(Xt);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(Xt);dn&&(Yt=Yt.filter(function(gn){return Object.getOwnPropertyDescriptor(Xt,gn).enumerable})),In.push.apply(In,Yt)}return In}function _m(Xt,dn,In){return(dn=mp(dn))in Xt?Object.defineProperty(Xt,dn,{value:In,enumerable:!0,configurable:!0,writable:!0}):Xt[dn]=In,Xt}function ip(Xt,dn){for(var In=0;In<dn.length;In++){var Yt=dn[In];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Xt,mp(Yt.key),Yt)}}function mp(Xt){var dn=function(In,Yt){if(Zp(In)!=="object"||In===null)return In;var gn=In[Symbol.toPrimitive];if(gn!==void 0){var An=gn.call(In,"string");if(Zp(An)!=="object")return An;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(In)}(Xt);return Zp(dn)==="symbol"?dn:String(dn)}var Nm=0,ap=[],Pm=function(){function Xt(gn){var An=this;(function(Dn,Hn){if(!(Dn instanceof Hn))throw new TypeError("Cannot call a class as a function")})(this,Xt),this.options=function(Dn){var Hn={container:Dn.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,chromecast:!1,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:Sp,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}},preventClickToggle:!1};for(var zn in Hn)Hn.hasOwnProperty(zn)&&!Dn.hasOwnProperty(zn)&&(Dn[zn]=Hn[zn]);return Dn.video&&!Dn.video.type&&(Dn.video.type="auto"),zp(Dn.danmaku)==="object"&&Dn.danmaku&&!Dn.danmaku.user&&(Dn.danmaku.user="DIYgod"),Dn.subtitle&&(!Dn.subtitle.type&&(Dn.subtitle.type="webvtt"),!Dn.subtitle.fontSize&&(Dn.subtitle.fontSize="20px"),!Dn.subtitle.bottom&&(Dn.subtitle.bottom="40px"),!Dn.subtitle.color&&(Dn.subtitle.color="#fff")),Dn.video.quality&&(Dn.video.url=Dn.video.quality[Dn.video.defaultQuality].url),Dn.lang&&(Dn.lang=Dn.lang.toLowerCase()),Dn.contextmenu=Dn.contextmenu.concat([{key:"video-info",click:function(Cr){Cr.infoPanel.triggle()}},{key:"about-author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.27.1"),link:"https://github.com/MoePlayer/DPlayer"}]),Dn}(function(Dn){for(var Hn=1;Hn<arguments.length;Hn++){var zn=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?o_(Object(zn),!0).forEach(function(Cr){_m(Dn,Cr,zn[Cr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(zn)):o_(Object(zn)).forEach(function(Cr){Object.defineProperty(Dn,Cr,Object.getOwnPropertyDescriptor(zn,Cr))})}return Dn}({preload:gn.video.type==="webtorrent"?"none":"metadata"},gn)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new Tu(this.options.lang).tran,this.events=new So,this.user=new Rs(this),this.container=this.options.container,this.noticeList={},this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live?this.container.classList.add("dplayer-live"):this.container.classList.remove("dplayer-live"),Tn.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.options.subtitle&&Array.isArray(this.options.subtitle.url)&&(this.options.subtitle.url.push({subtitle:"",lang:"off"}),this.options.subtitle.defaultSubtitle&&(typeof this.options.subtitle.defaultSubtitle=="string"?this.options.subtitle.index=this.options.subtitle.url.findIndex(function(Dn){return Dn.lang===An.options.subtitle.defaultSubtitle||Dn.name===An.options.subtitle.defaultSubtitle}):typeof this.options.subtitle.defaultSubtitle=="number"&&(this.options.subtitle.index=this.options.subtitle.defaultSubtitle)),(this.options.subtitle.index===-1||!this.options.subtitle.index||this.options.subtitle.index>this.options.subtitle.url.length-1)&&(this.options.subtitle.index=this.options.subtitle.url.findIndex(function(Dn){return Dn.lang===An.options.lang})),this.options.subtitle.index===-1&&(this.options.subtitle.index=this.options.subtitle.url.length-1)),this.template=new uo({container:this.container,options:this.options,index:Nm,tran:this.tran}),this.video=this.template.video,this.bar=new yl(this.template),this.bezel=new Os(this.template.bezel),this.fullScreen=new qr(this),this.controller=new y_(this),this.options.danmaku&&(this.danmaku=new Yp({player:this,container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){An.template.danmakuLoading.style.display="none",An.options.autoplay&&An.play()},0)},error:function(Dn){An.notice(Dn)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return An.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user,speedRate:this.options.danmaku.speedRate},events:this.events,tran:function(Dn){return An.tran(Dn)}}),this.comment=new bu(this)),this.setting=new Rr(this),this.plugins={},this.docClickFun=function(){An.focus=!1},this.containerClickFun=function(){An.focus=!0},document.addEventListener("click",this.docClickFun,!0),this.container.addEventListener("click",this.containerClickFun,!0),this.paused=!0,this.timer=new Dm(this),this.hotkey=new wl(this),this.contextmenu=new gm(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new r_(this),!this.danmaku&&this.options.autoplay&&this.play(),Nm++,ap.push(this)}var dn,In,Yt;return dn=Xt,In=[{key:"seek",value:function(gn){gn=Math.max(gn,0),this.video.duration&&(gn=Math.min(gn,this.video.duration)),this.video.currentTime<gn?this.notice("".concat(this.tran("ff").replace("%s",(gn-this.video.currentTime).toFixed(0)))):this.video.currentTime>gn&&this.notice("".concat(this.tran("rew").replace("%s",(this.video.currentTime-gn).toFixed(0)))),this.video.currentTime=gn,this.danmaku&&this.danmaku.seek(),this.bar.set("played",gn/this.video.duration,"width"),this.template.ptime.innerHTML=Tn.secondToTime(gn)}},{key:"play",value:function(gn){var An=this;if(this.paused=!1,this.video.paused&&!Tn.isMobile&&this.bezel.switch(Jr.play),this.template.playButton.innerHTML=Jr.pause,this.template.mobilePlayButton.innerHTML=Jr.pause,gn||Kn.resolve(this.video.play()).catch(function(){An.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var Dn=0;Dn<ap.length;Dn++)this!==ap[Dn]&&ap[Dn].pause()}},{key:"pause",value:function(gn){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||Tn.isMobile||this.bezel.switch(Jr.pause),this.template.playButton.innerHTML=Jr.play,this.template.mobilePlayButton.innerHTML=Jr.play,gn||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=Jr.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=Jr.volumeDown:this.template.volumeIcon.innerHTML=Jr.volumeOff}},{key:"volume",value:function(gn,An,Dn){if(gn=parseFloat(gn),!isNaN(gn)){gn=Math.max(gn,0),gn=Math.min(gn,1),this.bar.set("volume",gn,"width");var Hn="".concat((100*gn).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=Hn,An||this.user.set("volume",gn),Dn||this.notice("".concat(this.tran("volume")," ").concat((100*gn).toFixed(0),"%"),void 0,void 0,"volume"),this.video.volume=gn,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(gn,An){this.events.on(gn,An)}},{key:"switchVideo",value:function(gn,An){this.pause(),this.video.poster=gn.pic?gn.pic:"",this.video.src=gn.url,this.initMSE(this.video,gn.type||"auto"),An&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:An.id,address:An.api,token:An.token,maximum:An.maximum,addition:An.addition,user:An.user}))}},{key:"initMSE",value:function(gn,An){var Dn=this;if(this.type=An,this.options.video.customType&&this.options.video.customType[An])Object.prototype.toString.call(this.options.video.customType[An])==="[object Function]"?this.options.video.customType[An](this.video,this):console.error("Illegal customType: ".concat(An));else switch(this.type==="auto"&&(/m3u8(#|\?|$)/i.exec(gn.src)?this.type="hls":/.flv(#|\?|$)/i.exec(gn.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(gn.src)?this.type="dash":this.type="normal"),this.type==="hls"&&(gn.canPlayType("application/x-mpegURL")||gn.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var Hn=this.options.pluginOptions.hls,zn=new window.Hls(Hn);this.plugins.hls=zn,zn.loadSource(gn.src),zn.attachMedia(gn),this.events.on("destroy",function(){zn.destroy(),delete Dn.plugins.hls})}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var Cr=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:gn.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=Cr,Cr.attachMediaElement(gn),Cr.load(),this.events.on("destroy",function(){Cr.unload(),Cr.detachMediaElement(),Cr.destroy(),delete Dn.plugins.flvjs})}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var Lr=window.dashjs.MediaPlayer().create().initialize(gn,gn.src,!1),ho=this.options.pluginOptions.dash;Lr.updateSettings(ho),this.plugins.dash=Lr,this.events.on("destroy",function(){window.dashjs.MediaPlayer().reset(),delete Dn.plugins.dash})}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var Eo=this.options.pluginOptions.webtorrent,xo=new window.WebTorrent(Eo);this.plugins.webtorrent=xo;var ro=gn.src;gn.src="",gn.preload="metadata",gn.addEventListener("durationchange",function(){return Dn.container.classList.remove("dplayer-loading")},{once:!0}),xo.add(ro,function(Qr){Qr.files.find(function(Lo){return Lo.name.endsWith(".mp4")}).renderTo(Dn.video,{autoplay:Dn.options.autoplay,controls:!1})}),this.events.on("destroy",function(){xo.remove(ro),xo.destroy(),delete Dn.plugins.webtorrent})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(gn,An){var Dn=this;this.initMSE(gn,An),this.on("durationchange",function(){gn.duration!==1&&gn.duration!==1/0&&(Dn.template.dtime.innerHTML=Tn.secondToTime(gn.duration))}),this.on("progress",function(){var Cr=gn.buffered.length?gn.buffered.end(gn.buffered.length-1)/gn.duration:0;Dn.bar.set("loaded",Cr,"width")}),this.on("error",function(){Dn.video.error&&Dn.tran&&Dn.notice&&Dn.type!=="webtorrent"&&Dn.notice(Dn.tran("video-failed"))}),this.on("ended",function(){Dn.bar.set("played",1,"width"),Dn.setting.loop?(Dn.seek(0),Dn.play()):Dn.pause(),Dn.danmaku&&(Dn.danmaku.danIndex=0)}),this.on("play",function(){Dn.paused&&Dn.play(!0)}),this.on("pause",function(){Dn.paused||Dn.pause(!0)}),this.on("timeupdate",function(){Dn.bar.set("played",Dn.video.currentTime/Dn.video.duration,"width");var Cr=Tn.secondToTime(Dn.video.currentTime);Dn.template.ptime.innerHTML!==Cr&&(Dn.template.ptime.innerHTML=Cr)});for(var Hn=function(Cr){gn.addEventListener(Dn.events.videoEvents[Cr],function(Lr){Dn.events.trigger(Dn.events.videoEvents[Cr],Lr)})},zn=0;zn<this.events.videoEvents.length;zn++)Hn(zn);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new Yu(this.template.subtitle,this.video,this.options.subtitle,this.events),Array.isArray(this.options.subtitle.url)&&(this.subtitles=new fm(this)),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(gn){var An=this;if(gn=typeof gn=="string"?parseInt(gn):gn,this.qualityIndex!==gn&&!this.switchingQuality){this.prevIndex=this.qualityIndex,this.qualityIndex=gn,this.switchingQuality=!0,this.quality=this.options.video.quality[gn],this.template.qualityButton.innerHTML=this.quality.name;var Dn=this.video.paused;this.video.pause();var Hn=Lm()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),zn=new DOMParser().parseFromString(Hn,"text/html").body.firstChild;this.template.videoWrap.insertBefore(zn,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=zn,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("switching-quality").replace("%q",this.quality.name)),-1,void 0,"switch-quality"),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(An.prevVideo){if(An.video.currentTime!==An.prevVideo.currentTime)return void An.seek(An.prevVideo.currentTime);An.template.videoWrap.removeChild(An.prevVideo),An.video.classList.add("dplayer-video-current"),Dn||An.video.play(),An.prevVideo=null,An.notice("".concat(An.tran("switched-quality").replace("%q",An.quality.name)),void 0,void 0,"switch-quality"),An.switchingQuality=!1,An.events.trigger("quality_end")}}),this.on("error",function(){An.video.error&&An.prevVideo&&(An.template.videoWrap.removeChild(An.video),An.video=An.prevVideo,Dn||An.video.play(),An.qualityIndex=An.prevIndex,An.quality=An.options.video.quality[An.qualityIndex],An.noticeTime=setTimeout(function(){An.template.notice.style.opacity=0,An.events.trigger("notice_hide")},3e3),An.prevVideo=null,An.switchingQuality=!1)})}}},{key:"notice",value:function(gn){var An,Dn,Hn,zn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3,Cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8,Lr=arguments.length>3?arguments[3]:void 0;if(Lr&&((An=document.getElementById("dplayer-notice-".concat(Lr)))&&(An.innerHTML=gn),this.noticeList[Lr]&&(clearTimeout(this.noticeList[Lr]),this.noticeList[Lr]=null)),!An){var ho=uo.NewNotice(gn,Cr,Lr);this.template.noticeList.appendChild(ho),An=ho}this.events.trigger("notice_show",An),zn>0&&(this.noticeList[Lr]=setTimeout((Dn=An,Hn=this,function(){Dn.addEventListener("animationend",function(){Hn.template.noticeList.removeChild(Dn)}),Dn.classList.add("remove-notice"),Hn.events.trigger("notice_hide"),Hn.noticeList[Lr]=null}),zn))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(gn){this.video.playbackRate=gn}},{key:"destroy",value:function(){ap.splice(ap.indexOf(this),1),this.pause(),document.removeEventListener("click",this.docClickFun,!0),this.container.removeEventListener("click",this.containerClickFun,!0),this.fullScreen.destroy(),this.hotkey.destroy(),this.contextmenu.destroy(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}],Yt=[{key:"version",get:function(){return"1.27.1"}}],In&&ip(dn.prototype,In),Yt&&ip(dn,Yt),Object.defineProperty(dn,"prototype",{writable:!1}),Xt}();const i_=Pm;console.log(`
`.concat(" %c DPlayer v","1.27.1"," ").concat("v1.27.0-12-g4f61091"," %c https://dplayer.diygod.dev ",`
`,`
`),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");const vm=i_})(),it.default})())})(DPlayer_min);var DPlayer_minExports=DPlayer_min.exports;const DPlayer=getDefaultExportFromCjs(DPlayer_minExports);var react_1=reactExports,isFunction$1=function(_e){return typeof _e=="function"},useStateRef=function(_e){var et=react_1.useState(_e),nt=et[0],rt=et[1],ot=react_1.useRef(nt),it=react_1.useCallback(function(ct){ot.current=isFunction$1(ct)?ct(ot.current):ct,rt(ot.current)},[]);return[nt,it,ot]},dist$1=useStateRef;const setState=getDefaultExportFromCjs(dist$1);var toggleReducer=function(_e,et){return typeof et=="boolean"?et:!_e},useToggle=function(_e){return reactExports.useReducer(toggleReducer,_e)},useLifecycles=function(_e,et){reactExports.useEffect(function(){return _e&&_e(),function(){et&&et()}},[])};function usePrevious(_e){var et=reactExports.useRef();return reactExports.useEffect(function(){et.current=_e}),et.current}const upcomingLiveCard="_upcomingLiveCard_kgru8_1",wrapper$f="_wrapper_kgru8_9",top$1="_top_kgru8_12",league$1="_league_kgru8_20",leagueLogo$1="_leagueLogo_kgru8_29",schedule$2="_schedule_kgru8_53",streamBadge$1="_streamBadge_kgru8_68",score$4="_score_kgru8_78",club$3="_club_kgru8_86",clubLogo$3="_clubLogo_kgru8_94",scoreCount$3="_scoreCount_kgru8_102",bottom$2="_bottom_kgru8_113",label$1="_label_kgru8_120",host$1="_host_kgru8_126",avatar$a="_avatar_kgru8_131",styles$Y={upcomingLiveCard,wrapper:wrapper$f,top:top$1,league:league$1,leagueLogo:leagueLogo$1,schedule:schedule$2,streamBadge:streamBadge$1,score:score$4,club:club$3,clubLogo:clubLogo$3,scoreCount:scoreCount$3,bottom:bottom$2,label:label$1,host:host$1,avatar:avatar$a};function toDate(_e){const et=Object.prototype.toString.call(_e);return _e instanceof Date||typeof _e=="object"&&et==="[object Date]"?new _e.constructor(+_e):typeof _e=="number"||et==="[object Number]"||typeof _e=="string"||et==="[object String]"?new Date(_e):new Date(NaN)}function constructFrom(_e,et){return _e instanceof Date?new _e.constructor(et):new Date(et)}function addDays(_e,et){const nt=toDate(_e);return isNaN(et)?constructFrom(_e,NaN):(nt.setDate(nt.getDate()+et),nt)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions$1={};function getDefaultOptions(){return defaultOptions$1}function startOfWeek(_e,et){var lt,pt,mt,Mt;const nt=getDefaultOptions(),rt=(et==null?void 0:et.weekStartsOn)??((pt=(lt=et==null?void 0:et.locale)==null?void 0:lt.options)==null?void 0:pt.weekStartsOn)??nt.weekStartsOn??((Mt=(mt=nt.locale)==null?void 0:mt.options)==null?void 0:Mt.weekStartsOn)??0,ot=toDate(_e),it=ot.getDay(),ct=(it<rt?7:0)+it-rt;return ot.setDate(ot.getDate()-ct),ot.setHours(0,0,0,0),ot}function startOfISOWeek(_e){return startOfWeek(_e,{weekStartsOn:1})}function getISOWeekYear(_e){const et=toDate(_e),nt=et.getFullYear(),rt=constructFrom(_e,0);rt.setFullYear(nt+1,0,4),rt.setHours(0,0,0,0);const ot=startOfISOWeek(rt),it=constructFrom(_e,0);it.setFullYear(nt,0,4),it.setHours(0,0,0,0);const ct=startOfISOWeek(it);return et.getTime()>=ot.getTime()?nt+1:et.getTime()>=ct.getTime()?nt:nt-1}function startOfDay(_e){const et=toDate(_e);return et.setHours(0,0,0,0),et}function getTimezoneOffsetInMilliseconds(_e){const et=toDate(_e),nt=new Date(Date.UTC(et.getFullYear(),et.getMonth(),et.getDate(),et.getHours(),et.getMinutes(),et.getSeconds(),et.getMilliseconds()));return nt.setUTCFullYear(et.getFullYear()),+_e-+nt}function differenceInCalendarDays(_e,et){const nt=startOfDay(_e),rt=startOfDay(et),ot=+nt-getTimezoneOffsetInMilliseconds(nt),it=+rt-getTimezoneOffsetInMilliseconds(rt);return Math.round((ot-it)/millisecondsInDay)}function startOfISOWeekYear(_e){const et=getISOWeekYear(_e),nt=constructFrom(_e,0);return nt.setFullYear(et,0,4),nt.setHours(0,0,0,0),startOfISOWeek(nt)}function isDate$1(_e){return _e instanceof Date||typeof _e=="object"&&Object.prototype.toString.call(_e)==="[object Date]"}function isValid(_e){if(!isDate$1(_e)&&typeof _e!="number")return!1;const et=toDate(_e);return!isNaN(Number(et))}function endOfDay(_e){const et=toDate(_e);return et.setHours(23,59,59,999),et}function startOfYear(_e){const et=toDate(_e),nt=constructFrom(_e,0);return nt.setFullYear(et.getFullYear(),0,1),nt.setHours(0,0,0,0),nt}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(_e,et,nt)=>{let rt;const ot=formatDistanceLocale$1[_e];return typeof ot=="string"?rt=ot:et===1?rt=ot.one:rt=ot.other.replace("{{count}}",et.toString()),nt!=null&&nt.addSuffix?nt.comparison&&nt.comparison>0?"in "+rt:rt+" ago":rt};function buildFormatLongFn(_e){return(et={})=>{const nt=et.width?String(et.width):_e.defaultWidth;return _e.formats[nt]||_e.formats[_e.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(_e,et,nt,rt)=>formatRelativeLocale$1[_e];function buildLocalizeFn(_e){return(et,nt)=>{const rt=nt!=null&&nt.context?String(nt.context):"standalone";let ot;if(rt==="formatting"&&_e.formattingValues){const ct=_e.defaultFormattingWidth||_e.defaultWidth,lt=nt!=null&&nt.width?String(nt.width):ct;ot=_e.formattingValues[lt]||_e.formattingValues[ct]}else{const ct=_e.defaultWidth,lt=nt!=null&&nt.width?String(nt.width):_e.defaultWidth;ot=_e.values[lt]||_e.values[ct]}const it=_e.argumentCallback?_e.argumentCallback(et):et;return ot[it]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(_e,et)=>{const nt=Number(_e),rt=nt%100;if(rt>20||rt<10)switch(rt%10){case 1:return nt+"st";case 2:return nt+"nd";case 3:return nt+"rd"}return nt+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:_e=>_e-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(_e){return(et,nt={})=>{const rt=nt.width,ot=rt&&_e.matchPatterns[rt]||_e.matchPatterns[_e.defaultMatchWidth],it=et.match(ot);if(!it)return null;const ct=it[0],lt=rt&&_e.parsePatterns[rt]||_e.parsePatterns[_e.defaultParseWidth],pt=Array.isArray(lt)?findIndex$1(lt,bt=>bt.test(ct)):findKey(lt,bt=>bt.test(ct));let mt;mt=_e.valueCallback?_e.valueCallback(pt):pt,mt=nt.valueCallback?nt.valueCallback(mt):mt;const Mt=et.slice(ct.length);return{value:mt,rest:Mt}}}function findKey(_e,et){for(const nt in _e)if(Object.prototype.hasOwnProperty.call(_e,nt)&&et(_e[nt]))return nt}function findIndex$1(_e,et){for(let nt=0;nt<_e.length;nt++)if(et(_e[nt]))return nt}function buildMatchPatternFn(_e){return(et,nt={})=>{const rt=et.match(_e.matchPattern);if(!rt)return null;const ot=rt[0],it=et.match(_e.parsePattern);if(!it)return null;let ct=_e.valueCallback?_e.valueCallback(it[0]):it[0];ct=nt.valueCallback?nt.valueCallback(ct):ct;const lt=et.slice(ot.length);return{value:ct,rest:lt}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$2={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:_e=>parseInt(_e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(_e){const et=toDate(_e);return differenceInCalendarDays(et,startOfYear(et))+1}function getISOWeek(_e){const et=toDate(_e),nt=+startOfISOWeek(et)-+startOfISOWeekYear(et);return Math.round(nt/millisecondsInWeek)+1}function getWeekYear(_e,et){var Mt,bt,At,wt;const nt=toDate(_e),rt=nt.getFullYear(),ot=getDefaultOptions(),it=(et==null?void 0:et.firstWeekContainsDate)??((bt=(Mt=et==null?void 0:et.locale)==null?void 0:Mt.options)==null?void 0:bt.firstWeekContainsDate)??ot.firstWeekContainsDate??((wt=(At=ot.locale)==null?void 0:At.options)==null?void 0:wt.firstWeekContainsDate)??1,ct=constructFrom(_e,0);ct.setFullYear(rt+1,0,it),ct.setHours(0,0,0,0);const lt=startOfWeek(ct,et),pt=constructFrom(_e,0);pt.setFullYear(rt,0,it),pt.setHours(0,0,0,0);const mt=startOfWeek(pt,et);return nt.getTime()>=lt.getTime()?rt+1:nt.getTime()>=mt.getTime()?rt:rt-1}function startOfWeekYear(_e,et){var lt,pt,mt,Mt;const nt=getDefaultOptions(),rt=(et==null?void 0:et.firstWeekContainsDate)??((pt=(lt=et==null?void 0:et.locale)==null?void 0:lt.options)==null?void 0:pt.firstWeekContainsDate)??nt.firstWeekContainsDate??((Mt=(mt=nt.locale)==null?void 0:mt.options)==null?void 0:Mt.firstWeekContainsDate)??1,ot=getWeekYear(_e,et),it=constructFrom(_e,0);return it.setFullYear(ot,0,rt),it.setHours(0,0,0,0),startOfWeek(it,et)}function getWeek(_e,et){const nt=toDate(_e),rt=+startOfWeek(nt,et)-+startOfWeekYear(nt,et);return Math.round(rt/millisecondsInWeek)+1}function addLeadingZeros(_e,et){const nt=_e<0?"-":"",rt=Math.abs(_e).toString().padStart(et,"0");return nt+rt}const lightFormatters={y(_e,et){const nt=_e.getFullYear(),rt=nt>0?nt:1-nt;return addLeadingZeros(et==="yy"?rt%100:rt,et.length)},M(_e,et){const nt=_e.getMonth();return et==="M"?String(nt+1):addLeadingZeros(nt+1,2)},d(_e,et){return addLeadingZeros(_e.getDate(),et.length)},a(_e,et){const nt=_e.getHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return nt.toUpperCase();case"aaa":return nt;case"aaaaa":return nt[0];case"aaaa":default:return nt==="am"?"a.m.":"p.m."}},h(_e,et){return addLeadingZeros(_e.getHours()%12||12,et.length)},H(_e,et){return addLeadingZeros(_e.getHours(),et.length)},m(_e,et){return addLeadingZeros(_e.getMinutes(),et.length)},s(_e,et){return addLeadingZeros(_e.getSeconds(),et.length)},S(_e,et){const nt=et.length,rt=_e.getMilliseconds(),ot=Math.trunc(rt*Math.pow(10,nt-3));return addLeadingZeros(ot,et.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(_e,et,nt){const rt=_e.getFullYear()>0?1:0;switch(et){case"G":case"GG":case"GGG":return nt.era(rt,{width:"abbreviated"});case"GGGGG":return nt.era(rt,{width:"narrow"});case"GGGG":default:return nt.era(rt,{width:"wide"})}},y:function(_e,et,nt){if(et==="yo"){const rt=_e.getFullYear(),ot=rt>0?rt:1-rt;return nt.ordinalNumber(ot,{unit:"year"})}return lightFormatters.y(_e,et)},Y:function(_e,et,nt,rt){const ot=getWeekYear(_e,rt),it=ot>0?ot:1-ot;if(et==="YY"){const ct=it%100;return addLeadingZeros(ct,2)}return et==="Yo"?nt.ordinalNumber(it,{unit:"year"}):addLeadingZeros(it,et.length)},R:function(_e,et){const nt=getISOWeekYear(_e);return addLeadingZeros(nt,et.length)},u:function(_e,et){const nt=_e.getFullYear();return addLeadingZeros(nt,et.length)},Q:function(_e,et,nt){const rt=Math.ceil((_e.getMonth()+1)/3);switch(et){case"Q":return String(rt);case"QQ":return addLeadingZeros(rt,2);case"Qo":return nt.ordinalNumber(rt,{unit:"quarter"});case"QQQ":return nt.quarter(rt,{width:"abbreviated",context:"formatting"});case"QQQQQ":return nt.quarter(rt,{width:"narrow",context:"formatting"});case"QQQQ":default:return nt.quarter(rt,{width:"wide",context:"formatting"})}},q:function(_e,et,nt){const rt=Math.ceil((_e.getMonth()+1)/3);switch(et){case"q":return String(rt);case"qq":return addLeadingZeros(rt,2);case"qo":return nt.ordinalNumber(rt,{unit:"quarter"});case"qqq":return nt.quarter(rt,{width:"abbreviated",context:"standalone"});case"qqqqq":return nt.quarter(rt,{width:"narrow",context:"standalone"});case"qqqq":default:return nt.quarter(rt,{width:"wide",context:"standalone"})}},M:function(_e,et,nt){const rt=_e.getMonth();switch(et){case"M":case"MM":return lightFormatters.M(_e,et);case"Mo":return nt.ordinalNumber(rt+1,{unit:"month"});case"MMM":return nt.month(rt,{width:"abbreviated",context:"formatting"});case"MMMMM":return nt.month(rt,{width:"narrow",context:"formatting"});case"MMMM":default:return nt.month(rt,{width:"wide",context:"formatting"})}},L:function(_e,et,nt){const rt=_e.getMonth();switch(et){case"L":return String(rt+1);case"LL":return addLeadingZeros(rt+1,2);case"Lo":return nt.ordinalNumber(rt+1,{unit:"month"});case"LLL":return nt.month(rt,{width:"abbreviated",context:"standalone"});case"LLLLL":return nt.month(rt,{width:"narrow",context:"standalone"});case"LLLL":default:return nt.month(rt,{width:"wide",context:"standalone"})}},w:function(_e,et,nt,rt){const ot=getWeek(_e,rt);return et==="wo"?nt.ordinalNumber(ot,{unit:"week"}):addLeadingZeros(ot,et.length)},I:function(_e,et,nt){const rt=getISOWeek(_e);return et==="Io"?nt.ordinalNumber(rt,{unit:"week"}):addLeadingZeros(rt,et.length)},d:function(_e,et,nt){return et==="do"?nt.ordinalNumber(_e.getDate(),{unit:"date"}):lightFormatters.d(_e,et)},D:function(_e,et,nt){const rt=getDayOfYear(_e);return et==="Do"?nt.ordinalNumber(rt,{unit:"dayOfYear"}):addLeadingZeros(rt,et.length)},E:function(_e,et,nt){const rt=_e.getDay();switch(et){case"E":case"EE":case"EEE":return nt.day(rt,{width:"abbreviated",context:"formatting"});case"EEEEE":return nt.day(rt,{width:"narrow",context:"formatting"});case"EEEEEE":return nt.day(rt,{width:"short",context:"formatting"});case"EEEE":default:return nt.day(rt,{width:"wide",context:"formatting"})}},e:function(_e,et,nt,rt){const ot=_e.getDay(),it=(ot-rt.weekStartsOn+8)%7||7;switch(et){case"e":return String(it);case"ee":return addLeadingZeros(it,2);case"eo":return nt.ordinalNumber(it,{unit:"day"});case"eee":return nt.day(ot,{width:"abbreviated",context:"formatting"});case"eeeee":return nt.day(ot,{width:"narrow",context:"formatting"});case"eeeeee":return nt.day(ot,{width:"short",context:"formatting"});case"eeee":default:return nt.day(ot,{width:"wide",context:"formatting"})}},c:function(_e,et,nt,rt){const ot=_e.getDay(),it=(ot-rt.weekStartsOn+8)%7||7;switch(et){case"c":return String(it);case"cc":return addLeadingZeros(it,et.length);case"co":return nt.ordinalNumber(it,{unit:"day"});case"ccc":return nt.day(ot,{width:"abbreviated",context:"standalone"});case"ccccc":return nt.day(ot,{width:"narrow",context:"standalone"});case"cccccc":return nt.day(ot,{width:"short",context:"standalone"});case"cccc":default:return nt.day(ot,{width:"wide",context:"standalone"})}},i:function(_e,et,nt){const rt=_e.getDay(),ot=rt===0?7:rt;switch(et){case"i":return String(ot);case"ii":return addLeadingZeros(ot,et.length);case"io":return nt.ordinalNumber(ot,{unit:"day"});case"iii":return nt.day(rt,{width:"abbreviated",context:"formatting"});case"iiiii":return nt.day(rt,{width:"narrow",context:"formatting"});case"iiiiii":return nt.day(rt,{width:"short",context:"formatting"});case"iiii":default:return nt.day(rt,{width:"wide",context:"formatting"})}},a:function(_e,et,nt){const ot=_e.getHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return nt.dayPeriod(ot,{width:"abbreviated",context:"formatting"});case"aaa":return nt.dayPeriod(ot,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return nt.dayPeriod(ot,{width:"narrow",context:"formatting"});case"aaaa":default:return nt.dayPeriod(ot,{width:"wide",context:"formatting"})}},b:function(_e,et,nt){const rt=_e.getHours();let ot;switch(rt===12?ot=dayPeriodEnum.noon:rt===0?ot=dayPeriodEnum.midnight:ot=rt/12>=1?"pm":"am",et){case"b":case"bb":return nt.dayPeriod(ot,{width:"abbreviated",context:"formatting"});case"bbb":return nt.dayPeriod(ot,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return nt.dayPeriod(ot,{width:"narrow",context:"formatting"});case"bbbb":default:return nt.dayPeriod(ot,{width:"wide",context:"formatting"})}},B:function(_e,et,nt){const rt=_e.getHours();let ot;switch(rt>=17?ot=dayPeriodEnum.evening:rt>=12?ot=dayPeriodEnum.afternoon:rt>=4?ot=dayPeriodEnum.morning:ot=dayPeriodEnum.night,et){case"B":case"BB":case"BBB":return nt.dayPeriod(ot,{width:"abbreviated",context:"formatting"});case"BBBBB":return nt.dayPeriod(ot,{width:"narrow",context:"formatting"});case"BBBB":default:return nt.dayPeriod(ot,{width:"wide",context:"formatting"})}},h:function(_e,et,nt){if(et==="ho"){let rt=_e.getHours()%12;return rt===0&&(rt=12),nt.ordinalNumber(rt,{unit:"hour"})}return lightFormatters.h(_e,et)},H:function(_e,et,nt){return et==="Ho"?nt.ordinalNumber(_e.getHours(),{unit:"hour"}):lightFormatters.H(_e,et)},K:function(_e,et,nt){const rt=_e.getHours()%12;return et==="Ko"?nt.ordinalNumber(rt,{unit:"hour"}):addLeadingZeros(rt,et.length)},k:function(_e,et,nt){let rt=_e.getHours();return rt===0&&(rt=24),et==="ko"?nt.ordinalNumber(rt,{unit:"hour"}):addLeadingZeros(rt,et.length)},m:function(_e,et,nt){return et==="mo"?nt.ordinalNumber(_e.getMinutes(),{unit:"minute"}):lightFormatters.m(_e,et)},s:function(_e,et,nt){return et==="so"?nt.ordinalNumber(_e.getSeconds(),{unit:"second"}):lightFormatters.s(_e,et)},S:function(_e,et){return lightFormatters.S(_e,et)},X:function(_e,et,nt){const rt=_e.getTimezoneOffset();if(rt===0)return"Z";switch(et){case"X":return formatTimezoneWithOptionalMinutes(rt);case"XXXX":case"XX":return formatTimezone(rt);case"XXXXX":case"XXX":default:return formatTimezone(rt,":")}},x:function(_e,et,nt){const rt=_e.getTimezoneOffset();switch(et){case"x":return formatTimezoneWithOptionalMinutes(rt);case"xxxx":case"xx":return formatTimezone(rt);case"xxxxx":case"xxx":default:return formatTimezone(rt,":")}},O:function(_e,et,nt){const rt=_e.getTimezoneOffset();switch(et){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(rt,":");case"OOOO":default:return"GMT"+formatTimezone(rt,":")}},z:function(_e,et,nt){const rt=_e.getTimezoneOffset();switch(et){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(rt,":");case"zzzz":default:return"GMT"+formatTimezone(rt,":")}},t:function(_e,et,nt){const rt=Math.trunc(_e.getTime()/1e3);return addLeadingZeros(rt,et.length)},T:function(_e,et,nt){const rt=_e.getTime();return addLeadingZeros(rt,et.length)}};function formatTimezoneShort(_e,et=""){const nt=_e>0?"-":"+",rt=Math.abs(_e),ot=Math.trunc(rt/60),it=rt%60;return it===0?nt+String(ot):nt+String(ot)+et+addLeadingZeros(it,2)}function formatTimezoneWithOptionalMinutes(_e,et){return _e%60===0?(_e>0?"-":"+")+addLeadingZeros(Math.abs(_e)/60,2):formatTimezone(_e,et)}function formatTimezone(_e,et=""){const nt=_e>0?"-":"+",rt=Math.abs(_e),ot=addLeadingZeros(Math.trunc(rt/60),2),it=addLeadingZeros(rt%60,2);return nt+ot+et+it}const dateLongFormatter=(_e,et)=>{switch(_e){case"P":return et.date({width:"short"});case"PP":return et.date({width:"medium"});case"PPP":return et.date({width:"long"});case"PPPP":default:return et.date({width:"full"})}},timeLongFormatter=(_e,et)=>{switch(_e){case"p":return et.time({width:"short"});case"pp":return et.time({width:"medium"});case"ppp":return et.time({width:"long"});case"pppp":default:return et.time({width:"full"})}},dateTimeLongFormatter=(_e,et)=>{const nt=_e.match(/(P+)(p+)?/)||[],rt=nt[1],ot=nt[2];if(!ot)return dateLongFormatter(_e,et);let it;switch(rt){case"P":it=et.dateTime({width:"short"});break;case"PP":it=et.dateTime({width:"medium"});break;case"PPP":it=et.dateTime({width:"long"});break;case"PPPP":default:it=et.dateTime({width:"full"});break}return it.replace("{{date}}",dateLongFormatter(rt,et)).replace("{{time}}",timeLongFormatter(ot,et))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(_e){return dayOfYearTokenRE.test(_e)}function isProtectedWeekYearToken(_e){return weekYearTokenRE.test(_e)}function warnOrThrowProtectedError(_e,et,nt){const rt=message(_e,et,nt);if(console.warn(rt),throwTokens.includes(_e))throw new RangeError(rt)}function message(_e,et,nt){const rt=_e[0]==="Y"?"years":"days of the month";return`Use \`${_e.toLowerCase()}\` instead of \`${_e}\` (in \`${et}\`) for formatting ${rt} to the input \`${nt}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(_e,et,nt){var Mt,bt,At,wt,Tt,Rt,Bt,Vt;const rt=getDefaultOptions(),ot=(nt==null?void 0:nt.locale)??rt.locale??enUS,it=(nt==null?void 0:nt.firstWeekContainsDate)??((bt=(Mt=nt==null?void 0:nt.locale)==null?void 0:Mt.options)==null?void 0:bt.firstWeekContainsDate)??rt.firstWeekContainsDate??((wt=(At=rt.locale)==null?void 0:At.options)==null?void 0:wt.firstWeekContainsDate)??1,ct=(nt==null?void 0:nt.weekStartsOn)??((Rt=(Tt=nt==null?void 0:nt.locale)==null?void 0:Tt.options)==null?void 0:Rt.weekStartsOn)??rt.weekStartsOn??((Vt=(Bt=rt.locale)==null?void 0:Bt.options)==null?void 0:Vt.weekStartsOn)??0,lt=toDate(_e);if(!isValid(lt))throw new RangeError("Invalid time value");let pt=et.match(longFormattingTokensRegExp).map($t=>{const Ft=$t[0];if(Ft==="p"||Ft==="P"){const Ht=longFormatters[Ft];return Ht($t,ot.formatLong)}return $t}).join("").match(formattingTokensRegExp).map($t=>{if($t==="''")return{isToken:!1,value:"'"};const Ft=$t[0];if(Ft==="'")return{isToken:!1,value:cleanEscapedString($t)};if(formatters[Ft])return{isToken:!0,value:$t};if(Ft.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ft+"`");return{isToken:!1,value:$t}});ot.localize.preprocessor&&(pt=ot.localize.preprocessor(lt,pt));const mt={firstWeekContainsDate:it,weekStartsOn:ct,locale:ot};return pt.map($t=>{if(!$t.isToken)return $t.value;const Ft=$t.value;(!(nt!=null&&nt.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Ft)||!(nt!=null&&nt.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Ft))&&warnOrThrowProtectedError(Ft,et,String(_e));const Ht=formatters[Ft[0]];return Ht(lt,Ft,ot.localize,mt)}).join("")}function cleanEscapedString(_e){const et=_e.match(escapedStringRegExp);return et?et[1].replace(doubleQuoteRegExp,"'"):_e}function subDays(_e,et){return addDays(_e,-et)}const UpcomingLiveCard=({liveData:_e})=>{var rt,ot,it,ct,lt,pt,mt,Mt,bt;const{push:et}=useHistory(),nt=()=>{const At=`${_e.sport_id===SportId.basketball?"/score/basketball/detail/":_e.sport_id===SportId.badminton?"/score/badminton/detail/":"/score/football/detail/"}${_e.id}`;et(At)};return jsxRuntimeExports.jsx("button",{className:styles$Y.upcomingLiveCard,onClick:nt,children:jsxRuntimeExports.jsxs("div",{className:styles$Y.wrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$Y.top,children:[jsxRuntimeExports.jsxs("div",{className:styles$Y.league,children:[jsxRuntimeExports.jsx("div",{className:styles$Y.leagueLogo,children:jsxRuntimeExports.jsx("img",{src:(rt=_e==null?void 0:_e.matchevent)==null?void 0:rt.logo,alt:""})}),jsxRuntimeExports.jsx("span",{children:(ot=_e==null?void 0:_e.matchevent)==null?void 0:ot.short_name_en})]}),_e!=null&&_e.live?jsxRuntimeExports.jsxs("div",{className:styles$Y.schedule,children:[jsxRuntimeExports.jsx("span",{children:format(new Date(((it=_e==null?void 0:_e.live)==null?void 0:it.match_time)*1e3),"HH:mm")}),jsxRuntimeExports.jsx("div",{className:styles$Y.streamBadge,children:jsxRuntimeExports.jsx("span",{children:"LIVE"})})]}):null]}),jsxRuntimeExports.jsxs("div",{className:styles$Y.score,children:[jsxRuntimeExports.jsxs("div",{className:styles$Y.club,children:[jsxRuntimeExports.jsx("div",{className:styles$Y.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(ct=_e==null?void 0:_e.hometeam)==null?void 0:ct.logo})}),jsxRuntimeExports.jsx("span",{children:(lt=_e==null?void 0:_e.hometeam)==null?void 0:lt.name_en})]}),jsxRuntimeExports.jsxs("div",{className:styles$Y.scoreCount,children:[jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.home_score}),jsxRuntimeExports.jsx("h5",{children:"-"}),jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.away_score})]}),jsxRuntimeExports.jsxs("div",{className:styles$Y.club,children:[jsxRuntimeExports.jsx("div",{className:styles$Y.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(pt=_e==null?void 0:_e.awayteam)==null?void 0:pt.logo})}),jsxRuntimeExports.jsx("span",{children:(mt=_e==null?void 0:_e.awayteam)==null?void 0:mt.name_en})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$Y.bottom,children:[jsxRuntimeExports.jsx("div",{className:styles$Y.label,children:jsxRuntimeExports.jsx("span",{children:"Host"})}),jsxRuntimeExports.jsx("div",{className:styles$Y.host,children:(Mt=_e==null?void 0:_e.anchors)!=null&&Mt.length?(bt=_e==null?void 0:_e.anchors)==null?void 0:bt.map((At,wt)=>jsxRuntimeExports.jsx("div",{className:styles$Y.avatar,children:jsxRuntimeExports.jsx("img",{src:At.avatar,alt:""},wt)})):jsxRuntimeExports.jsx("span",{children:"-"})})]})]})})};function isObject$5(_e){return _e!==null&&typeof _e=="object"&&"constructor"in _e&&_e.constructor===Object}function extend$2(_e,et){_e===void 0&&(_e={}),et===void 0&&(et={}),Object.keys(et).forEach(nt=>{typeof _e[nt]>"u"?_e[nt]=et[nt]:isObject$5(et[nt])&&isObject$5(_e[nt])&&Object.keys(et[nt]).length>0&&extend$2(_e[nt],et[nt])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const _e=typeof document<"u"?document:{};return extend$2(_e,ssrDocument),_e}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(_e){return typeof setTimeout>"u"?(_e(),null):setTimeout(_e,0)},cancelAnimationFrame(_e){typeof setTimeout>"u"||clearTimeout(_e)}};function getWindow(){const _e=typeof window<"u"?window:{};return extend$2(_e,ssrWindow),_e}function classesToTokens(_e){return _e===void 0&&(_e=""),_e.trim().split(" ").filter(et=>!!et.trim())}function deleteProps(_e){const et=_e;Object.keys(et).forEach(nt=>{try{et[nt]=null}catch{}try{delete et[nt]}catch{}})}function nextTick(_e,et){return et===void 0&&(et=0),setTimeout(_e,et)}function now(){return Date.now()}function getComputedStyle$1(_e){const et=getWindow();let nt;return et.getComputedStyle&&(nt=et.getComputedStyle(_e,null)),!nt&&_e.currentStyle&&(nt=_e.currentStyle),nt||(nt=_e.style),nt}function getTranslate(_e,et){et===void 0&&(et="x");const nt=getWindow();let rt,ot,it;const ct=getComputedStyle$1(_e);return nt.WebKitCSSMatrix?(ot=ct.transform||ct.webkitTransform,ot.split(",").length>6&&(ot=ot.split(", ").map(lt=>lt.replace(",",".")).join(", ")),it=new nt.WebKitCSSMatrix(ot==="none"?"":ot)):(it=ct.MozTransform||ct.OTransform||ct.MsTransform||ct.msTransform||ct.transform||ct.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),rt=it.toString().split(",")),et==="x"&&(nt.WebKitCSSMatrix?ot=it.m41:rt.length===16?ot=parseFloat(rt[12]):ot=parseFloat(rt[4])),et==="y"&&(nt.WebKitCSSMatrix?ot=it.m42:rt.length===16?ot=parseFloat(rt[13]):ot=parseFloat(rt[5])),ot||0}function isObject$4(_e){return typeof _e=="object"&&_e!==null&&_e.constructor&&Object.prototype.toString.call(_e).slice(8,-1)==="Object"}function isNode(_e){return typeof window<"u"&&typeof window.HTMLElement<"u"?_e instanceof HTMLElement:_e&&(_e.nodeType===1||_e.nodeType===11)}function extend$1(){const _e=Object(arguments.length<=0?void 0:arguments[0]),et=["__proto__","constructor","prototype"];for(let nt=1;nt<arguments.length;nt+=1){const rt=nt<0||arguments.length<=nt?void 0:arguments[nt];if(rt!=null&&!isNode(rt)){const ot=Object.keys(Object(rt)).filter(it=>et.indexOf(it)<0);for(let it=0,ct=ot.length;it<ct;it+=1){const lt=ot[it],pt=Object.getOwnPropertyDescriptor(rt,lt);pt!==void 0&&pt.enumerable&&(isObject$4(_e[lt])&&isObject$4(rt[lt])?rt[lt].__swiper__?_e[lt]=rt[lt]:extend$1(_e[lt],rt[lt]):!isObject$4(_e[lt])&&isObject$4(rt[lt])?(_e[lt]={},rt[lt].__swiper__?_e[lt]=rt[lt]:extend$1(_e[lt],rt[lt])):_e[lt]=rt[lt])}}}return _e}function setCSSProperty(_e,et,nt){_e.style.setProperty(et,nt)}function animateCSSModeScroll(_e){let{swiper:et,targetPosition:nt,side:rt}=_e;const ot=getWindow(),it=-et.translate;let ct=null,lt;const pt=et.params.speed;et.wrapperEl.style.scrollSnapType="none",ot.cancelAnimationFrame(et.cssModeFrameID);const mt=nt>it?"next":"prev",Mt=(At,wt)=>mt==="next"&&At>=wt||mt==="prev"&&At<=wt,bt=()=>{lt=new Date().getTime(),ct===null&&(ct=lt);const At=Math.max(Math.min((lt-ct)/pt,1),0),wt=.5-Math.cos(At*Math.PI)/2;let Tt=it+wt*(nt-it);if(Mt(Tt,nt)&&(Tt=nt),et.wrapperEl.scrollTo({[rt]:Tt}),Mt(Tt,nt)){et.wrapperEl.style.overflow="hidden",et.wrapperEl.style.scrollSnapType="",setTimeout(()=>{et.wrapperEl.style.overflow="",et.wrapperEl.scrollTo({[rt]:Tt})}),ot.cancelAnimationFrame(et.cssModeFrameID);return}et.cssModeFrameID=ot.requestAnimationFrame(bt)};bt()}function elementChildren(_e,et){return et===void 0&&(et=""),[..._e.children].filter(nt=>nt.matches(et))}function showWarning(_e){try{console.warn(_e);return}catch{}}function createElement(_e,et){et===void 0&&(et=[]);const nt=document.createElement(_e);return nt.classList.add(...Array.isArray(et)?et:classesToTokens(et)),nt}function elementPrevAll(_e,et){const nt=[];for(;_e.previousElementSibling;){const rt=_e.previousElementSibling;et?rt.matches(et)&&nt.push(rt):nt.push(rt),_e=rt}return nt}function elementNextAll(_e,et){const nt=[];for(;_e.nextElementSibling;){const rt=_e.nextElementSibling;et?rt.matches(et)&&nt.push(rt):nt.push(rt),_e=rt}return nt}function elementStyle(_e,et){return getWindow().getComputedStyle(_e,null).getPropertyValue(et)}function elementIndex(_e){let et=_e,nt;if(et){for(nt=0;(et=et.previousSibling)!==null;)et.nodeType===1&&(nt+=1);return nt}}function elementParents(_e,et){const nt=[];let rt=_e.parentElement;for(;rt;)nt.push(rt),rt=rt.parentElement;return nt}function elementOuterSize(_e,et,nt){const rt=getWindow();return _e[et==="width"?"offsetWidth":"offsetHeight"]+parseFloat(rt.getComputedStyle(_e,null).getPropertyValue(et==="width"?"margin-right":"margin-top"))+parseFloat(rt.getComputedStyle(_e,null).getPropertyValue(et==="width"?"margin-left":"margin-bottom"))}let support;function calcSupport(){const _e=getWindow(),et=getDocument();return{smoothScroll:et.documentElement&&et.documentElement.style&&"scrollBehavior"in et.documentElement.style,touch:!!("ontouchstart"in _e||_e.DocumentTouch&&et instanceof _e.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice(_e){let{userAgent:et}=_e===void 0?{}:_e;const nt=getSupport(),rt=getWindow(),ot=rt.navigator.platform,it=et||rt.navigator.userAgent,ct={ios:!1,android:!1},lt=rt.screen.width,pt=rt.screen.height,mt=it.match(/(Android);?[\s\/]+([\d.]+)?/);let Mt=it.match(/(iPad).*OS\s([\d_]+)/);const bt=it.match(/(iPod)(.*OS\s([\d_]+))?/),At=!Mt&&it.match(/(iPhone\sOS|iOS)\s([\d_]+)/),wt=ot==="Win32";let Tt=ot==="MacIntel";const Rt=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!Mt&&Tt&&nt.touch&&Rt.indexOf(`${lt}x${pt}`)>=0&&(Mt=it.match(/(Version)\/([\d.]+)/),Mt||(Mt=[0,1,"13_0_0"]),Tt=!1),mt&&!wt&&(ct.os="android",ct.android=!0),(Mt||At||bt)&&(ct.os="ios",ct.ios=!0),ct}function getDevice(_e){return _e===void 0&&(_e={}),deviceCached||(deviceCached=calcDevice(_e)),deviceCached}let browser;function calcBrowser(){const _e=getWindow();let et=!1;function nt(){const rt=_e.navigator.userAgent.toLowerCase();return rt.indexOf("safari")>=0&&rt.indexOf("chrome")<0&&rt.indexOf("android")<0}if(nt()){const rt=String(_e.navigator.userAgent);if(rt.includes("Version/")){const[ot,it]=rt.split("Version/")[1].split(" ")[0].split(".").map(ct=>Number(ct));et=ot<16||ot===16&&it<2}}return{isSafari:et||nt(),needPerspectiveFix:et,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(_e.navigator.userAgent)}}function getBrowser(){return browser||(browser=calcBrowser()),browser}function Resize(_e){let{swiper:et,on:nt,emit:rt}=_e;const ot=getWindow();let it=null,ct=null;const lt=()=>{!et||et.destroyed||!et.initialized||(rt("beforeResize"),rt("resize"))},pt=()=>{!et||et.destroyed||!et.initialized||(it=new ResizeObserver(bt=>{ct=ot.requestAnimationFrame(()=>{const{width:At,height:wt}=et;let Tt=At,Rt=wt;bt.forEach(Bt=>{let{contentBoxSize:Vt,contentRect:$t,target:Ft}=Bt;Ft&&Ft!==et.el||(Tt=$t?$t.width:(Vt[0]||Vt).inlineSize,Rt=$t?$t.height:(Vt[0]||Vt).blockSize)}),(Tt!==At||Rt!==wt)&&lt()})}),it.observe(et.el))},mt=()=>{ct&&ot.cancelAnimationFrame(ct),it&&it.unobserve&&et.el&&(it.unobserve(et.el),it=null)},Mt=()=>{!et||et.destroyed||!et.initialized||rt("orientationchange")};nt("init",()=>{if(et.params.resizeObserver&&typeof ot.ResizeObserver<"u"){pt();return}ot.addEventListener("resize",lt),ot.addEventListener("orientationchange",Mt)}),nt("destroy",()=>{mt(),ot.removeEventListener("resize",lt),ot.removeEventListener("orientationchange",Mt)})}function Observer(_e){let{swiper:et,extendParams:nt,on:rt,emit:ot}=_e;const it=[],ct=getWindow(),lt=function(Mt,bt){bt===void 0&&(bt={});const At=ct.MutationObserver||ct.WebkitMutationObserver,wt=new At(Tt=>{if(et.__preventObserver__)return;if(Tt.length===1){ot("observerUpdate",Tt[0]);return}const Rt=function(){ot("observerUpdate",Tt[0])};ct.requestAnimationFrame?ct.requestAnimationFrame(Rt):ct.setTimeout(Rt,0)});wt.observe(Mt,{attributes:typeof bt.attributes>"u"?!0:bt.attributes,childList:typeof bt.childList>"u"?!0:bt.childList,characterData:typeof bt.characterData>"u"?!0:bt.characterData}),it.push(wt)},pt=()=>{if(et.params.observer){if(et.params.observeParents){const Mt=elementParents(et.hostEl);for(let bt=0;bt<Mt.length;bt+=1)lt(Mt[bt])}lt(et.hostEl,{childList:et.params.observeSlideChildren}),lt(et.wrapperEl,{attributes:!1})}},mt=()=>{it.forEach(Mt=>{Mt.disconnect()}),it.splice(0,it.length)};nt({observer:!1,observeParents:!1,observeSlideChildren:!1}),rt("init",pt),rt("destroy",mt)}var eventsEmitter={on(_e,et,nt){const rt=this;if(!rt.eventsListeners||rt.destroyed||typeof et!="function")return rt;const ot=nt?"unshift":"push";return _e.split(" ").forEach(it=>{rt.eventsListeners[it]||(rt.eventsListeners[it]=[]),rt.eventsListeners[it][ot](et)}),rt},once(_e,et,nt){const rt=this;if(!rt.eventsListeners||rt.destroyed||typeof et!="function")return rt;function ot(){rt.off(_e,ot),ot.__emitterProxy&&delete ot.__emitterProxy;for(var it=arguments.length,ct=new Array(it),lt=0;lt<it;lt++)ct[lt]=arguments[lt];et.apply(rt,ct)}return ot.__emitterProxy=et,rt.on(_e,ot,nt)},onAny(_e,et){const nt=this;if(!nt.eventsListeners||nt.destroyed||typeof _e!="function")return nt;const rt=et?"unshift":"push";return nt.eventsAnyListeners.indexOf(_e)<0&&nt.eventsAnyListeners[rt](_e),nt},offAny(_e){const et=this;if(!et.eventsListeners||et.destroyed||!et.eventsAnyListeners)return et;const nt=et.eventsAnyListeners.indexOf(_e);return nt>=0&&et.eventsAnyListeners.splice(nt,1),et},off(_e,et){const nt=this;return!nt.eventsListeners||nt.destroyed||!nt.eventsListeners||_e.split(" ").forEach(rt=>{typeof et>"u"?nt.eventsListeners[rt]=[]:nt.eventsListeners[rt]&&nt.eventsListeners[rt].forEach((ot,it)=>{(ot===et||ot.__emitterProxy&&ot.__emitterProxy===et)&&nt.eventsListeners[rt].splice(it,1)})}),nt},emit(){const _e=this;if(!_e.eventsListeners||_e.destroyed||!_e.eventsListeners)return _e;let et,nt,rt;for(var ot=arguments.length,it=new Array(ot),ct=0;ct<ot;ct++)it[ct]=arguments[ct];return typeof it[0]=="string"||Array.isArray(it[0])?(et=it[0],nt=it.slice(1,it.length),rt=_e):(et=it[0].events,nt=it[0].data,rt=it[0].context||_e),nt.unshift(rt),(Array.isArray(et)?et:et.split(" ")).forEach(pt=>{_e.eventsAnyListeners&&_e.eventsAnyListeners.length&&_e.eventsAnyListeners.forEach(mt=>{mt.apply(rt,[pt,...nt])}),_e.eventsListeners&&_e.eventsListeners[pt]&&_e.eventsListeners[pt].forEach(mt=>{mt.apply(rt,nt)})}),_e}};function updateSize(){const _e=this;let et,nt;const rt=_e.el;typeof _e.params.width<"u"&&_e.params.width!==null?et=_e.params.width:et=rt.clientWidth,typeof _e.params.height<"u"&&_e.params.height!==null?nt=_e.params.height:nt=rt.clientHeight,!(et===0&&_e.isHorizontal()||nt===0&&_e.isVertical())&&(et=et-parseInt(elementStyle(rt,"padding-left")||0,10)-parseInt(elementStyle(rt,"padding-right")||0,10),nt=nt-parseInt(elementStyle(rt,"padding-top")||0,10)-parseInt(elementStyle(rt,"padding-bottom")||0,10),Number.isNaN(et)&&(et=0),Number.isNaN(nt)&&(nt=0),Object.assign(_e,{width:et,height:nt,size:_e.isHorizontal()?et:nt}))}function updateSlides(){const _e=this;function et(Cn,yn){return parseFloat(Cn.getPropertyValue(_e.getDirectionLabel(yn))||0)}const nt=_e.params,{wrapperEl:rt,slidesEl:ot,size:it,rtlTranslate:ct,wrongRTL:lt}=_e,pt=_e.virtual&&nt.virtual.enabled,mt=pt?_e.virtual.slides.length:_e.slides.length,Mt=elementChildren(ot,`.${_e.params.slideClass}, swiper-slide`),bt=pt?_e.virtual.slides.length:Mt.length;let At=[];const wt=[],Tt=[];let Rt=nt.slidesOffsetBefore;typeof Rt=="function"&&(Rt=nt.slidesOffsetBefore.call(_e));let Bt=nt.slidesOffsetAfter;typeof Bt=="function"&&(Bt=nt.slidesOffsetAfter.call(_e));const Vt=_e.snapGrid.length,$t=_e.slidesGrid.length;let Ft=nt.spaceBetween,Ht=-Rt,Qt=0,_n=0;if(typeof it>"u")return;typeof Ft=="string"&&Ft.indexOf("%")>=0?Ft=parseFloat(Ft.replace("%",""))/100*it:typeof Ft=="string"&&(Ft=parseFloat(Ft)),_e.virtualSize=-Ft,Mt.forEach(Cn=>{ct?Cn.style.marginLeft="":Cn.style.marginRight="",Cn.style.marginBottom="",Cn.style.marginTop=""}),nt.centeredSlides&&nt.cssMode&&(setCSSProperty(rt,"--swiper-centered-offset-before",""),setCSSProperty(rt,"--swiper-centered-offset-after",""));const hn=nt.grid&&nt.grid.rows>1&&_e.grid;hn?_e.grid.initSlides(Mt):_e.grid&&_e.grid.unsetSlides();let Mn;const kn=nt.slidesPerView==="auto"&&nt.breakpoints&&Object.keys(nt.breakpoints).filter(Cn=>typeof nt.breakpoints[Cn].slidesPerView<"u").length>0;for(let Cn=0;Cn<bt;Cn+=1){Mn=0;let yn;if(Mt[Cn]&&(yn=Mt[Cn]),hn&&_e.grid.updateSlide(Cn,yn,Mt),!(Mt[Cn]&&elementStyle(yn,"display")==="none")){if(nt.slidesPerView==="auto"){kn&&(Mt[Cn].style[_e.getDirectionLabel("width")]="");const Ut=getComputedStyle(yn),En=yn.style.transform,vn=yn.style.webkitTransform;if(En&&(yn.style.transform="none"),vn&&(yn.style.webkitTransform="none"),nt.roundLengths)Mn=_e.isHorizontal()?elementOuterSize(yn,"width"):elementOuterSize(yn,"height");else{const wn=et(Ut,"width"),Ln=et(Ut,"padding-left"),Kn=et(Ut,"padding-right"),Rn=et(Ut,"margin-left"),Tn=et(Ut,"margin-right"),Un=Ut.getPropertyValue("box-sizing");if(Un&&Un==="border-box")Mn=wn+Rn+Tn;else{const{clientWidth:$n,offsetWidth:Vn}=yn;Mn=wn+Ln+Kn+Rn+Tn+(Vn-$n)}}En&&(yn.style.transform=En),vn&&(yn.style.webkitTransform=vn),nt.roundLengths&&(Mn=Math.floor(Mn))}else Mn=(it-(nt.slidesPerView-1)*Ft)/nt.slidesPerView,nt.roundLengths&&(Mn=Math.floor(Mn)),Mt[Cn]&&(Mt[Cn].style[_e.getDirectionLabel("width")]=`${Mn}px`);Mt[Cn]&&(Mt[Cn].swiperSlideSize=Mn),Tt.push(Mn),nt.centeredSlides?(Ht=Ht+Mn/2+Qt/2+Ft,Qt===0&&Cn!==0&&(Ht=Ht-it/2-Ft),Cn===0&&(Ht=Ht-it/2-Ft),Math.abs(Ht)<1/1e3&&(Ht=0),nt.roundLengths&&(Ht=Math.floor(Ht)),_n%nt.slidesPerGroup===0&&At.push(Ht),wt.push(Ht)):(nt.roundLengths&&(Ht=Math.floor(Ht)),(_n-Math.min(_e.params.slidesPerGroupSkip,_n))%_e.params.slidesPerGroup===0&&At.push(Ht),wt.push(Ht),Ht=Ht+Mn+Ft),_e.virtualSize+=Mn+Ft,Qt=Mn,_n+=1}}if(_e.virtualSize=Math.max(_e.virtualSize,it)+Bt,ct&&lt&&(nt.effect==="slide"||nt.effect==="coverflow")&&(rt.style.width=`${_e.virtualSize+Ft}px`),nt.setWrapperSize&&(rt.style[_e.getDirectionLabel("width")]=`${_e.virtualSize+Ft}px`),hn&&_e.grid.updateWrapperSize(Mn,At),!nt.centeredSlides){const Cn=[];for(let yn=0;yn<At.length;yn+=1){let Ut=At[yn];nt.roundLengths&&(Ut=Math.floor(Ut)),At[yn]<=_e.virtualSize-it&&Cn.push(Ut)}At=Cn,Math.floor(_e.virtualSize-it)-Math.floor(At[At.length-1])>1&&At.push(_e.virtualSize-it)}if(pt&&nt.loop){const Cn=Tt[0]+Ft;if(nt.slidesPerGroup>1){const yn=Math.ceil((_e.virtual.slidesBefore+_e.virtual.slidesAfter)/nt.slidesPerGroup),Ut=Cn*nt.slidesPerGroup;for(let En=0;En<yn;En+=1)At.push(At[At.length-1]+Ut)}for(let yn=0;yn<_e.virtual.slidesBefore+_e.virtual.slidesAfter;yn+=1)nt.slidesPerGroup===1&&At.push(At[At.length-1]+Cn),wt.push(wt[wt.length-1]+Cn),_e.virtualSize+=Cn}if(At.length===0&&(At=[0]),Ft!==0){const Cn=_e.isHorizontal()&&ct?"marginLeft":_e.getDirectionLabel("marginRight");Mt.filter((yn,Ut)=>!nt.cssMode||nt.loop?!0:Ut!==Mt.length-1).forEach(yn=>{yn.style[Cn]=`${Ft}px`})}if(nt.centeredSlides&&nt.centeredSlidesBounds){let Cn=0;Tt.forEach(Ut=>{Cn+=Ut+(Ft||0)}),Cn-=Ft;const yn=Cn-it;At=At.map(Ut=>Ut<=0?-Rt:Ut>yn?yn+Bt:Ut)}if(nt.centerInsufficientSlides){let Cn=0;if(Tt.forEach(yn=>{Cn+=yn+(Ft||0)}),Cn-=Ft,Cn<it){const yn=(it-Cn)/2;At.forEach((Ut,En)=>{At[En]=Ut-yn}),wt.forEach((Ut,En)=>{wt[En]=Ut+yn})}}if(Object.assign(_e,{slides:Mt,snapGrid:At,slidesGrid:wt,slidesSizesGrid:Tt}),nt.centeredSlides&&nt.cssMode&&!nt.centeredSlidesBounds){setCSSProperty(rt,"--swiper-centered-offset-before",`${-At[0]}px`),setCSSProperty(rt,"--swiper-centered-offset-after",`${_e.size/2-Tt[Tt.length-1]/2}px`);const Cn=-_e.snapGrid[0],yn=-_e.slidesGrid[0];_e.snapGrid=_e.snapGrid.map(Ut=>Ut+Cn),_e.slidesGrid=_e.slidesGrid.map(Ut=>Ut+yn)}if(bt!==mt&&_e.emit("slidesLengthChange"),At.length!==Vt&&(_e.params.watchOverflow&&_e.checkOverflow(),_e.emit("snapGridLengthChange")),wt.length!==$t&&_e.emit("slidesGridLengthChange"),nt.watchSlidesProgress&&_e.updateSlidesOffset(),_e.emit("slidesUpdated"),!pt&&!nt.cssMode&&(nt.effect==="slide"||nt.effect==="fade")){const Cn=`${nt.containerModifierClass}backface-hidden`,yn=_e.el.classList.contains(Cn);bt<=nt.maxBackfaceHiddenSlides?yn||_e.el.classList.add(Cn):yn&&_e.el.classList.remove(Cn)}}function updateAutoHeight(_e){const et=this,nt=[],rt=et.virtual&&et.params.virtual.enabled;let ot=0,it;typeof _e=="number"?et.setTransition(_e):_e===!0&&et.setTransition(et.params.speed);const ct=lt=>rt?et.slides[et.getSlideIndexByData(lt)]:et.slides[lt];if(et.params.slidesPerView!=="auto"&&et.params.slidesPerView>1)if(et.params.centeredSlides)(et.visibleSlides||[]).forEach(lt=>{nt.push(lt)});else for(it=0;it<Math.ceil(et.params.slidesPerView);it+=1){const lt=et.activeIndex+it;if(lt>et.slides.length&&!rt)break;nt.push(ct(lt))}else nt.push(ct(et.activeIndex));for(it=0;it<nt.length;it+=1)if(typeof nt[it]<"u"){const lt=nt[it].offsetHeight;ot=lt>ot?lt:ot}(ot||ot===0)&&(et.wrapperEl.style.height=`${ot}px`)}function updateSlidesOffset(){const _e=this,et=_e.slides,nt=_e.isElement?_e.isHorizontal()?_e.wrapperEl.offsetLeft:_e.wrapperEl.offsetTop:0;for(let rt=0;rt<et.length;rt+=1)et[rt].swiperSlideOffset=(_e.isHorizontal()?et[rt].offsetLeft:et[rt].offsetTop)-nt-_e.cssOverflowAdjustment()}function updateSlidesProgress(_e){_e===void 0&&(_e=this&&this.translate||0);const et=this,nt=et.params,{slides:rt,rtlTranslate:ot,snapGrid:it}=et;if(rt.length===0)return;typeof rt[0].swiperSlideOffset>"u"&&et.updateSlidesOffset();let ct=-_e;ot&&(ct=_e),rt.forEach(pt=>{pt.classList.remove(nt.slideVisibleClass,nt.slideFullyVisibleClass)}),et.visibleSlidesIndexes=[],et.visibleSlides=[];let lt=nt.spaceBetween;typeof lt=="string"&&lt.indexOf("%")>=0?lt=parseFloat(lt.replace("%",""))/100*et.size:typeof lt=="string"&&(lt=parseFloat(lt));for(let pt=0;pt<rt.length;pt+=1){const mt=rt[pt];let Mt=mt.swiperSlideOffset;nt.cssMode&&nt.centeredSlides&&(Mt-=rt[0].swiperSlideOffset);const bt=(ct+(nt.centeredSlides?et.minTranslate():0)-Mt)/(mt.swiperSlideSize+lt),At=(ct-it[0]+(nt.centeredSlides?et.minTranslate():0)-Mt)/(mt.swiperSlideSize+lt),wt=-(ct-Mt),Tt=wt+et.slidesSizesGrid[pt],Rt=wt>=0&&wt<=et.size-et.slidesSizesGrid[pt];(wt>=0&&wt<et.size-1||Tt>1&&Tt<=et.size||wt<=0&&Tt>=et.size)&&(et.visibleSlides.push(mt),et.visibleSlidesIndexes.push(pt),rt[pt].classList.add(nt.slideVisibleClass)),Rt&&rt[pt].classList.add(nt.slideFullyVisibleClass),mt.progress=ot?-bt:bt,mt.originalProgress=ot?-At:At}}function updateProgress(_e){const et=this;if(typeof _e>"u"){const Mt=et.rtlTranslate?-1:1;_e=et&&et.translate&&et.translate*Mt||0}const nt=et.params,rt=et.maxTranslate()-et.minTranslate();let{progress:ot,isBeginning:it,isEnd:ct,progressLoop:lt}=et;const pt=it,mt=ct;if(rt===0)ot=0,it=!0,ct=!0;else{ot=(_e-et.minTranslate())/rt;const Mt=Math.abs(_e-et.minTranslate())<1,bt=Math.abs(_e-et.maxTranslate())<1;it=Mt||ot<=0,ct=bt||ot>=1,Mt&&(ot=0),bt&&(ot=1)}if(nt.loop){const Mt=et.getSlideIndexByData(0),bt=et.getSlideIndexByData(et.slides.length-1),At=et.slidesGrid[Mt],wt=et.slidesGrid[bt],Tt=et.slidesGrid[et.slidesGrid.length-1],Rt=Math.abs(_e);Rt>=At?lt=(Rt-At)/Tt:lt=(Rt+Tt-wt)/Tt,lt>1&&(lt-=1)}Object.assign(et,{progress:ot,progressLoop:lt,isBeginning:it,isEnd:ct}),(nt.watchSlidesProgress||nt.centeredSlides&&nt.autoHeight)&&et.updateSlidesProgress(_e),it&&!pt&&et.emit("reachBeginning toEdge"),ct&&!mt&&et.emit("reachEnd toEdge"),(pt&&!it||mt&&!ct)&&et.emit("fromEdge"),et.emit("progress",ot)}function updateSlidesClasses(){const _e=this,{slides:et,params:nt,slidesEl:rt,activeIndex:ot}=_e,it=_e.virtual&&nt.virtual.enabled,ct=_e.grid&&nt.grid&&nt.grid.rows>1,lt=bt=>elementChildren(rt,`.${nt.slideClass}${bt}, swiper-slide${bt}`)[0];et.forEach(bt=>{bt.classList.remove(nt.slideActiveClass,nt.slideNextClass,nt.slidePrevClass)});let pt,mt,Mt;if(it)if(nt.loop){let bt=ot-_e.virtual.slidesBefore;bt<0&&(bt=_e.virtual.slides.length+bt),bt>=_e.virtual.slides.length&&(bt-=_e.virtual.slides.length),pt=lt(`[data-swiper-slide-index="${bt}"]`)}else pt=lt(`[data-swiper-slide-index="${ot}"]`);else ct?(pt=et.filter(bt=>bt.column===ot)[0],Mt=et.filter(bt=>bt.column===ot+1)[0],mt=et.filter(bt=>bt.column===ot-1)[0]):pt=et[ot];pt&&(pt.classList.add(nt.slideActiveClass),ct?(Mt&&Mt.classList.add(nt.slideNextClass),mt&&mt.classList.add(nt.slidePrevClass)):(Mt=elementNextAll(pt,`.${nt.slideClass}, swiper-slide`)[0],nt.loop&&!Mt&&(Mt=et[0]),Mt&&Mt.classList.add(nt.slideNextClass),mt=elementPrevAll(pt,`.${nt.slideClass}, swiper-slide`)[0],nt.loop&&!mt===0&&(mt=et[et.length-1]),mt&&mt.classList.add(nt.slidePrevClass))),_e.emitSlidesClasses()}const processLazyPreloader=(_e,et)=>{if(!_e||_e.destroyed||!_e.params)return;const nt=()=>_e.isElement?"swiper-slide":`.${_e.params.slideClass}`,rt=et.closest(nt());if(rt){let ot=rt.querySelector(`.${_e.params.lazyPreloaderClass}`);!ot&&_e.isElement&&(rt.shadowRoot?ot=rt.shadowRoot.querySelector(`.${_e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{rt.shadowRoot&&(ot=rt.shadowRoot.querySelector(`.${_e.params.lazyPreloaderClass}`),ot&&ot.remove())})),ot&&ot.remove()}},unlazy=(_e,et)=>{if(!_e.slides[et])return;const nt=_e.slides[et].querySelector('[loading="lazy"]');nt&&nt.removeAttribute("loading")},preload=_e=>{if(!_e||_e.destroyed||!_e.params)return;let et=_e.params.lazyPreloadPrevNext;const nt=_e.slides.length;if(!nt||!et||et<0)return;et=Math.min(et,nt);const rt=_e.params.slidesPerView==="auto"?_e.slidesPerViewDynamic():Math.ceil(_e.params.slidesPerView),ot=_e.activeIndex;if(_e.params.grid&&_e.params.grid.rows>1){const ct=ot,lt=[ct-et];lt.push(...Array.from({length:et}).map((pt,mt)=>ct+rt+mt)),_e.slides.forEach((pt,mt)=>{lt.includes(pt.column)&&unlazy(_e,mt)});return}const it=ot+rt-1;if(_e.params.rewind||_e.params.loop)for(let ct=ot-et;ct<=it+et;ct+=1){const lt=(ct%nt+nt)%nt;(lt<ot||lt>it)&&unlazy(_e,lt)}else for(let ct=Math.max(ot-et,0);ct<=Math.min(it+et,nt-1);ct+=1)ct!==ot&&(ct>it||ct<ot)&&unlazy(_e,ct)};function getActiveIndexByTranslate(_e){const{slidesGrid:et,params:nt}=_e,rt=_e.rtlTranslate?_e.translate:-_e.translate;let ot;for(let it=0;it<et.length;it+=1)typeof et[it+1]<"u"?rt>=et[it]&&rt<et[it+1]-(et[it+1]-et[it])/2?ot=it:rt>=et[it]&&rt<et[it+1]&&(ot=it+1):rt>=et[it]&&(ot=it);return nt.normalizeSlideIndex&&(ot<0||typeof ot>"u")&&(ot=0),ot}function updateActiveIndex(_e){const et=this,nt=et.rtlTranslate?et.translate:-et.translate,{snapGrid:rt,params:ot,activeIndex:it,realIndex:ct,snapIndex:lt}=et;let pt=_e,mt;const Mt=wt=>{let Tt=wt-et.virtual.slidesBefore;return Tt<0&&(Tt=et.virtual.slides.length+Tt),Tt>=et.virtual.slides.length&&(Tt-=et.virtual.slides.length),Tt};if(typeof pt>"u"&&(pt=getActiveIndexByTranslate(et)),rt.indexOf(nt)>=0)mt=rt.indexOf(nt);else{const wt=Math.min(ot.slidesPerGroupSkip,pt);mt=wt+Math.floor((pt-wt)/ot.slidesPerGroup)}if(mt>=rt.length&&(mt=rt.length-1),pt===it&&!et.params.loop){mt!==lt&&(et.snapIndex=mt,et.emit("snapIndexChange"));return}if(pt===it&&et.params.loop&&et.virtual&&et.params.virtual.enabled){et.realIndex=Mt(pt);return}const bt=et.grid&&ot.grid&&ot.grid.rows>1;let At;if(et.virtual&&ot.virtual.enabled&&ot.loop)At=Mt(pt);else if(bt){const wt=et.slides.filter(Rt=>Rt.column===pt)[0];let Tt=parseInt(wt.getAttribute("data-swiper-slide-index"),10);Number.isNaN(Tt)&&(Tt=Math.max(et.slides.indexOf(wt),0)),At=Math.floor(Tt/ot.grid.rows)}else if(et.slides[pt]){const wt=et.slides[pt].getAttribute("data-swiper-slide-index");wt?At=parseInt(wt,10):At=pt}else At=pt;Object.assign(et,{previousSnapIndex:lt,snapIndex:mt,previousRealIndex:ct,realIndex:At,previousIndex:it,activeIndex:pt}),et.initialized&&preload(et),et.emit("activeIndexChange"),et.emit("snapIndexChange"),(et.initialized||et.params.runCallbacksOnInit)&&(ct!==At&&et.emit("realIndexChange"),et.emit("slideChange"))}function updateClickedSlide(_e,et){const nt=this,rt=nt.params;let ot=_e.closest(`.${rt.slideClass}, swiper-slide`);!ot&&nt.isElement&&et&&et.length>1&&et.includes(_e)&&[...et.slice(et.indexOf(_e)+1,et.length)].forEach(lt=>{!ot&&lt.matches&&lt.matches(`.${rt.slideClass}, swiper-slide`)&&(ot=lt)});let it=!1,ct;if(ot){for(let lt=0;lt<nt.slides.length;lt+=1)if(nt.slides[lt]===ot){it=!0,ct=lt;break}}if(ot&&it)nt.clickedSlide=ot,nt.virtual&&nt.params.virtual.enabled?nt.clickedIndex=parseInt(ot.getAttribute("data-swiper-slide-index"),10):nt.clickedIndex=ct;else{nt.clickedSlide=void 0,nt.clickedIndex=void 0;return}rt.slideToClickedSlide&&nt.clickedIndex!==void 0&&nt.clickedIndex!==nt.activeIndex&&nt.slideToClickedSlide()}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(_e){_e===void 0&&(_e=this.isHorizontal()?"x":"y");const et=this,{params:nt,rtlTranslate:rt,translate:ot,wrapperEl:it}=et;if(nt.virtualTranslate)return rt?-ot:ot;if(nt.cssMode)return ot;let ct=getTranslate(it,_e);return ct+=et.cssOverflowAdjustment(),rt&&(ct=-ct),ct||0}function setTranslate(_e,et){const nt=this,{rtlTranslate:rt,params:ot,wrapperEl:it,progress:ct}=nt;let lt=0,pt=0;const mt=0;nt.isHorizontal()?lt=rt?-_e:_e:pt=_e,ot.roundLengths&&(lt=Math.floor(lt),pt=Math.floor(pt)),nt.previousTranslate=nt.translate,nt.translate=nt.isHorizontal()?lt:pt,ot.cssMode?it[nt.isHorizontal()?"scrollLeft":"scrollTop"]=nt.isHorizontal()?-lt:-pt:ot.virtualTranslate||(nt.isHorizontal()?lt-=nt.cssOverflowAdjustment():pt-=nt.cssOverflowAdjustment(),it.style.transform=`translate3d(${lt}px, ${pt}px, ${mt}px)`);let Mt;const bt=nt.maxTranslate()-nt.minTranslate();bt===0?Mt=0:Mt=(_e-nt.minTranslate())/bt,Mt!==ct&&nt.updateProgress(_e),nt.emit("setTranslate",nt.translate,et)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(_e,et,nt,rt,ot){_e===void 0&&(_e=0),et===void 0&&(et=this.params.speed),nt===void 0&&(nt=!0),rt===void 0&&(rt=!0);const it=this,{params:ct,wrapperEl:lt}=it;if(it.animating&&ct.preventInteractionOnTransition)return!1;const pt=it.minTranslate(),mt=it.maxTranslate();let Mt;if(rt&&_e>pt?Mt=pt:rt&&_e<mt?Mt=mt:Mt=_e,it.updateProgress(Mt),ct.cssMode){const bt=it.isHorizontal();if(et===0)lt[bt?"scrollLeft":"scrollTop"]=-Mt;else{if(!it.support.smoothScroll)return animateCSSModeScroll({swiper:it,targetPosition:-Mt,side:bt?"left":"top"}),!0;lt.scrollTo({[bt?"left":"top"]:-Mt,behavior:"smooth"})}return!0}return et===0?(it.setTransition(0),it.setTranslate(Mt),nt&&(it.emit("beforeTransitionStart",et,ot),it.emit("transitionEnd"))):(it.setTransition(et),it.setTranslate(Mt),nt&&(it.emit("beforeTransitionStart",et,ot),it.emit("transitionStart")),it.animating||(it.animating=!0,it.onTranslateToWrapperTransitionEnd||(it.onTranslateToWrapperTransitionEnd=function(At){!it||it.destroyed||At.target===this&&(it.wrapperEl.removeEventListener("transitionend",it.onTranslateToWrapperTransitionEnd),it.onTranslateToWrapperTransitionEnd=null,delete it.onTranslateToWrapperTransitionEnd,nt&&it.emit("transitionEnd"))}),it.wrapperEl.addEventListener("transitionend",it.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(_e,et){const nt=this;nt.params.cssMode||(nt.wrapperEl.style.transitionDuration=`${_e}ms`,nt.wrapperEl.style.transitionDelay=_e===0?"0ms":""),nt.emit("setTransition",_e,et)}function transitionEmit(_e){let{swiper:et,runCallbacks:nt,direction:rt,step:ot}=_e;const{activeIndex:it,previousIndex:ct}=et;let lt=rt;if(lt||(it>ct?lt="next":it<ct?lt="prev":lt="reset"),et.emit(`transition${ot}`),nt&&it!==ct){if(lt==="reset"){et.emit(`slideResetTransition${ot}`);return}et.emit(`slideChangeTransition${ot}`),lt==="next"?et.emit(`slideNextTransition${ot}`):et.emit(`slidePrevTransition${ot}`)}}function transitionStart(_e,et){_e===void 0&&(_e=!0);const nt=this,{params:rt}=nt;rt.cssMode||(rt.autoHeight&&nt.updateAutoHeight(),transitionEmit({swiper:nt,runCallbacks:_e,direction:et,step:"Start"}))}function transitionEnd(_e,et){_e===void 0&&(_e=!0);const nt=this,{params:rt}=nt;nt.animating=!1,!rt.cssMode&&(nt.setTransition(0),transitionEmit({swiper:nt,runCallbacks:_e,direction:et,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(_e,et,nt,rt,ot){_e===void 0&&(_e=0),et===void 0&&(et=this.params.speed),nt===void 0&&(nt=!0),typeof _e=="string"&&(_e=parseInt(_e,10));const it=this;let ct=_e;ct<0&&(ct=0);const{params:lt,snapGrid:pt,slidesGrid:mt,previousIndex:Mt,activeIndex:bt,rtlTranslate:At,wrapperEl:wt,enabled:Tt}=it;if(it.animating&&lt.preventInteractionOnTransition||!Tt&&!rt&&!ot)return!1;const Rt=Math.min(it.params.slidesPerGroupSkip,ct);let Bt=Rt+Math.floor((ct-Rt)/it.params.slidesPerGroup);Bt>=pt.length&&(Bt=pt.length-1);const Vt=-pt[Bt];if(lt.normalizeSlideIndex)for(let Ft=0;Ft<mt.length;Ft+=1){const Ht=-Math.floor(Vt*100),Qt=Math.floor(mt[Ft]*100),_n=Math.floor(mt[Ft+1]*100);typeof mt[Ft+1]<"u"?Ht>=Qt&&Ht<_n-(_n-Qt)/2?ct=Ft:Ht>=Qt&&Ht<_n&&(ct=Ft+1):Ht>=Qt&&(ct=Ft)}if(it.initialized&&ct!==bt&&(!it.allowSlideNext&&(At?Vt>it.translate&&Vt>it.minTranslate():Vt<it.translate&&Vt<it.minTranslate())||!it.allowSlidePrev&&Vt>it.translate&&Vt>it.maxTranslate()&&(bt||0)!==ct))return!1;ct!==(Mt||0)&&nt&&it.emit("beforeSlideChangeStart"),it.updateProgress(Vt);let $t;if(ct>bt?$t="next":ct<bt?$t="prev":$t="reset",At&&-Vt===it.translate||!At&&Vt===it.translate)return it.updateActiveIndex(ct),lt.autoHeight&&it.updateAutoHeight(),it.updateSlidesClasses(),lt.effect!=="slide"&&it.setTranslate(Vt),$t!=="reset"&&(it.transitionStart(nt,$t),it.transitionEnd(nt,$t)),!1;if(lt.cssMode){const Ft=it.isHorizontal(),Ht=At?Vt:-Vt;if(et===0){const Qt=it.virtual&&it.params.virtual.enabled;Qt&&(it.wrapperEl.style.scrollSnapType="none",it._immediateVirtual=!0),Qt&&!it._cssModeVirtualInitialSet&&it.params.initialSlide>0?(it._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{wt[Ft?"scrollLeft":"scrollTop"]=Ht})):wt[Ft?"scrollLeft":"scrollTop"]=Ht,Qt&&requestAnimationFrame(()=>{it.wrapperEl.style.scrollSnapType="",it._immediateVirtual=!1})}else{if(!it.support.smoothScroll)return animateCSSModeScroll({swiper:it,targetPosition:Ht,side:Ft?"left":"top"}),!0;wt.scrollTo({[Ft?"left":"top"]:Ht,behavior:"smooth"})}return!0}return it.setTransition(et),it.setTranslate(Vt),it.updateActiveIndex(ct),it.updateSlidesClasses(),it.emit("beforeTransitionStart",et,rt),it.transitionStart(nt,$t),et===0?it.transitionEnd(nt,$t):it.animating||(it.animating=!0,it.onSlideToWrapperTransitionEnd||(it.onSlideToWrapperTransitionEnd=function(Ht){!it||it.destroyed||Ht.target===this&&(it.wrapperEl.removeEventListener("transitionend",it.onSlideToWrapperTransitionEnd),it.onSlideToWrapperTransitionEnd=null,delete it.onSlideToWrapperTransitionEnd,it.transitionEnd(nt,$t))}),it.wrapperEl.addEventListener("transitionend",it.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(_e,et,nt,rt){_e===void 0&&(_e=0),et===void 0&&(et=this.params.speed),nt===void 0&&(nt=!0),typeof _e=="string"&&(_e=parseInt(_e,10));const ot=this,it=ot.grid&&ot.params.grid&&ot.params.grid.rows>1;let ct=_e;if(ot.params.loop)if(ot.virtual&&ot.params.virtual.enabled)ct=ct+ot.virtual.slidesBefore;else{let lt;if(it){const At=ct*ot.params.grid.rows;lt=ot.slides.filter(wt=>wt.getAttribute("data-swiper-slide-index")*1===At)[0].column}else lt=ot.getSlideIndexByData(ct);const pt=it?Math.ceil(ot.slides.length/ot.params.grid.rows):ot.slides.length,{centeredSlides:mt}=ot.params;let Mt=ot.params.slidesPerView;Mt==="auto"?Mt=ot.slidesPerViewDynamic():(Mt=Math.ceil(parseFloat(ot.params.slidesPerView,10)),mt&&Mt%2===0&&(Mt=Mt+1));let bt=pt-lt<Mt;if(mt&&(bt=bt||lt<Math.ceil(Mt/2)),bt){const At=mt?lt<ot.activeIndex?"prev":"next":lt-ot.activeIndex-1<ot.params.slidesPerView?"next":"prev";ot.loopFix({direction:At,slideTo:!0,activeSlideIndex:At==="next"?lt+1:lt-pt+1,slideRealIndex:At==="next"?ot.realIndex:void 0})}if(it){const At=ct*ot.params.grid.rows;ct=ot.slides.filter(wt=>wt.getAttribute("data-swiper-slide-index")*1===At)[0].column}else ct=ot.getSlideIndexByData(ct)}return requestAnimationFrame(()=>{ot.slideTo(ct,et,nt,rt)}),ot}function slideNext(_e,et,nt){_e===void 0&&(_e=this.params.speed),et===void 0&&(et=!0);const rt=this,{enabled:ot,params:it,animating:ct}=rt;if(!ot)return rt;let lt=it.slidesPerGroup;it.slidesPerView==="auto"&&it.slidesPerGroup===1&&it.slidesPerGroupAuto&&(lt=Math.max(rt.slidesPerViewDynamic("current",!0),1));const pt=rt.activeIndex<it.slidesPerGroupSkip?1:lt,mt=rt.virtual&&it.virtual.enabled;if(it.loop){if(ct&&!mt&&it.loopPreventsSliding)return!1;if(rt.loopFix({direction:"next"}),rt._clientLeft=rt.wrapperEl.clientLeft,rt.activeIndex===rt.slides.length-1&&it.cssMode)return requestAnimationFrame(()=>{rt.slideTo(rt.activeIndex+pt,_e,et,nt)}),!0}return it.rewind&&rt.isEnd?rt.slideTo(0,_e,et,nt):rt.slideTo(rt.activeIndex+pt,_e,et,nt)}function slidePrev(_e,et,nt){_e===void 0&&(_e=this.params.speed),et===void 0&&(et=!0);const rt=this,{params:ot,snapGrid:it,slidesGrid:ct,rtlTranslate:lt,enabled:pt,animating:mt}=rt;if(!pt)return rt;const Mt=rt.virtual&&ot.virtual.enabled;if(ot.loop){if(mt&&!Mt&&ot.loopPreventsSliding)return!1;rt.loopFix({direction:"prev"}),rt._clientLeft=rt.wrapperEl.clientLeft}const bt=lt?rt.translate:-rt.translate;function At(Vt){return Vt<0?-Math.floor(Math.abs(Vt)):Math.floor(Vt)}const wt=At(bt),Tt=it.map(Vt=>At(Vt));let Rt=it[Tt.indexOf(wt)-1];if(typeof Rt>"u"&&ot.cssMode){let Vt;it.forEach(($t,Ft)=>{wt>=$t&&(Vt=Ft)}),typeof Vt<"u"&&(Rt=it[Vt>0?Vt-1:Vt])}let Bt=0;if(typeof Rt<"u"&&(Bt=ct.indexOf(Rt),Bt<0&&(Bt=rt.activeIndex-1),ot.slidesPerView==="auto"&&ot.slidesPerGroup===1&&ot.slidesPerGroupAuto&&(Bt=Bt-rt.slidesPerViewDynamic("previous",!0)+1,Bt=Math.max(Bt,0))),ot.rewind&&rt.isBeginning){const Vt=rt.params.virtual&&rt.params.virtual.enabled&&rt.virtual?rt.virtual.slides.length-1:rt.slides.length-1;return rt.slideTo(Vt,_e,et,nt)}else if(ot.loop&&rt.activeIndex===0&&ot.cssMode)return requestAnimationFrame(()=>{rt.slideTo(Bt,_e,et,nt)}),!0;return rt.slideTo(Bt,_e,et,nt)}function slideReset(_e,et,nt){_e===void 0&&(_e=this.params.speed),et===void 0&&(et=!0);const rt=this;return rt.slideTo(rt.activeIndex,_e,et,nt)}function slideToClosest(_e,et,nt,rt){_e===void 0&&(_e=this.params.speed),et===void 0&&(et=!0),rt===void 0&&(rt=.5);const ot=this;let it=ot.activeIndex;const ct=Math.min(ot.params.slidesPerGroupSkip,it),lt=ct+Math.floor((it-ct)/ot.params.slidesPerGroup),pt=ot.rtlTranslate?ot.translate:-ot.translate;if(pt>=ot.snapGrid[lt]){const mt=ot.snapGrid[lt],Mt=ot.snapGrid[lt+1];pt-mt>(Mt-mt)*rt&&(it+=ot.params.slidesPerGroup)}else{const mt=ot.snapGrid[lt-1],Mt=ot.snapGrid[lt];pt-mt<=(Mt-mt)*rt&&(it-=ot.params.slidesPerGroup)}return it=Math.max(it,0),it=Math.min(it,ot.slidesGrid.length-1),ot.slideTo(it,_e,et,nt)}function slideToClickedSlide(){const _e=this,{params:et,slidesEl:nt}=_e,rt=et.slidesPerView==="auto"?_e.slidesPerViewDynamic():et.slidesPerView;let ot=_e.clickedIndex,it;const ct=_e.isElement?"swiper-slide":`.${et.slideClass}`;if(et.loop){if(_e.animating)return;it=parseInt(_e.clickedSlide.getAttribute("data-swiper-slide-index"),10),et.centeredSlides?ot<_e.loopedSlides-rt/2||ot>_e.slides.length-_e.loopedSlides+rt/2?(_e.loopFix(),ot=_e.getSlideIndex(elementChildren(nt,`${ct}[data-swiper-slide-index="${it}"]`)[0]),nextTick(()=>{_e.slideTo(ot)})):_e.slideTo(ot):ot>_e.slides.length-rt?(_e.loopFix(),ot=_e.getSlideIndex(elementChildren(nt,`${ct}[data-swiper-slide-index="${it}"]`)[0]),nextTick(()=>{_e.slideTo(ot)})):_e.slideTo(ot)}else _e.slideTo(ot)}var slide$1={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(_e){const et=this,{params:nt,slidesEl:rt}=et;if(!nt.loop||et.virtual&&et.params.virtual.enabled)return;const ot=()=>{elementChildren(rt,`.${nt.slideClass}, swiper-slide`).forEach((bt,At)=>{bt.setAttribute("data-swiper-slide-index",At)})},it=et.grid&&nt.grid&&nt.grid.rows>1,ct=nt.slidesPerGroup*(it?nt.grid.rows:1),lt=et.slides.length%ct!==0,pt=it&&et.slides.length%nt.grid.rows!==0,mt=Mt=>{for(let bt=0;bt<Mt;bt+=1){const At=et.isElement?createElement("swiper-slide",[nt.slideBlankClass]):createElement("div",[nt.slideClass,nt.slideBlankClass]);et.slidesEl.append(At)}};if(lt){if(nt.loopAddBlankSlides){const Mt=ct-et.slides.length%ct;mt(Mt),et.recalcSlides(),et.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");ot()}else if(pt){if(nt.loopAddBlankSlides){const Mt=nt.grid.rows-et.slides.length%nt.grid.rows;mt(Mt),et.recalcSlides(),et.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");ot()}else ot();et.loopFix({slideRealIndex:_e,direction:nt.centeredSlides?void 0:"next"})}function loopFix(_e){let{slideRealIndex:et,slideTo:nt=!0,direction:rt,setTranslate:ot,activeSlideIndex:it,byController:ct,byMousewheel:lt}=_e===void 0?{}:_e;const pt=this;if(!pt.params.loop)return;pt.emit("beforeLoopFix");const{slides:mt,allowSlidePrev:Mt,allowSlideNext:bt,slidesEl:At,params:wt}=pt,{centeredSlides:Tt}=wt;if(pt.allowSlidePrev=!0,pt.allowSlideNext=!0,pt.virtual&&wt.virtual.enabled){nt&&(!wt.centeredSlides&&pt.snapIndex===0?pt.slideTo(pt.virtual.slides.length,0,!1,!0):wt.centeredSlides&&pt.snapIndex<wt.slidesPerView?pt.slideTo(pt.virtual.slides.length+pt.snapIndex,0,!1,!0):pt.snapIndex===pt.snapGrid.length-1&&pt.slideTo(pt.virtual.slidesBefore,0,!1,!0)),pt.allowSlidePrev=Mt,pt.allowSlideNext=bt,pt.emit("loopFix");return}let Rt=wt.slidesPerView;Rt==="auto"?Rt=pt.slidesPerViewDynamic():(Rt=Math.ceil(parseFloat(wt.slidesPerView,10)),Tt&&Rt%2===0&&(Rt=Rt+1));const Bt=wt.slidesPerGroupAuto?Rt:wt.slidesPerGroup;let Vt=Bt;Vt%Bt!==0&&(Vt+=Bt-Vt%Bt),Vt+=wt.loopAdditionalSlides,pt.loopedSlides=Vt;const $t=pt.grid&&wt.grid&&wt.grid.rows>1;mt.length<Rt+Vt?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):$t&&wt.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Ft=[],Ht=[];let Qt=pt.activeIndex;typeof it>"u"?it=pt.getSlideIndex(mt.filter(En=>En.classList.contains(wt.slideActiveClass))[0]):Qt=it;const _n=rt==="next"||!rt,hn=rt==="prev"||!rt;let Mn=0,kn=0;const Cn=$t?Math.ceil(mt.length/wt.grid.rows):mt.length,Ut=($t?mt[it].column:it)+(Tt&&typeof ot>"u"?-Rt/2+.5:0);if(Ut<Vt){Mn=Math.max(Vt-Ut,Bt);for(let En=0;En<Vt-Ut;En+=1){const vn=En-Math.floor(En/Cn)*Cn;if($t){const wn=Cn-vn-1;for(let Ln=mt.length-1;Ln>=0;Ln-=1)mt[Ln].column===wn&&Ft.push(Ln)}else Ft.push(Cn-vn-1)}}else if(Ut+Rt>Cn-Vt){kn=Math.max(Ut-(Cn-Vt*2),Bt);for(let En=0;En<kn;En+=1){const vn=En-Math.floor(En/Cn)*Cn;$t?mt.forEach((wn,Ln)=>{wn.column===vn&&Ht.push(Ln)}):Ht.push(vn)}}if(pt.__preventObserver__=!0,requestAnimationFrame(()=>{pt.__preventObserver__=!1}),hn&&Ft.forEach(En=>{mt[En].swiperLoopMoveDOM=!0,At.prepend(mt[En]),mt[En].swiperLoopMoveDOM=!1}),_n&&Ht.forEach(En=>{mt[En].swiperLoopMoveDOM=!0,At.append(mt[En]),mt[En].swiperLoopMoveDOM=!1}),pt.recalcSlides(),wt.slidesPerView==="auto"?pt.updateSlides():$t&&(Ft.length>0&&hn||Ht.length>0&&_n)&&pt.slides.forEach((En,vn)=>{pt.grid.updateSlide(vn,En,pt.slides)}),wt.watchSlidesProgress&&pt.updateSlidesOffset(),nt){if(Ft.length>0&&hn){if(typeof et>"u"){const En=pt.slidesGrid[Qt],wn=pt.slidesGrid[Qt+Mn]-En;lt?pt.setTranslate(pt.translate-wn):(pt.slideTo(Qt+Mn,0,!1,!0),ot&&(pt.touchEventsData.startTranslate=pt.touchEventsData.startTranslate-wn,pt.touchEventsData.currentTranslate=pt.touchEventsData.currentTranslate-wn))}else if(ot){const En=$t?Ft.length/wt.grid.rows:Ft.length;pt.slideTo(pt.activeIndex+En,0,!1,!0),pt.touchEventsData.currentTranslate=pt.translate}}else if(Ht.length>0&&_n)if(typeof et>"u"){const En=pt.slidesGrid[Qt],wn=pt.slidesGrid[Qt-kn]-En;lt?pt.setTranslate(pt.translate-wn):(pt.slideTo(Qt-kn,0,!1,!0),ot&&(pt.touchEventsData.startTranslate=pt.touchEventsData.startTranslate-wn,pt.touchEventsData.currentTranslate=pt.touchEventsData.currentTranslate-wn))}else{const En=$t?Ht.length/wt.grid.rows:Ht.length;pt.slideTo(pt.activeIndex-En,0,!1,!0)}}if(pt.allowSlidePrev=Mt,pt.allowSlideNext=bt,pt.controller&&pt.controller.control&&!ct){const En={slideRealIndex:et,direction:rt,setTranslate:ot,activeSlideIndex:it,byController:!0};Array.isArray(pt.controller.control)?pt.controller.control.forEach(vn=>{!vn.destroyed&&vn.params.loop&&vn.loopFix({...En,slideTo:vn.params.slidesPerView===wt.slidesPerView?nt:!1})}):pt.controller.control instanceof pt.constructor&&pt.controller.control.params.loop&&pt.controller.control.loopFix({...En,slideTo:pt.controller.control.params.slidesPerView===wt.slidesPerView?nt:!1})}pt.emit("loopFix")}function loopDestroy(){const _e=this,{params:et,slidesEl:nt}=_e;if(!et.loop||_e.virtual&&_e.params.virtual.enabled)return;_e.recalcSlides();const rt=[];_e.slides.forEach(ot=>{const it=typeof ot.swiperSlideIndex>"u"?ot.getAttribute("data-swiper-slide-index")*1:ot.swiperSlideIndex;rt[it]=ot}),_e.slides.forEach(ot=>{ot.removeAttribute("data-swiper-slide-index")}),rt.forEach(ot=>{nt.append(ot)}),_e.recalcSlides(),_e.slideTo(_e.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(_e){const et=this;if(!et.params.simulateTouch||et.params.watchOverflow&&et.isLocked||et.params.cssMode)return;const nt=et.params.touchEventsTarget==="container"?et.el:et.wrapperEl;et.isElement&&(et.__preventObserver__=!0),nt.style.cursor="move",nt.style.cursor=_e?"grabbing":"grab",et.isElement&&requestAnimationFrame(()=>{et.__preventObserver__=!1})}function unsetGrabCursor(){const _e=this;_e.params.watchOverflow&&_e.isLocked||_e.params.cssMode||(_e.isElement&&(_e.__preventObserver__=!0),_e[_e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",_e.isElement&&requestAnimationFrame(()=>{_e.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(_e,et){et===void 0&&(et=this);function nt(rt){if(!rt||rt===getDocument()||rt===getWindow())return null;rt.assignedSlot&&(rt=rt.assignedSlot);const ot=rt.closest(_e);return!ot&&!rt.getRootNode?null:ot||nt(rt.getRootNode().host)}return nt(et)}function preventEdgeSwipe(_e,et,nt){const rt=getWindow(),{params:ot}=_e,it=ot.edgeSwipeDetection,ct=ot.edgeSwipeThreshold;return it&&(nt<=ct||nt>=rt.innerWidth-ct)?it==="prevent"?(et.preventDefault(),!0):!1:!0}function onTouchStart(_e){const et=this,nt=getDocument();let rt=_e;rt.originalEvent&&(rt=rt.originalEvent);const ot=et.touchEventsData;if(rt.type==="pointerdown"){if(ot.pointerId!==null&&ot.pointerId!==rt.pointerId)return;ot.pointerId=rt.pointerId}else rt.type==="touchstart"&&rt.targetTouches.length===1&&(ot.touchId=rt.targetTouches[0].identifier);if(rt.type==="touchstart"){preventEdgeSwipe(et,rt,rt.targetTouches[0].pageX);return}const{params:it,touches:ct,enabled:lt}=et;if(!lt||!it.simulateTouch&&rt.pointerType==="mouse"||et.animating&&it.preventInteractionOnTransition)return;!et.animating&&it.cssMode&&it.loop&&et.loopFix();let pt=rt.target;if(it.touchEventsTarget==="wrapper"&&!et.wrapperEl.contains(pt)||"which"in rt&&rt.which===3||"button"in rt&&rt.button>0||ot.isTouched&&ot.isMoved)return;const mt=!!it.noSwipingClass&&it.noSwipingClass!=="",Mt=rt.composedPath?rt.composedPath():rt.path;mt&&rt.target&&rt.target.shadowRoot&&Mt&&(pt=Mt[0]);const bt=it.noSwipingSelector?it.noSwipingSelector:`.${it.noSwipingClass}`,At=!!(rt.target&&rt.target.shadowRoot);if(it.noSwiping&&(At?closestElement(bt,pt):pt.closest(bt))){et.allowClick=!0;return}if(it.swipeHandler&&!pt.closest(it.swipeHandler))return;ct.currentX=rt.pageX,ct.currentY=rt.pageY;const wt=ct.currentX,Tt=ct.currentY;if(!preventEdgeSwipe(et,rt,wt))return;Object.assign(ot,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),ct.startX=wt,ct.startY=Tt,ot.touchStartTime=now(),et.allowClick=!0,et.updateSize(),et.swipeDirection=void 0,it.threshold>0&&(ot.allowThresholdMove=!1);let Rt=!0;pt.matches(ot.focusableElements)&&(Rt=!1,pt.nodeName==="SELECT"&&(ot.isTouched=!1)),nt.activeElement&&nt.activeElement.matches(ot.focusableElements)&&nt.activeElement!==pt&&nt.activeElement.blur();const Bt=Rt&&et.allowTouchMove&&it.touchStartPreventDefault;(it.touchStartForcePreventDefault||Bt)&&!pt.isContentEditable&&rt.preventDefault(),it.freeMode&&it.freeMode.enabled&&et.freeMode&&et.animating&&!it.cssMode&&et.freeMode.onTouchStart(),et.emit("touchStart",rt)}function onTouchMove(_e){const et=getDocument(),nt=this,rt=nt.touchEventsData,{params:ot,touches:it,rtlTranslate:ct,enabled:lt}=nt;if(!lt||!ot.simulateTouch&&_e.pointerType==="mouse")return;let pt=_e;if(pt.originalEvent&&(pt=pt.originalEvent),pt.type==="pointermove"&&(rt.touchId!==null||pt.pointerId!==rt.pointerId))return;let mt;if(pt.type==="touchmove"){if(mt=[...pt.changedTouches].filter(_n=>_n.identifier===rt.touchId)[0],!mt||mt.identifier!==rt.touchId)return}else mt=pt;if(!rt.isTouched){rt.startMoving&&rt.isScrolling&&nt.emit("touchMoveOpposite",pt);return}const Mt=mt.pageX,bt=mt.pageY;if(pt.preventedByNestedSwiper){it.startX=Mt,it.startY=bt;return}if(!nt.allowTouchMove){pt.target.matches(rt.focusableElements)||(nt.allowClick=!1),rt.isTouched&&(Object.assign(it,{startX:Mt,startY:bt,currentX:Mt,currentY:bt}),rt.touchStartTime=now());return}if(ot.touchReleaseOnEdges&&!ot.loop){if(nt.isVertical()){if(bt<it.startY&&nt.translate<=nt.maxTranslate()||bt>it.startY&&nt.translate>=nt.minTranslate()){rt.isTouched=!1,rt.isMoved=!1;return}}else if(Mt<it.startX&&nt.translate<=nt.maxTranslate()||Mt>it.startX&&nt.translate>=nt.minTranslate())return}if(et.activeElement&&pt.target===et.activeElement&&pt.target.matches(rt.focusableElements)){rt.isMoved=!0,nt.allowClick=!1;return}rt.allowTouchCallbacks&&nt.emit("touchMove",pt),it.previousX=it.currentX,it.previousY=it.currentY,it.currentX=Mt,it.currentY=bt;const At=it.currentX-it.startX,wt=it.currentY-it.startY;if(nt.params.threshold&&Math.sqrt(At**2+wt**2)<nt.params.threshold)return;if(typeof rt.isScrolling>"u"){let _n;nt.isHorizontal()&&it.currentY===it.startY||nt.isVertical()&&it.currentX===it.startX?rt.isScrolling=!1:At*At+wt*wt>=25&&(_n=Math.atan2(Math.abs(wt),Math.abs(At))*180/Math.PI,rt.isScrolling=nt.isHorizontal()?_n>ot.touchAngle:90-_n>ot.touchAngle)}if(rt.isScrolling&&nt.emit("touchMoveOpposite",pt),typeof rt.startMoving>"u"&&(it.currentX!==it.startX||it.currentY!==it.startY)&&(rt.startMoving=!0),rt.isScrolling){rt.isTouched=!1;return}if(!rt.startMoving)return;nt.allowClick=!1,!ot.cssMode&&pt.cancelable&&pt.preventDefault(),ot.touchMoveStopPropagation&&!ot.nested&&pt.stopPropagation();let Tt=nt.isHorizontal()?At:wt,Rt=nt.isHorizontal()?it.currentX-it.previousX:it.currentY-it.previousY;ot.oneWayMovement&&(Tt=Math.abs(Tt)*(ct?1:-1),Rt=Math.abs(Rt)*(ct?1:-1)),it.diff=Tt,Tt*=ot.touchRatio,ct&&(Tt=-Tt,Rt=-Rt);const Bt=nt.touchesDirection;nt.swipeDirection=Tt>0?"prev":"next",nt.touchesDirection=Rt>0?"prev":"next";const Vt=nt.params.loop&&!ot.cssMode,$t=nt.touchesDirection==="next"&&nt.allowSlideNext||nt.touchesDirection==="prev"&&nt.allowSlidePrev;if(!rt.isMoved){if(Vt&&$t&&nt.loopFix({direction:nt.swipeDirection}),rt.startTranslate=nt.getTranslate(),nt.setTransition(0),nt.animating){const _n=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});nt.wrapperEl.dispatchEvent(_n)}rt.allowMomentumBounce=!1,ot.grabCursor&&(nt.allowSlideNext===!0||nt.allowSlidePrev===!0)&&nt.setGrabCursor(!0),nt.emit("sliderFirstMove",pt)}let Ft;if(new Date().getTime(),rt.isMoved&&rt.allowThresholdMove&&Bt!==nt.touchesDirection&&Vt&&$t&&Math.abs(Tt)>=1){Object.assign(it,{startX:Mt,startY:bt,currentX:Mt,currentY:bt,startTranslate:rt.currentTranslate}),rt.loopSwapReset=!0,rt.startTranslate=rt.currentTranslate;return}nt.emit("sliderMove",pt),rt.isMoved=!0,rt.currentTranslate=Tt+rt.startTranslate;let Ht=!0,Qt=ot.resistanceRatio;if(ot.touchReleaseOnEdges&&(Qt=0),Tt>0?(Vt&&$t&&!Ft&&rt.allowThresholdMove&&rt.currentTranslate>(ot.centeredSlides?nt.minTranslate()-nt.slidesSizesGrid[nt.activeIndex+1]:nt.minTranslate())&&nt.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),rt.currentTranslate>nt.minTranslate()&&(Ht=!1,ot.resistance&&(rt.currentTranslate=nt.minTranslate()-1+(-nt.minTranslate()+rt.startTranslate+Tt)**Qt))):Tt<0&&(Vt&&$t&&!Ft&&rt.allowThresholdMove&&rt.currentTranslate<(ot.centeredSlides?nt.maxTranslate()+nt.slidesSizesGrid[nt.slidesSizesGrid.length-1]:nt.maxTranslate())&&nt.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:nt.slides.length-(ot.slidesPerView==="auto"?nt.slidesPerViewDynamic():Math.ceil(parseFloat(ot.slidesPerView,10)))}),rt.currentTranslate<nt.maxTranslate()&&(Ht=!1,ot.resistance&&(rt.currentTranslate=nt.maxTranslate()+1-(nt.maxTranslate()-rt.startTranslate-Tt)**Qt))),Ht&&(pt.preventedByNestedSwiper=!0),!nt.allowSlideNext&&nt.swipeDirection==="next"&&rt.currentTranslate<rt.startTranslate&&(rt.currentTranslate=rt.startTranslate),!nt.allowSlidePrev&&nt.swipeDirection==="prev"&&rt.currentTranslate>rt.startTranslate&&(rt.currentTranslate=rt.startTranslate),!nt.allowSlidePrev&&!nt.allowSlideNext&&(rt.currentTranslate=rt.startTranslate),ot.threshold>0)if(Math.abs(Tt)>ot.threshold||rt.allowThresholdMove){if(!rt.allowThresholdMove){rt.allowThresholdMove=!0,it.startX=it.currentX,it.startY=it.currentY,rt.currentTranslate=rt.startTranslate,it.diff=nt.isHorizontal()?it.currentX-it.startX:it.currentY-it.startY;return}}else{rt.currentTranslate=rt.startTranslate;return}!ot.followFinger||ot.cssMode||((ot.freeMode&&ot.freeMode.enabled&&nt.freeMode||ot.watchSlidesProgress)&&(nt.updateActiveIndex(),nt.updateSlidesClasses()),ot.freeMode&&ot.freeMode.enabled&&nt.freeMode&&nt.freeMode.onTouchMove(),nt.updateProgress(rt.currentTranslate),nt.setTranslate(rt.currentTranslate))}function onTouchEnd(_e){const et=this,nt=et.touchEventsData;let rt=_e;rt.originalEvent&&(rt=rt.originalEvent);let ot;if(rt.type==="touchend"||rt.type==="touchcancel"){if(ot=[...rt.changedTouches].filter(Qt=>Qt.identifier===nt.touchId)[0],!ot||ot.identifier!==nt.touchId)return}else{if(nt.touchId!==null||rt.pointerId!==nt.pointerId)return;ot=rt}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(rt.type)&&!(["pointercancel","contextmenu"].includes(rt.type)&&(et.browser.isSafari||et.browser.isWebView)))return;nt.pointerId=null,nt.touchId=null;const{params:ct,touches:lt,rtlTranslate:pt,slidesGrid:mt,enabled:Mt}=et;if(!Mt||!ct.simulateTouch&&rt.pointerType==="mouse")return;if(nt.allowTouchCallbacks&&et.emit("touchEnd",rt),nt.allowTouchCallbacks=!1,!nt.isTouched){nt.isMoved&&ct.grabCursor&&et.setGrabCursor(!1),nt.isMoved=!1,nt.startMoving=!1;return}ct.grabCursor&&nt.isMoved&&nt.isTouched&&(et.allowSlideNext===!0||et.allowSlidePrev===!0)&&et.setGrabCursor(!1);const bt=now(),At=bt-nt.touchStartTime;if(et.allowClick){const Qt=rt.path||rt.composedPath&&rt.composedPath();et.updateClickedSlide(Qt&&Qt[0]||rt.target,Qt),et.emit("tap click",rt),At<300&&bt-nt.lastClickTime<300&&et.emit("doubleTap doubleClick",rt)}if(nt.lastClickTime=now(),nextTick(()=>{et.destroyed||(et.allowClick=!0)}),!nt.isTouched||!nt.isMoved||!et.swipeDirection||lt.diff===0&&!nt.loopSwapReset||nt.currentTranslate===nt.startTranslate&&!nt.loopSwapReset){nt.isTouched=!1,nt.isMoved=!1,nt.startMoving=!1;return}nt.isTouched=!1,nt.isMoved=!1,nt.startMoving=!1;let wt;if(ct.followFinger?wt=pt?et.translate:-et.translate:wt=-nt.currentTranslate,ct.cssMode)return;if(ct.freeMode&&ct.freeMode.enabled){et.freeMode.onTouchEnd({currentPos:wt});return}const Tt=wt>=-et.maxTranslate()&&!et.params.loop;let Rt=0,Bt=et.slidesSizesGrid[0];for(let Qt=0;Qt<mt.length;Qt+=Qt<ct.slidesPerGroupSkip?1:ct.slidesPerGroup){const _n=Qt<ct.slidesPerGroupSkip-1?1:ct.slidesPerGroup;typeof mt[Qt+_n]<"u"?(Tt||wt>=mt[Qt]&&wt<mt[Qt+_n])&&(Rt=Qt,Bt=mt[Qt+_n]-mt[Qt]):(Tt||wt>=mt[Qt])&&(Rt=Qt,Bt=mt[mt.length-1]-mt[mt.length-2])}let Vt=null,$t=null;ct.rewind&&(et.isBeginning?$t=ct.virtual&&ct.virtual.enabled&&et.virtual?et.virtual.slides.length-1:et.slides.length-1:et.isEnd&&(Vt=0));const Ft=(wt-mt[Rt])/Bt,Ht=Rt<ct.slidesPerGroupSkip-1?1:ct.slidesPerGroup;if(At>ct.longSwipesMs){if(!ct.longSwipes){et.slideTo(et.activeIndex);return}et.swipeDirection==="next"&&(Ft>=ct.longSwipesRatio?et.slideTo(ct.rewind&&et.isEnd?Vt:Rt+Ht):et.slideTo(Rt)),et.swipeDirection==="prev"&&(Ft>1-ct.longSwipesRatio?et.slideTo(Rt+Ht):$t!==null&&Ft<0&&Math.abs(Ft)>ct.longSwipesRatio?et.slideTo($t):et.slideTo(Rt))}else{if(!ct.shortSwipes){et.slideTo(et.activeIndex);return}et.navigation&&(rt.target===et.navigation.nextEl||rt.target===et.navigation.prevEl)?rt.target===et.navigation.nextEl?et.slideTo(Rt+Ht):et.slideTo(Rt):(et.swipeDirection==="next"&&et.slideTo(Vt!==null?Vt:Rt+Ht),et.swipeDirection==="prev"&&et.slideTo($t!==null?$t:Rt))}}function onResize(){const _e=this,{params:et,el:nt}=_e;if(nt&&nt.offsetWidth===0)return;et.breakpoints&&_e.setBreakpoint();const{allowSlideNext:rt,allowSlidePrev:ot,snapGrid:it}=_e,ct=_e.virtual&&_e.params.virtual.enabled;_e.allowSlideNext=!0,_e.allowSlidePrev=!0,_e.updateSize(),_e.updateSlides(),_e.updateSlidesClasses();const lt=ct&&et.loop;(et.slidesPerView==="auto"||et.slidesPerView>1)&&_e.isEnd&&!_e.isBeginning&&!_e.params.centeredSlides&&!lt?_e.slideTo(_e.slides.length-1,0,!1,!0):_e.params.loop&&!ct?_e.slideToLoop(_e.realIndex,0,!1,!0):_e.slideTo(_e.activeIndex,0,!1,!0),_e.autoplay&&_e.autoplay.running&&_e.autoplay.paused&&(clearTimeout(_e.autoplay.resizeTimeout),_e.autoplay.resizeTimeout=setTimeout(()=>{_e.autoplay&&_e.autoplay.running&&_e.autoplay.paused&&_e.autoplay.resume()},500)),_e.allowSlidePrev=ot,_e.allowSlideNext=rt,_e.params.watchOverflow&&it!==_e.snapGrid&&_e.checkOverflow()}function onClick(_e){const et=this;et.enabled&&(et.allowClick||(et.params.preventClicks&&_e.preventDefault(),et.params.preventClicksPropagation&&et.animating&&(_e.stopPropagation(),_e.stopImmediatePropagation())))}function onScroll(){const _e=this,{wrapperEl:et,rtlTranslate:nt,enabled:rt}=_e;if(!rt)return;_e.previousTranslate=_e.translate,_e.isHorizontal()?_e.translate=-et.scrollLeft:_e.translate=-et.scrollTop,_e.translate===0&&(_e.translate=0),_e.updateActiveIndex(),_e.updateSlidesClasses();let ot;const it=_e.maxTranslate()-_e.minTranslate();it===0?ot=0:ot=(_e.translate-_e.minTranslate())/it,ot!==_e.progress&&_e.updateProgress(nt?-_e.translate:_e.translate),_e.emit("setTranslate",_e.translate,!1)}function onLoad(_e){const et=this;processLazyPreloader(et,_e.target),!(et.params.cssMode||et.params.slidesPerView!=="auto"&&!et.params.autoHeight)&&et.update()}function onDocumentTouchStart(){const _e=this;_e.documentTouchHandlerProceeded||(_e.documentTouchHandlerProceeded=!0,_e.params.touchReleaseOnEdges&&(_e.el.style.touchAction="auto"))}const events=(_e,et)=>{const nt=getDocument(),{params:rt,el:ot,wrapperEl:it,device:ct}=_e,lt=!!rt.nested,pt=et==="on"?"addEventListener":"removeEventListener",mt=et;nt[pt]("touchstart",_e.onDocumentTouchStart,{passive:!1,capture:lt}),ot[pt]("touchstart",_e.onTouchStart,{passive:!1}),ot[pt]("pointerdown",_e.onTouchStart,{passive:!1}),nt[pt]("touchmove",_e.onTouchMove,{passive:!1,capture:lt}),nt[pt]("pointermove",_e.onTouchMove,{passive:!1,capture:lt}),nt[pt]("touchend",_e.onTouchEnd,{passive:!0}),nt[pt]("pointerup",_e.onTouchEnd,{passive:!0}),nt[pt]("pointercancel",_e.onTouchEnd,{passive:!0}),nt[pt]("touchcancel",_e.onTouchEnd,{passive:!0}),nt[pt]("pointerout",_e.onTouchEnd,{passive:!0}),nt[pt]("pointerleave",_e.onTouchEnd,{passive:!0}),nt[pt]("contextmenu",_e.onTouchEnd,{passive:!0}),(rt.preventClicks||rt.preventClicksPropagation)&&ot[pt]("click",_e.onClick,!0),rt.cssMode&&it[pt]("scroll",_e.onScroll),rt.updateOnWindowResize?_e[mt](ct.ios||ct.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):_e[mt]("observerUpdate",onResize,!0),ot[pt]("load",_e.onLoad,{capture:!0})};function attachEvents(){const _e=this,{params:et}=_e;_e.onTouchStart=onTouchStart.bind(_e),_e.onTouchMove=onTouchMove.bind(_e),_e.onTouchEnd=onTouchEnd.bind(_e),_e.onDocumentTouchStart=onDocumentTouchStart.bind(_e),et.cssMode&&(_e.onScroll=onScroll.bind(_e)),_e.onClick=onClick.bind(_e),_e.onLoad=onLoad.bind(_e),events(_e,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(_e,et)=>_e.grid&&et.grid&&et.grid.rows>1;function setBreakpoint(){const _e=this,{realIndex:et,initialized:nt,params:rt,el:ot}=_e,it=rt.breakpoints;if(!it||it&&Object.keys(it).length===0)return;const ct=_e.getBreakpoint(it,_e.params.breakpointsBase,_e.el);if(!ct||_e.currentBreakpoint===ct)return;const pt=(ct in it?it[ct]:void 0)||_e.originalParams,mt=isGridEnabled(_e,rt),Mt=isGridEnabled(_e,pt),bt=rt.enabled;mt&&!Mt?(ot.classList.remove(`${rt.containerModifierClass}grid`,`${rt.containerModifierClass}grid-column`),_e.emitContainerClasses()):!mt&&Mt&&(ot.classList.add(`${rt.containerModifierClass}grid`),(pt.grid.fill&&pt.grid.fill==="column"||!pt.grid.fill&&rt.grid.fill==="column")&&ot.classList.add(`${rt.containerModifierClass}grid-column`),_e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(Vt=>{if(typeof pt[Vt]>"u")return;const $t=rt[Vt]&&rt[Vt].enabled,Ft=pt[Vt]&&pt[Vt].enabled;$t&&!Ft&&_e[Vt].disable(),!$t&&Ft&&_e[Vt].enable()});const At=pt.direction&&pt.direction!==rt.direction,wt=rt.loop&&(pt.slidesPerView!==rt.slidesPerView||At),Tt=rt.loop;At&&nt&&_e.changeDirection(),extend$1(_e.params,pt);const Rt=_e.params.enabled,Bt=_e.params.loop;Object.assign(_e,{allowTouchMove:_e.params.allowTouchMove,allowSlideNext:_e.params.allowSlideNext,allowSlidePrev:_e.params.allowSlidePrev}),bt&&!Rt?_e.disable():!bt&&Rt&&_e.enable(),_e.currentBreakpoint=ct,_e.emit("_beforeBreakpoint",pt),nt&&(wt?(_e.loopDestroy(),_e.loopCreate(et),_e.updateSlides()):!Tt&&Bt?(_e.loopCreate(et),_e.updateSlides()):Tt&&!Bt&&_e.loopDestroy()),_e.emit("breakpoint",pt)}function getBreakpoint(_e,et,nt){if(et===void 0&&(et="window"),!_e||et==="container"&&!nt)return;let rt=!1;const ot=getWindow(),it=et==="window"?ot.innerHeight:nt.clientHeight,ct=Object.keys(_e).map(lt=>{if(typeof lt=="string"&&lt.indexOf("@")===0){const pt=parseFloat(lt.substr(1));return{value:it*pt,point:lt}}return{value:lt,point:lt}});ct.sort((lt,pt)=>parseInt(lt.value,10)-parseInt(pt.value,10));for(let lt=0;lt<ct.length;lt+=1){const{point:pt,value:mt}=ct[lt];et==="window"?ot.matchMedia(`(min-width: ${mt}px)`).matches&&(rt=pt):mt<=nt.clientWidth&&(rt=pt)}return rt||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(_e,et){const nt=[];return _e.forEach(rt=>{typeof rt=="object"?Object.keys(rt).forEach(ot=>{rt[ot]&&nt.push(et+ot)}):typeof rt=="string"&&nt.push(et+rt)}),nt}function addClasses(){const _e=this,{classNames:et,params:nt,rtl:rt,el:ot,device:it}=_e,ct=prepareClasses(["initialized",nt.direction,{"free-mode":_e.params.freeMode&&nt.freeMode.enabled},{autoheight:nt.autoHeight},{rtl:rt},{grid:nt.grid&&nt.grid.rows>1},{"grid-column":nt.grid&&nt.grid.rows>1&&nt.grid.fill==="column"},{android:it.android},{ios:it.ios},{"css-mode":nt.cssMode},{centered:nt.cssMode&&nt.centeredSlides},{"watch-progress":nt.watchSlidesProgress}],nt.containerModifierClass);et.push(...ct),ot.classList.add(...et),_e.emitContainerClasses()}function removeClasses(){const _e=this,{el:et,classNames:nt}=_e;et.classList.remove(...nt),_e.emitContainerClasses()}var classes={addClasses,removeClasses};function checkOverflow(){const _e=this,{isLocked:et,params:nt}=_e,{slidesOffsetBefore:rt}=nt;if(rt){const ot=_e.slides.length-1,it=_e.slidesGrid[ot]+_e.slidesSizesGrid[ot]+rt*2;_e.isLocked=_e.size>it}else _e.isLocked=_e.snapGrid.length===1;nt.allowSlideNext===!0&&(_e.allowSlideNext=!_e.isLocked),nt.allowSlidePrev===!0&&(_e.allowSlidePrev=!_e.isLocked),et&&et!==_e.isLocked&&(_e.isEnd=!1),et!==_e.isLocked&&_e.emit(_e.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(_e,et){return function(rt){rt===void 0&&(rt={});const ot=Object.keys(rt)[0],it=rt[ot];if(typeof it!="object"||it===null){extend$1(et,rt);return}if(_e[ot]===!0&&(_e[ot]={enabled:!0}),ot==="navigation"&&_e[ot]&&_e[ot].enabled&&!_e[ot].prevEl&&!_e[ot].nextEl&&(_e[ot].auto=!0),["pagination","scrollbar"].indexOf(ot)>=0&&_e[ot]&&_e[ot].enabled&&!_e[ot].el&&(_e[ot].auto=!0),!(ot in _e&&"enabled"in it)){extend$1(et,rt);return}typeof _e[ot]=="object"&&!("enabled"in _e[ot])&&(_e[ot].enabled=!0),_e[ot]||(_e[ot]={enabled:!1}),extend$1(et,rt)}}const prototypes={eventsEmitter,update,translate,transition,slide:slide$1,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class W_{constructor(){let et,nt;for(var rt=arguments.length,ot=new Array(rt),it=0;it<rt;it++)ot[it]=arguments[it];ot.length===1&&ot[0].constructor&&Object.prototype.toString.call(ot[0]).slice(8,-1)==="Object"?nt=ot[0]:[et,nt]=ot,nt||(nt={}),nt=extend$1({},nt),et&&!nt.el&&(nt.el=et);const ct=getDocument();if(nt.el&&typeof nt.el=="string"&&ct.querySelectorAll(nt.el).length>1){const Mt=[];return ct.querySelectorAll(nt.el).forEach(bt=>{const At=extend$1({},nt,{el:bt});Mt.push(new W_(At))}),Mt}const lt=this;lt.__swiper__=!0,lt.support=getSupport(),lt.device=getDevice({userAgent:nt.userAgent}),lt.browser=getBrowser(),lt.eventsListeners={},lt.eventsAnyListeners=[],lt.modules=[...lt.__modules__],nt.modules&&Array.isArray(nt.modules)&&lt.modules.push(...nt.modules);const pt={};lt.modules.forEach(Mt=>{Mt({params:nt,swiper:lt,extendParams:moduleExtendParams(nt,pt),on:lt.on.bind(lt),once:lt.once.bind(lt),off:lt.off.bind(lt),emit:lt.emit.bind(lt)})});const mt=extend$1({},defaults,pt);return lt.params=extend$1({},mt,extendedDefaults,nt),lt.originalParams=extend$1({},lt.params),lt.passedParams=extend$1({},nt),lt.params&&lt.params.on&&Object.keys(lt.params.on).forEach(Mt=>{lt.on(Mt,lt.params.on[Mt])}),lt.params&&lt.params.onAny&&lt.onAny(lt.params.onAny),Object.assign(lt,{enabled:lt.params.enabled,el:et,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return lt.params.direction==="horizontal"},isVertical(){return lt.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:lt.params.allowSlideNext,allowSlidePrev:lt.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:lt.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:lt.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),lt.emit("_swiper"),lt.params.init&&lt.init(),lt}getDirectionLabel(et){return this.isHorizontal()?et:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[et]}getSlideIndex(et){const{slidesEl:nt,params:rt}=this,ot=elementChildren(nt,`.${rt.slideClass}, swiper-slide`),it=elementIndex(ot[0]);return elementIndex(et)-it}getSlideIndexByData(et){return this.getSlideIndex(this.slides.filter(nt=>nt.getAttribute("data-swiper-slide-index")*1===et)[0])}recalcSlides(){const et=this,{slidesEl:nt,params:rt}=et;et.slides=elementChildren(nt,`.${rt.slideClass}, swiper-slide`)}enable(){const et=this;et.enabled||(et.enabled=!0,et.params.grabCursor&&et.setGrabCursor(),et.emit("enable"))}disable(){const et=this;et.enabled&&(et.enabled=!1,et.params.grabCursor&&et.unsetGrabCursor(),et.emit("disable"))}setProgress(et,nt){const rt=this;et=Math.min(Math.max(et,0),1);const ot=rt.minTranslate(),ct=(rt.maxTranslate()-ot)*et+ot;rt.translateTo(ct,typeof nt>"u"?0:nt),rt.updateActiveIndex(),rt.updateSlidesClasses()}emitContainerClasses(){const et=this;if(!et.params._emitClasses||!et.el)return;const nt=et.el.className.split(" ").filter(rt=>rt.indexOf("swiper")===0||rt.indexOf(et.params.containerModifierClass)===0);et.emit("_containerClasses",nt.join(" "))}getSlideClasses(et){const nt=this;return nt.destroyed?"":et.className.split(" ").filter(rt=>rt.indexOf("swiper-slide")===0||rt.indexOf(nt.params.slideClass)===0).join(" ")}emitSlidesClasses(){const et=this;if(!et.params._emitClasses||!et.el)return;const nt=[];et.slides.forEach(rt=>{const ot=et.getSlideClasses(rt);nt.push({slideEl:rt,classNames:ot}),et.emit("_slideClass",rt,ot)}),et.emit("_slideClasses",nt)}slidesPerViewDynamic(et,nt){et===void 0&&(et="current"),nt===void 0&&(nt=!1);const rt=this,{params:ot,slides:it,slidesGrid:ct,slidesSizesGrid:lt,size:pt,activeIndex:mt}=rt;let Mt=1;if(typeof ot.slidesPerView=="number")return ot.slidesPerView;if(ot.centeredSlides){let bt=it[mt]?it[mt].swiperSlideSize:0,At;for(let wt=mt+1;wt<it.length;wt+=1)it[wt]&&!At&&(bt+=it[wt].swiperSlideSize,Mt+=1,bt>pt&&(At=!0));for(let wt=mt-1;wt>=0;wt-=1)it[wt]&&!At&&(bt+=it[wt].swiperSlideSize,Mt+=1,bt>pt&&(At=!0))}else if(et==="current")for(let bt=mt+1;bt<it.length;bt+=1)(nt?ct[bt]+lt[bt]-ct[mt]<pt:ct[bt]-ct[mt]<pt)&&(Mt+=1);else for(let bt=mt-1;bt>=0;bt-=1)ct[mt]-ct[bt]<pt&&(Mt+=1);return Mt}update(){const et=this;if(!et||et.destroyed)return;const{snapGrid:nt,params:rt}=et;rt.breakpoints&&et.setBreakpoint(),[...et.el.querySelectorAll('[loading="lazy"]')].forEach(ct=>{ct.complete&&processLazyPreloader(et,ct)}),et.updateSize(),et.updateSlides(),et.updateProgress(),et.updateSlidesClasses();function ot(){const ct=et.rtlTranslate?et.translate*-1:et.translate,lt=Math.min(Math.max(ct,et.maxTranslate()),et.minTranslate());et.setTranslate(lt),et.updateActiveIndex(),et.updateSlidesClasses()}let it;if(rt.freeMode&&rt.freeMode.enabled&&!rt.cssMode)ot(),rt.autoHeight&&et.updateAutoHeight();else{if((rt.slidesPerView==="auto"||rt.slidesPerView>1)&&et.isEnd&&!rt.centeredSlides){const ct=et.virtual&&rt.virtual.enabled?et.virtual.slides:et.slides;it=et.slideTo(ct.length-1,0,!1,!0)}else it=et.slideTo(et.activeIndex,0,!1,!0);it||ot()}rt.watchOverflow&&nt!==et.snapGrid&&et.checkOverflow(),et.emit("update")}changeDirection(et,nt){nt===void 0&&(nt=!0);const rt=this,ot=rt.params.direction;return et||(et=ot==="horizontal"?"vertical":"horizontal"),et===ot||et!=="horizontal"&&et!=="vertical"||(rt.el.classList.remove(`${rt.params.containerModifierClass}${ot}`),rt.el.classList.add(`${rt.params.containerModifierClass}${et}`),rt.emitContainerClasses(),rt.params.direction=et,rt.slides.forEach(it=>{et==="vertical"?it.style.width="":it.style.height=""}),rt.emit("changeDirection"),nt&&rt.update()),rt}changeLanguageDirection(et){const nt=this;nt.rtl&&et==="rtl"||!nt.rtl&&et==="ltr"||(nt.rtl=et==="rtl",nt.rtlTranslate=nt.params.direction==="horizontal"&&nt.rtl,nt.rtl?(nt.el.classList.add(`${nt.params.containerModifierClass}rtl`),nt.el.dir="rtl"):(nt.el.classList.remove(`${nt.params.containerModifierClass}rtl`),nt.el.dir="ltr"),nt.update())}mount(et){const nt=this;if(nt.mounted)return!0;let rt=et||nt.params.el;if(typeof rt=="string"&&(rt=document.querySelector(rt)),!rt)return!1;rt.swiper=nt,rt.parentNode&&rt.parentNode.host&&rt.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(nt.isElement=!0);const ot=()=>`.${(nt.params.wrapperClass||"").trim().split(" ").join(".")}`;let ct=rt&&rt.shadowRoot&&rt.shadowRoot.querySelector?rt.shadowRoot.querySelector(ot()):elementChildren(rt,ot())[0];return!ct&&nt.params.createElements&&(ct=createElement("div",nt.params.wrapperClass),rt.append(ct),elementChildren(rt,`.${nt.params.slideClass}`).forEach(lt=>{ct.append(lt)})),Object.assign(nt,{el:rt,wrapperEl:ct,slidesEl:nt.isElement&&!rt.parentNode.host.slideSlots?rt.parentNode.host:ct,hostEl:nt.isElement?rt.parentNode.host:rt,mounted:!0,rtl:rt.dir.toLowerCase()==="rtl"||elementStyle(rt,"direction")==="rtl",rtlTranslate:nt.params.direction==="horizontal"&&(rt.dir.toLowerCase()==="rtl"||elementStyle(rt,"direction")==="rtl"),wrongRTL:elementStyle(ct,"display")==="-webkit-box"}),!0}init(et){const nt=this;if(nt.initialized||nt.mount(et)===!1)return nt;nt.emit("beforeInit"),nt.params.breakpoints&&nt.setBreakpoint(),nt.addClasses(),nt.updateSize(),nt.updateSlides(),nt.params.watchOverflow&&nt.checkOverflow(),nt.params.grabCursor&&nt.enabled&&nt.setGrabCursor(),nt.params.loop&&nt.virtual&&nt.params.virtual.enabled?nt.slideTo(nt.params.initialSlide+nt.virtual.slidesBefore,0,nt.params.runCallbacksOnInit,!1,!0):nt.slideTo(nt.params.initialSlide,0,nt.params.runCallbacksOnInit,!1,!0),nt.params.loop&&nt.loopCreate(),nt.attachEvents();const ot=[...nt.el.querySelectorAll('[loading="lazy"]')];return nt.isElement&&ot.push(...nt.hostEl.querySelectorAll('[loading="lazy"]')),ot.forEach(it=>{it.complete?processLazyPreloader(nt,it):it.addEventListener("load",ct=>{processLazyPreloader(nt,ct.target)})}),preload(nt),nt.initialized=!0,preload(nt),nt.emit("init"),nt.emit("afterInit"),nt}destroy(et,nt){et===void 0&&(et=!0),nt===void 0&&(nt=!0);const rt=this,{params:ot,el:it,wrapperEl:ct,slides:lt}=rt;return typeof rt.params>"u"||rt.destroyed||(rt.emit("beforeDestroy"),rt.initialized=!1,rt.detachEvents(),ot.loop&&rt.loopDestroy(),nt&&(rt.removeClasses(),it.removeAttribute("style"),ct.removeAttribute("style"),lt&&lt.length&&lt.forEach(pt=>{pt.classList.remove(ot.slideVisibleClass,ot.slideFullyVisibleClass,ot.slideActiveClass,ot.slideNextClass,ot.slidePrevClass),pt.removeAttribute("style"),pt.removeAttribute("data-swiper-slide-index")})),rt.emit("destroy"),Object.keys(rt.eventsListeners).forEach(pt=>{rt.off(pt)}),et!==!1&&(rt.el.swiper=null,deleteProps(rt)),rt.destroyed=!0),null}static extendDefaults(et){extend$1(extendedDefaults,et)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(et){W_.prototype.__modules__||(W_.prototype.__modules__=[]);const nt=W_.prototype.__modules__;typeof et=="function"&&nt.indexOf(et)<0&&nt.push(et)}static use(et){return Array.isArray(et)?(et.forEach(nt=>W_.installModule(nt)),W_):(W_.installModule(et),W_)}};Object.keys(prototypes).forEach(_e=>{Object.keys(prototypes[_e]).forEach(et=>{Swiper$1.prototype[et]=prototypes[_e][et]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$3(_e){return typeof _e=="object"&&_e!==null&&_e.constructor&&Object.prototype.toString.call(_e).slice(8,-1)==="Object"&&!_e.__swiper__}function extend(_e,et){const nt=["__proto__","constructor","prototype"];Object.keys(et).filter(rt=>nt.indexOf(rt)<0).forEach(rt=>{typeof _e[rt]>"u"?_e[rt]=et[rt]:isObject$3(et[rt])&&isObject$3(_e[rt])&&Object.keys(et[rt]).length>0?et[rt].__swiper__?_e[rt]=et[rt]:extend(_e[rt],et[rt]):_e[rt]=et[rt]})}function needsNavigation(_e){return _e===void 0&&(_e={}),_e.navigation&&typeof _e.navigation.nextEl>"u"&&typeof _e.navigation.prevEl>"u"}function needsPagination(_e){return _e===void 0&&(_e={}),_e.pagination&&typeof _e.pagination.el>"u"}function needsScrollbar(_e){return _e===void 0&&(_e={}),_e.scrollbar&&typeof _e.scrollbar.el>"u"}function uniqueClasses(_e){_e===void 0&&(_e="");const et=_e.split(" ").map(rt=>rt.trim()).filter(rt=>!!rt),nt=[];return et.forEach(rt=>{nt.indexOf(rt)<0&&nt.push(rt)}),nt.join(" ")}function wrapperClass(_e){return _e===void 0&&(_e=""),_e?_e.includes("swiper-wrapper")?_e:`swiper-wrapper ${_e}`:"swiper-wrapper"}function updateSwiper(_e){let{swiper:et,slides:nt,passedParams:rt,changedParams:ot,nextEl:it,prevEl:ct,scrollbarEl:lt,paginationEl:pt}=_e;const mt=ot.filter(kn=>kn!=="children"&&kn!=="direction"&&kn!=="wrapperClass"),{params:Mt,pagination:bt,navigation:At,scrollbar:wt,virtual:Tt,thumbs:Rt}=et;let Bt,Vt,$t,Ft,Ht,Qt,_n,hn;ot.includes("thumbs")&&rt.thumbs&&rt.thumbs.swiper&&Mt.thumbs&&!Mt.thumbs.swiper&&(Bt=!0),ot.includes("controller")&&rt.controller&&rt.controller.control&&Mt.controller&&!Mt.controller.control&&(Vt=!0),ot.includes("pagination")&&rt.pagination&&(rt.pagination.el||pt)&&(Mt.pagination||Mt.pagination===!1)&&bt&&!bt.el&&($t=!0),ot.includes("scrollbar")&&rt.scrollbar&&(rt.scrollbar.el||lt)&&(Mt.scrollbar||Mt.scrollbar===!1)&&wt&&!wt.el&&(Ft=!0),ot.includes("navigation")&&rt.navigation&&(rt.navigation.prevEl||ct)&&(rt.navigation.nextEl||it)&&(Mt.navigation||Mt.navigation===!1)&&At&&!At.prevEl&&!At.nextEl&&(Ht=!0);const Mn=kn=>{et[kn]&&(et[kn].destroy(),kn==="navigation"?(et.isElement&&(et[kn].prevEl.remove(),et[kn].nextEl.remove()),Mt[kn].prevEl=void 0,Mt[kn].nextEl=void 0,et[kn].prevEl=void 0,et[kn].nextEl=void 0):(et.isElement&&et[kn].el.remove(),Mt[kn].el=void 0,et[kn].el=void 0))};ot.includes("loop")&&et.isElement&&(Mt.loop&&!rt.loop?Qt=!0:!Mt.loop&&rt.loop?_n=!0:hn=!0),mt.forEach(kn=>{if(isObject$3(Mt[kn])&&isObject$3(rt[kn]))Object.assign(Mt[kn],rt[kn]),(kn==="navigation"||kn==="pagination"||kn==="scrollbar")&&"enabled"in rt[kn]&&!rt[kn].enabled&&Mn(kn);else{const Cn=rt[kn];(Cn===!0||Cn===!1)&&(kn==="navigation"||kn==="pagination"||kn==="scrollbar")?Cn===!1&&Mn(kn):Mt[kn]=rt[kn]}}),mt.includes("controller")&&!Vt&&et.controller&&et.controller.control&&Mt.controller&&Mt.controller.control&&(et.controller.control=Mt.controller.control),ot.includes("children")&&nt&&Tt&&Mt.virtual.enabled?(Tt.slides=nt,Tt.update(!0)):ot.includes("virtual")&&Tt&&Mt.virtual.enabled&&(nt&&(Tt.slides=nt),Tt.update(!0)),ot.includes("children")&&nt&&Mt.loop&&(hn=!0),Bt&&Rt.init()&&Rt.update(!0),Vt&&(et.controller.control=Mt.controller.control),$t&&(et.isElement&&(!pt||typeof pt=="string")&&(pt=document.createElement("div"),pt.classList.add("swiper-pagination"),pt.part.add("pagination"),et.el.appendChild(pt)),pt&&(Mt.pagination.el=pt),bt.init(),bt.render(),bt.update()),Ft&&(et.isElement&&(!lt||typeof lt=="string")&&(lt=document.createElement("div"),lt.classList.add("swiper-scrollbar"),lt.part.add("scrollbar"),et.el.appendChild(lt)),lt&&(Mt.scrollbar.el=lt),wt.init(),wt.updateSize(),wt.setTranslate()),Ht&&(et.isElement&&((!it||typeof it=="string")&&(it=document.createElement("div"),it.classList.add("swiper-button-next"),it.innerHTML=et.hostEl.constructor.nextButtonSvg,it.part.add("button-next"),et.el.appendChild(it)),(!ct||typeof ct=="string")&&(ct=document.createElement("div"),ct.classList.add("swiper-button-prev"),ct.innerHTML=et.hostEl.constructor.prevButtonSvg,ct.part.add("button-prev"),et.el.appendChild(ct))),it&&(Mt.navigation.nextEl=it),ct&&(Mt.navigation.prevEl=ct),At.init(),At.update()),ot.includes("allowSlideNext")&&(et.allowSlideNext=rt.allowSlideNext),ot.includes("allowSlidePrev")&&(et.allowSlidePrev=rt.allowSlidePrev),ot.includes("direction")&&et.changeDirection(rt.direction,!1),(Qt||hn)&&et.loopDestroy(),(_n||hn)&&et.loopCreate(),et.update()}function getParams(_e,et){_e===void 0&&(_e={}),et===void 0&&(et=!0);const nt={on:{}},rt={},ot={};extend(nt,defaults),nt._emitClasses=!0,nt.init=!1;const it={},ct=paramsList.map(pt=>pt.replace(/_/,"")),lt=Object.assign({},_e);return Object.keys(lt).forEach(pt=>{typeof _e[pt]>"u"||(ct.indexOf(pt)>=0?isObject$3(_e[pt])?(nt[pt]={},ot[pt]={},extend(nt[pt],_e[pt]),extend(ot[pt],_e[pt])):(nt[pt]=_e[pt],ot[pt]=_e[pt]):pt.search(/on[A-Z]/)===0&&typeof _e[pt]=="function"?et?rt[`${pt[2].toLowerCase()}${pt.substr(3)}`]=_e[pt]:nt.on[`${pt[2].toLowerCase()}${pt.substr(3)}`]=_e[pt]:it[pt]=_e[pt])}),["navigation","pagination","scrollbar"].forEach(pt=>{nt[pt]===!0&&(nt[pt]={}),nt[pt]===!1&&delete nt[pt]}),{params:nt,passedParams:ot,rest:it,events:rt}}function mountSwiper(_e,et){let{el:nt,nextEl:rt,prevEl:ot,paginationEl:it,scrollbarEl:ct,swiper:lt}=_e;needsNavigation(et)&&rt&&ot&&(lt.params.navigation.nextEl=rt,lt.originalParams.navigation.nextEl=rt,lt.params.navigation.prevEl=ot,lt.originalParams.navigation.prevEl=ot),needsPagination(et)&&it&&(lt.params.pagination.el=it,lt.originalParams.pagination.el=it),needsScrollbar(et)&&ct&&(lt.params.scrollbar.el=ct,lt.originalParams.scrollbar.el=ct),lt.init(nt)}function getChangedParams(_e,et,nt,rt,ot){const it=[];if(!et)return it;const ct=pt=>{it.indexOf(pt)<0&&it.push(pt)};if(nt&&rt){const pt=rt.map(ot),mt=nt.map(ot);pt.join("")!==mt.join("")&&ct("children"),rt.length!==nt.length&&ct("children")}return paramsList.filter(pt=>pt[0]==="_").map(pt=>pt.replace(/_/,"")).forEach(pt=>{if(pt in _e&&pt in et)if(isObject$3(_e[pt])&&isObject$3(et[pt])){const mt=Object.keys(_e[pt]),Mt=Object.keys(et[pt]);mt.length!==Mt.length?ct(pt):(mt.forEach(bt=>{_e[pt][bt]!==et[pt][bt]&&ct(pt)}),Mt.forEach(bt=>{_e[pt][bt]!==et[pt][bt]&&ct(pt)}))}else _e[pt]!==et[pt]&&ct(pt)}),it}const updateOnVirtualData=_e=>{!_e||_e.destroyed||!_e.params.virtual||_e.params.virtual&&!_e.params.virtual.enabled||(_e.updateSlides(),_e.updateProgress(),_e.updateSlidesClasses(),_e.parallax&&_e.params.parallax&&_e.params.parallax.enabled&&_e.parallax.setTranslate())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(_e[rt]=nt[rt])}return _e},_extends.apply(this,arguments)}function isChildSwiperSlide(_e){return _e.type&&_e.type.displayName&&_e.type.displayName.includes("SwiperSlide")}function processChildren(_e){const et=[];return React.Children.toArray(_e).forEach(nt=>{isChildSwiperSlide(nt)?et.push(nt):nt.props&&nt.props.children&&processChildren(nt.props.children).forEach(rt=>et.push(rt))}),et}function getChildren(_e){const et=[],nt={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(_e).forEach(rt=>{if(isChildSwiperSlide(rt))et.push(rt);else if(rt.props&&rt.props.slot&&nt[rt.props.slot])nt[rt.props.slot].push(rt);else if(rt.props&&rt.props.children){const ot=processChildren(rt.props.children);ot.length>0?ot.forEach(it=>et.push(it)):nt["container-end"].push(rt)}else nt["container-end"].push(rt)}),{slides:et,slots:nt}}function renderVirtual(_e,et,nt){if(!nt)return null;const rt=Mt=>{let bt=Mt;return Mt<0?bt=et.length+Mt:bt>=et.length&&(bt=bt-et.length),bt},ot=_e.isHorizontal()?{[_e.rtlTranslate?"right":"left"]:`${nt.offset}px`}:{top:`${nt.offset}px`},{from:it,to:ct}=nt,lt=_e.params.loop?-et.length:0,pt=_e.params.loop?et.length*2:et.length,mt=[];for(let Mt=lt;Mt<pt;Mt+=1)Mt>=it&&Mt<=ct&&mt.push(et[rt(Mt)]);return mt.map((Mt,bt)=>React.cloneElement(Mt,{swiper:_e,style:ot,key:`slide-${bt}`}))}function useIsomorphicLayoutEffect(_e,et){return typeof window>"u"?reactExports.useEffect(_e,et):reactExports.useLayoutEffect(_e,et)}const SwiperSlideContext=reactExports.createContext(null),SwiperContext=reactExports.createContext(null),Swiper=reactExports.forwardRef(function(_e,et){let{className:nt,tag:rt="div",wrapperTag:ot="div",children:it,onSwiper:ct,...lt}=_e===void 0?{}:_e,pt=!1;const[mt,Mt]=reactExports.useState("swiper"),[bt,At]=reactExports.useState(null),[wt,Tt]=reactExports.useState(!1),Rt=reactExports.useRef(!1),Bt=reactExports.useRef(null),Vt=reactExports.useRef(null),$t=reactExports.useRef(null),Ft=reactExports.useRef(null),Ht=reactExports.useRef(null),Qt=reactExports.useRef(null),_n=reactExports.useRef(null),hn=reactExports.useRef(null),{params:Mn,passedParams:kn,rest:Cn,events:yn}=getParams(lt),{slides:Ut,slots:En}=getChildren(it),vn=()=>{Tt(!wt)};Object.assign(Mn.on,{_containerClasses(Tn,Un){Mt(Un)}});const wn=()=>{Object.assign(Mn.on,yn),pt=!0;const Tn={...Mn};if(delete Tn.wrapperClass,Vt.current=new Swiper$1(Tn),Vt.current.virtual&&Vt.current.params.virtual.enabled){Vt.current.virtual.slides=Ut;const Un={cache:!1,slides:Ut,renderExternal:At,renderExternalUpdate:!1};extend(Vt.current.params.virtual,Un),extend(Vt.current.originalParams.virtual,Un)}};Bt.current||wn(),Vt.current&&Vt.current.on("_beforeBreakpoint",vn);const Ln=()=>{pt||!yn||!Vt.current||Object.keys(yn).forEach(Tn=>{Vt.current.on(Tn,yn[Tn])})},Kn=()=>{!yn||!Vt.current||Object.keys(yn).forEach(Tn=>{Vt.current.off(Tn,yn[Tn])})};reactExports.useEffect(()=>()=>{Vt.current&&Vt.current.off("_beforeBreakpoint",vn)}),reactExports.useEffect(()=>{!Rt.current&&Vt.current&&(Vt.current.emitSlidesClasses(),Rt.current=!0)}),useIsomorphicLayoutEffect(()=>{if(et&&(et.current=Bt.current),!!Bt.current)return Vt.current.destroyed&&wn(),mountSwiper({el:Bt.current,nextEl:Ht.current,prevEl:Qt.current,paginationEl:_n.current,scrollbarEl:hn.current,swiper:Vt.current},Mn),ct&&ct(Vt.current),()=>{Vt.current&&!Vt.current.destroyed&&Vt.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect(()=>{Ln();const Tn=getChangedParams(kn,$t.current,Ut,Ft.current,Un=>Un.key);return $t.current=kn,Ft.current=Ut,Tn.length&&Vt.current&&!Vt.current.destroyed&&updateSwiper({swiper:Vt.current,slides:Ut,passedParams:kn,changedParams:Tn,nextEl:Ht.current,prevEl:Qt.current,scrollbarEl:hn.current,paginationEl:_n.current}),()=>{Kn()}}),useIsomorphicLayoutEffect(()=>{updateOnVirtualData(Vt.current)},[bt]);function Rn(){return Mn.virtual?renderVirtual(Vt.current,Ut,bt):Ut.map((Tn,Un)=>React.cloneElement(Tn,{swiper:Vt.current,swiperSlideIndex:Un}))}return React.createElement(rt,_extends({ref:Bt,className:uniqueClasses(`${mt}${nt?` ${nt}`:""}`)},Cn),React.createElement(SwiperContext.Provider,{value:Vt.current},En["container-start"],React.createElement(ot,{className:wrapperClass(Mn.wrapperClass)},En["wrapper-start"],Rn(),En["wrapper-end"]),needsNavigation(Mn)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:Qt,className:"swiper-button-prev"}),React.createElement("div",{ref:Ht,className:"swiper-button-next"})),needsScrollbar(Mn)&&React.createElement("div",{ref:hn,className:"swiper-scrollbar"}),needsPagination(Mn)&&React.createElement("div",{ref:_n,className:"swiper-pagination"}),En["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports.forwardRef(function(_e,et){let{tag:nt="div",children:rt,className:ot="",swiper:it,zoom:ct,lazy:lt,virtualIndex:pt,swiperSlideIndex:mt,...Mt}=_e===void 0?{}:_e;const bt=reactExports.useRef(null),[At,wt]=reactExports.useState("swiper-slide"),[Tt,Rt]=reactExports.useState(!1);function Bt(Ht,Qt,_n){Qt===bt.current&&wt(_n)}useIsomorphicLayoutEffect(()=>{if(typeof mt<"u"&&(bt.current.swiperSlideIndex=mt),et&&(et.current=bt.current),!(!bt.current||!it)){if(it.destroyed){At!=="swiper-slide"&&wt("swiper-slide");return}return it.on("_slideClass",Bt),()=>{it&&it.off("_slideClass",Bt)}}}),useIsomorphicLayoutEffect(()=>{it&&bt.current&&!it.destroyed&&wt(it.getSlideClasses(bt.current))},[it]);const Vt={isActive:At.indexOf("swiper-slide-active")>=0,isVisible:At.indexOf("swiper-slide-visible")>=0,isPrev:At.indexOf("swiper-slide-prev")>=0,isNext:At.indexOf("swiper-slide-next")>=0},$t=()=>typeof rt=="function"?rt(Vt):rt,Ft=()=>{Rt(!0)};return React.createElement(nt,_extends({ref:bt,className:uniqueClasses(`${At}${ot?` ${ot}`:""}`),"data-swiper-slide-index":pt,onLoad:Ft},Mt),ct&&React.createElement(SwiperSlideContext.Provider,{value:Vt},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof ct=="number"?ct:void 0},$t(),lt&&!Tt&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!ct&&React.createElement(SwiperSlideContext.Provider,{value:Vt},$t(),lt&&!Tt&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";const mainButton="_mainButton_1p238_1",plain="_plain_1p238_13",disabled$2="_disabled_1p238_33",following$1="_following_1p238_44",follow$1="_follow_1p238_44",light="_light_1p238_57",dark="_dark_1p238_69",yellow="_yellow_1p238_77",primary="_primary_1p238_87",danger="_danger_1p238_95",secondary="_secondary_1p238_110",small="_small_1p238_116",styles$X={mainButton,plain,disabled:disabled$2,following:following$1,follow:follow$1,light,dark,yellow,primary,danger,"danger-outline":"_danger-outline_1p238_102",secondary,small},circularProgress="_circularProgress_8x4l3_1",round="_round_8x4l3_1",styles$W={circularProgress,round},CircularProgress=({className:_e,width:et,height:nt})=>jsxRuntimeExports.jsx("div",{className:clsx$2(styles$W.circularProgress,_e),style:{minWidth:et,minHeight:nt}}),MainButton=({children:_e,variant:et="primary",className:nt,icon:rt,onClick:ot,form:it,size:ct,loading:lt,disabled:pt,type:mt="submit",href:Mt,target:bt})=>{const At=reactExports.useMemo(()=>Mt?Link:"button",[Mt]);return jsxRuntimeExports.jsxs(At,{form:it,onClick:ot,disabled:pt||lt,type:mt,href:Mt,to:Mt,target:bt,className:clsx$2(styles$X.mainButton,et&&styles$X[et],ct&&styles$X[ct],(pt||lt)&&styles$X.disabled,nt),children:[!lt&&rt&&rt,_e&&jsxRuntimeExports.jsx("span",{children:_e}),lt&&jsxRuntimeExports.jsx(CircularProgress,{})]})},nowLiveCard="_nowLiveCard_1a30x_1",wrapper$e="_wrapper_1a30x_4",liveCard="_liveCard_1a30x_9",info$4="_info_1a30x_19",avatar$9="_avatar_1a30x_24",nickName$2="_nickName_1a30x_43",dotWrapper$1="_dotWrapper_1a30x_48",dot$1="_dot_1a30x_48",fansCount$3="_fansCount_1a30x_61",player$1="_player_1a30x_72",styles$V={nowLiveCard,wrapper:wrapper$e,liveCard,info:info$4,avatar:avatar$9,nickName:nickName$2,dotWrapper:dotWrapper$1,dot:dot$1,fansCount:fansCount$3,"player-container":"_player-container_1a30x_72",player:player$1,"live-thumb":"_live-thumb_1a30x_91","manual-play":"_manual-play_1a30x_99"},NowLiveCard=({playingItem:_e})=>{var nt,rt,ot,it;const{push:et}=useHistory();return jsxRuntimeExports.jsx(Link,{to:`/live/${_e.anchorid}/detail`,className:styles$V.nowLiveCard,children:jsxRuntimeExports.jsx("div",{className:styles$V.wrapper,children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:clsx$2(styles$V["player-container"]),onClick:()=>{et(`/live-detail/${_e.anchor.id}`)},children:jsxRuntimeExports.jsx("div",{className:styles$V.player,children:_e&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("img",{src:_e.thumb,alt:"",className:styles$V["live-thumb"]})})})}),jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.title}),jsxRuntimeExports.jsxs("div",{className:styles$V.info,children:[jsxRuntimeExports.jsx("div",{className:styles$V.avatar,children:(nt=_e==null?void 0:_e.anchor)!=null&&nt.avatar?jsxRuntimeExports.jsx("img",{src:(rt=_e==null?void 0:_e.anchor)==null?void 0:rt.avatar,alt:""}):null}),jsxRuntimeExports.jsx("span",{className:styles$V.nickName,children:(ot=_e==null?void 0:_e.anchor)==null?void 0:ot.nick_name}),jsxRuntimeExports.jsx("div",{className:styles$V.dotWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$V.dot})}),jsxRuntimeExports.jsxs("div",{className:styles$V.fansCount,children:[jsxRuntimeExports.jsx(UserIcon,{}),jsxRuntimeExports.jsx("span",{children:(it=_e==null?void 0:_e.anchor)==null?void 0:it.fansCount})]})]})]}):jsxRuntimeExports.jsx("div",{})})})},sliderBadge="_sliderBadge_1gxli_1",swiper$2="_swiper_1gxli_4",tabItem$1="_tabItem_1gxli_7",selected$3="_selected_1gxli_17",icon$6="_icon_1gxli_20",imgContainer="_imgContainer_1gxli_23",styles$U={sliderBadge,swiper:swiper$2,tabItem:tabItem$1,selected:selected$3,icon:icon$6,imgContainer},SliderBadge=({items:_e,value:et,onChange:nt})=>jsxRuntimeExports.jsx("div",{className:styles$U.sliderBadge,children:jsxRuntimeExports.jsx(Swiper,{slidesPerView:"auto",spaceBetween:12,className:styles$U.swiper,children:_e==null?void 0:_e.map((rt,ot)=>jsxRuntimeExports.jsxs(SwiperSlide,{className:clsx$2(styles$U.tabItem,rt.value===et&&styles$U.selected),onClick:()=>{nt(rt.value)},children:[rt.icon&&jsxRuntimeExports.jsx("div",{className:styles$U.icon,children:rt.icon}),rt.imgSrc&&jsxRuntimeExports.jsx("div",{className:styles$U.imgContainer,children:jsxRuntimeExports.jsx("img",{src:rt.imgSrc,alt:rt.title})}),jsxRuntimeExports.jsx("span",{className:styles$U.title,children:rt.title})]},ot))})}),FootBallIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",fill:"none",viewBox:"0 0 20 21",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M10 2.375a8.125 8.125 0 1 0 8.125 8.125A8.133 8.133 0 0 0 10 2.375m.625 3.077 1.937-1.332a6.9 6.9 0 0 1 2.826 2.109l-.625 2.105c-.015 0-.032.007-.047.013l-1.783.579a1 1 0 0 0-.078.031l-2.23-1.534zM7.441 4.12l1.934 1.332v1.971L7.144 8.96a1 1 0 0 0-.078-.031L5.283 8.35q-.024-.008-.048-.013L4.61 6.232A6.9 6.9 0 0 1 7.44 4.12M6.425 14.205H4.211a6.8 6.8 0 0 1-1.077-3.365L4.852 9.52q.022.01.046.017l1.783.58a1 1 0 0 0 .073.017l.843 2.455-.035.043-1.101 1.516zm5.348 2.936a6.9 6.9 0 0 1-3.546 0l-.786-2.22q.016-.017.03-.037l1.103-1.517.036-.055h2.78l.036.055 1.102 1.517.03.038zm1.802-2.939-.036-.055-1.102-1.514-.035-.043.843-2.455a1 1 0 0 0 .073-.017l1.784-.58.045-.017 1.719 1.319a6.8 6.8 0 0 1-1.078 3.365z"})}),header="_header_l91va_1",wrapper$d="_wrapper_l91va_7",logo="_logo_l91va_16",searchWrapper="_searchWrapper_l91va_22",searchTrigger="_searchTrigger_l91va_25",styles$T={header,wrapper:wrapper$d,logo,searchWrapper,searchTrigger},SearchIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{fill:"#CACCCC",fillRule:"evenodd",d:"M10.5 5.5a5 5 0 1 0 0 10 5 5 0 0 0 0-10m-6.5 5a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{fill:"#CACCCC",fillRule:"evenodd",d:"M14.47 14.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06",clipRule:"evenodd"})]}),Header=()=>jsxRuntimeExports.jsx("div",{className:styles$T.header,children:jsxRuntimeExports.jsx("div",{className:"container p-0",children:jsxRuntimeExports.jsxs("div",{className:styles$T.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$T.logo,children:jsxRuntimeExports.jsx("img",{src:"/assets/logo.png",alt:""})}),jsxRuntimeExports.jsx("div",{className:styles$T.searchWrapper,children:jsxRuntimeExports.jsx(Link,{to:"/search",children:jsxRuntimeExports.jsxs("div",{className:styles$T.searchTrigger,children:[jsxRuntimeExports.jsx(SearchIcon,{}),jsxRuntimeExports.jsx("span",{children:"Cari event, tim, atau host"})]})})})]})})}),BadmintonIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",fill:"none",viewBox:"0 0 20 21",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M10.25 2.167c-.808.025-1.433.7-1.408 1.5.008.2.05.391.133.583l.242.533a.204.204 0 0 1-.142.259c-.075.041-.158 0-.217-.067l-.35-.458a1.49 1.49 0 0 0-1.133-.575 1.46 1.46 0 0 0-1.492 1.425c-.008.35.109.683.325.966l.35.417h.009c.066.108.041.242-.05.308a.19.19 0 0 1-.242 0l-.442-.35a1.54 1.54 0 0 0-.966-.325 1.46 1.46 0 0 0-1.425 1.492c.008.442.225.858.575 1.133l.475.367c.091.083.091.217-.009.292a.19.19 0 0 1-.216.041h-.009l-.508-.233a1.8 1.8 0 0 0-.583-.133 1.46 1.46 0 0 0-1.5 1.416c0 .6.333 1.15.883 1.384l9.492 4.225 3.825-3.825-4.225-9.492a1.46 1.46 0 0 0-1.392-.883m.692 3.416a.84.84 0 0 1 .8.509l2.541 5.7-3.291-3.284-.775-1.758c-.25-.525.133-1.15.725-1.167M8.208 7.875a.8.8 0 0 1 .592.25l4.008 4.008a.83.83 0 1 1-1.175 1.176L7.625 9.3a.82.82 0 0 1-.017-1.175.82.82 0 0 1 .6-.25m-2.266 2.767a.7.7 0 0 1 .308.075l1.775.783 3.283 3.284-5.716-2.542c-.85-.367-.567-1.625.35-1.6M16.9 13.867 13.367 17.4l.708.708a2.52 2.52 0 0 0 2.408.642 2.52 2.52 0 0 0 1.767-1.767 2.52 2.52 0 0 0-.642-2.408z"})}),BasketBallIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",fill:"none",viewBox:"0 0 20 21",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M1.95 12.692a4.5 4.5 0 0 1 1.567-.275q1.674 0 2.925 1.05l-2.617 2.616a8.8 8.8 0 0 1-1.875-3.391m11.017-4.025c1.641 1.225 3.416 1.525 5.316.9.025.175.05.491.05.933 0 .858-.208 1.817-.6 2.875-.391 1.05-.875 1.9-1.441 2.542l-5.275-5.259zm-5.659 5.7c.884 1.275 1.067 2.666.542 4.183-1.183-.342-2.242-.875-3.125-1.608zm2.85-2.85 5.259 5.275c-1.809 1.583-3.934 2.25-6.35 1.991q.264-.825.266-1.8c0-.516-.116-1.125-.35-1.816s-.508-1.259-.816-1.7zm-2.816 1.066a5.6 5.6 0 0 0-2.692-1.325c-1.017-.191-1.992-.133-2.933.184-.025-.184-.05-.5-.05-.942 0-.858.208-1.817.6-2.875.391-1.05.875-1.9 1.441-2.542l5.55 5.575zm5.625-5.641q-1.675-2.064-.775-4.492c.516.133 1.108.383 1.775.767.658.375 1.2.75 1.616 1.108zm5.083 1.375c-.5.175-1.017.266-1.567.266-.908 0-1.783-.266-2.616-.816l2.575-2.542a9 9 0 0 1 1.608 3.092m-7.892 1.441-5.575-5.55c1.809-1.583 3.934-2.25 6.359-1.991a5.7 5.7 0 0 0-.275 1.8c0 .6.133 1.275.408 2.033.275.75.592 1.35 1.008 1.792z"})}),Home=()=>{var wn,Ln,Kn,Rn;const{push:_e}=useHistory(),{defaultAvatar:et,parsePullUrl:nt}=useConfig(),[rt,ot]=setState([]),[it,ct]=reactExports.useState([]),[lt,pt,mt]=setState({}),Mt=reactExports.useRef(),bt=reactExports.useRef(),At=reactExports.useRef(),wt=reactExports.useRef(),Tt=reactExports.useRef([]),Rt=reactExports.useRef(null),[Bt,Vt]=reactExports.useState("ALL"),{ios:$t,android:Ft,safari:Ht,iphone:Qt,uc:_n}=index_min.detectBrowser(),hn=!$t&&!_n,Mn=async()=>{try{const{status:Tn,data:Un}=await getRealLivesApi({page:1,size:5,liveallcat:1});if(Tn===0&&Un){const{list:$n}=Un,tr=$n.map(Jn=>parseMatch(Jn)).find(Jn=>Jn.pull_url.length>0);if(tr){pt(tr);const Jn=setInterval(()=>{Mt.current&&(clearInterval(Jn),Ut())},500)}ot($n)}}catch{}finally{}},kn=reactExports.useCallback(async()=>{try{const Tn={page:1,size:5,date:format(new Date,"yyyy-MM-dd"),multiple_days:1,isfinished:2,ishot:1,football_eventids:Bt==="ALL"||Bt==="FOOTBALL"?0:-1,basketball_eventids:Bt==="ALL"||Bt==="BASKETBALL"?0:-1,badminton_eventids:Bt==="ALL"||Bt==="BADMINTON"?0:-1,use_recommend:1},{status:Un,data:{matchs:$n}}=await getDateMatchApi(Tn),Vn=$n.map(tr=>parseMatch(tr)).filter(tr=>tr!==null);Un===0&&ct(Vn)}catch{ct([])}},[Bt]);reactExports.useEffect(()=>{kn()},[kn]),useLifecycles(async()=>{await Mn()},async()=>{await Cn()});const Cn=async()=>{bt.current&&(At.current&&At.current.destroy(),bt.current.destroy())},yn=async()=>{bt.current.on("canplay",async()=>{await bt.current.video.play()})},Ut=async()=>{await En(mt.current,mt.current.thumb),hn&&await yn()},En=reactExports.useCallback(async(Tn,Un)=>{const{pull_url:$n,livestream_source:Vn,pull_url_multiple:tr}=Tn,Jn=()=>{const wr=nt({url:$n,livestream_source:Vn}),jr=(Ft||Ht&&Qt)&&wr.includes(".m3u8");if(!Tn.pull_url_multiple)return jr?{url:wr,pic:Un,type:"customHls",customType:{customHls:function(Hr,Do){At.current=new Hls,At.current.loadSource(Hr.src),At.current.attachMedia(Hr)}}}:{url:wr,pic:Un,type:"auto"};const Zt=Object.entries(tr).reduce((Hr,Do)=>{if(Do[1]){let Oo="";switch(Do[0]){case"hd":Oo="HD";break;case"qhd":Oo="QHD";break;case"sd":Oo="SD";break;default:Oo=Do[0].toUpperCase()}const zo=nt({url:Do[1],livestream_source:Vn}),qo=Ft&&zo.includes(".m3u8");Hr.push(qo?{key:Do[0],name:Oo,url:zo,type:"customHls"}:{key:Do[0],name:Oo,url:zo,type:"auto"})}return Hr},[]);Tt.current=Zt;const hr=getItem("selectedQuality"),lo=Zt.findIndex(({key:Hr})=>Hr==="hd"),_o=Zt.findIndex(({key:Hr})=>Hr===hr),bo=_o&&_o>-1?_o:lo!==-1?lo:Zt.length-1;return Rt.current=bo,console.log({url:wr,quality:Zt,defaultQuality:bo,pic:Tn.thumb,customType:{customHls:function(Hr,Do){At.current=new Hls,At.current.loadSource(Hr.src),At.current.attachMedia(Hr)}}}),{url:wr,quality:Zt,defaultQuality:bo,pic:Tn.thumb,customType:{customHls:function(Hr,Do){At.current=new Hls,At.current.loadSource(Hr.src),At.current.attachMedia(Hr)}}}};bt.current=new DPlayer({container:Mt.current,video:Jn(),live:Vn!==0,volume:0,autoplay:!0,loop:!0}),hn&&await yn(),bt.current.on("play",async()=>{bt.current.video.muted=!0;const wr=document.querySelector(".dplayer-bar-wrap"),jr=document.querySelector(".dplayer-time");wr&&jr&&(wr.style.display=Vn!==0?"none":"block",jr.style.display=Vn!==0?"none":"block");const Zt=_$2.get(bt.current,"qualityIndex"),hr=_$2.get(Tt.current,`[${Zt}].key`);Number(Zt)>-1&&(Rt.current=Zt,setItem("qualityIndex",Zt),setItem("selectedQuality",hr))})},[Tt]),vn=rt;return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:styles$Z.home,children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$Z.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$Z.live,children:lt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:`/live/${lt.anchorid}/detail`,className:styles$Z.nowLiveCard,children:jsxRuntimeExports.jsx("div",{className:styles$Z.liveCard,children:jsxRuntimeExports.jsx("div",{ref:wt,className:clsx$2(styles$Z["player-container"]),onClick:()=>{_e(`/live-detail/${lt.anchor.id}`)},children:jsxRuntimeExports.jsx("div",{className:styles$Z.player,id:"player",ref:Mt,children:!hn&&lt.live&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:lt.thumb,alt:"",className:styles$Z["live-thumb"]}),jsxRuntimeExports.jsx("div",{className:clsx$2(styles$Z["manual-play"],"whitespace-nowrap"),onClick:Ut,children:"Play"})]})})})})}),jsxRuntimeExports.jsx("h5",{children:(wn=lt.live)==null?void 0:wn.title}),jsxRuntimeExports.jsxs("div",{className:styles$Z.info,children:[jsxRuntimeExports.jsx("div",{className:styles$Z.avatar,children:jsxRuntimeExports.jsx("img",{src:((Ln=lt==null?void 0:lt.anchor)==null?void 0:Ln.avatar)??et,alt:""})}),jsxRuntimeExports.jsx("span",{className:styles$Z.nickName,children:(Kn=lt==null?void 0:lt.anchor)==null?void 0:Kn.nick_name}),jsxRuntimeExports.jsx("div",{className:styles$Z.dotWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$Z.dot})}),jsxRuntimeExports.jsxs("div",{className:styles$Z.fansCount,children:[jsxRuntimeExports.jsx(UserIcon,{}),jsxRuntimeExports.jsx("span",{children:(Rn=lt==null?void 0:lt.anchor)==null?void 0:Rn.fansCount})]})]})]}):jsxRuntimeExports.jsx("div",{})}),jsxRuntimeExports.jsxs("div",{className:styles$Z.upcoming,children:[jsxRuntimeExports.jsx("h3",{children:"Nantikan Hari Ini"}),jsxRuntimeExports.jsx(SliderBadge,{items:[{title:"Semua",value:"ALL"},{title:"Sepak Bola",value:"FOOTBALL",icon:jsxRuntimeExports.jsx(FootBallIcon,{})},{title:"Basket",value:"BASKET",icon:jsxRuntimeExports.jsx(BasketBallIcon,{})},{title:"Badminton",value:"BADMINTON",icon:jsxRuntimeExports.jsx(BadmintonIcon,{})}],value:Bt,onChange:Tn=>Vt(Tn)}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Swiper,{className:styles$Z.swiper,slidesPerView:"auto",spaceBetween:16,loop:!1,children:it==null?void 0:it.map((Tn,Un)=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$Z.swiperSlide,children:jsxRuntimeExports.jsx(UpcomingLiveCard,{liveData:Tn})},Un))})}),jsxRuntimeExports.jsx(MainButton,{href:"/schedule",children:"Lihat Semua Jadwal"})]}),jsxRuntimeExports.jsxs("div",{className:styles$Z.upcoming,children:[jsxRuntimeExports.jsx("h3",{children:"Sedang Tayang"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Swiper,{className:styles$Z.swiper,slidesPerView:"auto",spaceBetween:16,children:vn==null?void 0:vn.map((Tn,Un)=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$Z.swiperSlide,children:jsxRuntimeExports.jsx(NowLiveCard,{playingItem:Tn})},Un))})}),jsxRuntimeExports.jsx(MainButton,{href:"/live",children:"Lihat Semua yang Sedang Tayang"})]})]})})})]})},profile$1="_profile_ifxts_1",head$2="_head_ifxts_4",left$1="_left_ifxts_10",avatar$8="_avatar_ifxts_14",info$3="_info_ifxts_28",editBtn="_editBtn_ifxts_40",settings="_settings_ifxts_53",settingList="_settingList_ifxts_62",settingItem="_settingItem_ifxts_67",title="_title_ifxts_74",logout="_logout_ifxts_85",icon$5="_icon_ifxts_92",desc$6="_desc_ifxts_96",actions$7="_actions_ifxts_110",styles$S={profile:profile$1,head:head$2,left:left$1,avatar:avatar$8,info:info$3,editBtn,settings,settingList,settingItem,title,logout,icon:icon$5,desc:desc$6,actions:actions$7},following="_following_s754u_1",seeAll="_seeAll_s754u_5",host="_host_s754u_20",avatar$7="_avatar_s754u_26",swiper$1="_swiper_s754u_47",slide="_slide_s754u_47",styles$R={following,seeAll,host,avatar:avatar$7,swiper:swiper$1,slide},Following=()=>{const _e=useHistory(),[et,nt]=reactExports.useState([]);useLifecycles(async()=>{await rt()},()=>{});const rt=async()=>{try{const{data:it}=await getAttentAnchorsApi({});nt(it)}catch{}},ot=it=>{_e.push(`/host/${it}/detail`)};return et.length===0?null:jsxRuntimeExports.jsxs("div",{className:styles$R.following,children:[jsxRuntimeExports.jsxs("div",{className:styles$R.seeAll,children:[jsxRuntimeExports.jsx("h5",{children:"Host Diikuti"}),jsxRuntimeExports.jsx(Link,{to:"/host",children:jsxRuntimeExports.jsx("h5",{children:"Lihat Semua"})})]}),jsxRuntimeExports.jsx(Swiper,{slidesPerView:"auto",spaceBetween:12,className:styles$R.swiper,children:et==null?void 0:et.map((it,ct)=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$R.slide,children:jsxRuntimeExports.jsxs("div",{className:styles$R.host,onClick:()=>ot(it.id),children:[jsxRuntimeExports.jsx("div",{className:styles$R.avatar,children:jsxRuntimeExports.jsx("img",{src:it.avatar,alt:it.nick_name})}),jsxRuntimeExports.jsx("span",{children:it.nick_name})]})},ct))})]})},ChevronRightIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M9.29 6.71a.996.996 0 0 0 0 1.41L13.17 12l-3.88 3.88a.998.998 0 0 0 1.41 1.41l4.59-4.59a.994.994 0 0 0 0-1.41L10.7 6.7c-.38-.38-1.02-.38-1.41.01"})}),LogoutIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{fill:"#CACCCC",fillRule:"evenodd",d:"M9.707 2.41C9 3.037 9 4.184 9 6.477v11.048c0 2.293 0 3.44.707 4.067s1.788.439 3.95.062l2.33-.406c2.394-.418 3.591-.627 4.302-1.505.711-.88.711-2.15.711-4.69V8.949c0-2.54 0-3.81-.71-4.69-.712-.877-1.91-1.086-4.304-1.503l-2.328-.407c-2.162-.377-3.243-.565-3.95.062M12 10.17c.414 0 .75.35.75.784v2.094c0 .433-.336.784-.75.784s-.75-.351-.75-.784v-2.094c0-.433.336-.784.75-.784",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M7.547 4.5c-2.058.003-3.131.048-3.815.732C3 5.964 3 7.142 3 9.5v5c0 2.357 0 3.535.732 4.268.684.683 1.757.729 3.815.732-.047-.624-.047-1.344-.047-2.123V6.623c0-.78 0-1.5.047-2.123"})]}),SettingIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M14.82 1H9.18l-.647 3.237a8.5 8.5 0 0 0-1.52.88l-3.13-1.059-2.819 4.884 2.481 2.18a8.6 8.6 0 0 0 0 1.756l-2.481 2.18 2.82 4.884 3.129-1.058c.472.342.98.638 1.52.879L9.18 23h5.64l.647-3.237a8.5 8.5 0 0 0 1.52-.88l3.13 1.059 2.82-4.884-2.482-2.18c.06-.584.06-1.172 0-1.756l2.481-2.18-2.82-4.884-3.128 1.058a8.5 8.5 0 0 0-1.52-.879zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8"})}),modal="_modal_9v5ge_1",scrollable="_scrollable_9v5ge_12",backdrop$1="_backdrop_9v5ge_17",modalWrapper$1="_modalWrapper_9v5ge_27",modalBody="_modalBody_9v5ge_44",modalHead="_modalHead_9v5ge_48",wrapper$c="_wrapper_9v5ge_52",styles$Q={modal,scrollable,backdrop:backdrop$1,modalWrapper:modalWrapper$1,modalBody,modalHead,wrapper:wrapper$c},config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(et){return et.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(_e){_inheritsLoose$1(et,_e);function et(rt,ot){var it;it=_e.call(this,rt,ot)||this;var ct=ot,lt=ct&&!ct.isMounting?rt.enter:rt.appear,pt;return it.appearStatus=null,rt.in?lt?(pt=EXITED,it.appearStatus=ENTERING):pt=ENTERED:rt.unmountOnExit||rt.mountOnEnter?pt=UNMOUNTED:pt=EXITED,it.state={status:pt},it.nextCallback=null,it}et.getDerivedStateFromProps=function(ot,it){var ct=ot.in;return ct&&it.status===UNMOUNTED?{status:EXITED}:null};var nt=et.prototype;return nt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},nt.componentDidUpdate=function(ot){var it=null;if(ot!==this.props){var ct=this.state.status;this.props.in?ct!==ENTERING&&ct!==ENTERED&&(it=ENTERING):(ct===ENTERING||ct===ENTERED)&&(it=EXITING)}this.updateStatus(!1,it)},nt.componentWillUnmount=function(){this.cancelNextCallback()},nt.getTimeouts=function(){var ot=this.props.timeout,it,ct,lt;return it=ct=lt=ot,ot!=null&&typeof ot!="number"&&(it=ot.exit,ct=ot.enter,lt=ot.appear!==void 0?ot.appear:ct),{exit:it,enter:ct,appear:lt}},nt.updateStatus=function(ot,it){if(ot===void 0&&(ot=!1),it!==null)if(this.cancelNextCallback(),it===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ct=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ct&&forceReflow(ct)}this.performEnter(ot)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},nt.performEnter=function(ot){var it=this,ct=this.props.enter,lt=this.context?this.context.isMounting:ot,pt=this.props.nodeRef?[lt]:[ReactDOM.findDOMNode(this),lt],mt=pt[0],Mt=pt[1],bt=this.getTimeouts(),At=lt?bt.appear:bt.enter;if(!ot&&!ct||config.disabled){this.safeSetState({status:ENTERED},function(){it.props.onEntered(mt)});return}this.props.onEnter(mt,Mt),this.safeSetState({status:ENTERING},function(){it.props.onEntering(mt,Mt),it.onTransitionEnd(At,function(){it.safeSetState({status:ENTERED},function(){it.props.onEntered(mt,Mt)})})})},nt.performExit=function(){var ot=this,it=this.props.exit,ct=this.getTimeouts(),lt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config.disabled){this.safeSetState({status:EXITED},function(){ot.props.onExited(lt)});return}this.props.onExit(lt),this.safeSetState({status:EXITING},function(){ot.props.onExiting(lt),ot.onTransitionEnd(ct.exit,function(){ot.safeSetState({status:EXITED},function(){ot.props.onExited(lt)})})})},nt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},nt.safeSetState=function(ot,it){it=this.setNextCallback(it),this.setState(ot,it)},nt.setNextCallback=function(ot){var it=this,ct=!0;return this.nextCallback=function(lt){ct&&(ct=!1,it.nextCallback=null,ot(lt))},this.nextCallback.cancel=function(){ct=!1},this.nextCallback},nt.onTransitionEnd=function(ot,it){this.setNextCallback(it);var ct=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),lt=ot==null&&!this.props.addEndListener;if(!ct||lt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var pt=this.props.nodeRef?[this.nextCallback]:[ct,this.nextCallback],mt=pt[0],Mt=pt[1];this.props.addEndListener(mt,Mt)}ot!=null&&setTimeout(this.nextCallback,ot)},nt.render=function(){var ot=this.state.status;if(ot===UNMOUNTED)return null;var it=this.props,ct=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var lt=_objectWithoutPropertiesLoose$2(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ct=="function"?ct(ot,lt):React.cloneElement(React.Children.only(ct),lt))},et}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$3(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$3,onEntering:noop$3,onEntered:noop$3,onExit:noop$3,onExiting:noop$3,onExited:noop$3};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const CloseIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M26.3 13.71a.996.996 0 0 0-1.41 0L20 18.59l-4.89-4.89a.997.997 0 0 0-1.41 1.41L18.59 20l-4.89 4.89a.997.997 0 0 0 1.41 1.41L20 21.41l4.89 4.89a.997.997 0 0 0 1.41-1.41L21.41 20l4.89-4.89c.38-.38.38-1.02 0-1.4"})}),ModalHead=({title:_e,className:et,onClose:nt})=>jsxRuntimeExports.jsx("div",{className:clsx$2(styles$Q.modalHead,et),children:jsxRuntimeExports.jsxs("div",{className:styles$Q.wrapper,children:[jsxRuntimeExports.jsx("p",{children:_e}),nt&&jsxRuntimeExports.jsx("button",{onClick:nt,children:jsxRuntimeExports.jsx(CloseIcon,{})})]})}),ModalBody=({children:_e,className:et})=>jsxRuntimeExports.jsx("div",{className:clsx$2(styles$Q.modalBody,et),children:_e}),ModalWrapper=({children:_e,className:et,width:nt})=>jsxRuntimeExports.jsx("div",{className:clsx$2(styles$Q.modalWrapper,et),style:{maxWidth:nt},children:_e}),duration=300,defaultStyle={transition:`opacity ${duration}ms ease-in-out`,opacity:0,visibility:"hidden"},transitionStyles={entering:{opacity:1,visibility:"visible"},entered:{opacity:1,visibility:"visible"},exiting:{opacity:0,visibility:"visible"},exited:{opacity:0,visibility:"hidden"}},Modal=({onClose:_e,in:et,children:nt,scrollable:rt})=>{const ot=reactExports.useRef(null),it=document.body,ct=reactExports.useCallback(()=>{typeof _e=="function"&&_e()},[_e]),lt=reactExports.useCallback(mt=>{mt.key==="Escape"&&ct()},[ct]),pt=reactExports.Children.map(nt,mt=>{if(reactExports.isValidElement(mt)){const Mt={scrollable:rt};return reactExports.cloneElement(mt,Mt)}return mt});return reactExports.useEffect(()=>(et&&window.addEventListener("keydown",lt,!1),()=>{et&&window.removeEventListener("keydown",lt,!1)}),[et,lt]),reactExports.useEffect(()=>{et?document.body.style.overflow="hidden":document.body.style.overflow=""},[et]),ReactDOM.createPortal(jsxRuntimeExports.jsx(Transition,{nodeRef:ot,in:et,timeout:duration,unmountOnExit:!0,children:mt=>jsxRuntimeExports.jsxs("div",{ref:ot,className:clsx$2(styles$Q.modal,rt&&styles$Q.scrollable),style:{...defaultStyle,...transitionStyles[mt]},children:[pt,jsxRuntimeExports.jsx("div",{className:styles$Q.backdrop,onClick:ct})]})}),it)},Main$2=()=>{const[_e,et]=reactExports.useState(!1),{replace:nt}=useHistory(),rt=useDispatch(),{user:ot}=useSelector(ct=>ct.auth),it=()=>{rt(authActions.logout()),nt("/login")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HomeLayout,{children:jsxRuntimeExports.jsx("div",{className:styles$S.profile,children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("div",{className:styles$S.head,children:[jsxRuntimeExports.jsxs("div",{className:styles$S.left,children:[jsxRuntimeExports.jsx("div",{className:styles$S.avatar,children:jsxRuntimeExports.jsx("img",{src:(ot==null?void 0:ot.avatar)??"",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$S.info,children:[jsxRuntimeExports.jsx("h5",{children:(ot==null?void 0:ot.nick_name)??"Unknown"}),jsxRuntimeExports.jsx("span",{children:(ot==null?void 0:ot.email)??"-"}),jsxRuntimeExports.jsx("span",{children:(ot==null?void 0:ot.account)??"-"})]})]}),jsxRuntimeExports.jsx("div",{className:styles$S.editBtn,children:jsxRuntimeExports.jsx(Link,{to:"/profile/edit",children:jsxRuntimeExports.jsx("button",{children:jsxRuntimeExports.jsx("span",{children:"Edit Profil"})})})})]}),jsxRuntimeExports.jsx(Following,{}),jsxRuntimeExports.jsxs("div",{className:styles$S.settings,children:[jsxRuntimeExports.jsx("h5",{children:"Akun"}),jsxRuntimeExports.jsxs("div",{className:styles$S.settingList,children:[jsxRuntimeExports.jsx(Link,{to:"/profile/settings",children:jsxRuntimeExports.jsxs("div",{className:styles$S.settingItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$S.title,children:[jsxRuntimeExports.jsx(SettingIcon,{}),jsxRuntimeExports.jsx("span",{children:"Pengaturan Akun"})]}),jsxRuntimeExports.jsx(ChevronRightIcon,{})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>et(!0),children:jsxRuntimeExports.jsxs("div",{className:styles$S.settingItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$S.title,children:[jsxRuntimeExports.jsx(LogoutIcon,{}),jsxRuntimeExports.jsx("span",{children:"Logout"})]}),jsxRuntimeExports.jsx(ChevronRightIcon,{})]})})]})]})]})})}),jsxRuntimeExports.jsx(Modal,{in:_e,onClose:()=>et(!1),children:jsxRuntimeExports.jsx(ModalWrapper,{children:jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs("div",{className:styles$S.logout,children:[jsxRuntimeExports.jsx("div",{className:styles$S.icon,children:jsxRuntimeExports.jsx("img",{src:"/assets/door.png",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$S.desc,children:[jsxRuntimeExports.jsx("h1",{children:"Yakin untuk Logout?"}),jsxRuntimeExports.jsx("p",{children:"Anda perlu masuk kembali untuk menikmati fitur interaktif"})]}),jsxRuntimeExports.jsxs("div",{className:styles$S.actions,children:[jsxRuntimeExports.jsx(MainButton,{onClick:()=>et(!1),children:"Tetap di Akun"}),jsxRuntimeExports.jsx(MainButton,{variant:"secondary",onClick:it,children:"Ya Logout"})]})]})})})})]})},generalHeader="_generalHeader_n4uvp_1",left="_left_n4uvp_12",styles$P={generalHeader,left},BackIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:jsxRuntimeExports.jsx("path",{stroke:"#CACCCC",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.438 26.75 12.688 20l6.75-6.75M13.625 20h13.688"})}),GeneralHeader=({title:_e,withBack:et,closePath:nt,rightComponent:rt})=>{const{goBack:ot,push:it}=useHistory();return jsxRuntimeExports.jsxs("div",{className:styles$P.generalHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$P.left,children:[nt?jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>it(nt),children:jsxRuntimeExports.jsx(CloseIcon,{})}):null,et?jsxRuntimeExports.jsx("button",{type:"button",onClick:ot,children:jsxRuntimeExports.jsx(BackIcon,{})}):null,jsxRuntimeExports.jsx("span",{children:_e})]}),jsxRuntimeExports.jsx("div",{className:styles$P.right,children:rt})]})},configList="_configList_1djj1_1",configItem="_configItem_1djj1_1",styles$O={configList,configItem},configs=[{path:"/profile/settings/change-password",title:"Ubah Password"},{path:"/profile/settings/remove-account",title:"Hapus Akun"},{path:"/profile/settings/contact-us",title:"Hubungi Kami"},{path:"/profile/settings/terms-conditions",title:"Syarat Ketentuan"},{path:"/profile/settings/privacy-policy",title:"Kebijakan Privasi"}],ConfigList$1=()=>jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Pengaturan Akun",withBack:!0}),jsxRuntimeExports.jsx("div",{className:styles$O.configList,children:configs.map((_e,et)=>jsxRuntimeExports.jsx(Link,{to:_e.path,children:jsxRuntimeExports.jsxs("div",{className:styles$O.configItem,children:[jsxRuntimeExports.jsx("span",{children:_e.title}),jsxRuntimeExports.jsx(ChevronRightIcon,{})]})},et))})]}),content$1="_content_c55dl_1",styles$N={content:content$1},TermsConditions=()=>jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Syarat Ketentuan",withBack:!0}),jsxRuntimeExports.jsx("div",{className:styles$N.content,children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:"<p>Content Here</p>"}})})]}),removeAccount="_removeAccount_15h2u_1",heading$g="_heading_15h2u_5",reasons$1="_reasons_15h2u_23",reasonItem="_reasonItem_15h2u_29",checked="_checked_15h2u_38",confirmRemove="_confirmRemove_15h2u_58",icon$4="_icon_15h2u_65",desc$5="_desc_15h2u_69",actions$6="_actions_15h2u_83",confirmPassword="_confirmPassword_15h2u_93",form$f="_form_15h2u_123",bottom$1="_bottom_15h2u_127",styles$M={removeAccount,heading:heading$g,reasons:reasons$1,reasonItem,checked,confirmRemove,icon:icon$4,desc:desc$5,actions:actions$6,confirmPassword,form:form$f,bottom:bottom$1},formControl="_formControl_1x2dc_1",eyeBtn="_eyeBtn_1x2dc_13",password="_password_1x2dc_16",phoneIcon="_phoneIcon_1x2dc_19",focused="_focused_1x2dc_32",disabled$1="_disabled_1x2dc_38",styles$L={formControl,eyeBtn,password,phoneIcon,focused,disabled:disabled$1};function noop$2(){}function returnTrue(){return!0}function charIsNumber(_e){return!!(_e||"").match(/\d/)}function isNil(_e){return _e==null}function escapeRegExp(_e){return _e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(_e){switch(_e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(_e,et,nt){var rt=getThousandsGroupRegex(nt),ot=_e.search(/[1-9]/);return ot=ot===-1?_e.length:ot,_e.substring(0,ot)+_e.substring(ot,_e.length).replace(rt,"$1"+et)}function splitDecimal(_e,et){et===void 0&&(et=!0);var nt=_e[0]==="-",rt=nt&&et;_e=_e.replace("-","");var ot=_e.split("."),it=ot[0],ct=ot[1]||"";return{beforeDecimal:it,afterDecimal:ct,hasNagation:nt,addNegation:rt}}function fixLeadingZero(_e){if(!_e)return _e;var et=_e[0]==="-";et&&(_e=_e.substring(1,_e.length));var nt=_e.split("."),rt=nt[0].replace(/^0+/,"")||"0",ot=nt[1]||"";return(et?"-":"")+rt+(ot?"."+ot:"")}function limitToScale(_e,et,nt){for(var rt="",ot=nt?"0":"",it=0;it<=et-1;it++)rt+=_e[it]||ot;return rt}function repeat(_e,et){return Array(et+1).join(_e)}function toNumericString(_e){_e+="";var et=_e[0]==="-"?"-":"";et&&(_e=_e.substring(1));var nt=_e.split(/[eE]/g),rt=nt[0],ot=nt[1];if(ot=Number(ot),!ot)return et+rt;rt=rt.replace(".","");var it=1+ot,ct=rt.length;return it<0?rt="0."+repeat("0",Math.abs(it))+rt:it>=ct?rt=rt+repeat("0",it-ct):rt=(rt.substring(0,it)||"0")+"."+rt.substring(it),et+rt}function roundToPrecision(_e,et,nt){if(["","-"].indexOf(_e)!==-1)return _e;var rt=_e.indexOf(".")!==-1&&et,ot=splitDecimal(_e),it=ot.beforeDecimal,ct=ot.afterDecimal,lt=ot.hasNagation,pt=parseFloat("0."+(ct||"0")),mt=ct.length<=et?"0."+ct:pt.toFixed(et),Mt=mt.split("."),bt=it.split("").reverse().reduce(function(Rt,Bt,Vt){return Rt.length>Vt?(Number(Rt[0])+Number(Bt)).toString()+Rt.substring(1,Rt.length):Bt+Rt},Mt[0]),At=limitToScale(Mt[1]||"",Math.min(et,ct.length),nt),wt=lt?"-":"",Tt=rt?".":"";return""+wt+bt+Tt+At}function setCaretPosition(_e,et){if(_e.value=_e.value,_e!==null){if(_e.createTextRange){var nt=_e.createTextRange();return nt.move("character",et),nt.select(),!0}return _e.selectionStart||_e.selectionStart===0?(_e.focus(),_e.setSelectionRange(et,et),!0):(_e.focus(),!1)}}function findChangedIndex(_e,et){for(var nt=0,rt=0,ot=_e.length,it=et.length;_e[nt]===et[nt]&&nt<ot;)nt++;for(;_e[ot-1-rt]===et[it-1-rt]&&it-rt>nt&&ot-rt>nt;)rt++;return{start:nt,end:ot-rt}}function clamp$1(_e,et,nt){return Math.min(Math.max(_e,et),nt)}function getCurrentCaretPosition(_e){return Math.max(_e.selectionStart,_e.selectionEnd)}function addInputMode(_e){return _e||typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function objectWithoutProperties(_e,et){var nt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)===-1&&(nt[rt]=_e[rt]);return nt}var defaultProps$6={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,allowLeadingZeros:!1,isNumericString:!1,type:"text",onValueChange:noop$2,onChange:noop$2,onKeyDown:noop$2,onMouseUp:noop$2,onFocus:noop$2,onBlur:noop$2,isAllowed:returnTrue},NumberFormat=function(_e){function et(nt){_e.call(this,nt);var rt=nt.defaultValue;this.validateProps();var ot=this.formatValueProp(rt);this.state={value:ot,numAsString:this.removeFormatting(ot),mounted:!1},this.selectionBeforeInput={selectionStart:0,selectionEnd:0},this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}return _e&&(et.__proto__=_e),et.prototype=Object.create(_e&&_e.prototype),et.prototype.constructor=et,et.prototype.componentDidMount=function(){this.setState({mounted:!0})},et.prototype.componentDidUpdate=function(rt){this.updateValueIfRequired(rt)},et.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout)},et.prototype.updateValueIfRequired=function(rt){var ot=this,it=ot.props,ct=ot.state,lt=ot.focusedElm,pt=ct.value,mt=ct.numAsString;if(mt===void 0&&(mt=""),rt!==it){this.validateProps();var Mt=this.formatNumString(mt),bt=isNil(it.value)?Mt:this.formatValueProp(),At=this.removeFormatting(bt),wt=parseFloat(At),Tt=parseFloat(mt);((!isNaN(wt)||!isNaN(Tt))&&wt!==Tt||Mt!==pt||lt===null&&bt!==pt)&&this.updateValue({formattedValue:bt,numAsString:At,input:lt,source:"prop",event:null})}},et.prototype.getFloatString=function(rt){rt===void 0&&(rt="");var ot=this.props,it=ot.decimalScale,ct=this.getSeparators(),lt=ct.decimalSeparator,pt=this.getNumberRegex(!0),mt=rt[0]==="-";mt&&(rt=rt.replace("-","")),lt&&it===0&&(rt=rt.split(lt)[0]),rt=(rt.match(pt)||[]).join("").replace(lt,".");var Mt=rt.indexOf(".");return Mt!==-1&&(rt=rt.substring(0,Mt)+"."+rt.substring(Mt+1,rt.length).replace(new RegExp(escapeRegExp(lt),"g"),"")),mt&&(rt="-"+rt),rt},et.prototype.getNumberRegex=function(rt,ot){var it=this.props,ct=it.format,lt=it.decimalScale,pt=it.customNumerals,mt=this.getSeparators(),Mt=mt.decimalSeparator;return new RegExp("[0-9"+(pt?pt.join(""):"")+"]"+(Mt&&lt!==0&&!ot&&!ct?"|"+escapeRegExp(Mt):""),rt?"g":void 0)},et.prototype.getSeparators=function(){var rt=this.props,ot=rt.decimalSeparator,it=this.props,ct=it.thousandSeparator,lt=it.allowedDecimalSeparators;return ct===!0&&(ct=","),lt||(lt=[ot,"."]),{decimalSeparator:ot,thousandSeparator:ct,allowedDecimalSeparators:lt}},et.prototype.getMaskAtIndex=function(rt){var ot=this.props,it=ot.mask;return it===void 0&&(it=" "),typeof it=="string"?it:it[rt]||" "},et.prototype.getValueObject=function(rt,ot){var it=parseFloat(ot);return{formattedValue:rt,value:ot,floatValue:isNaN(it)?void 0:it}},et.prototype.validateProps=function(){var rt=this.props,ot=rt.mask,it=this.getSeparators(),ct=it.decimalSeparator,lt=it.thousandSeparator;if(ct===lt)throw new Error(`
          Decimal separator can't be same as thousand separator.
          thousandSeparator: `+lt+` (thousandSeparator = {true} is same as thousandSeparator = ",")
          decimalSeparator: `+ct+` (default value for decimalSeparator is .)
       `);if(ot){var pt=ot==="string"?ot:ot.toString();if(pt.match(/\d/g))throw new Error(`
          Mask `+ot+` should not contain numeric character;
        `)}},et.prototype.setPatchedCaretPosition=function(rt,ot,it){setCaretPosition(rt,ot),this.caretPositionTimeout=setTimeout(function(){rt.value===it&&setCaretPosition(rt,ot)},0)},et.prototype.correctCaretPosition=function(rt,ot,it){var ct=this.props,lt=ct.prefix,pt=ct.suffix,mt=ct.format;if(rt==="")return 0;if(ot=clamp$1(ot,0,rt.length),!mt){var Mt=rt[0]==="-";return clamp$1(ot,lt.length+(Mt?1:0),rt.length-pt.length)}if(typeof mt=="function"||mt[ot]==="#"&&charIsNumber(rt[ot])||mt[ot-1]==="#"&&charIsNumber(rt[ot-1]))return ot;var bt=mt.indexOf("#"),At=mt.lastIndexOf("#");ot=clamp$1(ot,bt,At+1);for(var wt=mt.substring(ot,mt.length).indexOf("#"),Tt=ot,Rt=ot+(wt===-1?0:wt);Tt>bt&&(mt[Tt]!=="#"||!charIsNumber(rt[Tt]));)Tt-=1;var Bt=!charIsNumber(rt[Rt])||it==="left"&&ot!==bt||ot-Tt<Rt-ot;return Bt?charIsNumber(rt[Tt])?Tt+1:Tt:Rt},et.prototype.getCaretPosition=function(rt,ot,it){var ct=this.props,lt=ct.format,pt=this.state.value,mt=this.getNumberRegex(!0),Mt=(rt.match(mt)||[]).join(""),bt=(ot.match(mt)||[]).join(""),At,wt;for(At=0,wt=0;wt<it;wt++){var Tt=rt[wt]||"",Rt=ot[At]||"";if(!(!Tt.match(mt)&&Tt!==Rt)&&!(Tt==="0"&&Rt.match(mt)&&Rt!=="0"&&Mt.length!==bt.length)){for(;Tt!==ot[At]&&At<ot.length;)At++;At++}}return typeof lt=="string"&&!pt&&(At=ot.length),At=this.correctCaretPosition(ot,At),At},et.prototype.removePrefixAndSuffix=function(rt){var ot=this.props,it=ot.format,ct=ot.prefix,lt=ot.suffix;if(!it&&rt){var pt=rt[0]==="-";pt&&(rt=rt.substring(1,rt.length)),rt=ct&&rt.indexOf(ct)===0?rt.substring(ct.length,rt.length):rt;var mt=rt.lastIndexOf(lt);rt=lt&&mt!==-1&&mt===rt.length-lt.length?rt.substring(0,mt):rt,pt&&(rt="-"+rt)}return rt},et.prototype.removePatternFormatting=function(rt){for(var ot=this.props,it=ot.format,ct=it.split("#").filter(function(wt){return wt!==""}),lt=0,pt="",mt=0,Mt=ct.length;mt<=Mt;mt++){var bt=ct[mt]||"",At=mt===Mt?rt.length:rt.indexOf(bt,lt);if(At===-1){pt=rt;break}else pt+=rt.substring(lt,At),lt=At+bt.length}return(pt.match(this.getNumberRegex(!0))||[]).join("")},et.prototype.removeFormatting=function(rt){var ot=this.props,it=ot.format,ct=ot.removeFormatting;return rt&&(it?typeof it=="string"?rt=this.removePatternFormatting(rt):typeof ct=="function"?rt=ct(rt):rt=(rt.match(this.getNumberRegex(!0))||[]).join(""):(rt=this.removePrefixAndSuffix(rt),rt=this.getFloatString(rt)),rt)},et.prototype.formatWithPattern=function(rt){for(var ot=this.props,it=ot.format,ct=0,lt=it.split(""),pt=0,mt=it.length;pt<mt;pt++)it[pt]==="#"&&(lt[pt]=rt[ct]||this.getMaskAtIndex(ct),ct+=1);return lt.join("")},et.prototype.formatAsNumber=function(rt){var ot=this.props,it=ot.decimalScale,ct=ot.fixedDecimalScale,lt=ot.prefix,pt=ot.suffix,mt=ot.allowNegative,Mt=ot.thousandsGroupStyle,bt=this.getSeparators(),At=bt.thousandSeparator,wt=bt.decimalSeparator,Tt=rt.indexOf(".")!==-1||it&&ct,Rt=splitDecimal(rt,mt),Bt=Rt.beforeDecimal,Vt=Rt.afterDecimal,$t=Rt.addNegation;return it!==void 0&&(Vt=limitToScale(Vt,it,ct)),At&&(Bt=applyThousandSeparator(Bt,At,Mt)),lt&&(Bt=lt+Bt),pt&&(Vt=Vt+pt),$t&&(Bt="-"+Bt),rt=Bt+(Tt&&wt||"")+Vt,rt},et.prototype.formatNumString=function(rt){rt===void 0&&(rt="");var ot=this.props,it=ot.format,ct=ot.allowEmptyFormatting,lt=ot.customNumerals,pt=rt;if(lt&&lt.length===10){var mt=new RegExp("["+lt.join("")+"]","g");pt=rt.replace(mt,function(Mt){return lt.indexOf(Mt).toString()})}return rt===""&&!ct?pt="":rt==="-"&&!it?pt="-":typeof it=="string"?pt=this.formatWithPattern(pt):typeof it=="function"?pt=it(pt):pt=this.formatAsNumber(pt),pt},et.prototype.formatValueProp=function(rt){var ot=this.props,it=ot.format,ct=ot.decimalScale,lt=ot.fixedDecimalScale,pt=ot.allowEmptyFormatting,mt=this.props,Mt=mt.value,bt=mt.isNumericString;Mt=isNil(Mt)?rt:Mt;var At=!Mt&&Mt!==0;if(At&&pt&&(Mt=""),At&&!pt)return"";typeof Mt=="number"&&(Mt=toNumericString(Mt),bt=!0),Mt==="Infinity"&&bt&&(Mt=""),bt&&!it&&typeof ct=="number"&&(Mt=roundToPrecision(Mt,ct,lt));var wt=bt?this.formatNumString(Mt):this.formatInput(Mt);return wt},et.prototype.formatNegation=function(rt){rt===void 0&&(rt="");var ot=this.props,it=ot.allowNegative,ct=new RegExp("(-)"),lt=new RegExp("(-)(.)*(-)"),pt=ct.test(rt),mt=lt.test(rt);return rt=rt.replace(/-/g,""),pt&&!mt&&it&&(rt="-"+rt),rt},et.prototype.formatInput=function(rt){rt===void 0&&(rt="");var ot=this.props,it=ot.format;return it||(rt=this.removePrefixAndSuffix(rt),rt=this.formatNegation(rt)),rt=this.removeFormatting(rt),this.formatNumString(rt)},et.prototype.isCharacterAFormat=function(rt,ot){var it=this.props,ct=it.format,lt=it.prefix,pt=it.suffix,mt=it.decimalScale,Mt=it.fixedDecimalScale,bt=this.getSeparators(),At=bt.decimalSeparator;return!!(typeof ct=="string"&&ct[rt]!=="#"||!ct&&(rt<lt.length||rt>=ot.length-pt.length||mt&&Mt&&ot[rt]===At))},et.prototype.correctInputValue=function(rt,ot,it){var ct=this,lt=this.props,pt=lt.format,mt=lt.allowNegative,Mt=lt.prefix,bt=lt.suffix,At=lt.decimalScale,wt=this.getSeparators(),Tt=wt.allowedDecimalSeparators,Rt=wt.decimalSeparator,Bt=this.state.numAsString||"",Vt=this.selectionBeforeInput,$t=Vt.selectionStart,Ft=Vt.selectionEnd,Ht=findChangedIndex(ot,it),Qt=Ht.start,_n=Ht.end;if(!pt&&Qt===_n&&Tt.indexOf(it[$t])!==-1){var hn=At===0?"":Rt;return it.substr(0,$t)+hn+it.substr($t+1,it.length)}var Mn=pt?0:Mt.length,kn=ot.length-(pt?0:bt.length);if(it.length>ot.length||!it.length||Qt===_n||$t===0&&Ft===ot.length||Qt===0&&_n===ot.length||$t===Mn&&Ft===kn)return it;var Cn=ot.substr(Qt,_n-Qt),yn=!![].concat(Cn).find(function($n,Vn){return ct.isCharacterAFormat(Vn+Qt,ot)});if(yn){var Ut=ot.substr(Qt),En={},vn=[];[].concat(Ut).forEach(function($n,Vn){ct.isCharacterAFormat(Vn+Qt,ot)?En[Vn]=$n:Vn>Cn.length-1&&vn.push($n)}),Object.keys(En).forEach(function($n){vn.length>$n?vn.splice($n,0,En[$n]):vn.push(En[$n])}),it=ot.substr(0,Qt)+vn.join("")}if(!pt){var wn=this.removeFormatting(it),Ln=splitDecimal(wn,mt),Kn=Ln.beforeDecimal,Rn=Ln.afterDecimal,Tn=Ln.addNegation,Un=rt<it.indexOf(Rt)+1;if(wn.length<Bt.length&&Un&&Kn===""&&!parseFloat(Rn))return Tn?"-":""}return it},et.prototype.updateValue=function(rt){var ot=rt.formattedValue,it=rt.input,ct=rt.setCaretPosition;ct===void 0&&(ct=!0);var lt=rt.source,pt=rt.event,mt=rt.numAsString,Mt=rt.caretPos,bt=this.props,At=bt.onValueChange,wt=this.state,Tt=wt.value;if(it){if(Mt===void 0&&ct){var Rt=rt.inputValue||it.value,Bt=getCurrentCaretPosition(it);it.value=ot,Mt=this.getCaretPosition(Rt,ot,Bt)}it.value=ot,ct&&this.setPatchedCaretPosition(it,Mt,ot)}mt===void 0&&(mt=this.removeFormatting(ot)),ot!==Tt&&(this.setState({value:ot,numAsString:mt}),At(this.getValueObject(ot,mt),{event:pt,source:lt}))},et.prototype.onChange=function(rt){var ot=rt.target,it=ot.value,ct=this,lt=ct.state,pt=ct.props,mt=pt.isAllowed,Mt=lt.value||"",bt=getCurrentCaretPosition(ot);it=this.correctInputValue(bt,Mt,it);var At=this.formatInput(it)||"",wt=this.removeFormatting(At),Tt=this.getValueObject(At,wt),Rt=mt(Tt);Rt||(At=Mt),this.updateValue({formattedValue:At,numAsString:wt,inputValue:it,input:ot,event:rt,source:"event"}),Rt&&pt.onChange(rt)},et.prototype.onBlur=function(rt){var ot=this,it=ot.props,ct=ot.state,lt=it.format,pt=it.onBlur,mt=it.allowLeadingZeros,Mt=ct.numAsString,bt=ct.value;if(this.focusedElm=null,clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout),!lt){isNaN(parseFloat(Mt))&&(Mt=""),mt||(Mt=fixLeadingZero(Mt));var At=this.formatNumString(Mt);if(At!==bt){this.updateValue({formattedValue:At,numAsString:Mt,input:rt.target,setCaretPosition:!1,event:rt,source:"event"}),pt(rt);return}}pt(rt)},et.prototype.onKeyDown=function(rt){var ot=rt.target,it=rt.key,ct=ot.selectionStart,lt=ot.selectionEnd,pt=ot.value;pt===void 0&&(pt="");var mt,Mt=this.props,bt=Mt.decimalScale,At=Mt.fixedDecimalScale,wt=Mt.prefix,Tt=Mt.suffix,Rt=Mt.format,Bt=Mt.onKeyDown,Vt=bt!==void 0&&At,$t=this.getNumberRegex(!1,Vt),Ft=new RegExp("-"),Ht=typeof Rt=="string";if(this.selectionBeforeInput={selectionStart:ct,selectionEnd:lt},it==="ArrowLeft"||it==="Backspace"?mt=ct-1:it==="ArrowRight"?mt=ct+1:it==="Delete"&&(mt=ct),mt===void 0||ct!==lt){Bt(rt);return}var Qt=mt,_n=Ht?Rt.indexOf("#"):wt.length,hn=Ht?Rt.lastIndexOf("#")+1:pt.length-Tt.length;if(it==="ArrowLeft"||it==="ArrowRight"){var Mn=it==="ArrowLeft"?"left":"right";Qt=this.correctCaretPosition(pt,mt,Mn)}else if(it==="Delete"&&!$t.test(pt[mt])&&!Ft.test(pt[mt]))for(;!$t.test(pt[Qt])&&Qt<hn;)Qt++;else if(it==="Backspace"&&!$t.test(pt[mt])){if(ct<=_n+1&&pt[0]==="-"&&typeof Rt>"u"){var kn=pt.substring(1);this.updateValue({formattedValue:kn,caretPos:Qt,input:ot,event:rt,source:"event"})}else if(!Ft.test(pt[mt])){for(;!$t.test(pt[Qt-1])&&Qt>_n;)Qt--;Qt=this.correctCaretPosition(pt,Qt,"left")}}(Qt!==mt||mt<_n||mt>hn)&&(rt.preventDefault(),this.setPatchedCaretPosition(ot,Qt,pt)),rt.isUnitTestRun&&this.setPatchedCaretPosition(ot,Qt,pt),Bt(rt)},et.prototype.onMouseUp=function(rt){var ot=rt.target,it=ot.selectionStart,ct=ot.selectionEnd,lt=ot.value;if(lt===void 0&&(lt=""),it===ct){var pt=this.correctCaretPosition(lt,it);pt!==it&&this.setPatchedCaretPosition(ot,pt,lt)}this.props.onMouseUp(rt)},et.prototype.onFocus=function(rt){var ot=this;rt.persist(),this.focusedElm=rt.target,this.focusTimeout=setTimeout(function(){var it=rt.target,ct=it.selectionStart,lt=it.selectionEnd,pt=it.value;pt===void 0&&(pt="");var mt=ot.correctCaretPosition(pt,ct);mt!==ct&&!(ct===0&&lt===pt.length)&&ot.setPatchedCaretPosition(it,mt,pt),ot.props.onFocus(rt)},0)},et.prototype.render=function(){var rt=this.props,ot=rt.type,it=rt.displayType,ct=rt.customInput,lt=rt.renderText,pt=rt.getInputRef,mt=rt.format;rt.thousandSeparator,rt.decimalSeparator,rt.allowedDecimalSeparators,rt.thousandsGroupStyle,rt.decimalScale,rt.fixedDecimalScale,rt.prefix,rt.suffix,rt.removeFormatting,rt.mask,rt.defaultValue,rt.isNumericString,rt.allowNegative,rt.allowEmptyFormatting,rt.allowLeadingZeros,rt.onValueChange,rt.isAllowed,rt.customNumerals,rt.onChange,rt.onKeyDown,rt.onMouseUp,rt.onFocus,rt.onBlur,rt.value;var Mt=objectWithoutProperties(rt,["type","displayType","customInput","renderText","getInputRef","format","thousandSeparator","decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","decimalScale","fixedDecimalScale","prefix","suffix","removeFormatting","mask","defaultValue","isNumericString","allowNegative","allowEmptyFormatting","allowLeadingZeros","onValueChange","isAllowed","customNumerals","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value"]),bt=Mt,At=this.state,wt=At.value,Tt=At.mounted,Rt=Tt&&addInputMode(mt)?"numeric":void 0,Bt=Object.assign({inputMode:Rt},bt,{type:ot,value:wt,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if(it==="text")return lt?lt(wt,bt)||null:React.createElement("span",Object.assign({},bt,{ref:pt}),wt);if(ct){var Vt=ct;return React.createElement(Vt,Object.assign({},Bt,{ref:pt}))}return React.createElement("input",Object.assign({},Bt,{ref:pt}))},et}(React.Component);NumberFormat.defaultProps=defaultProps$6;const formField="_formField_1r5g7_1",disabled="_disabled_1r5g7_6",label="_label_1r5g7_6",focus$1="_focus_1r5g7_9",inputWrapper="_inputWrapper_1r5g7_9",error$1="_error_1r5g7_13",helperText$1="_helperText_1r5g7_13",styles$K={formField,disabled,label,focus:focus$1,inputWrapper,error:error$1,helperText:helperText$1},FormField2=({onClickLabel:_e,label:et,expandLabel:nt,children:rt,className:ot,error:it,disabled:ct,helperText:lt})=>jsxRuntimeExports.jsxs("div",{className:clsx$2(styles$K.formField,nt&&styles$K.focus,it&&styles$K.error,ct&&styles$K.disabled,ot),children:[et&&jsxRuntimeExports.jsx("span",{className:styles$K.label,onClick:_e,children:et}),rt,lt&&jsxRuntimeExports.jsx("small",{className:styles$K.helperText,children:lt})]}),PhoneIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"m20.487 17.14-4.065-3.696a1 1 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a1 1 0 0 0 .648-.291l1.86-2.171a.997.997 0 0 0-.085-1.39"})}),PasswordIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M12 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 1 1 10 0v2zm-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3"})}),EyeOnIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"icon icon-tabler icons-tabler-outline icon-tabler-eye",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{stroke:"none",d:"M0 0h24v24H0z"}),jsxRuntimeExports.jsx("path",{d:"M10 12a2 2 0 1 0 4 0 2 2 0 0 0-4 0"}),jsxRuntimeExports.jsx("path",{d:"M21 12q-3.6 6-9 6t-9-6q3.6-6 9-6t9 6"})]}),EyeOffIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"icon icon-tabler icons-tabler-outline icon-tabler-eye-closed",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{stroke:"none",d:"M0 0h24v24H0z"}),jsxRuntimeExports.jsx("path",{d:"M21 9q-3.6 4-9 4T3 9M3 15l2.5-3.8M21 14.976 18.508 11.2M9 17l.5-4M15 17l-.5-4"})]}),InputField=reactExports.forwardRef(({id:_e,name:et,value:nt,label:rt,onChange:ot,onFocus:it,onBlur:ct,error:lt,helperText:pt,placeholder:mt,multiline:Mt,autoComplete:bt="none",spellCheck:At=!1,readOnly:wt,disabled:Tt,className:Rt,inputProps:Bt,textareaProps:Vt,password:$t,format:Ft,imaskprops:Ht,phoneInput:Qt,moneyInput:_n,searchInput:hn,defaultValue:Mn,allowLeadingZero:kn,size:Cn,maxLength:yn,allowDot:Ut=!0,icon:En,onKeyDown:vn=()=>{},variant:wn="primary",prefixIcon:Ln},Kn)=>{var jr;const Rn=reactExports.useRef(null),[Tn,Un]=reactExports.useState(!1),[$n,Vn]=reactExports.useState(!1),[tr,Jn]=reactExports.useState(!1),wr=reactExports.useMemo(()=>Mt?jsxRuntimeExports.jsx("textarea",{...Vt,id:_e||et,name:et,value:nt,onChange:Zt=>{typeof ot=="function"&&ot(Zt)},maxLength:yn,placeholder:mt,disabled:Tt||wt,readOnly:wt,autoComplete:bt,defaultValue:Mn,spellCheck:At,onKeyDown:vn,onBlur:Zt=>{Un(!1),typeof ct=="function"&&ct(Zt)},onFocus:Zt=>{Un(!0),typeof it=="function"&&it(Zt)},ref:Zt=>{Rn.current=Zt,typeof Kn=="function"&&Kn(Zt)}}):Ft||_n||Qt?jsxRuntimeExports.jsx(NumberFormat,{...Ht,value:nt,defaultValue:Mn,disabled:Tt||wt,mask:Ft,allowNegative:!1,getInputRef:Zt=>{Rn.current=Zt,typeof Kn=="function"&&Kn(Zt)},onValueChange:({value:Zt})=>{Vn(!!Zt),typeof ot=="function"&&ot(Zt)},onBlur:Zt=>{Un(!1),typeof ct=="function"&&ct(Zt)},onFocus:Zt=>{Un(!0),typeof it=="function"&&it(Zt)},allowLeadingZeros:kn,thousandSeparator:_n?".":!1,decimalSeparator:_n?",":".",placeholder:mt,isAllowed:Zt=>{const{value:hr,floatValue:lo}=Zt;if(typeof lo>"u"||typeof hr>"u")return!0;if(Ut){if(kn)if(yn){if(hr.length<=yn)return!0}else return!0;else if(hr.charAt(0)!=="0")if(yn){if(hr.length<=yn)return!0}else return!0}else if(hr.charAt(0)!=="."){if(kn)if(yn){if(hr.length<=yn)return!0}else return!0;else if(hr.charAt(0)!=="0")if(yn){if(hr.length<=yn)return!0}else return!0}}}):jsxRuntimeExports.jsx("input",{id:_e||et,name:et,value:nt,onChange:ot,onKeyDown:vn,placeholder:mt,disabled:Tt||wt,maxLength:yn,defaultValue:Mn,readOnly:wt,autoComplete:bt,spellCheck:At,type:$t&&!tr?"password":"text",onBlur:Zt=>{Un(!1),typeof ct=="function"&&ct(Zt)},onFocus:Zt=>{Un(!0),typeof it=="function"&&it(Zt)},ref:Zt=>{Rn.current=Zt,typeof Kn=="function"&&Kn(Zt)},...Bt},et),[vn,kn,Mt,nt,Tt,bt,_e,et,ct,it,ot,mt,wt,yn,Kn,At,Vt,Bt,$t,tr,Ft,Ht,Qt,_n,Mn,Ut]);return reactExports.useEffect(()=>{var Zt;(Zt=Rn.current)!=null&&Zt.value?Vn(!0):Vn(!1)},[(jr=Rn.current)==null?void 0:jr.value]),jsxRuntimeExports.jsx(FormField2,{className:Rt,error:lt,helperText:pt,children:jsxRuntimeExports.jsxs("label",{className:clsx$2(styles$L.formControl,$t&&styles$L.password,Cn&&styles$L[Cn],Qt&&styles$L.phoneInput,(_n||hn)&&styles$L.moneyInput,Tn&&styles$L.focused,wn==="secondary"&&styles$L.secondary,$n&&styles$L.filled,Tt&&styles$L.disabled),children:[Ln?jsxRuntimeExports.jsx("div",{className:styles$L.password,children:Ln}):null,Qt?jsxRuntimeExports.jsxs("div",{className:styles$L.phoneIcon,children:[jsxRuntimeExports.jsx(PhoneIcon,{}),jsxRuntimeExports.jsx("span",{children:"+62 -"})]}):null,$t?jsxRuntimeExports.jsx("div",{className:styles$L.password,children:jsxRuntimeExports.jsx(PasswordIcon,{})}):null,wr,En,$t&&jsxRuntimeExports.jsx("button",{type:"button",className:styles$L.eyeBtn,onClick:()=>{var Zt;(Zt=Rn==null?void 0:Rn.current)==null||Zt.focus(),Jn(!tr)},children:tr?jsxRuntimeExports.jsx(EyeOnIcon,{}):jsxRuntimeExports.jsx(EyeOffIcon,{})})]})})}),InputField$1=reactExports.memo(InputField),REGISTER_URL="/webapi/user/regist",REQUEST_OTP_URL="/api/user/sendCode",VERIFY_OTP_URL="/user/verify-otp",UPDATE_URL="/webapi/User/editUserInfo",UPDATE_LANGUAGE_URL="/user/update-language",FORGOT_PASSWORD_URL="/webapi/user/forgetpassword",VERIFY_FORGOT_PASSWORD_URL="/webapi/user/verifyCodeForgetPwd",RESET_PASSWORD_URL="/user/reset-password",CHANGE_PASSWORD_URL="/webapi/user/changepwd",DELETE_ACCOUNT="/webapi/user/destroyaccount",VERIFY_PASSWORD="/webapi/user/verifypassword",CHANGE_PHONENUMBER="/webapi/user/changephone",userService={register:_e=>axios.post(REGISTER_URL,_e),requestOtp:_e=>axios.post(REQUEST_OTP_URL,_e),verifyOtp:_e=>axios.post(VERIFY_OTP_URL,_e),verifyPasword:_e=>axios.post(VERIFY_PASSWORD,_e),forgotPassword:_e=>axios.post(FORGOT_PASSWORD_URL,_e),verifyForgotPassword:_e=>axios.post(VERIFY_FORGOT_PASSWORD_URL,_e),resetPassword:_e=>axios.patch(RESET_PASSWORD_URL,_e),changePassword:_e=>axios.patch(CHANGE_PASSWORD_URL,_e),changePhoneNumber:_e=>axios.patch(CHANGE_PHONENUMBER,_e),update:_e=>axios.post(UPDATE_URL,_e),deleteAccount:_e=>axios.post(DELETE_ACCOUNT,_e),updateLanguage:_e=>axios.patch(UPDATE_LANGUAGE_URL,{language:_e})};function Cache(_e){this._maxSize=_e,this.clear()}Cache.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Cache.prototype.get=function(_e){return this._values[_e]};Cache.prototype.set=function(_e,et){return this._size>=this._maxSize&&this.clear(),_e in this._values||this._size++,this._values[_e]=et};var SPLIT_REGEX=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DIGIT_REGEX=/^\d+$/,LEAD_DIGIT_REGEX=/^\d/,SPEC_CHAR_REGEX=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,CLEAN_QUOTES_REGEX=/^\s*(['"]?)(.*?)(\1)\s*$/,MAX_CACHE_SIZE=512,pathCache=new Cache(MAX_CACHE_SIZE),setCache=new Cache(MAX_CACHE_SIZE),getCache=new Cache(MAX_CACHE_SIZE),propertyExpr={Cache,split,normalizePath,setter:function(_e){var et=normalizePath(_e);return setCache.get(_e)||setCache.set(_e,function(rt,ot){for(var it=0,ct=et.length,lt=rt;it<ct-1;){var pt=et[it];if(pt==="__proto__"||pt==="constructor"||pt==="prototype")return rt;lt=lt[et[it++]]}lt[et[it]]=ot})},getter:function(_e,et){var nt=normalizePath(_e);return getCache.get(_e)||getCache.set(_e,function(ot){for(var it=0,ct=nt.length;it<ct;)if(ot!=null||!et)ot=ot[nt[it++]];else return;return ot})},join:function(_e){return _e.reduce(function(et,nt){return et+(isQuoted(nt)||DIGIT_REGEX.test(nt)?"["+nt+"]":(et?".":"")+nt)},"")},forEach:function(_e,et,nt){forEach(Array.isArray(_e)?_e:split(_e),et,nt)}};function normalizePath(_e){return pathCache.get(_e)||pathCache.set(_e,split(_e).map(function(et){return et.replace(CLEAN_QUOTES_REGEX,"$2")}))}function split(_e){return _e.match(SPLIT_REGEX)||[""]}function forEach(_e,et,nt){var rt=_e.length,ot,it,ct,lt;for(it=0;it<rt;it++)ot=_e[it],ot&&(shouldBeQuoted(ot)&&(ot='"'+ot+'"'),lt=isQuoted(ot),ct=!lt&&/^\d+$/.test(ot),et.call(nt,ot,lt,ct,it,_e))}function isQuoted(_e){return typeof _e=="string"&&_e&&["'",'"'].indexOf(_e.charAt(0))!==-1}function hasLeadingNumber(_e){return _e.match(LEAD_DIGIT_REGEX)&&!_e.match(DIGIT_REGEX)}function hasSpecialChars(_e){return SPEC_CHAR_REGEX.test(_e)}function shouldBeQuoted(_e){return!isQuoted(_e)&&(hasLeadingNumber(_e)||hasSpecialChars(_e))}const reWords=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,words=_e=>_e.match(reWords)||[],upperFirst$1=_e=>_e[0].toUpperCase()+_e.slice(1),join=(_e,et)=>words(_e).join(et).toLowerCase(),camelCase=_e=>words(_e).reduce((et,nt)=>`${et}${et?nt[0].toUpperCase()+nt.slice(1).toLowerCase():nt.toLowerCase()}`,""),pascalCase=_e=>upperFirst$1(camelCase(_e)),snakeCase=_e=>join(_e,"_"),kebabCase=_e=>join(_e,"-"),sentenceCase=_e=>upperFirst$1(join(_e," ")),titleCase=_e=>words(_e).map(upperFirst$1).join(" ");var tinyCase={words,upperFirst:upperFirst$1,camelCase,pascalCase,snakeCase,kebabCase,sentenceCase,titleCase},toposort$2={exports:{}};toposort$2.exports=function(_e){return toposort(uniqueNodes(_e),_e)};toposort$2.exports.array=toposort;function toposort(_e,et){var nt=_e.length,rt=new Array(nt),ot={},it=nt,ct=makeOutgoingEdges(et),lt=makeNodesHash(_e);for(et.forEach(function(mt){if(!lt.has(mt[0])||!lt.has(mt[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});it--;)ot[it]||pt(_e[it],it,new Set);return rt;function pt(mt,Mt,bt){if(bt.has(mt)){var At;try{At=", node was:"+JSON.stringify(mt)}catch{At=""}throw new Error("Cyclic dependency"+At)}if(!lt.has(mt))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(mt));if(!ot[Mt]){ot[Mt]=!0;var wt=ct.get(mt)||new Set;if(wt=Array.from(wt),Mt=wt.length){bt.add(mt);do{var Tt=wt[--Mt];pt(Tt,lt.get(Tt),bt)}while(Mt);bt.delete(mt)}rt[--nt]=mt}}}function uniqueNodes(_e){for(var et=new Set,nt=0,rt=_e.length;nt<rt;nt++){var ot=_e[nt];et.add(ot[0]),et.add(ot[1])}return Array.from(et)}function makeOutgoingEdges(_e){for(var et=new Map,nt=0,rt=_e.length;nt<rt;nt++){var ot=_e[nt];et.has(ot[0])||et.set(ot[0],new Set),et.has(ot[1])||et.set(ot[1],new Set),et.get(ot[0]).add(ot[1])}return et}function makeNodesHash(_e){for(var et=new Map,nt=0,rt=_e.length;nt<rt;nt++)et.set(_e[nt],nt);return et}var toposortExports=toposort$2.exports;const toposort$1=getDefaultExportFromCjs(toposortExports),toString=Object.prototype.toString,errorToString=Error.prototype.toString,regExpToString=RegExp.prototype.toString,symbolToString=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",SYMBOL_REGEXP=/^Symbol\((.*)\)(.*)$/;function printNumber(_e){return _e!=+_e?"NaN":_e===0&&1/_e<0?"-0":""+_e}function printSimpleValue(_e,et=!1){if(_e==null||_e===!0||_e===!1)return""+_e;const nt=typeof _e;if(nt==="number")return printNumber(_e);if(nt==="string")return et?`"${_e}"`:_e;if(nt==="function")return"[Function "+(_e.name||"anonymous")+"]";if(nt==="symbol")return symbolToString.call(_e).replace(SYMBOL_REGEXP,"Symbol($1)");const rt=toString.call(_e).slice(8,-1);return rt==="Date"?isNaN(_e.getTime())?""+_e:_e.toISOString(_e):rt==="Error"||_e instanceof Error?"["+errorToString.call(_e)+"]":rt==="RegExp"?regExpToString.call(_e):null}function printValue(_e,et){let nt=printSimpleValue(_e,et);return nt!==null?nt:JSON.stringify(_e,function(rt,ot){let it=printSimpleValue(this[rt],et);return it!==null?it:ot},2)}function toArray$1(_e){return _e==null?[]:[].concat(_e)}let _Symbol$toStringTag,strReg=/\$\{\s*(\w+)\s*\}/g;_Symbol$toStringTag=Symbol.toStringTag;class ValidationError extends Error{static formatError(et,nt){const rt=nt.label||nt.path||"this";return rt!==nt.path&&(nt=Object.assign({},nt,{path:rt})),typeof et=="string"?et.replace(strReg,(ot,it)=>printValue(nt[it])):typeof et=="function"?et(nt):et}static isError(et){return et&&et.name==="ValidationError"}constructor(et,nt,rt,ot,it){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[_Symbol$toStringTag]="Error",this.name="ValidationError",this.value=nt,this.path=rt,this.type=ot,this.errors=[],this.inner=[],toArray$1(et).forEach(ct=>{if(ValidationError.isError(ct)){this.errors.push(...ct.errors);const lt=ct.inner.length?ct.inner:[ct];this.inner.push(...lt)}else this.errors.push(ct)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!it&&Error.captureStackTrace&&Error.captureStackTrace(this,ValidationError)}}let mixed={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:_e,type:et,value:nt,originalValue:rt})=>{const ot=rt!=null&&rt!==nt?` (cast from the value \`${printValue(rt,!0)}\`).`:".";return et!=="mixed"?`${_e} must be a \`${et}\` type, but the final value was: \`${printValue(nt,!0)}\``+ot:`${_e} must match the configured type. The validated value was: \`${printValue(nt,!0)}\``+ot}},string={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},number={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date$2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},boolean={isValue:"${path} field must be ${value}"},object={noUnknown:"${path} field has unspecified keys: ${unknown}"},array={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},tuple={notType:_e=>{const{path:et,value:nt,spec:rt}=_e,ot=rt.types.length;if(Array.isArray(nt)){if(nt.length<ot)return`${et} tuple value has too few items, expected a length of ${ot} but got ${nt.length} for value: \`${printValue(nt,!0)}\``;if(nt.length>ot)return`${et} tuple value has too many items, expected a length of ${ot} but got ${nt.length} for value: \`${printValue(nt,!0)}\``}return ValidationError.formatError(mixed.notType,_e)}};Object.assign(Object.create(null),{mixed,string,number,date:date$2,object,array,boolean,tuple});const isSchema=_e=>_e&&_e.__isYupSchema__;class Condition{static fromOptions(et,nt){if(!nt.then&&!nt.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:rt,then:ot,otherwise:it}=nt,ct=typeof rt=="function"?rt:(...lt)=>lt.every(pt=>pt===rt);return new Condition(et,(lt,pt)=>{var mt;let Mt=ct(...lt)?ot:it;return(mt=Mt==null?void 0:Mt(pt))!=null?mt:pt})}constructor(et,nt){this.fn=void 0,this.refs=et,this.refs=et,this.fn=nt}resolve(et,nt){let rt=this.refs.map(it=>it.getValue(nt==null?void 0:nt.value,nt==null?void 0:nt.parent,nt==null?void 0:nt.context)),ot=this.fn(rt,et,nt);if(ot===void 0||ot===et)return et;if(!isSchema(ot))throw new TypeError("conditions must return a schema object");return ot.resolve(nt)}}const prefixes={context:"$",value:"."};class Reference{constructor(et,nt={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof et!="string")throw new TypeError("ref must be a string, got: "+et);if(this.key=et.trim(),et==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===prefixes.context,this.isValue=this.key[0]===prefixes.value,this.isSibling=!this.isContext&&!this.isValue;let rt=this.isContext?prefixes.context:this.isValue?prefixes.value:"";this.path=this.key.slice(rt.length),this.getter=this.path&&propertyExpr.getter(this.path,!0),this.map=nt.map}getValue(et,nt,rt){let ot=this.isContext?rt:this.isValue?et:nt;return this.getter&&(ot=this.getter(ot||{})),this.map&&(ot=this.map(ot)),ot}cast(et,nt){return this.getValue(et,nt==null?void 0:nt.parent,nt==null?void 0:nt.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(et){return et&&et.__isYupRef}}Reference.prototype.__isYupRef=!0;const isAbsent=_e=>_e==null;function createValidation(_e){function et({value:nt,path:rt="",options:ot,originalValue:it,schema:ct},lt,pt){const{name:mt,test:Mt,params:bt,message:At,skipAbsent:wt}=_e;let{parent:Tt,context:Rt,abortEarly:Bt=ct.spec.abortEarly,disableStackTrace:Vt=ct.spec.disableStackTrace}=ot;function $t(yn){return Reference.isRef(yn)?yn.getValue(nt,Tt,Rt):yn}function Ft(yn={}){var Ut;const En=Object.assign({value:nt,originalValue:it,label:ct.spec.label,path:yn.path||rt,spec:ct.spec},bt,yn.params);for(const wn of Object.keys(En))En[wn]=$t(En[wn]);const vn=new ValidationError(ValidationError.formatError(yn.message||At,En),nt,En.path,yn.type||mt,(Ut=yn.disableStackTrace)!=null?Ut:Vt);return vn.params=En,vn}const Ht=Bt?lt:pt;let Qt={path:rt,parent:Tt,type:mt,from:ot.from,createError:Ft,resolve:$t,options:ot,originalValue:it,schema:ct};const _n=yn=>{ValidationError.isError(yn)?Ht(yn):yn?pt(null):Ht(Ft())},hn=yn=>{ValidationError.isError(yn)?Ht(yn):lt(yn)};if(wt&&isAbsent(nt))return _n(!0);let kn;try{var Cn;if(kn=Mt.call(Qt,nt,Qt),typeof((Cn=kn)==null?void 0:Cn.then)=="function"){if(ot.sync)throw new Error(`Validation test of type: "${Qt.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(kn).then(_n,hn)}}catch(yn){hn(yn);return}_n(kn)}return et.OPTIONS=_e,et}function getIn(_e,et,nt,rt=nt){let ot,it,ct;return et?(propertyExpr.forEach(et,(lt,pt,mt)=>{let Mt=pt?lt.slice(1,lt.length-1):lt;_e=_e.resolve({context:rt,parent:ot,value:nt});let bt=_e.type==="tuple",At=mt?parseInt(Mt,10):0;if(_e.innerType||bt){if(bt&&!mt)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${ct}" must contain an index to the tuple element, e.g. "${ct}[0]"`);if(nt&&At>=nt.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${lt}, in the path: ${et}. because there is no value at that index. `);ot=nt,nt=nt&&nt[At],_e=bt?_e.spec.types[At]:_e.innerType}if(!mt){if(!_e.fields||!_e.fields[Mt])throw new Error(`The schema does not contain the path: ${et}. (failed at: ${ct} which is a type: "${_e.type}")`);ot=nt,nt=nt&&nt[Mt],_e=_e.fields[Mt]}it=Mt,ct=pt?"["+lt+"]":"."+lt}),{schema:_e,parent:ot,parentPath:it}):{parent:ot,parentPath:et,schema:_e}}class ReferenceSet extends Set{describe(){const et=[];for(const nt of this.values())et.push(Reference.isRef(nt)?nt.describe():nt);return et}resolveAll(et){let nt=[];for(const rt of this.values())nt.push(et(rt));return nt}clone(){return new ReferenceSet(this.values())}merge(et,nt){const rt=this.clone();return et.forEach(ot=>rt.add(ot)),nt.forEach(ot=>rt.delete(ot)),rt}}function clone(_e,et=new Map){if(isSchema(_e)||!_e||typeof _e!="object")return _e;if(et.has(_e))return et.get(_e);let nt;if(_e instanceof Date)nt=new Date(_e.getTime()),et.set(_e,nt);else if(_e instanceof RegExp)nt=new RegExp(_e),et.set(_e,nt);else if(Array.isArray(_e)){nt=new Array(_e.length),et.set(_e,nt);for(let rt=0;rt<_e.length;rt++)nt[rt]=clone(_e[rt],et)}else if(_e instanceof Map){nt=new Map,et.set(_e,nt);for(const[rt,ot]of _e.entries())nt.set(rt,clone(ot,et))}else if(_e instanceof Set){nt=new Set,et.set(_e,nt);for(const rt of _e)nt.add(clone(rt,et))}else if(_e instanceof Object){nt={},et.set(_e,nt);for(const[rt,ot]of Object.entries(_e))nt[rt]=clone(ot,et)}else throw Error(`Unable to clone ${_e}`);return nt}class Schema{constructor(et){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ReferenceSet,this._blacklist=new ReferenceSet,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mixed.notType)}),this.type=et.type,this._typeCheck=et.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},et==null?void 0:et.spec),this.withMutation(nt=>{nt.nonNullable()})}get _type(){return this.type}clone(et){if(this._mutate)return et&&Object.assign(this.spec,et),this;const nt=Object.create(Object.getPrototypeOf(this));return nt.type=this.type,nt._typeCheck=this._typeCheck,nt._whitelist=this._whitelist.clone(),nt._blacklist=this._blacklist.clone(),nt.internalTests=Object.assign({},this.internalTests),nt.exclusiveTests=Object.assign({},this.exclusiveTests),nt.deps=[...this.deps],nt.conditions=[...this.conditions],nt.tests=[...this.tests],nt.transforms=[...this.transforms],nt.spec=clone(Object.assign({},this.spec,et)),nt}label(et){let nt=this.clone();return nt.spec.label=et,nt}meta(...et){if(et.length===0)return this.spec.meta;let nt=this.clone();return nt.spec.meta=Object.assign(nt.spec.meta||{},et[0]),nt}withMutation(et){let nt=this._mutate;this._mutate=!0;let rt=et(this);return this._mutate=nt,rt}concat(et){if(!et||et===this)return this;if(et.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${et.type}`);let nt=this,rt=et.clone();const ot=Object.assign({},nt.spec,rt.spec);return rt.spec=ot,rt.internalTests=Object.assign({},nt.internalTests,rt.internalTests),rt._whitelist=nt._whitelist.merge(et._whitelist,et._blacklist),rt._blacklist=nt._blacklist.merge(et._blacklist,et._whitelist),rt.tests=nt.tests,rt.exclusiveTests=nt.exclusiveTests,rt.withMutation(it=>{et.tests.forEach(ct=>{it.test(ct.OPTIONS)})}),rt.transforms=[...nt.transforms,...rt.transforms],rt}isType(et){return et==null?!!(this.spec.nullable&&et===null||this.spec.optional&&et===void 0):this._typeCheck(et)}resolve(et){let nt=this;if(nt.conditions.length){let rt=nt.conditions;nt=nt.clone(),nt.conditions=[],nt=rt.reduce((ot,it)=>it.resolve(ot,et),nt),nt=nt.resolve(et)}return nt}resolveOptions(et){var nt,rt,ot,it;return Object.assign({},et,{from:et.from||[],strict:(nt=et.strict)!=null?nt:this.spec.strict,abortEarly:(rt=et.abortEarly)!=null?rt:this.spec.abortEarly,recursive:(ot=et.recursive)!=null?ot:this.spec.recursive,disableStackTrace:(it=et.disableStackTrace)!=null?it:this.spec.disableStackTrace})}cast(et,nt={}){let rt=this.resolve(Object.assign({value:et},nt)),ot=nt.assert==="ignore-optionality",it=rt._cast(et,nt);if(nt.assert!==!1&&!rt.isType(it)){if(ot&&isAbsent(it))return it;let ct=printValue(et),lt=printValue(it);throw new TypeError(`The value of ${nt.path||"field"} could not be cast to a value that satisfies the schema type: "${rt.type}". 

attempted value: ${ct} 
`+(lt!==ct?`result of cast: ${lt}`:""))}return it}_cast(et,nt){let rt=et===void 0?et:this.transforms.reduce((ot,it)=>it.call(this,ot,et,this),et);return rt===void 0&&(rt=this.getDefault(nt)),rt}_validate(et,nt={},rt,ot){let{path:it,originalValue:ct=et,strict:lt=this.spec.strict}=nt,pt=et;lt||(pt=this._cast(pt,Object.assign({assert:!1},nt)));let mt=[];for(let Mt of Object.values(this.internalTests))Mt&&mt.push(Mt);this.runTests({path:it,value:pt,originalValue:ct,options:nt,tests:mt},rt,Mt=>{if(Mt.length)return ot(Mt,pt);this.runTests({path:it,value:pt,originalValue:ct,options:nt,tests:this.tests},rt,ot)})}runTests(et,nt,rt){let ot=!1,{tests:it,value:ct,originalValue:lt,path:pt,options:mt}=et,Mt=Rt=>{ot||(ot=!0,nt(Rt,ct))},bt=Rt=>{ot||(ot=!0,rt(Rt,ct))},At=it.length,wt=[];if(!At)return bt([]);let Tt={value:ct,originalValue:lt,path:pt,options:mt,schema:this};for(let Rt=0;Rt<it.length;Rt++){const Bt=it[Rt];Bt(Tt,Mt,function($t){$t&&(Array.isArray($t)?wt.push(...$t):wt.push($t)),--At<=0&&bt(wt)})}}asNestedTest({key:et,index:nt,parent:rt,parentPath:ot,originalParent:it,options:ct}){const lt=et??nt;if(lt==null)throw TypeError("Must include `key` or `index` for nested validations");const pt=typeof lt=="number";let mt=rt[lt];const Mt=Object.assign({},ct,{strict:!0,parent:rt,value:mt,originalValue:it[lt],key:void 0,[pt?"index":"key"]:lt,path:pt||lt.includes(".")?`${ot||""}[${mt?lt:`"${lt}"`}]`:(ot?`${ot}.`:"")+et});return(bt,At,wt)=>this.resolve(Mt)._validate(mt,Mt,At,wt)}validate(et,nt){var rt;let ot=this.resolve(Object.assign({},nt,{value:et})),it=(rt=nt==null?void 0:nt.disableStackTrace)!=null?rt:ot.spec.disableStackTrace;return new Promise((ct,lt)=>ot._validate(et,nt,(pt,mt)=>{ValidationError.isError(pt)&&(pt.value=mt),lt(pt)},(pt,mt)=>{pt.length?lt(new ValidationError(pt,mt,void 0,void 0,it)):ct(mt)}))}validateSync(et,nt){var rt;let ot=this.resolve(Object.assign({},nt,{value:et})),it,ct=(rt=nt==null?void 0:nt.disableStackTrace)!=null?rt:ot.spec.disableStackTrace;return ot._validate(et,Object.assign({},nt,{sync:!0}),(lt,pt)=>{throw ValidationError.isError(lt)&&(lt.value=pt),lt},(lt,pt)=>{if(lt.length)throw new ValidationError(lt,et,void 0,void 0,ct);it=pt}),it}isValid(et,nt){return this.validate(et,nt).then(()=>!0,rt=>{if(ValidationError.isError(rt))return!1;throw rt})}isValidSync(et,nt){try{return this.validateSync(et,nt),!0}catch(rt){if(ValidationError.isError(rt))return!1;throw rt}}_getDefault(et){let nt=this.spec.default;return nt==null?nt:typeof nt=="function"?nt.call(this,et):clone(nt)}getDefault(et){return this.resolve(et||{})._getDefault(et)}default(et){return arguments.length===0?this._getDefault():this.clone({default:et})}strict(et=!0){return this.clone({strict:et})}nullability(et,nt){const rt=this.clone({nullable:et});return rt.internalTests.nullable=createValidation({message:nt,name:"nullable",test(ot){return ot===null?this.schema.spec.nullable:!0}}),rt}optionality(et,nt){const rt=this.clone({optional:et});return rt.internalTests.optionality=createValidation({message:nt,name:"optionality",test(ot){return ot===void 0?this.schema.spec.optional:!0}}),rt}optional(){return this.optionality(!0)}defined(et=mixed.defined){return this.optionality(!1,et)}nullable(){return this.nullability(!0)}nonNullable(et=mixed.notNull){return this.nullability(!1,et)}required(et=mixed.required){return this.clone().withMutation(nt=>nt.nonNullable(et).defined(et))}notRequired(){return this.clone().withMutation(et=>et.nullable().optional())}transform(et){let nt=this.clone();return nt.transforms.push(et),nt}test(...et){let nt;if(et.length===1?typeof et[0]=="function"?nt={test:et[0]}:nt=et[0]:et.length===2?nt={name:et[0],test:et[1]}:nt={name:et[0],message:et[1],test:et[2]},nt.message===void 0&&(nt.message=mixed.default),typeof nt.test!="function")throw new TypeError("`test` is a required parameters");let rt=this.clone(),ot=createValidation(nt),it=nt.exclusive||nt.name&&rt.exclusiveTests[nt.name]===!0;if(nt.exclusive&&!nt.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return nt.name&&(rt.exclusiveTests[nt.name]=!!nt.exclusive),rt.tests=rt.tests.filter(ct=>!(ct.OPTIONS.name===nt.name&&(it||ct.OPTIONS.test===ot.OPTIONS.test))),rt.tests.push(ot),rt}when(et,nt){!Array.isArray(et)&&typeof et!="string"&&(nt=et,et=".");let rt=this.clone(),ot=toArray$1(et).map(it=>new Reference(it));return ot.forEach(it=>{it.isSibling&&rt.deps.push(it.key)}),rt.conditions.push(typeof nt=="function"?new Condition(ot,nt):Condition.fromOptions(ot,nt)),rt}typeError(et){let nt=this.clone();return nt.internalTests.typeError=createValidation({message:et,name:"typeError",skipAbsent:!0,test(rt){return this.schema._typeCheck(rt)?!0:this.createError({params:{type:this.schema.type}})}}),nt}oneOf(et,nt=mixed.oneOf){let rt=this.clone();return et.forEach(ot=>{rt._whitelist.add(ot),rt._blacklist.delete(ot)}),rt.internalTests.whiteList=createValidation({message:nt,name:"oneOf",skipAbsent:!0,test(ot){let it=this.schema._whitelist,ct=it.resolveAll(this.resolve);return ct.includes(ot)?!0:this.createError({params:{values:Array.from(it).join(", "),resolved:ct}})}}),rt}notOneOf(et,nt=mixed.notOneOf){let rt=this.clone();return et.forEach(ot=>{rt._blacklist.add(ot),rt._whitelist.delete(ot)}),rt.internalTests.blacklist=createValidation({message:nt,name:"notOneOf",test(ot){let it=this.schema._blacklist,ct=it.resolveAll(this.resolve);return ct.includes(ot)?this.createError({params:{values:Array.from(it).join(", "),resolved:ct}}):!0}}),rt}strip(et=!0){let nt=this.clone();return nt.spec.strip=et,nt}describe(et){const nt=(et?this.resolve(et):this).clone(),{label:rt,meta:ot,optional:it,nullable:ct}=nt.spec;return{meta:ot,label:rt,optional:it,nullable:ct,default:nt.getDefault(et),type:nt.type,oneOf:nt._whitelist.describe(),notOneOf:nt._blacklist.describe(),tests:nt.tests.map(pt=>({name:pt.OPTIONS.name,params:pt.OPTIONS.params})).filter((pt,mt,Mt)=>Mt.findIndex(bt=>bt.name===pt.name)===mt)}}}Schema.prototype.__isYupSchema__=!0;for(const _e of["validate","validateSync"])Schema.prototype[`${_e}At`]=function(et,nt,rt={}){const{parent:ot,parentPath:it,schema:ct}=getIn(this,et,nt,rt.context);return ct[_e](ot&&ot[it],Object.assign({},rt,{parent:ot,path:et}))};for(const _e of["equals","is"])Schema.prototype[_e]=Schema.prototype.oneOf;for(const _e of["not","nope"])Schema.prototype[_e]=Schema.prototype.notOneOf;let rEmail=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rUrl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rUUID=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,isTrimmed=_e=>isAbsent(_e)||_e===_e.trim(),objStringTag={}.toString();function create$6(){return new StringSchema}class StringSchema extends Schema{constructor(){super({type:"string",check(et){return et instanceof String&&(et=et.valueOf()),typeof et=="string"}}),this.withMutation(()=>{this.transform((et,nt,rt)=>{if(!rt.spec.coerce||rt.isType(et)||Array.isArray(et))return et;const ot=et!=null&&et.toString?et.toString():et;return ot===objStringTag?et:ot})})}required(et){return super.required(et).withMutation(nt=>nt.test({message:et||mixed.required,name:"required",skipAbsent:!0,test:rt=>!!rt.length}))}notRequired(){return super.notRequired().withMutation(et=>(et.tests=et.tests.filter(nt=>nt.OPTIONS.name!=="required"),et))}length(et,nt=string.length){return this.test({message:nt,name:"length",exclusive:!0,params:{length:et},skipAbsent:!0,test(rt){return rt.length===this.resolve(et)}})}min(et,nt=string.min){return this.test({message:nt,name:"min",exclusive:!0,params:{min:et},skipAbsent:!0,test(rt){return rt.length>=this.resolve(et)}})}max(et,nt=string.max){return this.test({name:"max",exclusive:!0,message:nt,params:{max:et},skipAbsent:!0,test(rt){return rt.length<=this.resolve(et)}})}matches(et,nt){let rt=!1,ot,it;return nt&&(typeof nt=="object"?{excludeEmptyString:rt=!1,message:ot,name:it}=nt:ot=nt),this.test({name:it||"matches",message:ot||string.matches,params:{regex:et},skipAbsent:!0,test:ct=>ct===""&&rt||ct.search(et)!==-1})}email(et=string.email){return this.matches(rEmail,{name:"email",message:et,excludeEmptyString:!0})}url(et=string.url){return this.matches(rUrl,{name:"url",message:et,excludeEmptyString:!0})}uuid(et=string.uuid){return this.matches(rUUID,{name:"uuid",message:et,excludeEmptyString:!1})}ensure(){return this.default("").transform(et=>et===null?"":et)}trim(et=string.trim){return this.transform(nt=>nt!=null?nt.trim():nt).test({message:et,name:"trim",test:isTrimmed})}lowercase(et=string.lowercase){return this.transform(nt=>isAbsent(nt)?nt:nt.toLowerCase()).test({message:et,name:"string_case",exclusive:!0,skipAbsent:!0,test:nt=>isAbsent(nt)||nt===nt.toLowerCase()})}uppercase(et=string.uppercase){return this.transform(nt=>isAbsent(nt)?nt:nt.toUpperCase()).test({message:et,name:"string_case",exclusive:!0,skipAbsent:!0,test:nt=>isAbsent(nt)||nt===nt.toUpperCase()})}}create$6.prototype=StringSchema.prototype;const isoReg=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function toNumber(_e,et=0){return Number(_e)||et}function parseIsoDate(_e){const et=isoReg.exec(_e);if(!et)return Date.parse?Date.parse(_e):Number.NaN;const nt={year:toNumber(et[1]),month:toNumber(et[2],1)-1,day:toNumber(et[3],1),hour:toNumber(et[4]),minute:toNumber(et[5]),second:toNumber(et[6]),millisecond:et[7]?toNumber(et[7].substring(0,3)):0,z:et[8]||void 0,plusMinus:et[9]||void 0,hourOffset:toNumber(et[10]),minuteOffset:toNumber(et[11])};if(nt.z===void 0&&nt.plusMinus===void 0)return new Date(nt.year,nt.month,nt.day,nt.hour,nt.minute,nt.second,nt.millisecond).valueOf();let rt=0;return nt.z!=="Z"&&nt.plusMinus!==void 0&&(rt=nt.hourOffset*60+nt.minuteOffset,nt.plusMinus==="+"&&(rt=0-rt)),Date.UTC(nt.year,nt.month,nt.day,nt.hour,nt.minute+rt,nt.second,nt.millisecond)}let invalidDate=new Date(""),isDate=_e=>Object.prototype.toString.call(_e)==="[object Date]";class DateSchema extends Schema{constructor(){super({type:"date",check(et){return isDate(et)&&!isNaN(et.getTime())}}),this.withMutation(()=>{this.transform((et,nt,rt)=>!rt.spec.coerce||rt.isType(et)||et===null?et:(et=parseIsoDate(et),isNaN(et)?DateSchema.INVALID_DATE:new Date(et)))})}prepareParam(et,nt){let rt;if(Reference.isRef(et))rt=et;else{let ot=this.cast(et);if(!this._typeCheck(ot))throw new TypeError(`\`${nt}\` must be a Date or a value that can be \`cast()\` to a Date`);rt=ot}return rt}min(et,nt=date$2.min){let rt=this.prepareParam(et,"min");return this.test({message:nt,name:"min",exclusive:!0,params:{min:et},skipAbsent:!0,test(ot){return ot>=this.resolve(rt)}})}max(et,nt=date$2.max){let rt=this.prepareParam(et,"max");return this.test({message:nt,name:"max",exclusive:!0,params:{max:et},skipAbsent:!0,test(ot){return ot<=this.resolve(rt)}})}}DateSchema.INVALID_DATE=invalidDate;DateSchema.prototype;function sortFields(_e,et=[]){let nt=[],rt=new Set,ot=new Set(et.map(([ct,lt])=>`${ct}-${lt}`));function it(ct,lt){let pt=propertyExpr.split(ct)[0];rt.add(pt),ot.has(`${lt}-${pt}`)||nt.push([lt,pt])}for(const ct of Object.keys(_e)){let lt=_e[ct];rt.add(ct),Reference.isRef(lt)&&lt.isSibling?it(lt.path,ct):isSchema(lt)&&"deps"in lt&&lt.deps.forEach(pt=>it(pt,ct))}return toposort$1.array(Array.from(rt),nt).reverse()}function findIndex(_e,et){let nt=1/0;return _e.some((rt,ot)=>{var it;if((it=et.path)!=null&&it.includes(rt))return nt=ot,!0}),nt}function sortByKeyOrder(_e){return(et,nt)=>findIndex(_e,et)-findIndex(_e,nt)}const parseJson=(_e,et,nt)=>{if(typeof _e!="string")return _e;let rt=_e;try{rt=JSON.parse(_e)}catch{}return nt.isType(rt)?rt:_e};function deepPartial(_e){if("fields"in _e){const et={};for(const[nt,rt]of Object.entries(_e.fields))et[nt]=deepPartial(rt);return _e.setFields(et)}if(_e.type==="array"){const et=_e.optional();return et.innerType&&(et.innerType=deepPartial(et.innerType)),et}return _e.type==="tuple"?_e.optional().clone({types:_e.spec.types.map(deepPartial)}):"optional"in _e?_e.optional():_e}const deepHas=(_e,et)=>{const nt=[...propertyExpr.normalizePath(et)];if(nt.length===1)return nt[0]in _e;let rt=nt.pop(),ot=propertyExpr.getter(propertyExpr.join(nt),!0)(_e);return!!(ot&&rt in ot)};let isObject$2=_e=>Object.prototype.toString.call(_e)==="[object Object]";function unknown(_e,et){let nt=Object.keys(_e.fields);return Object.keys(et).filter(rt=>nt.indexOf(rt)===-1)}const defaultSort=sortByKeyOrder([]);function create$3(_e){return new ObjectSchema(_e)}class ObjectSchema extends Schema{constructor(et){super({type:"object",check(nt){return isObject$2(nt)||typeof nt=="function"}}),this.fields=Object.create(null),this._sortErrors=defaultSort,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{et&&this.shape(et)})}_cast(et,nt={}){var rt;let ot=super._cast(et,nt);if(ot===void 0)return this.getDefault(nt);if(!this._typeCheck(ot))return ot;let it=this.fields,ct=(rt=nt.stripUnknown)!=null?rt:this.spec.noUnknown,lt=[].concat(this._nodes,Object.keys(ot).filter(bt=>!this._nodes.includes(bt))),pt={},mt=Object.assign({},nt,{parent:pt,__validating:nt.__validating||!1}),Mt=!1;for(const bt of lt){let At=it[bt],wt=bt in ot;if(At){let Tt,Rt=ot[bt];mt.path=(nt.path?`${nt.path}.`:"")+bt,At=At.resolve({value:Rt,context:nt.context,parent:pt});let Bt=At instanceof Schema?At.spec:void 0,Vt=Bt==null?void 0:Bt.strict;if(Bt!=null&&Bt.strip){Mt=Mt||bt in ot;continue}Tt=!nt.__validating||!Vt?At.cast(ot[bt],mt):ot[bt],Tt!==void 0&&(pt[bt]=Tt)}else wt&&!ct&&(pt[bt]=ot[bt]);(wt!==bt in pt||pt[bt]!==ot[bt])&&(Mt=!0)}return Mt?pt:ot}_validate(et,nt={},rt,ot){let{from:it=[],originalValue:ct=et,recursive:lt=this.spec.recursive}=nt;nt.from=[{schema:this,value:ct},...it],nt.__validating=!0,nt.originalValue=ct,super._validate(et,nt,rt,(pt,mt)=>{if(!lt||!isObject$2(mt)){ot(pt,mt);return}ct=ct||mt;let Mt=[];for(let bt of this._nodes){let At=this.fields[bt];!At||Reference.isRef(At)||Mt.push(At.asNestedTest({options:nt,key:bt,parent:mt,parentPath:nt.path,originalParent:ct}))}this.runTests({tests:Mt,value:mt,originalValue:ct,options:nt},rt,bt=>{ot(bt.sort(this._sortErrors).concat(pt),mt)})})}clone(et){const nt=super.clone(et);return nt.fields=Object.assign({},this.fields),nt._nodes=this._nodes,nt._excludedEdges=this._excludedEdges,nt._sortErrors=this._sortErrors,nt}concat(et){let nt=super.concat(et),rt=nt.fields;for(let[ot,it]of Object.entries(this.fields)){const ct=rt[ot];rt[ot]=ct===void 0?it:ct}return nt.withMutation(ot=>ot.setFields(rt,[...this._excludedEdges,...et._excludedEdges]))}_getDefault(et){if("default"in this.spec)return super._getDefault(et);if(!this._nodes.length)return;let nt={};return this._nodes.forEach(rt=>{var ot;const it=this.fields[rt];let ct=et;(ot=ct)!=null&&ot.value&&(ct=Object.assign({},ct,{parent:ct.value,value:ct.value[rt]})),nt[rt]=it&&"getDefault"in it?it.getDefault(ct):void 0}),nt}setFields(et,nt){let rt=this.clone();return rt.fields=et,rt._nodes=sortFields(et,nt),rt._sortErrors=sortByKeyOrder(Object.keys(et)),nt&&(rt._excludedEdges=nt),rt}shape(et,nt=[]){return this.clone().withMutation(rt=>{let ot=rt._excludedEdges;return nt.length&&(Array.isArray(nt[0])||(nt=[nt]),ot=[...rt._excludedEdges,...nt]),rt.setFields(Object.assign(rt.fields,et),ot)})}partial(){const et={};for(const[nt,rt]of Object.entries(this.fields))et[nt]="optional"in rt&&rt.optional instanceof Function?rt.optional():rt;return this.setFields(et)}deepPartial(){return deepPartial(this)}pick(et){const nt={};for(const rt of et)this.fields[rt]&&(nt[rt]=this.fields[rt]);return this.setFields(nt)}omit(et){const nt=Object.assign({},this.fields);for(const rt of et)delete nt[rt];return this.setFields(nt)}from(et,nt,rt){let ot=propertyExpr.getter(et,!0);return this.transform(it=>{if(!it)return it;let ct=it;return deepHas(it,et)&&(ct=Object.assign({},it),rt||delete ct[et],ct[nt]=ot(it)),ct})}json(){return this.transform(parseJson)}noUnknown(et=!0,nt=object.noUnknown){typeof et!="boolean"&&(nt=et,et=!0);let rt=this.test({name:"noUnknown",exclusive:!0,message:nt,test(ot){if(ot==null)return!0;const it=unknown(this.schema,ot);return!et||it.length===0||this.createError({params:{unknown:it.join(", ")}})}});return rt.spec.noUnknown=et,rt}unknown(et=!0,nt=object.noUnknown){return this.noUnknown(!et,nt)}transformKeys(et){return this.transform(nt=>{if(!nt)return nt;const rt={};for(const ot of Object.keys(nt))rt[et(ot)]=nt[ot];return rt})}camelCase(){return this.transformKeys(tinyCase.camelCase)}snakeCase(){return this.transformKeys(tinyCase.snakeCase)}constantCase(){return this.transformKeys(et=>tinyCase.snakeCase(et).toUpperCase())}describe(et){let nt=super.describe(et);nt.fields={};for(const[ot,it]of Object.entries(this.fields)){var rt;let ct=et;(rt=ct)!=null&&rt.value&&(ct=Object.assign({},ct,{parent:ct.value,value:ct.value[ot]})),nt.fields[ot]=it.describe(ct)}return nt}}create$3.prototype=ObjectSchema.prototype;var isCheckBoxInput=_e=>_e.type==="checkbox",isDateObject=_e=>_e instanceof Date,isNullOrUndefined=_e=>_e==null;const isObjectType=_e=>typeof _e=="object";var isObject$1=_e=>!isNullOrUndefined(_e)&&!Array.isArray(_e)&&isObjectType(_e)&&!isDateObject(_e),getEventValue=_e=>isObject$1(_e)&&_e.target?isCheckBoxInput(_e.target)?_e.target.checked:_e.target.value:_e,getNodeParentName=_e=>_e.substring(0,_e.search(/\.\d+(\.|$)/))||_e,isNameInFieldArray=(_e,et)=>_e.has(getNodeParentName(et)),isPlainObject=_e=>{const et=_e.constructor&&_e.constructor.prototype;return isObject$1(et)&&et.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(_e){let et;const nt=Array.isArray(_e);if(_e instanceof Date)et=new Date(_e);else if(_e instanceof Set)et=new Set(_e);else if(!(isWeb&&(_e instanceof Blob||_e instanceof FileList))&&(nt||isObject$1(_e)))if(et=nt?[]:{},!nt&&!isPlainObject(_e))et=_e;else for(const rt in _e)_e.hasOwnProperty(rt)&&(et[rt]=cloneObject(_e[rt]));else return _e;return et}var compact=_e=>Array.isArray(_e)?_e.filter(Boolean):[],isUndefined=_e=>_e===void 0,get=(_e,et,nt)=>{if(!et||!isObject$1(_e))return nt;const rt=compact(et.split(/[,[\].]+?/)).reduce((ot,it)=>isNullOrUndefined(ot)?ot:ot[it],_e);return isUndefined(rt)||rt===_e?isUndefined(_e[et])?nt:_e[et]:rt},isBoolean=_e=>typeof _e=="boolean";const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};React.createContext(null);var getProxyFormState=(_e,et,nt,rt=!0)=>{const ot={defaultValues:et._defaultValues};for(const it in _e)Object.defineProperty(ot,it,{get:()=>{const ct=it;return et._proxyFormState[ct]!==VALIDATION_MODE.all&&(et._proxyFormState[ct]=!rt||VALIDATION_MODE.all),_e[ct]}});return ot},isEmptyObject=_e=>isObject$1(_e)&&!Object.keys(_e).length,shouldRenderFormState=(_e,et,nt,rt)=>{nt(_e);const{name:ot,...it}=_e;return isEmptyObject(it)||Object.keys(it).length>=Object.keys(et).length||Object.keys(it).find(ct=>et[ct]===VALIDATION_MODE.all)},convertToArrayPayload=_e=>Array.isArray(_e)?_e:[_e];function useSubscribe(_e){const et=React.useRef(_e);et.current=_e,React.useEffect(()=>{const nt=!_e.disabled&&et.current.subject&&et.current.subject.subscribe({next:et.current.next});return()=>{nt&&nt.unsubscribe()}},[_e.disabled])}var isString=_e=>typeof _e=="string",generateWatchOutput=(_e,et,nt,rt,ot)=>isString(_e)?(rt&&et.watch.add(_e),get(nt,_e,ot)):Array.isArray(_e)?_e.map(it=>(rt&&et.watch.add(it),get(nt,it))):(rt&&(et.watchAll=!0),nt),isKey=_e=>/^\w*$/.test(_e),stringToPath=_e=>compact(_e.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(_e,et,nt)=>{let rt=-1;const ot=isKey(et)?[et]:stringToPath(et),it=ot.length,ct=it-1;for(;++rt<it;){const lt=ot[rt];let pt=nt;if(rt!==ct){const mt=_e[lt];pt=isObject$1(mt)||Array.isArray(mt)?mt:isNaN(+ot[rt+1])?{}:[]}_e[lt]=pt,_e=_e[lt]}return _e},appendErrors=(_e,et,nt,rt,ot)=>et?{...nt[_e],types:{...nt[_e]&&nt[_e].types?nt[_e].types:{},[rt]:ot||!0}}:{},getValidationModes=_e=>({isOnSubmit:!_e||_e===VALIDATION_MODE.onSubmit,isOnBlur:_e===VALIDATION_MODE.onBlur,isOnChange:_e===VALIDATION_MODE.onChange,isOnAll:_e===VALIDATION_MODE.all,isOnTouch:_e===VALIDATION_MODE.onTouched}),isWatched=(_e,et,nt)=>!nt&&(et.watchAll||et.watch.has(_e)||[...et.watch].some(rt=>_e.startsWith(rt)&&/^\.\w+/.test(_e.slice(rt.length))));const iterateFieldsByAction=(_e,et,nt,rt)=>{for(const ot of nt||Object.keys(_e)){const it=get(_e,ot);if(it){const{_f:ct,...lt}=it;if(ct){if(ct.refs&&ct.refs[0]&&et(ct.refs[0],ot)&&!rt)break;if(ct.ref&&et(ct.ref,ct.name)&&!rt)break;iterateFieldsByAction(lt,et)}else isObject$1(lt)&&iterateFieldsByAction(lt,et)}}};var updateFieldArrayRootError=(_e,et,nt)=>{const rt=compact(get(_e,nt));return set(rt,"root",et[nt]),set(_e,nt,rt),_e},isFileInput=_e=>_e.type==="file",isFunction=_e=>typeof _e=="function",isHTMLElement=_e=>{if(!isWeb)return!1;const et=_e?_e.ownerDocument:0;return _e instanceof(et&&et.defaultView?et.defaultView.HTMLElement:HTMLElement)},isMessage=_e=>isString(_e),isRadioInput=_e=>_e.type==="radio",isRegex=_e=>_e instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=_e=>{if(Array.isArray(_e)){if(_e.length>1){const et=_e.filter(nt=>nt&&nt.checked&&!nt.disabled).map(nt=>nt.value);return{value:et,isValid:!!et.length}}return _e[0].checked&&!_e[0].disabled?_e[0].attributes&&!isUndefined(_e[0].attributes.value)?isUndefined(_e[0].value)||_e[0].value===""?validResult:{value:_e[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=_e=>Array.isArray(_e)?_e.reduce((et,nt)=>nt&&nt.checked&&!nt.disabled?{isValid:!0,value:nt.value}:et,defaultReturn):defaultReturn;function getValidateError(_e,et,nt="validate"){if(isMessage(_e)||Array.isArray(_e)&&_e.every(isMessage)||isBoolean(_e)&&!_e)return{type:nt,message:isMessage(_e)?_e:"",ref:et}}var getValueAndMessage=_e=>isObject$1(_e)&&!isRegex(_e)?_e:{value:_e,message:""},validateField=async(_e,et,nt,rt,ot)=>{const{ref:it,refs:ct,required:lt,maxLength:pt,minLength:mt,min:Mt,max:bt,pattern:At,validate:wt,name:Tt,valueAsNumber:Rt,mount:Bt,disabled:Vt}=_e._f,$t=get(et,Tt);if(!Bt||Vt)return{};const Ft=ct?ct[0]:it,Ht=Ut=>{rt&&Ft.reportValidity&&(Ft.setCustomValidity(isBoolean(Ut)?"":Ut||""),Ft.reportValidity())},Qt={},_n=isRadioInput(it),hn=isCheckBoxInput(it),Mn=_n||hn,kn=(Rt||isFileInput(it))&&isUndefined(it.value)&&isUndefined($t)||isHTMLElement(it)&&it.value===""||$t===""||Array.isArray($t)&&!$t.length,Cn=appendErrors.bind(null,Tt,nt,Qt),yn=(Ut,En,vn,wn=INPUT_VALIDATION_RULES.maxLength,Ln=INPUT_VALIDATION_RULES.minLength)=>{const Kn=Ut?En:vn;Qt[Tt]={type:Ut?wn:Ln,message:Kn,ref:it,...Cn(Ut?wn:Ln,Kn)}};if(ot?!Array.isArray($t)||!$t.length:lt&&(!Mn&&(kn||isNullOrUndefined($t))||isBoolean($t)&&!$t||hn&&!getCheckboxValue(ct).isValid||_n&&!getRadioValue(ct).isValid)){const{value:Ut,message:En}=isMessage(lt)?{value:!!lt,message:lt}:getValueAndMessage(lt);if(Ut&&(Qt[Tt]={type:INPUT_VALIDATION_RULES.required,message:En,ref:Ft,...Cn(INPUT_VALIDATION_RULES.required,En)},!nt))return Ht(En),Qt}if(!kn&&(!isNullOrUndefined(Mt)||!isNullOrUndefined(bt))){let Ut,En;const vn=getValueAndMessage(bt),wn=getValueAndMessage(Mt);if(!isNullOrUndefined($t)&&!isNaN($t)){const Ln=it.valueAsNumber||$t&&+$t;isNullOrUndefined(vn.value)||(Ut=Ln>vn.value),isNullOrUndefined(wn.value)||(En=Ln<wn.value)}else{const Ln=it.valueAsDate||new Date($t),Kn=Un=>new Date(new Date().toDateString()+" "+Un),Rn=it.type=="time",Tn=it.type=="week";isString(vn.value)&&$t&&(Ut=Rn?Kn($t)>Kn(vn.value):Tn?$t>vn.value:Ln>new Date(vn.value)),isString(wn.value)&&$t&&(En=Rn?Kn($t)<Kn(wn.value):Tn?$t<wn.value:Ln<new Date(wn.value))}if((Ut||En)&&(yn(!!Ut,vn.message,wn.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!nt))return Ht(Qt[Tt].message),Qt}if((pt||mt)&&!kn&&(isString($t)||ot&&Array.isArray($t))){const Ut=getValueAndMessage(pt),En=getValueAndMessage(mt),vn=!isNullOrUndefined(Ut.value)&&$t.length>+Ut.value,wn=!isNullOrUndefined(En.value)&&$t.length<+En.value;if((vn||wn)&&(yn(vn,Ut.message,En.message),!nt))return Ht(Qt[Tt].message),Qt}if(At&&!kn&&isString($t)){const{value:Ut,message:En}=getValueAndMessage(At);if(isRegex(Ut)&&!$t.match(Ut)&&(Qt[Tt]={type:INPUT_VALIDATION_RULES.pattern,message:En,ref:it,...Cn(INPUT_VALIDATION_RULES.pattern,En)},!nt))return Ht(En),Qt}if(wt){if(isFunction(wt)){const Ut=await wt($t,et),En=getValidateError(Ut,Ft);if(En&&(Qt[Tt]={...En,...Cn(INPUT_VALIDATION_RULES.validate,En.message)},!nt))return Ht(En.message),Qt}else if(isObject$1(wt)){let Ut={};for(const En in wt){if(!isEmptyObject(Ut)&&!nt)break;const vn=getValidateError(await wt[En]($t,et),Ft,En);vn&&(Ut={...vn,...Cn(En,vn.message)},Ht(vn.message),nt&&(Qt[Tt]=Ut))}if(!isEmptyObject(Ut)&&(Qt[Tt]={ref:Ft,...Ut},!nt))return Qt}}return Ht(!0),Qt};function baseGet(_e,et){const nt=et.slice(0,-1).length;let rt=0;for(;rt<nt;)_e=isUndefined(_e)?rt++:_e[et[rt++]];return _e}function isEmptyArray(_e){for(const et in _e)if(_e.hasOwnProperty(et)&&!isUndefined(_e[et]))return!1;return!0}function unset(_e,et){const nt=Array.isArray(et)?et:isKey(et)?[et]:stringToPath(et),rt=nt.length===1?_e:baseGet(_e,nt),ot=nt.length-1,it=nt[ot];return rt&&delete rt[it],ot!==0&&(isObject$1(rt)&&isEmptyObject(rt)||Array.isArray(rt)&&isEmptyArray(rt))&&unset(_e,nt.slice(0,-1)),_e}var createSubject=()=>{let _e=[];return{get observers(){return _e},next:ot=>{for(const it of _e)it.next&&it.next(ot)},subscribe:ot=>(_e.push(ot),{unsubscribe:()=>{_e=_e.filter(it=>it!==ot)}}),unsubscribe:()=>{_e=[]}}},isPrimitive=_e=>isNullOrUndefined(_e)||!isObjectType(_e);function deepEqual(_e,et){if(isPrimitive(_e)||isPrimitive(et))return _e===et;if(isDateObject(_e)&&isDateObject(et))return _e.getTime()===et.getTime();const nt=Object.keys(_e),rt=Object.keys(et);if(nt.length!==rt.length)return!1;for(const ot of nt){const it=_e[ot];if(!rt.includes(ot))return!1;if(ot!=="ref"){const ct=et[ot];if(isDateObject(it)&&isDateObject(ct)||isObject$1(it)&&isObject$1(ct)||Array.isArray(it)&&Array.isArray(ct)?!deepEqual(it,ct):it!==ct)return!1}}return!0}var isMultipleSelect=_e=>_e.type==="select-multiple",isRadioOrCheckbox=_e=>isRadioInput(_e)||isCheckBoxInput(_e),live$1=_e=>isHTMLElement(_e)&&_e.isConnected,objectHasFunction=_e=>{for(const et in _e)if(isFunction(_e[et]))return!0;return!1};function markFieldsDirty(_e,et={}){const nt=Array.isArray(_e);if(isObject$1(_e)||nt)for(const rt in _e)Array.isArray(_e[rt])||isObject$1(_e[rt])&&!objectHasFunction(_e[rt])?(et[rt]=Array.isArray(_e[rt])?[]:{},markFieldsDirty(_e[rt],et[rt])):isNullOrUndefined(_e[rt])||(et[rt]=!0);return et}function getDirtyFieldsFromDefaultValues(_e,et,nt){const rt=Array.isArray(_e);if(isObject$1(_e)||rt)for(const ot in _e)Array.isArray(_e[ot])||isObject$1(_e[ot])&&!objectHasFunction(_e[ot])?isUndefined(et)||isPrimitive(nt[ot])?nt[ot]=Array.isArray(_e[ot])?markFieldsDirty(_e[ot],[]):{...markFieldsDirty(_e[ot])}:getDirtyFieldsFromDefaultValues(_e[ot],isNullOrUndefined(et)?{}:et[ot],nt[ot]):nt[ot]=!deepEqual(_e[ot],et[ot]);return nt}var getDirtyFields=(_e,et)=>getDirtyFieldsFromDefaultValues(_e,et,markFieldsDirty(et)),getFieldValueAs=(_e,{valueAsNumber:et,valueAsDate:nt,setValueAs:rt})=>isUndefined(_e)?_e:et?_e===""?NaN:_e&&+_e:nt&&isString(_e)?new Date(_e):rt?rt(_e):_e;function getFieldValue(_e){const et=_e.ref;if(!(_e.refs?_e.refs.every(nt=>nt.disabled):et.disabled))return isFileInput(et)?et.files:isRadioInput(et)?getRadioValue(_e.refs).value:isMultipleSelect(et)?[...et.selectedOptions].map(({value:nt})=>nt):isCheckBoxInput(et)?getCheckboxValue(_e.refs).value:getFieldValueAs(isUndefined(et.value)?_e.ref.value:et.value,_e)}var getResolverOptions=(_e,et,nt,rt)=>{const ot={};for(const it of _e){const ct=get(et,it);ct&&set(ot,it,ct._f)}return{criteriaMode:nt,names:[..._e],fields:ot,shouldUseNativeValidation:rt}},getRuleValue=_e=>isUndefined(_e)?_e:isRegex(_e)?_e.source:isObject$1(_e)?isRegex(_e.value)?_e.value.source:_e.value:_e,hasValidation=_e=>_e.mount&&(_e.required||_e.min||_e.max||_e.maxLength||_e.minLength||_e.pattern||_e.validate);function schemaErrorLookup(_e,et,nt){const rt=get(_e,nt);if(rt||isKey(nt))return{error:rt,name:nt};const ot=nt.split(".");for(;ot.length;){const it=ot.join("."),ct=get(et,it),lt=get(_e,it);if(ct&&!Array.isArray(ct)&&nt!==it)return{name:nt};if(lt&&lt.type)return{name:it,error:lt};ot.pop()}return{name:nt}}var skipValidation=(_e,et,nt,rt,ot)=>ot.isOnAll?!1:!nt&&ot.isOnTouch?!(et||_e):(nt?rt.isOnBlur:ot.isOnBlur)?!_e:(nt?rt.isOnChange:ot.isOnChange)?_e:!0,unsetEmptyArray=(_e,et)=>!compact(get(_e,et)).length&&unset(_e,et);const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(_e={},et){let nt={...defaultOptions,..._e},rt={submitCount:0,isDirty:!1,isLoading:isFunction(nt.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:nt.errors||{},disabled:nt.disabled||!1},ot={},it=isObject$1(nt.values)||isObject$1(nt.defaultValues)?cloneObject(nt.values||nt.defaultValues)||{}:{},ct=nt.shouldUnregister?{}:cloneObject(it),lt={action:!1,mount:!1,watch:!1},pt={mount:new Set,unMount:new Set,array:new Set,watch:new Set},mt,Mt=0;const bt={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},At={values:createSubject(),array:createSubject(),state:createSubject()},wt=getValidationModes(nt.mode),Tt=getValidationModes(nt.reValidateMode),Rt=nt.criteriaMode===VALIDATION_MODE.all,Bt=Qn=>sr=>{clearTimeout(Mt),Mt=setTimeout(Qn,sr)},Vt=async Qn=>{if(bt.isValid||Qn){const sr=nt.resolver?isEmptyObject((await kn()).errors):await yn(ot,!0);sr!==rt.isValid&&At.state.next({isValid:sr})}},$t=Qn=>bt.isValidating&&At.state.next({isValidating:Qn}),Ft=(Qn,sr=[],ar,Or,Dr=!0,lr=!0)=>{if(Or&&ar){if(lt.action=!0,lr&&Array.isArray(get(ot,Qn))){const cr=ar(get(ot,Qn),Or.argA,Or.argB);Dr&&set(ot,Qn,cr)}if(lr&&Array.isArray(get(rt.errors,Qn))){const cr=ar(get(rt.errors,Qn),Or.argA,Or.argB);Dr&&set(rt.errors,Qn,cr),unsetEmptyArray(rt.errors,Qn)}if(bt.touchedFields&&lr&&Array.isArray(get(rt.touchedFields,Qn))){const cr=ar(get(rt.touchedFields,Qn),Or.argA,Or.argB);Dr&&set(rt.touchedFields,Qn,cr)}bt.dirtyFields&&(rt.dirtyFields=getDirtyFields(it,ct)),At.state.next({name:Qn,isDirty:En(Qn,sr),dirtyFields:rt.dirtyFields,errors:rt.errors,isValid:rt.isValid})}else set(ct,Qn,sr)},Ht=(Qn,sr)=>{set(rt.errors,Qn,sr),At.state.next({errors:rt.errors})},Qt=Qn=>{rt.errors=Qn,At.state.next({errors:rt.errors,isValid:!1})},_n=(Qn,sr,ar,Or)=>{const Dr=get(ot,Qn);if(Dr){const lr=get(ct,Qn,isUndefined(ar)?get(it,Qn):ar);isUndefined(lr)||Or&&Or.defaultChecked||sr?set(ct,Qn,sr?lr:getFieldValue(Dr._f)):Ln(Qn,lr),lt.mount&&Vt()}},hn=(Qn,sr,ar,Or,Dr)=>{let lr=!1,cr=!1;const gr={name:Qn},Mr=!!(get(ot,Qn)&&get(ot,Qn)._f.disabled);if(!ar||Or){bt.isDirty&&(cr=rt.isDirty,rt.isDirty=gr.isDirty=En(),lr=cr!==gr.isDirty);const Ar=Mr||deepEqual(get(it,Qn),sr);cr=!!(!Mr&&get(rt.dirtyFields,Qn)),Ar||Mr?unset(rt.dirtyFields,Qn):set(rt.dirtyFields,Qn,!0),gr.dirtyFields=rt.dirtyFields,lr=lr||bt.dirtyFields&&cr!==!Ar}if(ar){const Ar=get(rt.touchedFields,Qn);Ar||(set(rt.touchedFields,Qn,ar),gr.touchedFields=rt.touchedFields,lr=lr||bt.touchedFields&&Ar!==ar)}return lr&&Dr&&At.state.next(gr),lr?gr:{}},Mn=(Qn,sr,ar,Or)=>{const Dr=get(rt.errors,Qn),lr=bt.isValid&&isBoolean(sr)&&rt.isValid!==sr;if(_e.delayError&&ar?(mt=Bt(()=>Ht(Qn,ar)),mt(_e.delayError)):(clearTimeout(Mt),mt=null,ar?set(rt.errors,Qn,ar):unset(rt.errors,Qn)),(ar?!deepEqual(Dr,ar):Dr)||!isEmptyObject(Or)||lr){const cr={...Or,...lr&&isBoolean(sr)?{isValid:sr}:{},errors:rt.errors,name:Qn};rt={...rt,...cr},At.state.next(cr)}$t(!1)},kn=async Qn=>nt.resolver(ct,nt.context,getResolverOptions(Qn||pt.mount,ot,nt.criteriaMode,nt.shouldUseNativeValidation)),Cn=async Qn=>{const{errors:sr}=await kn(Qn);if(Qn)for(const ar of Qn){const Or=get(sr,ar);Or?set(rt.errors,ar,Or):unset(rt.errors,ar)}else rt.errors=sr;return sr},yn=async(Qn,sr,ar={valid:!0})=>{for(const Or in Qn){const Dr=Qn[Or];if(Dr){const{_f:lr,...cr}=Dr;if(lr){const gr=pt.array.has(lr.name),Mr=await validateField(Dr,ct,Rt,nt.shouldUseNativeValidation&&!sr,gr);if(Mr[lr.name]&&(ar.valid=!1,sr))break;!sr&&(get(Mr,lr.name)?gr?updateFieldArrayRootError(rt.errors,Mr,lr.name):set(rt.errors,lr.name,Mr[lr.name]):unset(rt.errors,lr.name))}cr&&await yn(cr,sr,ar)}}return ar.valid},Ut=()=>{for(const Qn of pt.unMount){const sr=get(ot,Qn);sr&&(sr._f.refs?sr._f.refs.every(ar=>!live$1(ar)):!live$1(sr._f.ref))&&Zt(Qn)}pt.unMount=new Set},En=(Qn,sr)=>(Qn&&sr&&set(ct,Qn,sr),!deepEqual(Vn(),it)),vn=(Qn,sr,ar)=>generateWatchOutput(Qn,pt,{...lt.mount?ct:isUndefined(sr)?it:isString(Qn)?{[Qn]:sr}:sr},ar,sr),wn=Qn=>compact(get(lt.mount?ct:it,Qn,_e.shouldUnregister?get(it,Qn,[]):[])),Ln=(Qn,sr,ar={})=>{const Or=get(ot,Qn);let Dr=sr;if(Or){const lr=Or._f;lr&&(!lr.disabled&&set(ct,Qn,getFieldValueAs(sr,lr)),Dr=isHTMLElement(lr.ref)&&isNullOrUndefined(sr)?"":sr,isMultipleSelect(lr.ref)?[...lr.ref.options].forEach(cr=>cr.selected=Dr.includes(cr.value)):lr.refs?isCheckBoxInput(lr.ref)?lr.refs.length>1?lr.refs.forEach(cr=>(!cr.defaultChecked||!cr.disabled)&&(cr.checked=Array.isArray(Dr)?!!Dr.find(gr=>gr===cr.value):Dr===cr.value)):lr.refs[0]&&(lr.refs[0].checked=!!Dr):lr.refs.forEach(cr=>cr.checked=cr.value===Dr):isFileInput(lr.ref)?lr.ref.value="":(lr.ref.value=Dr,lr.ref.type||At.values.next({name:Qn,values:{...ct}})))}(ar.shouldDirty||ar.shouldTouch)&&hn(Qn,Dr,ar.shouldTouch,ar.shouldDirty,!0),ar.shouldValidate&&$n(Qn)},Kn=(Qn,sr,ar)=>{for(const Or in sr){const Dr=sr[Or],lr=`${Qn}.${Or}`,cr=get(ot,lr);(pt.array.has(Qn)||!isPrimitive(Dr)||cr&&!cr._f)&&!isDateObject(Dr)?Kn(lr,Dr,ar):Ln(lr,Dr,ar)}},Rn=(Qn,sr,ar={})=>{const Or=get(ot,Qn),Dr=pt.array.has(Qn),lr=cloneObject(sr);set(ct,Qn,lr),Dr?(At.array.next({name:Qn,values:{...ct}}),(bt.isDirty||bt.dirtyFields)&&ar.shouldDirty&&At.state.next({name:Qn,dirtyFields:getDirtyFields(it,ct),isDirty:En(Qn,lr)})):Or&&!Or._f&&!isNullOrUndefined(lr)?Kn(Qn,lr,ar):Ln(Qn,lr,ar),isWatched(Qn,pt)&&At.state.next({...rt}),At.values.next({name:Qn,values:{...ct}}),!lt.mount&&et()},Tn=async Qn=>{const sr=Qn.target;let ar=sr.name,Or=!0;const Dr=get(ot,ar),lr=()=>sr.type?getFieldValue(Dr._f):getEventValue(Qn),cr=gr=>{Or=Number.isNaN(gr)||gr===get(ct,ar,gr)};if(Dr){let gr,Mr;const Ar=lr(),Ir=Qn.type===EVENTS.BLUR||Qn.type===EVENTS.FOCUS_OUT,mo=!hasValidation(Dr._f)&&!nt.resolver&&!get(rt.errors,ar)&&!Dr._f.deps||skipValidation(Ir,get(rt.touchedFields,ar),rt.isSubmitted,Tt,wt),Ao=isWatched(ar,pt,Ir);set(ct,ar,Ar),Ir?(Dr._f.onBlur&&Dr._f.onBlur(Qn),mt&&mt(0)):Dr._f.onChange&&Dr._f.onChange(Qn);const jn=hn(ar,Ar,Ir,!1),Br=!isEmptyObject(jn)||Ao;if(!Ir&&At.values.next({name:ar,type:Qn.type,values:{...ct}}),mo)return bt.isValid&&Vt(),Br&&At.state.next({name:ar,...Ao?{}:jn});if(!Ir&&Ao&&At.state.next({...rt}),$t(!0),nt.resolver){const{errors:Pn}=await kn([ar]);if(cr(Ar),Or){const Xr=schemaErrorLookup(rt.errors,ot,ar),po=schemaErrorLookup(Pn,ot,Xr.name||ar);gr=po.error,ar=po.name,Mr=isEmptyObject(Pn)}}else gr=(await validateField(Dr,ct,Rt,nt.shouldUseNativeValidation))[ar],cr(Ar),Or&&(gr?Mr=!1:bt.isValid&&(Mr=await yn(ot,!0)));Or&&(Dr._f.deps&&$n(Dr._f.deps),Mn(ar,Mr,gr,jn))}},Un=(Qn,sr)=>{if(get(rt.errors,sr)&&Qn.focus)return Qn.focus(),1},$n=async(Qn,sr={})=>{let ar,Or;const Dr=convertToArrayPayload(Qn);if($t(!0),nt.resolver){const lr=await Cn(isUndefined(Qn)?Qn:Dr);ar=isEmptyObject(lr),Or=Qn?!Dr.some(cr=>get(lr,cr)):ar}else Qn?(Or=(await Promise.all(Dr.map(async lr=>{const cr=get(ot,lr);return await yn(cr&&cr._f?{[lr]:cr}:cr)}))).every(Boolean),!(!Or&&!rt.isValid)&&Vt()):Or=ar=await yn(ot);return At.state.next({...!isString(Qn)||bt.isValid&&ar!==rt.isValid?{}:{name:Qn},...nt.resolver||!Qn?{isValid:ar}:{},errors:rt.errors,isValidating:!1}),sr.shouldFocus&&!Or&&iterateFieldsByAction(ot,Un,Qn?Dr:pt.mount),Or},Vn=Qn=>{const sr={...it,...lt.mount?ct:{}};return isUndefined(Qn)?sr:isString(Qn)?get(sr,Qn):Qn.map(ar=>get(sr,ar))},tr=(Qn,sr)=>({invalid:!!get((sr||rt).errors,Qn),isDirty:!!get((sr||rt).dirtyFields,Qn),isTouched:!!get((sr||rt).touchedFields,Qn),error:get((sr||rt).errors,Qn)}),Jn=Qn=>{Qn&&convertToArrayPayload(Qn).forEach(sr=>unset(rt.errors,sr)),At.state.next({errors:Qn?rt.errors:{}})},wr=(Qn,sr,ar)=>{const Or=(get(ot,Qn,{_f:{}})._f||{}).ref;set(rt.errors,Qn,{...sr,ref:Or}),At.state.next({name:Qn,errors:rt.errors,isValid:!1}),ar&&ar.shouldFocus&&Or&&Or.focus&&Or.focus()},jr=(Qn,sr)=>isFunction(Qn)?At.values.subscribe({next:ar=>Qn(vn(void 0,sr),ar)}):vn(Qn,sr,!0),Zt=(Qn,sr={})=>{for(const ar of Qn?convertToArrayPayload(Qn):pt.mount)pt.mount.delete(ar),pt.array.delete(ar),sr.keepValue||(unset(ot,ar),unset(ct,ar)),!sr.keepError&&unset(rt.errors,ar),!sr.keepDirty&&unset(rt.dirtyFields,ar),!sr.keepTouched&&unset(rt.touchedFields,ar),!nt.shouldUnregister&&!sr.keepDefaultValue&&unset(it,ar);At.values.next({values:{...ct}}),At.state.next({...rt,...sr.keepDirty?{isDirty:En()}:{}}),!sr.keepIsValid&&Vt()},hr=({disabled:Qn,name:sr,field:ar,fields:Or,value:Dr})=>{if(isBoolean(Qn)){const lr=Qn?void 0:isUndefined(Dr)?getFieldValue(ar?ar._f:get(Or,sr)._f):Dr;set(ct,sr,lr),hn(sr,lr,!1,!1,!0)}},lo=(Qn,sr={})=>{let ar=get(ot,Qn);const Or=isBoolean(sr.disabled);return set(ot,Qn,{...ar||{},_f:{...ar&&ar._f?ar._f:{ref:{name:Qn}},name:Qn,mount:!0,...sr}}),pt.mount.add(Qn),ar?hr({field:ar,disabled:sr.disabled,name:Qn,value:sr.value}):_n(Qn,!0,sr.value),{...Or?{disabled:sr.disabled}:{},...nt.progressive?{required:!!sr.required,min:getRuleValue(sr.min),max:getRuleValue(sr.max),minLength:getRuleValue(sr.minLength),maxLength:getRuleValue(sr.maxLength),pattern:getRuleValue(sr.pattern)}:{},name:Qn,onChange:Tn,onBlur:Tn,ref:Dr=>{if(Dr){lo(Qn,sr),ar=get(ot,Qn);const lr=isUndefined(Dr.value)&&Dr.querySelectorAll&&Dr.querySelectorAll("input,select,textarea")[0]||Dr,cr=isRadioOrCheckbox(lr),gr=ar._f.refs||[];if(cr?gr.find(Mr=>Mr===lr):lr===ar._f.ref)return;set(ot,Qn,{_f:{...ar._f,...cr?{refs:[...gr.filter(live$1),lr,...Array.isArray(get(it,Qn))?[{}]:[]],ref:{type:lr.type,name:Qn}}:{ref:lr}}}),_n(Qn,!1,void 0,lr)}else ar=get(ot,Qn,{}),ar._f&&(ar._f.mount=!1),(nt.shouldUnregister||sr.shouldUnregister)&&!(isNameInFieldArray(pt.array,Qn)&&lt.action)&&pt.unMount.add(Qn)}}},_o=()=>nt.shouldFocusError&&iterateFieldsByAction(ot,Un,pt.mount),bo=Qn=>{isBoolean(Qn)&&(At.state.next({disabled:Qn}),iterateFieldsByAction(ot,(sr,ar)=>{let Or=Qn;const Dr=get(ot,ar);Dr&&isBoolean(Dr._f.disabled)&&(Or||(Or=Dr._f.disabled)),sr.disabled=Or},0,!1))},Hr=(Qn,sr)=>async ar=>{let Or;ar&&(ar.preventDefault&&ar.preventDefault(),ar.persist&&ar.persist());let Dr=cloneObject(ct);if(At.state.next({isSubmitting:!0}),nt.resolver){const{errors:lr,values:cr}=await kn();rt.errors=lr,Dr=cr}else await yn(ot);if(unset(rt.errors,"root"),isEmptyObject(rt.errors)){At.state.next({errors:{}});try{await Qn(Dr,ar)}catch(lr){Or=lr}}else sr&&await sr({...rt.errors},ar),_o(),setTimeout(_o);if(At.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(rt.errors)&&!Or,submitCount:rt.submitCount+1,errors:rt.errors}),Or)throw Or},Do=(Qn,sr={})=>{get(ot,Qn)&&(isUndefined(sr.defaultValue)?Rn(Qn,cloneObject(get(it,Qn))):(Rn(Qn,sr.defaultValue),set(it,Qn,cloneObject(sr.defaultValue))),sr.keepTouched||unset(rt.touchedFields,Qn),sr.keepDirty||(unset(rt.dirtyFields,Qn),rt.isDirty=sr.defaultValue?En(Qn,cloneObject(get(it,Qn))):En()),sr.keepError||(unset(rt.errors,Qn),bt.isValid&&Vt()),At.state.next({...rt}))},Oo=(Qn,sr={})=>{const ar=Qn?cloneObject(Qn):it,Or=cloneObject(ar),Dr=Qn&&!isEmptyObject(Qn)?Or:it;if(sr.keepDefaultValues||(it=ar),!sr.keepValues){if(sr.keepDirtyValues)for(const lr of pt.mount)get(rt.dirtyFields,lr)?set(Dr,lr,get(ct,lr)):Rn(lr,get(Dr,lr));else{if(isWeb&&isUndefined(Qn))for(const lr of pt.mount){const cr=get(ot,lr);if(cr&&cr._f){const gr=Array.isArray(cr._f.refs)?cr._f.refs[0]:cr._f.ref;if(isHTMLElement(gr)){const Mr=gr.closest("form");if(Mr){Mr.reset();break}}}}ot={}}ct=_e.shouldUnregister?sr.keepDefaultValues?cloneObject(it):{}:cloneObject(Dr),At.array.next({values:{...Dr}}),At.values.next({values:{...Dr}})}pt={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!lt.mount&&et(),lt.mount=!bt.isValid||!!sr.keepIsValid||!!sr.keepDirtyValues,lt.watch=!!_e.shouldUnregister,At.state.next({submitCount:sr.keepSubmitCount?rt.submitCount:0,isDirty:sr.keepDirty?rt.isDirty:!!(sr.keepDefaultValues&&!deepEqual(Qn,it)),isSubmitted:sr.keepIsSubmitted?rt.isSubmitted:!1,dirtyFields:sr.keepDirtyValues?sr.keepDefaultValues&&ct?getDirtyFields(it,ct):rt.dirtyFields:sr.keepDefaultValues&&Qn?getDirtyFields(it,Qn):{},touchedFields:sr.keepTouched?rt.touchedFields:{},errors:sr.keepErrors?rt.errors:{},isSubmitSuccessful:sr.keepIsSubmitSuccessful?rt.isSubmitSuccessful:!1,isSubmitting:!1})},zo=(Qn,sr)=>Oo(isFunction(Qn)?Qn(ct):Qn,sr);return{control:{register:lo,unregister:Zt,getFieldState:tr,handleSubmit:Hr,setError:wr,_executeSchema:kn,_getWatch:vn,_getDirty:En,_updateValid:Vt,_removeUnmounted:Ut,_updateFieldArray:Ft,_updateDisabledField:hr,_getFieldArray:wn,_reset:Oo,_resetDefaultValues:()=>isFunction(nt.defaultValues)&&nt.defaultValues().then(Qn=>{zo(Qn,nt.resetOptions),At.state.next({isLoading:!1})}),_updateFormState:Qn=>{rt={...rt,...Qn}},_disableForm:bo,_subjects:At,_proxyFormState:bt,_setErrors:Qt,get _fields(){return ot},get _formValues(){return ct},get _state(){return lt},set _state(Qn){lt=Qn},get _defaultValues(){return it},get _names(){return pt},set _names(Qn){pt=Qn},get _formState(){return rt},set _formState(Qn){rt=Qn},get _options(){return nt},set _options(Qn){nt={...nt,...Qn}}},trigger:$n,register:lo,handleSubmit:Hr,watch:jr,setValue:Rn,getValues:Vn,reset:zo,resetField:Do,clearErrors:Jn,unregister:Zt,setError:wr,setFocus:(Qn,sr={})=>{const ar=get(ot,Qn),Or=ar&&ar._f;if(Or){const Dr=Or.refs?Or.refs[0]:Or.ref;Dr.focus&&(Dr.focus(),sr.shouldSelect&&Dr.select())}},getFieldState:tr}}function useForm(_e={}){const et=React.useRef(),nt=React.useRef(),[rt,ot]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction(_e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:_e.errors||{},disabled:_e.disabled||!1,defaultValues:isFunction(_e.defaultValues)?void 0:_e.defaultValues});et.current||(et.current={...createFormControl(_e,()=>ot(ct=>({...ct}))),formState:rt});const it=et.current.control;return it._options=_e,useSubscribe({subject:it._subjects.state,next:ct=>{shouldRenderFormState(ct,it._proxyFormState,it._updateFormState)&&ot({...it._formState})}}),React.useEffect(()=>it._disableForm(_e.disabled),[it,_e.disabled]),React.useEffect(()=>{if(it._proxyFormState.isDirty){const ct=it._getDirty();ct!==rt.isDirty&&it._subjects.state.next({isDirty:ct})}},[it,rt.isDirty]),React.useEffect(()=>{_e.values&&!deepEqual(_e.values,nt.current)?(it._reset(_e.values,it._options.resetOptions),nt.current=_e.values,ot(ct=>({...ct}))):it._resetDefaultValues()},[_e.values,it]),React.useEffect(()=>{_e.errors&&it._setErrors(_e.errors)},[_e.errors,it]),React.useEffect(()=>{it._state.mount||(it._updateValid(),it._state.mount=!0),it._state.watch&&(it._state.watch=!1,it._subjects.state.next({...it._formState})),it._removeUnmounted()}),React.useEffect(()=>{_e.shouldUnregister&&it._subjects.values.next({values:it._getWatch()})},[_e.shouldUnregister,it]),et.current.formState=getProxyFormState(rt,it),et.current}var t=function(_e,et,nt){if(_e&&"reportValidity"in _e){var rt=get(nt,et);_e.setCustomValidity(rt&&rt.message||""),_e.reportValidity()}},i=function(_e,et){var nt=function(ot){var it=et.fields[ot];it&&it.ref&&"reportValidity"in it.ref?t(it.ref,ot,_e):it.refs&&it.refs.forEach(function(ct){return t(ct,ot,_e)})};for(var rt in et.fields)nt(rt)},n=function(_e,et){et.shouldUseNativeValidation&&i(_e,et);var nt={};for(var rt in _e){var ot=get(et.fields,rt),it=Object.assign(_e[rt]||{},{ref:ot&&ot.ref});if(o$1(et.names||Object.keys(_e),rt)){var ct=Object.assign({},get(nt,rt));set(ct,"root",it),set(nt,rt,ct)}else set(nt,rt,it)}return nt},o$1=function(_e,et){return _e.some(function(nt){return nt.startsWith(et+".")})};function o(_e,et,nt){return et===void 0&&(et={}),nt===void 0&&(nt={}),function(rt,ot,it){try{return Promise.resolve(function(ct,lt){try{var pt=(et.context,Promise.resolve(_e[nt.mode==="sync"?"validateSync":"validate"](rt,Object.assign({abortEarly:!1},et,{context:ot}))).then(function(mt){return it.shouldUseNativeValidation&&i({},it),{values:nt.raw?rt:mt,errors:{}}}))}catch(mt){return lt(mt)}return pt&&pt.then?pt.then(void 0,lt):pt}(0,function(ct){if(!ct.inner)throw ct;return{values:{},errors:n((lt=ct,pt=!it.shouldUseNativeValidation&&it.criteriaMode==="all",(lt.inner||[]).reduce(function(mt,Mt){if(mt[Mt.path]||(mt[Mt.path]={message:Mt.message,type:Mt.type}),pt){var bt=mt[Mt.path].types,At=bt&&bt[Mt.type];mt[Mt.path]=appendErrors(Mt.path,pt,mt,Mt.type,At?[].concat(At,Mt.message):Mt.message)}return mt},{})),it)};var lt,pt}))}catch(ct){return Promise.reject(ct)}}}const reasons=[{label:"Tidak sesuai ekspektasi",value:"Tidak sesuai ekspektasi"},{label:"Sudah tidak mau menggunakan",value:"Sudah tidak mau menggunakan"},{label:"Terlalu rumit",value:"Terlalu rumit"},{label:"Alasan Lainnya",value:"OTHER"}],schema$b=create$3().shape({password:create$6().required("Tidak boleh kosong!")}),RemoveAccount=()=>{var Rt,Bt;const[_e,et]=reactExports.useState(!0),[nt,rt]=reactExports.useState(!1),[ot,it]=reactExports.useState(""),[ct,lt]=reactExports.useState(!1),{push:pt}=useHistory();useDispatch();const{handleSubmit:mt,watch:Mt,setValue:bt,formState:{errors:At}}=useForm({mode:"onChange",resolver:o(schema$b)}),[wt]=Mt(["password"]),Tt=async Vt=>{lt(!0);const{status:$t,msg:Ft}=await userService.deleteAccount({pwd:Vt.password});$t===1?Toast.fail({message:Ft}):pt("/account-removed"),lt(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HomeLayout,{noFooter:!0,children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Pengajuan Hapus Akun",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$M.removeAccount,children:[jsxRuntimeExports.jsxs("div",{className:styles$M.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Sayang Sekali  Maaf Jika Kami Kurang Oke"}),jsxRuntimeExports.jsx("p",{children:"Kami minta maaf jika kami belum optimal. Apa alasan utama kamu hapus akun?"})]}),jsxRuntimeExports.jsx("div",{className:styles$M.reasons,children:reasons.map((Vt,$t)=>jsxRuntimeExports.jsxs("div",{className:clsx$2(styles$M.reasonItem,ot===Vt.value&&styles$M.checked),children:[jsxRuntimeExports.jsx("span",{children:Vt.label}),jsxRuntimeExports.jsx("input",{name:"reasons",type:"radio",onChange:Ft=>{it(Ft.target.value)},value:Vt.value,checked:ot===Vt.value})]},$t))}),ot==="OTHER"?jsxRuntimeExports.jsx(InputField$1,{placeholder:"Tulis Alasan Kamu"}):null]}),jsxRuntimeExports.jsx("div",{className:styles$M.bottom,children:jsxRuntimeExports.jsx(MainButton,{onClick:()=>rt(!0),children:"Ajukan Hapus Akun"})})]}),jsxRuntimeExports.jsx(Modal,{in:_e,onClose:()=>pt("/profile/settings"),children:jsxRuntimeExports.jsx(ModalWrapper,{children:jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs("div",{className:styles$M.confirmRemove,children:[jsxRuntimeExports.jsx("div",{className:styles$M.icon,children:jsxRuntimeExports.jsx("img",{src:"/assets/trash.png",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$M.desc,children:[jsxRuntimeExports.jsx("h1",{children:"Anda Yakin Mau Hapus Akun? "}),jsxRuntimeExports.jsx("p",{children:"Saldo point kamu akan hangus dan kamu tidak bisa berinteraksi dengan komunitas dan fitur eksklusif"})]}),jsxRuntimeExports.jsxs("div",{className:styles$M.actions,children:[jsxRuntimeExports.jsx(MainButton,{onClick:()=>pt("/profile/settings"),children:"Mau Tetap Punya Akun"}),jsxRuntimeExports.jsx(MainButton,{variant:"secondary",onClick:()=>{et(!1),rt(!0)},children:"Hapus Saja"})]})]})})})}),jsxRuntimeExports.jsx(Modal,{in:nt,onClose:()=>pt("/profile/settings"),children:jsxRuntimeExports.jsx(ModalWrapper,{children:jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs("div",{className:styles$M.confirmPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$M.desc,children:[jsxRuntimeExports.jsx("h1",{children:"Masukkan Password"}),jsxRuntimeExports.jsx("p",{children:"Konfirmasi hapus akun dengan memasukkan password Anda"})]}),jsxRuntimeExports.jsx("form",{onSubmit:mt(Tt),className:styles$M.form,children:jsxRuntimeExports.jsxs("div",{className:styles$M.actions,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password",error:!!((Rt=At.password)!=null&&Rt.message),helperText:(Bt=At.password)==null?void 0:Bt.message,onChange:Vt=>bt("password",Vt.target.value,{shouldValidate:!0}),value:wt,password:!0}),jsxRuntimeExports.jsx(MainButton,{loading:ct,children:"Konfirmasi Hapus Akun"}),jsxRuntimeExports.jsx(MainButton,{variant:"secondary",onClick:Vt=>{Vt.preventDefault(),pt("/profile/settings")},children:"Tidak Jadi"})]})})]})})})})]})},editEmail$1="_editEmail_h596p_1",heading$f="_heading_h596p_5",form$e="_form_h596p_23",button$a="_button_h596p_28",triggerEdit$6="_triggerEdit_h596p_31",styles$J={editEmail:editEmail$1,heading:heading$f,form:form$e,button:button$a,triggerEdit:triggerEdit$6},passwordRegex=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&^~#(){}[\]|/\\=+<>:_;,"'])\S{8,}$/,schema$a=create$3().shape({oldPassword:create$6().required("Tidak boleh kosong!"),password:create$6().matches(passwordRegex,"Kata sandi 8 karakter dengan kombinasi huruf kecil, huruf kapital, angka, dan simbol").required("Tidak boleh kosong!"),passwordConfirmation:create$6().test("matchPassword","Kata sandi tidak sama",function(_e){return this.parent.password?_e===this.parent.password:!0})}),Main$1=({setStep:_e})=>{var wt,Tt,Rt,Bt,Vt,$t;const[et,nt]=reactExports.useState(!1),{push:rt}=useHistory(),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema$a)}),[mt,Mt,bt]=lt(["oldPassword","password","passwordConfirmation"]),At=async Ft=>{nt(!0);const{status:Ht,msg:Qt}=await userService.changePassword({old_pwd:Ft.oldPassword,pwd:Ft.password});Ht===1?Toast.fail({message:Qt}):(rt("/profile/edit"),Toast.success({message:"Password berhasil diubah!"})),nt(!1)};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Ubah Password",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$J.editEmail,children:[jsxRuntimeExports.jsxs("div",{className:styles$J.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Hai Athena, Ubah Password agar Lebih Aman"}),jsxRuntimeExports.jsx("p",{children:"Password lebih aman jika kamu ubah berkala setiap 3 bulan"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(At),children:jsxRuntimeExports.jsxs("div",{className:styles$J.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password Lama",error:!!((wt=pt.oldPassword)!=null&&wt.message),helperText:(Tt=pt.oldPassword)==null?void 0:Tt.message,onChange:Ft=>ct("oldPassword",Ft.target.value,{shouldValidate:!0}),value:mt,password:!0}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password Baru",error:!!((Rt=pt.password)!=null&&Rt.message),helperText:(Bt=pt.password)==null?void 0:Bt.message,onChange:Ft=>ct("password",Ft.target.value,{shouldValidate:!0}),value:Mt,password:!0}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Konfirmasi Password Baru",error:!!((Vt=pt.passwordConfirmation)!=null&&Vt.message),helperText:($t=pt.passwordConfirmation)==null?void 0:$t.message,onChange:Ft=>ct("passwordConfirmation",Ft.target.value,{shouldValidate:!0}),value:bt,password:!0}),jsxRuntimeExports.jsx("div",{className:styles$J.button,children:jsxRuntimeExports.jsx(MainButton,{children:"Ubah Password"})})]})})]})]})},success$2="_success_15uz5_1",wrapper$b="_wrapper_15uz5_7",icon$3="_icon_15uz5_14",desc$4="_desc_15uz5_18",actions$5="_actions_15uz5_33",styles$I={success:success$2,wrapper:wrapper$b,icon:icon$3,desc:desc$4,actions:actions$5},Success$2=()=>{const{push:_e}=useHistory();return jsxRuntimeExports.jsxs(HomeLayout,{noFooter:!0,children:[jsxRuntimeExports.jsx(GeneralHeader,{closePath:"/login"}),jsxRuntimeExports.jsx("div",{className:styles$I.success,children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$I.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$I.icon,children:jsxRuntimeExports.jsx("img",{src:"/assets/reset.png",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$I.desc,children:[jsxRuntimeExports.jsx("h1",{children:"Password Berhasil Direset!"}),jsxRuntimeExports.jsx("p",{children:"Selamat! Kamu berhasil reset password! Yuk masuk lagi dengan password yang baru."})]}),jsxRuntimeExports.jsx("div",{className:styles$I.actions,children:jsxRuntimeExports.jsx(MainButton,{onClick:()=>_e("/"),children:"Masuk Akun"})})]})})})]})},ChangePassword=()=>{const[_e,et]=reactExports.useState(1),nt=reactExports.useMemo(()=>{if(_e===1)return jsxRuntimeExports.jsx(Main$1,{setStep:et});if(_e===2)return jsxRuntimeExports.jsx(Success$2,{})},[_e]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt})},ConfigList=({match:_e})=>jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{path:_e.url,exact:!0,component:ConfigList$1}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/change-password`,component:ChangePassword}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/terms-conditions`,component:TermsConditions}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/remove-account`,component:RemoveAccount})]}),editProfile="_editProfile_878dc_1",form$d="_form_878dc_5",triggerEdit$5="_triggerEdit_878dc_10",styles$H={editProfile,form:form$d,triggerEdit:triggerEdit$5},imageField="_imageField_egpzt_1",imageWrapper="_imageWrapper_egpzt_1",uploadPhoto="_uploadPhoto_egpzt_6",button$9="_button_egpzt_21",helperText="_helperText_egpzt_37",error="_error_egpzt_40",styles$G={imageField,imageWrapper,uploadPhoto,button:button$9,helperText,error},IMAGE_FORMATS=["image/jpg","image/jpeg","image/png"],COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(_e,et,nt){const rt=withMimeType(_e),{webkitRelativePath:ot}=_e,it=typeof et=="string"?et:typeof ot=="string"&&ot.length>0?ot:`./${_e.name}`;return typeof rt.path!="string"&&setObjProp(rt,"path",it),setObjProp(rt,"relativePath",it),rt}function withMimeType(_e){const{name:et}=_e;if(et&&et.lastIndexOf(".")!==-1&&!_e.type){const rt=et.split(".").pop().toLowerCase(),ot=COMMON_MIME_TYPES.get(rt);ot&&Object.defineProperty(_e,"type",{value:ot,writable:!1,configurable:!1,enumerable:!0})}return _e}function setObjProp(_e,et,nt){Object.defineProperty(_e,et,{value:nt,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(_e){return __awaiter(this,void 0,void 0,function*(){return isObject(_e)&&isDataTransfer(_e.dataTransfer)?getDataTransferFiles(_e.dataTransfer,_e.type):isChangeEvt(_e)?getInputFiles(_e):Array.isArray(_e)&&_e.every(et=>"getFile"in et&&typeof et.getFile=="function")?getFsHandleFiles(_e):[]})}function isDataTransfer(_e){return isObject(_e)}function isChangeEvt(_e){return isObject(_e)&&isObject(_e.target)}function isObject(_e){return typeof _e=="object"&&_e!==null}function getInputFiles(_e){return fromList(_e.target.files).map(et=>toFileWithPath(et))}function getFsHandleFiles(_e){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(_e.map(nt=>nt.getFile()))).map(nt=>toFileWithPath(nt))})}function getDataTransferFiles(_e,et){return __awaiter(this,void 0,void 0,function*(){if(_e.items){const nt=fromList(_e.items).filter(ot=>ot.kind==="file");if(et!=="drop")return nt;const rt=yield Promise.all(nt.map(toFilePromises));return noIgnoredFiles(flatten(rt))}return noIgnoredFiles(fromList(_e.files).map(nt=>toFileWithPath(nt)))})}function noIgnoredFiles(_e){return _e.filter(et=>FILES_TO_IGNORE.indexOf(et.name)===-1)}function fromList(_e){if(_e===null)return[];const et=[];for(let nt=0;nt<_e.length;nt++){const rt=_e[nt];et.push(rt)}return et}function toFilePromises(_e){if(typeof _e.webkitGetAsEntry!="function")return fromDataTransferItem(_e);const et=_e.webkitGetAsEntry();return et&&et.isDirectory?fromDirEntry(et):fromDataTransferItem(_e,et)}function flatten(_e){return _e.reduce((et,nt)=>[...et,...Array.isArray(nt)?flatten(nt):[nt]],[])}function fromDataTransferItem(_e,et){return __awaiter(this,void 0,void 0,function*(){var nt;if(globalThis.isSecureContext&&typeof _e.getAsFileSystemHandle=="function"){const it=yield _e.getAsFileSystemHandle();if(it===null)throw new Error(`${_e} is not a File`);if(it!==void 0){const ct=yield it.getFile();return ct.handle=it,toFileWithPath(ct)}}const rt=_e.getAsFile();if(!rt)throw new Error(`${_e} is not a File`);return toFileWithPath(rt,(nt=et==null?void 0:et.fullPath)!==null&&nt!==void 0?nt:void 0)})}function fromEntry(_e){return __awaiter(this,void 0,void 0,function*(){return _e.isDirectory?fromDirEntry(_e):fromFileEntry(_e)})}function fromDirEntry(_e){const et=_e.createReader();return new Promise((nt,rt)=>{const ot=[];function it(){et.readEntries(ct=>__awaiter(this,void 0,void 0,function*(){if(ct.length){const lt=Promise.all(ct.map(fromEntry));ot.push(lt),it()}else try{const lt=yield Promise.all(ot);nt(lt)}catch(lt){rt(lt)}}),ct=>{rt(ct)})}it()})}function fromFileEntry(_e){return __awaiter(this,void 0,void 0,function*(){return new Promise((et,nt)=>{_e.file(rt=>{const ot=toFileWithPath(rt,_e.fullPath);et(ot)},rt=>{nt(rt)})})})}var _default=function(_e,et){if(_e&&et){var nt=Array.isArray(et)?et:et.split(",");if(nt.length===0)return!0;var rt=_e.name||"",ot=(_e.type||"").toLowerCase(),it=ot.replace(/\/.*$/,"");return nt.some(function(ct){var lt=ct.trim().toLowerCase();return lt.charAt(0)==="."?rt.toLowerCase().endsWith(lt):lt.endsWith("/*")?it===lt.replace(/\/.*$/,""):ot===lt})}return!0};function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function ownKeys$1(_e,et){var nt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(ot){return Object.getOwnPropertyDescriptor(_e,ot).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread$1(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(nt),!0).forEach(function(rt){_defineProperty$2(_e,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(nt)):ownKeys$1(Object(nt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return _e}function _defineProperty$2(_e,et,nt){return et in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}function _slicedToArray$1(_e,et){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,et)||_unsupportedIterableToArray$1(_e,et)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,et);var nt=Object.prototype.toString.call(_e).slice(8,-1);if(nt==="Object"&&_e.constructor&&(nt=_e.constructor.name),nt==="Map"||nt==="Set")return Array.from(_e);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray$1(_e,et)}}function _arrayLikeToArray$1(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=_e[nt];return rt}function _iterableToArrayLimit$1(_e,et){var nt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(nt!=null){var rt=[],ot=!0,it=!1,ct,lt;try{for(nt=nt.call(_e);!(ot=(ct=nt.next()).done)&&(rt.push(ct.value),!(et&&rt.length===et));ot=!0);}catch(pt){it=!0,lt=pt}finally{try{!ot&&nt.return!=null&&nt.return()}finally{if(it)throw lt}}return rt}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}var accepts=typeof _default=="function"?_default:_default.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",nt=et.split(","),rt=nt.length>1?"one of ".concat(nt.join(", ")):nt[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(rt)}},getTooLargeRejectionErr=function(et){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(et," ").concat(et===1?"byte":"bytes")}},getTooSmallRejectionErr=function(et){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(et," ").concat(et===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(_e,et){var nt=_e.type==="application/x-moz-file"||accepts(_e,et);return[nt,nt?null:getInvalidTypeRejectionErr(et)]}function fileMatchSize(_e,et,nt){if(isDefined(_e.size))if(isDefined(et)&&isDefined(nt)){if(_e.size>nt)return[!1,getTooLargeRejectionErr(nt)];if(_e.size<et)return[!1,getTooSmallRejectionErr(et)]}else{if(isDefined(et)&&_e.size<et)return[!1,getTooSmallRejectionErr(et)];if(isDefined(nt)&&_e.size>nt)return[!1,getTooLargeRejectionErr(nt)]}return[!0,null]}function isDefined(_e){return _e!=null}function allFilesAccepted(_e){var et=_e.files,nt=_e.accept,rt=_e.minSize,ot=_e.maxSize,it=_e.multiple,ct=_e.maxFiles,lt=_e.validator;return!it&&et.length>1||it&&ct>=1&&et.length>ct?!1:et.every(function(pt){var mt=fileAccepted(pt,nt),Mt=_slicedToArray$1(mt,1),bt=Mt[0],At=fileMatchSize(pt,rt,ot),wt=_slicedToArray$1(At,1),Tt=wt[0],Rt=lt?lt(pt):null;return bt&&Tt&&!Rt})}function isPropagationStopped(_e){return typeof _e.isPropagationStopped=="function"?_e.isPropagationStopped():typeof _e.cancelBubble<"u"?_e.cancelBubble:!1}function isEvtWithFiles(_e){return _e.dataTransfer?Array.prototype.some.call(_e.dataTransfer.types,function(et){return et==="Files"||et==="application/x-moz-file"}):!!_e.target&&!!_e.target.files}function onDocumentDragOver(_e){_e.preventDefault()}function isIe(_e){return _e.indexOf("MSIE")!==-1||_e.indexOf("Trident/")!==-1}function isEdge(_e){return _e.indexOf("Edge/")!==-1}function isIeOrEdge(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(_e)||isEdge(_e)}function composeEventHandlers(){for(var _e=arguments.length,et=new Array(_e),nt=0;nt<_e;nt++)et[nt]=arguments[nt];return function(rt){for(var ot=arguments.length,it=new Array(ot>1?ot-1:0),ct=1;ct<ot;ct++)it[ct-1]=arguments[ct];return et.some(function(lt){return!isPropagationStopped(rt)&&lt&&lt.apply(void 0,[rt].concat(it)),isPropagationStopped(rt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(_e){if(isDefined(_e)){var et=Object.entries(_e).filter(function(nt){var rt=_slicedToArray$1(nt,2),ot=rt[0],it=rt[1],ct=!0;return isMIMEType(ot)||(console.warn('Skipped "'.concat(ot,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),ct=!1),(!Array.isArray(it)||!it.every(isExt))&&(console.warn('Skipped "'.concat(ot,'" because an invalid file extension was provided.')),ct=!1),ct}).reduce(function(nt,rt){var ot=_slicedToArray$1(rt,2),it=ot[0],ct=ot[1];return _objectSpread$1(_objectSpread$1({},nt),{},_defineProperty$2({},it,ct))},{});return[{description:"Files",accept:et}]}return _e}function acceptPropAsAcceptAttr(_e){if(isDefined(_e))return Object.entries(_e).reduce(function(et,nt){var rt=_slicedToArray$1(nt,2),ot=rt[0],it=rt[1];return[].concat(_toConsumableArray$1(et),[ot],_toConsumableArray$1(it))},[]).filter(function(et){return isMIMEType(et)||isExt(et)}).join(",")}function isAbort(_e){return _e instanceof DOMException&&(_e.name==="AbortError"||_e.code===_e.ABORT_ERR)}function isSecurityError(_e){return _e instanceof DOMException&&(_e.name==="SecurityError"||_e.code===_e.SECURITY_ERR)}function isMIMEType(_e){return _e==="audio/*"||_e==="video/*"||_e==="image/*"||_e==="text/*"||_e==="application/*"||/\w+\/[-+.\w]+/g.test(_e)}function isExt(_e){return/^.*\.[\w]+$/.test(_e)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _slicedToArray(_e,et){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,et)||_unsupportedIterableToArray(_e,et)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,et);var nt=Object.prototype.toString.call(_e).slice(8,-1);if(nt==="Object"&&_e.constructor&&(nt=_e.constructor.name),nt==="Map"||nt==="Set")return Array.from(_e);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray(_e,et)}}function _arrayLikeToArray(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=_e[nt];return rt}function _iterableToArrayLimit(_e,et){var nt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(nt!=null){var rt=[],ot=!0,it=!1,ct,lt;try{for(nt=nt.call(_e);!(ot=(ct=nt.next()).done)&&(rt.push(ct.value),!(et&&rt.length===et));ot=!0);}catch(pt){it=!0,lt=pt}finally{try{!ot&&nt.return!=null&&nt.return()}finally{if(it)throw lt}}return rt}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function ownKeys(_e,et){var nt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(ot){return Object.getOwnPropertyDescriptor(_e,ot).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread(_e){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(nt),!0).forEach(function(rt){_defineProperty$1(_e,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(nt)):ownKeys(Object(nt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return _e}function _defineProperty$1(_e,et,nt){return et in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}function _objectWithoutProperties(_e,et){if(_e==null)return{};var nt=_objectWithoutPropertiesLoose(_e,et),rt,ot;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(ot=0;ot<it.length;ot++)rt=it[ot],!(et.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,rt)&&(nt[rt]=_e[rt])}return nt}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var nt={},rt=Object.keys(_e),ot,it;for(it=0;it<rt.length;it++)ot=rt[it],!(et.indexOf(ot)>=0)&&(nt[ot]=_e[ot]);return nt}var Dropzone=reactExports.forwardRef(function(_e,et){var nt=_e.children,rt=_objectWithoutProperties(_e,_excluded),ot=useDropzone(rt),it=ot.open,ct=_objectWithoutProperties(ot,_excluded2);return reactExports.useImperativeHandle(et,function(){return{open:it}},[it]),React.createElement(reactExports.Fragment,null,nt(_objectSpread(_objectSpread({},ct),{},{open:it})))});Dropzone.displayName="Dropzone";var defaultProps$5={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps$5;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=_objectSpread(_objectSpread({},defaultProps$5),_e),nt=et.accept,rt=et.disabled,ot=et.getFilesFromEvent,it=et.maxSize,ct=et.minSize,lt=et.multiple,pt=et.maxFiles,mt=et.onDragEnter,Mt=et.onDragLeave,bt=et.onDragOver,At=et.onDrop,wt=et.onDropAccepted,Tt=et.onDropRejected,Rt=et.onFileDialogCancel,Bt=et.onFileDialogOpen,Vt=et.useFsAccessApi,$t=et.autoFocus,Ft=et.preventDropOnDocument,Ht=et.noClick,Qt=et.noKeyboard,_n=et.noDrag,hn=et.noDragEventsBubbling,Mn=et.onError,kn=et.validator,Cn=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(nt)},[nt]),yn=reactExports.useMemo(function(){return pickerOptionsFromAccept(nt)},[nt]),Ut=reactExports.useMemo(function(){return typeof Bt=="function"?Bt:noop$1},[Bt]),En=reactExports.useMemo(function(){return typeof Rt=="function"?Rt:noop$1},[Rt]),vn=reactExports.useRef(null),wn=reactExports.useRef(null),Ln=reactExports.useReducer(reducer,initialState),Kn=_slicedToArray(Ln,2),Rn=Kn[0],Tn=Kn[1],Un=Rn.isFocused,$n=Rn.isFileDialogActive,Vn=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&Vt&&canUseFileSystemAccessAPI()),tr=function(){!Vn.current&&$n&&setTimeout(function(){if(wn.current){var cr=wn.current.files;cr.length||(Tn({type:"closeDialog"}),En())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",tr,!1),function(){window.removeEventListener("focus",tr,!1)}},[wn,$n,En,Vn]);var Jn=reactExports.useRef([]),wr=function(cr){vn.current&&vn.current.contains(cr.target)||(cr.preventDefault(),Jn.current=[])};reactExports.useEffect(function(){return Ft&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",wr,!1)),function(){Ft&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",wr))}},[vn,Ft]),reactExports.useEffect(function(){return!rt&&$t&&vn.current&&vn.current.focus(),function(){}},[vn,$t,rt]);var jr=reactExports.useCallback(function(lr){Mn?Mn(lr):console.error(lr)},[Mn]),Zt=reactExports.useCallback(function(lr){lr.preventDefault(),lr.persist(),sr(lr),Jn.current=[].concat(_toConsumableArray(Jn.current),[lr.target]),isEvtWithFiles(lr)&&Promise.resolve(ot(lr)).then(function(cr){if(!(isPropagationStopped(lr)&&!hn)){var gr=cr.length,Mr=gr>0&&allFilesAccepted({files:cr,accept:Cn,minSize:ct,maxSize:it,multiple:lt,maxFiles:pt,validator:kn}),Ar=gr>0&&!Mr;Tn({isDragAccept:Mr,isDragReject:Ar,isDragActive:!0,type:"setDraggedFiles"}),mt&&mt(lr)}}).catch(function(cr){return jr(cr)})},[ot,mt,jr,hn,Cn,ct,it,lt,pt,kn]),hr=reactExports.useCallback(function(lr){lr.preventDefault(),lr.persist(),sr(lr);var cr=isEvtWithFiles(lr);if(cr&&lr.dataTransfer)try{lr.dataTransfer.dropEffect="copy"}catch{}return cr&&bt&&bt(lr),!1},[bt,hn]),lo=reactExports.useCallback(function(lr){lr.preventDefault(),lr.persist(),sr(lr);var cr=Jn.current.filter(function(Mr){return vn.current&&vn.current.contains(Mr)}),gr=cr.indexOf(lr.target);gr!==-1&&cr.splice(gr,1),Jn.current=cr,!(cr.length>0)&&(Tn({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(lr)&&Mt&&Mt(lr))},[vn,Mt,hn]),_o=reactExports.useCallback(function(lr,cr){var gr=[],Mr=[];lr.forEach(function(Ar){var Ir=fileAccepted(Ar,Cn),mo=_slicedToArray(Ir,2),Ao=mo[0],jn=mo[1],Br=fileMatchSize(Ar,ct,it),Pn=_slicedToArray(Br,2),Xr=Pn[0],po=Pn[1],fo=kn?kn(Ar):null;if(Ao&&Xr&&!fo)gr.push(Ar);else{var Us=[jn,po];fo&&(Us=Us.concat(fo)),Mr.push({file:Ar,errors:Us.filter(function(ao){return ao})})}}),(!lt&&gr.length>1||lt&&pt>=1&&gr.length>pt)&&(gr.forEach(function(Ar){Mr.push({file:Ar,errors:[TOO_MANY_FILES_REJECTION]})}),gr.splice(0)),Tn({acceptedFiles:gr,fileRejections:Mr,isDragReject:Mr.length>0,type:"setFiles"}),At&&At(gr,Mr,cr),Mr.length>0&&Tt&&Tt(Mr,cr),gr.length>0&&wt&&wt(gr,cr)},[Tn,lt,Cn,ct,it,pt,At,wt,Tt,kn]),bo=reactExports.useCallback(function(lr){lr.preventDefault(),lr.persist(),sr(lr),Jn.current=[],isEvtWithFiles(lr)&&Promise.resolve(ot(lr)).then(function(cr){isPropagationStopped(lr)&&!hn||_o(cr,lr)}).catch(function(cr){return jr(cr)}),Tn({type:"reset"})},[ot,_o,jr,hn]),Hr=reactExports.useCallback(function(){if(Vn.current){Tn({type:"openDialog"}),Ut();var lr={multiple:lt,types:yn};window.showOpenFilePicker(lr).then(function(cr){return ot(cr)}).then(function(cr){_o(cr,null),Tn({type:"closeDialog"})}).catch(function(cr){isAbort(cr)?(En(cr),Tn({type:"closeDialog"})):isSecurityError(cr)?(Vn.current=!1,wn.current?(wn.current.value=null,wn.current.click()):jr(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):jr(cr)});return}wn.current&&(Tn({type:"openDialog"}),Ut(),wn.current.value=null,wn.current.click())},[Tn,Ut,En,Vt,_o,jr,yn,lt]),Do=reactExports.useCallback(function(lr){!vn.current||!vn.current.isEqualNode(lr.target)||(lr.key===" "||lr.key==="Enter"||lr.keyCode===32||lr.keyCode===13)&&(lr.preventDefault(),Hr())},[vn,Hr]),Oo=reactExports.useCallback(function(){Tn({type:"focus"})},[]),zo=reactExports.useCallback(function(){Tn({type:"blur"})},[]),qo=reactExports.useCallback(function(){Ht||(isIeOrEdge()?setTimeout(Hr,0):Hr())},[Ht,Hr]),_i=function(cr){return rt?null:cr},na=function(cr){return Qt?null:_i(cr)},Qn=function(cr){return _n?null:_i(cr)},sr=function(cr){hn&&cr.stopPropagation()},ar=reactExports.useMemo(function(){return function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=lr.refKey,gr=cr===void 0?"ref":cr,Mr=lr.role,Ar=lr.onKeyDown,Ir=lr.onFocus,mo=lr.onBlur,Ao=lr.onClick,jn=lr.onDragEnter,Br=lr.onDragOver,Pn=lr.onDragLeave,Xr=lr.onDrop,po=_objectWithoutProperties(lr,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:na(composeEventHandlers(Ar,Do)),onFocus:na(composeEventHandlers(Ir,Oo)),onBlur:na(composeEventHandlers(mo,zo)),onClick:_i(composeEventHandlers(Ao,qo)),onDragEnter:Qn(composeEventHandlers(jn,Zt)),onDragOver:Qn(composeEventHandlers(Br,hr)),onDragLeave:Qn(composeEventHandlers(Pn,lo)),onDrop:Qn(composeEventHandlers(Xr,bo)),role:typeof Mr=="string"&&Mr!==""?Mr:"presentation"},gr,vn),!rt&&!Qt?{tabIndex:0}:{}),po)}},[vn,Do,Oo,zo,qo,Zt,hr,lo,bo,Qt,_n,rt]),Or=reactExports.useCallback(function(lr){lr.stopPropagation()},[]),Dr=reactExports.useMemo(function(){return function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=lr.refKey,gr=cr===void 0?"ref":cr,Mr=lr.onChange,Ar=lr.onClick,Ir=_objectWithoutProperties(lr,_excluded4),mo=_defineProperty$1({accept:Cn,multiple:lt,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:_i(composeEventHandlers(Mr,bo)),onClick:_i(composeEventHandlers(Ar,Or)),tabIndex:-1},gr,wn);return _objectSpread(_objectSpread({},mo),Ir)}},[wn,nt,lt,bo,rt]);return _objectSpread(_objectSpread({},Rn),{},{isFocused:Un&&!rt,getRootProps:ar,getInputProps:Dr,rootRef:vn,inputRef:wn,open:_i(Hr)})}function reducer(_e,et){switch(et.type){case"focus":return _objectSpread(_objectSpread({},_e),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},_e),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},_e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},_e),{},{isDragActive:et.isDragActive,isDragAccept:et.isDragAccept,isDragReject:et.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},_e),{},{acceptedFiles:et.acceptedFiles,fileRejections:et.fileRejections,isDragReject:et.isDragReject});case"reset":return _objectSpread({},initialState);default:return _e}}function noop$1(){}const spesificFormatValidator=(_e,et)=>_e?et.map(ot=>ot.split("/")[1]).includes(_e.name.split(".")[_e.name.split(".").length-1])?null:{code:"file-invalid-type",message:"File gagal diunggah"}:{code:"file-invalid-type",message:"File gagal diunggah"},ImageField=({onChange:_e,format:et=[...IMAGE_FORMATS],className:nt,disabled:rt,onFocus:ot,maxSize:it,minSize:ct,previousImageUrl:lt,label:pt})=>{const[mt,Mt]=reactExports.useState(null),{t:bt}=useTranslation(),At=IMAGE_FORMATS.map(Ht=>({[Ht]:[`.${Ht.split("/")[1]}`]})),wt=Object.assign({},...At),{getRootProps:Tt,getInputProps:Rt,fileRejections:Bt,open:Vt}=useDropzone({accept:wt,maxSize:it,minSize:ct,disabled:rt??!1,validator:Ht=>spesificFormatValidator(Ht,et),onFileDialogOpen:()=>{ot&&ot()},onDrop:Ht=>{const Qt=Ht[0];Mt(Qt),Qt&&_e&&_e(Qt)}}),$t=reactExports.useMemo(()=>{var Ht,Qt,_n,hn;return((Qt=(Ht=Bt[0])==null?void 0:Ht.errors[0])==null?void 0:Qt.code)==="file-invalid-type"?bt("upload.uploadExtensionError"):((hn=(_n=Bt[0])==null?void 0:_n.errors[0])==null?void 0:hn.code)==="file-too-large"?bt("upload.uploadLargeError"):null},[Bt]),Ft=reactExports.useMemo(()=>mt?URL.createObjectURL(mt):lt||"/assets/profile-photo-default.png",[mt,lt]);return jsxRuntimeExports.jsxs("div",{className:styles$G.imageField,children:[jsxRuntimeExports.jsx("div",{className:styles$G.imageWrapper,children:jsxRuntimeExports.jsxs("div",{...Tt({className:clsx$2(styles$G.uploadPhoto,nt)}),children:[jsxRuntimeExports.jsx("img",{src:Ft,alt:mt==null?void 0:mt.name}),jsxRuntimeExports.jsx("input",{...Rt()})]})}),jsxRuntimeExports.jsx("div",{className:styles$G.button,children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Vt,children:jsxRuntimeExports.jsx("span",{children:pt??"Ubah Foto"})})}),jsxRuntimeExports.jsx("div",{className:clsx$2(styles$G.helperText,(Bt==null?void 0:Bt.length)&&styles$G.error),children:jsxRuntimeExports.jsx("span",{children:$t})})]})},EditProfile$1=({data:_e})=>{const[et,nt]=reactExports.useState(),{user:rt}=useSelector(ot=>ot.auth);return reactExports.useEffect(()=>{},[et]),jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Edit Profil",withBack:!0}),jsxRuntimeExports.jsx("div",{className:styles$H.editProfile,children:jsxRuntimeExports.jsxs("div",{className:styles$H.form,children:[jsxRuntimeExports.jsx(ImageField,{name:"imageUrl",previousImageUrl:rt==null?void 0:rt.avatar,onChange:ot=>nt(ot)}),jsxRuntimeExports.jsx(Link,{to:"/profile/edit/name",children:jsxRuntimeExports.jsxs("div",{className:styles$H.triggerEdit,children:[jsxRuntimeExports.jsx("span",{children:"Nama"}),jsxRuntimeExports.jsx("p",{children:(rt==null?void 0:rt.nick_name)??"Unknown"})]})}),jsxRuntimeExports.jsx(Link,{to:"/profile/edit/email",children:jsxRuntimeExports.jsxs("div",{className:styles$H.triggerEdit,children:[jsxRuntimeExports.jsx("span",{children:"Email"}),jsxRuntimeExports.jsx("p",{children:(rt==null?void 0:rt.email)??"-"})]})}),jsxRuntimeExports.jsx(Link,{to:"/profile/edit/phone-number",children:jsxRuntimeExports.jsxs("div",{className:styles$H.triggerEdit,children:[jsxRuntimeExports.jsx("span",{children:"No Hp."}),jsxRuntimeExports.jsx("p",{children:(rt==null?void 0:rt.account)??"-"})]})})]})})]})},editName="_editName_ihpjq_1",heading$e="_heading_ihpjq_5",form$c="_form_ihpjq_23",button$8="_button_ihpjq_28",triggerEdit$4="_triggerEdit_ihpjq_31",styles$F={editName,heading:heading$e,form:form$c,button:button$8,triggerEdit:triggerEdit$4},schema$9=create$3().shape({fullname:create$6().required("Tidak boleh kosong!")}),EditName=()=>{var mt,Mt;const[_e,et]=reactExports.useState(!1),{push:nt}=useHistory(),{user:rt}=useSelector(bt=>bt.auth),ot=useDispatch(),{handleSubmit:it,register:ct,formState:{errors:lt}}=useForm({mode:"onChange",resolver:o(schema$9),defaultValues:{fullname:rt==null?void 0:rt.nick_name}}),pt=async bt=>{et(!0);const{status:At,msg:wt}=await userService.update({nick_name:bt.fullname});At===1?Toast.fail({message:wt}):(ot(authActions.requestUser()),nt("/profile/edit"),Toast.success({message:"Berhasil diperbarui!"})),et(!1)};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Ubah Nama",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$F.editName,children:[jsxRuntimeExports.jsxs("div",{className:styles$F.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Apa Nama yang Mau Kamu Tampilkan?"}),jsxRuntimeExports.jsx("p",{children:"Kamu bisa pakai nama asli atau nama panggilan yang kamu nyaman"})]}),jsxRuntimeExports.jsx("form",{onSubmit:it(pt),children:jsxRuntimeExports.jsxs("div",{className:styles$F.form,children:[jsxRuntimeExports.jsx(InputField$1,{...ct("fullname"),placeholder:"Masukkan Nama",error:!!((mt=lt.fullname)!=null&&mt.message),helperText:(Mt=lt.fullname)==null?void 0:Mt.message}),jsxRuntimeExports.jsx("div",{className:styles$F.button,children:jsxRuntimeExports.jsx(MainButton,{loading:_e,children:"Simpan"})})]})})]})]})},editEmail="_editEmail_h596p_1",heading$d="_heading_h596p_5",form$b="_form_h596p_23",button$7="_button_h596p_28",triggerEdit$3="_triggerEdit_h596p_31",styles$E={editEmail,heading:heading$d,form:form$b,button:button$7,triggerEdit:triggerEdit$3},schema$8=create$3().shape({email:create$6().required("Tidak boleh kosong!")}),EditEmail=()=>{var mt,Mt;const[_e,et]=reactExports.useState(!1),{push:nt}=useHistory(),{user:rt}=useSelector(bt=>bt.auth),ot=useDispatch(),{handleSubmit:it,register:ct,formState:{errors:lt}}=useForm({mode:"onChange",resolver:o(schema$8),defaultValues:{email:rt==null?void 0:rt.email}}),pt=async bt=>{et(!0);const{status:At,msg:wt}=await userService.update({email:bt.email});At===1?Toast.fail({message:wt}):(ot(authActions.requestUser()),nt("/profile/edit"),Toast.success({message:"Berhasil diperbarui!"})),et(!1)};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Ubah Email",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$E.editEmail,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Kamu Mau Ubah Email?"}),jsxRuntimeExports.jsx("p",{children:"Ubah dengan email yang kamu mau hubungkan"})]}),jsxRuntimeExports.jsx("form",{onSubmit:it(pt),children:jsxRuntimeExports.jsxs("div",{className:styles$E.form,children:[jsxRuntimeExports.jsx(InputField$1,{...ct("email"),placeholder:"Masukkan Email",error:!!((mt=lt.email)!=null&&mt.message),helperText:(Mt=lt.email)==null?void 0:Mt.message}),jsxRuntimeExports.jsx("div",{className:styles$E.button,children:jsxRuntimeExports.jsx(MainButton,{loading:_e,children:"Simpan"})})]})})]})]})},success$1="_success_15uz5_1",wrapper$a="_wrapper_15uz5_7",icon$2="_icon_15uz5_14",desc$3="_desc_15uz5_18",actions$4="_actions_15uz5_33",styles$D={success:success$1,wrapper:wrapper$a,icon:icon$2,desc:desc$3,actions:actions$4},Success$1=()=>{const{push:_e}=useHistory();return jsxRuntimeExports.jsxs(HomeLayout,{noFooter:!0,children:[jsxRuntimeExports.jsx(GeneralHeader,{closePath:"/login"}),jsxRuntimeExports.jsx("div",{className:styles$D.success,children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$D.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$D.icon,children:jsxRuntimeExports.jsx("img",{src:"/assets/phone.png",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$D.desc,children:[jsxRuntimeExports.jsx("h1",{children:"No. Hp Berhasil Diubah!"}),jsxRuntimeExports.jsx("p",{children:"Selamat! Kamu berhasil ubah No. Hp!."})]}),jsxRuntimeExports.jsx("div",{className:styles$D.actions,children:jsxRuntimeExports.jsx(MainButton,{onClick:()=>_e("/profile/edit"),children:"Back"})})]})})})]})},editPassword="_editPassword_1sw4o_1",heading$c="_heading_1sw4o_5",form$a="_form_1sw4o_23",button$6="_button_1sw4o_28",triggerEdit$2="_triggerEdit_1sw4o_31",styles$C={editPassword,heading:heading$c,form:form$a,button:button$6,triggerEdit:triggerEdit$2},schema$7=create$3().shape({password:create$6().required("Tidak boleh kosong!")}),ConfirmPassword=({setStep:_e})=>{var Mt,bt;const[et,nt]=reactExports.useState(!1),{handleSubmit:rt,register:ot,setValue:it,watch:ct,formState:{errors:lt}}=useForm({mode:"onChange",resolver:o(schema$7)}),[pt]=ct(["password"]),mt=async At=>{nt(!0);const{status:wt,msg:Tt}=await userService.verifyPasword({pwd:At.password});wt===1?Toast.fail({message:Tt}):_e(2),nt(!1)};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Pengajuan Ubah No. Hp",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$C.editPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$C.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Masukkan Password Kamu Biar Lebih Aman"}),jsxRuntimeExports.jsx("p",{children:"Supaya perubahan email kamu lebih aman, masukkan password kamu dulu"})]}),jsxRuntimeExports.jsx("form",{onSubmit:rt(mt),children:jsxRuntimeExports.jsxs("div",{className:styles$C.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password",error:!!((Mt=lt.password)!=null&&Mt.message),helperText:(bt=lt.password)==null?void 0:bt.message,onChange:At=>it("password",At.target.value,{shouldValidate:!0}),value:pt,password:!0}),jsxRuntimeExports.jsx("div",{className:styles$C.button,children:jsxRuntimeExports.jsx(MainButton,{loading:et,children:"Ajukan Perubahan No. Hp"})})]})})]})]})},newPhoneNumber="_newPhoneNumber_1867g_1",heading$b="_heading_1867g_5",form$9="_form_1867g_23",button$5="_button_1867g_28",triggerEdit$1="_triggerEdit_1867g_31",styles$B={newPhoneNumber,heading:heading$b,form:form$9,button:button$5,triggerEdit:triggerEdit$1};function convertPhoneNumber(_e=""){return _e.startsWith("62")&&(_e=_e.substr(2)),"62"+_e}const schema$6=create$3().shape({phoneNumber:create$6().required("Tidak boleh kosong!")}),NewPhoneNumber=({setStep:_e,setPhoneNumber:et})=>{var bt,At;const[nt,rt]=reactExports.useState(!1),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema$6)}),[mt]=lt(["phoneNumber"]),Mt=async wt=>{console.log(wt),rt(!0);const{status:Tt,msg:Rt}=await userService.requestOtp({mobile:convertPhoneNumber(wt.phoneNumber)});Tt===1?Toast.fail({message:Rt}):(et(convertPhoneNumber(wt.phoneNumber)),_e(3)),rt(!1)};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Ubah Email",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$B.newPhoneNumber,children:[jsxRuntimeExports.jsxs("div",{className:styles$B.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Masukkan No. Hp Baru Kamu"}),jsxRuntimeExports.jsx("p",{children:"Masukkan No. Hp yang mau kamu gunakan untuk akunmu"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(Mt),children:jsxRuntimeExports.jsxs("div",{className:styles$B.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"XXXXXXXXXX",error:!!((bt=pt.phoneNumber)!=null&&bt.message),helperText:(At=pt.phoneNumber)==null?void 0:At.message,phoneInput:!0,value:mt,onChange:wt=>ct("phoneNumber",wt,{shouldValidate:!0})}),jsxRuntimeExports.jsx("div",{className:styles$B.button,children:jsxRuntimeExports.jsx(MainButton,{loading:nt,children:"Ubah No. Hp"})})]})})]})]})},forgotPassword$6="_forgotPassword_t2m1j_1",heading$a="_heading_t2m1j_5",form$8="_form_t2m1j_23",button$4="_button_t2m1j_28",resend$3="_resend_t2m1j_31",styles$A={forgotPassword:forgotPassword$6,heading:heading$a,form:form$8,button:button$4,resend:resend$3},OTPMaskInputContainer="_OTPMaskInputContainer_ye386_1",OTPMask="_OTPMask_ye386_1",OTPValue="_OTPValue_ye386_7",OTPValueActive="_OTPValueActive_ye386_24",blink="_blink_ye386_1",OTPMaskFilled="_OTPMaskFilled_ye386_40",OTPMaskError="_OTPMaskError_ye386_43",errorText="_errorText_ye386_46",OTPInput$1="_OTPInput_ye386_54",styles$z={OTPMaskInputContainer,OTPMask,OTPValue,OTPValueActive,blink,OTPMaskFilled,OTPMaskError,errorText,OTPInput:OTPInput$1},OTPInput=reactExports.forwardRef(({length:_e,value:et,onChange:nt,disabled:rt,autoFocus:ot,error:it},ct)=>{const lt=reactExports.useRef(null),pt=reactExports.useRef(null),[mt,Mt]=reactExports.useState(!1),bt=reactExports.useMemo(()=>{let wt=[];for(let Tt=0;Tt<_e;Tt++)wt.push(jsxRuntimeExports.jsx("div",{className:clsx$2(styles$z.OTPValue,et.length===Tt&&!rt&&mt&&styles$z.OTPValueActive),children:et?et.charAt(Tt):""},Tt));return wt},[_e,et,rt,mt]),At=wt=>{const Tt=wt.target.value,Rt=/^[0-9\b]+$/;if(Tt.length>_e){wt.preventDefault();return}(Tt===""||Rt.test(Tt))&&typeof nt=="function"&&nt(Tt)};return reactExports.useEffect(()=>{const wt=Rt=>{const Bt=pt.current;Bt&&Bt.contains(Rt.target)?Mt(!0):Mt(!1)},Tt=Rt=>{const Bt=lt.current;Bt&&Bt.contains(Rt.target)&&["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(Rt.key)&&Rt.preventDefault()};return window.addEventListener("click",wt),window.addEventListener("keydown",Tt),()=>{window.removeEventListener("click",wt),window.removeEventListener("keydown",Tt)}},[]),reactExports.useEffect(()=>{var wt;mt&&((wt=lt.current)==null||wt.focus())},[mt]),jsxRuntimeExports.jsxs("div",{className:styles$z.OTPMaskInputContainer,children:[jsxRuntimeExports.jsx("input",{value:et,onChange:At,maxLength:_e,ref:wt=>{lt.current=wt,typeof ct=="function"&&ct(wt)},autoFocus:ot,autoComplete:"off",autoCorrect:"off",disabled:rt,className:styles$z.OTPInput,onFocus:()=>Mt(!0),onBlur:()=>Mt(!1)}),jsxRuntimeExports.jsx("div",{className:clsx$2(styles$z.OTPMask,it&&styles$z.OTPMaskError,et.length===_e&&mt&&styles$z.OTPMaskFilled),ref:pt,children:bt}),it&&jsxRuntimeExports.jsx("p",{className:styles$z.errorText,children:it})]})});function timeConvert(_e){const et=String(Math.floor(_e/60)),nt=String(_e%60);return`${et.length>1?et:"0"+et}:${nt.length>1?nt:"0"+nt}`}const PhoneVerification$2=({setStep:_e,phoneNumber:et})=>{const[nt,rt]=reactExports.useState(60),[ot,it]=reactExports.useState(600),[ct,lt]=reactExports.useState(""),[pt,mt]=reactExports.useState(""),[Mt,bt]=reactExports.useState(!0),[At,wt]=reactExports.useState(!1),Tt=useDispatch(),Rt=()=>{wt(!0),userService.requestOtp({mobile:et}).then(({data:{status:Vt,msg:$t}})=>{wt(!1),Vt===1&&Toast.fail({message:$t})}).catch(Vt=>{console.log(Vt)})};reactExports.useEffect(()=>{const Vt=setInterval(()=>{nt?rt($t=>$t-1):clearInterval(Vt)},1e3);return()=>{clearInterval(Vt)}},[nt,rt]),reactExports.useEffect(()=>{const Vt=setInterval(()=>{ot?it($t=>$t-1):clearInterval(Vt)},1e3);return()=>{clearInterval(Vt)}},[ot,it]);const Bt=async()=>{wt(!0);try{const{status:Vt,msg:$t}=await userService.changePhoneNumber({newMobile:et,smscode:pt});Vt===1?Toast.fail({message:$t}):(Tt(authActions.requestUser()),_e(4))}catch(Vt){Toast.fail({message:Vt})}finally{wt(!1)}};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Verifikasi Nomor",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$A.forgotPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$A.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Masukkan Kode OTP"}),jsxRuntimeExports.jsx("p",{children:"Kode OTP sudah dikirim melalui SMS"})]}),jsxRuntimeExports.jsxs("div",{className:styles$A.form,children:[jsxRuntimeExports.jsx("div",{className:styles$A.formWrapper,children:jsxRuntimeExports.jsx(OTPInput,{length:6,numberOnly:!0,autoFocus:!0,value:pt,onChange:Vt=>{ct&&lt(""),mt(Vt)},error:ct})}),nt?jsxRuntimeExports.jsx("div",{className:styles$A.resend,children:jsxRuntimeExports.jsxs("span",{children:["Kirim ulang kode dalam ",jsxRuntimeExports.jsx("b",{children:Mt&&` (${timeConvert(nt)})`})]})}):jsxRuntimeExports.jsx("div",{className:styles$A.resend,children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Rt,children:"Kirim ulang kode"})}),jsxRuntimeExports.jsx("div",{className:styles$A.button,children:jsxRuntimeExports.jsx(MainButton,{onClick:Bt,loading:At,children:"Lanjut"})})]})]})]})},EditPhoneNumber=()=>{const[_e,et]=reactExports.useState(1),[nt,rt]=reactExports.useState(""),ot=reactExports.useMemo(()=>{if(_e===1)return jsxRuntimeExports.jsx(ConfirmPassword,{setStep:et});if(_e===2)return jsxRuntimeExports.jsx(NewPhoneNumber,{setStep:et,setPhoneNumber:rt});if(_e===3)return jsxRuntimeExports.jsx(PhoneVerification$2,{setStep:et,phoneNumber:nt});if(_e===4)return jsxRuntimeExports.jsx(Success$1,{})},[_e,nt]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ot})},EditProfile=({match:_e})=>jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{path:_e.url,exact:!0,component:EditProfile$1}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/name`,component:EditName}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/email`,component:EditEmail}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/phone-number`,component:EditPhoneNumber})]}),Profile=({match:_e})=>jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{path:_e.url,exact:!0,component:Main$2}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/settings`,component:ConfigList}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/edit`,component:EditProfile})]}),login$3="_login_1ar95_1",wrapper$9="_wrapper_1ar95_8",heading$9="_heading_1ar95_13",form$7="_form_1ar95_28",forgotPassword$5="_forgotPassword_1ar95_33",redirect$1="_redirect_1ar95_37",styles$y={login:login$3,wrapper:wrapper$9,heading:heading$9,form:form$7,forgotPassword:forgotPassword$5,redirect:redirect$1},schema$5=create$3().shape({phoneNumber:create$6().required("Tidak boleh kosong!"),password:create$6()}),Login$1=({})=>{var At,wt,Tt,Rt;const[_e,et]=reactExports.useState(!1),{replace:nt}=useHistory(),rt=useDispatch(),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema$5)}),[mt,Mt]=lt(["password","phoneNumber"]),bt=()=>{et(!0),authService.login({account:convertPhoneNumber(Mt),pwd:mt}).then(({data:Bt,status:Vt,msg:$t})=>{if(Vt===1)Toast.fail({message:$t});else{const{id:Ft,token_web:Ht,txim_sign:Qt}=Bt;nt("/"),setTimeout(()=>{rt(authActions.login(Ft,Ht,Qt,Bt))},100)}et(!1)}).catch(Bt=>{console.log(Bt)})};return jsxRuntimeExports.jsx(HomeLayout,{children:jsxRuntimeExports.jsx("div",{className:styles$y.login,children:jsxRuntimeExports.jsxs("div",{className:styles$y.wrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$y.heading,children:[jsxRuntimeExports.jsx("h1",{children:"Jelajahi Lebih Seru!"}),jsxRuntimeExports.jsx("p",{children:"Masuk untuk dapat konten yang sesuai pilihanmu dan akses fitur interaktif"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(bt),children:jsxRuntimeExports.jsxs("div",{className:styles$y.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"XXXXXXXXXX",error:!!((At=pt.phoneNumber)!=null&&At.message),helperText:(wt=pt.phoneNumber)==null?void 0:wt.message,phoneInput:!0,value:Mt,onChange:Bt=>ct("phoneNumber",Bt,{shouldValidate:!0})}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password",error:!!((Tt=pt.password)!=null&&Tt.message),helperText:(Rt=pt.password)==null?void 0:Rt.message,onChange:Bt=>ct("password",Bt.target.value,{shouldValidate:!0}),value:mt,password:!0}),jsxRuntimeExports.jsx("div",{className:clsx$2(styles$y.redirect,styles$y.forgotPassword),children:jsxRuntimeExports.jsx(Link,{to:"/forgot-password",children:jsxRuntimeExports.jsx("span",{children:"Lupa Password?"})})}),jsxRuntimeExports.jsx(MainButton,{loading:_e,children:"Masuk"}),jsxRuntimeExports.jsx("div",{className:styles$y.redirect,children:jsxRuntimeExports.jsxs("p",{children:["Belum punya akun? ",jsxRuntimeExports.jsx(Link,{to:"/register",children:jsxRuntimeExports.jsx("span",{children:"Daftar di Sini"})})]})})]})})]})})})},notFound="_notFound_x0juu_1",wrapper$8="_wrapper_x0juu_8",description$2="_description_x0juu_19",styles$x={notFound,wrapper:wrapper$8,description:description$2},plainLayout="_plainLayout_qrco6_1",styles$w={plainLayout},PlainLayout=({children:_e})=>jsxRuntimeExports.jsx("div",{className:styles$w.plainLayout,children:jsxRuntimeExports.jsx("div",{className:"container p-0",children:_e})}),NotFound=({})=>jsxRuntimeExports.jsx(PlainLayout,{children:jsxRuntimeExports.jsx("div",{className:styles$x.notFound,children:jsxRuntimeExports.jsxs("div",{className:styles$x.wrapper,children:[jsxRuntimeExports.jsx("img",{src:"/assets/404.png",alt:""}),jsxRuntimeExports.jsxs("div",{className:styles$x.description,children:[jsxRuntimeExports.jsx("h4",{children:"Halaman Tidak Ditemukan"}),jsxRuntimeExports.jsx("p",{children:"Wah, halaman yang kamu buka tidak tersedia."})]}),jsxRuntimeExports.jsx(MainButton,{href:"/",children:"Kembali ke Home"})]})})}),register="_register_1abhz_1",wrapper$7="_wrapper_1abhz_7",heading$8="_heading_1abhz_12",form$6="_form_1abhz_27",line$3="_line_1abhz_32",login$2="_login_1abhz_37",styles$v={register,wrapper:wrapper$7,heading:heading$8,form:form$6,line:line$3,login:login$2},authLayout="_authLayout_9m7ww_1",styles$u={authLayout},AuthLayout=({children:_e})=>jsxRuntimeExports.jsx("div",{className:styles$u.authLayout,children:jsxRuntimeExports.jsx("div",{className:"container p-0",children:_e})}),schema$4=create$3().shape({phoneNumber:create$6().required("Tidak boleh kosong!"),password:create$6().matches(passwordRegex,"Kata sandi 8 karakter dengan kombinasi huruf kecil, huruf kapital, angka, dan simbol").required("Tidak boleh kosong!"),passwordConfirmation:create$6().test("matchPassword","Kata sandi tidak sama",function(_e){return this.parent.password?_e===this.parent.password:!0})}),Register$1=({setStep:_e})=>{var wt,Tt,Rt,Bt,Vt,$t;const[et,nt]=reactExports.useState(!1),rt=useDispatch(),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema$4)}),[mt,Mt,bt]=lt(["phoneNumber","password","passwordConfirmation"]),At=Ft=>{nt(!0),userService.requestOtp({mobile:convertPhoneNumber(mt)}).then(({status:Ht,msg:Qt})=>{nt(!1),Ht===1?Toast.fail({message:Qt}):(rt(registrationActions.registration({phoneNumber:mt,password:Mt})),_e(2))}).catch(Ht=>{console.log(Ht)})};return jsxRuntimeExports.jsxs(AuthLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Daftar Akun",withBack:!0}),jsxRuntimeExports.jsx("div",{className:styles$v.register,children:jsxRuntimeExports.jsxs("div",{className:styles$v.wrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$v.heading,children:[jsxRuntimeExports.jsx("h1",{children:"Jelajahi Lebih Seru!"}),jsxRuntimeExports.jsx("p",{children:"Masuk untuk dapat konten yang sesuai pilihanmu dan akses fitur interaktif"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(At),children:jsxRuntimeExports.jsxs("div",{className:styles$v.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"XXXXXXXXXX",error:!!((wt=pt.phoneNumber)!=null&&wt.message),helperText:(Tt=pt.phoneNumber)==null?void 0:Tt.message,phoneInput:!0,value:mt,onChange:Ft=>ct("phoneNumber",Ft,{shouldValidate:!0})}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password",error:!!((Rt=pt.password)!=null&&Rt.message),helperText:(Bt=pt.password)==null?void 0:Bt.message,onChange:Ft=>ct("password",Ft.target.value,{shouldValidate:!0}),value:Mt,password:!0}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Konfirmasi Password",error:!!((Vt=pt.passwordConfirmation)!=null&&Vt.message),helperText:($t=pt.passwordConfirmation)==null?void 0:$t.message,onChange:Ft=>ct("passwordConfirmation",Ft.target.value,{shouldValidate:!0}),value:bt,password:!0}),jsxRuntimeExports.jsx(MainButton,{loading:et,children:"Lanjut"}),jsxRuntimeExports.jsx("div",{className:styles$v.line}),jsxRuntimeExports.jsx("div",{className:styles$v.login,children:jsxRuntimeExports.jsxs("p",{children:["Sudah punya akun? ",jsxRuntimeExports.jsx(Link,{to:"/login",children:"Masuk di Sini"})]})})]})})]})})]})},forgotPassword$4="_forgotPassword_t2m1j_1",heading$7="_heading_t2m1j_5",form$5="_form_t2m1j_23",button$3="_button_t2m1j_28",resend$2="_resend_t2m1j_31",styles$t={forgotPassword:forgotPassword$4,heading:heading$7,form:form$5,button:button$3,resend:resend$2},c=_e=>typeof _e=="number"&&!isNaN(_e),d=_e=>typeof _e=="string",u=_e=>typeof _e=="function",p=_e=>d(_e)||u(_e)?_e:null,m$1=_e=>reactExports.isValidElement(_e)||d(_e)||u(_e)||c(_e);function f(_e,et,nt){nt===void 0&&(nt=300);const{scrollHeight:rt,style:ot}=_e;requestAnimationFrame(()=>{ot.minHeight="initial",ot.height=rt+"px",ot.transition=`all ${nt}ms`,requestAnimationFrame(()=>{ot.height="0",ot.padding="0",ot.margin="0",setTimeout(et,nt)})})}function g(_e){let{enter:et,exit:nt,appendPosition:rt=!1,collapse:ot=!0,collapseDuration:it=300}=_e;return function(ct){let{children:lt,position:pt,preventExitTransition:mt,done:Mt,nodeRef:bt,isIn:At,playToast:wt}=ct;const Tt=rt?`${et}--${pt}`:et,Rt=rt?`${nt}--${pt}`:nt,Bt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const Vt=bt.current,$t=Tt.split(" "),Ft=Ht=>{Ht.target===bt.current&&(wt(),Vt.removeEventListener("animationend",Ft),Vt.removeEventListener("animationcancel",Ft),Bt.current===0&&Ht.type!=="animationcancel"&&Vt.classList.remove(...$t))};Vt.classList.add(...$t),Vt.addEventListener("animationend",Ft),Vt.addEventListener("animationcancel",Ft)},[]),reactExports.useEffect(()=>{const Vt=bt.current,$t=()=>{Vt.removeEventListener("animationend",$t),ot?f(Vt,Mt,it):Mt()};At||(mt?$t():(Bt.current=1,Vt.className+=` ${Rt}`,Vt.addEventListener("animationend",$t)))},[At]),React.createElement(React.Fragment,null,lt)}}function y(_e,et){return _e!=null?{content:_e.content,containerId:_e.props.containerId,id:_e.props.toastId,theme:_e.props.theme,type:_e.props.type,data:_e.props.data||{},isLoading:_e.props.isLoading,icon:_e.props.icon,status:et}:{}}const v=new Map;let h=[];const T=new Set,E=_e=>T.forEach(et=>et(_e)),b=()=>v.size>0;function I(_e,et){var nt;if(et)return!((nt=v.get(et))==null||!nt.isToastActive(_e));let rt=!1;return v.forEach(ot=>{ot.isToastActive(_e)&&(rt=!0)}),rt}function _(_e,et){m$1(_e)&&(b()||h.push({content:_e,options:et}),v.forEach(nt=>{nt.buildToast(_e,et)}))}function C(_e,et){v.forEach(nt=>{et!=null&&et!=null&&et.containerId?(et==null?void 0:et.containerId)===nt.id&&nt.toggle(_e,et==null?void 0:et.id):nt.toggle(_e,et==null?void 0:et.id)})}function L(_e){const{subscribe:et,getSnapshot:nt,setProps:rt}=reactExports.useRef(function(it){const ct=it.containerId||1;return{subscribe(lt){const pt=function(Mt,bt,At){let wt=1,Tt=0,Rt=[],Bt=[],Vt=[],$t=bt;const Ft=new Map,Ht=new Set,Qt=()=>{Vt=Array.from(Ft.values()),Ht.forEach(Mn=>Mn())},_n=Mn=>{Bt=Mn==null?[]:Bt.filter(kn=>kn!==Mn),Qt()},hn=Mn=>{const{toastId:kn,onOpen:Cn,updateId:yn,children:Ut}=Mn.props,En=yn==null;Mn.staleId&&Ft.delete(Mn.staleId),Ft.set(kn,Mn),Bt=[...Bt,Mn.props.toastId].filter(vn=>vn!==Mn.staleId),Qt(),At(y(Mn,En?"added":"updated")),En&&u(Cn)&&Cn(reactExports.isValidElement(Ut)&&Ut.props)};return{id:Mt,props:$t,observe:Mn=>(Ht.add(Mn),()=>Ht.delete(Mn)),toggle:(Mn,kn)=>{Ft.forEach(Cn=>{kn!=null&&kn!==Cn.props.toastId||u(Cn.toggle)&&Cn.toggle(Mn)})},removeToast:_n,toasts:Ft,clearQueue:()=>{Tt-=Rt.length,Rt=[]},buildToast:(Mn,kn)=>{if((Vn=>{let{containerId:tr,toastId:Jn,updateId:wr}=Vn;const jr=tr?tr!==Mt:Mt!==1,Zt=Ft.has(Jn)&&wr==null;return jr||Zt})(kn))return;const{toastId:Cn,updateId:yn,data:Ut,staleId:En,delay:vn}=kn,wn=()=>{_n(Cn)},Ln=yn==null;Ln&&Tt++;const Kn={...$t,style:$t.toastStyle,key:wt++,...Object.fromEntries(Object.entries(kn).filter(Vn=>{let[tr,Jn]=Vn;return Jn!=null})),toastId:Cn,updateId:yn,data:Ut,closeToast:wn,isIn:!1,className:p(kn.className||$t.toastClassName),bodyClassName:p(kn.bodyClassName||$t.bodyClassName),progressClassName:p(kn.progressClassName||$t.progressClassName),autoClose:!kn.isLoading&&(Rn=kn.autoClose,Tn=$t.autoClose,Rn===!1||c(Rn)&&Rn>0?Rn:Tn),deleteToast(){const Vn=Ft.get(Cn),{onClose:tr,children:Jn}=Vn.props;u(tr)&&tr(reactExports.isValidElement(Jn)&&Jn.props),At(y(Vn,"removed")),Ft.delete(Cn),Tt--,Tt<0&&(Tt=0),Rt.length>0?hn(Rt.shift()):Qt()}};var Rn,Tn;Kn.closeButton=$t.closeButton,kn.closeButton===!1||m$1(kn.closeButton)?Kn.closeButton=kn.closeButton:kn.closeButton===!0&&(Kn.closeButton=!m$1($t.closeButton)||$t.closeButton);let Un=Mn;reactExports.isValidElement(Mn)&&!d(Mn.type)?Un=reactExports.cloneElement(Mn,{closeToast:wn,toastProps:Kn,data:Ut}):u(Mn)&&(Un=Mn({closeToast:wn,toastProps:Kn,data:Ut}));const $n={content:Un,props:Kn,staleId:En};$t.limit&&$t.limit>0&&Tt>$t.limit&&Ln?Rt.push($n):c(vn)?setTimeout(()=>{hn($n)},vn):hn($n)},setProps(Mn){$t=Mn},setToggle:(Mn,kn)=>{Ft.get(Mn).toggle=kn},isToastActive:Mn=>Bt.some(kn=>kn===Mn),getSnapshot:()=>Vt}}(ct,it,E);v.set(ct,pt);const mt=pt.observe(lt);return h.forEach(Mt=>_(Mt.content,Mt.options)),h=[],()=>{mt(),v.delete(ct)}},setProps(lt){var pt;(pt=v.get(ct))==null||pt.setProps(lt)},getSnapshot(){var lt;return(lt=v.get(ct))==null?void 0:lt.getSnapshot()}}}(_e)).current;rt(_e);const ot=reactExports.useSyncExternalStore(et,nt,nt);return{getToastToRender:function(it){if(!ot)return[];const ct=new Map;return _e.newestOnTop&&ot.reverse(),ot.forEach(lt=>{const{position:pt}=lt.props;ct.has(pt)||ct.set(pt,[]),ct.get(pt).push(lt)}),Array.from(ct,lt=>it(lt[0],lt[1]))},isToastActive:I,count:ot==null?void 0:ot.length}}function N(_e){const[et,nt]=reactExports.useState(!1),[rt,ot]=reactExports.useState(!1),it=reactExports.useRef(null),ct=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:lt,pauseOnHover:pt,closeToast:mt,onClick:Mt,closeOnClick:bt}=_e;var At,wt;function Tt(){nt(!0)}function Rt(){nt(!1)}function Bt(Ft){const Ht=it.current;ct.canDrag&&Ht&&(ct.didMove=!0,et&&Rt(),ct.delta=_e.draggableDirection==="x"?Ft.clientX-ct.start:Ft.clientY-ct.start,ct.start!==Ft.clientX&&(ct.canCloseOnClick=!1),Ht.style.transform=`translate3d(${_e.draggableDirection==="x"?`${ct.delta}px, var(--y)`:`0, calc(${ct.delta}px + var(--y))`},0)`,Ht.style.opacity=""+(1-Math.abs(ct.delta/ct.removalDistance)))}function Vt(){document.removeEventListener("pointermove",Bt),document.removeEventListener("pointerup",Vt);const Ft=it.current;if(ct.canDrag&&ct.didMove&&Ft){if(ct.canDrag=!1,Math.abs(ct.delta)>ct.removalDistance)return ot(!0),_e.closeToast(),void _e.collapseAll();Ft.style.transition="transform 0.2s, opacity 0.2s",Ft.style.removeProperty("transform"),Ft.style.removeProperty("opacity")}}(wt=v.get((At={id:_e.toastId,containerId:_e.containerId,fn:nt}).containerId||1))==null||wt.setToggle(At.id,At.fn),reactExports.useEffect(()=>{if(_e.pauseOnFocusLoss)return document.hasFocus()||Rt(),window.addEventListener("focus",Tt),window.addEventListener("blur",Rt),()=>{window.removeEventListener("focus",Tt),window.removeEventListener("blur",Rt)}},[_e.pauseOnFocusLoss]);const $t={onPointerDown:function(Ft){if(_e.draggable===!0||_e.draggable===Ft.pointerType){ct.didMove=!1,document.addEventListener("pointermove",Bt),document.addEventListener("pointerup",Vt);const Ht=it.current;ct.canCloseOnClick=!0,ct.canDrag=!0,Ht.style.transition="none",_e.draggableDirection==="x"?(ct.start=Ft.clientX,ct.removalDistance=Ht.offsetWidth*(_e.draggablePercent/100)):(ct.start=Ft.clientY,ct.removalDistance=Ht.offsetHeight*(_e.draggablePercent===80?1.5*_e.draggablePercent:_e.draggablePercent)/100)}},onPointerUp:function(Ft){const{top:Ht,bottom:Qt,left:_n,right:hn}=it.current.getBoundingClientRect();Ft.nativeEvent.type!=="touchend"&&_e.pauseOnHover&&Ft.clientX>=_n&&Ft.clientX<=hn&&Ft.clientY>=Ht&&Ft.clientY<=Qt?Rt():Tt()}};return lt&&pt&&($t.onMouseEnter=Rt,_e.stacked||($t.onMouseLeave=Tt)),bt&&($t.onClick=Ft=>{Mt&&Mt(Ft),ct.canCloseOnClick&&mt()}),{playToast:Tt,pauseToast:Rt,isRunning:et,preventExitTransition:rt,toastRef:it,eventHandlers:$t}}function $(_e){let{delay:et,isRunning:nt,closeToast:rt,type:ot="default",hide:it,className:ct,style:lt,controlledProgress:pt,progress:mt,rtl:Mt,isIn:bt,theme:At}=_e;const wt=it||pt&&mt===0,Tt={...lt,animationDuration:`${et}ms`,animationPlayState:nt?"running":"paused"};pt&&(Tt.transform=`scaleX(${mt})`);const Rt=clsx$2("Toastify__progress-bar",pt?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${At}`,`Toastify__progress-bar--${ot}`,{"Toastify__progress-bar--rtl":Mt}),Bt=u(ct)?ct({rtl:Mt,type:ot,defaultClassName:Rt}):clsx$2(Rt,ct),Vt={[pt&&mt>=1?"onTransitionEnd":"onAnimationEnd"]:pt&&mt<1?null:()=>{bt&&rt()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":wt},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${At} Toastify__progress-bar--${ot}`}),React.createElement("div",{role:"progressbar","aria-hidden":wt?"true":"false","aria-label":"notification timer",className:Bt,style:Tt,...Vt}))}let w=1;const k=()=>""+w++;function P(_e){return _e&&(d(_e.toastId)||c(_e.toastId))?_e.toastId:k()}function M(_e,et){return _(_e,et),et.toastId}function x(_e,et){return{...et,type:et&&et.type||_e,toastId:P(et)}}function A(_e){return(et,nt)=>M(et,x(_e,nt))}function B(_e,et){return M(_e,x("default",et))}B.loading=(_e,et)=>M(_e,x("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...et})),B.promise=function(_e,et,nt){let rt,{pending:ot,error:it,success:ct}=et;ot&&(rt=d(ot)?B.loading(ot,nt):B.loading(ot.render,{...nt,...ot}));const lt={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},pt=(Mt,bt,At)=>{if(bt==null)return void B.dismiss(rt);const wt={type:Mt,...lt,...nt,data:At},Tt=d(bt)?{render:bt}:bt;return rt?B.update(rt,{...wt,...Tt}):B(Tt.render,{...wt,...Tt}),At},mt=u(_e)?_e():_e;return mt.then(Mt=>pt("success",ct,Mt)).catch(Mt=>pt("error",it,Mt)),mt},B.success=A("success"),B.info=A("info"),B.error=A("error"),B.warning=A("warning"),B.warn=B.warning,B.dark=(_e,et)=>M(_e,x("default",{theme:"dark",...et})),B.dismiss=function(_e){(function(et){var nt;if(b()){if(et==null||d(nt=et)||c(nt))v.forEach(rt=>{rt.removeToast(et)});else if(et&&("containerId"in et||"id"in et)){const rt=v.get(et.containerId);rt?rt.removeToast(et.id):v.forEach(ot=>{ot.removeToast(et.id)})}}else h=h.filter(rt=>et!=null&&rt.options.toastId!==et)})(_e)},B.clearWaitingQueue=function(_e){_e===void 0&&(_e={}),v.forEach(et=>{!et.props.limit||_e.containerId&&et.id!==_e.containerId||et.clearQueue()})},B.isActive=I,B.update=function(_e,et){et===void 0&&(et={});const nt=((rt,ot)=>{var it;let{containerId:ct}=ot;return(it=v.get(ct||1))==null?void 0:it.toasts.get(rt)})(_e,et);if(nt){const{props:rt,content:ot}=nt,it={delay:100,...rt,...et,toastId:et.toastId||_e,updateId:k()};it.toastId!==_e&&(it.staleId=_e);const ct=it.render||ot;delete it.render,M(ct,it)}},B.done=_e=>{B.update(_e,{progress:1})},B.onChange=function(_e){return T.add(_e),()=>{T.delete(_e)}},B.play=_e=>C(!0,_e),B.pause=_e=>C(!1,_e);const O=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,D=_e=>{let{theme:et,type:nt,isLoading:rt,...ot}=_e;return React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:et==="colored"?"currentColor":`var(--toastify-icon-color-${nt})`,...ot})},z={info:function(_e){return React.createElement(D,{..._e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(_e){return React.createElement(D,{..._e},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(_e){return React.createElement(D,{..._e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(_e){return React.createElement(D,{..._e},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return React.createElement("div",{className:"Toastify__spinner"})}},R=_e=>{const{isRunning:et,preventExitTransition:nt,toastRef:rt,eventHandlers:ot,playToast:it}=N(_e),{closeButton:ct,children:lt,autoClose:pt,onClick:mt,type:Mt,hideProgressBar:bt,closeToast:At,transition:wt,position:Tt,className:Rt,style:Bt,bodyClassName:Vt,bodyStyle:$t,progressClassName:Ft,progressStyle:Ht,updateId:Qt,role:_n,progress:hn,rtl:Mn,toastId:kn,deleteToast:Cn,isIn:yn,isLoading:Ut,closeOnClick:En,theme:vn}=_e,wn=clsx$2("Toastify__toast",`Toastify__toast-theme--${vn}`,`Toastify__toast--${Mt}`,{"Toastify__toast--rtl":Mn},{"Toastify__toast--close-on-click":En}),Ln=u(Rt)?Rt({rtl:Mn,position:Tt,type:Mt,defaultClassName:wn}):clsx$2(wn,Rt),Kn=function($n){let{theme:Vn,type:tr,isLoading:Jn,icon:wr}=$n,jr=null;const Zt={theme:Vn,type:tr};return wr===!1||(u(wr)?jr=wr({...Zt,isLoading:Jn}):reactExports.isValidElement(wr)?jr=reactExports.cloneElement(wr,Zt):Jn?jr=z.spinner():(hr=>hr in z)(tr)&&(jr=z[tr](Zt))),jr}(_e),Rn=!!hn||!pt,Tn={closeToast:At,type:Mt,theme:vn};let Un=null;return ct===!1||(Un=u(ct)?ct(Tn):reactExports.isValidElement(ct)?reactExports.cloneElement(ct,Tn):function($n){let{closeToast:Vn,theme:tr,ariaLabel:Jn="close"}=$n;return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${tr}`,type:"button",onClick:wr=>{wr.stopPropagation(),Vn(wr)},"aria-label":Jn},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Tn)),React.createElement(wt,{isIn:yn,done:Cn,position:Tt,preventExitTransition:nt,nodeRef:rt,playToast:it},React.createElement("div",{id:kn,onClick:mt,"data-in":yn,className:Ln,...ot,style:Bt,ref:rt},React.createElement("div",{...yn&&{role:_n},className:u(Vt)?Vt({type:Mt}):clsx$2("Toastify__toast-body",Vt),style:$t},Kn!=null&&React.createElement("div",{className:clsx$2("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ut})},Kn),React.createElement("div",null,lt)),Un,React.createElement($,{...Qt&&!Rn?{key:`pb-${Qt}`}:{},rtl:Mn,theme:vn,delay:pt,isRunning:et,isIn:yn,closeToast:At,hide:bt,type:Mt,style:Ht,className:Ft,controlledProgress:Rn,progress:hn||0})))},S=function(_e,et){return et===void 0&&(et=!1),{enter:`Toastify--animate Toastify__${_e}-enter`,exit:`Toastify--animate Toastify__${_e}-exit`,appendPosition:et}},H=g(S("bounce",!0));g(S("slide",!0));g(S("zoom"));g(S("flip"));const q={position:"top-right",transition:H,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Q(_e){let et={...q,..._e};const nt=_e.stacked,[rt,ot]=reactExports.useState(!0),it=reactExports.useRef(null),{getToastToRender:ct,isToastActive:lt,count:pt}=L(et),{className:mt,style:Mt,rtl:bt,containerId:At}=et;function wt(Rt){const Bt=clsx$2("Toastify__toast-container",`Toastify__toast-container--${Rt}`,{"Toastify__toast-container--rtl":bt});return u(mt)?mt({position:Rt,rtl:bt,defaultClassName:Bt}):clsx$2(Bt,p(mt))}function Tt(){nt&&(ot(!0),B.play())}return O(()=>{if(nt){var Rt;const Bt=it.current.querySelectorAll('[data-in="true"]'),Vt=12,$t=(Rt=et.position)==null?void 0:Rt.includes("top");let Ft=0,Ht=0;Array.from(Bt).reverse().forEach((Qt,_n)=>{const hn=Qt;hn.classList.add("Toastify__toast--stacked"),_n>0&&(hn.dataset.collapsed=`${rt}`),hn.dataset.pos||(hn.dataset.pos=$t?"top":"bot");const Mn=Ft*(rt?.2:1)+(rt?0:Vt*_n);hn.style.setProperty("--y",`${$t?Mn:-1*Mn}px`),hn.style.setProperty("--g",`${Vt}`),hn.style.setProperty("--s",""+(1-(rt?Ht:0))),Ft+=hn.offsetHeight,Ht+=.025})}},[rt,pt,nt]),React.createElement("div",{ref:it,className:"Toastify",id:At,onMouseEnter:()=>{nt&&(ot(!1),B.pause())},onMouseLeave:Tt},ct((Rt,Bt)=>{const Vt=Bt.length?{...Mt}:{...Mt,pointerEvents:"none"};return React.createElement("div",{className:wt(Rt),style:Vt,key:`container-${Rt}`},Bt.map($t=>{let{content:Ft,props:Ht}=$t;return React.createElement(R,{...Ht,stacked:nt,collapseAll:Tt,isIn:lt(Ht.toastId,Ht.containerId),style:Ht.style,key:`toast-${Ht.key}`},Ft)}))}))}const PhoneVerification$1=({setStep:_e})=>{const[et,nt]=reactExports.useState(!1);reactExports.useState(!1);const[rt,ot]=reactExports.useState(60),[it,ct]=reactExports.useState(600),[lt,pt]=reactExports.useState(""),[mt,Mt]=reactExports.useState(""),[bt,At]=reactExports.useState(!0),wt=useDispatch(),{registrationTemp:{phoneNumber:Tt,password:Rt}}=useSelector($t=>$t.registration),Bt=()=>{nt(!0),userService.requestOtp({mobile:convertPhoneNumber(Tt)}).then(({data:{status:$t,msg:Ft}})=>{nt(!1),$t===1?B.error(Ft):_e(2)}).catch($t=>{console.log($t)})};reactExports.useEffect(()=>{const $t=setInterval(()=>{rt?ot(Ft=>Ft-1):clearInterval($t)},1e3);return()=>{clearInterval($t)}},[rt,ot]),reactExports.useEffect(()=>{const $t=setInterval(()=>{it?ct(Ft=>Ft-1):clearInterval($t)},1e3);return()=>{clearInterval($t)}},[it,ct]);const Vt=()=>{nt(!0),userService.register({account:convertPhoneNumber(Tt),pwd:Rt,smscode:mt}).then(({data:$t,status:Ft,msg:Ht})=>{if(nt(!1),Ft===1)Toast.fail({message:Ht});else{const{id:Qt,token_web:_n,txim_sign:hn}=$t;_e(3),setTimeout(()=>{wt(authActions.login(Qt,_n,hn,$t))},100)}}).catch($t=>{console.log($t)})};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Verifikasi Nomor",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$t.forgotPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$t.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Masukkan Kode OTP"}),jsxRuntimeExports.jsx("p",{children:"Kode OTP sudah dikirim melalui SMS"})]}),jsxRuntimeExports.jsxs("div",{className:styles$t.form,children:[jsxRuntimeExports.jsx("div",{className:styles$t.formWrapper,children:jsxRuntimeExports.jsx(OTPInput,{length:6,numberOnly:!0,autoFocus:!0,value:mt,onChange:$t=>{lt&&pt(""),Mt($t)},error:lt})}),rt?jsxRuntimeExports.jsx("div",{className:styles$t.resend,children:jsxRuntimeExports.jsxs("span",{children:["Kirim ulang kode dalam ",jsxRuntimeExports.jsx("b",{children:bt&&` (${timeConvert(rt)})`})]})}):jsxRuntimeExports.jsx("div",{className:styles$t.resend,children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Bt,children:"Kirim ulang kode"})}),jsxRuntimeExports.jsx("div",{className:styles$t.button,children:jsxRuntimeExports.jsx(MainButton,{loading:et,onClick:Vt,children:"Lanjut"})})]})]})]})},completeProfile="_completeProfile_1kxui_1",wrapper$6="_wrapper_1kxui_8",heading$6="_heading_1kxui_13",form$4="_form_1kxui_28",line$2="_line_1kxui_33",login$1="_login_1kxui_38",styles$s={completeProfile,wrapper:wrapper$6,heading:heading$6,form:form$4,line:line$2,login:login$1},EmailIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M19.875 3.75H4.125A2.63 2.63 0 0 0 1.5 6.375v11.25a2.63 2.63 0 0 0 2.625 2.625h15.75a2.627 2.627 0 0 0 2.625-2.625V6.375a2.627 2.627 0 0 0-2.625-2.625m-.665 4.342-6.75 5.25a.75.75 0 0 1-.92 0l-6.75-5.25a.75.75 0 1 1 .92-1.184L12 11.8l6.29-4.892a.75.75 0 0 1 .92 1.184"})}),schema$3=create$3().shape({fullname:create$6().required("Tidak boleh kosong!"),email:create$6().required("Tidak boleh kosong!").matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/g,"Format email salah!, Contoh: email@gmail.com")}),CompleteProfile=()=>{var pt,mt,Mt,bt;const[_e,et]=reactExports.useState(!1),{push:nt}=useHistory();useSelector(At=>At.auth);const rt=useDispatch(),{handleSubmit:ot,register:it,formState:{errors:ct}}=useForm({mode:"onChange",resolver:o(schema$3)}),lt=async At=>{et(!0);const{status:wt,msg:Tt}=await userService.update({nick_name:At.fullname,email:At.email});wt===1?Toast.fail({message:Tt}):(rt(authActions.requestUser()),nt("/"),Toast.success({message:"Berhasil diperbarui!"})),et(!1)};return jsxRuntimeExports.jsx(AuthLayout,{children:jsxRuntimeExports.jsx("div",{className:styles$s.completeProfile,children:jsxRuntimeExports.jsxs("div",{className:styles$s.wrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$s.heading,children:[jsxRuntimeExports.jsx("h1",{children:"Yuk Sedikit Lagi!"}),jsxRuntimeExports.jsx("p",{children:"Lengkapi profil pendaftaran kamu agar kami dapat mempersonalisasi pengalamanmu. Yuk mulai seru-seruan!"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(lt),children:jsxRuntimeExports.jsxs("div",{className:styles$s.form,children:[jsxRuntimeExports.jsx(InputField$1,{...it("fullname"),prefixIcon:jsxRuntimeExports.jsx(UserIcon$1,{}),placeholder:"Nama",error:!!((pt=ct.fullname)!=null&&pt.message),helperText:(mt=ct.fullname)==null?void 0:mt.message}),jsxRuntimeExports.jsx(InputField$1,{...it("email"),prefixIcon:jsxRuntimeExports.jsx(EmailIcon,{}),placeholder:"Email",error:!!((Mt=ct.email)!=null&&Mt.message),helperText:(bt=ct.email)==null?void 0:bt.message}),jsxRuntimeExports.jsx(MainButton,{loading:_e,children:"Lanjut"})]})})]})})})},Register=()=>{const[_e,et]=reactExports.useState(1),nt=reactExports.useMemo(()=>{if(_e===1)return jsxRuntimeExports.jsx(Register$1,{setStep:et});if(_e===2)return jsxRuntimeExports.jsx(PhoneVerification$1,{setStep:et});if(_e===3)return jsxRuntimeExports.jsx(CompleteProfile,{setStep:et})},[_e]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt})},forgotPassword$3="_forgotPassword_o0rhd_1",heading$5="_heading_o0rhd_5",form$3="_form_o0rhd_23",button$2="_button_o0rhd_28",triggerEdit="_triggerEdit_o0rhd_31",styles$r={forgotPassword:forgotPassword$3,heading:heading$5,form:form$3,button:button$2,triggerEdit},schema$2=create$3().shape({phoneNumber:create$6().required("Tidak boleh kosong!")}),Main=({setStep:_e,setPhoneNumber:et})=>{var bt,At;const[nt,rt]=reactExports.useState(!1),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema$2)}),[mt]=lt(["phoneNumber"]),Mt=async wt=>{rt(!0);const{status:Tt,msg:Rt}=await userService.requestOtp({mobile:convertPhoneNumber(wt.phoneNumber)});Tt===1?Toast.fail({message:Rt}):(et(convertPhoneNumber(wt.phoneNumber)),_e(2)),rt(!1)};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Lupa Password",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$r.forgotPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$r.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Tenang, Kamu bisa Reset Password"}),jsxRuntimeExports.jsx("p",{children:"Masukkan nomor Hp kamu untuk reset password. Kamu akan dapat verifikasi"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(Mt),children:jsxRuntimeExports.jsxs("div",{className:styles$r.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"XXXXXXXXXX",error:!!((bt=pt.phoneNumber)!=null&&bt.message),helperText:(At=pt.phoneNumber)==null?void 0:At.message,phoneInput:!0,value:mt,onChange:wt=>ct("phoneNumber",wt,{shouldValidate:!0})}),jsxRuntimeExports.jsx("div",{className:styles$r.button,children:jsxRuntimeExports.jsx(MainButton,{loading:nt,children:"Kirim"})})]})})]})]})},forgotPassword$2="_forgotPassword_t2m1j_1",heading$4="_heading_t2m1j_5",form$2="_form_t2m1j_23",button$1="_button_t2m1j_28",resend$1="_resend_t2m1j_31",styles$q={forgotPassword:forgotPassword$2,heading:heading$4,form:form$2,button:button$1,resend:resend$1},PhoneVerification=({setStep:_e,phoneNumber:et})=>{const[nt,rt]=reactExports.useState(!1);reactExports.useState(!1);const[ot,it]=reactExports.useState(60),[ct,lt]=reactExports.useState(600),[pt,mt]=reactExports.useState(""),[Mt,bt]=reactExports.useState(""),[At,wt]=reactExports.useState(!0),Tt=()=>{rt(!0),userService.requestOtp({mobile:et}).then(({data:{status:Bt,msg:Vt}})=>{rt(!1),Bt===1&&Toast.fail({message:Vt})}).catch(Bt=>{console.log(Bt)})};reactExports.useEffect(()=>{const Bt=setInterval(()=>{ot?it(Vt=>Vt-1):clearInterval(Bt)},1e3);return()=>{clearInterval(Bt)}},[ot,it]),reactExports.useEffect(()=>{const Bt=setInterval(()=>{ct?lt(Vt=>Vt-1):clearInterval(Bt)},1e3);return()=>{clearInterval(Bt)}},[ct,lt]);const Rt=async()=>{rt(!0);try{const{status:Bt,msg:Vt}=await userService.verifyForgotPassword({smscode:Mt,mobile:et});Bt===1?Toast.fail({message:Vt}):_e(3)}catch(Bt){Toast.fail({message:Bt})}finally{rt(!1)}};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Verifikasi Nomor",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$q.forgotPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$q.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Masukkan Kode OTP"}),jsxRuntimeExports.jsx("p",{children:"Kode OTP sudah dikirim melalui SMS"})]}),jsxRuntimeExports.jsxs("div",{className:styles$q.form,children:[jsxRuntimeExports.jsx("div",{className:styles$q.formWrapper,children:jsxRuntimeExports.jsx(OTPInput,{length:6,numberOnly:!0,autoFocus:!0,value:Mt,onChange:Bt=>{pt&&mt(""),bt(Bt)},error:pt})}),ot?jsxRuntimeExports.jsx("div",{className:styles$q.resend,children:jsxRuntimeExports.jsxs("span",{children:["Kirim ulang kode dalam ",jsxRuntimeExports.jsx("b",{children:At&&` (${timeConvert(ot)})`})]})}):jsxRuntimeExports.jsx("div",{className:styles$q.resend,children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Tt,children:"Kirim ulang kode"})}),jsxRuntimeExports.jsx("div",{className:styles$q.button,children:jsxRuntimeExports.jsx(MainButton,{onClick:Rt,loading:nt,children:"Lanjut"})})]})]})]})},forgotPassword$1="_forgotPassword_t2m1j_1",heading$3="_heading_t2m1j_5",form$1="_form_t2m1j_23",button="_button_t2m1j_28",resend="_resend_t2m1j_31",styles$p={forgotPassword:forgotPassword$1,heading:heading$3,form:form$1,button,resend},schema$1=create$3().shape({password:create$6().matches(passwordRegex,"Kata sandi 8 karakter dengan kombinasi huruf kecil, huruf kapital, angka, dan simbol").required("Tidak boleh kosong!"),passwordConfirmation:create$6().test("matchPassword","Kata sandi tidak sama",function(_e){return this.parent.password?_e===this.parent.password:!0})}),ResetPassword=({setStep:_e,phoneNumber:et})=>{var At,wt,Tt,Rt;const[nt,rt]=reactExports.useState(!1),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema$1)}),[mt,Mt]=lt(["password","passwordConfirmation"]),bt=async Bt=>{rt(!0);try{const{status:Vt,msg:$t}=await userService.forgotPassword({pwd:Bt.password,mobile:et});Vt===1?Toast.fail({message:$t}):_e(4)}catch(Vt){Toast.fail({message:Vt})}finally{rt(!1)}};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Lupa Password",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles$p.forgotPassword,children:[jsxRuntimeExports.jsxs("div",{className:styles$p.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Hai Athena, Buat Password Baru Kamu"}),jsxRuntimeExports.jsx("p",{children:"Yuk buat password baru supaya kamu bisa akses akun kamu lagi"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(bt),children:jsxRuntimeExports.jsxs("div",{className:styles$p.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password",error:!!((At=pt.password)!=null&&At.message),helperText:(wt=pt.password)==null?void 0:wt.message,onChange:Bt=>ct("password",Bt.target.value,{shouldValidate:!0}),value:mt,password:!0}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Konfirmasi Password",error:!!((Tt=pt.passwordConfirmation)!=null&&Tt.message),helperText:(Rt=pt.passwordConfirmation)==null?void 0:Rt.message,onChange:Bt=>ct("passwordConfirmation",Bt.target.value,{shouldValidate:!0}),value:Mt,password:!0}),jsxRuntimeExports.jsx("div",{className:styles$p.button,children:jsxRuntimeExports.jsx(MainButton,{loading:nt,children:"Reset Password"})})]})})]})]})},success="_success_15uz5_1",wrapper$5="_wrapper_15uz5_7",icon$1="_icon_15uz5_14",desc$2="_desc_15uz5_18",actions$3="_actions_15uz5_33",styles$o={success,wrapper:wrapper$5,icon:icon$1,desc:desc$2,actions:actions$3},Success=()=>{const{push:_e}=useHistory();return jsxRuntimeExports.jsxs(HomeLayout,{noFooter:!0,children:[jsxRuntimeExports.jsx(GeneralHeader,{closePath:"/login"}),jsxRuntimeExports.jsx("div",{className:styles$o.success,children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$o.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$o.icon,children:jsxRuntimeExports.jsx("img",{src:"/assets/reset.png",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$o.desc,children:[jsxRuntimeExports.jsx("h1",{children:"Password Berhasil Direset!"}),jsxRuntimeExports.jsx("p",{children:"Selamat! Kamu berhasil reset password! Yuk masuk lagi dengan password yang baru."})]}),jsxRuntimeExports.jsx("div",{className:styles$o.actions,children:jsxRuntimeExports.jsx(MainButton,{onClick:()=>_e("/login"),children:"Masuk Akun"})})]})})})]})},ForgotPassword=()=>{const[_e,et]=reactExports.useState(1),[nt,rt]=reactExports.useState(""),ot=reactExports.useMemo(()=>{if(_e===1)return jsxRuntimeExports.jsx(Main,{setStep:et,setPhoneNumber:rt});if(_e===2)return jsxRuntimeExports.jsx(PhoneVerification,{setStep:et,phoneNumber:nt});if(_e===3)return jsxRuntimeExports.jsx(ResetPassword,{setStep:et,phoneNumber:nt});if(_e===4)return jsxRuntimeExports.jsx(Success,{})},[_e]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ot})},AuthRoutes=()=>jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{exact:!0,path:"/login",component:Login$1}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/register",component:Register}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/forgot-password",component:ForgotPassword}),jsxRuntimeExports.jsx(Redirect,{from:"/profile",to:"/login"}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/error",component:NotFound}),jsxRuntimeExports.jsx(Redirect,{from:"*",to:"/error"})]}),datePickerContainer="_datePickerContainer_hys0a_1",swiperWrapper="_swiperWrapper_hys0a_6",dateItem="_dateItem_hys0a_9",selected$2="_selected_hys0a_21",day="_day_hys0a_24",date$1="_date_hys0a_1",styles$n={datePickerContainer,swiperWrapper,dateItem,selected:selected$2,day,date:date$1},HorizontalDatePicker=({onChange:_e})=>{const et=new Date,[nt,rt]=reactExports.useState(0),it=((ct,lt)=>{const pt=[];for(let mt=0;mt<lt;mt++){const Mt=new Date(ct);Mt.setDate(ct.getDate()+mt),pt.push({value:Mt,date:Mt.toLocaleDateString("id-ID",{day:"2-digit",month:"short"}),day:Mt.toLocaleDateString("id-ID",{weekday:"short"})})}return pt})(et,7);return jsxRuntimeExports.jsx("div",{className:styles$n.datePickerContainer,children:jsxRuntimeExports.jsx(Swiper,{spaceBetween:10,slidesPerView:"auto",children:it.map((ct,lt)=>jsxRuntimeExports.jsxs(SwiperSlide,{className:`${styles$n.dateItem} ${ct.date===it[nt].date?styles$n.selected:""}`,onClick:()=>{rt(lt),_e(ct.value)},children:[jsxRuntimeExports.jsx("span",{className:styles$n.date,children:ct.date}),jsxRuntimeExports.jsx("span",{className:styles$n.day,children:lt===0?"Hari Ini":ct.day})]},lt))})})},schedule$1="_schedule_x46pe_1",scheduleList="_scheduleList_x46pe_5",leagueCategory$1="_leagueCategory_x46pe_11",empty$2="_empty_x46pe_14",styles$m={schedule:schedule$1,scheduleList,leagueCategory:leagueCategory$1,empty:empty$2},useRace=()=>{const{setStoreValue:_e}=useMainStore(),{pathname:et}=useLocation(),{matchid:nt}=useParams(),rt=()=>_$2.includes(et,"basketball")?SportId.basketball:SportId.football,ot=_$2.includes(et,"basketball")?SportId.basketball:_$2.includes(et,"badminton")?SportId.badminton:_$2.includes(et,"football")?SportId.football:SportId.none,it=SportId[Number(ot)],ct=useMainStore(Tn=>Tn.selectedSport),lt=useMainStore(Tn=>Tn.startRaceMsgs),pt=ot===SportId.basketball?`basketball_matchroom_${nt}`:`matchroom_${nt}`,[mt,Mt]=setState([]),[bt,At]=setState(""),wt=async Tn=>{const{data:Un}=await getEventByDateApi(Tn);return _e({events:Un}),Un},Tt=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchInfoApi({matchId:Tn||nt,sportName:Un?SportId[Number(Un)]:it});return{...$n,sport_id:Un||rt()}},Rt=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchAnchorsApi({sportName:Un?SportId[Number(Un)]:it,matchId:Tn||nt});return $n},Bt=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchDataApi({sportName:Un?SportId[Number(Un)]:it,matchId:Tn||nt});return $n},Vt=async({matchId:Tn,startid:Un,sportId:$n})=>{const{data:Vn}=await getTliveDataApi({matchId:Tn||nt,sportName:$n?SportId[Number($n)]:it,startid:Un});return Vn},$t=async({matchId:Tn})=>{const{data:Un}=await getIncidentDataApi({matchId:Tn||nt});return Un},Ft=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchOddApi({matchId:Tn||nt,sportName:Un?SportId[Number(Un)]:it});return $n},Ht=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getAnalysisDataApi({matchId:Tn||nt,sportName:Un?SportId[Number(Un)]:it});return $n},Qt=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getLineupDataApi({sportName:Un?SportId[Number(Un)]:it,matchId:Tn||nt});return $n},_n=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchRankApi({sportName:Un?SportId[Number(Un)]:it,matchId:Tn||nt});return $n},hn=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchTop3DataApi({sportName:Un?SportId[Number(Un)]:it,matchId:Tn||nt});return $n},Mn=async({matchId:Tn,sportId:Un})=>{const{data:$n}=await getMatchCombineDataApi({sportName:Un?SportId[Number(Un)]:it,matchId:Tn||nt});return $n},kn=async Tn=>{const{selectedSport:Un}=useMainStore.getState(),{data:$n}=await getRaceSearchApi({keyword:Tn,sport:SportId[Un],hideLoading:!0});return $n},Cn=Tn=>{_e({selectedSport:Tn})};return{events:useMainStore(Tn=>Tn.events),getEventByDate:wt,getMatchAnchors:Rt,getMatchData:Bt,getTliveData:Vt,getIncidentData:$t,getMatchOdd:Ft,getAnalysisData:Ht,getLineupData:Qt,getMatchRank:_n,getMatchTop3Data:hn,getMatchCombineData:Mn,matchid:nt,sportId:ot,sportName:it,roomId:pt,getMatchInfo:Tt,selectedSport:ct,changeSelectedSport:Cn,searchRace:kn,addRaceStartMsg:Tn=>{const{startRaceMsgs:Un}=useMainStore.getState(),$n=Un.concat(Tn);_e({startRaceMsgs:$n})},setRaceStartMsgs:Tn=>{_e({startRaceMsgs:Tn})},addRemoveFlag:Tn=>{const{startRaceMsgs:Un}=useMainStore.getState(),$n=Un.map(Vn=>Vn.id===Tn.id?{...Vn,remove:!0}:Vn);_e({startRaceMsgs:$n})},delRemoveFlag:Tn=>{const{startRaceMsgs:Un}=useMainStore.getState(),$n=Un.map(Vn=>Vn.id===Tn.id?{...Vn,remove:!1}:Vn);_e({startRaceMsgs:$n})},updateRaceStartMsgs:()=>{const{startRaceMsgs:Tn}=useMainStore.getState(),Un=Tn.reduce(($n,Vn)=>(Vn.remove||$n.push(Vn),$n),[]);_e({startRaceMsgs:Un})},raceMsgs:lt,recommendedMatch:mt,getRecommendedMatch:async()=>{try{const{status:Tn,data:Un}=await getRecommendedMatchApi();Tn===0&&Un&&Un.length>0&&Mt(Un.map($n=>parseMatch($n)))}catch{}},randomMatchUrl:bt,getRandomMatchUrl:async()=>{try{const{status:Tn,data:Un}=await getSingleRecommendedMatchApi();if(Tn===0&&Un){let $n="";switch(Un.sport_id){case SportId.football:$n=`/score/detail/${Un.id}`;break;case SportId.basketball:$n=`/score/basketball/detail/${Un.id}`;break;case SportId.badminton:$n=`/score/badminton/detail/${Un.id}`;break}At($n)}}catch{}}}},Schedule=()=>{const{getEventByDate:_e,events:et}=useRace(),[nt,rt]=reactExports.useState([]),[ot,it]=reactExports.useState("ALL"),[ct,lt]=reactExports.useState(new Date),[pt,mt]=reactExports.useState(),Mt=reactExports.useCallback(async()=>{try{const wt={page:1,size:20,start_date:format(startOfDay(new Date(ct)),"yyyy-MM-dd"),end_date:format(endOfDay(new Date(ct)),"yyyy-MM-dd"),multiple_days:1,isfinished:3,ishot:1,football_eventids:ot==="ALL"||ot==="FOOTBALL"?pt||0:-1,basketball_eventids:ot==="ALL"||ot==="BASKETBALL"?pt||0:-1,badminton_eventids:ot==="ALL"||ot==="BADMINTON"?pt||0:-1,use_recommend:1},{status:Tt,data:{matchs:Rt}}=await getDateMatchApi(wt),Bt=Rt.map(Vt=>parseMatch(Vt)).filter(Vt=>Vt!==null);Tt===0&&rt(Bt)}catch{rt([])}},[ot,ct,pt]),bt=wt=>{mt(Tt=>Tt===wt?null:wt)};reactExports.useEffect(()=>{Mt()},[Mt]),reactExports.useEffect(()=>{(async()=>{await _e()})()},[]);const At=reactExports.useMemo(()=>ot==="FOOTBALL"?et.football.event:ot==="BASKET"?et.basketball.event:ot==="ALL"?[...et.football.event,...et.basketball.event]:[],[ot,et]);return jsxRuntimeExports.jsx(HomeLayout,{children:jsxRuntimeExports.jsxs("div",{className:styles$m.schedule,children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Jadwal"}),jsxRuntimeExports.jsx(HorizontalDatePicker,{onChange:wt=>lt(wt)}),jsxRuntimeExports.jsx("div",{className:styles$m.leagueCategory,children:jsxRuntimeExports.jsx(SliderBadge,{items:[{title:"Semua",value:"ALL"},{title:"Sepak Bola",value:"FOOTBALL",icon:jsxRuntimeExports.jsx(FootBallIcon,{})},{title:"Basket",value:"BASKET",icon:jsxRuntimeExports.jsx(BasketBallIcon,{})},{title:"Badminton",value:"BADMINTON",icon:jsxRuntimeExports.jsx(BadmintonIcon,{})}],value:ot,onChange:wt=>it(wt)})}),jsxRuntimeExports.jsx("div",{className:styles$m.leagueCategory,children:jsxRuntimeExports.jsx(SliderBadge,{onChange:bt,value:pt,items:[...At.map(wt=>({title:wt.name_en,imgSrc:wt.logo,value:wt.id}))]})}),nt!=null&&nt.length?jsxRuntimeExports.jsx("div",{className:styles$m.scheduleList,children:nt==null?void 0:nt.map((wt,Tt)=>jsxRuntimeExports.jsx(UpcomingLiveCard,{liveData:wt}))}):jsxRuntimeExports.jsxs("div",{className:styles$m.empty,children:[jsxRuntimeExports.jsx("img",{src:"/assets/no-data.png",alt:""}),jsxRuntimeExports.jsx("h5",{children:"Tidak Ada Jadwal"}),jsxRuntimeExports.jsx("p",{children:"Jadwal tidak tersedia"})]})]})})},list$2="_list_1ktch_1",wrapper$4="_wrapper_1ktch_5",category="_category_1ktch_5",liveList="_liveList_1ktch_8",styles$l={list:list$2,wrapper:wrapper$4,category,liveList},size$1=10,List$1=({})=>{const[_e,et]=reactExports.useState([]),[nt,rt]=reactExports.useState(0),[ot,it]=useToggle(!0),[ct,lt]=reactExports.useState(!1),pt=reactExports.useRef(1);useLifecycles(async()=>{try{await mt()}catch{lt(!0)}},()=>{});const mt=async()=>{try{const{data:Mt,status:bt}=await getRealLivesApi({page:pt.current,size:size$1});if(bt===0){const{list:At,count:wt}=Mt;rt(wt),(wt<size$1||_e.length===wt)&&lt(!0),et(pt.current>1?_e.concat(At):At)}}catch{lt(!0)}finally{it()}};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Live"}),jsxRuntimeExports.jsx("div",{className:styles$l.list,children:jsxRuntimeExports.jsx("div",{className:styles$l.wrapper,children:jsxRuntimeExports.jsx("div",{className:styles$l.liveList,children:_e==null?void 0:_e.map((Mt,bt)=>jsxRuntimeExports.jsx(NowLiveCard,{playingItem:Mt},bt))})})})]})};var dist={};(function(_e){var et=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(En,vn,wn,Ln){Ln===void 0&&(Ln=wn);var Kn=Object.getOwnPropertyDescriptor(vn,wn);(!Kn||("get"in Kn?!vn.__esModule:Kn.writable||Kn.configurable))&&(Kn={enumerable:!0,get:function(){return vn[wn]}}),Object.defineProperty(En,Ln,Kn)}:function(En,vn,wn,Ln){Ln===void 0&&(Ln=wn),En[Ln]=vn[wn]}),nt=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(En,vn){Object.defineProperty(En,"default",{enumerable:!0,value:vn})}:function(En,vn){En.default=vn}),rt=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(En){if(En&&En.__esModule)return En;var vn={};if(En!=null)for(var wn in En)wn!=="default"&&Object.prototype.hasOwnProperty.call(En,wn)&&et(vn,En,wn);return nt(vn,En),vn},ot=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(En){return En&&En.__esModule?En:{default:En}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.genGuestInfoPayload=_e.getConversationTime=_e.showC2cTimeline=_e.getC2cMessageDate=_e.getC2cMessageTimeTitle=_e.parseLineupTeamData=_e.parseLineupPlayerData=_e.compressImage=_e.getImageSize=_e.detectBrowser=_e.uuid=_e.parseRoomMessage=_e.sanitize=_e.CONST=void 0;const it=ot(dayjs_minExports),ct=ot(md5Exports),lt=rt(_const);_e.CONST=lt;const pt=ot(browser$1);pt.default.addHook("afterSanitizeAttributes",En=>{"target"in En&&(En.setAttribute("target","_blank"),En.setAttribute("rel","noopener"))});const mt=/pqlink\(([^)]+)\)/g,Mt=/pqimg\(([^)]+)\)/g,bt=/\((.*)\)/,At=En=>pt.default.sanitize(En);_e.sanitize=At;const wt=(En="",vn=!1)=>{if((0,_e.detectBrowser)().iosapp&&(En.startsWith("!app")||En.startsWith("!ios")))return"";if(En=En.replace(/\\n/g,vn?" ":"<br>").replace(/^!android|^!ios|^!app/,""),En.indexOf("pqlink(")!==-1){const wn=En.match(mt);if(wn)for(let Ln of wn){const Kn=(bt.exec(Ln)||[])[1];if(!Kn)continue;const[Rn,Tn]=Kn.trim().split("###"),Un=Rn.startsWith("http")?Rn:`http://${Rn}`;En=vn?En.replace(Ln,Tn||Un):En.replace(Ln,`<a href="${Un}" target="_blank" style="text-decoration:underline;text-underline-offset:3px;">${Tn||Un}</a>`)}}if(En.indexOf("pqimg(")!==-1){const wn=En.match(Mt);if(wn)for(let Ln of wn){const Kn=(bt.exec(Ln)||[])[1];Kn&&(En=vn?En.replace(Ln,""):En.replace(Ln,`<img src="${Kn}" alt="" />`))}}return(0,_e.sanitize)(En)};_e.parseRoomMessage=wt;const Tt=()=>{let En=[];const vn="0123456789abcdef";for(let wn=0;wn<36;wn++)En[wn]=vn[Math.floor(Math.random()*16)];return En[14]="4",En[19]=vn[En[19]&3|8],En[8]=En[13]=En[18]=En[23]="-",En.join("")};_e.uuid=Tt;const Rt=En=>{let vn={winphone:!1,symbian:!1,android:!1,firefox:!1,tablet:!1,iphone:!1,pc:!1,ipad:!1,uc:!1,ios:!1,wechat:!1,qq:!1,douyin:!1,baidu:!1,safari:!1,standalone:!1,iosapp:!1};const wn=typeof window<"u"&&typeof navigator<"u",Ln=En||(wn?navigator.userAgent:"");return Ln&&(vn.winphone=/Windows Phone/gi.test(Ln),vn.symbian=/SymbianOS/gi.test(Ln)||vn.winphone,vn.android=/Android/gi.test(Ln),vn.firefox=/Firefox/gi.test(Ln),vn.tablet=/iPad|PlayBook/gi.test(Ln)||vn.android&&!/Mobile/gi.test(Ln)||vn.firefox&&/Tablet/gi.test(Ln),vn.iphone=/iPhone/gi.test(Ln)&&!vn.tablet,vn.pc=!vn.iphone&&!vn.android&&!vn.symbian,vn.ipad=/iPad/gi.test(Ln),vn.uc=/UCBrowser/gi.test(Ln),vn.ios=/iphone|ipad/gi.test(Ln),vn.wechat=/MicroMessenger/gi.test(Ln),vn.qq=/qq/gi.test(Ln),vn.douyin=/aweme/gi.test(Ln),vn.baidu=/baidu/gi.test(Ln),vn.safari=wn&&/apple/gi.test(navigator.vendor)&&!/crios/gi.test(Ln)&&!/fxios/gi.test(Ln)&&!/opera|opt/gi.test(Ln)&&!vn.uc&&!vn.qq&&!vn.douyin&&!vn.baidu,vn.standalone=wn&&"standalone"in navigator?navigator.standalone:!1,vn.iosapp=vn.ios&&vn.safari&&vn.standalone),vn};_e.detectBrowser=Rt;const Bt=(En,vn)=>{let wn=En.split(","),Ln=wn[0].match(/:(.*?);/)[1],Kn=atob(wn[1]),Rn=Kn.length,Tn=new Uint8Array(Rn);for(;Rn--;)Tn[Rn]=Kn.charCodeAt(Rn);return new File([Tn],vn,{type:Ln})},Vt=En=>new Promise((vn,wn)=>{let Ln=new Image,Kn=window.URL||window.webkitURL;Ln.src=Kn.createObjectURL(En),Ln.onload=()=>{const{width:Rn,height:Tn}=Ln,{size:Un}=En;vn({width:Rn,height:Tn,size:Un})}});_e.getImageSize=Vt;const $t=({file:En,maxWidth:vn=1200,maxHeight:wn=1200})=>new Promise((Ln,Kn)=>{let Rn=new Image,Tn=window.URL||window.webkitURL;Rn.src=Tn.createObjectURL(En),Rn.onload=function(){const Un=Rn.height,$n=Rn.width;let Vn=Rn.width,tr=Rn.height;const Jn=En?En.type.replace("image/",""):null;let wr=Jn?En.name.replace(`.${Jn}`,""):"";wr=(En.name?wr+"_"+new Date().getTime():new Date().getTime())+"."+Jn,$n>vn&&Un>wn?Un/$n>wn/vn?(tr=wn,Vn=wn*($n/Un)):(Vn=vn,tr=vn*(Un/$n)):$n>vn&&Un<=wn?(Vn=vn,tr=vn*(Un/$n)):$n<=vn&&Un>wn?(tr=wn,Vn=wn*($n/Un)):Ln(new File([En],wr,{type:En.type}));let jr=document.createElement("canvas"),Zt=jr.getContext("2d");jr.height=tr,jr.width=Vn,Zt.clearRect(0,0,Vn,tr),Zt.drawImage(Rn,0,0,Vn,tr);let hr=jr.toDataURL("image/*",.8),lo=Bt(hr,wr);Ln(lo)}});_e.compressImage=$t;const Ft=En=>{const vn=En[6]?En[6].split("^"):[],wn=En[1],Ln=En[3],Kn=En[4],Rn=vn[0],Tn=vn[1],Un=vn[2],$n=vn[3],Vn=vn[4],tr=vn[5],Jn=vn[6],wr=vn[7],jr=vn[8],Zt=vn[9],hr=vn[10],lo=vn[11],_o=vn[13],bo=+vn[16]==0?"":"";return{name:wn,name_en:Ln,logo:Kn,time:Rn,shot:Tn,three_point:Un,penalty_shot:$n,offensive_rebound:Vn,defensive_rebound:tr,rebound:Jn,assist:wr,steal:jr,cap:Zt,mistake:hr,foul:lo,score:_o,starting:bo,cols:[bo,Rn,_o,Tn,Un,$n,Vn,tr,Jn,wr,jr,Zt,hr,lo]}},Ht=En=>{if(En.length===0)return;let vn=[];for(const wn of En)vn.push(Ft(wn));return vn};_e.parseLineupPlayerData=Ht;const Qt=En=>{if(En.length<13)return{};const vn=En.split("^"),wn=vn[1],Ln=vn[2],Kn=vn[3],Rn=vn[4],Tn=vn[5],Un=vn[6],$n=vn[7],Vn=vn[8],tr=vn[9],Jn=vn[10],wr=vn[11],jr=vn[13];return{shot:wn,three_point:Ln,penalty_shot:Kn,offensive_rebound:Rn,defensive_rebound:Tn,rebound:Un,assist:$n,steal:Vn,cap:tr,mistake:Jn,foul:wr,score:jr,cols:[wn,Ln,Kn,Rn,Tn,Un,$n,Vn,tr,Jn,wr,jr]}};_e.parseLineupTeamData=Qt;const _n=({time:En,clientTime:vn})=>{if(!En&&!vn)return null;const wn=En||vn;return`${wn}`.length===10?wn*1e3:wn},hn=(En,vn,wn)=>{const Ln=(0,it.default)();let Kn="";const Rn=_n(En);if(!Rn)return Kn;const Tn=(0,it.default)(Ln.format("YYYY-MM-DD")).diff((0,it.default)(Rn).format("YYYY-MM-DD"),"day");return Tn===0&&vn&&(Kn=wn==="pt"?"Hoje":""),Tn===1&&(Kn=wn==="pt"?"Ontem":""),Tn>1&&Tn<=7&&(Kn=lt.daysOfWeek[(0,it.default)(Rn).get("day")]),Tn>7&&(Kn=(0,it.default)(Rn).format(wn==="pt"?"DD-MM-YY":"YYYY-MM-DD")),Kn};_e.getC2cMessageTimeTitle=hn;const Mn=En=>{const vn=_n(En);return vn?(0,it.default)(vn).format("YYYY-MM-DD"):""};_e.getC2cMessageDate=Mn;const kn=(En,vn)=>vn===0?(0,_e.getC2cMessageTimeTitle)(En[vn]):(0,_e.getC2cMessageDate)(En[vn])!==(0,_e.getC2cMessageDate)(En[vn-1]);_e.showC2cTimeline=kn;const Cn=(En,vn)=>{const wn=(0,it.default)().format(),Ln=En.lastMessage.lastTime*1e3,Kn=(0,it.default)(Ln).format(vn==="pt"?"DD-MM-YY HH:mm":"YYYY-MM-DD HH:mm"),Rn=(0,it.default)(wn).diff((0,it.default)(Ln),"minute"),Tn=(0,it.default)(wn).diff((0,it.default)(Ln),"hour");return(0,it.default)(wn).diff((0,it.default)(Ln,"day")),(0,it.default)(wn).diff((0,it.default)(Ln),"year")>1?Kn:Rn<1?vn==="pt"?"Agora":"":Rn<30?vn==="pt"?`${Rn} min. atrs`:`${Rn}`:Tn<1?vn==="pt"?"Meia hora atrs":"":Tn<24?vn==="pt"?`${Tn}horas atrs`:`${Tn}`:(0,it.default)(Ln).format(vn==="pt"?"DD/MM HH:mm":"MM-DD HH:mm")};_e.getConversationTime=Cn;const yn=En=>{const vn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let wn="";for(let Ln=En;Ln>0;--Ln)wn+=vn[Math.round(Math.random()*(vn.length-1))];return wn},Ut=()=>{const En=Math.floor((0,it.default)().valueOf()/1e3),vn=yn(10),wn=(0,ct.default)(`timestamp=${En}&random_num=${vn}`).toString();return{timestamp:En,random_num:vn,check_sum:wn}};_e.genGuestInfoPayload=Ut})(dist);const detail$1="_detail_16118_1",live="_live_16118_1",liveInfo="_liveInfo_16118_6",info$2="_info_16118_15",avatar$6="_avatar_16118_20",description$1="_description_16118_38",nickName$1="_nickName_16118_43",follow="_follow_16118_48",dotWrapper="_dotWrapper_16118_52",dot="_dot_16118_52",fansCount$2="_fansCount_16118_65",line$1="_line_16118_75",upcomingLive="_upcomingLive_16118_81",score$3="_score_16118_89",club$2="_club_16118_95",clubLogo$2="_clubLogo_16118_102",scoreCount$2="_scoreCount_16118_111",goback="_goback_16118_128",danmaku="_danmaku_16118_1",player="_player_16118_124",hidden="_hidden_16118_220",styles$k={detail:detail$1,live,liveInfo,info:info$2,avatar:avatar$6,description:description$1,nickName:nickName$1,follow,dotWrapper,dot,fansCount:fansCount$2,line:line$1,upcomingLive,score:score$3,club:club$2,clubLogo:clubLogo$2,scoreCount:scoreCount$2,"player-container":"_player-container_16118_124",goback,"dplayer-danmaku-move":"_dplayer-danmaku-move_16118_137",danmaku,"font-1":"_font-1_16118_140","font-2":"_font-2_16118_143","font-3":"_font-3_16118_146","area-1":"_area-1_16118_149","dplayer-danmaku":"_dplayer-danmaku_16118_137","area-2":"_area-2_16118_152","area-3":"_area-3_16118_156",player,"live-thumb":"_live-thumb_16118_165","player-ad-image":"_player-ad-image_16118_166","manual-play":"_manual-play_16118_173","player-ad-countdown":"_player-ad-countdown_16118_185","dplayer-video-wrap":"_dplayer-video-wrap_16118_198","share-race-wrap":"_share-race-wrap_16118_215",hidden,"share-icon":"_share-icon_16118_223","video-title-wrap":"_video-title-wrap_16118_228","video-title":"_video-title_16118_228","go-back":"_go-back_16118_243","download-chat-wrap-in-player":"_download-chat-wrap-in-player_16118_248","dplayer-controller-mask":"_dplayer-controller-mask_16118_255","dplayer-controller":"_dplayer-controller_16118_255","dplayer-icons":"_dplayer-icons_16118_261","dplayer-comment":"_dplayer-comment_16118_261","dplayer-setting":"_dplayer-setting_16118_264","remove-ad-elem-wrap":"_remove-ad-elem-wrap_16118_267","dplayer-icons-right":"_dplayer-icons-right_16118_272","dplayer-quality":"_dplayer-quality_16118_276","dplayer-quality-list":"_dplayer-quality-list_16118_279","dplayer-full":"_dplayer-full_16118_282","dplayer-full-in-icon":"_dplayer-full-in-icon_16118_282","dplayer-notice-list":"_dplayer-notice-list_16118_285","dplayer-menu-show":"_dplayer-menu-show_16118_288","is-robot":"_is-robot_16118_291","is-fullscreen":"_is-fullscreen_16118_294"};var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var timJs={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt()})(commonjsGlobal$1,function(){function nt(Gt,dt){var yt=Object.keys(Gt);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Gt);dt&&(st=st.filter(function(ht){return Object.getOwnPropertyDescriptor(Gt,ht).enumerable})),yt.push.apply(yt,st)}return yt}function rt(Gt){for(var dt=1;dt<arguments.length;dt++){var yt=arguments[dt]!=null?arguments[dt]:{};dt%2?nt(Object(yt),!0).forEach(function(st){pt(Gt,st,yt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gt,Object.getOwnPropertyDescriptors(yt)):nt(Object(yt)).forEach(function(st){Object.defineProperty(Gt,st,Object.getOwnPropertyDescriptor(yt,st))})}return Gt}function ot(Gt){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt})(Gt)}function it(Gt,dt){if(!(Gt instanceof dt))throw new TypeError("Cannot call a class as a function")}function ct(Gt,dt){for(var yt=0;yt<dt.length;yt++){var st=dt[yt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(Gt,st.key,st)}}function lt(Gt,dt,yt){return dt&&ct(Gt.prototype,dt),yt&&ct(Gt,yt),Object.defineProperty(Gt,"prototype",{writable:!1}),Gt}function pt(Gt,dt,yt){return dt in Gt?Object.defineProperty(Gt,dt,{value:yt,enumerable:!0,configurable:!0,writable:!0}):Gt[dt]=yt,Gt}function mt(Gt,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");Gt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:Gt,writable:!0,configurable:!0}}),Object.defineProperty(Gt,"prototype",{writable:!1}),dt&&bt(Gt,dt)}function Mt(Gt){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(dt){return dt.__proto__||Object.getPrototypeOf(dt)})(Gt)}function bt(Gt,dt){return(bt=Object.setPrototypeOf||function(yt,st){return yt.__proto__=st,yt})(Gt,dt)}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wt(Gt,dt,yt){return(wt=At()?Reflect.construct:function(st,ht,vt){var It=[null];It.push.apply(It,ht);var kt=new(Function.bind.apply(st,It));return vt&&bt(kt,vt.prototype),kt}).apply(null,arguments)}function Tt(Gt){var dt=typeof Map=="function"?new Map:void 0;return(Tt=function(yt){if(yt===null||(st=yt,Function.toString.call(st).indexOf("[native code]")===-1))return yt;var st;if(typeof yt!="function")throw new TypeError("Super expression must either be null or a function");if(dt!==void 0){if(dt.has(yt))return dt.get(yt);dt.set(yt,ht)}function ht(){return wt(yt,arguments,Mt(this).constructor)}return ht.prototype=Object.create(yt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),bt(ht,yt)})(Gt)}function Rt(Gt,dt){if(Gt==null)return{};var yt,st,ht=function(It,kt){if(It==null)return{};var Ot,Pt,qt={},Wt=Object.keys(It);for(Pt=0;Pt<Wt.length;Pt++)Ot=Wt[Pt],kt.indexOf(Ot)>=0||(qt[Ot]=It[Ot]);return qt}(Gt,dt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Gt);for(st=0;st<vt.length;st++)yt=vt[st],dt.indexOf(yt)>=0||Object.prototype.propertyIsEnumerable.call(Gt,yt)&&(ht[yt]=Gt[yt])}return ht}function Bt(Gt){if(Gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Gt}function Vt(Gt,dt){if(dt&&(typeof dt=="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bt(Gt)}function $t(Gt){var dt=At();return function(){var yt,st=Mt(Gt);if(dt){var ht=Mt(this).constructor;yt=Reflect.construct(st,arguments,ht)}else yt=st.apply(this,arguments);return Vt(this,yt)}}function Ft(Gt,dt){return Qt(Gt)||function(yt,st){var ht=yt==null?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(ht!=null){var vt,It,kt=[],Ot=!0,Pt=!1;try{for(ht=ht.call(yt);!(Ot=(vt=ht.next()).done)&&(kt.push(vt.value),!st||kt.length!==st);Ot=!0);}catch(qt){Pt=!0,It=qt}finally{try{Ot||ht.return==null||ht.return()}finally{if(Pt)throw It}}return kt}}(Gt,dt)||hn(Gt,dt)||kn()}function Ht(Gt){return function(dt){if(Array.isArray(dt))return Mn(dt)}(Gt)||_n(Gt)||hn(Gt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qt(Gt){if(Array.isArray(Gt))return Gt}function _n(Gt){if(typeof Symbol<"u"&&Gt[Symbol.iterator]!=null||Gt["@@iterator"]!=null)return Array.from(Gt)}function hn(Gt,dt){if(Gt){if(typeof Gt=="string")return Mn(Gt,dt);var yt=Object.prototype.toString.call(Gt).slice(8,-1);return yt==="Object"&&Gt.constructor&&(yt=Gt.constructor.name),yt==="Map"||yt==="Set"?Array.from(Gt):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?Mn(Gt,dt):void 0}}function Mn(Gt,dt){(dt==null||dt>Gt.length)&&(dt=Gt.length);for(var yt=0,st=new Array(dt);yt<dt;yt++)st[yt]=Gt[yt];return st}function kn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(Gt,dt){var yt=typeof Symbol<"u"&&Gt[Symbol.iterator]||Gt["@@iterator"];if(!yt){if(Array.isArray(Gt)||(yt=hn(Gt))||dt){yt&&(Gt=yt);var st=0,ht=function(){};return{s:ht,n:function(){return st>=Gt.length?{done:!0}:{done:!1,value:Gt[st++]}},e:function(Ot){throw Ot},f:ht}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vt,It=!0,kt=!1;return{s:function(){yt=yt.call(Gt)},n:function(){var Ot=yt.next();return It=Ot.done,Ot},e:function(Ot){kt=!0,vt=Ot},f:function(){try{It||yt.return==null||yt.return()}finally{if(kt)throw vt}}}}var yn={SDK_READY:"sdkStateReady",SDK_NOT_READY:"sdkStateNotReady",SDK_DESTROY:"sdkDestroy",MESSAGE_RECEIVED:"onMessageReceived",MESSAGE_MODIFIED:"onMessageModified",MESSAGE_REVOKED:"onMessageRevoked",MESSAGE_READ_BY_PEER:"onMessageReadByPeer",MESSAGE_READ_RECEIPT_RECEIVED:"onMessageReadReceiptReceived",MESSAGE_EXTENSIONS_UPDATED:"onMessageExtensionsUpdated",MESSAGE_EXTENSIONS_DELETED:"onMessageExtensionsDeleted",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",TOTAL_UNREAD_MESSAGE_COUNT_UPDATED:"onTotalUnreadMessageCountUpdated",CONVERSATION_GROUP_LIST_UPDATED:"onConversationGroupListUpdated",CONVERSATION_IN_GROUP_UPDATED:"onConversationInGroupUpdated",GROUP_LIST_UPDATED:"onGroupListUpdated",GROUP_SYSTEM_NOTICE_RECEIVED:"receiveGroupSystemNotice",GROUP_ATTRIBUTES_UPDATED:"groupAttributesUpdated",GROUP_COUNTER_UPDATED:"onGroupCounterUpdated",TOPIC_CREATED:"onTopicCreated",TOPIC_DELETED:"onTopicDeleted",TOPIC_UPDATED:"onTopicUpdated",PROFILE_UPDATED:"onProfileUpdated",USER_STATUS_UPDATED:"onUserStatusUpdated",BLACKLIST_UPDATED:"blacklistUpdated",FRIEND_LIST_UPDATED:"onFriendListUpdated",FRIEND_GROUP_LIST_UPDATED:"onFriendGroupListUpdated",FRIEND_APPLICATION_LIST_UPDATED:"onFriendApplicationListUpdated",KICKED_OUT:"kickedOut",ERROR:"error",NET_STATE_CHANGE:"netStateChange",SDK_RELOAD:"sdkReload"},Ut={MSG_TEXT:"TIMTextElem",MSG_IMAGE:"TIMImageElem",MSG_SOUND:"TIMSoundElem",MSG_AUDIO:"TIMSoundElem",MSG_FILE:"TIMFileElem",MSG_FACE:"TIMFaceElem",MSG_VIDEO:"TIMVideoFileElem",MSG_GEO:"TIMLocationElem",MSG_LOCATION:"TIMLocationElem",MSG_GRP_TIP:"TIMGroupTipElem",MSG_GRP_SYS_NOTICE:"TIMGroupSystemNoticeElem",MSG_CUSTOM:"TIMCustomElem",MSG_MERGER:"TIMRelayElem",MSG_PRIORITY_HIGH:"High",MSG_PRIORITY_NORMAL:"Normal",MSG_PRIORITY_LOW:"Low",MSG_PRIORITY_LOWEST:"Lowest",CONV_C2C:"C2C",CONV_GROUP:"GROUP",CONV_TOPIC:"TOPIC",CONV_SYSTEM:"@TIM#SYSTEM",CONV_AT_ME:1,CONV_AT_ALL:2,CONV_AT_ALL_AT_ME:3,CONV_MARK_TYPE_STAR:1,CONV_MARK_TYPE_UNREAD:2,CONV_MARK_TYPE_FOLD:4,CONV_MARK_TYPE_HIDE:8,GRP_PRIVATE:"Private",GRP_WORK:"Private",GRP_PUBLIC:"Public",GRP_CHATROOM:"ChatRoom",GRP_MEETING:"ChatRoom",GRP_AVCHATROOM:"AVChatRoom",GRP_COMMUNITY:"Community",GRP_MBR_ROLE_OWNER:"Owner",GRP_MBR_ROLE_ADMIN:"Admin",GRP_MBR_ROLE_MEMBER:"Member",GRP_MBR_ROLE_CUSTOM:"Custom",GRP_TIP_MBR_JOIN:1,GRP_TIP_MBR_QUIT:2,GRP_TIP_MBR_KICKED_OUT:3,GRP_TIP_MBR_SET_ADMIN:4,GRP_TIP_MBR_CANCELED_ADMIN:5,GRP_TIP_GRP_PROFILE_UPDATED:6,GRP_TIP_MBR_PROFILE_UPDATED:7,GRP_TIP_BAN_AVCHATROOM_MEMBER:10,GRP_TIP_UNBAN_AVCHATROOM_MEMBER:11,MSG_REMIND_ACPT_AND_NOTE:"AcceptAndNotify",MSG_REMIND_ACPT_NOT_NOTE:"AcceptNotNotify",MSG_REMIND_DISCARD:"Discard",GENDER_UNKNOWN:"Gender_Type_Unknown",GENDER_FEMALE:"Gender_Type_Female",GENDER_MALE:"Gender_Type_Male",KICKED_OUT_MULT_ACCOUNT:"multipleAccount",KICKED_OUT_MULT_DEVICE:"multipleDevice",KICKED_OUT_USERSIG_EXPIRED:"userSigExpired",KICKED_OUT_REST_API:"REST_API_Kick",ALLOW_TYPE_ALLOW_ANY:"AllowType_Type_AllowAny",ALLOW_TYPE_NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_TYPE_DENY_ANY:"AllowType_Type_DenyAny",FORBID_TYPE_NONE:"AdminForbid_Type_None",FORBID_TYPE_SEND_OUT:"AdminForbid_Type_SendOut",JOIN_OPTIONS_FREE_ACCESS:"FreeAccess",JOIN_OPTIONS_NEED_PERMISSION:"NeedPermission",JOIN_OPTIONS_DISABLE_APPLY:"DisableApply",JOIN_STATUS_SUCCESS:"JoinedSuccess",JOIN_STATUS_ALREADY_IN_GROUP:"AlreadyInGroup",JOIN_STATUS_WAIT_APPROVAL:"WaitAdminApproval",INVITE_OPTIONS_DISABLE_INVITE:"DisableInvite",INVITE_OPTIONS_NEED_PERMISSION:"NeedPermission",INVITE_OPTIONS_FREE_ACCESS:"FreeAccess",GRP_PROFILE_OWNER_ID:"ownerID",GRP_PROFILE_CREATE_TIME:"createTime",GRP_PROFILE_LAST_INFO_TIME:"lastInfoTime",GRP_PROFILE_MEMBER_NUM:"memberNum",GRP_PROFILE_MAX_MEMBER_NUM:"maxMemberNum",GRP_PROFILE_JOIN_OPTION:"joinOption",GRP_PROFILE_INVITE_OPTION:"inviteOption",GRP_PROFILE_INTRODUCTION:"introduction",GRP_PROFILE_NOTIFICATION:"notification",GRP_PROFILE_MUTE_ALL_MBRS:"muteAllMembers",SNS_ADD_TYPE_SINGLE:"Add_Type_Single",SNS_ADD_TYPE_BOTH:"Add_Type_Both",SNS_DELETE_TYPE_SINGLE:"Delete_Type_Single",SNS_DELETE_TYPE_BOTH:"Delete_Type_Both",SNS_APPLICATION_TYPE_BOTH:"Pendency_Type_Both",SNS_APPLICATION_SENT_TO_ME:"Pendency_Type_ComeIn",SNS_APPLICATION_SENT_BY_ME:"Pendency_Type_SendOut",SNS_APPLICATION_AGREE:"Response_Action_Agree",SNS_APPLICATION_AGREE_AND_ADD:"Response_Action_AgreeAndAdd",SNS_CHECK_TYPE_BOTH:"CheckResult_Type_Both",SNS_CHECK_TYPE_SINGLE:"CheckResult_Type_Single",SNS_TYPE_NO_RELATION:"CheckResult_Type_NoRelation",SNS_TYPE_A_WITH_B:"CheckResult_Type_AWithB",SNS_TYPE_B_WITH_A:"CheckResult_Type_BWithA",SNS_TYPE_BOTH_WAY:"CheckResult_Type_BothWay",NET_STATE_CONNECTED:"connected",NET_STATE_CONNECTING:"connecting",NET_STATE_DISCONNECTED:"disconnected",MSG_AT_ALL:"__kImSDK_MesssageAtALL__",READ_ALL_C2C_MSG:"readAllC2CMessage",READ_ALL_GROUP_MSG:"readAllGroupMessage",READ_ALL_MSG:"readAllMessage",USER_STATUS_UNKNOWN:0,USER_STATUS_ONLINE:1,USER_STATUS_OFFLINE:2,USER_STATUS_UNLOGINED:3},En=function(){function Gt(){it(this,Gt),this.cache=[],this.options=null}return lt(Gt,[{key:"use",value:function(dt){if(typeof dt!="function")throw"middleware must be a function";return this.cache.push(dt),this}},{key:"next",value:function(dt){if(this.middlewares&&this.middlewares.length>0)return this.middlewares.shift().call(this,this.options,this.next.bind(this))}},{key:"run",value:function(dt){return this.middlewares=this.cache.map(function(yt){return yt}),this.options=dt,this.next()}}]),Gt}(),vn=function(){function Gt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;it(this,Gt),this.high=dt,this.low=yt}return lt(Gt,[{key:"equal",value:function(dt){return dt!==null&&this.low===dt.low&&this.high===dt.high}},{key:"toString",value:function(){var dt=Number(this.high).toString(16),yt=Number(this.low).toString(16);if(yt.length<8)for(var st=8-yt.length;st;)yt="0"+yt,st--;return dt+yt}}]),Gt}(),wn={TEST:{CHINA:{DEFAULT:"wss://wss-dev.tim.qq.com"},OVERSEA:{DEFAULT:"wss://wss-dev.tim.qq.com"},SINGAPORE:{DEFAULT:"wss://wsssgp-dev.im.qcloud.com"},KOREA:{DEFAULT:"wss://wsskr-dev.im.qcloud.com"},GERMANY:{DEFAULT:"wss://wssger-dev.im.qcloud.com"},IND:{DEFAULT:"wss://wssind-dev.im.qcloud.com"},JPN:{DEFAULT:"wss://wssjpn-dev.im.qcloud.com"},USA:{DEFAULT:"wss://wssusa-dev.im.qcloud.com"}},PRODUCTION:{CHINA:{DEFAULT:"wss://wss.im.qcloud.com",BACKUP:"wss://wss.tim.qq.com",STAT:"https://events.im.qcloud.com",ANYCAST:"wss://162.14.13.203"},OVERSEA:{DEFAULT:"wss://wss.im.qcloud.com",BACKUP:"wss://wss.my-imcloud.com",STAT:"https://api.my-imcloud.com"},SINGAPORE:{DEFAULT:"wss://wsssgp.im.qcloud.com",BACKUP:"wss://wsssgp.my-imcloud.com",STAT:"https://apisgp.my-imcloud.com"},KOREA:{DEFAULT:"wss://wsskr.im.qcloud.com",BACKUP:"wss://wsskr.my-imcloud.com",STAT:"https://apikr.my-imcloud.com"},GERMANY:{DEFAULT:"wss://wssger.im.qcloud.com",BACKUP:"wss://wssger.my-imcloud.com",STAT:"https://apiger.my-imcloud.com"},IND:{DEFAULT:"wss://wssind.my-imcloud.com",BACKUP:"wss://wssind.im.qcloud.com",STAT:"https://apiind.my-imcloud.com"},JPN:{DEFAULT:"wss://wssjpn.im.qcloud.com",BACKUP:"wss://wssjpn.my-imcloud.com",STAT:"https://apijpn.my-imcloud.com"},USA:{DEFAULT:"wss://wssusa.im.qcloud.com",BACKUP:"wss://wssusa.my-imcloud.com",STAT:"https://apiusa.my-imcloud.com"}}},Ln={ANDROID:2,IOS:3,MAC:4,WEB:7,WX_MP:8,QQ_MP:9,TT_MP:10,BAIDU_MP:11,ALI_MP:12,IPAD:13,UNI_NATIVE_APP:15},Kn="1.7.3",Rn=537048168,Tn="CHINA",Un="OVERSEA",$n="SINGAPORE",Vn="KOREA",tr="GERMANY",Jn="IND",wr="JPN",jr="USA",Zt={HOST:{CURRENT:{DEFAULT:"wss://wss.im.qcloud.com",STAT:"https://events.im.qcloud.com"},setCurrent:function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tn;this.CURRENT=wn.PRODUCTION[Gt]}},NAME:{OPEN_IM:"openim",OPEN_IM_MSG_EXT:"openim_msg_ext_http_svc",GROUP:"group_open_http_svc",GROUP_AVCHATROOM:"group_open_avchatroom_http_svc",GROUP_COMMUNITY:"million_group_open_http_svc",GROUP_ATTR:"group_open_attr_http_svc",FRIEND:"sns",PROFILE:"profile",RECENT_CONTACT:"recentcontact",PIC:"openpic",BIG_GROUP_NO_AUTH:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING:"group_open_long_polling_http_svc",BIG_GROUP_LONG_POLLING_NO_AUTH:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat",WEB_IM:"webim",IM_COS_SIGN:"im_cos_sign_svr",CUSTOM_UPLOAD:"im_cos_msg",HEARTBEAT:"heartbeat",IM_OPEN_PUSH:"im_open_push",IM_OPEN_STATUS:"im_open_status",IM_LONG_MESSAGE:"im_long_msg",IM_CONFIG_MANAGER:"im_sdk_config_mgr",STAT_SERVICE:"StatSvc",OVERLOAD_PUSH:"OverLoadPush",IM_MSG_AUDIT_MGR:"im_msg_audit_mgr",TUIROOM_SVR:"tui_room_svr",IM_OPEN_TRANSLATE:"im_open_translate"},CMD:{LOGIN:"wslogin",LOGOUT_LONG_POLL:"longpollinglogout",LOGOUT:"wslogout",HELLO:"wshello",STAT_BACKGROUND:"ws_stat_background",STAT_FOREGROUND:"ws_stat_foreground",SET_TOKEN:"ws_stat_settoken",PORTRAIT_GET:"portrait_get_all",PORTRAIT_SET:"portrait_set",GET_LONG_POLL_ID:"getlongpollingid",LONG_POLL:"longpolling",AVCHATROOM_LONG_POLL:"get_msg",ADD_FRIEND:"friend_add",UPDATE_FRIEND:"friend_update",GET_FRIEND_LIST:"friend_get",GET_FRIEND_PROFILE:"friend_get_specified",DELETE_FRIEND:"friend_delete",CHECK_FRIEND:"friend_check",GET_FRIEND_GROUP_LIST:"group_get",RESPOND_FRIEND_APPLICATION:"friend_response",GET_FRIEND_APPLICATION_LIST:"pendency_get",DELETE_FRIEND_APPLICATION:"pendency_delete",REPORT_FRIEND_APPLICATION:"pendency_report",GET_GROUP_APPLICATION:"get_pendency",CREATE_FRIEND_GROUP:"group_add",DELETE_FRIEND_GROUP:"group_delete",UPDATE_FRIEND_GROUP:"group_update",GET_BLACKLIST:"black_list_get",ADD_BLACKLIST:"black_list_add",DELETE_BLACKLIST:"black_list_delete",CREATE_GROUP:"create_group",GET_JOINED_GROUPS:"get_joined_group_list",SET_GROUP_ATTRIBUTES:"set_group_attr",MODIFY_GROUP_ATTRIBUTES:"modify_group_attr",DELETE_GROUP_ATTRIBUTES:"delete_group_attr",CLEAR_GROUP_ATTRIBUTES:"clear_group_attr",GET_GROUP_ATTRIBUTES:"get_group_attr",SEND_MESSAGE:"sendmsg",REVOKE_C2C_MESSAGE:"msgwithdraw",DELETE_C2C_MESSAGE:"delete_c2c_msg_ramble",MODIFY_C2C_MESSAGE:"modify_c2c_msg",MODIFY_C2C_MESSAGE_EXTENSIONS:"set_key_values",GET_C2C_MESSAGE_EXTENSIONS:"get_key_values",SEND_GROUP_MESSAGE:"send_group_msg",REVOKE_GROUP_MESSAGE:"group_msg_recall",DELETE_GROUP_MESSAGE:"delete_group_ramble_msg_by_seq",MODIFY_GROUP_MESSAGE:"modify_group_msg",MODIFY_GROUP_MESSAGE_EXTENSIONS:"group_set_key_values",GET_GROUP_MESSAGE_EXTENSIONS:"group_get_key_values",GET_GROUP_INFO:"get_group_self_member_info",GET_GROUP_MEMBER_INFO:"get_specified_group_member_info",GET_GROUP_MEMBER_LIST:"get_group_member_info",GET_AVCHATROOM_MEMBER_LIST:"get_members",MARK_AVCHATROOM_MEMBER_INFO:"modify_user_info",QUIT_GROUP:"quit_group",CHANGE_GROUP_OWNER:"change_group_owner",DESTROY_GROUP:"destroy_group",ADD_GROUP_MEMBER:"add_group_member",DELETE_GROUP_MEMBER:"delete_group_member",BAN_AVCHATROOM_MEMBER:"ban_group_member",SEARCH_GROUP_BY_ID:"get_group_public_info",APPLY_JOIN_GROUP:"apply_join_group",HANDLE_APPLY_JOIN_GROUP:"handle_apply_join_group",HANDLE_INVITE_JOIN_GROUP:"handle_invite_join_permission_group",HANDLE_GROUP_INVITATION:"handle_invite_join_group",MODIFY_GROUP_INFO:"modify_group_base_info",MODIFY_GROUP_MEMBER_INFO:"modify_group_member_info",DELETE_GROUP_SYSTEM_MESSAGE:"deletemsg",DELETE_GROUP_AT_TIPS:"deletemsg",GET_GROUP_NOTIFY:"get_group_notify",GET_CONVERSATION_LIST:"get",PAGING_GET_CONVERSATION_LIST:"page_get",DELETE_CONVERSATION:"batch_delete",CLEAR_HISTORY_MESSAGE:"clear_msg",PIN_CONVERSATION:"top",SET_CONVERSATION_CUSTOM_DATA:"mark_contact",MARK_CONVERSATION:"mark_contact",CREATE_CONVERSATION_GROUP:"create_contact_group",DELETE_CONVERSATION_GROUP:"del_contact_group",UPDATE_CONVERSATION_GROUP:"update_contact_group",GET_CONVERSATION_GROUP_LIST:"get_contact_group",GET_MESSAGES:"getmsg",GET_C2C_ROAM_MESSAGES:"getroammsg",SET_C2C_PEER_MUTE_NOTIFICATIONS:"set_c2c_peer_mute_notifications",GET_C2C_PEER_MUTE_NOTIFICATIONS:"get_c2c_peer_mute_notifications",GET_GROUP_ROAM_MESSAGES:"group_msg_get",GET_READ_RECEIPT:"get_group_msg_receipt",GET_READ_RECEIPT_DETAIL:"get_group_msg_receipt_detail",SEND_READ_RECEIPT:"group_msg_receipt",SEND_C2C_READ_RECEIPT:"c2c_msg_read_receipt",SET_C2C_MESSAGE_READ:"msgreaded",GET_PEER_READ_TIME:"get_peer_read_time",SET_GROUP_MESSAGE_READ:"msg_read_report",FILE_READ_AND_WRITE_AUTHKEY:"authkey",FILE_UPLOAD:"pic_up",COS_SIGN:"cos",COS_PRE_SIG:"pre_sig",VIDEO_COVER:"video_cover",TIM_WEB_REPORT_V2:"tim_web_report_v2",BIG_DATA_HALLWAY_AUTH_KEY:"authkey",GET_ONLINE_MEMBER_NUM:"get_online_member_num",ALIVE:"alive",MESSAGE_PUSH:"msg_push",MULTI_MESSAGE_PUSH:"multi_msg_push_ws",MESSAGE_PUSH_ACK:"ws_msg_push_ack",STATUS_FORCE_OFFLINE:"stat_forceoffline",DOWNLOAD_MERGER_MESSAGE:"get_relay_json_msg",UPLOAD_MERGER_MESSAGE:"save_relay_json_msg",FETCH_CLOUD_CONTROL_CONFIG:"fetch_config",PUSHED_CLOUD_CONTROL_CONFIG:"push_configv2",FETCH_COMMERCIAL_CONFIG:"fetch_imsdk_purchase_bitsv2",PUSHED_COMMERCIAL_CONFIG:"push_imsdk_purchase_bitsv2",KICK_OTHER:"KickOther",OVERLOAD_NOTIFY:"notify2",SET_ALL_MESSAGE_READ:"read_all_unread_msg",CREATE_TOPIC:"create_topic",DELETE_TOPIC:"destroy_topic",UPDATE_TOPIC_PROFILE:"modify_topic",GET_TOPIC_LIST:"get_topic",SET_SELF_STATUS:"ws_set_custom_status",GET_USER_STATUS:"ws_get_user_status",SUBSCRIBE_USER_STATUS:"ws_status_subscribe",UNSUBSCRIBE_USER_STATUS:"ws_status_unsubscribe",GET_RPOFANITY_LIST:"get_local_words",TRANSLATE_TEXT:"ws_batch_trans_text",UPDATE_GROUP_COUNTER:"update_group_counter",GET_GROUP_COUNTER:"get_group_counter"},CHANNEL:{SOCKET:1,XHR:2,AUTO:0},NAME_VERSION:{openim:"v4",group_open_http_svc:"v4",sns:"v4",profile:"v4",recentcontact:"v4",openpic:"v4",group_open_http_noauth_svc:"v4",group_open_long_polling_http_svc:"v4",group_open_long_polling_http_noauth_svc:"v4",imopenstat:"v4",im_cos_sign_svr:"v4",im_cos_msg:"v4",webim:"v4",im_open_push:"v4",im_open_status:"v4"}},hr={SEARCH_MSG:new vn(0,Math.pow(2,0)).toString(),SEARCH_GRP_SNS:new vn(0,Math.pow(2,1)).toString(),AVCHATROOM_HISTORY_MSG:new vn(0,Math.pow(2,2)).toString(),GRP_COMMUNITY:new vn(0,Math.pow(2,3)).toString(),MSG_TO_SPECIFIED_GRP_MBR:new vn(0,Math.pow(2,4)).toString(),AVCHATROOM_MBR_LIST:new vn(0,Math.pow(2,6)).toString(),USER_STATUS:new vn(0,Math.pow(2,7)).toString(),CONV_MARK:new vn(0,Math.pow(2,9)).toString(),CONV_GROUP:new vn(0,Math.pow(2,10)).toString(),AVCHATROOM_BAN_MBR:new vn(0,Math.pow(2,11)).toString(),MSG_EXT:new vn(0,Math.pow(2,13)).toString(),GRP_COUNTER:new vn(0,Math.pow(2,15)).toString()},lo="c2c_text_message",_o="c2c_custom_message",bo="group_text_message",Hr="group_custom_message",Do="user_profile",Oo="group_profile",zo="group_member_profile";Zt.HOST.setCurrent(Tn);var qo=typeof wx<"u"&&typeof wx.getSystemInfoSync=="function"&&!!wx.getSystemInfoSync().fontSizeSetting,_i=qo&&typeof wx.createGamePortal=="function",na=typeof qq<"u"&&typeof qq.getSystemInfoSync=="function"&&!!qq.getSystemInfoSync().fontSizeSetting,Qn=typeof tt<"u"&&typeof tt.getSystemInfoSync=="function"&&!!tt.getSystemInfoSync().fontSizeSetting,sr=typeof swan<"u"&&typeof swan.getSystemInfoSync=="function"&&!!swan.getSystemInfoSync().fontSizeSetting,ar=typeof my<"u"&&typeof my.getSystemInfoSync=="function"&&!!my.getSystemInfoSync().fontSizeSetting,Or=typeof jd<"u"&&typeof jd.getSystemInfoSync=="function",Dr=typeof uni<"u"&&typeof window>"u"&&typeof uni.requireNativePlugin=="function",lr=typeof uni<"u",cr=qo||na||Qn||sr||ar||Dr||Or,gr=(typeof uni<"u"||typeof window<"u")&&!cr,Mr=na?qq:Qn?tt:sr?swan:ar?my:qo?wx:Dr?uni:Or?jd:{},Ar=gr&&window&&window.navigator&&window.navigator.userAgent||"",Ir=/(micromessenger|webbrowser)/i.test(Ar),mo=/AppleWebKit\/([\d.]+)/i.exec(Ar);mo&&parseFloat(mo.pop());var Ao,jn,Br=(Ao="WEB",Ir?Ao="WEB":na?Ao="QQ_MP":Qn?Ao="TT_MP":sr?Ao="BAIDU_MP":ar?Ao="ALI_MP":qo?Ao="WX_MP":Dr&&(Ao="UNI_NATIVE_APP"),Ln[Ao]),Pn=/iPad/i.test(Ar),Xr=/iPhone/i.test(Ar)&&!Pn,po=/iPod/i.test(Ar),fo=Xr||Pn||po,Us=(jn=Ar.match(/OS (\d+)_/i))&&jn[1]?jn[1]:null,ao=/Android/i.test(Ar),xa=function(){var Gt=Ar.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!Gt)return null;var dt=Gt[1]&&parseFloat(Gt[1]),yt=Gt[2]&&parseFloat(Gt[2]);return dt&&yt?parseFloat(Gt[1]+"."+Gt[2]):dt||null}();(function(){var Gt=Ar.match(/Chrome\/(\d+)/);Gt&&Gt[1]&&parseFloat(Gt[1])})();var $r=/MSIE/.test(Ar)||Ar.indexOf("Trident")>-1&&Ar.indexOf("rv:11.0")>-1,Gr=function(){var Gt=/MSIE\s(\d+)\.\d/.exec(Ar),dt=Gt&&parseFloat(Gt[1]);return!dt&&/Trident\/7.0/i.test(Ar)&&/rv:11.0/.test(Ar)&&(dt=11),dt}();(function(){var Gt=Ar.match(/TBS\/(\d+)/i);Gt&&Gt[1]&&Gt[1]})();var Ll,Ss,Fo=/Windows/i.test(Ar),Cp=/MAC OS X/i.test(Ar),Js=gr&&typeof Worker<"u"&&!$r,ls=ao||fo,Zs=gr&&window.tencent_cloud_im_csig_flutter_for_web_25F_cy!==void 0;Ll=typeof console<"u"?console:typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.console?commonjsGlobal$1.console:typeof window<"u"&&window.console?window.console:{};for(var ou=function(){},Mu=["assert","clear","count","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],lp=Mu.length;lp--;)Ss=Mu[lp],console[Ss]||(Ll[Ss]=ou);var Nl=Ll,Ts=0,qs=function(){return new Date().getTime()+Ts},iu=function(){Ts=0},ds=function(){return Math.floor(qs()/1e3)},Gs=0;function ga(){return Kp()?"%c TIM %c":"TIM"}function Du(){var Gt,dt=((Gt=new Date).setTime(qs()),Gt);return dt.toLocaleTimeString("en-US",{hour12:!1})+"."+function(yt){var st;switch(yt.toString().length){case 1:st="00"+yt;break;case 2:st="0"+yt;break;default:st=yt}return st}(dt.getMilliseconds())}var pn={arguments2String:function(Gt){var dt="";if(Gt.length===1)dt=Gt[0];else for(var yt=0,st=Gt.length;yt<st;yt++)Yo(Gt[yt])?Ru(Gt[yt])?dt+=tp(Gt[yt]):dt+=JSON.stringify(Gt[yt]):dt+=Gt[yt],dt+=" ";return dt},_exec:function(Gt,dt){Kp()?Nl[Gt](ga(),"background:#0abf5b; padding:1px; border-radius:3px; color: #fff","background:transparent",Du(),dt):Nl[Gt]("".concat(ga()," ").concat(Du()," ").concat(dt))},d:function(){if(Gs<=-1){var Gt=this.arguments2String(arguments);this._exec("debug",Gt)}},l:function(){if(Gs<=0){var Gt=this.arguments2String(arguments);this._exec("log",Gt)}},log:function(){if(Gs<=0){var Gt=this.arguments2String(arguments);this._exec("log",Gt)}},i:function(){if(Gs<=1){var Gt=this.arguments2String(arguments);this._exec("info",Gt)}},w:function(){if(Gs<=2){var Gt=this.arguments2String(arguments);this._exec("warn",Gt)}},e:function(){if(Gs<=3){var Gt=this.arguments2String(arguments);this._exec("error",Gt)}},setLevel:function(Gt){Gt<4&&this._exec("log","set level from "+Gs+" to "+Gt),Gs=Gt},getLevel:function(){return Gs}},sn={JPG:1,JPEG:1,GIF:2,PNG:3,BMP:4,UNKNOWN:255},xs={NICK:"Tag_Profile_IM_Nick",GENDER:"Tag_Profile_IM_Gender",BIRTHDAY:"Tag_Profile_IM_BirthDay",LOCATION:"Tag_Profile_IM_Location",SELFSIGNATURE:"Tag_Profile_IM_SelfSignature",ALLOWTYPE:"Tag_Profile_IM_AllowType",LANGUAGE:"Tag_Profile_IM_Language",AVATAR:"Tag_Profile_IM_Image",MESSAGESETTINGS:"Tag_Profile_IM_MsgSettings",ADMINFORBIDTYPE:"Tag_Profile_IM_AdminForbidType",LEVEL:"Tag_Profile_IM_Level",ROLE:"Tag_Profile_IM_Role"},Wo={UNKNOWN:"Gender_Type_Unknown",FEMALE:"Gender_Type_Female",MALE:"Gender_Type_Male"},dm={NONE:"AdminForbid_Type_None",SEND_OUT:"AdminForbid_Type_SendOut"},dp={NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_ANY:"AllowType_Type_AllowAny",DENY_ANY:"AllowType_Type_DenyAny"},Ql="JoinedSuccess",_d="WaitAdminApproval",ep="@TGS#_",zu="@TOPIC#_",Fl=["url"],Lp=function(Gt){return ns(Gt)==="map"},Qs=function(Gt){return ns(Gt)==="file"},Zo=function(Gt){return Gt!==null&&(typeof Gt=="number"&&!isNaN(Gt-0)||ot(Gt)==="object"&&Gt.constructor===Number)},Po=function(Gt){return typeof Gt=="string"},Ku=function(Gt){return Gt!==null&&ot(Gt)==="object"},as=function(Gt){if(ot(Gt)!=="object"||Gt===null)return!1;var dt=Object.getPrototypeOf(Gt);if(dt===null)return!0;for(var yt=dt;Object.getPrototypeOf(yt)!==null;)yt=Object.getPrototypeOf(yt);return dt===yt},to=function(Gt){return typeof Array.isArray=="function"?Array.isArray(Gt):ns(Gt)==="array"},vr=function(Gt){return Gt===void 0},Yo=function(Gt){return to(Gt)||Ku(Gt)},yo=function(Gt){return typeof Gt=="function"},Ru=function(Gt){return Gt instanceof Error},ns=function(Gt){return Object.prototype.toString.call(Gt).match(/^\[object (.*)\]$/)[1].toLowerCase()},Zr=function(Gt){if(typeof Gt!="string")return!1;var dt=Gt[0];return!/[^a-zA-Z0-9]/.test(dt)};Date.now||(Date.now=function(){return new Date().getTime()});var fr=function Gt(dt,yt,st,ht){if(!Yo(dt)||!Yo(yt))return 0;for(var vt,It=0,kt=Object.keys(yt),Ot=0,Pt=kt.length;Ot<Pt;Ot++)if(vt=kt[Ot],!(vr(yt[vt])||st&&st.includes(vt)))if(Yo(dt[vt])&&Yo(yt[vt]))It+=Gt(dt[vt],yt[vt],st,ht);else{if(ht&&ht.includes(yt[vt]))continue;dt[vt]!==yt[vt]&&(dt[vt]=yt[vt],It+=1)}return It},tp=function(Gt){return JSON.stringify(Gt,["message","code"])},ku=function(Gt){if(Gt.length===0)return 0;for(var dt=0,yt=0,st=typeof document<"u"&&document.characterSet!==void 0?document.characterSet:"UTF-8";Gt[dt]!==void 0;)yt+=Gt[dt++].charCodeAt[dt]<=255?1:st===!1?3:2;return yt},_c=function(Gt){var dt=Gt||99999999;return Math.round(Math.random()*dt)},Wu="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Il=Wu.length,Eu=function(Gt,dt){for(var yt in Gt)if(Gt[yt]===dt)return!0;return!1},Bl={},Fu=function(Gt){return Gt.indexOf("http://")===-1||Gt.indexOf("https://")===-1?"https://"+Gt:Gt.replace(/https|http/,"https")},Qu=function Gt(dt){if(Object.getOwnPropertyNames(dt).length===0)return Object.create(null);var yt=Array.isArray(dt)?[]:Object.create(null),st="";for(var ht in dt)dt[ht]!==null?dt[ht]!==void 0?(st=ot(dt[ht]),["string","number","function","boolean"].indexOf(st)>=0?yt[ht]=dt[ht]:yt[ht]=Gt(dt[ht])):yt[ht]=void 0:yt[ht]=null;return yt};function Ou(Gt,dt){if(!to(Gt)||!to(dt))return!1;var yt=!1;return dt.forEach(function(st){var ht=st.key,vt=st.value,It=Gt.find(function(kt){return kt.key===ht});It?It.value!==vt&&(It.value=vt,yt=!0):(Gt.push({key:ht,value:vt}),yt=!0)}),yt}var cu=function(Gt){return Gt===Ut.GRP_AVCHATROOM},Vs=function(Gt){var dt=Gt.type,yt=Gt.groupID;return dt===Ut.GRP_COMMUNITY||"".concat(yt).startsWith(ep)&&!"".concat(yt).includes(zu)},ps=function(Gt){return"".concat(Gt).startsWith(ep)&&"".concat(Gt).includes(zu)},gu=function(Gt){return Po(Gt)&&Gt.slice(0,3)===Ut.CONV_C2C},Au=function(Gt){return Po(Gt)&&Gt.slice(0,5)===Ut.CONV_GROUP},zs=function(Gt){return Po(Gt)&&Gt===Ut.CONV_SYSTEM};function uu(Gt,dt){var yt={};return Object.keys(Gt).forEach(function(st){yt[st]=dt(Gt[st],st)}),yt}function eu(Gt){return cr?new Promise(function(dt,yt){Mr.getImageInfo({src:Gt,success:function(st){dt({width:st.width,height:st.height})},fail:function(){dt({width:0,height:0})}})}):$r&&Gr===9?Promise.resolve({width:0,height:0}):new Promise(function(dt,yt){var st=new Image;st.onload=function(){dt({width:this.width,height:this.height}),st=null},st.onerror=function(){dt({width:0,height:0}),st=null},st.src=Gt})}function lu(){function Gt(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"".concat(Gt()+Gt()).concat(Gt()).concat(Gt()).concat(Gt()).concat(Gt()).concat(Gt()).concat(Gt())}function rs(){var Gt="unknown";if(Cp&&(Gt="mac"),Fo&&(Gt="windows"),fo&&(Gt="ios"),ao&&(Gt="android"),cr)try{var dt=Mr.getSystemInfoSync().platform;dt!==void 0&&(Gt=dt)}catch{}return Gt}function mu(Gt,dt){Gt=Gt.split("."),dt=dt.split(".");for(var yt=Math.max(Gt.length,dt.length);Gt.length<yt;)Gt.push("0");for(;dt.length<yt;)dt.push("0");for(var st=0;st<yt;st++){var ht=parseInt(Gt[st]),vt=parseInt(dt[st]);if(ht>vt)return 1;if(ht<vt)return-1}return 0}function Sp(Gt){var dt=Gt.originUrl,yt=dt===void 0?void 0:dt,st=Gt.originWidth,ht=Gt.originHeight,vt=Gt.min,It=vt===void 0?198:vt,kt=parseInt(st),Ot=parseInt(ht),Pt={url:void 0,width:0,height:0};if((kt<=Ot?kt:Ot)<=It)Pt.url=yt,Pt.width=kt,Pt.height=Ot;else{Ot<=kt?(Pt.width=Math.ceil(kt*It/Ot),Pt.height=It):(Pt.width=It,Pt.height=Math.ceil(Ot*It/kt));var qt=yt&&yt.indexOf("?")>-1?"".concat(yt,"&"):"".concat(yt,"?");Pt.url="".concat(qt,It===198?"imageView2/3/w/198/h/198":"imageView2/3/w/720/h/720")}return vr(yt)?(Pt.url,Rt(Pt,Fl)):Pt}function zp(Gt){var dt=Gt[2];Gt[2]=Gt[1],Gt[1]=dt;for(var yt=0;yt<Gt.length;yt++)Gt[yt].setType(yt)}function Tu(Gt){var dt=Gt.servcmd;return dt.slice(dt.indexOf(".")+1)}function Lu(Gt,dt){return Math.round(Number(Gt)*Math.pow(10,dt))/Math.pow(10,dt)}function np(Gt,dt){return Gt.includes(dt)}function pm(Gt,dt){return Gt.includes(dt)}function tu(Gt){return Gt.split(zu)[0]}var rp=function(Gt,dt,yt){if(vr(dt))return"";switch(Gt){case Ut.MSG_TEXT:return dt.text;case Ut.MSG_IMAGE:return yt?"[Image]":"[]";case Ut.MSG_LOCATION:return yt?"[Location]":"[]";case Ut.MSG_AUDIO:return yt?"[Voice]":"[]";case Ut.MSG_VIDEO:return yt?"[Video]":"[]";case Ut.MSG_FILE:return yt?"[File]":"[]";case Ut.MSG_CUSTOM:return yt?"[Custom Messages]":"[]";case Ut.MSG_GRP_TIP:return yt?"[Group Notification]":"[]";case Ut.MSG_GRP_SYS_NOTICE:return yt?"[Group System Message]":"[]";case Ut.MSG_FACE:return yt?"[Animated Sticker]":"[]";case Ut.MSG_MERGER:return yt?"[Chat Record]":"[]";default:return""}};function Tl(Gt){return Gt===Ut.MSG_TEXT||Gt===Ut.MSG_CUSTOM||Gt===Ut.MSG_LOCATION||Gt===Ut.MSG_FACE}function ju(Gt){var dt=[];if(!Po(Gt))return dt;var yt=Gt.length;if(yt===0)return dt;for(var st=yt-1;st>=0;st--)Gt[st]==="1"&&dt.push(Math.pow(2,yt-st-1));return dt}function Kp(){return!$r&&!cr}function Ip(Gt){return"the length of userIDList cannot exceed ".concat(Gt)}function Es(Gt,dt){if(Gt){var yt=Gt;return dt&&(Gt.startsWith("http://")?yt=Gt.replace(/^http:\/\/[^/]+/,dt):Gt.startsWith("https://")&&(yt=Gt.replace(/^https:\/\/[^/]+/,dt))),yt}}var ws=Object.prototype.hasOwnProperty;function dr(Gt){if(Gt==null)return!0;if(typeof Gt=="boolean")return!1;if(typeof Gt=="number")return Gt===0;if(typeof Gt=="string"||typeof Gt=="function"||Array.isArray(Gt))return Gt.length===0;if(Gt instanceof Error)return Gt.message==="";if(as(Gt)){for(var dt in Gt)if(ws.call(Gt,dt))return!1;return!0}return!(!Lp(Gt)&&(yt=Gt,ns(yt)!=="set")&&!Qs(Gt))&&Gt.size===0;var yt}function mr(Gt,dt,yt){if(dt===void 0)return!0;var st=!0;if(as(dt))Object.keys(dt).forEach(function(vt){var It=Gt.length===1?Gt[0][vt]:void 0;st=!!so(It,dt[vt],yt,vt)&&st});else if(to(dt))for(var ht=0;ht<dt.length;ht++)st=!!so(Gt[ht],dt[ht],yt,dt[ht].name)&&st;if(st)return st;throw new Error("Params validate failed.")}function so(Gt,dt,yt,st){if(dt===void 0)return!0;var ht=!0;if(dt.required&&dr(Gt)&&(pn.e("[".concat(yt,'] Missing required params: "').concat(st,'".')),ht=!1),!dr(Gt)){var vt=ns(Gt),It=dt.type.toLowerCase();vt!==It&&(vt==="asyncfunction"&&It==="function"||(pn.e("[".concat(yt,'] Invalid params: type check failed for "').concat(st,'".Expected ').concat(dt.type,".")),ht=!1))}return dt.validator&&!dt.validator(Gt)&&(pn.e("[".concat(yt,"] Invalid params: custom validator check failed for params.")),ht=!1),ht}var Mo,Ko={UNSEND:"unSend",SUCCESS:"success",FAIL:"fail"},Ds={NOT_START:"notStart",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},kr=function(Gt){if(!Gt)return!1;if(gu(Gt)||Au(Gt)||zs(Gt))return!0;var dt=hs("InvalidConversationID",Gt);return dt&&pn.w(dt),!1},Fr=function(Gt){Gt.desc!==""&&hs("API_REFER")!==""&&pn.w("[".concat(Gt.api,"] | ").concat(Gt.param," | ").concat(Gt.desc,", ").concat(hs("API_REFER")).concat(Gt.api))},_u=function(){return hs("StringRequiredLog")},fs=function(Gt){return hs("NonEmptyStringRequiredLog",Gt)},ss=function(){return hs("NumberRequiredLog")},nu=function(){return hs("UndefinedNotAllowedLog")},Vl=function(){return hs("FileRequiredLog")},Yr=function(){return hs("FunctionRequiredLog")},As=function(){return hs("ArrayRequiredLog")},op=function(){return hs("NonEmptyArrayLog")},kp=function(){return hs("CallbackMissingLog")},xm=function(){return hs("PositiveIntegerRequiredLog")},pp=function(Gt,dt){return hs("StringNotLongerThanLog",Gt,dt)},Qm=function(Gt,dt){return hs("NumberLessThanLog",Gt,dt)},Bu=function(Gt){return hs("KeyValueStringRequiredLog",Gt)},Ks=function(){return hs("PlainObjectRequiredLog")},wm=function(){return hs("NonEmptyContentRequiredLog")},Nu=function(){return hs("FileNotSelectedLog")},Np=function(){return hs("MessageInstanceRequiredLog")},e_=function(){return hs("NonAnonymousFunctionLog")},Pl=function(){return hs("MessageExtensionNotAvailableLog")},Jr={type:"String",required:!0},du={type:"Array",required:!0},Qo={type:"Object",required:!0},_l={type:"Boolean",required:!0},Wp={type:"number",required:!0},hs=null,uo={hookGetAPITips:function(Gt){hs=Gt},login:{userID:Jr,userSig:Jr},addToBlacklist:{userIDList:du},removeFromBlacklist:{userIDList:du},on:[{name:"eventName",type:"String",validator:function(Gt){return typeof Gt=="string"&&Gt.length!==0||(Fr({api:"on",param:"eventName",desc:fs("eventName")}),!1)}},{name:"handler",type:"Function",validator:function(Gt){return typeof Gt!="function"?(Fr({api:"on",param:"handler",desc:Yr()}),!1):(Gt.name===""&&Fr({api:"on",param:"handler",desc:e_()}),!0)}}],once:[{name:"eventName",type:"String",validator:function(Gt){return typeof Gt=="string"&&Gt.length!==0||(Fr({api:"once",param:"eventName",desc:fs("eventName")}),!1)}},{name:"handler",type:"Function",validator:function(Gt){return typeof Gt!="function"?(Fr({api:"once",param:"handler",desc:Yr()}),!1):(Gt.name===""&&Fr({api:"once",param:"handler",desc:e_()}),!0)}}],off:[{name:"eventName",type:"String",validator:function(Gt){return typeof Gt=="string"&&Gt.length!==0||(Fr({api:"off",param:"eventName",desc:fs("eventName")}),!1)}},{name:"handler",type:"Function",validator:function(Gt){return typeof Gt!="function"?(Fr({api:"off",param:"handler",desc:Yr()}),!1):(Gt.name===""&&Fr({api:"off",param:"handler",desc:e_()}),!0)}}],sendMessage:[rt({name:"message"},Qo)],setMessageExtensions:[rt(rt({name:"message"},Qo),{},{validator:function(Gt){return Gt.status===Ko.SUCCESS&&Gt.isSupportExtension===!0||(Fr({api:"setMessageExtensions",param:"message",desc:Pl()}),!1)}}),rt({name:"extensions"},du)],getMessageExtensions:[rt(rt({name:"message"},Qo),{},{validator:function(Gt){return Gt.status===Ko.SUCCESS&&Gt.isSupportExtension===!0||(Fr({api:"getMessageExtensions",param:"message",desc:Pl()}),!1)}})],deleteMessageExtensions:[rt(rt({name:"message"},Qo),{},{validator:function(Gt){return Gt.status===Ko.SUCCESS&&Gt.isSupportExtension===!0||(Fr({api:"deleteMessageExtensions",param:"message",desc:Pl()}),!1)}})],getMessageList:{conversationID:rt(rt({},Jr),{},{validator:function(Gt){return kr(Gt)}}),nextReqMessageID:{type:"String"},count:{type:"Number",validator:function(Gt){return!(!vr(Gt)&&!/^[1-9][0-9]*$/.test(Gt))||(Fr({api:"getMessageList",param:"count",desc:xm()}),!1)}}},getMessageListHopping:{conversationID:rt(rt({},Jr),{},{validator:function(Gt){return kr(Gt)}}),sequence:{type:"Number"},time:{type:"Number"},direction:{type:"Number",validator:function(Gt){return!(!vr(Gt)&&Gt!==0&&Gt!==1)||(Fr({api:"getMessageListHopping",param:"direction",desc:hs("0Or1RequiredLog")}),!1)}},count:{type:"Number",validator:function(Gt){return!(!vr(Gt)&&!/^[1-9][0-9]*$/.test(Gt))||(Fr({api:"getMessageListHopping",param:"count",desc:xm}),!1)}}},setMessageRead:{conversationID:rt(rt({},Jr),{},{validator:function(Gt){return kr(Gt)}})},setAllMessageRead:{scope:{type:"String",required:!1,validator:function(Gt){return!Gt||[Ut.READ_ALL_C2C_MSG,Ut.READ_ALL_GROUP_MSG,Ut.READ_ALL_MSG].indexOf(Gt)!==-1||(Fr({api:"setAllMessageRead",param:"scope",desc:"TIM.TYPES.READ_ALL_C2C_MSG or TIM.TYPES.READ_ALL_GROUP_MSG or TIM.TYPES.READ_ALL_MSG required"}),!1)}}},getConversationProfile:[rt(rt({name:"conversationID"},Jr),{},{validator:function(Gt){return kr(Gt)}})],clearHistoryMessage:[rt(rt({name:"conversationID"},Jr),{},{validator:function(Gt){return kr(Gt)}})],pinConversation:{conversationID:rt(rt({},Jr),{},{validator:function(Gt){return kr(Gt)}}),isPinned:rt({},_l)},setConversationCustomData:{conversationIDList:rt({},du),customData:{type:"String",validator:function(Gt){return Po(Gt)?!(Gt.length>256)||(Fr({api:"setConversationCustomData",param:"customData",desc:pp("customData",256)}),!1):(Fr({api:"setConversationCustomData",param:"customData",desc:_u()}),!1)}}},markConversation:{conversationIDList:rt({},du),markType:{type:"number",validator:function(Gt){return Zo(Gt)?Gt<=0?(Fr({api:"markConversation",param:"markType",desc:(dt="markType",yt=0,hs("NumberGreaterThanLog",dt,yt))}),!1):!(Gt>=Math.pow(2,64))||(Fr({api:"markConversation",param:"markType",desc:Qm("markType","Math.pow(2,64)")}),!1):(Fr({api:"markConversation",param:"markType",desc:ss()}),!1);var dt,yt}},enableMark:rt({},_l)},createConversationGroup:{conversationIDList:rt({},du),groupName:rt(rt({},Jr),{},{validator:function(Gt){return!!Gt&&(!(Gt.length>32)||(Fr({api:"createConversationGroup",param:"groupName",desc:pp("groupName",32)}),!1))}})},deleteConversationGroup:[rt({name:"groupName"},Jr)],renameConversationGroup:{oldName:rt({},Jr),newName:rt(rt({},Jr),{},{validator:function(Gt){return!!Gt&&(!(Gt.length>32)||(Fr({api:"renameConversationGroup",param:"newName",desc:pp("newName",32)}),!1))}})},addConversationsToGroup:{conversationIDList:rt({},du),groupName:rt({},Jr)},deleteConversationsFromGroup:{conversationIDList:rt({},du),groupName:rt({},Jr)},getGroupList:{groupProfileFilter:{type:"Array"}},getGroupProfile:{groupID:Jr,groupCustomFieldFilter:{type:"Array"},memberCustomFieldFilter:{type:"Array"}},getGroupProfileAdvance:{groupIDList:du},createGroup:{name:Jr},joinGroup:{groupID:Jr,type:{type:"String"},applyMessage:{type:"String"}},quitGroup:[rt({name:"groupID"},Jr)],handleApplication:{message:Qo,handleAction:Jr,handleMessage:{type:"String"}},changeGroupOwner:{groupID:Jr,newOwnerID:Jr},updateGroupProfile:{groupID:Jr,muteAllMembers:{type:"Boolean"}},dismissGroup:[rt({name:"groupID"},Jr)],searchGroupByID:[rt({name:"groupID"},Jr)],initGroupAttributes:{groupID:Jr,groupAttributes:rt(rt({},Qo),{},{validator:function(Gt){var dt=!0;return Object.keys(Gt).forEach(function(yt){if(!Po(Gt[yt]))return Fr({api:"initGroupAttributes",param:"groupAttributes",desc:Bu("value")}),dt=!1}),dt}})},setGroupAttributes:{groupID:Jr,groupAttributes:rt(rt({},Qo),{},{validator:function(Gt){var dt=!0;return Object.keys(Gt).forEach(function(yt){if(!Po(Gt[yt]))return Fr({api:"setGroupAttributes",param:"groupAttributes",desc:Bu("value")}),dt=!1}),dt}})},deleteGroupAttributes:{groupID:Jr,keyList:{type:"Array",validator:function(Gt){if(vr(Gt)||!to(Gt))return Fr({api:"deleteGroupAttributes",param:"keyList",desc:As()}),!1;if(!dr(Gt)){var dt=!0;return Gt.forEach(function(yt){if(!Po(yt))return Fr({api:"deleteGroupAttributes",param:"keyList",desc:hs("StringArrayRequiredLog")}),dt=!1}),dt}return!0}}},getGroupAttributes:{groupID:Jr,keyList:{type:"Array",validator:function(Gt){if(vr(Gt)||!to(Gt))return Fr({api:"getGroupAttributes",param:"keyList",desc:As()}),!1;if(!dr(Gt)){var dt=!0;return Gt.forEach(function(yt){if(!Po(yt))return Fr({api:"getGroupAttributes",param:"keyList",desc:Bu("key")}),dt=!1}),dt}return!0}}},setGroupCounters:{groupID:Jr,counters:Qo},increaseGroupCounter:{groupID:Jr,key:Jr,value:Wp},decreaseGroupCounter:{groupID:Jr,key:Jr,value:Wp},getGroupCounters:{groupID:Jr},getGroupMemberList:{groupID:Jr,count:{type:"Number"}},getGroupMemberProfile:{groupID:Jr,userIDList:du,memberCustomFieldFilter:{type:"Array"}},addGroupMember:{groupID:Jr,userIDList:du},setGroupMemberRole:{groupID:Jr,userID:Jr,role:Jr},setGroupMemberMuteTime:{groupID:Jr,userID:Jr,muteTime:{type:"Number",validator:function(Gt){return Gt>=0}}},setGroupMemberNameCard:{groupID:Jr,userID:{type:"String"},nameCard:{type:"String",validator:function(Gt){return Po(Gt)?(Gt.length,!0):(Fr({api:"setGroupMemberNameCard",param:"nameCard",desc:_u()}),!1)}}},setGroupMemberCustomField:{groupID:Jr,userID:{type:"String"},memberCustomField:du},deleteGroupMember:{groupID:Jr},markGroupMemberList:{groupID:Jr,markType:{type:"number",validator:function(Gt){return Zo(Gt)?!(Gt<1e3)||(Fr({api:"markGroupMemberList",param:"markType",desc:(dt="markType",yt=1e3,hs("NumberGreaterOrEqualLog",dt,yt))}),!1):(Fr({api:"markGroupMemberList",param:"markType",desc:ss()}),!1);var dt,yt}},userIDList:rt({},du),enableMark:rt({},_l)},createTextMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){return as(Gt)?Po(Gt.text)?Gt.text.length!==0||(Fr({api:"createTextMessage",param:"payload.text",desc:wm()}),!1):(Fr({api:"createTextMessage",param:"payload.text",desc:_u()}),!1):(Fr({api:"createTextMessage",param:"payload",desc:Ks()}),!1)}})},createTextAtMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){return as(Gt)?Po(Gt.text)?Gt.text.length===0?(Fr({api:"createTextAtMessage",param:"payload.text",desc:wm()}),!1):!(Gt.atUserList&&!to(Gt.atUserList))||(Fr({api:"createTextAtMessage",param:"payload.atUserList",desc:As()}),!1):(Fr({api:"createTextAtMessage",param:"payload.text",desc:_u()}),!1):(Fr({api:"createTextAtMessage",param:"payload",desc:Ks()}),!1)}})},createCustomMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){return as(Gt)?Gt.data&&!Po(Gt.data)?(Fr({api:"createCustomMessage",param:"payload.data",desc:_u()}),!1):Gt.description&&!Po(Gt.description)?(Fr({api:"createCustomMessage",param:"payload.description",desc:_u()}),!1):!(Gt.extension&&!Po(Gt.extension))||(Fr({api:"createCustomMessage",param:"payload.extension",desc:_u()}),!1):(Fr({api:"createCustomMessage",param:"payload",desc:Ks()}),!1)}})},createImageMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){if(!as(Gt))return Fr({api:"createImageMessage",param:"payload",desc:Ks()}),!1;if(vr(Gt.file))return Fr({api:"createImageMessage",param:"payload.file",desc:nu()}),!1;if(gr){if(!(Gt.file instanceof HTMLInputElement||Qs(Gt.file)))return as(Gt.file)&&typeof uni<"u"?Gt.file.tempFilePaths.length!==0&&Gt.file.tempFiles.length!==0||(Fr({api:"createImageMessage",param:"payload.file",desc:Nu()}),!1):(Fr({api:"createImageMessage",param:"payload.file",desc:Vl()}),!1);if(Gt.file instanceof HTMLInputElement&&Gt.file.files.length===0)return Fr({api:"createImageMessage",param:"payload.file",desc:Nu()}),!1}return!0},onProgress:{type:"Function",required:!1,validator:function(Gt){return vr(Gt)&&Fr({api:"createImageMessage",param:"onProgress",desc:kp()}),!0}}})},createAudioMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){return!!as(Gt)||(Fr({api:"createAudioMessage",param:"payload",desc:Ks()}),!1)}}),onProgress:{type:"Function",required:!1,validator:function(Gt){return vr(Gt)&&Fr({api:"createAudioMessage",param:"onProgress",desc:kp()}),!0}}},createVideoMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){if(!as(Gt))return Fr({api:"createVideoMessage",param:"payload",desc:Ks()}),!1;if(vr(Gt.file))return Fr({api:"createVideoMessage",param:"payload.file",desc:nu()}),!1;if(gr){if(!(Gt.file instanceof HTMLInputElement||Qs(Gt.file)))return as(Gt.file)&&typeof uni<"u"?!!Qs(Gt.file.tempFile)||(Fr({api:"createVideoMessage",param:"payload.file",desc:Nu()}),!1):(Fr({api:"createVideoMessage",param:"payload.file",desc:Vl()}),!1);if(Gt.file instanceof HTMLInputElement&&Gt.file.files.length===0)return Fr({api:"createVideoMessage",param:"payload.file",desc:Nu()}),!1}return!0}}),onProgress:{type:"Function",required:!1,validator:function(Gt){return vr(Gt)&&Fr({api:"createVideoMessage",param:"onProgress",desc:kp()}),!0}}},createFaceMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){return as(Gt)?Zo(Gt.index)?!!Po(Gt.data)||(Fr({api:"createFaceMessage",param:"payload.data",desc:_u()}),!1):(Fr({api:"createFaceMessage",param:"payload.index",desc:ss()}),!1):(Fr({api:"createFaceMessage",param:"payload",desc:Ks()}),!1)}})},createFileMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){if(!as(Gt))return Fr({api:"createFileMessage",param:"payload",desc:Ks()}),!1;if(vr(Gt.file))return Fr({api:"createFileMessage",param:"payload.file",desc:nu()}),!1;if(gr){if(!(Gt.file instanceof HTMLInputElement||Qs(Gt.file)))return as(Gt.file)&&typeof uni<"u"?Gt.file.tempFilePaths.length!==0&&Gt.file.tempFiles.length!==0||(Fr({api:"createFileMessage",param:"payload.file",desc:Nu()}),!1):(Fr({api:"createFileMessage",param:"payload.file",desc:Vl()}),!1);if(Gt.file instanceof HTMLInputElement&&Gt.file.files.length===0)return Fr({api:"createFileMessage",param:"payload.file",desc:Nu()}),!1}return!0}}),onProgress:{type:"Function",required:!1,validator:function(Gt){return vr(Gt)&&Fr({api:"createFileMessage",param:"onProgress",desc:kp()}),!0}}},createLocationMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){return as(Gt)?Po(Gt.description)?Zo(Gt.longitude)?!!Zo(Gt.latitude)||(Fr({api:"createLocationMessage",param:"payload.latitude",desc:ss()}),!1):(Fr({api:"createLocationMessage",param:"payload.longitude",desc:ss()}),!1):(Fr({api:"createLocationMessage",param:"payload.description",desc:_u()}),!1):(Fr({api:"createLocationMessage",param:"payload",desc:Ks()}),!1)}})},createMergerMessage:{to:Jr,conversationType:Jr,payload:rt(rt({},Qo),{},{validator:function(Gt){if(dr(Gt.messageList))return Fr({api:"createMergerMessage",param:"payload.messageList",desc:op()}),!1;if(dr(Gt.compatibleText))return Fr({api:"createMergerMessage",param:"payload.compatibleText",desc:fs("compatibleText")}),!1;var dt=!1;return Gt.messageList.forEach(function(yt){yt.status===Ko.FAIL&&(dt=!0)}),!dt||(Fr({api:"createMergerMessage",param:"payload.messageList",desc:hs("MergeFailedMessageLog")}),!1)}})},revokeMessage:[rt(rt({name:"message"},Qo),{},{validator:function(Gt){return dr(Gt)?(Fr({api:"revokeMessage",param:"message",desc:Np()}),!1):Gt.conversationType===Ut.CONV_SYSTEM?(Fr({api:"revokeMessage",param:"message",desc:hs("MessageCanBeRevokedDesc")}),!1):Gt.isRevoked!==!0||(Fr({api:"revokeMessage",param:"message",desc:hs("MessageRevokedLog")}),!1)}})],deleteMessage:[rt(rt({name:"messageList"},du),{},{validator:function(Gt){return!dr(Gt)||(Fr({api:"deleteMessage",param:"messageList",desc:op()}),!1)}})],translateText:{sourceTextList:du,sourceLanguage:Jr,targetLanguage:Jr},modifyMessage:[rt(rt({name:"message"},Qo),{},{validator:function(Gt){return dr(Gt)?(Fr({api:"modifyMessage",param:"message",desc:Np()}),!1):Gt.conversationType===Ut.CONV_SYSTEM?(Fr({api:"modifyMessage",param:"message",desc:hs("MessageCanBeModifiedLog")}),!1):Gt._onlineOnlyFlag!==!0||(Fr({api:"modifyMessage",param:"message",desc:hs("OnlineMessageNotSupportLog")}),!1)}})],getUserProfile:{userIDList:{type:"Array",validator:function(Gt){return to(Gt)?(Gt.length===0&&Fr({api:"getUserProfile",param:"userIDList",desc:op()}),!0):(Fr({api:"getUserProfile",param:"userIDList",desc:As()}),!1)}}},updateMyProfile:{profileCustomField:{type:"Array",validator:function(Gt){return!!vr(Gt)||!!to(Gt)||(Fr({api:"updateMyProfile",param:"profileCustomField",desc:As()}),!1)}}},setSelfStatus:{customStatus:{type:"String",validator:function(Gt){return!!Po(Gt)||(Fr({api:"setSelfStatus",param:"customStatus",desc:_u()}),!1)}}},getUserStatus:{userIDList:{type:"Array",validator:function(Gt){return to(Gt)?Gt.length!==0||(Fr({api:"getUserStatus",param:"userIDList",desc:op()}),!1):(Fr({api:"getUserStatus",param:"userIDList",desc:As()}),!1)}}},subscribeUserStatus:{userIDList:{type:"Array",validator:function(Gt){return to(Gt)?Gt.length!==0||(Fr({api:"subscribeUserStatus",param:"userIDList",desc:op()}),!1):(Fr({api:"subscribeUserStatus",param:"userIDList",desc:As()}),!1)}}},unsubscribeUserStatus:{userIDList:{type:"Array",validator:function(Gt){return!Gt||!!to(Gt)||(Fr({api:"subscribeUserStatus",param:"userIDList",desc:As()}),!1)}}},addFriend:{to:Jr,source:{type:"String",required:!0,validator:function(Gt){return!!Gt&&(Gt.startsWith("AddSource_Type_")?!(Gt.replace("AddSource_Type_","").length>8)||(Fr({api:"addFriend",param:"source",desc:pp("keyword",8)}),!1):(Fr({api:"addFriend",param:"source",desc:hs("SourcePrefixLog")}),!1))}},remark:{type:"String",required:!1,validator:function(Gt){return!(Po(Gt)&&Gt.length>96)||(Fr({api:"addFriend",param:"remark",desc:pp("remark",96)}),!1)}}},deleteFriend:{userIDList:du},checkFriend:{userIDList:du},getFriendProfile:{userIDList:du},updateFriend:{userID:Jr,remark:{type:"String",required:!1,validator:function(Gt){return!(Po(Gt)&&Gt.length>96)||(Fr({api:"updateFriend",param:"remark",desc:pp("remark",96)}),!1)}},friendCustomField:{type:"Array",required:!1,validator:function(Gt){if(Gt){if(!to(Gt))return Fr({api:"updateFriend",param:"friendCustomField",desc:As()}),!1;var dt=!0;return Gt.forEach(function(yt){return Po(yt.key)&&yt.key.indexOf("Tag_SNS_Custom")!==-1?Po(yt.value)?yt.key.replace("Tag_SNS_Custom_","").length>8?(Fr({api:"updateFriend",param:"friendCustomField",desc:pp("keyword",8)}),dt=!1):void 0:(Fr({api:"updateFriend",param:"friendCustomField",desc:Bu("value")}),dt=!1):(Fr({api:"updateFriend",param:"friendCustomField",desc:hs("FriendCustomFieldPrefixLog")}),dt=!1)}),dt}return!0}}},acceptFriendApplication:{userID:Jr},refuseFriendApplication:{userID:Jr},deleteFriendApplication:{userID:Jr},createFriendGroup:{name:Jr},deleteFriendGroup:{name:Jr},addToFriendGroup:{name:Jr,userIDList:du},removeFromFriendGroup:{name:Jr,userIDList:du},renameFriendGroup:{oldName:Jr,newName:Jr},sendMessageReadReceipt:[{name:"messageList",type:"Array",validator:function(Gt){return to(Gt)?Gt.length!==0||(Fr({api:"sendMessageReadReceipt",param:"messageList",desc:op()}),!1):(Fr({api:"sendMessageReadReceipt",param:"messageList",desc:As()}),!1)}}],getMessageReadReceiptList:[{name:"messageList",type:"Array",validator:function(Gt){return to(Gt)?Gt.length!==0||(Fr({api:"getMessageReadReceiptList",param:"messageList",desc:op()}),!1):(Fr({api:"getMessageReadReceiptList",param:"messageList",desc:As()}),!1)}}],createTopicInCommunity:{groupID:Jr,topicName:Jr},deleteTopicFromCommunity:{groupID:Jr,topicIDList:{type:"Array",validator:function(Gt){return!Gt||!!to(Gt)||(Fr({api:"deleteTopicFromCommunity",param:"topicIDList",desc:As()}),!1)}}},updateTopicProfile:{groupID:Jr,topicID:Jr},getTopicList:{groupID:Jr,topicIDList:{type:"Array",validator:function(Gt){return!Gt||!!to(Gt)||(Fr({api:"getTopicList",param:"topicIDList",desc:As()}),!1)}}}},ru={login:1,logout:1,on:1,once:1,off:1,setLogLevel:1,registerPlugin:1,destroy:1,createTextMessage:1,createTextAtMessage:1,createImageMessage:1,createAudioMessage:1,createVideoMessage:1,createCustomMessage:1,createFaceMessage:1,createFileMessage:1,createLocationMessage:1,createMergerMessage:1,downloadMergerMessage:1,createForwardMessage:1,sendMessage:1,resendMessage:1,revokeMessage:1,deleteMessage:1,translateText:1,modifyMessage:1,sendMessageReadReceipt:1,getGroupMessageReadMemberList:1,getMessageReadReceiptList:1,setMessageExtensions:1,getMessageExtensions:1,deleteMessageExtensions:1,getMessageList:1,findMessage:1,getMessageListHopping:1,setMessageRead:1,setAllMessageRead:1,getConversationList:1,getConversationProfile:1,deleteConversation:1,pinConversation:1,getTotalUnreadMessageCount:1,setConversationCustomData:1,markConversation:1,createConversationGroup:1,getConversationGroupList:1,deleteConversationGroup:1,renameConversationGroup:1,addConversationsToGroup:1,deleteConversationsFromGroup:1,clearHistoryMessage:1,getGroupList:1,getGroupProfile:1,createGroup:1,joinGroup:1,updateGroupProfile:1,quitGroup:1,dismissGroup:1,changeGroupOwner:1,searchGroupByID:1,setMessageRemindType:1,getGroupApplicationList:1,handleGroupApplication:1,initGroupAttributes:1,setGroupAttributes:1,deleteGroupAttributes:1,getGroupAttributes:1,setGroupCounters:1,increaseGroupCounter:1,decreaseGroupCounter:1,getGroupCounters:1,getJoinedCommunityList:1,createTopicInCommunity:1,deleteTopicFromCommunity:1,updateTopicProfile:1,getTopicList:1,getGroupMemberProfile:1,getGroupMemberList:1,addGroupMember:1,deleteGroupMember:1,setGroupMemberNameCard:1,setGroupMemberMuteTime:1,setGroupMemberRole:1,setGroupMemberCustomField:1,getGroupOnlineMemberCount:1,markGroupMemberList:1,getMyProfile:1,getUserProfile:1,updateMyProfile:1,setSelfStatus:1,getUserStatus:1,subscribeUserStatus:1,unsubscribeUserStatus:1,getBlacklist:1,addToBlacklist:1,removeFromBlacklist:1,getFriendList:1,addFriend:1,deleteFriend:1,checkFriend:1,updateFriend:1,getFriendProfile:1,getFriendApplicationList:1,refuseFriendApplication:1,deleteFriendApplication:1,acceptFriendApplication:1,setFriendApplicationRead:1,getFriendGroupList:1,createFriendGroup:1,renameFriendGroup:1,deleteFriendGroup:1,addToFriendGroup:1,removeFromFriendGroup:1,callExperimentalAPI:1},Hs=1,Xs=2,Yp=3,Uo=4,Ws=6,So=7,cs=8,ba=9,ys=10,qr=11,To=12,vo=13,Fs=14,Rs=15,gs=16,no=17,jo=18,Yu=19,au=20,Su=21,fp=22,fm=23,Hl=24,t_=25,$s=26,yl=27,Pu=28,zl=29,Jp=30,Dm=31,pu=32,xl=37,Os=function(){function Gt(dt){it(this,Gt),this._m=dt,this._n=""}return lt(Gt,[{key:"isLoggedIn",value:function(){return this._m.getModule(To).isLoggedIn()}},{key:"isOversea",value:function(){return this._m.getModule(To).isOversea()}},{key:"isPrivateNetWork",value:function(){return this._m.getModule(To).isPrivateNetWork()}},{key:"getFileDownloadProxy",value:function(){return this._m.getModule(To).getFileDownloadProxy()}},{key:"getMyUserID",value:function(){return this._m.getModule(To).getUserID()}},{key:"getMyTinyID",value:function(){return this._m.getModule(To).getTinyID()}},{key:"getSDKAppID",value:function(){return this._m.getModule(To).getSDKAppID()}},{key:"isIntl",value:function(){return this._m.getModule(To).isIntl()}},{key:"isDevMode",value:function(){return this._m.getModule(To).isDevMode()}},{key:"getModule",value:function(dt){return this._m.getModule(dt)}},{key:"getPlatform",value:function(){return Br}},{key:"getNetworkType",value:function(){return this._m.getModule(Rs).getNetworkType()}},{key:"probeNetwork",value:function(dt){return this._m.getModule(Rs).probe(dt)}},{key:"getCloudConfig",value:function(dt){return this._m.getModule(fm).getCloudConfig(dt)}},{key:"emitOuterEvent",value:function(dt,yt){this._m.getOuterEmitterInstance().emit(dt,yt)}},{key:"emitInnerEvent",value:function(dt,yt){this._m.getInnerEmitterInstance().emit(dt,yt)}},{key:"getInnerEmitterInstance",value:function(){return this._m.getInnerEmitterInstance()}},{key:"generateTjgID",value:function(dt){return this._m.getModule(To).getTinyID()+"-"+dt.random}},{key:"filterModifiedMessage",value:function(dt){if(!dr(dt)){var yt=dt.filter(function(st){return st.isModified===!0});yt.length>0&&this.emitOuterEvent(yn.MESSAGE_MODIFIED,yt)}}},{key:"filterUnmodifiedMessage",value:function(dt){return dr(dt)?[]:dt.filter(function(yt){return yt.isModified===!1})}},{key:"request",value:function(dt){return this._m.getModule(au).request(dt)}},{key:"canIUse",value:function(dt){return this._m.getModule(yl).canIUse(dt)}},{key:"getErrorMessage",value:function(dt,yt,st){return this._m.getErrorMessage(dt,yt,st)}},{key:"outputWarning",value:function(dt,yt,st){var ht=this.getErrorMessage(dt,yt,st);ht&&pn.w(ht)}}]),Gt}(),Ju="wslogin",n_="wslogout",v_="wshello",Xp="KickOther",Uu="getmsg",Ys="authkey",Ul="sendmsg",Rm="send_group_msg",Om="portrait_get_all",Y_="portrait_set",y_="black_list_get",Kl="black_list_add",_r="black_list_delete",Nr="msgwithdraw",Rr="msgreaded",Co="set_c2c_peer_mute_notifications",_a="get_c2c_peer_mute_notifications",_s="getroammsg",bu="get_peer_read_time",bs="delete_c2c_msg_ramble",hm="modify_c2c_msg",M_="set_key_values",wl="get_key_values",hp="page_get",J_="get",Tp="batch_delete",gm="clear_msg",gp="top",Ls="deletemsg",E_="set_conv_custom_data",r_="mark_contact",mm="create_contact_group",Lm="del_contact_group",Zp="update_contact_group",o_="add_conv_to_group",_m="del_conv_from_group",ip="get_contact_group",mp="get_joined_group_list",Nm="get_group_self_member_info",ap="create_group",Pm="destroy_group",i_="modify_group_base_info",vm="apply_join_group",Xt="apply_join_group_noauth",dn="quit_group",In="get_group_public_info",Yt="change_group_owner",gn="handle_apply_join_group",An="handle_invite_join_permission_group",Dn="handle_invite_join_group",Hn="group_msg_recall",zn="msg_read_report",Cr="read_all_unread_msg",Lr="group_msg_get",ho="get_group_msg_receipt",Eo="group_msg_receipt",xo="c2c_msg_read_receipt",ro="get_group_msg_receipt_detail",Qr="get_pendency",Lo="deletemsg",Jo="get_msg",vu="get_msg_noauth",fu="get_online_member_num",Is="delete_group_ramble_msg_by_seq",Ml="modify_group_msg",sp="set_group_attr",Gl="modify_group_attr",cp="delete_group_attr",Pp="clear_group_attr",a_="get_group_attr",Qp="group_set_key_values",X_="group_get_key_values",Tv="get_group_notify",A_="update_group_counter",xv="get_group_counter",wv="get_group_member_info",s_="get_members",Um="get_specified_group_member_info",Z_="add_group_member",Gn="delete_group_member",ym="ban_group_member",c_="modify_group_member_info",Wl="modify_user_info",ms="cos",Q_="pre_sig",Dv="video_cover",b_="tim_web_report_v2",Up="alive",_y="msg_push",vy="multi_msg_push_ws",C_="ws_msg_push_ack",Rv="stat_forceoffline",Ov="save_relay_json_msg",xp="get_relay_json_msg",Lv="fetch_config",yy="push_configv2",Nv="fetch_imsdk_purchase_bitsv2",My="push_imsdk_purchase_bitsv2",Ey="notify2",wp="create_topic",Pv="destroy_topic",Uv="modify_topic",Gv="get_topic",$v="ws_set_custom_status",Fv="ws_get_user_status",_f="ws_status_subscribe",S_="ws_status_unsubscribe",ev="ws_stat_background",_p="ws_stat_foreground",Ay="ws_stat_settoken",tv="get_local_words",by="ws_batch_trans_text",yr={NO_SDKAPPID:2e3,NO_ACCOUNT_TYPE:2001,NO_IDENTIFIER:2002,NO_USERSIG:2003,NO_TINYID:2022,NO_A2KEY:2023,USER_NOT_LOGGED_IN:2024,REPEAT_LOGIN:2025,COS_UNDETECTED:2040,COS_GET_SIG_FAIL:2041,MESSAGE_SEND_FAIL:2100,MESSAGE_SEND_FAIL_NOT_IN_AVCHATROOM:2101,MESSAGE_SEND_NEED_MESSAGE_INSTANCE:2105,MESSAGE_SEND_INVALID_CONVERSATION_TYPE:2106,MESSAGE_FILE_IS_EMPTY:2108,MESSAGE_ONPROGRESS_FUNCTION_ERROR:2109,MESSAGE_REVOKE_FAIL:2110,MESSAGE_DELETE_FAIL:2111,MESSAGE_UNREAD_ALL_FAIL:2112,READ_RECEIPT_MESSAGE_LIST_EMPTY:2114,MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL:2115,CANNOT_DELETE_GROUP_SYSTEM_NOTICE:2116,TRANSLATE_TEXT_FAIL:2117,MESSAGE_IMAGE_SELECT_FILE_FIRST:2251,MESSAGE_IMAGE_TYPES_LIMIT:2252,MESSAGE_IMAGE_SIZE_LIMIT:2253,MESSAGE_AUDIO_UPLOAD_FAIL:2300,MESSAGE_AUDIO_SIZE_LIMIT:2301,MESSAGE_VIDEO_UPLOAD_FAIL:2350,MESSAGE_VIDEO_SIZE_LIMIT:2351,MESSAGE_VIDEO_TYPES_LIMIT:2352,MESSAGE_FILE_UPLOAD_FAIL:2400,MESSAGE_FILE_SELECT_FILE_FIRST:2401,MESSAGE_FILE_SIZE_LIMIT:2402,MESSAGE_FILE_URL_IS_EMPTY:2403,MESSAGE_MERGER_TYPE_INVALID:2450,MESSAGE_MERGER_KEY_INVALID:2451,MESSAGE_MERGER_DOWNLOAD_FAIL:2452,MESSAGE_FORWARD_TYPE_INVALID:2453,MESSAGE_MODIFY_CONFLICT:2480,MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM:2481,CONVERSATION_NOT_FOUND:2500,USER_OR_GROUP_NOT_FOUND:2501,CONVERSATION_UN_RECORDED_TYPE:2502,INVALID_CONVERSATION_ID:2503,ILLEGAL_GROUP_TYPE:2600,CANNOT_JOIN_WORK:2601,ILLEGAL_GROUP_ID:2602,CANNOT_FIND_GROUP:2603,CANNOT_CHANGE_OWNER_IN_AVCHATROOM:2620,CANNOT_CHANGE_OWNER_TO_SELF:2621,CANNOT_DISMISS_WORK:2622,MEMBER_NOT_IN_GROUP:2623,JOIN_GROUP_FAIL:2660,CANNOT_ADD_MEMBER_IN_AVCHATROOM:2661,CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN:2662,NOT_OWNER:2681,CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM:2682,INVALID_MEMBER_ROLE:2683,CANNOT_SET_SELF_MEMBER_ROLE:2684,CANNOT_MUTE_SELF:2685,BAN_DURATION_INVALID:2686,NOT_MY_FRIEND:2700,ALREADY_MY_FRIEND:2701,FRIEND_GROUP_EXISTED:2710,FRIEND_GROUP_NOT_EXIST:2711,FRIEND_APPLICATION_NOT_EXIST:2716,UPDATE_PROFILE_INVALID_PARAM:2721,UPDATE_PROFILE_NO_KEY:2722,CANNOT_ADD_SELF_TO_BLACKLIST:2742,NETWORK_ERROR:2800,NETWORK_TIMEOUT:2801,NO_NETWORK:2805,UNCAUGHT_ERROR:2903,INVALID_OPERATION:2905,INVALID_TRTC_CMD:2995,OVER_FREQUENCY_LIMIT:2996,CANNOT_FIND_PROTOCOL:2997,CANNOT_FIND_MODULE:2998,SDK_IS_NOT_READY:2999,LOGGING_IN:3e3,LOGIN_FAILED:3001,KICKED_OUT_MULT_DEVICE:3002,KICKED_OUT_MULT_ACCOUNT:3003,KICKED_OUT_USERSIG_EXPIRED:3004,LOGGED_OUT:3005,KICKED_OUT_REST_API:3006,ILLEGAL_TOPIC_ID:3021,CANNOT_USE_COMMERCIAL_ABILITY:3122,PROFANITY_FOUND:3123,MESSAGE_A2KEY_EXPIRED:20002,ACCOUNT_A2KEY_EXPIRED:70001,HELLO_ANSWER_KICKED_OUT:1002,OPEN_SERVICE_OVERLOAD_ERROR:60022},nv="networkRTT",I_="messageE2EDelay",Gm="sendMessageC2C",$m="sendMessageGroup",u_="sendMessageGroupAV",_h="sendMessageRichMedia",Gu="cosUpload",Gp="messageReceivedGroup",l_="messageReceivedGroupAVPush",Fm="messageReceivedGroupAVPull",Cy=(pt(Mo={},nv,2),pt(Mo,I_,3),pt(Mo,Gm,4),pt(Mo,$m,5),pt(Mo,u_,6),pt(Mo,_h,7),pt(Mo,Gp,8),pt(Mo,l_,9),pt(Mo,Fm,10),pt(Mo,Gu,11),Mo),$p={info:4,warning:5,error:6},k_={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5,unknown:6,none:7,online:8},Mm={login:4},xr=function(){function Gt(dt){it(this,Gt),this._n="SSOLogData",this.eventType=Mm[dt]||0,this.timestamp=0,this.networkType=8,this.code=0,this.message="",this.moreMessage="",this.extension=dt,this.costTime=0,this.duplicate=!1,this.level=4,this.uiPlatform=void 0,this._sentFlag=!1,this._startts=qs()}return lt(Gt,[{key:"updateTimeStamp",value:function(){this.timestamp=qs()}},{key:"start",value:function(dt){return this._startts=dt,this}},{key:"end",value:function(){var dt=this,yt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this._sentFlag){var st=qs();this.costTime===0&&(this.costTime=st-this._startts),this.setMoreMessage("startts:".concat(this._startts," endts:").concat(st)),yt?(this._sentFlag=!0,this._eventStatModule&&this._eventStatModule.pushIn(this)):setTimeout(function(){dt._sentFlag=!0,dt._eventStatModule&&dt._eventStatModule.pushIn(dt)},0)}}},{key:"setError",value:function(dt,yt,st){if(!(dt instanceof Error))return pn.w("".concat(this._n,".setError value not instanceof Error, please check!")),this;if(this._sentFlag)return this;if(this.setNetworkType(st),yt)dt.code&&this.setCode(dt.code),dt.message&&this.setMoreMessage(dt.message);else{var ht=yr.NO_NETWORK;this.setCode(ht)}return this.setLevel("error"),this}},{key:"setCode",value:function(dt){return vr(dt)||this._sentFlag||(dt==="ECONNABORTED"&&(this.code=103),Zo(dt)?this.code=dt:pn.w("".concat(this._n,".setCode value not a number, please check!"),dt,ot(dt))),this}},{key:"setMessage",value:function(dt){return vr(dt)||this._sentFlag||(Zo(dt)&&(this.message=dt.toString()),Po(dt)&&(this.message=dt)),this}},{key:"setCostTime",value:function(dt){return this.costTime=dt,this}},{key:"setLevel",value:function(dt){return vr(dt)||this._sentFlag||(this.level=$p[dt]),this}},{key:"setMoreMessage",value:function(dt){return dr(this.moreMessage)?this.moreMessage="".concat(dt):this.moreMessage+=" ".concat(dt),this}},{key:"setNetworkType",value:function(dt){if(vr(dt))pn.w("".concat(this._n,".setNetworkType value is undefined, please check!"));else{var yt=k_[dt.toLowerCase()];vr(yt)||(this.networkType=yt)}return this}},{key:"getStartTs",value:function(){return this._startts}},{key:"setUIPlatform",value:function(dt){this.uiPlatform=dt}}],[{key:"bindEventStatModule",value:function(dt){Gt.prototype._eventStatModule=dt}}]),Gt}(),rv=function(){function Gt(dt){it(this,Gt),this.type=Ut.MSG_TEXT,this.content={text:dt.text||""}}return lt(Gt,[{key:"setText",value:function(dt){this.content.text=dt}},{key:"sendable",value:function(){return this.content.text.length!==0}}]),Gt}(),T_=function(){function Gt(dt,yt){it(this,Gt),this._imageMemoryURL="",this._fileDownloadProxy=yt,cr?this.createImageDataASURLInWXMiniApp(dt.file):this.createImageDataASURLInWeb(dt.file),this._initImageInfoModel(),this.type=Ut.MSG_IMAGE,this._percent=0,this.content={imageFormat:dt.imageFormat||sn.UNKNOWN,uuid:dt.uuid,imageInfoArray:[]},this.initImageInfoArray(dt.imageInfoArray),this._autoFixUrl()}return lt(Gt,[{key:"_initImageInfoModel",value:function(){var dt=this;this._ImageInfoModel=function(yt){this.instanceID=_c(9999999),this.sizeType=yt.type||0,this.type=0,this.size=yt.size||0,this.width=yt.width||0,this.height=yt.height||0,this.imageUrl=yt.url||"",this.url=Es(yt.url||dt._imageMemoryURL,dt._fileDownloadProxy)},this._ImageInfoModel.prototype={setSizeType:function(yt){this.sizeType=yt},setType:function(yt){this.type=yt},setImageUrl:function(yt){yt&&(this.imageUrl=yt)},getImageUrl:function(){return this.imageUrl}}}},{key:"initImageInfoArray",value:function(dt){for(var yt=0,st=null,ht=null;yt<=2;)ht=vr(dt)||vr(dt[yt])?{type:0,size:0,width:0,height:0,url:""}:dt[yt],(st=new this._ImageInfoModel(ht)).setSizeType(yt+1),st.setType(yt),this.addImageInfo(st),yt++;this.updateAccessSideImageInfoArray()}},{key:"updateImageInfoArray",value:function(dt){for(var yt,st=this.content.imageInfoArray.length,ht=0;ht<st;ht++)yt=this.content.imageInfoArray[ht],dt[ht].size&&(yt.size=dt[ht].size),dt[ht].url&&yt.setImageUrl(dt[ht].url),dt[ht].width&&(yt.width=dt[ht].width),dt[ht].height&&(yt.height=dt[ht].height)}},{key:"_autoFixUrl",value:function(){for(var dt=this.content.imageInfoArray.length,yt="",st="",ht=["http","https"],vt=null,It=0;It<dt;It++)this.content.imageInfoArray[It].url&&(vt=this.content.imageInfoArray[It]).imageUrl!==""&&(st=vt.imageUrl.slice(0,vt.imageUrl.indexOf("://")+1),yt=vt.imageUrl.slice(vt.imageUrl.indexOf("://")+1),ht.indexOf(st)<0&&(st="https:"),this.content.imageInfoArray[It].setImageUrl([st,yt].join("")))}},{key:"updatePercent",value:function(dt){this._percent=dt,this._percent>1&&(this._percent=1)}},{key:"updateImageFormat",value:function(dt){this.content.imageFormat=sn[dt.toUpperCase()]||sn.UNKNOWN}},{key:"createImageDataASURLInWeb",value:function(dt){dt!==void 0&&dt.files.length>0&&(this._imageMemoryURL=window.URL.createObjectURL(dt.files[0]))}},{key:"createImageDataASURLInWXMiniApp",value:function(dt){dt&&dt.url&&(this._imageMemoryURL=dt.url)}},{key:"replaceImageInfo",value:function(dt,yt){this.content.imageInfoArray[yt]instanceof this._ImageInfoModel||(this.content.imageInfoArray[yt]=dt)}},{key:"addImageInfo",value:function(dt){this.content.imageInfoArray.length>=3||this.content.imageInfoArray.push(dt)}},{key:"updateAccessSideImageInfoArray",value:function(){var dt=this.content.imageInfoArray,yt=dt[0],st=yt.width,ht=st===void 0?0:st,vt=yt.height,It=vt===void 0?0:vt;ht!==0&&It!==0&&(zp(dt),Object.assign(dt[2],Sp({originWidth:ht,originHeight:It,min:720})))}},{key:"sendable",value:function(){return this.content.imageInfoArray.length!==0&&this.content.imageInfoArray[0].imageUrl!==""&&this.content.imageInfoArray[0].size!==0}}]),Gt}(),x_=function(){function Gt(dt){it(this,Gt),this.type=Ut.MSG_FACE,this.content=dt||null}return lt(Gt,[{key:"sendable",value:function(){return this.content!==null}}]),Gt}(),Em=function(){function Gt(dt,yt){it(this,Gt),this.type=Ut.MSG_AUDIO,this._percent=0,this.content={downloadFlag:2,second:dt.second,size:dt.size,url:Es(dt.url,yt),remoteAudioUrl:dt.url||"",uuid:dt.uuid}}return lt(Gt,[{key:"updatePercent",value:function(dt){this._percent=dt,this._percent>1&&(this._percent=1)}},{key:"updateAudioUrl",value:function(dt){this.content.remoteAudioUrl=dt}},{key:"sendable",value:function(){return this.content.remoteAudioUrl!==""}}]),Gt}(),pr={from:!0,groupID:!0,groupName:!0,to:!0},w_=function(){function Gt(dt){it(this,Gt),this.type=Ut.MSG_GRP_TIP,this.content={},this._initContent(dt)}return lt(Gt,[{key:"_initContent",value:function(dt){var yt=this;Object.keys(dt).forEach(function(st){switch(st){case"remarkInfo":break;case"groupProfile":yt.content.groupProfile={},yt._initGroupProfile(dt[st]);break;case"operatorInfo":break;case"memberInfoList":case"msgMemberInfo":yt._updateMemberList(dt[st]);break;case"memberExtraInfo":case"onlineMemberInfo":break;case"memberNum":yt.content[st]=dt[st],yt.content.memberCount=dt[st];break;case"newGroupProfile":yt.content.newGroupProfile={},yt._initNewGroupProfile(dt[st]);break;default:yt.content[st]=dt[st]}}),this.content.userIDList||(this.content.userIDList=[this.content.operatorID])}},{key:"_initGroupProfile",value:function(dt){for(var yt=Object.keys(dt),st=0;st<yt.length;st++){var ht=yt[st];pr[ht]&&(this.content.groupProfile[ht]=dt[ht])}}},{key:"_updateMemberList",value:function(dt){dr(this.content.memberList)?this.content.memberList=dt:this.content.memberList.forEach(function(yt){dt.forEach(function(st){yt.userID===st.userID&&Object.assign(yt,st)})})}},{key:"_initNewGroupProfile",value:function(dt){for(var yt=Object.keys(dt),st=0;st<yt.length;st++){var ht=yt[st];ht!=="muteAllMembers"?this.content.newGroupProfile[ht]=dt[ht]:this.content.newGroupProfile[ht]=dt[ht]===1}}}]),Gt}(),jv={from:!0,groupID:!0,groupName:!0,to:!0},Fp=function(){function Gt(dt){it(this,Gt),this.type=Ut.MSG_GRP_SYS_NOTICE,this.content={},this._initContent(dt)}return lt(Gt,[{key:"_initContent",value:function(dt){var yt=this;Object.keys(dt).forEach(function(st){switch(st){case"memberInfoList":break;case"remarkInfo":yt.content.handleMessage=dt[st];break;case"groupProfile":yt.content.groupProfile={},yt._initGroupProfile(dt[st]);break;default:yt.content[st]=dt[st]}})}},{key:"_initGroupProfile",value:function(dt){for(var yt=Object.keys(dt),st=0;st<yt.length;st++){var ht=yt[st];jv[ht]&&(ht==="groupName"?this.content.groupProfile.name=dt[ht]:this.content.groupProfile[ht]=dt[ht])}}}]),Gt}(),Am=function(){function Gt(dt,yt){it(this,Gt),this.type=Ut.MSG_FILE,this._percent=0;var st=this._getFileInfo(dt);this.content={downloadFlag:2,fileUrl:Es(dt.url,yt)||"",uuid:dt.uuid,fileName:st.name||"",fileSize:st.size||0}}return lt(Gt,[{key:"_getFileInfo",value:function(dt){if(!vr(dt.fileName)&&!vr(dt.fileSize))return{size:dt.fileSize,name:dt.fileName};var yt=dt.file.files[0];if(Dr){if(yt.path&&yt.path.indexOf(".")!==-1){var st=yt.path.slice(yt.path.lastIndexOf(".")+1).toLowerCase();yt.type=st,yt.name||(yt.name="".concat(_c(999999),".").concat(st))}yt.name||(yt.type="",yt.name=yt.path.slice(yt.path.lastIndexOf("/")+1).toLowerCase()),yt.suffix&&(yt.type=yt.suffix),yt.url||(yt.url=yt.path)}return{size:yt.size,name:yt.name}}},{key:"updatePercent",value:function(dt){this._percent=dt,this._percent>1&&(this._percent=1)}},{key:"updateFileUrl",value:function(dt){this.content.fileUrl=dt}},{key:"sendable",value:function(){return this.content.fileUrl!==""&&this.content.fileName!==""&&this.content.fileSize!==0}}]),Gt}(),_g=function(){function Gt(dt){it(this,Gt),this.type=Ut.MSG_CUSTOM,this.content={data:dt.data||"",description:dt.description||"",extension:dt.extension||""}}return lt(Gt,[{key:"setData",value:function(dt){return this.content.data=dt,this}},{key:"setDescription",value:function(dt){return this.content.description=dt,this}},{key:"setExtension",value:function(dt){return this.content.extension=dt,this}},{key:"sendable",value:function(){return this.content.data.length!==0||this.content.description.length!==0||this.content.extension.length!==0}}]),Gt}(),hu=function(){function Gt(dt,yt){it(this,Gt),this.type=Ut.MSG_VIDEO,this._percent=0,this.content={remoteVideoUrl:dt.remoteVideoUrl||dt.videoUrl||"",videoFormat:dt.videoFormat,videoSecond:parseInt(dt.videoSecond,10),videoSize:dt.videoSize,videoUrl:Es(dt.videoUrl,yt),videoDownloadFlag:2,videoUUID:dt.videoUUID,thumbUUID:dt.thumbUUID,thumbFormat:dt.thumbFormat,thumbWidth:dt.thumbWidth,snapshotWidth:dt.thumbWidth,thumbHeight:dt.thumbHeight,snapshotHeight:dt.thumbHeight,thumbSize:dt.thumbSize,snapshotSize:dt.thumbSize,thumbDownloadFlag:2,thumbUrl:Es(dt.thumbUrl,yt),snapshotUrl:Es(dt.thumbUrl,yt)}}return lt(Gt,[{key:"updatePercent",value:function(dt){this._percent=dt,this._percent>1&&(this._percent=1)}},{key:"updateVideoUrl",value:function(dt){dt&&(this.content.remoteVideoUrl=dt)}},{key:"updateSnapshotInfo",value:function(dt){var yt=dt.snapshotUrl,st=dt.snapshotWidth,ht=dt.snapshotHeight;dr(yt)||(this.content.thumbUrl=this.content.snapshotUrl=yt),dr(st)||(this.content.thumbWidth=this.content.snapshotWidth=Number(st)),dr(ht)||(this.content.thumbHeight=this.content.snapshotHeight=Number(ht))}},{key:"sendable",value:function(){return this.content.remoteVideoUrl!==""}}]),Gt}(),qu=function(){function Gt(dt){it(this,Gt),this.type=Ut.MSG_LOCATION;var yt=dt.description,st=dt.longitude,ht=dt.latitude;this.content={description:yt,longitude:st,latitude:ht}}return lt(Gt,[{key:"sendable",value:function(){return!0}}]),Gt}(),bm=function(){function Gt(dt,yt){if(it(this,Gt),this.from=dt.from,this.messageSender=dt.from,this.time=dt.time,this.messageSequence=dt.sequence,this.clientSequence=dt.clientSequence||dt.sequence,this.messageRandom=dt.random,this.cloudCustomData=dt.cloudCustomData||"",this.clientTime=dt.clientTime||void 0,dt.ID)this.ID=dt.ID||"",this.nick=dt.nick||"",this.avatar=dt.avatar||"",this.messageBody=[{type:dt.type,payload:dt.payload}],dt.conversationType.startsWith(Ut.CONV_C2C)?this.receiverUserID=dt.to:dt.conversationType.startsWith(Ut.CONV_GROUP)&&(this.receiverGroupID=dt.to),this.messageReceiver=dt.to;else{this.nick=dt.nick||"",this.avatar=dt.avatar||"",this.messageBody=[];var st=dt.elements[0].type,ht=dt.elements[0].content;this._patchRichMediaPayload(st,ht),this._updateRichMediaDownloadUrl(st,ht,yt),st===Ut.MSG_MERGER?this.messageBody.push({type:st,payload:new El(ht).content}):this.messageBody.push({type:st,payload:ht}),dt.groupID&&(this.receiverGroupID=dt.groupID,this.messageReceiver=dt.groupID),dt.to&&(this.receiverUserID=dt.to,this.messageReceiver=dt.to),this.ID="".concat(dt.tinyID,"-").concat(dt.clientTime,"-").concat(dt.random)}}return lt(Gt,[{key:"_patchRichMediaPayload",value:function(dt,yt){dt===Ut.MSG_IMAGE?yt.imageInfoArray.forEach(function(st){!st.imageUrl&&st.url&&(st.imageUrl=st.url,st.sizeType=st.type,st.type===1?st.type=0:st.type===3&&(st.type=1))}):dt===Ut.MSG_VIDEO?!yt.remoteVideoUrl&&yt.videoUrl&&(yt.remoteVideoUrl=yt.videoUrl):dt===Ut.MSG_AUDIO?!yt.remoteAudioUrl&&yt.url&&(yt.remoteAudioUrl=yt.url):dt===Ut.MSG_FILE&&!yt.fileUrl&&yt.url&&(yt.fileUrl=yt.url,yt.url=void 0)}},{key:"_updateRichMediaDownloadUrl",value:function(dt,yt,st){st&&(dt===Ut.MSG_IMAGE?yt.imageInfoArray.forEach(function(ht){ht.url=Es(ht.url,st)}):dt===Ut.MSG_VIDEO?(yt.videoUrl=Es(yt.videoUrl,st),yt.snapshotUrl=Es(yt.thumbUrl,st),yt.snapshotHeight=yt.thumbHeight,yt.snapshotWidth=yt.thumbWidth):dt===Ut.MSG_AUDIO?yt.url=Es(yt.url,st):dt===Ut.MSG_FILE&&(yt.fileUrl=Es(yt.fileUrl,st)))}}]),Gt}(),El=function(){function Gt(dt,yt){if(it(this,Gt),this.type=Ut.MSG_MERGER,this.content={downloadKey:"",pbDownloadKey:"",messageList:[],title:"",abstractList:[],compatibleText:"",version:0,layersOverLimit:!1},dt.downloadKey){var st=dt.downloadKey,ht=dt.pbDownloadKey,vt=dt.title,It=dt.abstractList,kt=dt.compatibleText,Ot=dt.version;this.content.downloadKey=st,this.content.pbDownloadKey=ht,this.content.title=vt,this.content.abstractList=It,this.content.compatibleText=kt,this.content.version=Ot||0}else if(dr(dt.messageList))dt.layersOverLimit===1&&(this.content.layersOverLimit=!0);else{var Pt=dt.messageList,qt=dt.title,Wt=dt.abstractList,ln=dt.compatibleText,fn=dt.version,Sn=[];Pt.forEach(function(Nn){if(!dr(Nn)){var qn=new bm(Nn,yt);Sn.push(qn)}}),this.content.messageList=Sn,this.content.title=qt,this.content.abstractList=Wt,this.content.compatibleText=ln,this.content.version=fn||0}}return lt(Gt,[{key:"sendable",value:function(){return!dr(this.content.messageList)||!dr(this.content.downloadKey)}}]),Gt}(),em={1:Ut.MSG_PRIORITY_HIGH,2:Ut.MSG_PRIORITY_NORMAL,3:Ut.MSG_PRIORITY_LOW,4:Ut.MSG_PRIORITY_LOWEST},yu=function(){function Gt(dt){it(this,Gt),this.ID="",this.conversationID=dt.conversationID||null,this.conversationType=dt.conversationType||Ut.CONV_C2C,this.conversationSubType=dt.conversationSubType,this.time=dt.time||Math.ceil(Date.now()/1e3),this.sequence=dt.sequence||0,this.clientSequence=dt.clientSequence||dt.sequence||0,this.random=dt.random||dt.random===0?dt.random:_c(),this.priority=this._computePriority(dt.priority),this.nick=dt.nick||"",this.avatar=dt.avatar||"",this.isPeerRead=!1,this.nameCard="",this._elements=[],this.isPlaceMessage=dt.isPlaceMessage||0,this.isRevoked=dt.isPlaceMessage===2||dt.msgFlagBits===8,this.from=dt.from||null,this.to=dt.to||null,this.flow="",this.isSystemMessage=dt.isSystemMessage||!1,this.protocol=dt.protocol||"JSON",this.isResend=!1,this.isRead=!1,this.status=dt.status||Ko.SUCCESS,this._onlineOnlyFlag=!1,this._groupAtInfoList=[],this._relayFlag=!1,this.atUserList=[],this.cloudCustomData=dt.cloudCustomData||"",this.isDeleted=!1,this.isModified=!1,this._isExcludedFromUnreadCount=!(!dt.messageControlInfo||dt.messageControlInfo.excludedFromUnreadCount!==1),this._isExcludedFromLastMessage=!(!dt.messageControlInfo||dt.messageControlInfo.excludedFromLastMessage!==1),this.clientTime=dt.clientTime||ds()||0,this.senderTinyID=dt.senderTinyID||dt.tinyID||"",this.readReceiptInfo=dt.readReceiptInfo||{readCount:void 0,unreadCount:void 0,isPeerRead:void 0},this.needReadReceipt=dt.needReadReceipt===!0||dt.needReadReceipt===1,this.version=dt.messageVersion||0,this.isBroadcastMessage=dt.isBroadcastMessage||!1,this._receiverList=dt.receiverList||void 0,this.isSupportExtension=dt.isSupportExtension===!0||dt.isSupportExtension===1,this.revoker=dt.revokerInfo&&dt.revokerInfo.revoker||null,this.reInitialize(dt.currentUser),this.extractGroupInfo(dt.groupProfile||null),this.handleGroupAtInfo(dt),this.initC2CReadReceiptInfo(dt.readReceiptSentByPeer)}return lt(Gt,[{key:"elements",get:function(){return this._elements}},{key:"getElements",value:function(){return this._elements}},{key:"extractGroupInfo",value:function(dt){if(dt!==null){Po(dt.nick)&&(this.nick=dt.nick),Po(dt.avatar)&&(this.avatar=dt.avatar);var yt=dt.messageFromAccountExtraInformation;as(yt)&&Po(yt.nameCard)&&(this.nameCard=yt.nameCard)}}},{key:"handleGroupAtInfo",value:function(dt){var yt=this;dt.payload&&dt.payload.atUserList&&dt.payload.atUserList.forEach(function(st){st!==Ut.MSG_AT_ALL?(yt._groupAtInfoList.push({groupAtAllFlag:0,groupAtUserID:st}),yt.atUserList.push(st)):(yt._groupAtInfoList.push({groupAtAllFlag:1}),yt.atUserList.push(Ut.MSG_AT_ALL))}),to(dt.groupAtInfo)&&dt.groupAtInfo.forEach(function(st){st.groupAtAllFlag===0?yt.atUserList.push(st.groupAtUserID):st.groupAtAllFlag===1&&yt.atUserList.push(Ut.MSG_AT_ALL)})}},{key:"getGroupAtInfoList",value:function(){return this._groupAtInfoList}},{key:"_initProxy",value:function(){this._elements[0]&&(this.payload=this._elements[0].content,this.type=this._elements[0].type)}},{key:"reInitialize",value:function(dt){dt&&(this.status=this.from?Ko.SUCCESS:Ko.UNSEND,!this.from&&(this.from=dt)),this._initFlow(dt),this._initSequence(dt),this._concatConversationID(dt),this.generateMessageID()}},{key:"isSendable",value:function(){return this._elements.length!==0&&typeof this._elements[0].sendable=="function"&&this._elements[0].sendable()}},{key:"_initTo",value:function(dt){this.conversationType===Ut.CONV_GROUP&&(this.to=dt.groupID)}},{key:"_initSequence",value:function(dt){this.clientSequence===0&&dt&&(this.clientSequence=function(yt){if(!yt)return!1;if(Bl[yt]===void 0){var st=new Date,ht="3".concat(st.getHours()).slice(-2),vt="0".concat(st.getMinutes()).slice(-2),It="0".concat(st.getSeconds()).slice(-2);Bl[yt]=parseInt([ht,vt,It,"0001"].join("")),ht=null,vt=null,It=null,pn.l("autoIncrementIndex start index:".concat(Bl[yt]))}return Bl[yt]++}(dt)),this.sequence===0&&this.conversationType===Ut.CONV_C2C&&(this.sequence=this.clientSequence)}},{key:"generateMessageID",value:function(){this.from===Ut.CONV_SYSTEM&&(this.senderTinyID="144115198244471703"),this.ID="".concat(this.senderTinyID,"-").concat(this.clientTime,"-").concat(this.random)}},{key:"_initFlow",value:function(dt){dt!==""&&(dt===this.from?(this.flow="out",this.isRead=!0):this.flow="in")}},{key:"_concatConversationID",value:function(dt){var yt=this.to,st="",ht=this.conversationType;ht!==Ut.CONV_SYSTEM?(st=ht===Ut.CONV_C2C?dt===this.from?yt:this.from:this.to,this.conversationID=st?"".concat(ht).concat(st):null):this.conversationID=Ut.CONV_SYSTEM}},{key:"isElement",value:function(dt){return dt instanceof rv||dt instanceof T_||dt instanceof x_||dt instanceof Em||dt instanceof Am||dt instanceof hu||dt instanceof w_||dt instanceof Fp||dt instanceof _g||dt instanceof qu||dt instanceof El}},{key:"setElement",value:function(dt,yt){var st=this;if(this.isElement(dt))return this._elements=[dt],void this._initProxy();var ht=function(It){if(It.type&&It.content)switch(It.type){case Ut.MSG_TEXT:st.setTextElement(It.content);break;case Ut.MSG_IMAGE:st.setImageElement(It.content,yt);break;case Ut.MSG_AUDIO:st.setAudioElement(It.content,yt);break;case Ut.MSG_FILE:st.setFileElement(It.content,yt);break;case Ut.MSG_VIDEO:st.setVideoElement(It.content,yt);break;case Ut.MSG_CUSTOM:st.setCustomElement(It.content);break;case Ut.MSG_LOCATION:st.setLocationElement(It.content);break;case Ut.MSG_GRP_TIP:st.setGroupTipElement(It.content);break;case Ut.MSG_GRP_SYS_NOTICE:st.setGroupSystemNoticeElement(It.content);break;case Ut.MSG_FACE:st.setFaceElement(It.content);break;case Ut.MSG_MERGER:st.setMergerElement(It.content,yt)}};if(to(dt))for(var vt=0;vt<dt.length;vt++)ht(dt[vt]);else ht(dt);this._initProxy()}},{key:"clearElement",value:function(){this._elements.length=0}},{key:"setTextElement",value:function(dt){var yt=typeof dt=="string"?dt:dt.text,st=new rv({text:yt});this._elements.push(st)}},{key:"setImageElement",value:function(dt,yt){var st=new T_(dt,yt);this._elements.push(st)}},{key:"setAudioElement",value:function(dt,yt){var st=new Em(dt,yt);this._elements.push(st)}},{key:"setFileElement",value:function(dt,yt){var st=new Am(dt,yt);this._elements.push(st)}},{key:"setVideoElement",value:function(dt,yt){var st=new hu(dt,yt);this._elements.push(st)}},{key:"setLocationElement",value:function(dt){var yt=new qu(dt);this._elements.push(yt)}},{key:"setCustomElement",value:function(dt){var yt=new _g(dt);this._elements.push(yt)}},{key:"setGroupTipElement",value:function(dt){var yt={},st=dt.operationType;if(dr(dt.memberInfoList)?dt.operatorInfo&&(yt=dt.operatorInfo):st!==Ut.GRP_TIP_MBR_JOIN&&st!==Ut.GRP_TIP_MBR_KICKED_OUT&&st!==Ut.GRP_TIP_MBR_SET_ADMIN&&st!==Ut.GRP_TIP_MBR_CANCELED_ADMIN||(yt=dt.memberInfoList[0]),!dr(dt.memberExtraInfo)){var ht=dt.memberExtraInfo.reason;dt.msgMemberInfo.forEach(function(Pt){Pt.reason=ht})}var vt=yt,It=vt.nick,kt=vt.avatar;Po(It)&&(this.nick=It),Po(kt)&&(this.avatar=kt);var Ot=new w_(dt);this._elements.push(Ot)}},{key:"setGroupSystemNoticeElement",value:function(dt){var yt=new Fp(dt);this._elements.push(yt)}},{key:"setFaceElement",value:function(dt){var yt=new x_(dt);this._elements.push(yt)}},{key:"setMergerElement",value:function(dt,yt){var st=new El(dt,yt);this._elements.push(st)}},{key:"setIsRead",value:function(dt){this.isRead=dt}},{key:"setRelayFlag",value:function(dt){this._relayFlag=dt}},{key:"getRelayFlag",value:function(){return this._relayFlag}},{key:"_computePriority",value:function(dt){if(vr(dt))return Ut.MSG_PRIORITY_NORMAL;if(Po(dt)&&Object.values(em).indexOf(dt)!==-1)return dt;if(Zo(dt)){var yt=""+dt;if(Object.keys(em).indexOf(yt)!==-1)return em[yt]}return Ut.MSG_PRIORITY_NORMAL}},{key:"setNickAndAvatar",value:function(dt){var yt=dt.nick,st=dt.avatar;Po(yt)&&(this.nick=yt),Po(st)&&(this.avatar=st)}},{key:"setNameCard",value:function(dt){Po(dt)&&(this.nameCard=dt)}},{key:"initC2CReadReceiptInfo",value:function(dt){this.conversationType===Ut.CONV_C2C&&this.needReadReceipt===!0&&(this.readReceiptInfo.isPeerRead=dt===1)}}]),Gt}(),go=function(Gt){return{code:0,data:Gt||{}}},Cs=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;it(this,yt),ht=dt.call(this);var vt=st.code,It=st.message,kt=st.data;return ht.code=vt,ht.message=It||ht._getErrorMessage(ht.code),ht.data=kt||{},ht}return lt(yt)}(Tt(Error)),xu=null,br=function(Gt){xu=Gt},Go=function(Gt){return Promise.resolve(go(Gt))},rr=function(Gt){var dt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Gt instanceof Cs)return dt&&xu!==null&&xu.emit(yn.ERROR,Gt),Promise.reject(Gt);if(Gt instanceof Error){var yt=new Cs({code:yr.UNCAUGHT_ERROR});return dt&&xu!==null&&xu.emit(yn.ERROR,yt),Promise.reject(yt)}if(!vr(Gt)&&!vr(Gt.code)){var st=new Cs(Gt);return dt&&xu!==null&&xu.emit(yn.ERROR,st),Promise.reject(st)}},Bv=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="C2CModule",ht._messageFromUnreadDBMap=new Map,ht._signalingFromUnreadDBList=[],ht}return lt(yt,[{key:"onNewC2CMessage",value:function(st){var ht=st.dataList,vt=st.isInstantMessage,It=st.C2CRemainingUnreadList,kt=st.C2CPairUnreadList;pn.d("".concat(this._n,".onNewC2CMessage count:").concat(ht.length," isInstantMessage:").concat(vt));var Ot=this._newC2CMessageStoredAndSummary({dataList:ht,C2CRemainingUnreadList:It,C2CPairUnreadList:kt,isInstantMessage:vt}),Pt=Ot.conversationOptionsList,qt=Ot.messageList,Wt=Ot.isUnreadC2CMessage;this.filterModifiedMessage(qt),Pt.length>0&&this.getModule(qr).onNewMessage({conversationOptionsList:Pt,isInstantMessage:vt,isUnreadC2CMessage:Wt});var ln=this.filterUnmodifiedMessage(qt);vt&&ln.length>0&&this.emitOuterEvent(yn.MESSAGE_RECEIVED,ln),qt.length=0}},{key:"_newC2CMessageStoredAndSummary",value:function(st){for(var ht=st.dataList,vt=st.C2CRemainingUnreadList,It=st.C2CPairUnreadList,kt=st.isInstantMessage,Ot=null,Pt=[],qt=[],Wt={},ln=this.getModule(gs),fn=this.getModule($s),Sn=!1,Nn=this.getModule(qr),qn=this.getFileDownloadProxy(),Yn=0,Zn=ht.length;Yn<Zn;Yn++)if(this._isSignaling(ht[Yn]))this._signalingFromUnreadDBList.push(ht[Yn].eventArray[0].c2CNotifyMsgArray[0]);else{var or=ht[Yn];or.currentUser=this.getMyUserID(),or.conversationType=Ut.CONV_C2C,or.isSystemMessage=!!or.isSystemMessage,(vr(or.nick)||vr(or.avatar))&&(Sn=!0,pn.d("".concat(this._n,"._newC2CMessageStoredAndSummary nick or avatar missing!"))),Ot=new yu(or),or.elements=ln.parseElements(or.elements,or.from),Ot.setElement(or.elements,qn),Ot.setNickAndAvatar({nick:or.nick,avatar:or.avatar});var Sr=Ot.conversationID;if(kt){if(this._messageFromUnreadDBMap.get(Ot.ID)===1)continue;var Pr=!1;if(Ot.from!==this.getMyUserID()){var Vr=Nn.getLatestMessageSentByPeer(Sr);if(Vr){var io=Vr.nick,No=Vr.avatar;Sn?Ot.setNickAndAvatar({nick:io,avatar:No}):io===Ot.nick&&No===Ot.avatar||(Pr=!0)}}else{var Bo=Nn.getLatestMessageSentByMe(Sr);if(Bo){var ko=Bo.nick,Nt=Bo.avatar;ko===Ot.nick&&Nt===Ot.avatar||Nn.modifyMessageSentByMe({conversationID:Sr,latestNick:Ot.nick,latestAvatar:Ot.avatar})}}var ut=ht[Yn].isModified===1;if(Nn.isMessageSentByCurrentInstance(Ot)?Ot.isModified=ut:ut=!1,or.msgLifeTime===0)Ot._onlineOnlyFlag=!0,Nn.isMessageSentByCurrentInstance(Ot)||qt.push(Ot);else{if(!Nn.pushIntoMessageList(qt,Ot,ut))continue;Pr&&(Nn.modifyMessageSentByPeer({conversationID:Sr,latestNick:Ot.nick,latestAvatar:Ot.avatar}),Nn.updateUserProfileSpecifiedKey({conversationID:Sr,nick:Ot.nick,avatar:Ot.avatar}))}kt&&Ot.clientTime>0&&fn.addMessageDelay(Ot.clientTime)}else this._messageFromUnreadDBMap.set(Ot.ID,1);if(or.msgLifeTime!==0){if(Ot._onlineOnlyFlag===!1){var _t=Nn.getLastMessageTime(Sr);if(Zo(_t)&&Ot.time<_t)continue;if(vr(Wt[Sr])){var at=0;Ot.flow==="in"&&(Ot._isExcludedFromUnreadCount||(at=1)),Wt[Sr]=Pt.push({conversationID:Sr,unreadCount:at,type:Ot.conversationType,subType:Ot.conversationSubType,lastMessage:Ot._isExcludedFromLastMessage?"":Ot})-1}else{var ft=Wt[Sr];Pt[ft].type=Ot.conversationType,Pt[ft].subType=Ot.conversationSubType,Pt[ft].lastMessage=Ot._isExcludedFromLastMessage?"":Ot,Ot.flow==="in"&&(Ot._isExcludedFromUnreadCount||Pt[ft].unreadCount++)}}}else Ot._onlineOnlyFlag=!0}this._handleSignalingFromUnreadDB();var gt=!1;if(to(It))for(var Ct=function(Jt,cn){if(It[Jt].unreadCount>0){gt=!0;var bn=Pt.find(function(On){return On.conversationID==="C2C".concat(It[Jt].from)});bn?bn.unreadCount=It[Jt].unreadCount:Pt.push({conversationID:"C2C".concat(It[Jt].from),unreadCount:It[Jt].unreadCount,type:Ut.CONV_C2C})}},St=0,Dt=It.length;St<Dt;St++)Ct(St);if(to(vt))for(var Lt=function(Jt,cn){Pt.find(function(bn){return bn.conversationID==="C2C".concat(vt[Jt].from)})||Pt.push({conversationID:"C2C".concat(vt[Jt].from),type:Ut.CONV_C2C,lastMsgTime:vt[Jt].lastMsgTime})},jt=0,Kt=vt.length;jt<Kt;jt++)Lt(jt);return{conversationOptionsList:Pt,messageList:qt,isUnreadC2CMessage:gt}}},{key:"_isSignaling",value:function(st){var ht=st.eventArray;return!(!to(ht)||ht[0].event!==10)}},{key:"_handleSignalingFromUnreadDB",value:function(){var st=this._signalingFromUnreadDBList.length;if(pn.l("".concat(this._n,"._handleSignalingFromUnreadDB signalingCount:").concat(st)),st!==0){var ht=[];this._signalingFromUnreadDBList.forEach(function(vt){vt.hasOwnProperty("c2cMessageRevokedNotify")&&ht.push(vt)}),this.onC2CMessageRevoked({dataList:ht}),this._signalingFromUnreadDBList.length=0,ht.length=0}}},{key:"onC2CMessageRevoked",value:function(st){var ht=this,vt=this.getModule(qr),It=[],kt=null,Ot=!0;st.dataList.forEach(function(Pt){if(Pt.c2cMessageRevokedNotify){var qt=Pt.c2cMessageRevokedNotify.revokedInfos;vr(qt)||qt.forEach(function(Wt){var ln=ht.getMyUserID()===Wt.from?"".concat(Ut.CONV_C2C).concat(Wt.to):"".concat(Ut.CONV_C2C).concat(Wt.from);kt=vt.revoke(ln,Wt.sequence,Wt.random);var fn=Wt.revokerInfo&&Wt.revokerInfo.revoker;if(kt)kt.revoker||(kt.revoker=fn,It.push(kt));else{var Sn={conversationID:ln,sequence:Wt.sequence,time:Wt.time,revoker:fn};vt.isLastMessageRevoked(Sn)&&(It.push(Sn),Ot=!1)}})}}),It.length!==0&&(vt.onMessageRevoked(It),Ot===!0&&(pn.l("".concat(this._n,".onC2CMessageRevoked count:").concat(It.length)),this.emitOuterEvent(yn.MESSAGE_REVOKED,It)))}},{key:"onC2CMessageReadReceipt",value:function(st){var ht=this;st.dataList.forEach(function(vt){if(!dr(vt.c2cMessageReadReceipt)){var It=vt.c2cMessageReadReceipt.to;vt.c2cMessageReadReceipt.uinPairReadArray.forEach(function(kt){var Ot=kt.peerReadTime;pn.d("".concat(ht._n,"._onC2CMessageReadReceipt to:").concat(It," peerReadTime:").concat(Ot));var Pt="".concat(Ut.CONV_C2C).concat(It),qt=ht.getModule(qr);qt.recordPeerReadTime(Pt,Ot),qt.updateMessageIsPeerReadProperty(Pt,Ot)})}})}},{key:"onC2CMessageReadNotice",value:function(st){var ht=this;st.dataList.forEach(function(vt){if(!dr(vt.c2cMessageReadNotice)){var It=ht.getModule(qr);vt.c2cMessageReadNotice.uinPairReadArray.forEach(function(kt){var Ot=kt.from,Pt=kt.peerReadTime;pn.d("".concat(ht._n,".onC2CMessageReadNotice from:").concat(Ot," lastReadTime:").concat(Pt));var qt="".concat(Ut.CONV_C2C).concat(Ot);It.updateIsReadAfterReadReport({conversationID:qt,lastMessageTime:Pt}),It.updateUnreadCount(qt)})}})}},{key:"onC2CMessageModified",value:function(st){pn.d("".concat(this._n,".onC2CMessageModified options:"),JSON.stringify(st));var ht=this.getModule(qr);st.dataList.forEach(function(vt){ht.onMessageModified(rt(rt({},vt),{},{conversationType:Ut.CONV_C2C}))})}},{key:"onReadReceiptList",value:function(st){pn.d("".concat(this._n,".onReadReceiptList options:"),JSON.stringify(st));var ht=st.dataList,vt=ht.userID,It=ht.readReceiptList;this.getModule(qr).updateReadReceiptInfo({userID:vt,readReceiptList:It})}},{key:"sendMessage",value:function(st,ht){var vt=this._createC2CMessagePack(st,ht);return this.request(vt)}},{key:"_createC2CMessagePack",value:function(st,ht){var vt=null;ht&&(ht.offlinePushInfo&&(vt=ht.offlinePushInfo),ht.onlineUserOnly===!0&&(vt?vt.disablePush=!0:vt={disablePush:!0}));var It="";Po(st.cloudCustomData)&&st.cloudCustomData.length>0&&(It=st.cloudCustomData);var kt=[];if(as(ht)&&as(ht.messageControlInfo)){var Ot=ht.messageControlInfo,Pt=Ot.excludedFromUnreadCount,qt=Ot.excludedFromLastMessage,Wt=Ot.excludedFromContentModeration;Pt===!0&&kt.push("NoUnread"),qt===!0&&kt.push("NoLastMsg"),Wt===!0&&kt.push("NoMsgCheck")}var ln=this.isOnlineMessage(st,ht)?0:void 0;return{protocolName:Ul,tjgID:this.generateTjgID(st),requestData:{fromAccount:this.getMyUserID(),toAccount:st.to,msgBody:st.getElements(),cloudCustomData:It,msgSeq:st.sequence,msgRandom:st.random,msgLifeTime:ln,nick:st.nick,avatar:st.avatar,offlinePushInfo:vt?{pushFlag:vt.disablePush===!0?1:0,title:vt.title||"",desc:vt.description||"",ext:vt.extension||"",apnsInfo:{badgeMode:vt.ignoreIOSBadge===!0?1:0,isVoipPush:this._isVoipPush(vt)},androidInfo:{OPPOChannelID:vt.androidOPPOChannelID||""}}:void 0,messageControlInfo:ln!==0?kt:void 0,clientTime:st.clientTime,needReadReceipt:st.needReadReceipt===!0?1:0,isSupportExtension:st.isSupportExtension===!0?1:0}}}},{key:"_isVoipPush",value:function(st){var ht=void 0;return vr(st.disableVoipPush)||(ht=st.disableVoipPush===!1?1:0),ht}},{key:"isOnlineMessage",value:function(st,ht){return!(!ht||ht.onlineUserOnly!==!0)}},{key:"revokeMessage",value:function(st){return this.request({protocolName:Nr,requestData:{msgInfo:{fromAccount:st.from,toAccount:st.to,msgSeq:st.sequence,msgRandom:st.random,msgTimeStamp:st.time}}})}},{key:"deleteMessage",value:function(st){var ht=st.to,vt=st.keyList;return pn.l("".concat(this._n,".deleteMessage toAccount:").concat(ht," count:").concat(vt.length)),this.request({protocolName:bs,requestData:{fromAccount:this.getMyUserID(),to:ht,keyList:vt}})}},{key:"modifyRemoteMessage",value:function(st){var ht=st.from,vt=st.to,It=st.version,kt=It===void 0?0:It,Ot=st.sequence,Pt=st.random,qt=st.time,Wt=st.payload,ln=st.type,fn=st.cloudCustomData,Sn=void 0;return Tl(ln)&&(Sn=[]).push({type:ln,content:Wt}),this.request({protocolName:hm,requestData:{from:ht,to:vt,version:kt,sequence:Ot,random:Pt,time:qt,elements:Sn,cloudCustomData:fn}})}},{key:"setMessageRead",value:function(st){var ht=this,vt=st.conversationID,It=st.lastMessageTime,kt="".concat(this._n,".setMessageRead");pn.l("".concat(kt," conversationID:").concat(vt," lastMessageTime:").concat(It)),Zo(It)||this.outputWarning("DoNotModifyLastTime");var Ot=new xr("setC2CMessageRead");return Ot.setMessage("conversationID:".concat(vt," lastMessageTime:").concat(It)),this.request({protocolName:Rr,requestData:{C2CMsgReaded:{cookie:"",C2CMsgReadedItem:[{toAccount:vt.replace("C2C",""),lastMessageTime:It,receipt:1}]}}}).then(function(){Ot.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(kt," ok"));var Pt=ht.getModule(qr);return Pt.updateIsReadAfterReadReport({conversationID:vt,lastMessageTime:It}),Pt.updateUnreadCount(vt),go()}).catch(function(Pt){return ht.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];Ot.setError(Pt,ln,fn).end()}),pn.l("".concat(kt," failed. error:"),Pt),rr(Pt)})}},{key:"getRoamingMessage",value:function(st){var ht=this,vt="".concat(this._n,".getRoamingMessage"),It=st.peerAccount,kt=st.conversationID,Ot=st.count,Pt=st.lastMessageTime,qt=st.messageKey,Wt="peerAccount:".concat(It," count:").concat(Ot||15," lastMessageTime:").concat(Pt||0," messageKey:").concat(qt);pn.l("".concat(vt," ").concat(Wt));var ln=new xr("getC2CRoamingMessages");return this.request({protocolName:_s,requestData:{peerAccount:It,count:Ot||15,lastMessageTime:Pt||0,messageKey:qt}}).then(function(fn){var Sn=fn.data,Nn=Sn.complete,qn=Sn.messageList,Yn=Sn.messageKey,Zn=Sn.lastMessageTime;vr(qn)?pn.l("".concat(vt," ok. complete:").concat(Nn," but messageList is undefined!")):pn.l("".concat(vt," ok. complete:").concat(Nn," count:").concat(qn.length)),ln.setNetworkType(ht.getNetworkType()).setMessage("".concat(Wt," complete:").concat(Nn," length:").concat(qn.length)).end();var or=ht.getModule(qr);Nn===1&&or.setCompleted(kt);var Sr=or.onRoamingMessage(qn,kt);or.modifyMessageList(kt),or.updateIsRead(kt),or.updateRoamingMessageKeyAndTime(kt,Yn,Zn);var Pr=or.getPeerReadTime(kt);if(pn.l("".concat(vt," update isPeerRead property. conversationID:").concat(kt," peerReadTime:").concat(Pr)),Pr)or.updateMessageIsPeerReadProperty(kt,Pr);else{var Vr=kt.replace(Ut.CONV_C2C,"");ht.getRemotePeerReadTime([Vr]).then(function(){or.updateMessageIsPeerReadProperty(kt,or.getPeerReadTime(kt))})}var io="";if(Sr.length>0)io=Sr[0].ID;else{var No=or.getLocalOldestMessage(kt);No&&(io=No.ID)}return pn.l("".concat(vt," nextReqID:").concat(io," stored message count:").concat(Sr.length)),{nextReqID:io,storedMessageList:Sr}}).catch(function(fn){return ht.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];ln.setMessage(Wt).setError(fn,qn,Yn).end()}),pn.w("".concat(vt," failed. error:"),fn),rr(fn)})}},{key:"getRoamingMessagesHopping",value:function(st){var ht=this,vt="".concat(this._n,".getRoamingMessagesHopping"),It=st.peerAccount,kt=st.time,Ot=kt===void 0?0:kt,Pt=st.count,qt=st.direction,Wt="".concat(Ut.CONV_C2C).concat(It),ln="peerAccount:".concat(It," count:").concat(Pt," time:").concat(Ot," direction:").concat(qt);pn.l("".concat(vt," ").concat(ln));var fn=new xr("getC2CRoamingMessagesHopping");return this.request({protocolName:_s,requestData:{peerAccount:It,count:Pt+1,lastMessageTime:Ot,direction:qt}}).then(function(Sn){var Nn=Sn.data,qn=Nn.complete,Yn=Nn.messageList,Zn=Yn===void 0?[]:Yn,or=Nn.lastMessageTime;pn.l("".concat(vt," ok. complete:").concat(qn," count:").concat(Zn.length)),fn.setNetworkType(ht.getNetworkType()).setMessage("".concat(ln," complete:").concat(qn," length:").concat(Zn.length)).end(),qn!==1&&(qt===1?Zn.pop():Zn.shift());var Sr=ht.getModule(qr).onRoamingMessage(Zn,Wt,!1);ht._modifyMessageList(Wt,Sr);var Pr=ht._computeResult({complete:qn,lastMessageTime:or,resultList:Sr});return go(Pr)}).catch(function(Sn){return ht.probeNetwork().then(function(Nn){var qn=Ft(Nn,2),Yn=qn[0],Zn=qn[1];fn.setMessage(ln).setError(Sn,Yn,Zn).end()}),pn.w("".concat(vt," failed. error:"),Sn),rr(Sn)})}},{key:"_computeResult",value:function(st){var ht=st.complete,vt=ht===void 0?0:ht,It=st.lastMessageTime,kt=st.resultList,Ot={messageList:Ht(kt===void 0?[]:kt),isCompleted:!1,nextMessageTime:""};return vt===1?(Ot.isCompleted=!0,Ot):(Ot.nextMessageTime=It,Ot)}},{key:"_modifyMessageList",value:function(st,ht){var vt=this.getModule(qr).getLocalConversation(st);if(vt)for(var It=vt.userProfile.nick,kt=vt.userProfile.avatar,Ot=this.getModule(Uo).getNickAndAvatarByUserID(this.getMyUserID()),Pt=Ot.nick,qt=Ot.avatar,Wt=ht.length-1;Wt>=0;Wt--){var ln=ht[Wt];ln.flow==="in"&&(ln.nick!==It&&ln.setNickAndAvatar({nick:It}),ln.avatar!==kt&&ln.setNickAndAvatar({avatar:kt})),ln.flow==="out"&&(ln.nick!==Pt&&ln.setNickAndAvatar({nick:Pt}),ln.avatar!==qt&&ln.setNickAndAvatar({avatar:qt}))}}},{key:"getRemotePeerReadTime",value:function(st){var ht=this,vt="".concat(this._n,".getRemotePeerReadTime");if(dr(st))return pn.w("".concat(vt," userIDList is empty!")),Promise.resolve();var It=new xr("getPeerReadTime");return pn.l("".concat(vt," userIDList:").concat(st)),this.request({protocolName:bu,requestData:{userIDList:st}}).then(function(kt){var Ot=kt.data.peerReadTimeList;pn.l("".concat(vt," ok. peerReadTimeList:").concat(Ot));for(var Pt="",qt=ht.getModule(qr),Wt=0;Wt<st.length;Wt++)Pt+="".concat(st[Wt],"-").concat(Ot[Wt]," "),Ot[Wt]>0&&qt.recordPeerReadTime("C2C".concat(st[Wt]),Ot[Wt]);It.setNetworkType(ht.getNetworkType()).setMessage(Pt).end()}).catch(function(kt){ht.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];It.setError(kt,qt,Wt).end()}),pn.w("".concat(vt," failed. error:"),kt)})}},{key:"sendReadReceipt",value:function(st){var ht=this,vt=st[0].conversationID.replace(Ut.CONV_C2C,""),It=new xr("sendC2CReadReceipt");It.setMessage("peerAccount:".concat(vt));var kt=this.getMyUserID(),Ot=st.filter(function(qt){return qt.from!==kt&&qt.needReadReceipt===!0}).map(function(qt){return{fromAccount:qt.from,toAccount:qt.to,sequence:qt.sequence,random:qt.random,time:qt.time,clientTime:qt.clientTime}});if(Ot.length===0)return rr({code:yr.READ_RECEIPT_MESSAGE_LIST_EMPTY});var Pt="".concat(this._n,".sendReadReceipt");return pn.l("".concat(Pt,". peerAccount:").concat(vt," messageInfoList length:").concat(Ot.length)),this.request({protocolName:xo,requestData:{peerAccount:vt,messageInfoList:Ot}}).then(function(qt){return It.end(),pn.l("".concat(Pt," ok")),go()}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];It.setError(qt,fn,Sn).end()}),pn.w("".concat(Pt," failed. error:"),qt),rr(qt)})}},{key:"getReadReceiptList",value:function(st){var ht="".concat(this._n,".getReadReceiptList"),vt=this.getMyUserID(),It=st.filter(function(kt){return kt.from===vt&&kt.needReadReceipt===!0});return pn.l("".concat(ht," userID:").concat(vt," messageList length:").concat(It.length)),Go({messageList:It})}},{key:"getMessageExtensions",value:function(st,ht){return pn.l("".concat(this._n,".getMessageExtensions startSequence:").concat(ht)),this.request({protocolName:wl,requestData:{from:st.from,to:st.to,messageKey:this._getMessageKey(st),startSequence:ht}})}},{key:"modifyMessageExtensions",value:function(st,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return pn.l("".concat(this._n,".modifyMessageExtensions operateType:").concat(vt)),this.request({protocolName:M_,requestData:{from:st.from,to:st.to,messageKey:this._getMessageKey(st),extensionList:ht,operateType:vt}})}},{key:"_getMessageKey",value:function(st){var ht=st.clientSequence,vt=st.random,It=st.time;return"".concat(ht,"_").concat(vt,"_").concat(It)}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._messageFromUnreadDBMap.clear(),this._signalingFromUnreadDBList.length=0}}]),yt}(Os),D_=function(){function Gt(){it(this,Gt),this.list=new Map,this._n="MessageListHandler",this._latestMessageSentByPeerMap=new Map,this._latestMessageSentByMeMap=new Map}return lt(Gt,[{key:"getLocalOldestMessageByConversationID",value:function(dt){if(!dt||!this.list.has(dt))return null;var yt=this.list.get(dt).values();return yt?yt.next().value:null}},{key:"pushIn",value:function(dt){var yt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],st=dt.conversationID,ht=!0;this.list.has(st)||this.list.set(st,new Map);var vt=this._getUniqueIDOfMessage(dt),It=this.list.get(st).has(vt);if(It){var kt=this.list.get(st).get(vt);if(!yt||kt.isModified===!0)return ht=!1}return this.list.get(st).set(vt,dt),this._setLatestMessageSentByPeer(st,dt),this._setLatestMessageSentByMe(st,dt),ht}},{key:"unshift",value:function(dt,yt){var st;if(to(dt)?dt.length>0&&(st=dt[0].conversationID,this._unshiftMultipleMessages(dt,yt)):(st=dt.conversationID,this._unshiftSingleMessage(dt,yt)),st&&st.startsWith(Ut.CONV_C2C)){var ht=Array.from(this.list.get(st).values()),vt=ht.length;if(vt===0)return;for(var It=vt-1;It>=0;It--)if(ht[It].flow==="out"){this._setLatestMessageSentByMe(st,ht[It]);break}for(var kt=vt-1;kt>=0;kt--)if(ht[kt].flow==="in"){this._setLatestMessageSentByPeer(st,ht[kt]);break}}}},{key:"_unshiftSingleMessage",value:function(dt,yt){var st=dt.conversationID,ht=this._getUniqueIDOfMessage(dt);if(!this.list.has(st))return this.list.set(st,new Map),this.list.get(st).set(ht,dt),void yt.push(dt);var vt=this.list.get(st),It=Array.from(vt);vt.has(ht)||(It.unshift([ht,dt]),this.list.set(st,new Map(It)),yt.push(dt))}},{key:"_unshiftMultipleMessages",value:function(dt,yt){for(var st=dt.length,ht=[],vt=dt[0].conversationID,It=this.list.get(vt),kt=this.list.has(vt)?Array.from(It):[],Ot=0;Ot<st;Ot++){var Pt=this._getUniqueIDOfMessage(dt[Ot]);It&&It.has(Pt)||(ht.push([Pt,dt[Ot]]),yt.push(dt[Ot]))}this.list.set(vt,new Map(ht.concat(kt)))}},{key:"remove",value:function(dt){var yt=dt.conversationID,st=this._getUniqueIDOfMessage(dt);this.list.has(yt)&&this.list.get(yt).delete(st)}},{key:"revoke",value:function(dt,yt,st){if(pn.d("revoke message",dt,yt,st),this.list.has(dt)){var ht,vt=Cn(this.list.get(dt));try{for(vt.s();!(ht=vt.n()).done;){var It=Ft(ht.value,2)[1];if(It.sequence===yt&&(vr(st)||It.random===st))return It.isRevoked||(It.isRevoked=!0),It}}catch(kt){vt.e(kt)}finally{vt.f()}}return null}},{key:"removeByConversationID",value:function(dt){this.list.has(dt)&&(this.list.delete(dt),this._latestMessageSentByPeerMap.delete(dt),this._latestMessageSentByMeMap.delete(dt))}},{key:"findMessage",value:function(dt){var yt,st=null,ht=Cn(this.list);try{for(ht.s();!(yt=ht.n()).done;)for(var vt=Ht(Ft(yt.value,2)[1].values()),It=vt.length,kt=0;kt<It;kt++)if(vt[kt].ID===dt){st=vt[kt];break}}catch(Ot){ht.e(Ot)}finally{ht.f()}return st}},{key:"updateMessageIsPeerReadProperty",value:function(dt,yt){var st=[];if(this.list.has(dt)){var ht,vt=Cn(this.list.get(dt));try{for(vt.s();!(ht=vt.n()).done;){var It=Ft(ht.value,2)[1];It.time<=yt&&!It.isPeerRead&&It.flow==="out"&&(It.isPeerRead=!0,st.push(It))}}catch(kt){vt.e(kt)}finally{vt.f()}pn.l("".concat(this._n,".updateMessageIsPeerReadProperty conversationID:").concat(dt," peerReadTime:").concat(yt," count:").concat(st.length))}return st}},{key:"updateMessageIsModifiedProperty",value:function(dt){var yt=dt.conversationID;if(this.list.has(yt)){var st=this._getUniqueIDOfMessage(dt),ht=this.list.get(yt).get(st);ht&&(ht.isModified=!0)}}},{key:"hasLocalMessageList",value:function(dt){return this.list.has(dt)}},{key:"getLocalMessageList",value:function(dt){return this.hasLocalMessageList(dt)?Ht(this.list.get(dt).values()):[]}},{key:"hasLocalMessage",value:function(dt,yt){for(var st=!1,ht=this.getLocalMessageList(dt),vt=ht.length,It=0;It<vt;It++)ht[It].ID===yt&&(st=!0);return st}},{key:"getLocalMessage",value:function(dt,yt){for(var st=null,ht=this.getLocalMessageList(dt),vt=ht.length,It=0;It<vt;It++)if(ht[It].ID===yt){st=ht[It];break}return st}},{key:"getLocalLastMessage",value:function(dt){var yt=this.getLocalMessageList(dt);return yt[yt.length-1]}},{key:"getLocalOldestMessage",value:function(dt){return this.getLocalMessageList(dt)[0]}},{key:"_setLatestMessageSentByPeer",value:function(dt,yt){dt.startsWith(Ut.CONV_C2C)&&yt.flow==="in"&&this._latestMessageSentByPeerMap.set(dt,yt)}},{key:"_setLatestMessageSentByMe",value:function(dt,yt){dt.startsWith(Ut.CONV_C2C)&&yt.flow==="out"&&this._latestMessageSentByMeMap.set(dt,yt)}},{key:"getLatestMessageSentByPeer",value:function(dt){return this._latestMessageSentByPeerMap.get(dt)}},{key:"getLatestMessageSentByMe",value:function(dt){return this._latestMessageSentByMeMap.get(dt)}},{key:"modifyMessageSentByPeer",value:function(dt){var yt=dt.conversationID,st=dt.latestNick,ht=dt.latestAvatar,vt=this.list.get(yt);if(!dr(vt)){var It=Array.from(vt.values()),kt=It.length;if(kt!==0){for(var Ot=null,Pt=0,qt=!1,Wt=kt-1;Wt>=0;Wt--)It[Wt].flow==="in"&&((Ot=It[Wt]).nick!==st&&(Ot.setNickAndAvatar({nick:st}),qt=!0),Ot.avatar!==ht&&(Ot.setNickAndAvatar({avatar:ht}),qt=!0),qt&&(Pt+=1));pn.l("".concat(this._n,".modifyMessageSentByPeer conversationID:").concat(yt," count:").concat(Pt))}}}},{key:"modifyMessageSentByMe",value:function(dt){var yt=dt.conversationID,st=dt.latestNick,ht=dt.latestAvatar,vt=this.list.get(yt);if(!dr(vt)){var It=Array.from(vt.values()),kt=It.length;if(kt!==0){for(var Ot=null,Pt=0,qt=!1,Wt=kt-1;Wt>=0;Wt--)It[Wt].flow==="out"&&((Ot=It[Wt]).nick!==st&&(Ot.setNickAndAvatar({nick:st}),qt=!0),Ot.avatar!==ht&&(Ot.setNickAndAvatar({avatar:ht}),qt=!0),qt&&(Pt+=1));pn.l("".concat(this._n,".modifyMessageSentByMe conversationID:").concat(yt," count:").concat(Pt))}}}},{key:"getTopicConversationIDList",value:function(dt){return Ht(this.list.keys()).filter(function(yt){return yt.startsWith("".concat(Ut.CONV_GROUP).concat(dt))})}},{key:"traversal",value:function(){if(this.list.size!==0&&pn.getLevel()===-1){console.group("conversationID-messageCount");var dt,yt=Cn(this.list);try{for(yt.s();!(dt=yt.n()).done;){var st=Ft(dt.value,2),ht=st[0],vt=st[1];console.log("".concat(ht,"-").concat(vt.size))}}catch(It){yt.e(It)}finally{yt.f()}console.groupEnd()}}},{key:"onMessageModified",value:function(dt,yt){if(!this.list.has(dt))return{isUpdated:!1,message:null};var st=this._getUniqueIDOfMessage(yt),ht=this.list.get(dt).has(st);if(pn.d("".concat(this._n,".onMessageModified conversationID:").concat(dt," uniqueID:").concat(st," has:").concat(ht)),ht){var vt=this.list.get(dt).get(st),It=yt.messageVersion,kt=yt.elements,Ot=yt.cloudCustomData;return vt.version<It?(vt.version=It,vt._elements=JSON.parse(JSON.stringify(kt)),vt.payload=JSON.parse(JSON.stringify(kt[0].content)),vt.type=kt[0].type,vt.cloudCustomData=Ot,vt.isModified=!0,{isUpdated:!0,message:vt}):{isUpdated:!1,message:vt}}return{isUpdated:!1,message:null}}},{key:"_getUniqueIDOfMessage",value:function(dt){var yt=dt.from,st=dt.to,ht=dt.random,vt=dt.sequence,It=dt.time;return"".concat(yt,"-").concat(st,"-").concat(ht,"-").concat(vt,"-").concat(It)}},{key:"reset",value:function(){this.list.clear(),this._latestMessageSentByPeerMap.clear(),this._latestMessageSentByMeMap.clear()}}]),Gt}(),jp="_a2KeyAndTinyIDUpdated",Al="_cloudConfigUpdated",ov="_profileUpdated";function iv(Gt){this.mixin(Gt)}iv.mixin=function(Gt){var dt=Gt.prototype||Gt;dt._isReady=!1,dt.ready=function(yt){var st=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(yt)return this._isReady?void(st?yt.call(this):setTimeout(yt,1)):(this._readyQueue=this._readyQueue||[],void this._readyQueue.push(yt))},dt.triggerReady=function(){var yt=this;this._isReady=!0,setTimeout(function(){var st=yt._readyQueue;yt._readyQueue=[],st&&st.length>0&&st.forEach(function(ht){ht.call(this)},yt)},1)},dt.resetReady=function(){this._isReady=!1,this._readyQueue=[]},dt.isReady=function(){return this._isReady}};var qv=["jpg","jpeg","gif","png","bmp","image","webp"],jm=["mp4","quicktime","mov"],Vv=1,Hv=2,av=3,R_=255,d_=function(){function Gt(dt){var yt=this;it(this,Gt),dr(dt)||(this.userID=dt.userID||"",this.nick=dt.nick||"",this.gender=dt.gender||"",this.birthday=dt.birthday||0,this.location=dt.location||"",this.selfSignature=dt.selfSignature||"",this.allowType=dt.allowType||Ut.ALLOW_TYPE_ALLOW_ANY,this.language=dt.language||0,this.avatar=dt.avatar||"",this.messageSettings=dt.messageSettings||0,this.adminForbidType=dt.adminForbidType||Ut.FORBID_TYPE_NONE,this.level=dt.level||0,this.role=dt.role||0,this.lastUpdatedTime=0,this.profileCustomField=[],dr(dt.profileCustomField)||dt.profileCustomField.forEach(function(st){yt.profileCustomField.push({key:st.key,value:st.value})}))}return lt(Gt,[{key:"validate",value:function(dt){var yt=!0,st="";if(dr(dt))return{valid:!1,tips:"empty options"};if(dt.profileCustomField)for(var ht=dt.profileCustomField.length,vt=null,It=0;It<ht;It++){if(vt=dt.profileCustomField[It],!Po(vt.key)||vt.key.indexOf("Tag_Profile_Custom")===-1)return{valid:!1,tips:"The prefix of keys of the custom profile key-value pairs (which is profileCustomField) must be Tag_Profile_Custom"};if(!Po(vt.value))return{valid:!1,tips:"The type of values of the custom profile key-value pairs (which is profileCustomField) must be String"}}for(var kt in dt)if(Object.prototype.hasOwnProperty.call(dt,kt)){if(kt==="profileCustomField")continue;if(dr(dt[kt])&&!Po(dt[kt])&&!Zo(dt[kt])){st="key:"+kt+", invalid value:"+dt[kt],yt=!1;continue}switch(kt){case"nick":Po(dt[kt])||(st="nick must be a string",yt=!1),ku(dt[kt])>500&&(st="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(ku(dt[kt])," bytes"),yt=!1);break;case"gender":Eu(Wo,dt.gender)||(st="key:gender, invalid value:"+dt.gender,yt=!1);break;case"birthday":Zo(dt.birthday)||(st="birthday must be a number",yt=!1);break;case"location":Po(dt.location)||(st="location must be a string",yt=!1);break;case"selfSignature":Po(dt.selfSignature)||(st="selfSignature must be a string",yt=!1);break;case"allowType":Eu(dp,dt.allowType)||(st="key:allowType, invalid value:"+dt.allowType,yt=!1);break;case"language":Zo(dt.language)||(st="language must be a number",yt=!1);break;case"avatar":Po(dt.avatar)||(st="avatar must be a string",yt=!1);break;case"messageSettings":dt.messageSettings!==0&&dt.messageSettings!==1&&(st="messageSettings must be 0 or 1",yt=!1);break;case"adminForbidType":Eu(dm,dt.adminForbidType)||(st="key:adminForbidType, invalid value:"+dt.adminForbidType,yt=!1);break;case"level":Zo(dt.level)||(st="level must be a number",yt=!1);break;case"role":Zo(dt.role)||(st="role must be a number",yt=!1);break;default:st="unknown key:"+kt+"  "+dt[kt],yt=!1}}return{valid:yt,tips:st}}}]),Gt}(),wu=lt(function Gt(dt){it(this,Gt),this.value=dt,this.next=null}),oo=function(){function Gt(dt){it(this,Gt),this.MAX_LENGTH=dt,this.pTail=null,this.pNodeToDel=null,this.map=new Map}return lt(Gt,[{key:"set",value:function(dt){var yt=new wu(dt);if(this.map.size<this.MAX_LENGTH)this.pTail===null?(this.pTail=yt,this.pNodeToDel=yt):(this.pTail.next=yt,this.pTail=yt),this.map.set(dt,1);else{var st=this.pNodeToDel;this.pNodeToDel=this.pNodeToDel.next,this.map.delete(st.value),st.next=null,st=null,this.pTail.next=yt,this.pTail=yt,this.map.set(dt,1)}}},{key:"has",value:function(dt){return this.map.has(dt)}},{key:"delete",value:function(dt){this.has(dt)&&this.map.delete(dt)}},{key:"tail",value:function(){return this.pTail}},{key:"size",value:function(){return this.map.size}},{key:"data",value:function(){return Array.from(this.map.keys())}},{key:"reset",value:function(){for(var dt;this.pNodeToDel!==null;)dt=this.pNodeToDel,this.pNodeToDel=this.pNodeToDel.next,dt.next=null,dt=null;this.pTail=null,this.map.clear()}}]),Gt}(),ks=["groupID","name","avatar","type","introduction","notification","ownerID","selfInfo","createTime","infoSequence","lastInfoTime","lastMessage","nextMessageSeq","memberNum","maxMemberNum","memberList","joinOption","groupCustomField","muteAllMembers","isSupportTopic","inviteOption","_lastRevokedTime"],Dl=function(){function Gt(dt){it(this,Gt),this.groupID="",this.name="",this.avatar="",this.type="",this.introduction="",this.notification="",this.ownerID="",this.createTime="",this.infoSequence="",this.lastInfoTime="",this.selfInfo={messageRemindType:"",joinTime:"",nameCard:"",role:"",userID:"",memberCustomField:void 0,readedSequence:0,excludedUnreadSequenceList:void 0},this.lastMessage={lastTime:"",lastSequence:"",fromAccount:"",messageForShow:""},this.nextMessageSeq="",this.memberNum="",this.memberCount="",this.maxMemberNum="",this.maxMemberCount="",this.joinOption="",this.inviteOption="",this.groupCustomField=[],this.muteAllMembers=!1,this.isSupportTopic=!1,this._lastRevokedTime=0,this._initGroup(dt)}return lt(Gt,[{key:"memberNum",get:function(){return this.memberCount},set:function(dt){}},{key:"maxMemberNum",get:function(){return this.maxMemberCount},set:function(dt){}},{key:"_initGroup",value:function(dt){for(var yt in dt)ks.indexOf(yt)<0||(yt!=="selfInfo"?(yt==="memberNum"&&(this.memberCount=dt[yt]),yt==="maxMemberNum"&&(this.maxMemberCount=dt[yt]),yt!=="isSupportTopic"?this[yt]=dt[yt]:this.isSupportTopic=dt[yt]===1):this.updateSelfInfo(dt[yt]))}},{key:"updateGroup",value:function(dt){var yt=this;dt.appid=void 0,dt.grossTopicNextMsgSeq=void 0,dt.selfInfo&&(dt.selfInfo.grossTopicReadSeq=void 0);var st=JSON.parse(JSON.stringify(dt));st.lastMsgTime&&(this.lastMessage.lastTime=st.lastMsgTime),vr(st.muteAllMembers)||(st.muteAllMembers==="On"?st.muteAllMembers=!0:st.muteAllMembers=!1),st.groupCustomField&&Ou(this.groupCustomField,st.groupCustomField),vr(st.memberNum)||(this.memberCount=st.memberNum),vr(st.maxMemberNum)||(this.maxMemberCount=st.maxMemberNum),vr(st.isSupportTopic)||(this.isSupportTopic=Zo(st.isSupportTopic)?st.isSupportTopic===1:st.isSupportTopic),fr(this,st,["members","errorCode","lastMsgTime","groupCustomField","memberNum","maxMemberNum","isSupportTopic"]),to(st.members)&&st.members.length>0&&st.members.forEach(function(ht){ht.userID===yt.selfInfo.userID&&fr(yt.selfInfo,ht,["sequence"])})}},{key:"updateSelfInfo",value:function(dt){var yt={nameCard:dt.nameCard,joinTime:dt.joinTime,role:dt.role,messageRemindType:dt.messageRemindType,readedSequence:dt.readedSequence,excludedUnreadSequenceList:dt.excludedUnreadSequenceList};fr(this.selfInfo,rt({},yt),[],["",null,void 0,0,NaN])}},{key:"setSelfNameCard",value:function(dt){this.selfInfo.nameCard=dt}}]),Gt}(),Sy=function(Gt,dt){return vr(Gt)?{lastTime:0,lastSequence:0,fromAccount:0,messageForShow:"",payload:null,type:"",isRevoked:!1,cloudCustomData:"",onlineOnlyFlag:!1,nick:"",nameCard:"",version:0,isPeerRead:!1,revoker:null}:Gt instanceof yu?{lastTime:Gt.time||0,lastSequence:Gt.sequence||0,fromAccount:Gt.from||"",messageForShow:rp(Gt.type,Gt.payload,dt),payload:Gt.payload||null,type:Gt.type||null,isRevoked:Gt.isRevoked||!1,cloudCustomData:Gt.cloudCustomData||"",onlineOnlyFlag:Gt._onlineOnlyFlag||!1,nick:Gt.nick||"",nameCard:Gt.nameCard||"",version:Gt.version||0,isPeerRead:Gt.isPeerRead||!1,revoker:Gt.revoker||null}:rt(rt({},Gt),{},{messageForShow:rp(Gt.type,Gt.payload,dt)})},Io=function(){function Gt(dt,yt){it(this,Gt),this.conversationID=dt.conversationID||"",this.unreadCount=dt.unreadCount||0,this.type=dt.type||"",this.lastMessage=Sy(dt.lastMessage,yt),dt.lastMsgTime&&(this.lastMessage.lastTime=dt.lastMsgTime),this._isInfoCompleted=!1,this.peerReadTime=dt.peerReadTime||0,this.groupAtInfoList=[],this.remark="",this.isPinned=dt.isPinned||!1,this.messageRemindType="",this.markList=dt.markList||[],this.customData=dt.customData||"",this.conversationGroupList=dt.conversationGroupList||[],this._initProfile(dt)}return lt(Gt,[{key:"toAccount",get:function(){return this.conversationID.startsWith(Ut.CONV_C2C)?this.conversationID.replace(Ut.CONV_C2C,""):this.conversationID.startsWith(Ut.CONV_GROUP)?this.conversationID.replace(Ut.CONV_GROUP,""):""}},{key:"subType",get:function(){return this.groupProfile?this.groupProfile.type:""}},{key:"_initProfile",value:function(dt){var yt=this;Object.keys(dt).forEach(function(st){switch(st){case"userProfile":yt.userProfile=dt.userProfile;break;case"groupProfile":yt.groupProfile=dt.groupProfile}}),vr(this.userProfile)&&this.type===Ut.CONV_C2C?this.userProfile=new d_({userID:dt.conversationID.replace("C2C","")}):vr(this.groupProfile)&&this.type===Ut.CONV_GROUP&&(this.groupProfile=new Dl({groupID:dt.conversationID.replace("GROUP","")}))}},{key:"updateUnreadCount",value:function(dt){var yt=dt.nextUnreadCount,st=dt.isFromGetConversations,ht=dt.isUnreadC2CMessage;vr(yt)||(cu(this.subType)?this.unreadCount=0:st&&this.type===Ut.CONV_GROUP||st&&this.type===Ut.CONV_TOPIC||ht&&this.type===Ut.CONV_C2C?this.unreadCount=yt:this.unreadCount=this.unreadCount+yt)}},{key:"updateLastMessage",value:function(dt){this.lastMessage=Sy(dt)}},{key:"updateGroupAtInfoList",value:function(dt){if(!this._isNeedMergeGroupAtInfo(dt)){var yt,st=(Qt(yt=dt.groupAtType)||_n(yt)||hn(yt)||kn()).slice(0);st.indexOf(Ut.CONV_AT_ME)!==-1&&st.indexOf(Ut.CONV_AT_ALL)!==-1&&(st=[Ut.CONV_AT_ALL_AT_ME]);var ht={from:dt.from,groupID:dt.groupID,topicID:dt.topicID,messageSequence:dt.sequence,atTypeArray:st,__random:dt.__random,__sequence:dt.__sequence};this.groupAtInfoList.push(ht)}}},{key:"_isNeedMergeGroupAtInfo",value:function(dt){var yt=dt.groupID,st=dt.sequence;if(!Vs({groupID:yt}))return!1;var ht=!1;return this.groupAtInfoList.forEach(function(vt){vt.messageSequence===st&&(vt.atTypeArray.indexOf(Ut.CONV_AT_ME)>-1&&dt.groupAtType.indexOf(Ut.CONV_AT_ALL)>-1&&(vt.atTypeArray=[Ut.CONV_AT_ALL_AT_ME]),vt.atTypeArray.indexOf(Ut.CONV_AT_ALL)>-1&&dt.groupAtType.indexOf(Ut.CONV_AT_ME)>-1&&(vt.atTypeArray=[Ut.CONV_AT_ALL_AT_ME],vt.__random=dt.__random,vt.__sequence=dt.__sequence),ht=!0)}),ht}},{key:"clearGroupAtInfoList",value:function(){this.groupAtInfoList.length=0}},{key:"reduceUnreadCount",value:function(){return this.unreadCount>=1&&(this.unreadCount-=1,!0)}},{key:"isLastMessageRevoked",value:function(dt){var yt=dt.sequence,st=dt.time;return this.type===Ut.CONV_C2C&&yt===this.lastMessage.lastSequence&&st===this.lastMessage.lastTime||this.type===Ut.CONV_GROUP&&yt===this.lastMessage.lastSequence}},{key:"setLastMessageRevoked",value:function(dt){this.lastMessage.isRevoked=dt}},{key:"setLastMessageRevoker",value:function(dt){this.lastMessage.revoker=dt}}]),Gt}(),Xn=function(){function Gt(dt){it(this,Gt),this._conversationModule=dt,this._n="MessageRemindHandler",this._updateSequence=0}return lt(Gt,[{key:"getC2CMessageRemindType",value:function(){var dt=this,yt="".concat(this._n,".getC2CMessageRemindType");return this._conversationModule.request({protocolName:_a,updateSequence:this._updateSequence}).then(function(st){pn.l("".concat(yt," ok"));var ht=st.data,vt=ht.updateSequence,It=ht.muteFlagList;dt._updateSequence=vt,dt._patchC2CMessageRemindType(It)}).catch(function(st){pn.e("".concat(yt," failed. error:"),st)})}},{key:"_patchC2CMessageRemindType",value:function(dt){var yt=this,st=0,ht="";to(dt)&&dt.length>0&&dt.forEach(function(vt){var It=vt.userID,kt=vt.muteFlag;kt===0?ht=Ut.MSG_REMIND_ACPT_AND_NOTE:kt===1?ht=Ut.MSG_REMIND_DISCARD:kt===2&&(ht=Ut.MSG_REMIND_ACPT_NOT_NOTE),yt._conversationModule.patchMessageRemindType({ID:It,isC2CConversation:!0,messageRemindType:ht})===!0&&(st+=1)}),pn.l("".concat(this._n,"._patchC2CMessageRemindType count:").concat(st))}},{key:"set",value:function(dt){return dt.groupID?this._setGroupMessageRemindType(dt):to(dt.userIDList)?this._setC2CMessageRemindType(dt):void 0}},{key:"_setGroupMessageRemindType",value:function(dt){var yt=this,st="".concat(this._n,"._setGroupMessageRemindType"),ht=dt.groupID,vt=dt.messageRemindType,It="groupID:".concat(ht," messageRemindType:").concat(vt),kt=new xr("setMessageRemindType");return kt.setMessage(It),this._getModule(ba).modifyGroupMemberInfo({groupID:ht,messageRemindType:vt,userID:this._conversationModule.getMyUserID()}).then(function(){kt.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok. ").concat(It));var Ot=yt.onGroupMessageRemindTypeUpdated(dt);return yt._conversationModule.emitTotalUnreadMessageCountUpdate(),go(Ot)}).catch(function(Ot){return yt._conversationModule.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),pn.e("".concat(st," failed. error:"),Ot),rr(Ot)})}},{key:"onGroupMessageRemindTypeUpdated",value:function(dt){var yt=dt.groupID,st=dt.messageRemindType,ht=this._getModule(So).getLocalGroupProfile(yt);if(ht&&(ht.selfInfo.messageRemindType=st),ps(yt)){var vt=yt,It=tu(vt),kt=this._getModule(ys).getLocalTopic(It,vt);return kt&&(kt.updateSelfInfo({messageRemindType:st}),this._conversationModule.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:It,topic:kt})),{topic:kt}}return this._conversationModule.patchMessageRemindType({ID:yt,isC2CConversation:!1,messageRemindType:st})&&this._emitConversationUpdate(),{group:ht}}},{key:"_setC2CMessageRemindType",value:function(dt){var yt=this,st="".concat(this._n,"._setC2CMessageRemindType"),ht=dt.userIDList,vt=dt.messageRemindType,It=ht.slice(0,30),kt=0;vt===Ut.MSG_REMIND_DISCARD?kt=1:vt===Ut.MSG_REMIND_ACPT_NOT_NOTE&&(kt=2);var Ot="userIDList:".concat(It," messageRemindType:").concat(vt),Pt=new xr("setMessageRemindType");return Pt.setMessage(Ot),this._conversationModule.request({protocolName:Co,requestData:{userIDList:It,muteFlag:kt}}).then(function(qt){Pt.setNetworkType(yt._conversationModule.getNetworkType()).end();var Wt=qt.data,ln=Wt.updateSequence,fn=Wt.errorList;yt._updateSequence=ln;var Sn=[],Nn=[];to(fn)&&fn.forEach(function(Zn){Sn.push(Zn.userID),Nn.push({userID:Zn.userID,code:Zn.errorCode})});var qn=It.filter(function(Zn){return Sn.indexOf(Zn)===-1});pn.l("".concat(st," ok. successUserIDList:").concat(qn," failureUserIDList:").concat(JSON.stringify(Nn)));var Yn=0;return qn.forEach(function(Zn){yt._conversationModule.patchMessageRemindType({ID:Zn,isC2CConversation:!0,messageRemindType:vt})&&(Yn+=1)}),Yn>=1&&yt._emitConversationUpdate(),It.length=Sn.length=0,yt._conversationModule.emitTotalUnreadMessageCountUpdate(),Go({successUserIDList:qn.map(function(Zn){return{userID:Zn}}),failureUserIDList:Nn})}).catch(function(qt){return yt._conversationModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];Pt.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"_getModule",value:function(dt){return this._conversationModule.getModule(dt)}},{key:"_emitConversationUpdate",value:function(){this._conversationModule.emitConversationUpdate(!0,!1)}},{key:"setUpdateSequence",value:function(dt){this._updateSequence=dt}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._updateSequence=0}}]),Gt}(),Iy=function(){function Gt(dt){it(this,Gt),this._conversationModule=dt,this._n="ConvGroupHandler",this._convGroupMap=new Map,this._startIndex=0,this._pagingStatus=Ds.NOT_START}return lt(Gt,[{key:"setConvCustomData",value:function(dt){var yt=this,st="".concat(this._n,".").concat("setConvCustomData"),ht=dt.conversationIDList,vt=dt.customData;pn.l("".concat(st," options:"),dt);var It=new xr("setConvCustomData");It.setMessage(JSON.stringify(dt));var kt={fromAccount:this._getMyUserID(),itemList:[]},Ot=[],Pt=[];return ht.forEach(function(qt){if(!yt._hasLocalConversation(qt))return yt._onConversationNotFound(Pt,qt),!0;if(!gu(qt)&&!Au(qt))return yt._onConversationIDInvalid(Pt,qt),!0;var Wt={operationType:2,contactItem:void 0,customMark:vt};gu(qt)?Wt.contactItem={type:1,toAccount:qt.replace(Ut.CONV_C2C,"")}:Au(qt)&&(Wt.contactItem={type:2,groupID:qt.replace(Ut.CONV_GROUP,"")}),kt.itemList.push(Wt)}),Pt.length===ht.length?Go({successConversationIDList:Ot,failureConversationIDList:Pt}):this._conversationModule.request({protocolName:E_,requestData:kt}).then(function(qt){It.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var Wt=qt.data.resultItem;if(to(Wt)){var ln,fn,Sn=!1;Wt.forEach(function(Nn){ln=yt._concatConversationID(Nn.contactItem),Nn.resultCode===0?(Ot.push(ln),(fn=yt._getLocalConversation(ln))&&fn.customData!==vt&&(fn.customData=vt,Sn=!0)):Pt.push({conversationID:ln,code:Nn.resultCode,message:Nn.resultInfo})}),Sn===!0&&yt._emitConversationUpdate()}return go({successConversationIDList:Ot,failureConversationIDList:Pt})}).catch(function(qt){return yt._conversationModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];It.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"markConversation",value:function(dt){var yt=this;if(!this._conversationModule.canIUse(hr.CONV_MARK))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".").concat("markConversation"),ht=dt.conversationIDList,vt=dt.markType,It=dt.enableMark;pn.l("".concat(st," options:"),dt);var kt=new xr("markConversation");kt.setMessage(JSON.stringify(dt));var Ot=void 0,Pt=void 0,qt=this._getFlagBit(vt);It===!0?Pt=[qt]:Ot=[qt];var Wt={fromAccount:this._getMyUserID(),itemList:[]},ln=[],fn=[];return ht.forEach(function(Sn){if(!yt._hasLocalConversation(Sn))return yt._onConversationNotFound(fn,Sn),!0;if(!gu(Sn)&&!Au(Sn))return yt._onConversationIDInvalid(fn,Sn),!0;var Nn={operationType:1,contactItem:void 0,clearMark:Ot,setMark:Pt};gu(Sn)?Nn.contactItem={type:1,toAccount:Sn.replace(Ut.CONV_C2C,"")}:Au(Sn)&&(Nn.contactItem={type:2,groupID:Sn.replace(Ut.CONV_GROUP,"")}),Wt.itemList.push(Nn)}),fn.length===ht.length?Go({successConversationIDList:ln,failureConversationIDList:fn}):this._conversationModule.request({protocolName:r_,requestData:Wt}).then(function(Sn){kt.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var Nn=Sn.data.resultItem;if(to(Nn)){var qn,Yn,Zn=!1;Nn.forEach(function(or){if(qn=yt._concatConversationID(or.contactItem),or.resultCode===0){if(ln.push(qn),Yn=yt._getLocalConversation(qn)){var Sr=Yn.markList.indexOf(vt);It===!0?Sr===-1&&(Yn.markList.push(vt),Zn=!0):Sr!==-1&&(Yn.markList.splice(Sr,1),Zn=!0)}}else fn.push({conversationID:qn,code:or.resultCode,message:or.resultInfo})}),Zn===!0&&yt._emitConversationUpdate()}return go({successConversationIDList:ln,failureConversationIDList:fn})}).catch(function(Sn){return yt._conversationModule.probeNetwork().then(function(Nn){var qn=Ft(Nn,2),Yn=qn[0],Zn=qn[1];kt.setError(Sn,Yn,Zn).end()}),pn.e("".concat(st," failed. error:"),Sn),rr(Sn)})}},{key:"getLocalConvGroupList",value:function(){var dt=this;return pn.l("".concat(this._n,".getLocalConvGroupList pagingStatus:").concat(this._pagingStatus)),this._pagingStatus===Ds.REJECTED?this.getRemoteConvGroupList().then(function(){return go(Ht(dt._convGroupMap.values()))}):Go(Ht(this._convGroupMap.values()))}},{key:"getRemoteConvGroupList",value:function(){var dt=this,yt="".concat(this._n,".getRemoteConvGroupList");return this._pagingStatus=Ds.PENDING,this._conversationModule.request({protocolName:ip,requestData:{fromAccount:this._getMyUserID(),startIndex:this._startIndex,startTime:ds()}}).then(function(st){var ht,vt,It=st.data,kt=It.completeFlag,Ot=It.contactItem,Pt=It.nextStartIndex,qt=Pt===void 0?0:Pt,Wt=It.groupItem;if(dt._startIndex=qt,pn.l("".concat(yt," completeFlag:").concat(kt," nextStartIndex:").concat(qt)),to(Wt)&&Wt.forEach(function(ln){var fn=ln.convGroupID,Sn=ln.groupName;dt._convGroupMap.set(fn,Sn)}),to(Ot)&&Ot.forEach(function(ln){var fn=ln.standardMark,Sn=ln.customData,Nn=ln.convGroupIDList;if(ht=dt._concatConversationID(ln),(vt=dt._getLocalConversation(ht))&&(vt.markList=ju(fn),vt.customData=Sn||"",to(Nn))){var qn=[];Nn.forEach(function(Yn){dt._convGroupMap.has(Yn)&&qn.push(dt._convGroupMap.get(Yn))}),vt.conversationGroupList=[].concat(qn),qn.length=0}}),kt===0)return dt.getRemoteConvGroupList();kt===1&&(dt._pagingStatus=Ds.RESOLVED,dt._emitConversationUpdate(),dt._emitConvGroupListUpdate())}).catch(function(st){dt._pagingStatus=Ds.REJECTED,pn.w("".concat(yt," failed. error:"),st)})}},{key:"createConvGroup",value:function(dt){var yt=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".").concat("createConvGroup");pn.l("".concat(st," options:"),dt);var ht=new xr("createConvGroup");ht.setMessage(JSON.stringify(dt));var vt=dt.groupName,It=dt.conversationIDList,kt={fromAccount:this._getMyUserID(),itemList:[{groupName:vt,contactItem:[]}]},Ot=[],Pt=[];return It.forEach(function(qt){return yt._hasLocalConversation(qt)?gu(qt)||Au(qt)?void(gu(qt)?kt.itemList[0].contactItem.push({type:1,toAccount:qt.replace(Ut.CONV_C2C,"")}):Au(qt)&&kt.itemList[0].contactItem.push({type:2,groupID:qt.replace(Ut.CONV_GROUP,"")})):(yt._onConversationIDInvalid(Pt,qt),!0):(yt._onConversationNotFound(Pt,qt),!0)}),Pt.length===It.length?Go({successConversationIDList:Ot,failureConversationIDList:Pt}):this._conversationModule.request({protocolName:mm,requestData:kt}).then(function(qt){ht.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var Wt=qt.data.groupResultItem[0],ln=Wt.groupItem,fn=Wt.resultItem;if(as(ln)&&(yt._convGroupMap.set(ln.convGroupID,ln.groupName),yt._emitConvGroupListUpdate()),to(fn)){var Sn,Nn,qn=!1;fn.forEach(function(Yn){Sn=yt._concatConversationID(Yn.contactItem),Yn.resultCode===0?(Ot.push(Sn),(Nn=yt._getLocalConversation(Sn))&&Nn.conversationGroupList.indexOf(vt)===-1&&(Nn.conversationGroupList.push(vt),qn=!0)):Pt.push({conversationID:Sn,code:Yn.resultCode,message:Yn.resultInfo})}),qn===!0&&(yt._emitConversationUpdate(),yt._emitConvGroupListUpdate())}return go({successConversationIDList:Ot,failureConversationIDList:Pt})}).catch(function(qt){return yt._conversationModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];ht.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"deleteConvGroup",value:function(dt){var yt=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".").concat("deleteConvGroup");pn.l("".concat(st," groupName:").concat(dt));var ht=new xr("deleteConvGroup");return ht.setMessage(dt),this._conversationModule.request({protocolName:Lm,requestData:{fromAccount:this._getMyUserID(),groupName:[dt]}}).then(function(vt){ht.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var It=vt.data.groupItem;if(to(It)){var kt=!1;It.forEach(function(Ot){yt._convGroupMap.has(Ot.convGroupID)&&(yt._convGroupMap.delete(Ot.convGroupID),kt=!0)}),kt===!0&&yt._emitConvGroupListUpdate()}yt._eraseFromConversationGroupList([dt])}).catch(function(vt){return yt._conversationModule.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];ht.setError(vt,Ot,Pt).end()}),pn.e("".concat(st," failed. error:"),vt),rr(vt)})}},{key:"renameConvGroup",value:function(dt){var yt=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".").concat("renameConvGroup");pn.l("".concat(st," options:"),dt);var ht=new xr("renameConvGroup");ht.setMessage(JSON.stringify(dt));var vt=dt.oldName,It=dt.newName;return this._conversationModule.request({protocolName:Zp,requestData:{fromAccount:this._getMyUserID(),updateType:1,updateGroup:{updateGroupType:1,oldName:vt,newName:It}}}).then(function(kt){ht.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var Ot=kt.data.updateGroupResult.convGroupID;yt._convGroupMap.set(Ot,It),yt._emitConvGroupListUpdate();var Pt,qt,Wt=yt._conversationModule.getLocalConversationList(),ln=!1;Wt.forEach(function(fn){Pt=fn.conversationGroupList,(qt=Pt.indexOf(vt))!==-1&&(Pt.splice(qt,1,It),ln=!0)}),ln===!0&&yt._emitConversationUpdate()}).catch(function(kt){return yt._conversationModule.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];ht.setError(kt,qt,Wt).end()}),pn.e("".concat(st," failed. error:"),kt),rr(kt)})}},{key:"addConvsToGroup",value:function(dt){var yt=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".").concat("addConvsToGroup");pn.l("".concat(st," options:"),dt);var ht=new xr("addConvsToGroup");ht.setMessage(JSON.stringify(dt));var vt=dt.conversationIDList,It=dt.groupName,kt={fromAccount:this._getMyUserID(),updateType:1,updateGroup:{updateGroupType:2,groupName:It,updateItem:[]}},Ot=[],Pt=[];return vt.forEach(function(qt){return yt._hasLocalConversation(qt)?gu(qt)||Au(qt)?void(gu(qt)?kt.updateGroup.updateItem.push({operationType:1,contactItem:{type:1,toAccount:qt.replace(Ut.CONV_C2C,"")}}):Au(qt)&&kt.updateGroup.updateItem.push({operationType:1,contactItem:{type:2,groupID:qt.replace(Ut.CONV_GROUP,"")}})):(yt._onConversationIDInvalid(Pt,qt),!0):(yt._onConversationNotFound(Pt,qt),!0)}),Pt.length===vt.length?Go({successConversationIDList:Ot,failureConversationIDList:Pt}):this._conversationModule.request({protocolName:o_,requestData:kt}).then(function(qt){ht.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var Wt=qt.data.updateGroupResult.contactResultItem;if(to(Wt)){var ln,fn,Sn=!1;Wt.forEach(function(Nn){ln=yt._concatConversationID(Nn.contactItem),Nn.resultCode===0?(fn=yt._getLocalConversation(ln))&&fn.conversationGroupList.indexOf(It)===-1&&(fn.conversationGroupList.push(It),Ot.push(ln),Sn=!0):Pt.push({conversationID:ln,code:Nn.resultCode,message:Nn.resultInfo})}),Sn===!0&&(yt._emitConversationUpdate(),yt._emitConvInGroupUpdate(It))}return go({successConversationIDList:Ot,failureConversationIDList:Pt})}).catch(function(qt){return yt._conversationModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];ht.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"deleteConvsFromGroup",value:function(dt){var yt=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".").concat("deleteConvsFromGroup");pn.l("".concat(st," options:"),dt);var ht=new xr("deleteConvsFromGroup");ht.setMessage(JSON.stringify(dt));var vt=dt.conversationIDList,It=dt.groupName,kt={fromAccount:this._getMyUserID(),updateType:1,updateGroup:{updateGroupType:2,groupName:It,updateItem:[]}},Ot=[],Pt=[];return vt.forEach(function(qt){return yt._hasLocalConversation(qt)?gu(qt)||Au(qt)?void(gu(qt)?kt.updateGroup.updateItem.push({operationType:2,contactItem:{type:1,toAccount:qt.replace(Ut.CONV_C2C,"")}}):Au(qt)&&kt.updateGroup.updateItem.push({operationType:2,contactItem:{type:2,groupID:qt.replace(Ut.CONV_GROUP,"")}})):(yt._onConversationIDInvalid(Pt,qt),!0):(yt._onConversationNotFound(Pt,qt),!0)}),Pt.length===vt.length?Go({successConversationIDList:Ot,failureConversationIDList:Pt}):this._conversationModule.request({protocolName:_m,requestData:kt}).then(function(qt){ht.setNetworkType(yt._conversationModule.getNetworkType()).end(),pn.l("".concat(st," ok"));var Wt=qt.data.updateGroupResult.contactResultItem;if(to(Wt)){var ln,fn,Sn=!1;Wt.forEach(function(Nn){if(ln=yt._concatConversationID(Nn.contactItem),Nn.resultCode===0){if(fn=yt._getLocalConversation(ln)){var qn=fn.conversationGroupList.indexOf(It);qn!==-1&&(fn.conversationGroupList.splice(qn,1),Ot.push(ln),Sn=!0)}}else Pt.push({conversationID:ln,code:Nn.resultCode,message:Nn.resultInfo})}),Sn===!0&&(yt._emitConversationUpdate(),yt._emitConvInGroupUpdate(It))}return go({successConversationIDList:Ot,failureConversationIDList:Pt})}).catch(function(qt){return yt._conversationModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];ht.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"onConvMarkUpdated",value:function(dt){var yt=this;if(!dr(dt)){var st,ht;pn.d("".concat(this._n,".onConvMarkUpdated markItemList:"),dt);var vt=!1;dt.forEach(function(It){var kt=It.recentContactItem,Ot=It.optType,Pt=It.standardMark,qt=It.customMark;if(st=yt._concatConversationID(kt),ht=yt._getLocalConversation(st))if(Ot===1){var Wt=ju(Pt);(function(ln,fn){if(ln===fn)return!0;if(!ln||!fn||ln.length!==fn.length)return!1;for(var Sn=0,Nn=ln.length;Sn<Nn;Sn++)if(ln[Sn]!==fn[Sn])return!1;return!0})(ht.markList,Wt)!==!0&&(ht.markList=Wt,vt=!0)}else Ot===2&&ht.customData!==qt&&qt!==void 0&&(ht.customData=qt,vt=!0)}),vt===!0&&this._emitConversationUpdate()}}},{key:"onConvGroupCreated",value:function(dt){var yt=this;pn.d("".concat(this._n,".onConvGroupCreated resultList:"),dt);var st=!1,ht=!1;to(dt)&&(dt.forEach(function(vt){var It=vt.msgGroupItem,kt=It.groupID,Ot=It.groupName;yt._convGroupMap.get(kt)!==Ot&&(yt._convGroupMap.set(kt,Ot),ht=!0);var Pt,qt,Wt=vt.msgRecentContactItem;to(Wt)&&Wt.forEach(function(ln){Pt=yt._concatConversationID(ln),(qt=yt._getLocalConversation(Pt))&&qt.conversationGroupList.indexOf(Ot)===-1&&(qt.conversationGroupList.push(Ot),st=!0)})}),st===!0&&this._emitConversationUpdate(),ht===!0&&this._emitConvGroupListUpdate())}},{key:"onConvGroupDeleted",value:function(dt){var yt=this;pn.d("".concat(this._n,".onConvGroupDeleted groupItemList:"),dt);var st=[];if(to(dt)){var ht=!1;dt.forEach(function(vt){var It=vt.groupID,kt=vt.groupName;yt._convGroupMap.has(It)&&(yt._convGroupMap.delete(It),ht=!0,st.push(kt))}),ht===!0&&this._emitConvGroupListUpdate()}this._eraseFromConversationGroupList(st)}},{key:"_eraseFromConversationGroupList",value:function(dt){dr(dt)||(this._conversationModule.getLocalConversationList().forEach(function(yt){yt.conversationGroupList=yt.conversationGroupList.filter(function(st){return!dt.includes(st)})}),this._emitConversationUpdate())}},{key:"onConvGroupNameUpdated",value:function(dt){pn.d("".concat(this._n,".onConvGroupNameUpdated options:"),dt);var yt=dt.groupID,st=dt.groupName,ht=dt.oldGroupName;if(this._convGroupMap.get(yt)!==st){this._convGroupMap.set(yt,st),this._emitConvGroupListUpdate();var vt,It,kt=this._conversationModule.getLocalConversationList(),Ot=!1;kt.forEach(function(Pt){vt=Pt.conversationGroupList,(It=vt.indexOf(ht))!==-1&&(vt.splice(It,1,st),Ot=!0)}),Ot===!0&&this._emitConversationUpdate()}}},{key:"onConvInGroupUpdated",value:function(dt){var yt=this;pn.d("".concat(this._n,".onConvInGroupUpdated options:"),dt);var st=dt.oldGroupName,ht=dt.recentContactUpdateGroupItem;if(to(ht)){var vt,It,kt,Ot=!1;ht.forEach(function(Pt){var qt=Pt.contactOptType,Wt=Pt.recentContactItem;vt=yt._concatConversationID(Wt),(It=yt._getLocalConversation(vt))&&(kt=It.conversationGroupList.indexOf(st),qt===1?kt===-1&&(It.conversationGroupList.push(st),Ot=!0):qt===2&&kt!==-1&&(It.conversationGroupList.splice(kt,1),Ot=!0))}),Ot===!0&&(this._emitConversationUpdate(),this._emitConvInGroupUpdate(st))}}},{key:"onConvAddedToOrDeletedFromGroup",value:function(dt){var yt=this;pn.d("".concat(this._n,".onConvAddedToOrDeletedFromGroup options:"),dt);var st=dt.msgRecentContactItem,ht=dt.msgRecentContactUpdateContactItem,vt=this._concatConversationID(st),It=this._getLocalConversation(vt);if(It&&to(ht)){var kt,Ot=!1;ht.forEach(function(Pt){var qt=Pt.groupOptType,Wt=Pt.recentContactGroupItem.groupName;kt=It.conversationGroupList.indexOf(Wt),qt===1?kt===-1&&(It.conversationGroupList.push(Wt),Ot=!0):qt===2&&kt!==-1&&(It.conversationGroupList.splice(kt,1),Ot=!0),Ot===!0&&yt._emitConvInGroupUpdate(Wt)}),Ot===!0&&this._emitConversationUpdate()}}},{key:"onConvGroupListSynced",value:function(dt){var yt=this;to(dt)&&dt.length!==0&&(pn.l("".concat(this._n,".onConvGroupListSynced groupItemList:"),dt),dt.forEach(function(st){yt._convGroupMap.set(st.convGroupID,st.groupName)}))}},{key:"getConvGroupListByID",value:function(dt){var yt=this;if(!dr(dt)){var st=[];return dt.forEach(function(ht){yt._convGroupMap.has(ht)&&st.push(yt._convGroupMap.get(ht))}),st}}},{key:"_onConversationNotFound",value:function(dt,yt){dt.push({conversationID:yt,code:yr.CONVERSATION_NOT_FOUND,message:this._conversationModule.getErrorMessage(yr.CONVERSATION_NOT_FOUND)})}},{key:"_onConversationIDInvalid",value:function(dt,yt){dt.push({conversationID:yt,code:yr.INVALID_CONVERSATION_ID,message:this._conversationModule.getErrorMessage(yr.INVALID_CONVERSATION_ID)})}},{key:"_getFlagBit",value:function(dt){for(var yt=dt.toString(2),st=yt.length,ht=st-1;ht>=0;ht--)if(yt[ht]==="1")return st-ht-1}},{key:"_concatConversationID",value:function(dt){var yt,st=dt.type,ht=dt.to,vt=dt.groupID,It=dt.userID;return st===1?vr(It)?vr(ht)||(yt="".concat(Ut.CONV_C2C).concat(ht)):yt="".concat(Ut.CONV_C2C).concat(It):st===2&&(yt="".concat(Ut.CONV_GROUP).concat(vt)),yt}},{key:"_getMyUserID",value:function(){return this._conversationModule.getMyUserID()}},{key:"_insertConversationGroup",value:function(dt,yt){var st=this._getLocalConversation(dt);if(st){var ht=st.conversationGroupList;ht.indexOf(yt)===-1&&ht.push(yt)}}},{key:"_getLocalConversation",value:function(dt){return this._conversationModule.getLocalConversation(dt)}},{key:"_hasLocalConversation",value:function(dt){return this._conversationModule.hasLocalConversation(dt)}},{key:"_emitConversationUpdate",value:function(){this._conversationModule.emitConversationUpdate(!0,!1)}},{key:"_emitConvGroupListUpdate",value:function(){this._conversationModule.emitOuterEvent(yn.CONVERSATION_GROUP_LIST_UPDATED,Ht(this._convGroupMap.values()))}},{key:"_emitConvInGroupUpdate",value:function(dt){var yt={groupName:dt,conversationList:[]},st=this._conversationModule.getLocalConversationList();yt.conversationList=st.filter(function(ht){return ht.conversationGroupList.includes(dt)}),this._conversationModule.emitOuterEvent(yn.CONVERSATION_IN_GROUP_UPDATED,yt)}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._convGroupMap.clear(),this._startIndex=0,this._pagingStatus=Ds.NOT_START}}]),Gt}(),ky=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="ConversationModule",iv.mixin(Bt(ht)),ht._messageListHandler=new D_,ht._messageRemindHandler=new Xn(Bt(ht)),ht._convGroupHandler=new Iy(Bt(ht)),ht.singlyLinkedList=new oo(100),ht._pagingStatus=Ds.NOT_START,ht._pagingTimeStamp=0,ht._pagingStartIndex=0,ht._pagingPinnedTimeStamp=0,ht._pagingPinnedStartIndex=0,ht._pagingConvIDMap=new Map,ht._convIDFromUnreadDBMap=new Map,ht._conversationMap=new Map,ht._tmpGroupList=[],ht._tmpGroupAtTipsList=[],ht._peerReadTimeMap=new Map,ht._completedMap=new Map,ht._roamingMessageKeyAndTimeMap=new Map,ht._roamingMessageSequenceMap=new Map,ht._remoteGroupReadSequenceMap=new Map,ht._convTotalUnreadCount=0,ht._pagingGetCostList=[],ht._initListeners(),ht}return lt(yt,[{key:"_initListeners",value:function(){var st=this.getInnerEmitterInstance();st.on(jp,this._initLocalConversationList,this),st.on(ov,this._onProfileUpdated,this)}},{key:"onCheckTimer",value:function(st){st%60==0&&this._messageListHandler.traversal()}},{key:"_initLocalConversationList",value:function(){var st=this,ht=new xr("_initLocalConversationList");pn.l("".concat(this._n,".").concat("_initLocalConversationList"));var vt="",It=this._getStorageConversationList(),kt=this.isIntl();if(It){for(var Ot=It.length,Pt=0;Pt<Ot;Pt++){var qt=It[Pt];if(qt){if(qt.conversationID==="".concat(Ut.CONV_C2C,"@TLS#ERROR")||qt.conversationID==="".concat(Ut.CONV_C2C,"@TLS#NOT_FOUND"))continue;if(qt.groupProfile){var Wt=qt.groupProfile.type;if(cu(Wt))continue}}this._conversationMap.set(It[Pt].conversationID,new Io(It[Pt],kt))}this.emitConversationUpdate(!0,!1),vt="count:".concat(Ot)}else vt="count:0";ht.setNetworkType(this.getNetworkType()).setMessage(vt).end(),this.getModule(Ws)||this.triggerReady(),this.ready(function(){st._tmpGroupList.length>0&&(st.updateConversationGroupProfile(st._tmpGroupList),st._tmpGroupList.length=0)}),this.syncConversationList()}},{key:"onMessageSent",value:function(st){this._onSendOrReceiveMessage({conversationOptionsList:st.conversationOptionsList,isInstantMessage:!0})}},{key:"onNewMessage",value:function(st){this._onSendOrReceiveMessage(st)}},{key:"_onSendOrReceiveMessage",value:function(st){var ht=this,vt=st.conversationOptionsList,It=st.isInstantMessage,kt=It===void 0||It,Ot=st.isUnreadC2CMessage,Pt=Ot!==void 0&&Ot,qt=st.updateUnreadCount,Wt=qt===void 0||qt;this._isReady?vt.length!==0&&(this._getC2CPeerReadTime(vt),this._updateLocalConversationList({conversationOptionsList:vt,isInstantMessage:kt,isUnreadC2CMessage:Pt,isFromGetConversations:!1,updateUnreadCount:Wt}),kt||(this._convIDFromUnreadDBMap=new Map([].concat(Ht(this._convIDFromUnreadDBMap),Ht(vt.map(function(ln){return[ln.conversationID,1]})))),this._diffAndDeleteConversation()),this._setStorageConversationList(),vt.filter(function(ln){return ln.type===Ut.CONV_TOPIC}).length>0||this.emitConversationUpdate()):this.ready(function(){ht._onSendOrReceiveMessage(st)})}},{key:"updateConversationGroupProfile",value:function(st){var ht=this;if(!to(st)||st.length!==0)if(this._conversationMap.size!==0){var vt=!1;st.forEach(function(It){var kt="GROUP".concat(It.groupID);if(ht._conversationMap.has(kt)){vt=!0;var Ot=ht._conversationMap.get(kt);Ot.groupProfile=JSON.parse(JSON.stringify(It)),Ot.lastMessage.lastSequence<It.nextMessageSeq&&(Ot.lastMessage.lastSequence=It.nextMessageSeq-1),Ot.subType||(Ot.subType=It.type)}}),vt&&this.emitConversationUpdate(!0,!1)}else this._tmpGroupList=st}},{key:"_updateConversationUserProfile",value:function(st){var ht=this;st.data.forEach(function(vt){var It="C2C".concat(vt.userID);ht._conversationMap.has(It)&&(ht._conversationMap.get(It).userProfile=vt)}),this.emitConversationUpdate(!0,!1)}},{key:"onMessageRevoked",value:function(st){var ht=this;if(st.length!==0){var vt=null,It=!1,kt=[];st.forEach(function(Ot){(vt=ht._conversationMap.get(Ot.conversationID))&&(vt.type===Ut.CONV_TOPIC?kt.push(Ot):(vt.reduceUnreadCount()&&(It=!0),vt.isLastMessageRevoked({sequence:Ot.sequence,time:Ot.time})&&(vt.setLastMessageRevoked(!0),vt.setLastMessageRevoker(Ot.revoker),It=!0)))}),this.getModule(ys).onMessageRevoked(kt),It&&(this.emitConversationUpdate(!0,!1),this.emitTotalUnreadMessageCountUpdate())}}},{key:"isLastMessageRevoked",value:function(st){var ht=!1,vt=st.conversationID,It=st.sequence,kt=st.time,Ot=this._conversationMap.get(vt);return Ot&&(ht=Ot.type===Ut.CONV_TOPIC?this.getModule(ys).isLastMessageRevoked({topicID:vt.replace(Ut.CONV_GROUP,""),sequence:It}):Ot.isLastMessageRevoked({sequence:It,time:kt})),pn.l("".concat(this._n,".isLastMessageRevoked options:").concat(JSON.stringify(st)," ret:").concat(ht)),ht}},{key:"onMessageDeleted",value:function(st){var ht=this;if(st.length!==0){var vt=null;st.forEach(function(ln){(vt=ht._messageListHandler.getLocalMessage(ln.conversationID,ln.ID))&&(vt.isDeleted=!0),ln!==vt&&(ln.isDeleted=!0)});for(var It=st[0].conversationID,kt=this._messageListHandler.getLocalMessageList(It),Ot={},Pt=kt.length-1;Pt>=0;Pt--)if(!kt[Pt].isDeleted){Ot=kt[Pt];break}var qt=this._conversationMap.get(It);if(qt){var Wt=!1;qt.lastMessage.lastSequence===Ot.sequence&&qt.lastMessage.lastTime===Ot.time||(dr(Ot)&&(Ot=void 0),qt.updateLastMessage(Ot),qt.type!==Ut.CONV_TOPIC&&(Wt=!0),pn.l("".concat(this._n,".onMessageDeleted. update conversationID:").concat(It," with lastMessage:"),qt.lastMessage)),It.startsWith(Ut.CONV_C2C)&&this.updateUnreadCount(It),Wt&&this.emitConversationUpdate(!0,!1)}}}},{key:"onMessageModified",value:function(st){var ht=st.conversationType,vt=st.from,It=st.to,kt=st.time,Ot=st.sequence,Pt=st.elements,qt=st.cloudCustomData,Wt=st.messageVersion,ln=this.getMyUserID(),fn="".concat(ht).concat(It);It===ln&&ht===Ut.CONV_C2C&&(fn="".concat(ht).concat(vt));var Sn=this._messageListHandler.onMessageModified(fn,st),Nn=Sn.isUpdated,qn=Sn.message;Nn===!0&&this.emitOuterEvent(yn.MESSAGE_MODIFIED,[qn]);var Yn=this._isTopicConversation(fn);if(pn.l("".concat(this._n,".onMessageModified isUpdated:").concat(Nn," isTopicMessage:").concat(Yn," from:").concat(vt," to:").concat(It)),Yn)this.getModule(ys).onMessageModified(st);else{var Zn=this._conversationMap.get(fn);if(Zn){var or=Zn.lastMessage;pn.d("".concat(this._n.onMessageModified," lastMessage:"),JSON.stringify(or),"options:",JSON.stringify(st)),or&&or.lastTime===kt&&or.lastSequence===Ot&&or.version!==Wt&&(or.type=Pt[0].type,or.payload=Pt[0].content,or.messageForShow=rp(or.type,or.payload,this.isIntl()),or.cloudCustomData=qt,or.version=Wt,this.emitConversationUpdate(!0,!1))}}return qn}},{key:"onNewGroupAtTips",value:function(st){var ht=this,vt=st.dataList,It=null;vt.forEach(function(kt){kt.groupAtTips?It=kt.groupAtTips:kt.elements?It=rt(rt({},kt.elements),{},{sync:!0}):kt.groupAtType&&(It=rt(rt({},kt),{},{sync:!0})),It.__random=kt.random,It.__sequence=kt.clientSequence,ht._tmpGroupAtTipsList.push(It)}),pn.d("".concat(this._n,".onNewGroupAtTips isReady:").concat(this._isReady),this._tmpGroupAtTipsList),this._isReady&&this._handleGroupAtTipsList()}},{key:"_handleGroupAtTipsList",value:function(){var st=this;if(this._tmpGroupAtTipsList.length!==0){var ht=!1;this._tmpGroupAtTipsList.forEach(function(vt){var It=vt.groupID,kt=vt.from,Ot=vt.topicID,Pt=Ot===void 0?void 0:Ot,qt=vt.sync,Wt=qt!==void 0&&qt;if(kt!==st.getMyUserID())if(vr(Pt)){var ln=st._conversationMap.get("".concat(Ut.CONV_GROUP).concat(It));ln&&(ln.updateGroupAtInfoList(vt),ht=!0)}else{var fn=st._conversationMap.get("".concat(Ut.CONV_GROUP).concat(Pt));if(fn){fn.updateGroupAtInfoList(vt);var Sn=st.getModule(ys),Nn=fn.groupAtInfoList;Sn.onConversationProxy({topicID:Pt,groupAtInfoList:Nn})}dr(fn)&&Wt&&(st.updateTopicConversation([{conversationID:"".concat(Ut.CONV_GROUP).concat(Pt),type:Ut.CONV_TOPIC}]),st._conversationMap.get("".concat(Ut.CONV_GROUP).concat(Pt)).updateGroupAtInfoList(vt))}}),ht&&this.emitConversationUpdate(!0,!1),this._tmpGroupAtTipsList.length=0}}},{key:"_getC2CPeerReadTime",value:function(st){var ht=this,vt=[];if(st.forEach(function(kt){ht._conversationMap.has(kt.conversationID)||kt.type!==Ut.CONV_C2C||vt.push(kt.conversationID.replace(Ut.CONV_C2C,""))}),vt.length>0){pn.d("".concat(this._n,"._getC2CPeerReadTime userIDList:").concat(vt));var It=this.getModule(Ws);It&&It.getRemotePeerReadTime(vt)}}},{key:"_getStorageConversationList",value:function(){return this.getModule(vo).getItem("conversationMap")}},{key:"_setStorageConversationList",value:function(){var st=this.getLocalConversationList().filter(function(ht){return ht.type===Ut.CONV_C2C||ht.type===Ut.CONV_GROUP&&ht.lastMessage.type!==Ut.MSG_GRP_TIP}).slice(0,20).map(function(ht){return{conversationID:ht.conversationID,type:ht.type,subType:ht.subType,lastMessage:ht.lastMessage,groupProfile:ht.groupProfile,userProfile:ht.userProfile}});this.getModule(vo).setItem("conversationMap",st)}},{key:"emitConversationUpdate",value:function(){var st=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],vt=this.getLocalConversationList();if(ht){var It=this.getModule(So);It&&It.updateGroupLastMessage(vt)}st&&this.emitOuterEvent(yn.CONVERSATION_LIST_UPDATED)}},{key:"getLocalConversationList",value:function(){return Ht(this._conversationMap.values()).filter(function(st){return st.type!==Ut.CONV_TOPIC})}},{key:"getLocalConversation",value:function(st){return this._conversationMap.get(st)}},{key:"hasLocalConversation",value:function(st){return this._conversationMap.has(st)}},{key:"getLocalOldestMessage",value:function(st){return this._messageListHandler.getLocalOldestMessage(st)}},{key:"syncConversationList",value:function(){var st=this,ht=new xr("syncConversationList");return this._pagingStatus===Ds.NOT_START&&this._conversationMap.clear(),this._pagingGetConversationList().then(function(vt){var It=function(kt){if(to(kt)&&kt.length!==0){var Ot=0;return kt.forEach(function(Pt){Ot+=Pt}),(Ot/kt.length).toFixed(0)}}(st._pagingGetCostList);return pn.l("".concat(st._n,".").concat("syncConversationList",". sum ").concat(function(kt){if(to(kt)&&kt.length!==0){var Ot=0;return kt.forEach(function(Pt){Ot+=Pt}),Ot.toFixed(0)}}(st._pagingGetCostList)," ms, average ").concat(It," ms")),st._pagingGetCostList.length=0,st._pagingStatus=Ds.RESOLVED,st._diffAndDeleteConversation(),st.emitConversationUpdate(!0,!1),st._setStorageConversationList(),st._handleC2CPeerReadTime(),st._patchConversationProperties(),ht.setMessage(st._conversationMap.size).setMoreMessage(It).setNetworkType(st.getNetworkType()).end(),vt}).catch(function(vt){return st._pagingStatus=Ds.REJECTED,ht.setMessage(st._pagingTimeStamp),st.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];ht.setError(vt,Ot,Pt).end()}),rr(vt)})}},{key:"_diffAndDeleteConversation",value:function(){var st=this;if(this._isSyncCompleted()){var ht=[];this._conversationMap.forEach(function(vt,It){!st._pagingConvIDMap.has(It)&&st._convIDFromUnreadDBMap.has(It)&&(st._conversationMap.delete(It),ht.push(It))}),pn.l("".concat(this._n,"._diffAndDeleteConversation list:").concat(ht))}}},{key:"_patchConversationProperties",value:function(){var st=this,ht=Date.now(),vt=this.checkAndPatchRemark(),It=this._messageRemindHandler.getC2CMessageRemindType(),kt=this.getModule(So).getGroupList();Promise.all([vt,It,kt]).then(function(){var Ot=Date.now()-ht;pn.l("".concat(st._n,"._patchConversationProperties ok. cost ").concat(Ot," ms")),st.emitConversationUpdate(!0,!1),st.emitTotalUnreadMessageCountUpdate()})}},{key:"_pagingGetConversationList",value:function(){var st=this,ht="".concat(this._n,"._pagingGetConversationList");pn.l("".concat(ht," timeStamp:").concat(this._pagingTimeStamp," startIndex:").concat(this._pagingStartIndex)+" pinnedTimeStamp:".concat(this._pagingPinnedTimeStamp," pinnedStartIndex:").concat(this._pagingPinnedStartIndex));var vt=Date.now();return this._pagingStatus=Ds.PENDING,this.request({protocolName:hp,requestData:{fromAccount:this.getMyUserID(),timeStamp:this._pagingTimeStamp,startIndex:this._pagingStartIndex,pinnedTimeStamp:this._pagingPinnedTimeStamp,pinnedStartIndex:this._pagingPinnedStartIndex,orderType:1}}).then(function(It){var kt=It.data,Ot=kt.completeFlag,Pt=kt.conversations,qt=Pt===void 0?[]:Pt,Wt=kt.timeStamp,ln=kt.startIndex,fn=kt.pinnedTimeStamp,Sn=kt.pinnedStartIndex,Nn=kt.groupItem,qn=Date.now()-vt;if(st._pagingGetCostList.push(qn),pn.l("".concat(ht," ok. completeFlag:").concat(Ot," count:").concat(qt.length," cost ").concat(qn," ms")),st._convGroupHandler.onConvGroupListSynced(Nn),qt.length>0){var Yn=st._getConversationOptions(qt);st._pagingConvIDMap=new Map([].concat(Ht(st._pagingConvIDMap),Ht(Yn.map(function(Zn){return[Zn.conversationID,1]})))),st._updateLocalConversationList({conversationOptionsList:Yn,isFromGetConversations:!0}),st.isLoggedIn()&&st.emitConversationUpdate()}if(!st._isReady){if(!st.isLoggedIn())return Go();st.triggerReady()}return st._pagingTimeStamp=Wt,st._pagingStartIndex=ln,st._pagingPinnedTimeStamp=fn,st._pagingPinnedStartIndex=Sn,Ot!==1?st._pagingGetConversationList():(st._handleGroupAtTipsList(),st._convGroupHandler.getRemoteConvGroupList(),Go())}).catch(function(It){throw st.isLoggedIn()&&(st._isReady||(pn.w("".concat(ht," failed. error:"),It),st.triggerReady())),It})}},{key:"_updateLocalConversationList",value:function(st){var ht,vt=st.isFromGetConversations,It=st.isInstantMessage,kt=Date.now();ht=this._getTmpConversationListMapping(st),this._conversationMap=new Map(this._sortConversationList([].concat(Ht(ht.toBeUpdatedConversationList),Ht(this._conversationMap)))),vt||(this._updateUserOrGroupProfile(ht.newConversationList),It&&this.emitTotalUnreadMessageCountUpdate()),pn.d("".concat(this._n,"._updateLocalConversationList cost ").concat(Date.now()-kt," ms"))}},{key:"_getTmpConversationListMapping",value:function(st){for(var ht=st.conversationOptionsList,vt=st.isFromGetConversations,It=st.isInstantMessage,kt=st.isUnreadC2CMessage,Ot=kt!==void 0&&kt,Pt=st.updateUnreadCount,qt=[],Wt=[],ln=this.getModule(So),fn=this.getModule(cs),Sn=this.isIntl(),Nn=0,qn=ht.length;Nn<qn;Nn++){var Yn=new Io(ht[Nn],Sn),Zn=Yn.conversationID;if(Zn!=="".concat(Ut.CONV_C2C,"@TLS#ERROR")&&Zn!=="".concat(Ut.CONV_C2C,"@TLS#NOT_FOUND"))if(this._conversationMap.has(Zn)){var or=this._conversationMap.get(Zn),Sr=["unreadCount","allowType","adminForbidType","payload","isPinned"];It===!1&&Sr.push("lastMessage");var Pr=ht[Nn].lastMessage,Vr=!vr(Pr);Vr||ht[Nn].type===Ut.CONV_TOPIC||this._onLastMessageNotExist(ht[Nn]),vr(It)&&Vr&&or.lastMessage.payload===null&&(or.lastMessage.payload=Pr.payload),dr(or.lastMessage.revoker)||(or.lastMessage.revoker=null),fr(or,Yn,Sr,[null,void 0,"",0,NaN]),Pt===!0&&or.updateUnreadCount({nextUnreadCount:Yn.unreadCount,isFromGetConversations:vt,isUnreadC2CMessage:Ot}),It&&Vr&&(Pr.payload&&(or.lastMessage.payload=Pr.payload),or.type===Ut.CONV_GROUP&&(or.lastMessage.nameCard=Pr.nameCard,or.lastMessage.nick=Pr.nick)),Vr&&or.lastMessage.cloudCustomData!==Pr.cloudCustomData&&(or.lastMessage.cloudCustomData=Pr.cloudCustomData||""),this._conversationMap.delete(Zn),qt.push([Zn,or])}else{if(Yn.type===Ut.CONV_GROUP&&ln){var io=Yn.groupProfile.groupID,No=ln.getLocalGroupProfile(io);No&&(Yn.groupProfile=No,Pt===!0&&Yn.updateUnreadCount({nextUnreadCount:0}))}else if(Yn.type===Ut.CONV_C2C){var Bo=Zn.replace(Ut.CONV_C2C,"");fn&&fn.isMyFriend(Bo)&&(Yn.remark=fn.getFriendRemark(Bo))}Wt.push(Yn),qt.push([Zn,Yn])}}var ko=this.getModule(ys);return qt.forEach(function(Nt){if(Nt[1].type===Ut.CONV_TOPIC){var ut=Nt[1],_t=ut.conversationID,at=ut.unreadCount,ft=ut.groupAtInfoList;ko.onConversationProxy({topicID:_t.replace(Ut.CONV_GROUP,""),unreadCount:at,groupAtInfoList:dr(ft)?void 0:ft})}}),{toBeUpdatedConversationList:qt,newConversationList:Wt}}},{key:"_onLastMessageNotExist",value:function(st){new xr("lastMessageNotExist").setMessage("".concat(JSON.stringify(st))).setNetworkType(this.getNetworkType()).end()}},{key:"_sortConversationList",value:function(st){var ht=[],vt=[],It=[],kt=[];return st.forEach(function(Ot){Ot[1].isPinned===!0?dr(Ot[1].lastMessage.lastTime)?vt.push(Ot):ht.push(Ot):dr(Ot[1].lastMessage.lastTime)?kt.push(Ot):It.push(Ot)}),ht.sort(function(Ot,Pt){return Pt[1].lastMessage.lastTime-Ot[1].lastMessage.lastTime}).concat(vt).concat(It.sort(function(Ot,Pt){return Pt[1].lastMessage.lastTime-Ot[1].lastMessage.lastTime})).concat(kt)}},{key:"_sortConversationListAndEmitEvent",value:function(){this._conversationMap=new Map(this._sortConversationList(Ht(this._conversationMap))),this.emitConversationUpdate(!0,!1)}},{key:"_updateUserOrGroupProfile",value:function(st){var ht=this;if(st.length!==0){var vt=[],It=[],kt=this.getModule(Uo),Ot=this.getModule(So);st.forEach(function(Pt){if(Pt.type===Ut.CONV_C2C)vt.push(Pt.toAccount);else if(Pt.type===Ut.CONV_GROUP){var qt=Pt.toAccount;Ot.hasLocalGroup(qt)?Pt.groupProfile=Ot.getLocalGroupProfile(qt):It.push(qt)}}),pn.l("".concat(this._n,"._updateUserOrGroupProfile c2cUserIDList:").concat(vt," groupIDList:").concat(It)),vt.length>0&&kt.getUserProfile({userIDList:vt}).then(function(Pt){var qt=Pt.data;to(qt)?qt.forEach(function(Wt){ht._doUpdateUserProfile("C2C".concat(Wt.userID),Wt)}):ht._doUpdateUserProfile("C2C".concat(qt.userID),qt)}),It.length>0&&Ot.getGroupProfileAdvance({groupIDList:It,responseFilter:{groupBaseInfoFilter:["Type","Name","FaceUrl"]}}).then(function(Pt){Pt.data.successGroupList.forEach(function(qt){var Wt="GROUP".concat(qt.groupID);if(ht._conversationMap.has(Wt)){var ln=ht._conversationMap.get(Wt);fr(ln.groupProfile,qt,[],[null,void 0,"",0,NaN]),!ln.subType&&qt.type&&(ln.subType=qt.type)}})})}}},{key:"_doUpdateUserProfile",value:function(st,ht){this.hasLocalConversation(st)&&(this.getLocalConversation(st).userProfile=ht)}},{key:"_getConversationOptions",value:function(st){var ht=this,vt=[],It=st.filter(function(Pt){var qt=Pt.type,Wt=Pt.userID;return qt===1&&Wt!=="@TLS#NOT_FOUND"&&Wt!=="@TLS#ERROR"||qt===2}),kt=this.getMyUserID(),Ot=It.map(function(Pt){if(vr(Pt.lastMsg)&&(Pt.lastMsg={elements:[]}),Pt.type===1){var qt={userID:Pt.userID,nick:Pt.peerNick,avatar:Pt.peerAvatar};return vt.push(qt),{conversationID:"C2C".concat(Pt.userID),type:"C2C",lastMessage:{lastTime:Pt.time,lastSequence:Pt.sequence,fromAccount:Pt.lastC2CMsgFromAccount,messageForShow:Pt.messageShow,type:Pt.lastMsg.elements[0]?Pt.lastMsg.elements[0].type:null,payload:Pt.lastMsg.elements[0]?ht._amendLayersOverLimitProperty(Pt.lastMsg.elements[0].content):null,cloudCustomData:Pt.lastMsg.cloudCustomData||"",isRevoked:Pt.lastMessageFlag===8,onlineOnlyFlag:!1,nick:"",nameCard:"",version:0,isPeerRead:Pt.lastC2CMsgFromAccount===kt&&Pt.time<=Pt.c2cPeerReadTime,revoker:Pt.lastMsg.revokerInfo?Pt.lastMsg.revokerInfo.revoker:null},userProfile:new d_(qt),peerReadTime:Pt.c2cPeerReadTime,isPinned:Pt.isPinned===1,messageRemindType:"",customData:Pt.customMark||"",markList:ju(Pt.standardMark),conversationGroupList:ht._convGroupHandler.getConvGroupListByID(Pt.contactGroupId)}}return{conversationID:"GROUP".concat(Pt.groupID),type:"GROUP",lastMessage:rt(rt({lastTime:Pt.time,lastSequence:Pt.sequence,fromAccount:Pt.msgGroupFromAccount,messageForShow:Pt.messageShow},ht._patchTypeAndPayload(Pt)),{},{cloudCustomData:Pt.lastMsg.cloudCustomData||"",isRevoked:Pt.lastMessageFlag===2,onlineOnlyFlag:!1,nick:Pt.senderNick||"",nameCard:Pt.senderNameCard||"",revoker:Pt.lastMsg.revokerInfo?Pt.lastMsg.revokerInfo.revoker:null}),groupProfile:new Dl({groupID:Pt.groupID,name:Pt.groupNick,avatar:Pt.groupImage}),unreadCount:Pt.unreadCount,peerReadTime:0,isPinned:Pt.isPinned===1,messageRemindType:"",version:0,customData:Pt.customMark||"",markList:ju(Pt.standardMark),conversationGroupList:ht._convGroupHandler.getConvGroupListByID(Pt.contactGroupId)}});return vt.length>0&&this.getModule(Uo).onConversationsProfileUpdated(vt),Ot}},{key:"_patchTypeAndPayload",value:function(st){var ht=st.lastMsg,vt=ht.event,It=vt===void 0?void 0:vt,kt=ht.elements,Ot=kt===void 0?[]:kt,Pt=ht.groupTips,qt=Pt===void 0?{}:Pt;if(!vr(It)&&!dr(qt)){var Wt=new yu(qt);Wt.setElement({type:Ut.MSG_GRP_TIP,content:rt(rt({},qt.elements),{},{groupProfile:qt.groupProfile})});var ln=JSON.parse(JSON.stringify(Wt.payload));return Wt=null,{type:Ut.MSG_GRP_TIP,payload:ln}}return{type:Ot[0]?Ot[0].type:null,payload:Ot[0]?this._amendLayersOverLimitProperty(Ot[0].content):null}}},{key:"_amendLayersOverLimitProperty",value:function(st){var ht=st.layersOverLimit;return ht===0?st.layersOverLimit=!1:ht===1&&(st.layersOverLimit=!0),st}},{key:"getLocalMessageList",value:function(st){return this._messageListHandler.getLocalMessageList(st)}},{key:"deleteLocalMessage",value:function(st){st instanceof yu&&this._messageListHandler.remove(st)}},{key:"onConversationDeleted",value:function(st){if(to(st)){var ht=st.map(function(vt){var It=vt.type,kt=vt.userID,Ot=vt.groupID;return It===1?"".concat(Ut.CONV_C2C).concat(kt):It===2?"".concat(Ut.CONV_GROUP).concat(Ot):void 0});pn.l("".concat(this._n,".onConversationDeleted conversationIDList:").concat(ht)),this.deleteLocalConversationList(ht)}}},{key:"onConversationPinned",value:function(st){var ht=this;if(to(st)){var vt=!1;st.forEach(function(It){var kt,Ot=It.type,Pt=It.userID,qt=It.groupID;Ot===1?kt=ht.getLocalConversation("".concat(Ut.CONV_C2C).concat(Pt)):Ot===2&&(kt=ht.getLocalConversation("".concat(Ut.CONV_GROUP).concat(qt))),kt&&(pn.l("".concat(ht._n,".onConversationPinned conversationID:").concat(kt.conversationID," isPinned:").concat(kt.isPinned)),kt.isPinned||(kt.isPinned=!0,vt=!0))}),vt&&this._sortConversationListAndEmitEvent()}}},{key:"onConversationUnpinned",value:function(st){var ht=this;if(to(st)){var vt=!1;st.forEach(function(It){var kt,Ot=It.type,Pt=It.userID,qt=It.groupID;Ot===1?kt=ht.getLocalConversation("".concat(Ut.CONV_C2C).concat(Pt)):Ot===2&&(kt=ht.getLocalConversation("".concat(Ut.CONV_GROUP).concat(qt))),kt&&(pn.l("".concat(ht._n,".onConversationUnpinned conversationID:").concat(kt.conversationID," isPinned:").concat(kt.isPinned)),kt.isPinned&&(kt.isPinned=!1,vt=!0))}),vt&&this._sortConversationListAndEmitEvent()}}},{key:"getMessageList",value:function(st){var ht=this,vt=st.conversationID,It=st.nextReqMessageID,kt=st.count,Ot="".concat(this._n,".getMessageList"),Pt=this.getLocalConversation(vt),qt="";if(Pt&&Pt.groupProfile&&(qt=Pt.groupProfile.type),cu(qt))return pn.l("".concat(Ot," not available in avchatroom. conversationID:").concat(vt)),Go({messageList:[],nextReqMessageID:"",isCompleted:!0});(vr(kt)||kt>15)&&(kt=15),!It&&this._isNotInCommunity(vt)&&(this._messageListHandler.removeByConversationID(vt),this._completedMap.delete(vt),this._roamingMessageSequenceMap.delete(vt));var Wt=this._computeRemainingCount({conversationID:vt,nextReqMessageID:It}),ln=this._completedMap.has(vt);if(pn.l("".concat(Ot," conversationID:").concat(vt," nextReqMessageID:").concat(It)+" remainingCount:".concat(Wt," count:").concat(kt," isCompleted:").concat(ln)),this._needGetHistory({conversationID:vt,remainingCount:Wt,count:kt}))return this.getHistoryMessages({conversationID:vt,nextReqMessageID:It,count:20}).then(function(Sn){var Nn=Sn.nextReqID,qn=Sn.storedMessageList,Yn=ht._completedMap.has(vt),Zn=qn;Wt>0&&(Zn=ht._messageListHandler.getLocalMessageList(vt).slice(0,qn.length+Wt));var or={nextReqMessageID:Yn?"":Nn,messageList:Zn,isCompleted:Yn};return pn.l("".concat(Ot," ret.nextReqMessageID:").concat(or.nextReqMessageID," ret.isCompleted:").concat(or.isCompleted," ret.length:").concat(Zn.length)),go(or)});this.modifyMessageList(vt);var fn=this._getMessageListFromMemory({conversationID:vt,nextReqMessageID:It,count:kt});return Go(fn)}},{key:"_getMessageListFromMemory",value:function(st){var ht=st.conversationID,vt=st.nextReqMessageID,It=st.count,kt="".concat(this._n,"._getMessageListFromMemory"),Ot=this._messageListHandler.getLocalMessageList(ht),Pt=Ot.length,qt=0,Wt={isCompleted:!1,nextReqMessageID:"",messageList:[]};return vt?(qt=Ot.findIndex(function(ln){return ln.ID===vt}))>It?(Wt.messageList=Ot.slice(qt-It,qt),Wt.nextReqMessageID=Ot[qt-It].ID):(Wt.messageList=Ot.slice(0,qt),Wt.isCompleted=!0):Pt>It?(qt=Pt-It,Wt.messageList=Ot.slice(qt,Pt),Wt.nextReqMessageID=Ot[qt].ID):(Wt.messageList=Ot.slice(0,Pt),Wt.isCompleted=!0),pn.l("".concat(kt," conversationID:").concat(ht)+" ret.nextReqMessageID:".concat(Wt.nextReqMessageID," ret.isCompleted:").concat(Wt.isCompleted," ret.length:").concat(Wt.messageList.length)),Wt}},{key:"getMessageListHopping",value:function(st){var ht=st.conversationID,vt=st.sequence,It=st.time,kt=st.count,Ot=st.direction,Pt=Ot===void 0?0:Ot;if((vr(kt)||kt>15)&&(kt=15),ht.startsWith(Ut.CONV_C2C)){var qt=this.getModule(Ws),Wt=ht.replace(Ut.CONV_C2C,"");return qt.getRoamingMessagesHopping({peerAccount:Wt,time:It,count:kt,direction:Pt})}if(ht.startsWith(Ut.CONV_GROUP)){var ln=this.getModule(So),fn=ht.replace(Ut.CONV_GROUP,"");return ln.getRoamingMessagesHopping({groupID:fn,sequence:vt,count:kt,direction:Pt})}}},{key:"_computeRemainingCount",value:function(st){var ht=st.conversationID,vt=st.nextReqMessageID,It=this._messageListHandler.getLocalMessageList(ht),kt=It.length;if(!vt)return kt;var Ot=0;return gu(ht)?Ot=It.findIndex(function(Pt){return Pt.ID===vt}):Au(ht)&&(Ot=vt.indexOf("-")!==-1?It.findIndex(function(Pt){return Pt.ID===vt}):It.findIndex(function(Pt){return Pt.sequence===vt})),Ot===-1&&(Ot=0),Ot}},{key:"_getMessageListSize",value:function(st){return this._messageListHandler.getLocalMessageList(st).length}},{key:"_needGetHistory",value:function(st){var ht=st.conversationID,vt=st.remainingCount,It=st.count,kt=this.getLocalConversation(ht),Ot="";return kt&&kt.groupProfile&&(Ot=kt.groupProfile.type),!zs(ht)&&!cu(Ot)&&!(Au(ht)&&this._isPagingGetGroupListCompleted()&&this._getLocalGroupCount()<=4e3&&!this._hasLocalGroup(ht)&&!this._isTopicConversation(ht))&&vt<=It&&!this._completedMap.has(ht)}},{key:"_isTopicConversation",value:function(st){var ht=st.replace(Ut.CONV_GROUP,"");return ps(ht)}},{key:"getHistoryMessages",value:function(st){var ht=st.conversationID,vt=st.count;if(ht===Ut.CONV_SYSTEM)return Go();var It=15;vt>20&&(It=20);var kt=null;if(gu(ht)){var Ot=this._roamingMessageKeyAndTimeMap.has(ht);return(kt=this.getModule(Ws))?kt.getRoamingMessage({conversationID:ht,peerAccount:ht.replace(Ut.CONV_C2C,""),count:It,lastMessageTime:Ot?this._roamingMessageKeyAndTimeMap.get(ht).lastMessageTime:0,messageKey:Ot?this._roamingMessageKeyAndTimeMap.get(ht).messageKey:""}):rr({code:yr.CANNOT_FIND_MODULE})}if(Au(ht)){if(!(kt=this.getModule(So)))return rr({code:yr.CANNOT_FIND_MODULE});var Pt=null;this._conversationMap.has(ht)&&(Pt=this._conversationMap.get(ht).lastMessage);var qt=0;Pt&&(qt=Pt.lastSequence);var Wt=this._roamingMessageSequenceMap.get(ht);return kt.getRoamingMessage({conversationID:ht,groupID:ht.replace(Ut.CONV_GROUP,""),count:It,sequence:Wt||qt})}return Go()}},{key:"patchConversationLastMessage",value:function(st){var ht=this.getLocalConversation(st);if(ht){var vt=ht.lastMessage,It=vt.messageForShow,kt=vt.payload;if(dr(It)||dr(kt)){var Ot=this._messageListHandler.getLocalMessageList(st);if(Ot.length===0)return;var Pt=Ot[Ot.length-1];pn.l("".concat(this._n,".patchConversationLastMessage conversationID:").concat(st," payload:"),Pt.payload),ht.updateLastMessage(Pt)}}}},{key:"onRoamingMessage",value:function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ht=arguments.length>1?arguments[1]:void 0,vt=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],It=ht.startsWith(Ut.CONV_C2C)?Ut.CONV_C2C:Ut.CONV_GROUP,kt=null,Ot=[],Pt=[],qt=0,Wt=st.length,ln=null,fn=It===Ut.CONV_GROUP,Sn=this.getModule(gs),Nn=this.getFileDownloadProxy(),qn=function(){qt=fn?st.length-1:0,Wt=fn?0:st.length},Yn=function(){fn?--qt:++qt},Zn=function(){return fn?qt>=Wt:qt<Wt};for(qn();Zn();Yn())if(fn&&st[qt].sequence===1&&vt&&this.setCompleted(ht),st[qt].isPlaceMessage!==1)if((kt=new yu(st[qt])).to=st[qt].to,It!==Ut.CONV_GROUP||vr(st[qt].topicID)||(kt.to=st[qt].topicID),kt.isSystemMessage=!!st[qt].isSystemMessage,kt.conversationType=It,st[qt].event===4?ln={type:Ut.MSG_GRP_TIP,content:rt(rt({},st[qt].elements),{},{groupProfile:st[qt].groupProfile})}:(st[qt].elements=Sn.parseElements(st[qt].elements,st[qt].from),ln=st[qt].elements),fn||kt.setNickAndAvatar({nick:st[qt].nick,avatar:st[qt].avatar}),dr(ln)){var or=new xr("emptyMessageBody");or.setMessage("from:".concat(kt.from," to:").concat(kt.to," sequence:").concat(kt.sequence," event:").concat(st[qt].event)),or.setNetworkType(this.getNetworkType()).setLevel("warning").end()}else kt.setElement(ln,Nn),kt.reInitialize(this.getMyUserID()),Ot.push(kt);return qn=Yn=Zn=null,vt?(this._messageListHandler.unshift(Ot,Pt),Ot=null,Pt):(Pt=null,Ot)}},{key:"findMessage",value:function(st){return this._messageListHandler.findMessage(st)}},{key:"_isNotInCommunity",value:function(st){var ht=!1;if(st.startsWith(Ut.CONV_GROUP)&&this._isTopicConversation(st)){var vt=tu(st.replace(Ut.CONV_GROUP,""));this.getModule(So).hasLocalGroup(vt)||(ht=!0)}return ht}},{key:"deleteTopicRoamingMessageInfo",value:function(st){var ht=this;Vs({groupID:st})&&this._messageListHandler.getTopicConversationIDList(st).forEach(function(vt){ht._messageListHandler.removeByConversationID(vt),ht._completedMap.delete(vt),ht._roamingMessageSequenceMap.delete(vt)})}},{key:"deleteGroupRomaingMessageInfo",value:function(st){var ht="".concat(Ut.CONV_GROUP).concat(st);this._messageListHandler.removeByConversationID(ht),this._completedMap.delete(ht),this._roamingMessageSequenceMap.delete(ht)}},{key:"setMessageRead",value:function(st){var ht=st.conversationID,vt=this.getLocalConversation(ht);if(pn.l("".concat(this._n,".setMessageRead conversationID:").concat(ht," unreadCount:").concat(vt?vt.unreadCount:0)),!vt||(vt.type!==Ut.CONV_GROUP&&vt.type!==Ut.CONV_TOPIC||dr(vt.groupAtInfoList)||this.deleteGroupAtTips(ht),vt.unreadCount===0))return Go();if(vt.type===Ut.CONV_GROUP&&!this._hasLocalGroup(ht))return vt.unreadCount!==0&&(vt.unreadCount=0,this.emitConversationUpdate(!0,!1)),Go();var It=this._messageListHandler.getLocalLastMessage(ht),kt=vt.lastMessage.lastTime;It&&kt<It.time&&(kt=It.time);var Ot=vt.lastMessage.lastSequence;if(It&&Ot<It.sequence&&(Ot=It.sequence),vt.type===Ut.CONV_TOPIC&&vr(It)){var Pt=this.getModule(ys),qt=ht.replace(Ut.CONV_GROUP,""),Wt=tu(qt),ln=Pt.getLocalTopic(Wt,qt);ln&&(Ot=ln.nextMessageSeq-1)}var fn=null;switch(vt.type){case Ut.CONV_C2C:return(fn=this.getModule(Ws))?fn.setMessageRead({conversationID:ht,lastMessageTime:kt}):rr({code:yr.CANNOT_FIND_MODULE});case Ut.CONV_GROUP:case Ut.CONV_TOPIC:return(fn=this.getModule(So))?fn.setMessageRead({conversationID:ht,lastMessageSeq:Ot}):rr({code:yr.CANNOT_FIND_MODULE});case Ut.CONV_SYSTEM:return vt.unreadCount=0,this.emitConversationUpdate(!0,!1),Go();default:return Go()}}},{key:"setAllMessageRead",value:function(){var st=this,ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vt="setAllMessageRead",It="".concat(this._n,".").concat(vt);ht.scope||(ht.scope=Ut.READ_ALL_MSG),pn.l("".concat(It," options:"),ht);var kt=this._createSetAllMessageReadPack(ht);if(kt.readAllC2CMessage===0&&kt.groupMessageReadInfoList.length===0)return Go();var Ot=new xr(vt);return this.request({protocolName:Cr,requestData:kt}).then(function(Pt){var qt=Pt.data,Wt=st._handleAllMessageRead(qt);return Ot.setMessage("scope:".concat(ht.scope," failureGroups:").concat(JSON.stringify(Wt))).setNetworkType(st.getNetworkType()).end(),Go()}).catch(function(Pt){return st.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];Ot.setError(Pt,ln,fn).end()}),pn.w("".concat(It," failed. error:"),Pt),rr({code:Pt&&Pt.code?Pt.code:yr.MESSAGE_UNREAD_ALL_FAIL,message:Pt&&Pt.message?Pt.message:void 0})})}},{key:"setConversationCustomData",value:function(st){return this._convGroupHandler.setConvCustomData(st)}},{key:"markConversation",value:function(st){return this._convGroupHandler.markConversation(st)}},{key:"getConversationGroupList",value:function(){return this._convGroupHandler.getLocalConvGroupList()}},{key:"createConversationGroup",value:function(st){return this._convGroupHandler.createConvGroup(st)}},{key:"deleteConversationGroup",value:function(st){return this._convGroupHandler.deleteConvGroup(st)}},{key:"renameConversationGroup",value:function(st){return this._convGroupHandler.renameConvGroup(st)}},{key:"addConversationsToGroup",value:function(st){return this._convGroupHandler.addConvsToGroup(st)}},{key:"deleteConversationsFromGroup",value:function(st){return this._convGroupHandler.deleteConvsFromGroup(st)}},{key:"onConversationMarkUpdated",value:function(st){this._convGroupHandler.onConvMarkUpdated(st)}},{key:"onConversationGroupCreated",value:function(st){this._convGroupHandler.onConvGroupCreated(st)}},{key:"onConversationGroupDeleted",value:function(st){this._convGroupHandler.onConvGroupDeleted(st)}},{key:"onConversationGroupNameUpdated",value:function(st){this._convGroupHandler.onConvGroupNameUpdated(st)}},{key:"onConversationInGroupUpdated",value:function(st){this._convGroupHandler.onConvInGroupUpdated(st)}},{key:"onConversationAddedToOrDeletedFromGroup",value:function(st){this._convGroupHandler.onConvAddedToOrDeletedFromGroup(st)}},{key:"_getConversationLastMessageSequence",value:function(st){var ht=this._messageListHandler.getLocalLastMessage(st.conversationID),vt=st.lastMessage.lastSequence;return ht&&vt<ht.sequence&&(vt=ht.sequence),vt}},{key:"_getConversationLastMessageTime",value:function(st){var ht=this._messageListHandler.getLocalLastMessage(st.conversationID),vt=st.lastMessage.lastTime;return ht&&vt<ht.time&&(vt=ht.time),vt}},{key:"_createSetAllMessageReadPack",value:function(st){var ht,vt={readAllC2CMessage:0,groupMessageReadInfoList:[]},It=st.scope,kt=Cn(this._conversationMap);try{for(kt.s();!(ht=kt.n()).done;){var Ot=Ft(ht.value,2)[1];if(Ot.unreadCount>0){if(Ot.type===Ut.CONV_C2C&&vt.readAllC2CMessage===0){if(It===Ut.READ_ALL_MSG)vt.readAllC2CMessage=1;else if(It===Ut.READ_ALL_C2C_MSG){vt.readAllC2CMessage=1;break}}else if(Ot.type===Ut.CONV_GROUP&&(It===Ut.READ_ALL_GROUP_MSG||It===Ut.READ_ALL_MSG)){var Pt=this._getConversationLastMessageSequence(Ot);vt.groupMessageReadInfoList.push({groupID:Ot.groupProfile.groupID,messageSequence:Pt})}}}}catch(qt){kt.e(qt)}finally{kt.f()}return vt}},{key:"onPushedAllMessageRead",value:function(st){this._handleAllMessageRead(st)}},{key:"_handleAllMessageRead",value:function(st){var ht=st.groupMessageReadInfoList,vt=st.readAllC2CMessage,It=this._parseGroupReadInfo(ht);return this._updateAllConversationUnreadCount({readAllC2CMessage:vt})>=1&&(this.emitConversationUpdate(!0,!1),this.emitTotalUnreadMessageCountUpdate()),It}},{key:"_parseGroupReadInfo",value:function(st){var ht=[];if(st&&st.length)for(var vt=0,It=st.length;vt<It;vt++){var kt=st[vt],Ot=kt.groupID,Pt=kt.sequence,qt=kt.retCode,Wt=kt.lastMessageSeq;vr(qt)?this._remoteGroupReadSequenceMap.set(Ot,Wt):(this._remoteGroupReadSequenceMap.set(Ot,Pt),qt!==0&&ht.push("".concat(Ot,"-").concat(Pt,"-").concat(qt)))}return ht}},{key:"_updateAllConversationUnreadCount",value:function(st){var ht,vt=st.readAllC2CMessage,It=0,kt=Cn(this._conversationMap);try{for(kt.s();!(ht=kt.n()).done;){var Ot=Ft(ht.value,2),Pt=Ot[0],qt=Ot[1];if(qt.unreadCount>=1){if(vt===1&&qt.type===Ut.CONV_C2C){var Wt=this._getConversationLastMessageTime(qt);this.updateIsReadAfterReadReport({conversationID:Pt,lastMessageTime:Wt})}else if(qt.type===Ut.CONV_GROUP){var ln=Pt.replace(Ut.CONV_GROUP,"");if(this._remoteGroupReadSequenceMap.has(ln)){var fn=this._remoteGroupReadSequenceMap.get(ln),Sn=this._getConversationLastMessageSequence(qt);this.updateIsReadAfterReadReport({conversationID:Pt,remoteReadSequence:fn}),Sn>=fn&&this._remoteGroupReadSequenceMap.delete(ln)}}this.updateUnreadCount(Pt,!1)&&(It+=1)}}}catch(Nn){kt.e(Nn)}finally{kt.f()}return It}},{key:"isRemoteRead",value:function(st){var ht=st.conversationID,vt=st.sequence,It=ht.replace(Ut.CONV_GROUP,""),kt=!1;if(this._remoteGroupReadSequenceMap.has(It)){var Ot=this._remoteGroupReadSequenceMap.get(It);vt<=Ot&&(kt=!0,pn.l("".concat(this._n,".isRemoteRead conversationID:").concat(ht," messageSequence:").concat(vt," remoteReadSequence:").concat(Ot))),vt>=Ot+10&&this._remoteGroupReadSequenceMap.delete(It)}return kt}},{key:"updateIsReadAfterReadReport",value:function(st){var ht=st.conversationID,vt=st.lastMessageSeq,It=st.lastMessageTime,kt=this._messageListHandler.getLocalMessageList(ht);if(kt.length!==0){for(var Ot,Pt=kt.length-1;Pt>=0;Pt--)if(Ot=kt[Pt],!(It&&Ot.time>It||vt&&Ot.sequence>vt)){if(Ot.flow==="in"&&Ot.isRead)break;Ot.setIsRead(!0)}}}},{key:"updateUnreadCount",value:function(st){var ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],vt=!1,It=this.getLocalConversation(st),kt=this._messageListHandler.getLocalMessageList(st);if(It){var Ot=It.unreadCount,Pt=kt.filter(function(fn){return!fn.isRead&&!fn._onlineOnlyFlag&&!fn.isDeleted}).length;if(Ot!==Pt&&(It.unreadCount=Pt,vt=!0,pn.l("".concat(this._n,".updateUnreadCount from ").concat(Ot," to ").concat(Pt,", conversationID:").concat(st)),ht===!0&&(this.emitConversationUpdate(!0,!1),this.emitTotalUnreadMessageCountUpdate())),vt&&It.type===Ut.CONV_TOPIC){var qt=It.unreadCount,Wt=this.getModule(ys),ln=st.replace(Ut.CONV_GROUP,"");Wt.onConversationProxy({topicID:ln,unreadCount:qt})}return vt}}},{key:"clearGroupAtInfoList",value:function(st){var ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],vt=this.getLocalConversation(st);if(vt&&vt.groupAtInfoList.length>0){if(vt.clearGroupAtInfoList(),pn.l("".concat(this._n,".clearGroupAtInfoList conversationID:").concat(st)),vt.type===Ut.CONV_TOPIC){var It=vt.groupAtInfoList,kt=this.getModule(ys),Ot=st.replace(Ut.CONV_GROUP,"");kt.onConversationProxy({topicID:Ot,groupAtInfoList:It})}ht===!0&&this.emitConversationUpdate(!0,!1)}}},{key:"updateReadReceiptInfo",value:function(st){var ht=this,vt=st.userID,It=vt===void 0?void 0:vt,kt=st.groupID,Ot=kt===void 0?void 0:kt,Pt=st.readReceiptList;if(!dr(Pt)){var qt=[];if(vr(It)){if(!vr(Ot)){var Wt="".concat(Ut.CONV_GROUP).concat(Ot);Pt.forEach(function(fn){var Sn=fn.tinyID,Nn=fn.clientTime,qn=fn.random,Yn=fn.readCount,Zn=fn.unreadCount,or="".concat(Sn,"-").concat(Nn,"-").concat(qn),Sr=ht._messageListHandler.getLocalMessage(Wt,or),Pr={groupID:Ot,messageID:or,readCount:0,unreadCount:0};Sr&&(Zo(Yn)&&(Sr.readReceiptInfo.readCount=Yn,Pr.readCount=Yn),Zo(Zn)&&(Sr.readReceiptInfo.unreadCount=Zn,Pr.unreadCount=Zn),qt.push(Pr))})}}else{var ln="".concat(Ut.CONV_C2C).concat(It);Pt.forEach(function(fn){var Sn=fn.tinyID,Nn=fn.clientTime,qn=fn.random,Yn="".concat(Sn,"-").concat(Nn,"-").concat(qn),Zn=ht._messageListHandler.getLocalMessage(ln,Yn);if(Zn){Zn.readReceiptInfo.isPeerRead=!0;var or={userID:It,messageID:Yn,isPeerRead:!0};qt.push(or)}})}qt.length>0&&this.emitOuterEvent(yn.MESSAGE_READ_RECEIPT_RECEIVED,qt)}}},{key:"recomputeGroupUnreadCount",value:function(st){var ht=st.conversationID,vt=st.count,It=this.getLocalConversation(ht);if(It){var kt=It.unreadCount,Ot=kt-vt;Ot<0&&(Ot=0),It.unreadCount=Ot,pn.l("".concat(this._n,".recomputeGroupUnreadCount from ").concat(kt," to ").concat(Ot,", conversationID:").concat(ht))}}},{key:"updateIsRead",value:function(st){var ht=this.getLocalConversation(st),vt=this.getLocalMessageList(st);if(ht&&vt.length!==0&&!zs(ht.type)){for(var It=[],kt=0,Ot=vt.length;kt<Ot;kt++)vt[kt].flow!=="in"?vt[kt].flow!=="out"||vt[kt].isRead||vt[kt].setIsRead(!0):It.push(vt[kt]);var Pt=0;if(ht.type===Ut.CONV_C2C){var qt=It.slice(-ht.unreadCount).filter(function(ln){return ln.isRevoked}).length;Pt=It.length-ht.unreadCount-qt}else Pt=It.length-ht.unreadCount;for(var Wt=0;Wt<Pt&&!It[Wt].isRead;Wt++)It[Wt].setIsRead(!0)}}},{key:"deleteGroupAtTips",value:function(st){var ht=this,vt="".concat(this._n,".deleteGroupAtTips");pn.l("".concat(vt));var It=this._conversationMap.get(st);if(!It)return Promise.resolve();var kt=It.groupAtInfoList;if(kt.length===0)return Promise.resolve();var Ot=void 0;st.startsWith(Ut.CONV_GROUP)&&(Ot=st.replace(Ut.CONV_GROUP,""));var Pt=Ht(kt);if((Vs({groupID:Ot})||ps(Ot))&&(Pt=kt.filter(function(Wt){return!Wt.atTypeArray.includes(Ut.CONV_AT_ALL)})).length===0)return this.clearGroupAtInfoList(st,!1),Promise.resolve();var qt=this.getMyUserID();return this.request({protocolName:Ls,requestData:{messageListToDelete:Pt.map(function(Wt){return{from:Wt.from,to:qt,messageSeq:Wt.__sequence,messageRandom:Wt.__random,groupID:vr(Wt.topicID)?Wt.groupID:Wt.topicID}})}}).then(function(){return pn.l("".concat(vt," ok. count:").concat(kt.length)),ht.clearGroupAtInfoList(st,!1),Promise.resolve()}).catch(function(Wt){return pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"appendToMessageList",value:function(st){this._messageListHandler.pushIn(st)}},{key:"setMessageRandom",value:function(st){this.singlyLinkedList.set(st.random)}},{key:"deleteMessageRandom",value:function(st){this.singlyLinkedList.delete(st.random)}},{key:"pushIntoMessageList",value:function(st,ht,vt){return!(!this._messageListHandler.pushIn(ht,vt)||this._isMessageFromCurrentInstance(ht)&&!vt)&&(st.push(ht),!0)}},{key:"_isMessageFromCurrentInstance",value:function(st){return this.singlyLinkedList.has(st.random)}},{key:"revoke",value:function(st,ht,vt){return this._messageListHandler.revoke(st,ht,vt)}},{key:"getPeerReadTime",value:function(st){return this._peerReadTimeMap.get(st)}},{key:"recordPeerReadTime",value:function(st,ht){this._peerReadTimeMap.has(st)?this._peerReadTimeMap.get(st)<ht&&this._peerReadTimeMap.set(st,ht):this._peerReadTimeMap.set(st,ht)}},{key:"updateMessageIsPeerReadProperty",value:function(st,ht){if(st.startsWith(Ut.CONV_C2C)&&ht>0){var vt=this._messageListHandler.updateMessageIsPeerReadProperty(st,ht);if(vt.length>0&&this.emitOuterEvent(yn.MESSAGE_READ_BY_PEER,vt),this._conversationMap.has(st)){var It=this._conversationMap.get(st).lastMessage;dr(It)||It.fromAccount===this.getMyUserID()&&It.lastTime<=ht&&!It.isPeerRead&&(It.isPeerRead=!0,this.emitConversationUpdate(!0,!1))}}}},{key:"updateMessageIsModifiedProperty",value:function(st){this._messageListHandler.updateMessageIsModifiedProperty(st)}},{key:"setCompleted",value:function(st){pn.l("".concat(this._n,".setCompleted. conversationID:").concat(st)),this._completedMap.set(st,!0)}},{key:"updateRoamingMessageKeyAndTime",value:function(st,ht,vt){this._roamingMessageKeyAndTimeMap.set(st,{messageKey:ht,lastMessageTime:vt})}},{key:"updateRoamingMessageSequence",value:function(st,ht){this._roamingMessageSequenceMap.set(st,ht)}},{key:"getConversationList",value:function(st){var ht=this,vt="getConversationList",It="".concat(this._n,".").concat(vt),kt="pagingStatus:".concat(this._pagingStatus,", local conversation count:").concat(this._conversationMap.size,", options:").concat(st);if(pn.l("".concat(It,". ").concat(kt)),this._pagingStatus===Ds.REJECTED){var Ot=new xr(vt);return Ot.setMessage(kt),this.syncConversationList().then(function(){Ot.setNetworkType(ht.getNetworkType()).end();var Wt=ht._getConversationList(st);return go({conversationList:Wt,isSyncCompleted:ht._isSyncCompleted()})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Ot.setError(Wt,Sn,Nn).end()}),pn.e("".concat(It," failed. error:"),Wt),rr(Wt)})}if(this._conversationMap.size===0){var Pt=new xr(vt);return Pt.setMessage(kt),this.syncConversationList().then(function(){Pt.setNetworkType(ht.getNetworkType()).end();var Wt=ht._getConversationList(st);return go({conversationList:Wt,isSyncCompleted:ht._isSyncCompleted()})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(It," failed. error:"),Wt),rr(Wt)})}var qt=this._getConversationList(st);return pn.l("".concat(It,". returned conversation count:").concat(qt.length)),Go({conversationList:qt,isSyncCompleted:this._isSyncCompleted()})}},{key:"_getConversationList",value:function(st){if(vr(st))return this.getLocalConversationList();if(to(st))return st.length===0?[]:this.getLocalConversationList().filter(function(kt){return st.includes(kt.conversationID)});if(as(st)){var ht=st.type,vt=st.markType,It=st.groupName;return this.getLocalConversationList().filter(function(kt){return(ht!==Ut.CONV_C2C&&ht!==Ut.CONV_GROUP||kt.type===ht)&&(!Po(It)||kt.conversationGroupList.includes(It))&&(!Zo(vt)||kt.markList.includes(vt))})}return[]}},{key:"_handleC2CPeerReadTime",value:function(){var st,ht=Cn(this._conversationMap);try{for(ht.s();!(st=ht.n()).done;){var vt=Ft(st.value,2),It=vt[0],kt=vt[1];kt.type===Ut.CONV_C2C&&(pn.d("".concat(this._n,"._handleC2CPeerReadTime conversationID:").concat(It," peerReadTime:").concat(kt.peerReadTime)),this.recordPeerReadTime(It,kt.peerReadTime))}}catch(Ot){ht.e(Ot)}finally{ht.f()}}},{key:"_isPagingGetGroupListCompleted",value:function(){return this.getModule(So).isPagingGetCompleted()}},{key:"_getLocalGroupCount",value:function(){return this.getModule(So).getLocalGroupList().length}},{key:"_hasLocalGroup",value:function(st){return this.getModule(So).hasLocalGroup(st.replace(Ut.CONV_GROUP,""))}},{key:"getConversationProfile",value:function(st){var ht,vt=this;if((ht=this._conversationMap.has(st)?this._conversationMap.get(st):new Io({conversationID:st,type:st.slice(0,3)===Ut.CONV_C2C?Ut.CONV_C2C:Ut.CONV_GROUP},this.isIntl()))._isInfoCompleted||ht.type===Ut.CONV_SYSTEM)return Go({conversation:ht});if(Au(st)&&!this._hasLocalGroup(st))return Go({conversation:ht});var It="".concat(this._n,".").concat("getConversationProfile"),kt=new xr("getConversationProfile");return pn.l("".concat(It,". conversationID:").concat(st," remark:").concat(ht.remark," lastMessage:"),ht.lastMessage),this._updateUserOrGroupProfileCompletely(ht).then(function(Ot){kt.setNetworkType(vt.getNetworkType()).setMessage("conversationID:".concat(st," unreadCount:").concat(Ot.data.conversation.unreadCount)).end();var Pt=vt.getModule(cs);if(Pt&&ht.type===Ut.CONV_C2C){var qt=st.replace(Ut.CONV_C2C,"");if(Pt.isMyFriend(qt)){var Wt=Pt.getFriendRemark(qt);ht.remark!==Wt&&(ht.remark=Wt,pn.l("".concat(It,". conversationID:").concat(st," patch remark:").concat(ht.remark)))}}return pn.l("".concat(It," ok. conversationID:").concat(st)),Ot}).catch(function(Ot){return vt.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).setMessage("conversationID:".concat(st)).end()}),pn.e("".concat(It," failed. error:"),Ot),rr(Ot)})}},{key:"_updateUserOrGroupProfileCompletely",value:function(st){var ht=this;return st.type===Ut.CONV_C2C?this.getModule(Uo).getUserProfile({userIDList:[st.toAccount]}).then(function(vt){var It=vt.data;return It.length===0?rr(new Cs({code:yr.USER_OR_GROUP_NOT_FOUND})):(st.userProfile=It[0],st._isInfoCompleted=!0,ht._unshiftConversation(st),Go({conversation:st}))}):this.getModule(So).getGroupProfile({groupID:st.toAccount}).then(function(vt){return st.groupProfile=vt.data.group,st._isInfoCompleted=!0,ht._unshiftConversation(st),Go({conversation:st})})}},{key:"_unshiftConversation",value:function(st){st instanceof Io&&!this._conversationMap.has(st.conversationID)&&(this._conversationMap=new Map([[st.conversationID,st]].concat(Ht(this._conversationMap))),this._setStorageConversationList(),this.emitConversationUpdate(!0,!1))}},{key:"_onProfileUpdated",value:function(st){var ht=this;st.data.forEach(function(vt){var It=vt.userID;if(It===ht.getMyUserID())ht._onMyProfileModified({latestNick:vt.nick,latestAvatar:vt.avatar});else{var kt=ht._conversationMap.get("".concat(Ut.CONV_C2C).concat(It));kt&&(kt.userProfile=vt)}})}},{key:"_isSyncCompleted",value:function(){return this._pagingStatus===Ds.RESOLVED}},{key:"_errorLog",value:function(st,ht,vt,It){var kt=new Error("Params validate failed."),Ot="".concat(this.getErrorMessage("API_REFER")).concat(st);throw pn.w("[".concat(st,"] | ").concat(ht," | ").concat(this.getErrorMessage(vt,It),", ").concat(Ot)),pn.e("[".concat(st,"] Invalid ").concat(ht,": type check failed for ").concat(ht,".")),kt}},{key:"_isValidConversationID",value:function(st){return gu(st)||Au(st)||zs(st)}},{key:"deleteConversation",value:function(st){var ht=this,vt="deleteConversation";return Po(st)||Ku(st)||this._errorLog(vt,"options","StringOrObjectRequiredLog"),Po(st)?(this._isValidConversationID(st)||this._errorLog(vt,"options","InvalidConversationID",st),pn.l("".concat(this._n,".").concat(vt," conversationID:").concat(st)),this.deleteConversationList({conversationIDList:[st],flag:1})):(to(st.conversationIDList)||this._errorLog(vt,"conversationIDList","ArrayRequiredLog"),st.conversationIDList.length===0&&this._errorLog(vt,"conversationIDList","NonEmptyArrayLog"),st.conversationIDList.forEach(function(It){ht._isValidConversationID(It)||ht._errorLog(vt,"conversationIDList","InvalidConversationID",It)}),"clearHistoryMessage"in st&&typeof st.clearHistoryMessage!="boolean"&&this._errorLog(vt,"clearHistoryMessage","BooleanRequiredLog"),st.conversationIDList.length>100&&(st.conversationIDList=st.conversationIDList.slice(0,100)),this.deleteConversationList(st))}},{key:"deleteConversationList",value:function(st){var ht=this,vt=st.conversationIDList,It=vt===void 0?[]:vt,kt=st.clearHistoryMessage,Ot=kt===void 0||kt,Pt=st.flag,qt=Pt===void 0?0:Pt,Wt="".concat(this._n,".").concat("deleteConversationList");pn.l("".concat(Wt," conversationIDList.length:").concat(It.length," clearHistoryMessage:").concat(Ot));var ln=new xr("deleteConversationList");return ln.setMessage("conversationIDList:".concat(It)),Promise.all([this.rmLocalOnlyConversationList(It),this.rmLocalAndRemoteConversationList(It,Ot)]).then(function(fn){ln.setNetworkType(ht.getNetworkType()).end();var Sn=[].concat(Ht(fn[0]),Ht(fn[1]));return Sn.length===0?rr(new Cs({code:yr.CONVERSATION_NOT_FOUND})):(pn.l("".concat(Wt," ok")),Go(qt===1?{conversationID:Sn[0]}:{conversationIDList:Sn}))}).catch(function(fn){return ht.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];ln.setError(fn,qn,Yn).end()}),pn.e("".concat(Wt," failed. error:"),fn),rr(fn)})}},{key:"rmLocalOnlyConversationList",value:function(st){var ht=this;return st.filter(function(vt){if(!ht._conversationMap.has(vt))return!1;var It=ht.getLocalConversation(vt).type;return It!==Ut.CONV_GROUP||ht._hasLocalGroup(vt)?It===Ut.CONV_SYSTEM&&(ht.getModule(So).deleteGroupSystemNotice({messageList:ht._messageListHandler.getLocalMessageList(vt)}),ht.deleteLocalConversation(vt),!0):(ht.deleteLocalConversation(vt),!0)})}},{key:"rmLocalAndRemoteConversationList",value:function(st,ht){var vt=this,It={fromAccount:this.getMyUserID(),conversationList:[],clearHistoryMessage:ht?1:0};return st.forEach(function(kt){if(vt._conversationMap.has(kt)){var Ot=vt.getLocalConversation(kt).type;Ot===Ut.CONV_C2C?It.conversationList.push({toAccount:kt.replace(Ot,""),type:1}):Ot===Ut.CONV_GROUP&&vt._hasLocalGroup(kt)&&It.conversationList.push({toGroupID:kt.replace(Ot,""),type:2})}}),It.conversationList.length===0?[]:this.request({protocolName:Tp,requestData:It}).then(function(kt){var Ot=[];return kt.data.resultList.length>0&&kt.data.resultList.map(function(Pt){if(Pt.code===0){var qt=Pt.type===1?"".concat(Ut.CONV_C2C).concat(Pt.to):"".concat(Ut.CONV_GROUP).concat(Pt.groupID);Ot.push(qt)}}),vt.deleteLocalConversationList(Ot),Ot})}},{key:"clearHistoryMessage",value:function(st){var ht=this,vt={fromAccount:this.getMyUserID(),toAccount:void 0,type:void 0,toGroupID:void 0};if(!this._conversationMap.has(st))return rr({code:yr.CONVERSATION_NOT_FOUND});var It=this._conversationMap.get(st).type;if(It===Ut.CONV_C2C)vt.type=1,vt.toAccount=st.replace(Ut.CONV_C2C,"");else{if(It!==Ut.CONV_GROUP)return It===Ut.CONV_SYSTEM?(this.getModule(So).deleteGroupSystemNotice({messageList:this._messageListHandler.getLocalMessageList(st)}),Go({conversationID:st})):rr({code:yr.CONVERSATION_UN_RECORDED_TYPE});vt.type=2,vt.toGroupID=st.replace(Ut.CONV_GROUP,"")}var kt="".concat(this._n,".").concat("clearHistoryMessage"),Ot=new xr("clearHistoryMessage");return Ot.setMessage("conversationID:".concat(st)),pn.l("".concat(kt,". conversationID:").concat(st)),this.setMessageRead({conversationID:st}).then(function(){return ht.request({protocolName:gm,requestData:vt})}).then(function(){Ot.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(kt," ok")),ht._messageListHandler.removeByConversationID(st),ht.setCompleted(st);var Pt=ht.getLocalConversation(st);return Pt&&(Pt.updateLastMessage(),ht._sortConversationListAndEmitEvent()),Go({conversationID:st})}).catch(function(Pt){return ht.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];Ot.setError(Pt,ln,fn).end()}),pn.e("".concat(kt," failed. error:"),Pt),rr(Pt)})}},{key:"pinConversation",value:function(st){var ht=this,vt=st.conversationID,It=st.isPinned;if(!this._conversationMap.has(vt))return rr({code:yr.CONVERSATION_NOT_FOUND});var kt=this.getLocalConversation(vt);if(kt.isPinned===It)return Go({conversationID:vt});var Ot="".concat(this._n,".").concat("pinConversation"),Pt=new xr("pinConversation");Pt.setMessage("conversationID:".concat(vt," isPinned:").concat(It)),pn.l("".concat(Ot,". conversationID:").concat(vt," isPinned:").concat(It));var qt=null;return gu(vt)?qt={type:1,toAccount:vt.replace(Ut.CONV_C2C,"")}:Au(vt)&&(qt={type:2,groupID:vt.replace(Ut.CONV_GROUP,"")}),this.request({protocolName:gp,requestData:{fromAccount:this.getMyUserID(),operationType:It===!0?1:2,itemList:[qt]}}).then(function(){return Pt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(Ot," ok")),kt.isPinned!==It&&(kt.isPinned=It,ht._sortConversationListAndEmitEvent()),go({conversationID:vt})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(Ot," failed. error:"),Wt),rr(Wt)})}},{key:"setMessageRemindType",value:function(st){return this._messageRemindHandler.set(st)}},{key:"patchMessageRemindType",value:function(st){var ht=st.ID,vt=st.isC2CConversation,It=st.messageRemindType,kt=!1,Ot=this.getLocalConversation(vt?"".concat(Ut.CONV_C2C).concat(ht):"".concat(Ut.CONV_GROUP).concat(ht));return Ot&&Ot.messageRemindType!==It&&(Ot.messageRemindType=It,kt=!0),pn.d("".concat(this._n,".patchMessageRemindType options:"),st,"ret:".concat(kt)),kt}},{key:"onC2CMessageRemindTypeSynced",value:function(st){var ht=this,vt="".concat(this._n,".onC2CMessageRemindTypeSynced");pn.d(vt,st),st.dataList.forEach(function(It){if(!dr(It.muteNotificationsSync)){var kt,Ot=It.muteNotificationsSync,Pt=Ot.to,qt=Ot.updateSequence,Wt=Ot.muteFlag;ht._messageRemindHandler.setUpdateSequence(qt),Wt===0?kt=Ut.MSG_REMIND_ACPT_AND_NOTE:Wt===1?kt=Ut.MSG_REMIND_DISCARD:Wt===2&&(kt=Ut.MSG_REMIND_ACPT_NOT_NOTE);var ln=0;ht.patchMessageRemindType({ID:Pt,isC2CConversation:!0,messageRemindType:kt})&&(ln+=1),pn.l("".concat(vt," updateCount:").concat(ln)),ln>=1&&ht.emitConversationUpdate(!0,!1)}})}},{key:"onGroupMessageRemindTypeSynced",value:function(st){pn.d("".concat(this._n,".onGroupMessageRemindTypeSynced options:"),st),this._messageRemindHandler.onGroupMessageRemindTypeUpdated(st)}},{key:"deleteLocalConversation",value:function(st){var ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],vt=this._conversationMap.has(st);if(pn.d("".concat(this._n,".deleteLocalConversation conversationID:").concat(st," has:").concat(vt)),vt&&(this._conversationMap.delete(st),this._roamingMessageKeyAndTimeMap.has(st)&&this._roamingMessageKeyAndTimeMap.delete(st),this._roamingMessageSequenceMap.has(st)&&this._roamingMessageSequenceMap.delete(st),this._setStorageConversationList(),this._messageListHandler.removeByConversationID(st),this._completedMap.delete(st),ht)){var It=!this._isTopicConversation(st);this.emitConversationUpdate(It,!1)}}},{key:"deleteLocalConversationList",value:function(st){var ht=this,vt=0,It=!1;st.forEach(function(kt){ht._conversationMap.has(kt)&&(vt+=ht._conversationMap.get(kt).unreadCount||0,ht.deleteLocalConversation(kt,!1),It=!0)}),pn.l("".concat(this._n,".deleteLocalConversationList conversationIDList.length:").concat(st.length," isConvIDExisted:").concat(It)),It&&(this.emitConversationUpdate(!0,!1),vt>0&&this.emitTotalUnreadMessageCountUpdate())}},{key:"isMessageSentByCurrentInstance",value:function(st){return!(!this._messageListHandler.hasLocalMessage(st.conversationID,st.ID)&&!this.singlyLinkedList.has(st.random))}},{key:"modifyMessageList",value:function(st){if(st.startsWith(Ut.CONV_C2C)&&this._conversationMap.has(st)){var ht=this._conversationMap.get(st),vt=Date.now();this._messageListHandler.modifyMessageSentByPeer({conversationID:st,latestNick:ht.userProfile.nick,latestAvatar:ht.userProfile.avatar});var It=this.getModule(Uo).getNickAndAvatarByUserID(this.getMyUserID());this._messageListHandler.modifyMessageSentByMe({conversationID:st,latestNick:It.nick,latestAvatar:It.avatar}),pn.l("".concat(this._n,".modifyMessageList conversationID:").concat(st," cost ").concat(Date.now()-vt," ms"))}}},{key:"updateUserProfileSpecifiedKey",value:function(st){pn.l("".concat(this._n,".updateUserProfileSpecifiedKey options:"),st);var ht=st.conversationID,vt=st.nick,It=st.avatar;if(this._conversationMap.has(ht)){var kt=this._conversationMap.get(ht).userProfile;Po(vt)&&kt.nick!==vt&&(kt.nick=vt),Po(It)&&kt.avatar!==It&&(kt.avatar=It),this.emitConversationUpdate(!0,!1)}}},{key:"_onMyProfileModified",value:function(st){var ht=this,vt=this.getLocalConversationList(),It=Date.now();vt.forEach(function(kt){ht.modifyMessageSentByMe(rt({conversationID:kt.conversationID},st))}),pn.l("".concat(this._n,"._onMyProfileModified. modify all messages sent by me, cost ").concat(Date.now()-It," ms"))}},{key:"modifyMessageSentByMe",value:function(st){this._messageListHandler.modifyMessageSentByMe(st)}},{key:"getLatestMessageSentByMe",value:function(st){return this._messageListHandler.getLatestMessageSentByMe(st)}},{key:"modifyMessageSentByPeer",value:function(st){this._messageListHandler.modifyMessageSentByPeer(st)}},{key:"getLatestMessageSentByPeer",value:function(st){return this._messageListHandler.getLatestMessageSentByPeer(st)}},{key:"pushIntoNoticeResult",value:function(st,ht){return!(!this._messageListHandler.pushIn(ht)||this.singlyLinkedList.has(ht.random))&&(st.push(ht),!0)}},{key:"getLocalLastMessage",value:function(st){return this._messageListHandler.getLocalLastMessage(st)}},{key:"checkAndPatchRemark",value:function(){var st=Promise.resolve();if(this._conversationMap.size===0)return st;var ht=this.getModule(cs);if(!ht)return st;var vt=Ht(this._conversationMap.values()).filter(function(kt){return kt.type===Ut.CONV_C2C});if(vt.length===0)return st;var It=0;return vt.forEach(function(kt){var Ot=kt.conversationID.replace(Ut.CONV_C2C,"");if(ht.isMyFriend(Ot)){var Pt=ht.getFriendRemark(Ot);kt.remark!==Pt&&(kt.remark=Pt,It+=1)}}),pn.l("".concat(this._n,".checkAndPatchRemark. c2c conversation count:").concat(vt.length,", patched count:").concat(It)),st}},{key:"updateTopicConversation",value:function(st){this._updateLocalConversationList({conversationOptionsList:st,isFromGetConversations:!0})}},{key:"sendReadReceipt",value:function(st){var ht=st[0],vt=null;return ht.conversationType===Ut.CONV_C2C?vt=this._m.getModule(Ws):ht.conversationType===Ut.CONV_GROUP&&(vt=this._m.getModule(So)),vt?vt.sendReadReceipt(st):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"getReadReceiptList",value:function(st){var ht=st[0],vt=null;return ht.conversationType===Ut.CONV_C2C?vt=this._m.getModule(Ws):ht.conversationType===Ut.CONV_GROUP&&(vt=this._m.getModule(So)),vt?vt.getReadReceiptList(st):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"getLastMessageTime",value:function(st){var ht=this.getLocalConversation(st);return ht?ht.lastMessage.lastTime:0}},{key:"getTotalUnreadMessageCount",value:function(){var st=this.getLocalConversationList(),ht=0;return st.forEach(function(vt){vt.type!==Ut.CONV_SYSTEM&&(vt.messageRemindType!==""&&vt.messageRemindType!==Ut.MSG_REMIND_ACPT_AND_NOTE||(ht+=vt.unreadCount))}),ht}},{key:"emitTotalUnreadMessageCountUpdate",value:function(){var st=this.getTotalUnreadMessageCount();this._convTotalUnreadCount!==st&&(pn.l("".concat(this._n,".emitTotalUnreadMessageCountUpdate from ").concat(this._convTotalUnreadCount," to ").concat(st)),this._convTotalUnreadCount=st,this.emitOuterEvent(yn.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED))}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._pagingStatus=Ds.NOT_START,this._messageListHandler.reset(),this._messageRemindHandler.reset(),this._roamingMessageKeyAndTimeMap.clear(),this._roamingMessageSequenceMap.clear(),this.singlyLinkedList.reset(),this._peerReadTimeMap.clear(),this._completedMap.clear(),this._conversationMap.clear(),this._pagingTimeStamp=0,this._pagingStartIndex=0,this._pagingPinnedTimeStamp=0,this._pagingPinnedStartIndex=0,this._remoteGroupReadSequenceMap.clear(),this._convTotalUnreadCount=0,this._pagingGetCostList.length=0,this.resetReady()}}]),yt}(Os),Yl=function(){function Gt(dt){it(this,Gt),this._groupModule=dt,this._n="GroupTipsHandler",this._cachedGroupTipsMap=new Map,this._checkCountMap=new Map,this.MAX_CHECK_COUNT=4,this._getTopicPendingMap=new Map}return lt(Gt,[{key:"onCheckTimer",value:function(dt){dt%1==0&&this._cachedGroupTipsMap.size>0&&this._checkCachedGroupTips()}},{key:"_checkCachedGroupTips",value:function(){var dt=this;this._cachedGroupTipsMap.forEach(function(yt,st){var ht=dt._checkCountMap.get(st),vt=dt._groupModule.hasLocalGroup(st);pn.l("".concat(dt._n,"._checkCachedGroupTips groupID:").concat(st," hasLocalGroup:").concat(vt," checkCount:").concat(ht)),vt?(dt._notifyCachedGroupTips(st),dt._checkCountMap.delete(st),dt._groupModule.deleteUnjoinedAVChatRoom(st)):ht>=dt.MAX_CHECK_COUNT?(dt._deleteCachedGroupTips(st),dt._checkCountMap.delete(st)):(ht++,dt._checkCountMap.set(st,ht))})}},{key:"onNewGroupTips",value:function(dt){pn.d("".concat(this._n,".onReceiveGroupTips count:").concat(dt.dataList.length));var yt=this.newGroupTipsStoredAndSummary(dt),st=yt.eventDataList,ht=yt.result,vt=yt.AVChatRoomMessageList;vt.length>0&&this._groupModule.onAVChatRoomMessage(vt),st.length>0&&(this._groupModule.updateNextMessageSeq(st),this._groupModule.getModule(qr).onNewMessage({conversationOptionsList:st,isInstantMessage:!0})),ht.length>0&&(this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,ht),this.handleMessageList(ht))}},{key:"newGroupTipsStoredAndSummary",value:function(dt){for(var yt=this,st=dt.event,ht=dt.dataList,vt=null,It=[],kt=[],Ot={},Pt=[],qt=function(fn,Sn){var Nn=Qu(ht[fn]);if(st===6&&(yt._groupModule.isGroupAttributesUpdatedNotice(Nn)||yt._groupModule.isGroupCountersNotice(Nn)))return"continue";var qn=Nn.groupProfile,Yn=qn.groupID,Zn=qn.communityType,or=Zn===void 0?0:Zn,Sr=qn.topicID,Pr=Sr===void 0?void 0:Sr,Vr=qn.invisible,io=void 0,No=yt._groupModule.isMessageFromTopic(or,Pr);if(No){io=Ut.CONV_TOPIC,Nn.to=Pr;var Bo=yt._groupModule.getModule(ys);Bo.hasLocalTopic(Yn,Pr)||yt._getTopicPendingMap.has(Pr)||(yt._getTopicPendingMap.set(Pr,1),Bo.getTopicList({groupID:Yn,topicIDList:[Pr]}).finally(function(){yt._getTopicPendingMap.delete(Pr)}))}var ko=yt._groupModule.hasLocalGroup(Yn);if(!ko&&yt._groupModule.isUnjoinedAVChatRoom(Yn))return"continue";if(!ko&&!No)return yt._cacheGroupTipsAndProbe({groupID:Yn,event:st,item:Nn}),"continue";if(yt._groupModule.isMessageFromOrToAVChatroom(Yn))return Nn.event=st,Pt.push(Nn),"continue";if(Nn.currentUser=yt._groupModule.getMyUserID(),Nn.conversationType=Ut.CONV_GROUP,(vt=new yu(Nn)).setElement({type:Ut.MSG_GRP_TIP,content:rt(rt({},Nn.elements),{},{groupProfile:Nn.groupProfile})}),vt.isSystemMessage=!1,Vr===1)return yt._qualityStat(vt),"continue";var Nt=yt._groupModule.getModule(qr),ut=vt,_t=ut.conversationID,at=ut.sequence;if(st===6)vt._onlineOnlyFlag=!0,kt.push(vt);else if(!Nt.pushIntoNoticeResult(kt,vt))return"continue";if(yt._groupModule.isMessageFromCommunityOfTopic(or,Pr)||st===6&&Nt.getLocalConversation(_t))return"continue";st!==6&&yt._qualityStat(vt);var ft=Nt.isRemoteRead({conversationID:_t,sequence:at});if(vr(Ot[_t])){var gt=0;vt.flow==="in"&&(vt._isExcludedFromUnreadCount||vt._onlineOnlyFlag||ft||(gt=1)),Ot[_t]=It.push({conversationID:_t,unreadCount:gt,type:vr(io)?vt.conversationType:io,subType:vt.conversationSubType,lastMessage:vt._isExcludedFromLastMessage?"":vt})-1}else{var Ct=Ot[_t];It[Ct].type=vt.conversationType,It[Ct].subType=vt.conversationSubType,It[Ct].lastMessage=vt._isExcludedFromLastMessage?"":vt,vt.flow==="in"&&(vt._isExcludedFromUnreadCount||vt._onlineOnlyFlag||ft||It[Ct].unreadCount++)}},Wt=0,ln=ht.length;Wt<ln;Wt++)qt(Wt);return{eventDataList:It,result:kt,AVChatRoomMessageList:Pt}}},{key:"_qualityStat",value:function(dt){this._groupModule.getModule($s).addMessageSequence({key:Gp,message:dt})}},{key:"handleMessageList",value:function(dt){var yt=this;dt.forEach(function(st){switch(st.payload.operationType){case 1:yt._onNewMemberComeIn(st);break;case 2:yt._onMemberQuit(st);break;case 3:yt._onMemberKickedOut(st);break;case 4:yt._onMemberSetAdmin(st);break;case 5:yt._onMemberCancelledAdmin(st);break;case 6:yt._onGroupProfileModified(st);break;case 7:yt._onMemberInfoModified(st);break;case 8:yt._onTopicProfileUpdated(st);break;default:pn.w("".concat(yt._n,".handleMessageList unknown operationType:").concat(st.payload.operationType))}})}},{key:"_onNewMemberComeIn",value:function(dt){var yt=dt.payload,st=yt.memberNum,ht=yt.groupProfile.groupID,vt=this._groupModule.getLocalGroupProfile(ht);vt&&Zo(st)&&vt.memberCount!==st&&(vt.memberCount=st,this._updateConversationGroupProfile(vt))}},{key:"_onMemberQuit",value:function(dt){var yt=dt.payload,st=yt.memberNum,ht=yt.groupProfile.groupID,vt=this._groupModule.getLocalGroupProfile(ht);vt&&Zo(st)&&vt.memberCount!==st&&(vt.memberCount=st,this._updateConversationGroupProfile(vt)),this._groupModule.getModule(ba).deleteLocalGroupMembers(ht,dt.payload.userIDList)}},{key:"_onMemberKickedOut",value:function(dt){var yt=dt.payload,st=yt.memberNum,ht=yt.groupProfile.groupID,vt=this._groupModule.getLocalGroupProfile(ht);vt&&Zo(st)&&vt.memberCount!==st&&(vt.memberCount=st,this._updateConversationGroupProfile(vt)),this._groupModule.getModule(ba).deleteLocalGroupMembers(ht,dt.payload.userIDList)}},{key:"_updateConversationGroupProfile",value:function(dt){this._groupModule.getModule(qr).updateConversationGroupProfile([dt])}},{key:"_onMemberSetAdmin",value:function(dt){var yt=dt.payload.groupProfile.groupID,st=dt.payload.userIDList,ht=this._groupModule.getModule(ba);st.forEach(function(vt){var It=ht.getLocalGroupMemberInfo(yt,vt);It&&It.updateRole(Ut.GRP_MBR_ROLE_ADMIN)})}},{key:"_onMemberCancelledAdmin",value:function(dt){var yt=dt.payload.groupProfile.groupID,st=dt.payload.userIDList,ht=this._groupModule.getModule(ba);st.forEach(function(vt){var It=ht.getLocalGroupMemberInfo(yt,vt);It&&It.updateRole(Ut.GRP_MBR_ROLE_MEMBER)})}},{key:"_onGroupProfileModified",value:function(dt){var yt=this,st=dt.payload,ht=st.newGroupProfile,vt=st.groupProfile.groupID,It=this._groupModule.getLocalGroupProfile(vt);Object.keys(ht).forEach(function(Ot){switch(Ot){case"ownerID":yt._ownerChanged(It,ht);break;case"groupName":It.name=ht[Ot];break;default:It[Ot]=ht[Ot]}});var kt=!It.isSupportTopic;this._groupModule.emitGroupListUpdate(!0,kt)}},{key:"_ownerChanged",value:function(dt,yt){var st=dt.groupID,ht=this._groupModule.getLocalGroupProfile(st),vt=this._groupModule.getMyUserID();if(vt===yt.ownerID){ht.updateGroup({selfInfo:{role:Ut.GRP_MBR_ROLE_OWNER}});var It=this._groupModule.getModule(ba),kt=It.getLocalGroupMemberInfo(st,vt),Ot=this._groupModule.getLocalGroupProfile(st).ownerID,Pt=It.getLocalGroupMemberInfo(st,Ot);kt&&kt.updateRole(Ut.GRP_MBR_ROLE_OWNER),Pt&&Pt.updateRole(Ut.GRP_MBR_ROLE_MEMBER)}}},{key:"_onMemberInfoModified",value:function(dt){var yt=dt.to,st=dt.payload,ht=st.groupProfile,vt=st.memberList,It=ht.groupID;ps(yt)&&this._updateTopicMuteTime(dt);var kt=this._groupModule.getModule(ba);vt.forEach(function(Ot){var Pt=kt.getLocalGroupMemberInfo(It,Ot.userID);Pt&&Zo(Ot.muteTime)&&Pt.updateMuteUntil(Ot.muteTime)})}},{key:"_updateTopicMuteTime",value:function(dt){var yt=dt.to,st=dt.payload,ht=st.groupProfile,vt=st.memberList,It=vt===void 0?[]:vt,kt=this._groupModule.getModule(ys),Ot=ht.groupID,Pt=kt.getLocalTopic(Ot,yt);if(Pt){for(var qt=!1,Wt=0;Wt<It.length;Wt++){var ln=It[Wt];if(ln.userID===this._groupModule.getMyUserID()&&ln.muteTime>=0){Pt.updateSelfInfo({muteTime:ln.muteTime}),qt=!0;break}}qt&&this._groupModule.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:Ot,topic:Pt})}}},{key:"_onTopicProfileUpdated",value:function(dt){var yt=dt.payload,st=yt.groupProfile.groupID,ht=yt.newTopicInfo;this._groupModule.getModule(ys).onTopicProfileUpdated(rt({groupID:st,topicID:dt.to},ht))}},{key:"_cacheGroupTips",value:function(dt,yt){this._cachedGroupTipsMap.has(dt)||this._cachedGroupTipsMap.set(dt,[]),this._cachedGroupTipsMap.get(dt).push(yt)}},{key:"_deleteCachedGroupTips",value:function(dt){this._cachedGroupTipsMap.has(dt)&&this._cachedGroupTipsMap.delete(dt)}},{key:"_notifyCachedGroupTips",value:function(dt){var yt=this,st=this._cachedGroupTipsMap.get(dt)||[];st.forEach(function(ht){yt.onNewGroupTips(ht)}),this._deleteCachedGroupTips(dt),pn.l("".concat(this._n,"._notifyCachedGroupTips groupID:").concat(dt," count:").concat(st.length))}},{key:"_cacheGroupTipsAndProbe",value:function(dt){var yt=this,st=dt.groupID,ht=dt.event,vt=dt.item;this._cacheGroupTips(st,{event:ht,dataList:[vt]}),this._groupModule.getGroupSimplifiedInfo(st).then(function(It){It.type===Ut.GRP_AVCHATROOM?yt._groupModule.hasLocalGroup(st)?yt._notifyCachedGroupTips(st):yt._groupModule.setUnjoinedAVChatRoom(st):(yt._groupModule.updateGroupMap([It]),yt._notifyCachedGroupTips(st))}),this._checkCountMap.has(st)||this._checkCountMap.set(st,0),pn.l("".concat(this._n,"._cacheGroupTipsAndProbe groupID:").concat(st))}},{key:"reset",value:function(){this._cachedGroupTipsMap.clear(),this._checkCountMap.clear(),this._getTopicPendingMap.clear()}}]),Gt}(),vp=function(){function Gt(dt){it(this,Gt),this._groupModule=dt,this._n="CommonGroupHandler",this.tempConversationList=null,this._cachedGroupMessageMap=new Map,this._checkCountMap=new Map,this.MAX_CHECK_COUNT=4,this._getTopicPendingMap=new Map,this._isPagingGetCompleted=!1,dt.getInnerEmitterInstance().once(jp,this._initGroupList,this)}return lt(Gt,[{key:"onCheckTimer",value:function(dt){dt%1==0&&this._cachedGroupMessageMap.size>0&&this._checkCachedGroupMessage()}},{key:"_checkCachedGroupMessage",value:function(){var dt=this;this._cachedGroupMessageMap.forEach(function(yt,st){var ht=dt._checkCountMap.get(st),vt=dt._groupModule.hasLocalGroup(st);pn.l("".concat(dt._n,"._checkCachedGroupMessage groupID:").concat(st," hasLocalGroup:").concat(vt," checkCount:").concat(ht)),vt?(dt._notifyCachedGroupMessage(st),dt._checkCountMap.delete(st),dt._groupModule.deleteUnjoinedAVChatRoom(st)):ht>=dt.MAX_CHECK_COUNT?(dt._deleteCachedGroupMessage(st),dt._checkCountMap.delete(st)):(ht++,dt._checkCountMap.set(st,ht))})}},{key:"_initGroupList",value:function(){var dt=this;pn.l("".concat(this._n,"._initGroupList"));var yt=new xr("getGroupListInStorage"),st=this._groupModule.getStorageGroupList();if(to(st)&&st.length>0){st.forEach(function(vt){dt._groupModule.initGroupMap(vt)}),this._groupModule.emitGroupListUpdate(!0,!1);var ht=this._groupModule.getLocalGroupList().length;yt.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:".concat(ht)).end()}else yt.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:0").end();pn.l("".concat(this._n,"._initGroupList ok"))}},{key:"handleUpdateGroupLastMessage",value:function(dt){var yt="".concat(this._n,".handleUpdateGroupLastMessage");if(pn.l("".concat(yt," conversation count:").concat(dt.length,", local group count:").concat(this._groupModule.getLocalGroupList().length)),this._groupModule.getGroupMap().size!==0){for(var st,ht,vt,It=!1,kt=0,Ot=dt.length;kt<Ot;kt++)(st=dt[kt]).type===Ut.CONV_GROUP&&(ht=st.conversationID.split(/^GROUP/)[1],(vt=this._groupModule.getLocalGroupProfile(ht))&&(vt.lastMessage=rt({},st.lastMessage),It=!0));It&&(this._groupModule.sortLocalGroupList(),this._groupModule.emitGroupListUpdate(!0,!1))}else this.tempConversationList=dt}},{key:"onNewGroupMessage",value:function(dt){pn.d("".concat(this._n,".onNewGroupMessage count:").concat(dt.dataList.length));var yt=this._newGroupMessageStoredAndSummary(dt),st=yt.conversationOptionsList,ht=yt.messageList,vt=yt.AVChatRoomMessageList;vt.length>0&&this._groupModule.onAVChatRoomMessage(vt),this._groupModule.filterModifiedMessage(ht),st.length>0&&(this._groupModule.updateNextMessageSeq(st),this._groupModule.getModule(qr).onNewMessage({conversationOptionsList:st,isInstantMessage:dt.isInstantMessage||!0,updateUnreadCount:dt.updateUnreadCount||!0}));var It=this._groupModule.filterUnmodifiedMessage(ht);It.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,It),ht.length=0}},{key:"_newGroupMessageStoredAndSummary",value:function(dt){var yt=this,st=dt.dataList,ht=dt.event,vt=dt.isInstantMessage,It=null,kt=[],Ot=[],Pt=[],qt={},Wt=this._groupModule.getModule(gs),ln=this._groupModule.getFileDownloadProxy(),fn=st.length;fn>1&&st.sort(function(qn,Yn){return qn.sequence-Yn.sequence});for(var Sn=function(qn){var Yn=Qu(st[qn]),Zn=Yn.groupProfile,or=Zn.groupID,Sr=Zn.communityType,Pr=Sr===void 0?0:Sr,Vr=Zn.topicID,io=Vr===void 0?void 0:Vr,No=Zn.invisible,Bo=void 0,ko=yt._groupModule.isMessageFromTopic(Pr,io);if(ko){Bo=Ut.CONV_TOPIC,Yn.to=io;var Nt=yt._groupModule.getModule(ys);Nt.hasLocalTopic(or,io)||yt._getTopicPendingMap.has(io)||(yt._getTopicPendingMap.set(io,1),Nt.getTopicList({groupID:or,topicIDList:[io]}).finally(function(){yt._getTopicPendingMap.delete(io)}))}var ut=yt._groupModule.hasLocalGroup(or);if(!ut&&yt._groupModule.isUnjoinedAVChatRoom(or))return"continue";if(!ut&&!ko)return yt._cacheGroupMessageAndProbe({groupID:or,event:ht,item:Yn}),"continue";if(yt._groupModule.isMessageFromOrToAVChatroom(or))return Yn.event=ht,Pt.push(Yn),"continue";if(Yn.currentUser=yt._groupModule.getMyUserID(),Yn.conversationType=Ut.CONV_GROUP,Yn.isSystemMessage=!!Yn.isSystemMessage,It=new yu(Yn),Yn.elements=Wt.parseElements(Yn.elements,Yn.from),It.setElement(Yn.elements,ln),No===1)return yt._qualityStat(vt,It),"continue";var _t=st[qn].isModified===1,at=yt._groupModule.getModule(qr);if(at.isMessageSentByCurrentInstance(It)?It.isModified=_t:_t=!1,Yn.onlineOnlyFlag===1)It._onlineOnlyFlag=!0,at.isMessageSentByCurrentInstance(It)||Ot.push(It);else{if(yt._groupModule.isMessageFromCommunityOfTopic(Pr,io))return Ot.push(It),"continue";if(!at.pushIntoMessageList(Ot,It,_t))return"continue";yt._qualityStat(vt,It);var ft=It,gt=ft.conversationID,Ct=ft.sequence,St=at.isRemoteRead({conversationID:gt,sequence:Ct});if(vr(qt[gt])){var Dt=0;It.flow==="in"&&(It._isExcludedFromUnreadCount||St||(Dt=1)),qt[gt]=kt.push({conversationID:gt,unreadCount:Dt,type:vr(Bo)?It.conversationType:Bo,subType:It.conversationSubType,lastMessage:It._isExcludedFromLastMessage?"":It})-1}else{var Lt=qt[gt];kt[Lt].type=vr(Bo)?It.conversationType:Bo,kt[Lt].subType=It.conversationSubType,kt[Lt].lastMessage=It._isExcludedFromLastMessage?"":It,It.flow==="in"&&(It._isExcludedFromUnreadCount||St||kt[Lt].unreadCount++)}}},Nn=0;Nn<fn;Nn++)Sn(Nn);return{conversationOptionsList:kt,messageList:Ot,AVChatRoomMessageList:Pt}}},{key:"_qualityStat",value:function(dt,yt){var st=this._groupModule.getModule($s);st.addMessageSequence({key:Gp,message:yt}),dt&&yt.clientTime>0&&st.addMessageDelay(yt.clientTime)}},{key:"onGroupMessageRevoked",value:function(dt){var yt=this._groupModule.getModule(qr),st=[],ht=null,vt=!0;dt.dataList.forEach(function(It){var kt=It.elements.revokedInfos;vr(kt)||kt.forEach(function(Ot){var Pt=dr(Ot.topicID)?"GROUP".concat(Ot.groupID):"GROUP".concat(Ot.topicID);ht=yt.revoke(Pt,Ot.sequence,Ot.random);var qt=Ot.revokerInfo&&Ot.revokerInfo.revoker;if(ht)ht.revoker=qt,st.push(ht);else{var Wt={conversationID:Pt,to:Ot.topicID||"",sequence:Ot.sequence,time:Ot.time,revoker:qt};yt.isLastMessageRevoked(Wt)&&(st.push(Wt),vt=!1)}})}),st.length!==0&&(yt.onMessageRevoked(st),vt===!0&&(pn.l("".concat(this._n,".onGroupMessageRevoked count:").concat(st.length)),this._groupModule.emitOuterEvent(yn.MESSAGE_REVOKED,st)))}},{key:"_groupListTreeShaking",value:function(dt){for(var yt=new Map(Ht(this._groupModule.getGroupMap())),st=0,ht=dt.length;st<ht;st++)yt.delete(dt[st].groupID);this._groupModule.hasJoinedAVChatRoom()&&this._groupModule.getJoinedAVChatRoom().forEach(function(Ot){yt.delete(Ot)}),this._groupModule.getGroupMap().forEach(function(Ot,Pt){Ot.isSupportTopic&&yt.delete(Pt)});for(var vt=Ht(yt.keys()),It=0,kt=vt.length;It<kt;It++)this._groupModule.deleteGroup(vt[It])}},{key:"getGroupList",value:function(dt){var yt=this,st="".concat(this._n,".").concat("getGroupList"),ht=new xr("getGroupList");pn.l("".concat(st));var vt={introduction:"Introduction",notification:"Notification",createTime:"CreateTime",ownerID:"Owner_Account",lastInfoTime:"LastInfoTime",memberNum:"MemberNum",maxMemberNum:"MaxMemberNum",joinOption:"ApplyJoinOption",inviteOption:"InviteJoinOption",muteAllMembers:"ShutUpAllMember"},It=["Type","Name","FaceUrl","NextMsgSeq","LastMsgTime","AtInfoList","LastRecallTime"],kt=[];dt&&dt.groupProfileFilter&&dt.groupProfileFilter.forEach(function(qt){vt[qt]&&It.push(vt[qt])});var Ot=(dt||{}).isGroupWithTopicOnly,Pt=Ot!==void 0&&Ot;return this._pagingGetGroupList({limit:50,offset:0,groupBaseInfoFilter:It,groupList:kt,isGroupWithTopicOnly:Pt}).then(function(){pn.l("".concat(st," ok. count:").concat(kt.length," isGroupWithTopicOnly:").concat(Pt)),Pt||yt._groupListTreeShaking(kt),yt._groupModule.updateGroupMap(kt);var qt=yt._groupModule.getLocalGroupList().length;ht.setNetworkType(yt._groupModule.getNetworkType()).setMessage("remote count:".concat(kt.length,", after tree shaking, local count:").concat(qt,", isGroupWithTopicOnly:").concat(Pt)).end(),yt.tempConversationList&&(yt.handleUpdateGroupLastMessage(yt.tempConversationList),yt.tempConversationList=null),yt._groupModule.patchGroupMessageRemindType(),yt._groupModule.recomputeUnreadCount(),yt._groupModule.emitGroupListUpdate(!0,!Pt);var Wt=yt._groupModule.getLocalGroupList();if(Pt){var ln=Wt.filter(function(fn){return fn.isSupportTopic===!0});return go({groupList:ln})}return yt._isPagingGetCompleted=!0,go({groupList:Wt})}).catch(function(qt){return yt._groupModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];ht.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"isPagingGetCompleted",value:function(){return this._isPagingGetCompleted}},{key:"_pagingGetGroupList",value:function(dt){var yt=this,st="".concat(this._n,".").concat("_pagingGetGroupList"),ht=dt.isCommunityRelay,vt=ht!==void 0&&ht,It=dt.isGroupWithTopicOnly,kt=It!==void 0&&It,Ot=dt.limit,Pt=dt.offset,qt=dt.groupBaseInfoFilter,Wt=dt.groupList;if(kt)return this._pagingGetGroupListWithTopic({limit:Ot,offset:Pt,groupBaseInfoFilter:qt,groupList:Wt});var ln=new xr("_pagingGetGroupList");return this._groupModule.request({protocolName:mp,requestData:{type:vt?Ut.GRP_COMMUNITY:void 0,memberAccount:this._groupModule.getMyUserID(),limit:Ot,offset:Pt,responseFilter:{groupBaseInfoFilter:qt,selfInfoFilter:["Role","JoinTime","MsgFlag","MsgSeq"]}}}).then(function(fn){var Sn=fn.data,Nn=Sn.groups,qn=Nn===void 0?[]:Nn,Yn=Sn.totalCount;Wt.push.apply(Wt,Ht(qn)),yt._handleGroupAtInfoWithoutTopic(vt,qn);var Zn=Pt+Ot,or=!(Yn>Zn),Sr="offset:".concat(Pt," totalCount:").concat(Yn," isCompleted:").concat(or," ")+"currentCount:".concat(Wt.length," isCommunityRelay:").concat(vt);return ln.setNetworkType(yt._groupModule.getNetworkType()).setMessage("".concat(Sr)).end(),vt||or?!vt&&or?(pn.l("".concat(st," start to get community list")),Pt=0,yt._pagingGetGroupList({limit:Ot,offset:Pt,groupBaseInfoFilter:qt,groupList:Wt,isCommunityRelay:!0})):vt&&!or?(Pt=Zn,yt._pagingGetGroupList({limit:Ot,offset:Pt,groupBaseInfoFilter:qt,groupList:Wt,isCommunityRelay:!0})):(pn.l("".concat(st," ok. totalCount:").concat(Wt.length)),go({groupList:Wt})):(Pt=Zn,yt._pagingGetGroupList({limit:Ot,offset:Pt,groupBaseInfoFilter:qt,groupList:Wt}))}).catch(function(fn){return fn.code!==11e3&&yt._groupModule.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];ln.setMessage("isCommunityRelay:".concat(vt)).setError(fn,qn,Yn).end()}),vt?(fn.code===11e3&&(ln=null,pn.l("".concat(st," ok. community unavailable"))),Go({groupList:Wt})):rr(fn)})}},{key:"_pagingGetGroupListWithTopic",value:function(dt){var yt=this,st="".concat(this._n,"._pagingGetGroupListWithTopic"),ht=dt.limit,vt=dt.offset,It=dt.groupBaseInfoFilter,kt=dt.groupList,Ot=new xr("pagingGetGroupListWithTopic");return this._groupModule.request({protocolName:mp,requestData:{type:Ut.GRP_COMMUNITY,memberAccount:this._groupModule.getMyUserID(),limit:ht,offset:vt,responseFilter:{groupBaseInfoFilter:It,selfInfoFilter:["Role","JoinTime","MsgFlag","MsgSeq"]},isSupportTopic:1}}).then(function(Pt){var qt=Pt.data,Wt=qt.groups,ln=Wt===void 0?[]:Wt,fn=qt.totalCount;kt.push.apply(kt,Ht(ln));var Sn=vt+ht,Nn=!(fn>Sn),qn="offset:".concat(vt," totalCount:").concat(fn," isCompleted:").concat(Nn," ")+"currentCount:".concat(kt.length);return Ot.setNetworkType(yt._groupModule.getNetworkType()).setMessage("".concat(qn)).end(),Nn?(pn.l("".concat(st," ok. totalCount:").concat(kt.length)),go({groupList:kt})):(vt=Sn,yt._pagingGetGroupListWithTopic({limit:ht,offset:vt,groupBaseInfoFilter:It,groupList:kt}))}).catch(function(Pt){return yt._groupModule.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];Ot.setError(Pt,ln,fn).end()}),rr(Pt)})}},{key:"_cacheGroupMessage",value:function(dt,yt){this._cachedGroupMessageMap.has(dt)||this._cachedGroupMessageMap.set(dt,[]),this._cachedGroupMessageMap.get(dt).push(yt)}},{key:"_deleteCachedGroupMessage",value:function(dt){this._cachedGroupMessageMap.has(dt)&&this._cachedGroupMessageMap.delete(dt)}},{key:"_notifyCachedGroupMessage",value:function(dt){var yt=this,st=this._cachedGroupMessageMap.get(dt)||[];st.forEach(function(ht){yt.onNewGroupMessage(ht)}),this._deleteCachedGroupMessage(dt),pn.l("".concat(this._n,"._notifyCachedGroupMessage groupID:").concat(dt," count:").concat(st.length))}},{key:"_cacheGroupMessageAndProbe",value:function(dt){var yt=this,st=dt.groupID,ht=dt.event,vt=dt.item;this._cacheGroupMessage(st,{event:ht,dataList:[vt]}),this._groupModule.getGroupSimplifiedInfo(st).then(function(It){It.type===Ut.GRP_AVCHATROOM?yt._groupModule.hasLocalGroup(st)?yt._notifyCachedGroupMessage(st):yt._groupModule.setUnjoinedAVChatRoom(st):(yt._groupModule.updateGroupMap([It]),yt._notifyCachedGroupMessage(st))}),this._checkCountMap.has(st)||this._checkCountMap.set(st,0),pn.l("".concat(this._n,"._cacheGroupMessageAndProbe groupID:").concat(st))}},{key:"_handleGroupAtInfoWithoutTopic",value:function(dt,yt){var st=this;dt&&yt.length!==0&&yt.forEach(function(ht){var vt=ht.groupID,It=ht.groupAtInfoList,kt=[];vr(It)||(It.forEach(function(Ot){kt.push(rt(rt({},Ot),{},{groupID:vt}))}),st._groupModule.getModule(qr).onNewGroupAtTips({dataList:kt}))})}},{key:"reset",value:function(){this._cachedGroupMessageMap.clear(),this._checkCountMap.clear(),this._getTopicPendingMap.clear(),this._isPagingGetCompleted=!1,this._groupModule.getInnerEmitterInstance().once(jp,this._initGroupList,this)}}]),Gt}(),O_=1,sv=2,Ty=3,zv=4,xy=5,Kv=function(){function Gt(dt){it(this,Gt),this._groupModule=dt,this._n="GroupAttributesHandler",this._groupAttributesMap=new Map,this._groupAttributesCopy={},this.CACHE_EXPIRE_TIME=3e4,this._groupModule.getInnerEmitterInstance().on(Al,this._onCloudConfigUpdated,this)}return lt(Gt,[{key:"_onCloudConfigUpdated",value:function(){var dt=this._groupModule.getCloudConfig("grp_attr_cache_time");vr(dt)||(this.CACHE_EXPIRE_TIME=Number(dt))}},{key:"updateLocalMainSequenceOnReconnected",value:function(){this._groupAttributesMap.forEach(function(dt){dt.localMainSequence=0})}},{key:"isGroupAttributesUpdatedNotice",value:function(dt){var yt=dt.to,st=dt.elements.newGroupProfile,ht=!vr(st)&&!dr(st.groupAttributeOption);return ht&&this._onGroupAttributesUpdated({groupID:yt,groupAttributeOption:st.groupAttributeOption}),ht}},{key:"_onGroupAttributesUpdated",value:function(dt){var yt=this,st=dt.groupID,ht=dt.groupAttributeOption,vt=ht.mainSequence,It=ht.isWithChangedAttributeInfo,kt=ht.groupAttributeList,Ot=kt===void 0?[]:kt,Pt=ht.operationType;if(pn.l("".concat(this._n,".onGroupAttributesUpdated. ")+"groupID:".concat(st," isWithChangedAttributeInfo:").concat(It," operationType:").concat(Pt)),!vr(Pt)){this._groupAttributesCopy=this._getCachedAttributes({groupID:st});var qt=vt-this._getLocalGroupAttributes(st).localMainSequence;if(qt!==0){if(It===1&&qt===1)return this._refreshCachedGroupAttributes({groupID:st,remoteMainSequence:vt,groupAttributeList:Ot,operationType:Pt}),void this._emitGroupAttributesUpdated(st);if(this._hasLocalGroupAttributes(st)){var Wt=this._getLocalGroupAttributes(st).avChatRoomKey;this._getGroupAttributes({groupID:st,avChatRoomKey:Wt}).then(function(){yt._emitGroupAttributesUpdated(st)})}}}}},{key:"initGroupAttributesCache",value:function(dt){var yt=dt.groupID,st=dt.avChatRoomKey,ht=st===void 0?void 0:st;this._groupAttributesMap.set(yt,{lastUpdateTime:0,localMainSequence:0,remoteMainSequence:0,attributes:new Map,avChatRoomKey:ht}),pn.l("".concat(this._n,".initGroupAttributesCache groupID:").concat(yt," avChatRoomKey:").concat(ht))}},{key:"initGroupAttributes",value:function(dt){var yt=this,st=dt.groupID,ht=dt.groupAttributes,vt=this._getLocalGroupAttributes(st),It=vt.remoteMainSequence,kt=vt.avChatRoomKey,Ot=new xr("initGroupAttributes");return Ot.setMessage("groupID:".concat(st," avChatRoomKey:").concat(kt," mainSequence:").concat(It)),this._groupModule.request({protocolName:sp,requestData:{groupID:st,avChatRoomKey:kt,mainSequence:It,groupAttributeList:this._transformGroupAttributes(ht)}}).then(function(Pt){pn.l("".concat(yt._n,".").concat("initGroupAttributes"," ok. groupID:").concat(st));var qt=Pt.data,Wt=qt.mainSequence,ln=Ht(qt.groupAttributeList);return ln.forEach(function(fn){fn.value=ht[fn.key]}),yt._groupAttributesCopy=yt._getCachedAttributes({groupID:st}),yt._refreshCachedGroupAttributes({groupID:st,remoteMainSequence:Wt,groupAttributeList:ln,operationType:O_}),yt._emitGroupAttributesUpdated(st),Ot.setNetworkType(yt._groupModule.getNetworkType()).end(),go({groupAttributes:ht})}).catch(function(Pt){return yt._groupModule.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];Ot.setError(Pt,ln,fn).end()}),rr(Pt)})}},{key:"setGroupAttributes",value:function(dt){var yt=this,st="".concat(this._n,".").concat("setGroupAttributes"),ht=dt.groupID,vt=dt.groupAttributes,It=this._getLocalGroupAttributes(ht),kt=It.remoteMainSequence,Ot=It.avChatRoomKey,Pt=It.attributes,qt=this._transformGroupAttributes(vt);qt.forEach(function(ln){var fn=ln.key;ln.sequence=0,Pt.has(fn)&&(ln.sequence=Pt.get(fn).sequence)});var Wt=new xr("setGroupAttributes");return Wt.setMessage("groupID:".concat(ht," groupAttributes:").concat(JSON.stringify(vt))),pn.l("".concat(st,". groupID:").concat(ht," mainSequence:").concat(kt)),this._groupModule.request({protocolName:Gl,requestData:{groupID:ht,avChatRoomKey:Ot,mainSequence:kt,groupAttributeList:qt}}).then(function(ln){pn.l("".concat(st," ok."));var fn=ln.data,Sn=fn.mainSequence,Nn=Ht(fn.groupAttributeList);return Nn.forEach(function(qn){qn.value=vt[qn.key]}),yt._groupAttributesCopy=yt._getCachedAttributes({groupID:ht}),yt._refreshCachedGroupAttributes({groupID:ht,remoteMainSequence:Sn,groupAttributeList:Nn,operationType:sv}),yt._emitGroupAttributesUpdated(ht),Wt.setNetworkType(yt._groupModule.getNetworkType()).end(),go({groupAttributes:vt})}).catch(function(ln){return yt._groupModule.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];Wt.setError(ln,Nn,qn).end()}),rr(ln)})}},{key:"deleteGroupAttributes",value:function(dt){var yt=this,st=dt.groupID,ht=dt.keyList,vt=ht===void 0?[]:ht,It=this._getLocalGroupAttributes(st),kt=It.remoteMainSequence,Ot=It.avChatRoomKey,Pt=It.attributes,qt=Ht(Pt.keys()),Wt=Pp,ln=Ty,fn={groupID:st,avChatRoomKey:Ot,mainSequence:kt},Sn=[];vt.length>0&&(qt=[],Wt=cp,ln=zv,vt.forEach(function(qn){var Yn=0;Pt.has(qn)&&(Yn=Pt.get(qn).sequence,qt.push(qn)),Sn.push({key:qn,sequence:Yn})}),fn.groupAttributeList=Sn);var Nn=new xr("deleteGroupAttributes");return Nn.setMessage("groupID:".concat(st," mainSequence:").concat(kt," keyList:").concat(vt," protocolName:").concat(Wt)),this._groupModule.request({protocolName:Wt,requestData:fn}).then(function(qn){pn.l("".concat(yt._n,".").concat("deleteGroupAttributes"," ok. groupID:").concat(st));var Yn=qn.data.mainSequence;return yt._groupAttributesCopy=yt._getCachedAttributes({groupID:st}),yt._refreshCachedGroupAttributes({groupID:st,remoteMainSequence:Yn,groupAttributeList:Sn,operationType:ln}),yt._emitGroupAttributesUpdated(st),Nn.setNetworkType(yt._groupModule.getNetworkType()).end(),go({keyList:qt})}).catch(function(qn){return yt._groupModule.probeNetwork().then(function(Yn){var Zn=Ft(Yn,2),or=Zn[0],Sr=Zn[1];Nn.setError(qn,or,Sr).end()}),rr(qn)})}},{key:"getGroupAttributes",value:function(dt){var yt=this,st="".concat(this._n,".").concat("getGroupAttributes"),ht=dt.groupID,vt=this._getLocalGroupAttributes(ht),It=vt.avChatRoomKey,kt=vt.lastUpdateTime,Ot=vt.localMainSequence,Pt=vt.remoteMainSequence,qt=new xr("getGroupAttributes");if(qt.setMessage("groupID:".concat(ht," localMainSequence:").concat(Ot," remoteMainSequence:").concat(Pt," keyList:").concat(dt.keyList)),Date.now()-kt>=this.CACHE_EXPIRE_TIME||Ot<Pt)return this._getGroupAttributes({groupID:ht,avChatRoomKey:It}).then(function(ln){qt.setMoreMessage("get attributes from remote. count:".concat(ln.length)).setNetworkType(yt._groupModule.getNetworkType()).end(),pn.l("".concat(st," from remote. groupID:").concat(ht));var fn=yt._getCachedAttributes(dt);return go({groupAttributes:fn})}).catch(function(ln){return yt._groupModule.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];qt.setError(ln,Nn,qn).end()}),rr(ln)});qt.setMoreMessage("get attributes from cache").setNetworkType(this._groupModule.getNetworkType()).end(),pn.l("".concat(st," from cache. groupID:").concat(ht));var Wt=this._getCachedAttributes(dt);return Go({groupAttributes:Wt})}},{key:"_getGroupAttributes",value:function(dt){var yt=this,st=0;return vr(dt.avChatRoomKey)||(st=1),this._groupModule.request({protocolName:a_,requestData:rt(rt({},dt),{},{groupType:st})}).then(function(ht){pn.l("".concat(yt._n,"._getGroupAttributes ok. groupID:").concat(dt.groupID));var vt=ht.data,It=vt.mainSequence,kt=vt.groupAttributeList,Ot=Ht(kt);return vr(It)||yt._refreshCachedGroupAttributes({groupID:dt.groupID,remoteMainSequence:It,groupAttributeList:Ot,operationType:xy}),kt}).catch(function(ht){return rr(ht)})}},{key:"_refreshCachedGroupAttributes",value:function(dt){var yt=dt.groupID,st=dt.remoteMainSequence,ht=dt.groupAttributeList,vt=dt.operationType;if(this._hasLocalGroupAttributes(yt)){var It=this._getLocalGroupAttributes(yt),kt=It.localMainSequence;if(vt===xy||st-kt==1)It.remoteMainSequence=st,It.localMainSequence=st,It.lastUpdateTime=Date.now(),this._updateCachedAttributes({groupAttributes:It,groupAttributeList:ht,operationType:vt});else{if(kt===st)return;It.remoteMainSequence=st}this._groupAttributesMap.set(yt,It);var Ot="operationType:".concat(vt," localMainSequence:").concat(kt," remoteMainSequence:").concat(st);pn.l("".concat(this._n,"._refreshCachedGroupAttributes. ").concat(Ot))}}},{key:"_getCachedAttributes",value:function(dt){var yt=dt.groupID,st=dt.keyList,ht=st===void 0?[]:st,vt={};if(this._hasLocalGroupAttributes(yt)){var It=this._getLocalGroupAttributes(yt).attributes;if(ht.length>0)ht.forEach(function(qt){It.has(qt)&&(vt[qt]=It.get(qt).value)});else{var kt,Ot=Cn(It.keys());try{for(Ot.s();!(kt=Ot.n()).done;){var Pt=kt.value;vt[Pt]=It.get(Pt).value}}catch(qt){Ot.e(qt)}finally{Ot.f()}}}return vt}},{key:"_updateCachedAttributes",value:function(dt){var yt=dt.groupAttributes,st=dt.groupAttributeList,ht=dt.operationType;ht!==Ty?ht!==zv?(ht===O_&&yt.attributes.clear(),st.forEach(function(vt){var It=vt.key,kt=vt.value,Ot=vt.sequence;yt.attributes.set(It,{value:kt,sequence:Ot})})):st.forEach(function(vt){yt.attributes.delete(vt.key)}):yt.attributes.clear()}},{key:"_hasLocalGroupAttributes",value:function(dt){return this._groupAttributesMap.has(dt)}},{key:"_getLocalGroupAttributes",value:function(dt){return this._hasLocalGroupAttributes(dt)||this.initGroupAttributesCache({groupID:dt}),this._groupAttributesMap.get(dt)}},{key:"_transformGroupAttributes",value:function(dt){var yt=[];return Object.keys(dt).forEach(function(st){yt.push({key:st,value:dt[st]})}),yt}},{key:"_emitGroupAttributesUpdated",value:function(dt){var yt=this._getCachedAttributes({groupID:dt}),st=this._computeAttrChangedInfo(yt),ht=st.updatedKeyList,vt=st.deletedKeyList;pn.l("".concat(this._n,"._emitGroupAttributesUpdated update:").concat(ht.length,", delete:").concat(vt.length)),ht.length===0&&vt.length===0||this._groupModule.emitOuterEvent(yn.GROUP_ATTRIBUTES_UPDATED,{groupID:dt,groupAttributes:yt,updatedKeyList:ht,deletedKeyList:vt})}},{key:"_computeAttrChangedInfo",value:function(dt){var yt=this,st=[],ht=[];return Object.keys(dt).forEach(function(vt){dt[vt]!==yt._groupAttributesCopy[vt]&&st.push(vt)}),Object.keys(this._groupAttributesCopy).forEach(function(vt){vr(dt[vt])&&ht.push(vt)}),this._groupAttributesCopy={},{updatedKeyList:st,deletedKeyList:ht}}},{key:"deleteLocalGroupAttributes",value:function(dt){this._hasLocalGroupAttributes(dt)&&this._groupAttributesMap.delete(dt)}},{key:"reset",value:function(){this._groupAttributesMap.clear(),this._groupAttributesCopy={},this.CACHE_EXPIRE_TIME=3e4}}]),Gt}(),wy="Set",Wv="Increase",L_="Decrease",Yv=function(){function Gt(dt){it(this,Gt),this._groupModule=dt,this._n="GroupCountersHandler",this._groupCountersMap=new Map,this.EXPIRE_TIME=3e4,this._groupModule.getInnerEmitterInstance().on(Al,this._onCloudConfigUpdated,this)}return lt(Gt,[{key:"_onCloudConfigUpdated",value:function(){var dt=this._groupModule.getCloudConfig("grp_counter_expire_time");vr(dt)||(this.EXPIRE_TIME=Number(dt))}},{key:"isGroupCountersNotice",value:function(dt){var yt=dt.to,st=dt.elements.groupCounterInfo,ht=!1;return dr(st)||(this._onGroupCountersUpdated({groupID:yt,groupCounterInfo:st}),ht=!0),ht}},{key:"_onGroupCountersUpdated",value:function(dt){var yt=this,st=dt.groupID;dt.groupCounterInfo.forEach(function(ht){var vt=ht.type,It=ht.groupCounterSeq,kt=ht.counterList,Ot=kt===void 0?[]:kt;vt!==0&&vt!==2||(yt._updateLocalGroupCounters({groupID:st,groupCounterSeq:It,counterList:Ot}),Ot.forEach(function(Pt){yt._groupModule.emitOuterEvent(yn.GROUP_COUNTER_UPDATED,{groupID:st,key:Pt.key,value:Pt.value})})),vt===1&&yt._deleteLocalGroupCounters({groupID:st,groupCounterSeq:It,counterList:Ot})}),pn.l("".concat(this._n,"._onGroupCountersUpdated groupID:").concat(st))}},{key:"initGroupCountersCache",value:function(dt){var yt=dt.groupID,st=dt.avChatRoomKey;this._groupCountersMap.set(yt,{lastUpdateTime:0,groupCounterSeq:0,counters:new Map,avChatRoomKey:st}),pn.l("".concat(this._n,".initGroupCountersCache groupID:").concat(yt," avChatRoomKey:").concat(st))}},{key:"setGroupCounters",value:function(dt){var yt=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".setGroupCounters"),ht=dt.groupID,vt=dt.counters,It=this._convertObjectToList(vt),kt=this._getLocalGroupCounters(ht).avChatRoomKey,Ot="groupID:".concat(ht," count:").concat(It.length),Pt=new xr("setGroupCounters");return Pt.setMessage("".concat(Ot)),pn.l("".concat(st,". ").concat(Ot)),this._updateGroupCounters({groupID:ht,counterList:It,avChatRoomKey:kt,mode:wy}).then(function(qt){return Pt.end(),pn.l("".concat(st," ok.")),go({counters:qt})}).catch(function(qt){return yt._groupModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];Pt.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"increaseGroupCounter",value:function(dt){var yt=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".increaseGroupCounters"),ht=dt.groupID,vt=dt.key,It=dt.value,kt=this._getLocalGroupCounters(ht).avChatRoomKey,Ot="groupID:".concat(ht," key:").concat(vt," value:").concat(It),Pt=new xr("increaseGroupCounter");Pt.setMessage("".concat(Ot)),pn.l("".concat(st,". ").concat(Ot));var qt=[{key:vt,value:It}];return this._updateGroupCounters({groupID:ht,counterList:qt,avChatRoomKey:kt,mode:Wv}).then(function(Wt){return Pt.end(),pn.l("".concat(st," ok.")),go({counters:Wt})}).catch(function(Wt){return yt._groupModule.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(st," failed. error:"),Wt),rr(Wt)})}},{key:"decreaseGroupCounter",value:function(dt){var yt=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".decreaseGroupCounter"),ht=dt.groupID,vt=dt.key,It=dt.value,kt=this._getLocalGroupCounters(ht).avChatRoomKey,Ot="groupID:".concat(ht," key:").concat(vt," value:").concat(It),Pt=new xr("decreaseGroupCounter");Pt.setMessage("".concat(Ot)),pn.l("".concat(st,". ").concat(Ot));var qt=[{key:vt,value:It}];return this._updateGroupCounters({groupID:ht,counterList:qt,avChatRoomKey:kt,mode:L_}).then(function(Wt){return Pt.end(),pn.l("".concat(st," ok.")),go({counters:Wt})}).catch(function(Wt){return yt._groupModule.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(st," failed. error:"),Wt),rr(Wt)})}},{key:"getGroupCounters",value:function(dt){var yt=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".getGroupCounters"),ht=dt.groupID,vt=dt.keyList,It=vt===void 0?[]:vt,kt=this._getLocalGroupCounters(ht),Ot=kt.avChatRoomKey,Pt=kt.lastUpdateTime,qt=new xr("getGroupCounters");if(qt.setMessage("groupID:".concat(ht)),Date.now()-Pt>=this.EXPIRE_TIME)return this._getRemoteGroupCounters({groupID:ht,avChatRoomKey:Ot}).then(function(ln){qt.setMoreMessage("from remote. count:".concat(ln.length)).end(),pn.l("".concat(st," from remote. groupID:").concat(ht));var fn=yt._getLocalCounters(ht,It);return go({counters:fn})}).catch(function(ln){return yt._groupModule.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];qt.setError(ln,Nn,qn).end()}),rr(ln)});qt.setMoreMessage("from cache").end(),pn.l("".concat(st," from cache. groupID:").concat(ht));var Wt=this._getLocalCounters(ht,It);return Go({counters:Wt})}},{key:"_getRemoteGroupCounters",value:function(dt){var yt=this;return this._groupModule.request({protocolName:xv,requestData:rt({},dt)}).then(function(st){var ht=st.data,vt=ht.counterList,It=vt===void 0?[]:vt,kt=ht.groupCounterSeq;return yt._updateLocalGroupCounters({groupID:dt.groupID,counterList:It,groupCounterSeq:kt}),pn.l("".concat(yt._n,"._getRemoteGroupCounters ok. groupID:").concat(dt.groupID)),It}).catch(function(st){return rr(st)})}},{key:"_convertObjectToList",value:function(dt){var yt=[];return Object.keys(dt).forEach(function(st){yt.push({key:st,value:dt[st]})}),yt}},{key:"_updateGroupCounters",value:function(dt){var yt="".concat(this._n,"._updateGroupCounters"),st=dt.groupID,ht=dt.avChatRoomKey,vt=dt.mode;return pn.l("".concat(yt,". groupID:").concat(st," avChatRoomKey:").concat(ht," mode:").concat(vt)),this._groupModule.request({protocolName:A_,requestData:rt({},dt)}).then(function(It){pn.l("".concat(yt," ok."));var kt=It.data.counterList,Ot={};return(kt===void 0?[]:kt).forEach(function(Pt){var qt=Pt.key,Wt=Pt.value;Ot[qt]=Wt}),Ot}).catch(function(It){return rr(It)})}},{key:"_hasLocalGroupCounters",value:function(dt){return this._groupCountersMap.has(dt)}},{key:"_getLocalGroupCounters",value:function(dt){return this._hasLocalGroupCounters(dt)||this.initGroupCountersCache({groupID:dt}),this._groupCountersMap.get(dt)}},{key:"_updateLocalGroupCounters",value:function(dt){var yt=dt.groupID,st=dt.counterList,ht=st===void 0?[]:st,vt=dt.groupCounterSeq;if(this._hasLocalGroupCounters(yt)){var It=this._getLocalGroupCounters(yt),kt=It.counters,Ot=It.avChatRoomKey,Pt=It.groupCounterSeq;if(vt>0&&vt<Pt)return;ht.forEach(function(qt){var Wt=qt.key,ln=qt.value;kt.set(Wt,ln)}),this._groupCountersMap.set(yt,{lastUpdateTime:Date.now(),groupCounterSeq:vt,counters:kt,avChatRoomKey:Ot})}}},{key:"_deleteLocalGroupCounters",value:function(dt){var yt=dt.groupID,st=dt.counterList,ht=st===void 0?[]:st,vt=dt.groupCounterSeq;if(this._hasLocalGroupCounters(yt)){var It=this._getLocalGroupCounters(yt),kt=It.counters,Ot=It.avChatRoomKey;ht.forEach(function(Pt){kt.delete(Pt.key)}),this._groupCountersMap.set(yt,{lastUpdateTime:Date.now(),groupCounterSeq:vt,counters:kt,avChatRoomKey:Ot})}}},{key:"_getLocalCounters",value:function(dt,yt){var st={};if(!this._hasLocalGroupCounters(dt))return st;var ht=this._getLocalGroupCounters(dt).counters;if(yt.length>0)yt.forEach(function(Ot){ht.has(Ot)&&(st[Ot]=ht.get(Ot))});else{var vt,It=Cn(ht.keys());try{for(It.s();!(vt=It.n()).done;){var kt=vt.value;st[kt]=ht.get(kt)}}catch(Ot){It.e(Ot)}finally{It.f()}}return st}},{key:"reset",value:function(){this._groupCountersMap.clear(),this.EXPIRE_TIME=3e4}}]),Gt}(),os=function(){function Gt(dt){it(this,Gt);var yt=dt.manager,st=dt.groupID,ht=dt.onInit,vt=dt.onSuccess,It=dt.onFail;this._n="Polling",this._manager=yt,this._groupModule=yt._groupModule,this._onInit=ht,this._onSuccess=vt,this._onFail=It,this._groupID=st,this._timeoutID=-1,this._isRunning=!1,this._protocolName=Jo}return lt(Gt,[{key:"start",value:function(){var dt=this._groupModule.isLoggedIn();dt||(this._protocolName=vu),pn.l("".concat(this._n,".start pollingInterval:").concat(this._manager.getPollingInterval()," isLoggedIn:").concat(dt)),this._isRunning=!0,this._request()}},{key:"isRunning",value:function(){return this._isRunning}},{key:"_request",value:function(){var dt=this,yt=this._onInit(this._groupID);this._groupModule.request({protocolName:this._protocolName,requestData:yt}).then(function(st){dt._onSuccess(dt._groupID,st),dt.isRunning()&&(clearTimeout(dt._timeoutID),dt._timeoutID=setTimeout(dt._request.bind(dt),dt._manager.getPollingInterval()))}).catch(function(st){dt._onFail(dt._groupID,st),dt.isRunning()&&(clearTimeout(dt._timeoutID),dt._timeoutID=setTimeout(dt._request.bind(dt),dt._manager.MAX_POLLING_INTERVAL))})}},{key:"stop",value:function(){pn.l("".concat(this._n,".stop")),this._timeoutID>0&&(clearTimeout(this._timeoutID),this._timeoutID=-1),this._isRunning=!1}},{key:"getPollingTimerID",value:function(){return this._timeoutID}}]),Gt}(),Dy={3:!0,4:!0,5:!0,6:!0,17:!0},Cm=function(){function Gt(dt){it(this,Gt),this._groupModule=dt,this._n="AVChatRoomHandler",this._joinedGroupMap=new Map,this._pollingRequestInfoMap=new Map,this._pollingInstanceMap=new Map,this.sequencesLinkedList=new oo(200),this.messageIDLinkedList=new oo(100),this.receivedMessageCount=0,this._reportMessageStackedCount=0,this._onlineMemberCountMap=new Map,this.DEFAULT_EXPIRE_TIME=60,this.DEFAULT_POLLING_INTERVAL=300,this.MAX_POLLING_INTERVAL=2e3,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL,this.DEFAULT_POLLING_NO_MESSAGE_COUNT=20,this.DEFAULT_POLLING_INTERVAL_PLUS=2e3,this._pollingNoMessageCount=0,this._startBroadcastSeq=1,this._broadcastMessageIDMap=new Map,this.DEFAULT_POLLING_SIMPLIFIED_MSG=0}return lt(Gt,[{key:"hasJoinedAVChatRoom",value:function(){return this._joinedGroupMap.size>0}},{key:"checkJoinedAVChatRoomByID",value:function(dt){return this._joinedGroupMap.has(dt)}},{key:"getJoinedAVChatRoom",value:function(){return this._joinedGroupMap.size>0?Ht(this._joinedGroupMap.keys()):null}},{key:"_updateRequestData",value:function(dt){var yt=this._pollingRequestInfoMap.get(dt);return dt===Ht(this._pollingInstanceMap.keys())[0]?rt(rt({},yt),{},{startBroadcastSeq:this._startBroadcastSeq,simplifiedMessage:this.DEFAULT_POLLING_SIMPLIFIED_MSG}):rt(rt({},yt),{},{simplifiedMessage:this.DEFAULT_POLLING_SIMPLIFIED_MSG})}},{key:"_handleSuccess",value:function(dt,yt){var st=yt.data,ht=st.key,vt=st.nextSeq,It=st.rspMsgList,kt=st.errorCode,Ot=st.nextBroadcastSeq,Pt=st.broadcastMessageList;if(kt!==0){var qt=this._pollingRequestInfoMap.get(dt),Wt=new xr("longPollingAVError"),ln=qt?"".concat(qt.key,"-").concat(qt.startSeq):"requestInfo is undefined";Wt.setMessage("".concat(dt,"-").concat(ln,"-").concat(yt.errorInfo)).setCode(yt.errorCode).setNetworkType(this._groupModule.getNetworkType()).end(!0)}else{if(!this.checkJoinedAVChatRoomByID(dt))return;Po(ht)&&Zo(vt)&&this._pollingRequestInfoMap.set(dt,{key:ht,startSeq:vt}),Zo(Ot)&&Ot>this._startBroadcastSeq&&(this._startBroadcastSeq=Ot),to(It)&&It.length>0?(It.forEach(function(fn){fn.to=fn.groupID}),this.onMessage(It)):(this._pollingNoMessageCount+=1,this._pollingNoMessageCount===this.DEFAULT_POLLING_NO_MESSAGE_COUNT&&(this._pollingInterval=this.DEFAULT_POLLING_INTERVAL+this.DEFAULT_POLLING_INTERVAL_PLUS)),this._onBroadcastMessage(Pt)}}},{key:"_handleFailure",value:function(dt,yt){}},{key:"onMessage",value:function(dt){if(to(dt)&&dt.length!==0){this._pollingNoMessageCount!==0&&(this._pollingNoMessageCount=0,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL);var yt=null,st=[],ht=this._getModule(qr),vt=this._getModule($s),It=dt.length;It>1&&dt.sort(function(or,Sr){return or.sequence-Sr.sequence});for(var kt=this._getModule(To),Ot=0;Ot<It;Ot++){var Pt=this.restoreMessageFromSimplified(dt[Ot]);if(Dy[Pt.event]){if(Pt.event===6&&(this._groupModule.isGroupAttributesUpdatedNotice(Pt)||this._groupModule.isGroupCountersNotice(Pt)))continue;this.receivedMessageCount+=1,yt=this.packMessage(Pt,Pt.event);var qt=Pt.isModified===1,Wt=Pt.isHistoryMessage===1;if((kt.isUnlimitedAVChatRoom()||!this.sequencesLinkedList.has(yt.sequence))&&!this.messageIDLinkedList.has(yt.ID)){var ln=yt.conversationID;if(this.receivedMessageCount%50==0?this._getModule(fp).detectFirstRound(ln,this.sequencesLinkedList.data()):this.receivedMessageCount%80==0&&this._getModule(fp).detectSecondRound(ln,this.sequencesLinkedList.data()),this.sequencesLinkedList.tail()!==null){var fn=this.sequencesLinkedList.tail().value,Sn=yt.sequence-fn;Sn>1&&Sn<=20?this._getModule(fp).onMessageMaybeLost(ln,fn+1,Sn-1):Sn<-1&&Sn>=-20&&this._getModule(fp).onMessageMaybeLost(ln,yt.sequence+1,Math.abs(Sn)-1)}this.sequencesLinkedList.set(yt.sequence),this.messageIDLinkedList.set(yt.ID);var Nn=!1;if(this._isMessageSentByCurrentInstance(yt)?qt&&(Nn=!0,yt.isModified=qt,ht.updateMessageIsModifiedProperty(yt)):Nn=!0,Nn){if(yt.conversationType===Ut.CONV_SYSTEM&&yt.payload.operationType===5&&this._onGroupDismissed(yt.payload.groupProfile.groupID),!Wt&&yt.conversationType!==Ut.CONV_SYSTEM){var qn=yt.conversationID.replace(Ut.CONV_GROUP,"");this._pollingInstanceMap.has(qn)?this._groupModule.isLoggedIn()&&vt.addMessageSequence({key:Fm,message:yt}):(yt.type!==Ut.MSG_GRP_TIP&&yt.clientTime>0&&vt.addMessageDelay(yt.clientTime),vt.addMessageSequence({key:l_,message:yt}))}st.push(yt)}}}else pn.w("".concat(this._n,".onMessage unknown event:").concat(Pt.event))}if(st.length!==0){this._groupModule.filterModifiedMessage(st);var Yn=this.packConversationOption(st);Yn.length>0&&this._getModule(qr).onNewMessage({conversationOptionsList:Yn,isInstantMessage:!0}),pn.d("".concat(this._n,".onMessage count:").concat(st.length)),this._checkMessageStacked(st);var Zn=this._groupModule.filterUnmodifiedMessage(st);Zn.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,Zn),st.length=0}}}},{key:"isBroadcastOrNormal",value:function(dt){return dt===3||dt===17}},{key:"isGroupTip",value:function(dt){return dt===4||dt===6}},{key:"isGroupSystemNotice",value:function(dt){return dt===5}},{key:"restoreGroupTipElements",value:function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt.groupJoinType||(dt.groupJoinType=1);var yt=dt.operatorInfo,st=yt===void 0?{}:yt,ht=dt.operatorID,vt=dt.userIDList,It=vt===void 0?[]:vt,kt=st.userID,Ot=kt===void 0?ht:kt,Pt=st.avatar,qt=Pt===void 0?"":Pt,Wt=st.nick,ln=Wt===void 0?"":Wt;dt.operatorInfo={userID:Ot,avatar:qt,nick:ln};var fn=It.map(function(Sn){return{userID:Sn}});return dt.memberInfoList=dt.memberInfoList||fn,dt}},{key:"restoreMessageFromSimplified",value:function(dt){var yt=dt.event;if(this.isBroadcastOrNormal(yt)&&(dt.cloudCustomData=dt.cloudCustomData||"",dt.elements=dt.elements.map(function(ln){if(ln.type===Ut.MSG_CUSTOM){var fn=ln.content,Sn=fn===void 0?{}:fn;ln.content=rt({data:"",description:"",extension:""},Sn)}return ln})),(this.isGroupTip(yt)||this.isGroupSystemNotice(yt))&&(dt.from=dt.from||"@TIM#SYSTEM"),this.isGroupTip(yt)){dt.elements=this.restoreGroupTipElements(dt.elements);var st=dt.elements,ht=st===void 0?{}:st,vt=ht.operationType,It=ht.operatorInfo;if(vt===1){var kt=[{userID:(It===void 0?{}:It).userID}];ht.memberInfoList=ht.memberInfoList||kt}}if(this.isGroupSystemNotice(yt)){var Ot=dt.elements,Pt=Ot.memberInfoList,qt=Ot.operatorInfo;Pt||(Pt=qt===void 0?{}:qt),dt.elements.memberInfoList=rt({userID:dt.elements.operatorID,avatar:"",nick:""},Pt),dt.elements=rt({authentication:"",remarkInfo:"",messageKey:1e3*dt.time},dt.elements);var Wt=Object.keys(dt.elements).filter(function(ln){return ln!=="operatorInfo"}).reduce(function(ln,fn){return rt(rt({},ln),{},pt({},fn,dt.elements[fn]))},{});dt.elements=Wt}return dt}},{key:"_onGroupDismissed",value:function(dt){pn.l("".concat(this._n,"._onGroupDismissed groupID:").concat(dt)),this._groupModule.deleteLocalGroupAndConversation(dt),this.reset(dt)}},{key:"_checkMessageStacked",value:function(dt){var yt="MessageStacked",st=dt.length;st>=100&&(this._groupModule.outputWarning(yt,st),this._reportMessageStackedCount<5&&(new xr(yt).setNetworkType(this._groupModule.getNetworkType()).setMessage("count:".concat(st," groupID:").concat(Ht(this._joinedGroupMap.keys()))).setLevel("warning").end(),this._reportMessageStackedCount+=1))}},{key:"_isMessageSentByCurrentInstance",value:function(dt){return!!this._getModule(qr).isMessageSentByCurrentInstance(dt)}},{key:"packMessage",value:function(dt,yt){dt.currentUser=this._groupModule.getMyUserID(),dt.conversationType=yt===5?Ut.CONV_SYSTEM:Ut.CONV_GROUP,dt.isSystemMessage=!!dt.isSystemMessage;var st=new yu(dt),ht=this.packElements(dt,yt);return st.setElement(ht,this._groupModule.getFileDownloadProxy()),st}},{key:"packElements",value:function(dt,yt){return yt===4||yt===6?(this._updateMemberCountByGroupTips(dt),{type:Ut.MSG_GRP_TIP,content:rt(rt({},dt.elements),{},{groupProfile:dt.groupProfile})}):yt===5?{type:Ut.MSG_GRP_SYS_NOTICE,content:rt(rt({},dt.elements),{},{groupProfile:rt(rt({},dt.groupProfile),{},{groupID:dt.groupID})})}:this._getModule(gs).parseElements(dt.elements,dt.from)}},{key:"packConversationOption",value:function(dt){for(var yt=new Map,st=0;st<dt.length;st++){var ht=dt[st],vt=ht.conversationID;if(yt.has(vt)){var It=yt.get(vt);It.lastMessage=ht,ht.flow==="in"&&It.unreadCount++}else yt.set(vt,{conversationID:ht.conversationID,unreadCount:ht.flow==="out"?0:1,type:ht.conversationType,subType:ht.conversationSubType,lastMessage:ht})}return Ht(yt.values())}},{key:"_updateMemberCountByGroupTips",value:function(dt){var yt=dt.groupProfile.groupID,st=dt.elements.onlineMemberInfo,ht=st===void 0?void 0:st;if(!dr(ht)){var vt=ht.onlineMemberNum,It=vt===void 0?0:vt,kt=ht.expireTime,Ot=kt===void 0?this.DEFAULT_EXPIRE_TIME:kt,Pt=this._onlineMemberCountMap.get(yt)||{},qt=Date.now();dr(Pt)?Object.assign(Pt,{lastReqTime:0,lastSyncTime:0,latestUpdateTime:qt,memberCount:It,expireTime:Ot}):(Pt.latestUpdateTime=qt,Pt.memberCount=It),pn.d("".concat(this._n,"._updateMemberCountByGroupTips info:"),Pt),this._onlineMemberCountMap.set(yt,Pt)}}},{key:"_onBroadcastMessage",value:function(dt){if(!dr(dt)){for(var yt=[],st=dt.length,ht=null,vt=0;vt<st;vt++){var It=this.restoreMessageFromSimplified(dt[vt]);Dy[It.event]?((ht=this.packMessage(It,It.event)).isBroadcastMessage=!0,this._broadcastMessageIDMap.has(ht.ID)||(yt.push(ht),this._broadcastMessageIDMap.set(ht.ID,1))):pn.w("".concat(this._n,"._onBroadcastMessage unknown event:").concat(It.event))}yt.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,yt)}}},{key:"start",value:function(dt){if(this._pollingInstanceMap.has(dt)){var yt=this._pollingInstanceMap.get(dt);yt.isRunning()||yt.start()}else{var st=new os({manager:this,groupID:dt,onInit:this._updateRequestData.bind(this),onSuccess:this._handleSuccess.bind(this),onFail:this._handleFailure.bind(this)});st.start(),this._pollingInstanceMap.set(dt,st),pn.l("".concat(this._n,".start groupID:").concat(dt))}}},{key:"handleJoinResult",value:function(dt){var yt=this;return this._preCheck().then(function(){var st=dt.longPollingKey,ht=dt.group,vt=ht.groupID;return yt._joinedGroupMap.set(vt,ht),yt._groupModule.updateGroupMap([ht]),yt._groupModule.deleteUnjoinedAVChatRoom(vt),yt._groupModule.emitGroupListUpdate(!0,!1),vr(st)?Go({status:Ql,group:ht}):Promise.resolve()})}},{key:"startRunLoop",value:function(dt){var yt=this;return this.handleJoinResult(dt).then(function(){var st=dt.longPollingKey,ht=dt.group,vt=dt.startSeq,It=vt===void 0?0:vt,kt=ht.groupID;return yt._pollingRequestInfoMap.set(kt,{key:st,startSeq:It}),yt.start(kt),yt._groupModule.isLoggedIn()?Go({status:Ql,group:ht}):Go({status:Ql})})}},{key:"_preCheck",value:function(){if(this._getModule(To).isUnlimitedAVChatRoom()||!this.hasJoinedAVChatRoom())return Promise.resolve();var dt=Ft(this._joinedGroupMap.entries().next().value,2),yt=dt[0],st=dt[1];if(this._groupModule.isLoggedIn()){if(!(st.selfInfo.role===Ut.GRP_MBR_ROLE_OWNER||st.ownerID===this._groupModule.getMyUserID()))return this._groupModule.quitGroup(yt);this._groupModule.deleteLocalGroupAndConversation(yt)}else this._groupModule.deleteLocalGroupAndConversation(yt);return this.reset(yt),Promise.resolve()}},{key:"joinWithoutAuth",value:function(dt){var yt=this,st=dt.groupID,ht="".concat(this._n,".").concat("joinWithoutAuth"),vt=new xr("joinWithoutAuth");return this._groupModule.request({protocolName:Xt,requestData:dt}).then(function(It){var kt=It.data.longPollingKey;if(yt._groupModule.probeNetwork().then(function(Pt){var qt=Ft(Pt,2);qt[0];var Wt=qt[1];vt.setNetworkType(Wt).setMessage("groupID:".concat(st," longPollingKey:").concat(kt)).end(!0)}),vr(kt))return rr({code:yr.CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN});pn.l("".concat(ht," ok. groupID:").concat(st)),yt._getModule(qr).setCompleted("".concat(Ut.CONV_GROUP).concat(st));var Ot=new Dl({groupID:st});return yt.startRunLoop({group:Ot,longPollingKey:kt}),go({status:Ql})}).catch(function(It){return pn.e("".concat(ht," failed. groupID:").concat(st," error:"),It),yt._groupModule.probeNetwork().then(function(kt){var Ot=Ft(kt,2),Pt=Ot[0],qt=Ot[1];vt.setError(It,Pt,qt).setMessage("groupID:".concat(st)).end(!0)}),rr(It)}).finally(function(){yt._groupModule.getModule(Fs).reportAtOnce()})}},{key:"getGroupOnlineMemberCount",value:function(dt){var yt=this._onlineMemberCountMap.get(dt)||{},st=Date.now();return dr(yt)||st-yt.lastSyncTime>1e3*yt.expireTime&&st-yt.latestUpdateTime>1e4&&st-yt.lastReqTime>3e3?(yt.lastReqTime=st,this._onlineMemberCountMap.set(dt,yt),this._getGroupOnlineMemberCount(dt).then(function(ht){return go({memberCount:ht.memberCount})}).catch(function(ht){return rr(ht)})):Go({memberCount:yt.memberCount})}},{key:"_getGroupOnlineMemberCount",value:function(dt){var yt=this,st="".concat(this._n,".").concat("_getGroupOnlineMemberCount");return this._groupModule.request({protocolName:fu,requestData:{groupID:dt}}).then(function(ht){var vt=yt._onlineMemberCountMap.get(dt)||{},It=ht.data,kt=It.onlineMemberNum,Ot=kt===void 0?0:kt,Pt=It.expireTime,qt=Pt===void 0?yt.DEFAULT_EXPIRE_TIME:Pt;pn.l("".concat(st," ok. groupID:").concat(dt," memberCount:").concat(Ot," expireTime:").concat(qt));var Wt=Date.now();return dr(vt)&&(vt.lastReqTime=Wt),yt._onlineMemberCountMap.set(dt,Object.assign(vt,{lastSyncTime:Wt,latestUpdateTime:Wt,memberCount:Ot,expireTime:qt})),{memberCount:Ot}}).catch(function(ht){return pn.w("".concat(st," failed. error:"),ht),new xr("_getGroupOnlineMemberCount").setCode(ht.code).setMessage("groupID:".concat(dt," error:").concat(JSON.stringify(ht))).setNetworkType(yt._groupModule.getNetworkType()).end(),Promise.reject(ht)})}},{key:"_getModule",value:function(dt){return this._groupModule.getModule(dt)}},{key:"setPollingInterval",value:function(dt){vr(dt)||(Zo(dt)?this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=dt:this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=parseInt(dt,10))}},{key:"setPollingIntervalPlus",value:function(dt){vr(dt)||(Zo(dt)?this.DEFAULT_POLLING_INTERVAL_PLUS=dt:this.DEFAULT_POLLING_INTERVAL_PLUS=parseInt(dt,10))}},{key:"setPollingNoMessageCount",value:function(dt){vr(dt)||(Zo(dt)?this.DEFAULT_POLLING_NO_MESSAGE_COUNT=dt:this.DEFAULT_POLLING_NO_MESSAGE_COUNT=parseInt(dt,10))}},{key:"setPollingSimplifiedMessage",value:function(dt){vr(dt)||dt!=="0"&&dt!=="1"||(this.DEFAULT_POLLING_SIMPLIFIED_MSG=parseInt(dt,10))}},{key:"getPollingInterval",value:function(){return this._pollingInterval}},{key:"onAVChatRoomMemberBanned",value:function(dt){var yt=dt.payload.groupProfile.groupID;pn.l("".concat(this._n,".onAVChatRoomMemberBanned groupID:").concat(yt)),this._groupModule.deleteLocalGroupAndConversation(yt),this.reset(yt)}},{key:"restartPolling",value:function(){pn.l("".concat(this._n,".restartPolling count:").concat(this._pollingInstanceMap.size));var dt,yt=Cn(this._pollingInstanceMap.values());try{for(yt.s();!(dt=yt.n()).done;){var st=dt.value;st.stop(),st.start()}}catch(ht){yt.e(ht)}finally{yt.f()}}},{key:"getPollingTimerID",value:function(dt){if(!this._pollingInstanceMap.has(dt))return-1;var yt=this._pollingInstanceMap.get(dt).getPollingTimerID();return pn.l("".concat(this._n,".getPollingTimerID groupID:").concat(dt," timerID:").concat(yt)),yt}},{key:"reset",value:function(dt){if(dt){pn.l("".concat(this._n,".reset groupID:").concat(dt));var yt=this._pollingInstanceMap.get(dt);yt&&yt.stop(),this._pollingInstanceMap.delete(dt),this._joinedGroupMap.delete(dt),this._pollingRequestInfoMap.delete(dt),this._onlineMemberCountMap.delete(dt)}else{pn.l("".concat(this._n,".reset all"));var st,ht=Cn(this._pollingInstanceMap.values());try{for(ht.s();!(st=ht.n()).done;)st.value.stop()}catch(vt){ht.e(vt)}finally{ht.f()}this._pollingInstanceMap.clear(),this._joinedGroupMap.clear(),this._pollingRequestInfoMap.clear(),this._onlineMemberCountMap.clear(),this._broadcastMessageIDMap.clear()}this.sequencesLinkedList.reset(),this.messageIDLinkedList.reset(),this.receivedMessageCount=0,this._reportMessageStackedCount=0,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=300,this.DEFAULT_POLLING_NO_MESSAGE_COUNT=20,this.DEFAULT_POLLING_INTERVAL_PLUS=2e3,this._pollingNoMessageCount=0}}]),Gt}(),p_=1,N_=15,c0=function(){function Gt(dt){it(this,Gt),this._groupModule=dt,this._n="GroupSystemNoticeHandler",this.pendencyMap=new Map}return lt(Gt,[{key:"onNewGroupSystemNotice",value:function(dt){var yt=dt.dataList,st=dt.isSyncingEnded,ht=dt.isInstantMessage;pn.d("".concat(this._n,".onReceiveSystemNotice count:").concat(yt.length));var vt=this.newSystemNoticeStoredAndSummary({notifiesList:yt,isInstantMessage:ht}),It=vt.eventDataList,kt=vt.result;It.length>0&&(this._groupModule.getModule(qr).onNewMessage({conversationOptionsList:It,isInstantMessage:ht}),this._onReceivedGroupSystemNotice({result:kt,isInstantMessage:ht})),ht?kt.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,kt):st===!0&&this._clearGroupSystemNotice()}},{key:"newSystemNoticeStoredAndSummary",value:function(dt){var yt=dt.notifiesList,st=dt.isInstantMessage,ht=null,vt=yt.length,It=0,kt=[],Ot={conversationID:Ut.CONV_SYSTEM,unreadCount:0,type:Ut.CONV_SYSTEM,subType:null,lastMessage:null};for(It=0;It<vt;It++){var Pt=yt[It],qt=Pt.groupProfile,Wt=qt.communityType,ln=Wt===void 0?0:Wt,fn=qt.topicID,Sn=fn===void 0?void 0:fn,Nn=Pt.elements,qn=Nn.topicIDList,Yn=qn===void 0?void 0:qn,Zn=Nn.operationType;if(!(ln!==2||dr(Sn)&&dr(Yn))){if([17,18,20].includes(Zn)){this._handleTopicSystemNotice(Pt);continue}dr(Sn)||(Pt.to=Sn)}Pt.elements.operationType!==N_&&(Pt.currentUser=this._groupModule.getMyUserID(),Pt.conversationType=Ut.CONV_SYSTEM,Pt.conversationID=Ut.CONV_SYSTEM,(ht=new yu(Pt)).setElement({type:Ut.MSG_GRP_SYS_NOTICE,content:rt(rt({},Pt.elements),{},{groupProfile:rt({},Pt.groupProfile)})}),ht.isSystemMessage=!0,(ht.sequence===1&&ht.random===1||ht.sequence===2&&ht.random===2)&&(ht.sequence=_c(),ht.random=_c(),ht.generateMessageID(),pn.l("".concat(this._n,".newSystemNoticeStoredAndSummary sequence and random maybe duplicated, regenerate. ID:").concat(ht.ID))),this._groupModule.getModule(qr).pushIntoNoticeResult(kt,ht)&&(st?Ot.unreadCount++:ht.setIsRead(!0),Ot.subType=ht.conversationSubType))}return Ot.lastMessage=kt[kt.length-1],{eventDataList:kt.length>0?[Ot]:[],result:kt}}},{key:"_clearGroupSystemNotice",value:function(){var dt=this;this._getPendencyList().then(function(yt){yt.forEach(function(vt){dt.pendencyMap.set("".concat(vt.from,"_").concat(vt.groupID,"_").concat(vt.to),vt)});var st=dt._groupModule.getModule(qr).getLocalMessageList(Ut.CONV_SYSTEM),ht=[];st.forEach(function(vt){var It=vt.payload,kt=It.operatorID,Ot=It.operationType,Pt=It.groupProfile;if(Ot===p_){var qt="".concat(kt,"_").concat(Pt.groupID,"_").concat(Pt.to),Wt=dt.pendencyMap.get(qt);Wt&&Zo(Wt.handled)&&Wt.handled!==0&&ht.push(vt)}}),dt.deleteGroupSystemNotice({messageList:ht})})}},{key:"deleteGroupSystemNotice",value:function(dt){var yt=this,st="".concat(this._n,".deleteGroupSystemNotice");return to(dt.messageList)&&dt.messageList.length!==0?(pn.l("".concat(st," ")+dt.messageList.map(function(ht){return ht.ID})),this._groupModule.request({protocolName:Lo,requestData:{messageListToDelete:dt.messageList.map(function(ht){return{from:Ut.CONV_SYSTEM,messageSeq:ht.clientSequence,messageRandom:ht.random}})}}).then(function(){pn.l("".concat(st," ok"));var ht=yt._groupModule.getModule(qr);return dt.messageList.forEach(function(vt){ht.deleteLocalMessage(vt)}),go()}).catch(function(ht){return pn.e("".concat(st," error:"),ht),rr(ht)})):Go()}},{key:"_getPendencyList",value:function(){var dt=this,yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},st=yt.type,ht=st===void 0?void 0:st,vt=yt.startTime,It=vt===void 0?0:vt,kt=yt.limit,Ot=kt===void 0?20:kt;return this._groupModule.request({protocolName:Qr,requestData:{type:ht,startTime:It,limit:Ot,handleAccount:this._groupModule.getMyUserID()}}).then(function(Pt){var qt=Pt.data.pendencyList;return Pt.data.nextStartTime!==0?dt._getPendencyList({startTime:Pt.data.nextStartTime}).then(function(Wt){return[].concat(Ht(qt),Ht(Wt))}):qt})}},{key:"getGroupApplicationList",value:function(){var dt=this;return this._getPendencyList().then(function(yt){return dt._getPendencyList({type:Ut.GRP_COMMUNITY}).then(function(st){return yt.push.apply(yt,Ht(st)),dt._handlePendencyResult(yt)}).catch(function(st){return dt._handlePendencyResult(yt)})})}},{key:"_handlePendencyResult",value:function(dt){var yt=this,st=[];return dt.forEach(function(ht){yt.pendencyMap.set("".concat(ht.from,"_").concat(ht.groupID,"_").concat(ht.to),ht),ht.handled===0&&st.push({applicant:ht.from,applicantNick:ht.fromUserNickName,groupName:ht.groupName,groupID:ht.groupID,authentication:ht.authentication,messageKey:ht.time,applicationType:ht.applicationType,userID:ht.userID})}),Go({applicationList:st})}},{key:"_onReceivedGroupSystemNotice",value:function(dt){var yt=this,st=dt.result;dt.isInstantMessage&&st.forEach(function(ht){switch(ht.payload.operationType){case 1:break;case 2:yt._onApplyGroupRequestAgreed(ht);break;case 3:break;case 4:yt._onMemberKicked(ht);break;case 5:yt._onGroupDismissed(ht);break;case 6:break;case 7:yt._onInviteGroup(ht);break;case 8:yt._onQuitGroup(ht);break;case 9:yt._onSetManager(ht);break;case 10:yt._onDeleteManager(ht);break;case 11:case 12:case 15:break;case 20:yt._onMessageRemindTypeSynced(ht);break;case 21:yt._groupModule.onAVChatRoomMemberBanned(ht)}})}},{key:"_onApplyGroupRequestAgreed",value:function(dt){var yt=this,st=dt.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(st)||this._groupModule.getGroupProfile({groupID:st}).then(function(ht){var vt=ht.data.group;if(vt){yt._groupModule.updateGroupMap([vt]);var It=!vt.isSupportTopic;yt._groupModule.emitGroupListUpdate(!0,It)}})}},{key:"_onMemberKicked",value:function(dt){var yt=dt.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(yt)&&this._groupModule.deleteLocalGroupAndConversation(yt)}},{key:"_onGroupDismissed",value:function(dt){var yt=dt.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(yt)&&this._groupModule.deleteLocalGroupAndConversation(yt);var st=this._groupModule._AVChatRoomHandler;st&&st.checkJoinedAVChatRoomByID(yt)&&st.reset(yt)}},{key:"_onInviteGroup",value:function(dt){var yt=this,st=dt.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(st)||this._groupModule.getGroupProfile({groupID:st}).then(function(ht){var vt=ht.data.group;vt&&(yt._groupModule.updateGroupMap([vt]),yt._groupModule.emitGroupListUpdate())})}},{key:"_onQuitGroup",value:function(dt){var yt=dt.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(yt)&&this._groupModule.deleteLocalGroupAndConversation(yt)}},{key:"_onSetManager",value:function(dt){var yt=dt.payload.groupProfile,st=yt.to,ht=yt.groupID,vt=this._groupModule.getModule(ba).getLocalGroupMemberInfo(ht,st);vt&&vt.updateRole(Ut.GRP_MBR_ROLE_ADMIN)}},{key:"_onDeleteManager",value:function(dt){var yt=dt.payload.groupProfile,st=yt.to,ht=yt.groupID,vt=this._groupModule.getModule(ba).getLocalGroupMemberInfo(ht,st);vt&&vt.updateRole(Ut.GRP_MBR_ROLE_MEMBER)}},{key:"_onMessageRemindTypeSynced",value:function(dt){var yt=dt.payload.groupProfile.groupID,st=dt.payload.messageRemindType;this._groupModule.getModule(qr).onGroupMessageRemindTypeSynced({groupID:yt,messageRemindType:st})}},{key:"_handleTopicSystemNotice",value:function(dt){var yt=dt.groupProfile,st=yt.groupID,ht=yt.topicID,vt=dt.elements,It=vt.operationType,kt=vt.topicIDList,Ot=vt.messageRemindType,Pt=this._groupModule.getModule(ys);It===17?Pt.onTopicCreated({groupID:st,topicID:ht}):It===18?Pt.onTopicDeleted({groupID:st,topicIDList:kt}):It===20&&Pt.onTopicMessageRemindTypeUpdated({groupID:st,topicID:ht,messageRemindType:Ot})}},{key:"reset",value:function(){this.pendencyMap.clear()}}]),Gt}(),u0=["relayFlag"],yp=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="GroupModule",ht._commonGroupHandler=null,ht._AVChatRoomHandler=null,ht._groupSystemNoticeHandler=null,ht._commonGroupHandler=new vp(Bt(ht)),ht._groupAttributesHandler=new Kv(Bt(ht)),ht._groupCountersHandler=new Yv(Bt(ht)),ht._AVChatRoomHandler=new Cm(Bt(ht)),ht._groupTipsHandler=new Yl(Bt(ht)),ht._groupSystemNoticeHandler=new c0(Bt(ht)),ht.groupMap=new Map,ht._unjoinedAVChatRoomList=new Map,ht._receiptDetailCompleteMap=new Map,ht.getInnerEmitterInstance().on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"_onCloudConfigUpdated",value:function(){var st=this.getCloudConfig("polling_interval"),ht=this.getCloudConfig("polling_interval_plus"),vt=this.getCloudConfig("polling_no_msg_count"),It=this.getCloudConfig("polling_simplified_msg");this._AVChatRoomHandler&&(pn.l("".concat(this._n,"._onCloudConfigUpdated pollingInterval:").concat(st)+" pollingIntervalPlus:".concat(ht," pollingNoMessageCount:").concat(vt)+" pollingSimplifiedMessage:".concat(It)),this._AVChatRoomHandler.setPollingInterval(st),this._AVChatRoomHandler.setPollingIntervalPlus(ht),this._AVChatRoomHandler.setPollingNoMessageCount(vt),this._AVChatRoomHandler.setPollingSimplifiedMessage(It))}},{key:"onCheckTimer",value:function(st){this.isLoggedIn()&&(this._commonGroupHandler.onCheckTimer(st),this._groupTipsHandler.onCheckTimer(st))}},{key:"guardForAVChatRoom",value:function(st){var ht=this;if(st.conversationType===Ut.CONV_GROUP){var vt=ps(st.to)?tu(st.to):st.to;return this.hasLocalGroup(vt)?Go():this.getGroupProfile({groupID:vt}).then(function(It){var kt=It.data.group.type;if(pn.l("".concat(ht._n,".guardForAVChatRoom. groupID:").concat(vt," type:").concat(kt)),kt===Ut.GRP_AVCHATROOM){var Ot=yr.MESSAGE_SEND_FAIL_NOT_IN_AVCHATROOM;return rr(new Cs({code:Ot,message:ht.getErrorMessage(Ot,st.from,vt),data:{message:st}}))}return Go()})}return Go()}},{key:"checkJoinedAVChatRoomByID",value:function(st){return!!this._AVChatRoomHandler&&this._AVChatRoomHandler.checkJoinedAVChatRoomByID(st)}},{key:"onNewGroupMessage",value:function(st){this._commonGroupHandler&&this._commonGroupHandler.onNewGroupMessage(st)}},{key:"updateNextMessageSeq",value:function(st){var ht=this;if(to(st)){var vt=this.getModule(ys);st.forEach(function(It){var kt=It.conversationID.replace(Ut.CONV_GROUP,"");ps(kt)&&vt.updateLastMessage(kt,It.lastMessage),ht.groupMap.has(kt)&&(ht.groupMap.get(kt).nextMessageSeq=It.lastMessage.sequence+1)})}}},{key:"onNewGroupTips",value:function(st){this._groupTipsHandler&&this._groupTipsHandler.onNewGroupTips(st)}},{key:"onGroupMessageRevoked",value:function(st){this._commonGroupHandler&&this._commonGroupHandler.onGroupMessageRevoked(st)}},{key:"onNewGroupSystemNotice",value:function(st){this._groupSystemNoticeHandler&&this._groupSystemNoticeHandler.onNewGroupSystemNotice(st)}},{key:"onGroupMessageReadNotice",value:function(st){var ht=this;st.dataList.forEach(function(vt){var It=vt.elements.groupMessageReadNotice;if(!vr(It)){var kt=ht.getModule(qr);It.forEach(function(Ot){var Pt=Ot.groupID,qt=Ot.topicID,Wt=qt===void 0?void 0:qt,ln=Ot.lastMessageSeq;pn.d("".concat(ht._n,".onGroupMessageReadNotice groupID:").concat(Pt," lastMessageSeq:").concat(ln));var fn="".concat(Ut.CONV_GROUP).concat(Pt),Sn=!0;dr(Wt)||(fn="".concat(Ut.CONV_GROUP).concat(Wt),Sn=!1),kt.updateIsReadAfterReadReport({conversationID:fn,lastMessageSeq:ln}),kt.updateUnreadCount(fn,Sn),kt.clearGroupAtInfoList(fn,Sn)})}})}},{key:"onReadReceiptList",value:function(st){var ht=this;pn.d("".concat(this._n,".onReadReceiptList options:"),JSON.stringify(st)),st.dataList.forEach(function(vt){var It=vt.groupProfile,kt=vt.elements,Ot=It.groupID,Pt=ht.getModule(qr),qt=kt.readReceiptList;Pt.updateReadReceiptInfo({groupID:Ot,readReceiptList:qt})})}},{key:"onGroupMessageModified",value:function(st){pn.d("".concat(this._n,".onGroupMessageModified options:"),JSON.stringify(st));var ht=this.getModule(qr);st.dataList.forEach(function(vt){ht.onMessageModified(rt(rt({},vt),{},{conversationType:Ut.CONV_GROUP,to:vt.topicID?vt.topicID:vt.groupID}))})}},{key:"deleteGroupSystemNotice",value:function(st){this._groupSystemNoticeHandler&&this._groupSystemNoticeHandler.deleteGroupSystemNotice(st)}},{key:"initGroupMap",value:function(st){this.groupMap.set(st.groupID,new Dl(st))}},{key:"deleteGroup",value:function(st){this.groupMap.delete(st)}},{key:"updateGroupMap",value:function(st){var ht,vt=this,It=this.getModule(qr);st.forEach(function(Wt){ht=Wt.groupID,vt.groupMap.has(ht)?vt.groupMap.get(ht).updateGroup(Wt):(vt.groupMap.set(ht,new Dl(Wt)),It.deleteGroupRomaingMessageInfo(ht))});var kt,Ot=this.getMyUserID(),Pt=Cn(this.groupMap);try{for(Pt.s();!(kt=Pt.n()).done;){var qt=Ft(kt.value,2)[1];qt.selfInfo.userID=Ot,qt.selfInfo.role==="Owner"&&(qt.ownerID=Ot)}}catch(Wt){Pt.e(Wt)}finally{Pt.f()}this._setStorageGroupList()}},{key:"getStorageGroupList",value:function(){return this.getModule(vo).getItem("groupMap")}},{key:"_setStorageGroupList",value:function(){var st=this.getLocalGroupList().filter(function(ht){var vt=ht.type;return!cu(vt)}).filter(function(ht){return!ht.isSupportTopic}).slice(0,20).map(function(ht){return{groupID:ht.groupID,name:ht.name,avatar:ht.avatar,type:ht.type}});this.getModule(vo).setItem("groupMap",st)}},{key:"getGroupMap",value:function(){return this.groupMap}},{key:"getLocalGroupList",value:function(){return Ht(this.groupMap.values())}},{key:"getLocalGroupProfile",value:function(st){return this.groupMap.get(st)}},{key:"sortLocalGroupList",value:function(){var st=Ht(this.groupMap).filter(function(ht){var vt=Ft(ht,2);return vt[0],!dr(vt[1].lastMessage)});st.sort(function(ht,vt){return vt[1].lastMessage.lastTime-ht[1].lastMessage.lastTime}),this.groupMap=new Map(Ht(st))}},{key:"updateGroupLastMessage",value:function(st){this._commonGroupHandler&&this._commonGroupHandler.handleUpdateGroupLastMessage(st)}},{key:"emitGroupListUpdate",value:function(){var st=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],vt=this.getLocalGroupList();if(st&&this.emitOuterEvent(yn.GROUP_LIST_UPDATED),ht){var It=JSON.parse(JSON.stringify(vt)),kt=this.getModule(qr);kt.updateConversationGroupProfile(It)}}},{key:"patchGroupMessageRemindType",value:function(){var st=this.getLocalGroupList(),ht=this.getModule(qr),vt=0;st.forEach(function(It){ht.patchMessageRemindType({ID:It.groupID,isC2CConversation:!1,messageRemindType:It.selfInfo.messageRemindType})===!0&&(vt+=1)}),pn.l("".concat(this._n,".patchGroupMessageRemindType count:").concat(vt))}},{key:"recomputeUnreadCount",value:function(){var st=this.getLocalGroupList(),ht=this.getModule(qr);st.forEach(function(vt){var It=vt.groupID,kt=vt.selfInfo,Ot=kt.excludedUnreadSequenceList,Pt=kt.readedSequence;if(to(Ot)){var qt=0;Ot.forEach(function(Wt){Wt>=Pt&&Wt<=vt.nextMessageSeq-1&&(qt+=1)}),qt>=1&&ht.recomputeGroupUnreadCount({conversationID:"".concat(Ut.CONV_GROUP).concat(It),count:qt})}})}},{key:"getMyNameCardByGroupID",value:function(st){var ht=this.getLocalGroupProfile(st);return ht?ht.selfInfo.nameCard:""}},{key:"isPagingGetCompleted",value:function(){return!!this._commonGroupHandler&&this._commonGroupHandler.isPagingGetCompleted()}},{key:"getGroupList",value:function(st){return this._commonGroupHandler?this._commonGroupHandler.getGroupList(st):Go()}},{key:"getGroupProfile",value:function(st){var ht=this,vt="".concat(this._n,".").concat("getGroupProfile"),It=new xr("getGroupProfile"),kt=st.groupID,Ot=st.groupCustomFieldFilter;pn.l("".concat(vt," groupID:").concat(kt));var Pt={groupIDList:[kt],responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq","ShutUpAllMember","InviteJoinOption"],groupCustomFieldFilter:Ot,memberInfoFilter:["Role","JoinTime","MsgSeq","MsgFlag","NameCard"]}};return this.getGroupProfileAdvance(Pt).then(function(qt){var Wt,ln=qt.data,fn=ln.successGroupList,Sn=ln.failureGroupList;return pn.l("".concat(vt," ok")),Sn.length>0?rr(Sn[0]):(cu(fn[0].type)&&!ht.hasLocalGroup(kt)?Wt=new Dl(fn[0]):(ht.updateGroupMap(fn),Wt=ht.getLocalGroupProfile(kt)),Wt.isSupportTopic||ht.getModule(qr).updateConversationGroupProfile([Wt]),It.setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(kt," type:").concat(Wt.type," muteAllMembers:").concat(Wt.muteAllMembers," ownerID:").concat(Wt.ownerID)).end(),go({group:Wt}))}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];It.setError(qt,fn,Sn).setMessage("groupID:".concat(st.groupID)).end()}),pn.e("".concat(vt," failed. error:"),qt),rr(qt)})}},{key:"getGroupProfileAdvance",value:function(st){var ht="".concat(this._n,".getGroupProfileAdvance"),vt=st.groupIDList;to(vt)&&vt.length>50&&(this.outputWarning("GetGroupProfileLimit"),vt.length=50);var It=[],kt=[];vt.forEach(function(Wt){Vs({groupID:Wt})?kt.push(Wt):It.push(Wt)});var Ot=[];if(It.length>0){var Pt=this._getGroupProfileAdvance(rt(rt({},st),{},{groupIDList:It}));Ot.push(Pt)}if(kt.length>0){var qt=this._getGroupProfileAdvance(rt(rt({},st),{},{groupIDList:kt,relayFlag:It.length>0}));Ot.push(qt)}return Promise.all(Ot).then(function(Wt){var ln=[],fn=[];return Wt.forEach(function(Sn){ln.push.apply(ln,Ht(Sn.successGroupList)),fn.push.apply(fn,Ht(Sn.failureGroupList))}),go({successGroupList:ln,failureGroupList:fn})}).catch(function(Wt){return pn.e("".concat(ht," failed. error:"),Wt),rr(Wt)})}},{key:"_getGroupProfileAdvance",value:function(st){var ht=this,vt=st.relayFlag,It=vt!==void 0&&vt,kt=Rt(st,u0);return this.request({protocolName:Nm,requestData:kt}).then(function(Ot){pn.l("".concat(ht._n,"._getGroupProfileAdvance ok."));var Pt=Ot.data.groups;return{successGroupList:Pt.filter(function(qt){return vr(qt.errorCode)||qt.errorCode===0}),failureGroupList:Pt.filter(function(qt){return qt.errorCode&&qt.errorCode!==0}).map(function(qt){return new Cs({code:qt.errorCode,message:qt.errorInfo,data:{groupID:qt.groupID}})})}}).catch(function(Ot){return It&&Vs({groupID:st.groupIDList[0]})?{successGroupList:[],failureGroupList:[]}:rr(Ot)})}},{key:"createGroup",value:function(st){var ht=this,vt="".concat(this._n,".").concat("createGroup"),It=st.type,kt=st.groupID;if(st.name&&this._filterProfanity("name",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.introduction&&this._filterProfanity("introduction",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.notification&&this._filterProfanity("notification",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(!["Public","Private","ChatRoom","AVChatRoom","Community"].includes(It))return rr({code:yr.ILLEGAL_GROUP_TYPE});if(!Vs({type:It})){if(!dr(kt)&&Vs({groupID:kt}))return rr({code:yr.ILLEGAL_GROUP_ID});st.isSupportTopic=void 0}if(cu(It)&&!vr(st.memberList)&&st.memberList.length>0&&(st.memberList=void 0),this._canIUseJoinOption(It)||vr(st.joinOption)||(st.joinOption=void 0),Vs({type:It})){if(!dr(kt)&&!Vs({groupID:kt}))return rr({code:yr.ILLEGAL_GROUP_ID});st.isSupportTopic=st.isSupportTopic===!0?1:0}var Ot=new xr("createGroup");pn.l("".concat(vt," options:"),st);var Pt=null,qt=[];return this.request({protocolName:ap,requestData:rt(rt({},st),{},{ownerID:this.getMyUserID(),webPushFlag:1})}).then(function(Wt){var ln=Wt.data,fn=ln.groupID,Sn=ln.overLimitUserIDList,Nn=Sn===void 0?[]:Sn;if(Pt=fn,qt=Nn,Ot.setNetworkType(ht.getNetworkType()).setMessage("groupType:".concat(st.type," groupID:").concat(fn," overLimitUserIDList=").concat(Nn)).end(),pn.l("".concat(vt," ok groupID:").concat(fn," overLimitUserIDList:"),Nn),st.type===Ut.GRP_AVCHATROOM)return ht.getGroupProfile({groupID:fn});if(st.type===Ut.GRP_COMMUNITY&&st.isSupportTopic===1)return ht.getGroupProfile({groupID:fn});dr(st.memberList)||dr(Nn)||(st.memberList=st.memberList.filter(function(Zn){return Nn.indexOf(Zn.userID)===-1})),ht.updateGroupMap([rt(rt({},st),{},{groupID:fn})]);var qn=ht.getModule(Xs),Yn=qn.createCustomMessage({to:fn,conversationType:Ut.CONV_GROUP,payload:{data:"group_create",extension:ht.isIntl()?"".concat(ht.getMyUserID()," created a group"):"".concat(ht.getMyUserID(),"")}});return qn.sendMessageInstance(Yn),ht.emitGroupListUpdate(),ht.getGroupProfile({groupID:fn})}).then(function(Wt){var ln=Wt.data.group,fn=ln.selfInfo,Sn=fn.nameCard,Nn=fn.joinTime;return ln.updateSelfInfo({nameCard:Sn,joinTime:Nn,messageRemindType:Ut.MSG_REMIND_ACPT_AND_NOTE,role:Ut.GRP_MBR_ROLE_OWNER}),go({group:ln,overLimitUserIDList:qt})}).catch(function(Wt){if(Ot.setMessage("groupType:".concat(st.type)),ht.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];Ot.setError(Wt,Nn,qn).end()}),Wt.code===10010||Wt.code===10007){ht.updateGroupMap([rt(rt({},st),{},{groupID:Pt})]);var ln=ht.getLocalGroupProfile(Pt);return pn.l("".concat(vt," success, but failed to get group profile.")),go({group:ln,overLimitUserIDList:qt})}return pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"dismissGroup",value:function(st){var ht=this,vt="".concat(this._n,".").concat("dismissGroup");if(this.hasLocalGroup(st)&&this.getLocalGroupProfile(st).type===Ut.GRP_WORK)return rr(new Cs({code:yr.CANNOT_DISMISS_WORK}));var It=new xr("dismissGroup");return It.setMessage("groupID:".concat(st)),pn.l("".concat(vt," groupID:").concat(st)),this.request({protocolName:Pm,requestData:{groupID:st}}).then(function(){return It.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht.deleteLocalGroupAndConversation(st),ht.checkJoinedAVChatRoomByID(st)&&ht._AVChatRoomHandler.reset(st),ht._groupAttributesHandler.deleteLocalGroupAttributes(st),go({groupID:st})}).catch(function(kt){return ht.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];It.setError(kt,qt,Wt).end()}),pn.e("".concat(vt," failed. error:"),kt),rr(kt)})}},{key:"updateGroupProfile",value:function(st){var ht=this,vt="".concat(this._n,".").concat("updateGroupProfile");if(this.hasLocalGroup(st.groupID)){var It=this.getLocalGroupProfile(st.groupID).type;this._canIUseJoinOption(It)||vr(st.joinOption)||(pn.w("".concat(vt," joinOption is unavailable for Work/Meeting/AVChatRoom")),st.joinOption=void 0)}if(vr(st.muteAllMembers)||(st.muteAllMembers?st.muteAllMembers="On":st.muteAllMembers="Off"),st.name&&this._filterProfanity("name",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.introduction&&this._filterProfanity("introduction",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.notification&&this._filterProfanity("notification",st)===!1)return rr({code:yr.PROFANITY_FOUND});var kt=new xr("updateGroupProfile");return kt.setMessage(JSON.stringify(st)),pn.l("".concat(vt," groupID:").concat(st.groupID)),this.request({protocolName:i_,requestData:st}).then(function(){return kt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht.hasLocalGroup(st.groupID)&&(ht.groupMap.get(st.groupID).updateGroup(st),ht._setStorageGroupList()),go({group:ht.groupMap.get(st.groupID)})}).catch(function(Ot){return ht.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),pn.l("".concat(vt," failed. error:"),Ot),rr(Ot)})}},{key:"_filterProfanity",value:function(st,ht){var vt=this.getModule(zl);if(!vt)return!0;var It=vt.filterText(ht[st],Oo),kt=It.isAllowedToSend,Ot=It.modifiedText;return kt===!0&&(ht[st]=Ot,!0)}},{key:"joinGroup",value:function(st){var ht=this,vt=st.groupID,It=st.type,kt="".concat(this._n,".joinGroup");if(It===Ut.GRP_WORK)return rr({code:yr.CANNOT_JOIN_WORK});if(this.deleteUnjoinedAVChatRoom(vt),this.hasLocalGroup(vt)){if(!this.isLoggedIn())return Go({status:Ut.JOIN_STATUS_ALREADY_IN_GROUP});var Ot=new xr("applyJoinGroup");return this.getGroupProfile({groupID:vt}).then(function(){return Ot.setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(vt," joinedStatus:").concat(Ut.JOIN_STATUS_ALREADY_IN_GROUP)).end(),Go({status:Ut.JOIN_STATUS_ALREADY_IN_GROUP})}).catch(function(Pt){return Ot.setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(vt," unjoined")).end(),pn.w("".concat(kt," ").concat(vt," was unjoined, now join!")),ht.groupMap.delete(vt),ht.applyJoinGroup(st)})}return pn.l("".concat(kt," groupID:").concat(vt)),this.isLoggedIn()?this.applyJoinGroup(st):this._AVChatRoomHandler.joinWithoutAuth(st)}},{key:"applyJoinGroup",value:function(st){var ht=this,vt="".concat(this._n,".").concat("applyJoinGroup"),It=st.groupID;if(!dr(st.applyMessage)&&this._filterProfanity("applyMessage",st)===!1)return rr({code:yr.PROFANITY_FOUND});var kt=new xr("applyJoinGroup"),Ot=rt({},st),Pt=this.canIUse(hr.AVCHATROOM_HISTORY_MSG);return Pt&&(Ot.historyMessageFlag=1),this.getModule(qr).deleteTopicRoamingMessageInfo(It),this.request({protocolName:vm,requestData:Ot}).then(function(qt){var Wt=qt.data,ln=Wt.joinedStatus,fn=Wt.longPollingKey,Sn=Wt.startSeq,Nn=Wt.avChatRoomFlag,qn=Wt.avChatRoomKey,Yn=Wt.messageList,Zn="groupID:".concat(It," joinedStatus:").concat(ln," longPollingKey:").concat(fn," startSeq:").concat(Sn)+" avChatRoomFlag:".concat(Nn," canGetAVChatRoomHistoryMessage:").concat(Pt,",")+" history message count:".concat(dr(Yn)?0:Yn.length);switch(kt.setNetworkType(ht.getNetworkType()).setMessage("".concat(Zn)).end(),pn.l("".concat(vt," ok. ").concat(Zn)),ln){case _d:return go({status:_d});case Ql:return ht.getGroupProfile({groupID:It}).then(function(Sr){var Pr=Sr.data.group;return ht._handleJoinResult({group:Pr,avChatRoomFlag:Nn,longPollingKey:fn,startSeq:Sn,avChatRoomKey:qn,messageList:Yn})}).catch(function(){var Sr=new Dl({groupID:It});return ht._handleJoinResult({group:Sr,avChatRoomFlag:Nn,longPollingKey:fn,startSeq:Sn,avChatRoomKey:qn,messageList:Yn})});default:var or=new Cs({code:yr.JOIN_GROUP_FAIL});return pn.e("".concat(vt," failed. error:"),or),rr(or)}}).catch(function(qt){return kt.setMessage("groupID:".concat(It)),ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];kt.setError(qt,fn,Sn).end()}),pn.e("".concat(vt," failed. error:"),qt),rr(qt)})}},{key:"_handleJoinResult",value:function(st){var ht,vt=this,It=st.group,kt=st.avChatRoomFlag,Ot=st.longPollingKey,Pt=st.startSeq,qt=st.avChatRoomKey,Wt=st.messageList,ln=It.groupID;return kt===1?(this.getModule(qr).setCompleted("".concat(Ut.CONV_GROUP).concat(ln)),this._groupAttributesHandler.initGroupAttributesCache({groupID:ln,avChatRoomKey:qt}),this._groupCountersHandler.initGroupCountersCache({groupID:ln,avChatRoomKey:qt}),(ht=vr(Ot)?this._AVChatRoomHandler.handleJoinResult({group:It}):this._AVChatRoomHandler.startRunLoop({group:It,longPollingKey:Ot,startSeq:Pt})).then(function(){vt._onAVChatRoomHistoryMessage(Wt)}),ht):(this.emitGroupListUpdate(!0,!1),go({status:Ql,group:It}))}},{key:"quitGroup",value:function(st){var ht=this,vt="".concat(this._n,".").concat("quitGroup");pn.l("".concat(vt," groupID:").concat(st));var It=this.checkJoinedAVChatRoomByID(st);if(!It&&!this.hasLocalGroup(st))return rr({code:yr.MEMBER_NOT_IN_GROUP});if(It&&!this.isLoggedIn())return pn.l("".concat(vt," anonymously ok. groupID:").concat(st)),this.deleteLocalGroupAndConversation(st),this._AVChatRoomHandler.reset(st),Go({groupID:st});var kt=new xr("quitGroup");return kt.setMessage("groupID:".concat(st)),this.request({protocolName:dn,requestData:{groupID:st}}).then(function(){return kt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht.deleteLocalGroupAndConversation(st),It&&ht._AVChatRoomHandler.reset(st),ht._groupAttributesHandler.deleteLocalGroupAttributes(st),go({groupID:st})}).catch(function(Ot){return ht.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),pn.e("".concat(vt," failed. error:"),Ot),rr(Ot)})}},{key:"searchGroupByID",value:function(st){var ht=this,vt="".concat(this._n,".").concat("searchGroupByID"),It={groupIDList:[st]},kt=new xr("searchGroupByID");return kt.setMessage("groupID:".concat(st)),pn.l("".concat(vt," groupID:").concat(st)),this.request({protocolName:In,requestData:It}).then(function(Ot){var Pt=Ot.data.groupProfile;if(Pt[0].errorCode!==0)throw new Cs({code:Pt[0].errorCode,message:Pt[0].errorInfo});return kt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),go({group:new Dl(Pt[0])})}).catch(function(Ot){return ht.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),pn.w("".concat(vt," failed. error:"),Ot),rr(Ot)})}},{key:"changeGroupOwner",value:function(st){var ht=this,vt="".concat(this._n,".").concat("changeGroupOwner");if(this.hasLocalGroup(st.groupID)&&this.getLocalGroupProfile(st.groupID).type===Ut.GRP_AVCHATROOM)return rr({code:yr.CANNOT_CHANGE_OWNER_IN_AVCHATROOM});if(st.newOwnerID===this.getMyUserID())return rr({code:yr.CANNOT_CHANGE_OWNER_TO_SELF});var It=new xr("changeGroupOwner");return It.setMessage("groupID:".concat(st.groupID," newOwnerID:").concat(st.newOwnerID)),pn.l("".concat(vt," groupID:").concat(st.groupID)),this.request({protocolName:Yt,requestData:st}).then(function(){It.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok"));var kt=st.groupID,Ot=st.newOwnerID;ht.groupMap.get(kt).ownerID=Ot;var Pt=ht.getModule(ba).getLocalGroupMemberList(kt);if(Pt instanceof Map){var qt=Pt.get(ht.getMyUserID());vr(qt)||(qt.updateRole("Member"),ht.groupMap.get(kt).selfInfo.role="Member");var Wt=Pt.get(Ot);vr(Wt)||Wt.updateRole("Owner")}return ht.emitGroupListUpdate(!0,!1),go({group:ht.groupMap.get(kt)})}).catch(function(kt){return ht.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];It.setError(kt,qt,Wt).end()}),pn.e("".concat(vt," failed. error:"),kt),rr(kt)})}},{key:"getGroupApplicationList",value:function(){return this._groupSystemNoticeHandler.getGroupApplicationList()}},{key:"handleGroupApplication",value:function(st){var ht,vt,It,kt,Ot,Pt=this,qt="".concat(this._n,".").concat("handleGroupApplication"),Wt=st.handleAction,ln=st.handleMessage,fn=st.message,Sn=st.application;fn?(ht=fn.payload.operatorID,vt=fn.payload.groupProfile.groupID,It=fn.payload.authentication,kt=fn.payload.messageKey):Sn&&(ht=Sn.applicant,vt=Sn.groupID,It=Sn.authentication,kt=Sn.messageKey);var Nn=gn;Sn&&Sn.applicationType===2&&(Nn=An,Ot=Sn.userID);var qn=new xr("handleGroupApplication");return qn.setMessage("groupID:".concat(vt)),pn.l("".concat(qt," groupID:").concat(vt)),this.request({protocolName:Nn,requestData:{handleAction:Wt,handleMessage:ln,applicant:ht,invitee:Ot,groupID:vt,authentication:It,messageKey:kt}}).then(function(){return qn.setNetworkType(Pt.getNetworkType()).end(),pn.l("".concat(qt," ok")),fn&&Pt._groupSystemNoticeHandler.deleteGroupSystemNotice({messageList:[st.message]}),go({group:Pt.getLocalGroupProfile(vt)})}).catch(function(Yn){return Pt.probeNetwork().then(function(Zn){var or=Ft(Zn,2),Sr=or[0],Pr=or[1];qn.setError(Yn,Sr,Pr).end()}),pn.e("".concat(qt," failed. error"),Yn),rr(Yn)})}},{key:"handleGroupInvitation",value:function(st){var ht=this,vt="".concat(this._n,".").concat("handleGroupInvitation"),It=st.message.payload,kt=It.groupProfile.groupID,Ot=It.authentication,Pt=It.messageKey,qt=It.operatorID,Wt=st.handleAction,ln=new xr("handleGroupInvitation");return ln.setMessage("groupID:".concat(kt," inviter:").concat(qt," handleAction:").concat(Wt)),pn.l("".concat(vt," groupID:").concat(kt," inviter:").concat(qt," handleAction:").concat(Wt)),this.request({protocolName:Dn,requestData:rt(rt({},st),{},{inviter:qt,groupID:kt,authentication:Ot,messageKey:Pt})}).then(function(){return ln.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht._groupSystemNoticeHandler.deleteGroupSystemNotice({messageList:[st.message]}),go({group:ht.getLocalGroupProfile(kt)})}).catch(function(fn){return ht.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];ln.setError(fn,qn,Yn).end()}),pn.e("".concat(vt," failed. error"),fn),rr(fn)})}},{key:"getGroupOnlineMemberCount",value:function(st){return this._AVChatRoomHandler?this._AVChatRoomHandler.checkJoinedAVChatRoomByID(st)?this._AVChatRoomHandler.getGroupOnlineMemberCount(st):Go({memberCount:0}):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"hasLocalGroup",value:function(st){return this.groupMap.has(st)}},{key:"deleteLocalGroupAndConversation",value:function(st){var ht=this.checkJoinedAVChatRoomByID(st);if(pn.l("".concat(this._n,".deleteLocalGroupAndConversation isJoinedAVChatRoom:").concat(ht)),ht&&this.getModule(qr).deleteLocalConversation("".concat(Ut.CONV_GROUP).concat(st)),Vs({groupID:st})){var vt=this.getLocalGroupProfile(st);vt&&vt.isSupportTopic===!0&&this.getModule(ys).deleteTopicListInCommunity(st)}this._deleteLocalGroup(st),this.emitGroupListUpdate(!0,!1)}},{key:"_deleteLocalGroup",value:function(st){this.groupMap.delete(st),this.getModule(ba).deleteGroupMemberList(st),this._setStorageGroupList()}},{key:"sendMessage",value:function(st,ht){if(to(st._receiverList)&&st._receiverList.length>0&&!this.canIUse(hr.MSG_TO_SPECIFIED_GRP_MBR))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var vt=this.createGroupMessagePack(st,ht);return this.request(vt)}},{key:"createGroupMessagePack",value:function(st,ht){var vt=null;ht&&ht.offlinePushInfo&&(vt=ht.offlinePushInfo);var It="";Po(st.cloudCustomData)&&st.cloudCustomData.length>0&&(It=st.cloudCustomData);var kt=[];if(as(ht)&&as(ht.messageControlInfo)){var Ot=ht.messageControlInfo,Pt=Ot.excludedFromUnreadCount,qt=Ot.excludedFromLastMessage,Wt=Ot.excludedFromContentModeration;Pt===!0&&kt.push("NoUnread"),qt===!0&&kt.push("NoLastMsg"),Wt===!0&&kt.push("NoMsgCheck")}var ln=void 0;to(st._receiverList)&&st._receiverList.length>0&&(ln=st._receiverList,st._receiverList.length>50&&(ln=st._receiverList.slice(0,50),this.outputWarning("ReceiverListLimit")));var fn=this.isOnlineMessage(st,ht)?1:0,Sn=st.getGroupAtInfoList(),Nn={fromAccount:this.getMyUserID(),groupID:st.to,msgBody:st.getElements(),cloudCustomData:It,random:st.random,priority:st.priority,clientSequence:st.clientSequence,groupAtInfo:st.type!==Ut.MSG_TEXT||dr(Sn)?void 0:Sn,onlineOnlyFlag:fn,clientTime:st.clientTime,offlinePushInfo:vt?{pushFlag:vt.disablePush===!0?1:0,title:vt.title||"",desc:vt.description||"",ext:vt.extension||"",apnsInfo:{badgeMode:vt.ignoreIOSBadge===!0?1:0,isVoipPush:this._isVoipPush(vt)},androidInfo:{OPPOChannelID:vt.androidOPPOChannelID||""}}:void 0,messageControlInfo:fn===0?kt:void 0,needReadReceipt:st.needReadReceipt!==!0||this.isMessageFromOrToAVChatroom(st.to)?0:1,receiverList:ln,isSupportExtension:st.isSupportExtension===!0?1:0};return ps(st.to)&&(Nn.groupID=tu(st.to),Nn.topicID=st.to),{protocolName:Rm,tjgID:this.generateTjgID(st),requestData:Nn}}},{key:"_isVoipPush",value:function(st){var ht=void 0;return vr(st.disableVoipPush)||(ht=st.disableVoipPush===!1?1:0),ht}},{key:"revokeMessage",value:function(st){var ht={groupID:st.to,msgSeqList:[{msgSeq:st.sequence}]};return ps(st.to)&&(ht.groupID=tu(st.to),ht.topicID=st.to),this.request({protocolName:Hn,requestData:ht})}},{key:"deleteMessage",value:function(st){var ht=st.to,vt=st.keyList;pn.l("".concat(this._n,".deleteMessage groupID:").concat(ht," count:").concat(vt.length));var It={groupID:ht,deleter:this.getMyUserID(),keyList:vt};return ps(ht)&&(It.groupID=tu(ht),It.topicID=ht),this.request({protocolName:Is,requestData:It})}},{key:"modifyRemoteMessage",value:function(st){var ht=st.to,vt=st.sequence,It=st.payload,kt=st.type,Ot=st.version,Pt=Ot===void 0?0:Ot,qt=st.cloudCustomData,Wt=ht,ln=void 0;ps(ht)&&(Wt=tu(ht),ln=ht);var fn=void 0;return Tl(kt)&&(fn=[]).push({type:kt,content:It}),this.request({protocolName:Ml,requestData:{groupID:Wt,topicID:ln,sequence:vt,version:Pt,elements:fn,cloudCustomData:qt}})}},{key:"getRoamingMessage",value:function(st){var ht=this,vt="".concat(this._n,".getRoamingMessage"),It=st.conversationID,kt=st.groupID,Ot=st.sequence,Pt=new xr("getGroupRoamingMessages"),qt=0,Wt=void 0;return ps(kt)&&(kt=tu(Wt=kt)),this._computeLastSequence({groupID:kt,topicID:Wt,sequence:Ot}).then(function(ln){return qt=ln,pn.l("".concat(vt," groupID:").concat(kt," startSequence:").concat(qt)),ht.request({protocolName:Lr,requestData:{groupID:kt,count:21,sequence:qt,topicID:Wt}})}).then(function(ln){var fn=ln.data,Sn=fn.messageList,Nn=fn.complete,qn=fn.invisibleSequenceList,Yn=qn===void 0?[]:qn;vr(Sn)?pn.l("".concat(vt," ok. complete:").concat(Nn," but messageList is undefined!")):pn.l("".concat(vt," ok. complete:").concat(Nn," count:").concat(Sn.length));var Zn=ht._getMinSequence(Yn,Sn)-1;Pt.setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(kt," topicID:").concat(Wt," startSequence:").concat(qt," complete:").concat(Nn," nextSequence:").concat(Zn)).end();var or=ht.getModule(qr),Sr=[];return dr(Sn)||(or.updateRoamingMessageSequence(It,Zn),Sr=or.onRoamingMessage(Sn,It),or.updateIsRead(It),or.patchConversationLastMessage(It)),(Nn===2||Zn<=1)&&(or.setCompleted(It),Zn=""),pn.l("".concat(vt," nextReqID:").concat(Zn,", stored message count:").concat(Sr.length,", invisible sequence count:").concat(Yn.length)),{nextReqID:Zn+"",storedMessageList:Sr}}).catch(function(ln){return ht.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];Pt.setError(ln,Nn,qn).setMessage("groupID:".concat(kt," topicID:").concat(Wt," startSequence:").concat(qt)).end()}),pn.w("".concat(vt," failed. error:"),ln),rr(ln)})}},{key:"_getGroupIDOfMessage",value:function(st){return st.conversationID.replace(Ut.CONV_GROUP,"")}},{key:"_getMinSequence",value:function(st,ht){var vt=0;dr(ht)||(vt=ht[ht.length-1].sequence);var It=0;return dr(st)||(It=st[st.length-1]),pn.l("".concat(this._n,"._getMinSequence minVisibleSequence:").concat(vt," minInvisibleSequence:").concat(It)),It>0&&It<vt?It:vt}},{key:"getReadReceiptList",value:function(st){var ht=this,vt="".concat(this._n,".").concat("getReadReceiptList"),It=this._getGroupIDOfMessage(st[0]),kt=this.getMyUserID(),Ot=st.filter(function(qt){return qt.from===kt&&qt.needReadReceipt===!0}).map(function(qt){return{sequence:qt.sequence}});if(pn.l("".concat(vt," groupID:").concat(It," sequenceList:").concat(JSON.stringify(Ot))),Ot.length===0)return Go({messageList:st});var Pt=new xr("getReadReceiptList");return Pt.setMessage("groupID:".concat(It)),this.request({protocolName:ho,requestData:{groupID:It,sequenceList:Ot}}).then(function(qt){Pt.end(),pn.l("".concat(vt," ok"));var Wt=qt.data.readReceiptList;return to(Wt)&&Wt.forEach(function(ln){st.forEach(function(fn){ln.code===0&&ln.sequence===fn.sequence&&(fn.readReceiptInfo.readCount=ln.readCount,fn.readReceiptInfo.unreadCount=ln.unreadCount)})}),go({messageList:st})}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];Pt.setError(qt,fn,Sn).end()}),pn.w("".concat(vt," failed. error:"),qt),rr(qt)})}},{key:"sendReadReceipt",value:function(st){var ht=this,vt="".concat(this._n,".").concat("sendReadReceipt"),It=this._getGroupIDOfMessage(st[0]),kt=new xr("sendReadReceipt");kt.setMessage("groupID:".concat(It));var Ot=this.getMyUserID(),Pt=st.filter(function(qt){return qt.from!==Ot&&qt.needReadReceipt===!0}).map(function(qt){return{sequence:qt.sequence}});return Pt.length===0?rr({code:yr.READ_RECEIPT_MESSAGE_LIST_EMPTY}):(pn.l("".concat(vt,". sequenceList:").concat(JSON.stringify(Pt))),this.request({protocolName:Eo,requestData:{groupID:It,sequenceList:Pt}}).then(function(qt){return kt.end(),pn.l("".concat(vt," ok")),go()}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];kt.setError(qt,fn,Sn).end()}),pn.w("".concat(vt," failed. error:"),qt),rr(qt)}))}},{key:"getReadReceiptDetail",value:function(st){var ht=this,vt=st.message,It=st.filter,kt=st.cursor,Ot=st.count,Pt=this._getGroupIDOfMessage(vt),qt=vt.ID,Wt=vt.sequence,ln="".concat(this._n,".").concat("getReadReceiptDetail"),fn=this._receiptDetailCompleteMap.get(qt)||!1,Sn=It!==0&&It!==1?0:It,Nn=Po(kt)?kt:"",qn=!Zo(Ot)||Ot<=0||Ot>=100?100:Ot,Yn="groupID:".concat(Pt," sequence:").concat(Wt," cursor:").concat(Nn," filter:").concat(Sn," completeFlag:").concat(fn);pn.l("".concat(ln," ").concat(Yn));var Zn={cursor:"",isCompleted:!1,messageID:qt,unreadUserIDList:[],readUserIDList:[]},or=new xr("getReadReceiptDetail");return or.setMessage(Yn),this.request({protocolName:ro,requestData:{groupID:Pt,sequence:Wt,flag:Sn,cursor:Nn,count:qn}}).then(function(Sr){or.end();var Pr=Sr.data,Vr=Pr.cursor,io=Pr.isCompleted,No=Pr.unreadUserIDList,Bo=Pr.readUserIDList;return Zn.cursor=Vr,io===1&&(Zn.isCompleted=!0,ht._receiptDetailCompleteMap.set(qt,!0)),Sn===0?Zn.readUserIDList=Bo.map(function(ko){return ko.userID}):Sn===1&&(Zn.unreadUserIDList=No.map(function(ko){return ko.userID})),pn.l("".concat(ln," ok")),go(Zn)}).catch(function(Sr){return ht.probeNetwork().then(function(Pr){var Vr=Ft(Pr,2),io=Vr[0],No=Vr[1];or.setError(Sr,io,No).end()}),pn.w("".concat(ln," failed. error:"),Sr),rr(Sr)})}},{key:"getRoamingMessagesHopping",value:function(st){var ht=this,vt="".concat(this._n,".getRoamingMessagesHopping"),It=new xr("getGroupRoamingMessagesHopping"),kt=st.groupID,Ot=st.count,Pt=st.sequence,qt=st.direction,Wt=Pt;qt===1&&(Wt=Pt+Ot-1);var ln=void 0;ps(kt)&&(kt=tu(ln=kt));var fn="".concat(ln?"topicID:".concat(ln):"groupID:".concat(kt)," sequence:").concat(Pt," direction:").concat(qt);return pn.l("".concat(vt," ").concat(fn)),this.request({protocolName:Lr,requestData:{groupID:kt,topicID:ln,count:Ot,sequence:Wt}}).then(function(Sn){var Nn=Sn.data,qn=Nn.messageList,Yn=Nn.complete,Zn="complete:".concat(Yn," count:").concat(qn?qn.length:0);if(pn.l("".concat(vt," ok. ").concat(Zn)),It.setNetworkType(ht.getNetworkType()).setMessage("".concat(fn," ").concat(Zn)).end(),Yn===2||dr(qn)){var or=ht._computeResult();return go(or)}var Sr="".concat(Ut.CONV_GROUP).concat(st.groupID),Pr=ht.getModule(qr).onRoamingMessage(qn,Sr,!1),Vr=ht._computeResult({direction:qt,sequence:Pt,remoteMessageList:qn,processedMessageList:Pr});return go(Vr)}).catch(function(Sn){return ht.probeNetwork().then(function(Nn){var qn=Ft(Nn,2),Yn=qn[0],Zn=qn[1];It.setError(Sn,Yn,Zn).setMessage("groupID:".concat(kt," sequence:").concat(Pt," count:").concat(Ot)).end()}),pn.w("".concat(vt," failed. error:"),Sn),rr(Sn)})}},{key:"_computeResult",value:function(st){var ht={messageList:[],isCompleted:!1,nextMessageSeq:""};if(vr(st))return ht.isCompleted=!0,ht;var vt=st.direction,It=st.sequence,kt=st.remoteMessageList,Ot=kt===void 0?[]:kt,Pt=st.processedMessageList,qt=Pt===void 0?[]:Pt,Wt=Ot.length;return vt===1?(ht.nextMessageSeq=Ot[0].sequence+1,qt.forEach(function(ln){ln.sequence>=It&&ht.messageList.push(ln)}),ht.messageList.length===0&&Ot[0].sequence<It&&(ht.isCompleted=!0,ht.nextMessageSeq=""),ht):(ht.nextMessageSeq=Ot[Wt-1].sequence-1,ht.messageList=Ht(qt),ht.nextMessageSeq===0&&(ht.isCompleted=!0,ht.nextMessageSeq=""),ht)}},{key:"setMessageRead",value:function(st){var ht=this,vt=st.conversationID,It=st.lastMessageSeq,kt="".concat(this._n,".setMessageRead");pn.l("".concat(kt," conversationID:").concat(vt," lastMessageSeq:").concat(It)),Zo(It)||this.outputWarning("DoNotModifyLastSeq");var Ot=new xr("setGroupMessageRead");Ot.setMessage("".concat(vt,"-").concat(It));var Pt=vt.replace(Ut.CONV_GROUP,""),qt=void 0;return ps(Pt)&&(Pt=tu(qt=Pt)),this.request({protocolName:zn,requestData:{groupID:Pt,topicID:qt,messageReadSeq:It}}).then(function(){Ot.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(kt," ok."));var Wt=ht.getModule(qr);Wt.updateIsReadAfterReadReport({conversationID:vt,lastMessageSeq:It});var ln=!0;if(!vr(qt)){ln=!1;var fn=ht.getModule(ys).getLocalTopic(Pt,qt);fn&&fn.updateSelfInfo({readedSequence:It})}return Wt.updateUnreadCount(vt,ln),go()}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Ot.setError(Wt,Sn,Nn).end()}),pn.l("".concat(kt," failed. error:"),Wt),rr(Wt)})}},{key:"_computeLastSequence",value:function(st){var ht=st.groupID,vt=st.topicID,It=vt===void 0?void 0:vt,kt=st.sequence;return kt>0?Promise.resolve(kt):vr(It)||this.hasLocalGroup(ht)?vr(It)?this.getGroupLastSequence(ht):this.getTopicLastSequence({groupID:ht,topicID:It}):Promise.resolve(0)}},{key:"getGroupLastSequence",value:function(st){var ht=this,vt="".concat(this._n,".").concat("getGroupLastSequence"),It=new xr("getGroupLastSequence"),kt=0,Ot="";if(this.hasLocalGroup(st)){var Pt=this.getLocalGroupProfile(st),qt=Pt.lastMessage;if(qt.lastSequence>0&&qt.onlineOnlyFlag===!1)return kt=qt.lastSequence,Ot="got lastSequence:".concat(kt," from local group profile[lastMessage.lastSequence]. groupID:").concat(st),pn.l("".concat(vt," ").concat(Ot)),It.setNetworkType(this.getNetworkType()).setMessage("".concat(Ot)).end(),Promise.resolve(kt);if(Pt.nextMessageSeq>1)return kt=Pt.nextMessageSeq-1,Ot="got lastSequence:".concat(kt," from local group profile[nextMessageSeq]. groupID:").concat(st),pn.l("".concat(vt," ").concat(Ot)),It.setNetworkType(this.getNetworkType()).setMessage("".concat(Ot)).end(),Promise.resolve(kt)}var Wt="GROUP".concat(st),ln=this.getModule(qr).getLocalConversation(Wt);if(ln&&ln.lastMessage.lastSequence&&ln.lastMessage.onlineOnlyFlag===!1)return kt=ln.lastMessage.lastSequence,Ot="got lastSequence:".concat(kt," from local conversation profile[lastMessage.lastSequence]. groupID:").concat(st),pn.l("".concat(vt," ").concat(Ot)),It.setNetworkType(this.getNetworkType()).setMessage("".concat(Ot)).end(),Promise.resolve(kt);var fn={groupIDList:[st],responseFilter:{groupBaseInfoFilter:["NextMsgSeq"]}};return this.getGroupProfileAdvance(fn).then(function(Sn){var Nn=Sn.data.successGroupList;return dr(Nn)?pn.l("".concat(vt," successGroupList is empty. groupID:").concat(st)):(kt=Nn[0].nextMessageSeq-1,Ot="got lastSequence:".concat(kt," from getGroupProfileAdvance. groupID:").concat(st),pn.l("".concat(vt," ").concat(Ot))),It.setNetworkType(ht.getNetworkType()).setMessage("".concat(Ot)).end(),kt}).catch(function(Sn){return ht.probeNetwork().then(function(Nn){var qn=Ft(Nn,2),Yn=qn[0],Zn=qn[1];It.setError(Sn,Yn,Zn).setMessage("get lastSequence failed from getGroupProfileAdvance. groupID:".concat(st)).end()}),pn.w("".concat(vt," failed. error:"),Sn),rr(Sn)})}},{key:"getTopicLastSequence",value:function(st){var ht=this,vt=st.groupID,It=st.topicID,kt="".concat(this._n,".").concat("getTopicLastSequence"),Ot=new xr("getTopicLastSequence"),Pt=0,qt="",Wt=this.getModule(ys);return Wt.hasLocalTopic(vt,It)?(Pt=Wt.getLocalTopic(vt,It).nextMessageSeq-1,qt="get lastSequence:".concat(Pt," from local topic info[nextMessageSeq]. topicID:").concat(It),pn.l("".concat(kt," ").concat(qt)),Ot.setNetworkType(this.getNetworkType()).setMessage("".concat(qt)).end(),Promise.resolve(Pt)):Wt.getTopicList({groupID:vt,topicIDList:[It]}).then(function(ln){var fn=ln.data.successTopicList;return dr(fn)?pn.l("".concat(kt," successTopicList is empty. topicID:").concat(It)):(Pt=fn[0].nextMessageSeq-1,qt="get lastSequence:".concat(Pt," from getTopicList. topicID:").concat(It),pn.l("".concat(kt," ").concat(qt))),Ot.setNetworkType(ht.getNetworkType()).setMessage("".concat(qt)).end(),Pt}).catch(function(ln){return ht.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];Ot.setError(ln,Nn,qn).setMessage("get lastSequence failed from getTopicList. topicID:".concat(It)).end()}),pn.w("".concat(kt," failed. error:"),ln),rr(ln)})}},{key:"isMessageFromOrToAVChatroom",value:function(st){return!!this._AVChatRoomHandler&&this._AVChatRoomHandler.checkJoinedAVChatRoomByID(st)}},{key:"hasJoinedAVChatRoom",value:function(){return this._AVChatRoomHandler?this._AVChatRoomHandler.hasJoinedAVChatRoom():0}},{key:"getJoinedAVChatRoom",value:function(){return this._AVChatRoomHandler?this._AVChatRoomHandler.getJoinedAVChatRoom():[]}},{key:"isOnlineMessage",value:function(st,ht){return!(!this._canIUseOnlineOnlyFlag(st)||!ht||ht.onlineUserOnly!==!0)}},{key:"_canIUseOnlineOnlyFlag",value:function(st){var ht=this.getJoinedAVChatRoom();return!ht||!ht.includes(st.to)||st.conversationType!==Ut.CONV_GROUP}},{key:"_onAVChatRoomHistoryMessage",value:function(st){if(!dr(st)){pn.l("".concat(this._n,"._onAVChatRoomHistoryMessage count:").concat(st.length));var ht=[];st.forEach(function(vt){ht.push(rt(rt({},vt),{},{isHistoryMessage:1}))}),this.onAVChatRoomMessage(ht)}}},{key:"onAVChatRoomMessage",value:function(st){this._AVChatRoomHandler&&this._AVChatRoomHandler.onMessage(st)}},{key:"onAVChatRoomMemberBanned",value:function(st){this._AVChatRoomHandler&&this._AVChatRoomHandler.onAVChatRoomMemberBanned(st)}},{key:"getGroupSimplifiedInfo",value:function(st){var ht=this,vt=new xr("getGroupSimplifiedInfo"),It={groupIDList:[st],responseFilter:{groupBaseInfoFilter:["Type","Name"]}};return this.getGroupProfileAdvance(It).then(function(kt){var Ot=kt.data.successGroupList;return vt.setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(st," type:").concat(Ot[0].type)).end(),Ot[0]}).catch(function(kt){ht.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];vt.setError(kt,qt,Wt).setMessage("groupID:".concat(st)).end()})})}},{key:"setUnjoinedAVChatRoom",value:function(st){this._unjoinedAVChatRoomList.set(st,1)}},{key:"deleteUnjoinedAVChatRoom",value:function(st){this._unjoinedAVChatRoomList.has(st)&&this._unjoinedAVChatRoomList.delete(st)}},{key:"isUnjoinedAVChatRoom",value:function(st){return this._unjoinedAVChatRoomList.has(st)}},{key:"isGroupAttributesUpdatedNotice",value:function(st){return this._groupAttributesHandler.isGroupAttributesUpdatedNotice(st)}},{key:"updateLocalMainSequenceOnReconnected",value:function(){this._groupAttributesHandler.updateLocalMainSequenceOnReconnected()}},{key:"initGroupAttributes",value:function(st){return this._groupAttributesHandler.initGroupAttributes(st)}},{key:"setGroupAttributes",value:function(st){return this._groupAttributesHandler.setGroupAttributes(st)}},{key:"deleteGroupAttributes",value:function(st){return this._groupAttributesHandler.deleteGroupAttributes(st)}},{key:"getGroupAttributes",value:function(st){return this._groupAttributesHandler.getGroupAttributes(st)}},{key:"isMessageFromTopic",value:function(st,ht){return st===2&&!dr(ht)}},{key:"isMessageFromCommunityOfTopic",value:function(st,ht){return st===2&&dr(ht)}},{key:"getMessageExtensions",value:function(st,ht){return pn.l("".concat(this._n,".getMessageExtensions startSequence:").concat(ht)),this.request({protocolName:X_,requestData:{groupID:st.to,messageSequence:st.sequence,startSequence:ht}})}},{key:"modifyMessageExtensions",value:function(st,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return pn.l("".concat(this._n,".modifyMessageExtensions operateType:").concat(vt)),this.request({protocolName:Qp,requestData:{groupID:st.to,messageSequence:st.sequence,extensionList:ht,operateType:vt}})}},{key:"getGroupNotify",value:function(st){var ht=this;if(this.hasLocalGroup(st)){var vt=this.getLocalGroupProfile(st),It=vt.type,kt=vt.isSupportTopic;if(!cu(It)&&!kt){var Ot="".concat(this._n,".getGroupNotify"),Pt=this._getGroupLastRevokedTime(st),qt=1e3*qs();pn.l("".concat(Ot," groupID:").concat(st," type:").concat(It," beginTime:").concat(Pt," endTime:").concat(qt)),this.request({protocolName:Tv,requestData:{type:Vs({type:It,groupID:st})?Ut.GRP_COMMUNITY:void 0,groupID:st,beginTime:Pt,endTime:qt}}).then(function(Wt){var ln=Wt.data,fn=ln.nextRevokedTime,Sn=ln.notifyList;pn.l("".concat(Ot," ok. groupID:").concat(st," nextRevokedTime:").concat(fn));var Nn={dataList:[{elements:{revokedInfos:[]}}]};to(Sn)&&Sn.forEach(function(qn){Nn.dataList[0].elements.revokedInfos.push({groupID:st,sequence:qn.sequence,random:qn.random,revokerInfo:rt({},qn.revokerInfo)})}),ht.onGroupMessageRevoked(Nn),fn!==0?(ht._setGroupLastRevokedTime(st,fn),ht.getGroupNotify(st)):ht._setGroupLastRevokedTime(st,1e3*qs())}).catch(function(Wt){pn.e("".concat(Ot," failed. error:"),Wt)})}}}},{key:"_getGroupLastRevokedTime",value:function(st){return this.hasLocalGroup(st)?this.getLocalGroupProfile(st)._lastRevokedTime:0}},{key:"_setGroupLastRevokedTime",value:function(st,ht){this.hasLocalGroup(st)&&(this.getLocalGroupProfile(st)._lastRevokedTime=ht)}},{key:"isGroupCountersNotice",value:function(st){return this._groupCountersHandler.isGroupCountersNotice(st)}},{key:"setGroupCounters",value:function(st){return this._groupCountersHandler.setGroupCounters(st)}},{key:"increaseGroupCounter",value:function(st){return this._groupCountersHandler.increaseGroupCounter(st)}},{key:"decreaseGroupCounter",value:function(st){return this._groupCountersHandler.decreaseGroupCounter(st)}},{key:"getGroupCounters",value:function(st){return this._groupCountersHandler.getGroupCounters(st)}},{key:"restartPolling",value:function(){this._AVChatRoomHandler&&this._AVChatRoomHandler.restartPolling()}},{key:"getPollingTimerID",value:function(st){if(!st)return-1;var ht=this.getLocalGroupProfile(st);return ht&&cu(ht.type)?this._AVChatRoomHandler.getPollingTimerID(st):-1}},{key:"_canIUseJoinOption",value:function(st){return function(ht){return ht===Ut.GRP_PUBLIC}(st)||Vs({type:st})}},{key:"reset",value:function(){this.groupMap.clear(),this._unjoinedAVChatRoomList.clear(),this._receiptDetailCompleteMap.clear(),this._commonGroupHandler.reset(),this._groupSystemNoticeHandler.reset(),this._groupTipsHandler.reset(),this._groupAttributesHandler.reset(),this._groupCountersHandler.reset(),this._AVChatRoomHandler&&this._AVChatRoomHandler.reset()}}]),yt}(Os),l0=function(){function Gt(dt){it(this,Gt),this.userID="",this.avatar="",this.nick="",this.role="",this.joinTime="",this.lastSendMsgTime="",this.nameCard="",this.muteUntil=0,this.memberCustomField=[],this._initMember(dt)}return lt(Gt,[{key:"_initMember",value:function(dt){this.updateMember(dt)}},{key:"updateMember",value:function(dt){var yt=[null,void 0,"",0,NaN];dt.memberCustomField&&Ou(this.memberCustomField,dt.memberCustomField),fr(this,dt,["memberCustomField","marks"],yt)}},{key:"updateRole",value:function(dt){["Owner","Admin","Member"].indexOf(dt)<0||(this.role=dt)}},{key:"updateMuteUntil",value:function(dt){vr(dt)||(this.muteUntil=Math.floor((Date.now()+1e3*dt)/1e3))}},{key:"updateNameCard",value:function(dt){vr(dt)||(this.nameCard=dt)}},{key:"updateMemberCustomField",value:function(dt){dt&&Ou(this.memberCustomField,dt)}}]),Gt}(),cv=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="GroupMemberModule",ht.groupMemberListMap=new Map,ht.getInnerEmitterInstance().on(ov,ht._onProfileUpdated,Bt(ht)),ht}return lt(yt,[{key:"_onProfileUpdated",value:function(st){for(var ht=this,vt=st.data,It=function(Ot){var Pt=vt[Ot];ht.groupMemberListMap.forEach(function(qt){qt.has(Pt.userID)&&qt.get(Pt.userID).updateMember({nick:Pt.nick,avatar:Pt.avatar})})},kt=0;kt<vt.length;kt++)It(kt)}},{key:"deleteGroupMemberList",value:function(st){this.groupMemberListMap.delete(st)}},{key:"getGroupMemberList",value:function(st){var ht=this,vt=st.groupID,It=st.offset,kt=It===void 0?0:It,Ot=st.count,Pt=Ot===void 0?15:Ot,qt=st.filter,Wt=qt===void 0?void 0:qt,ln="".concat(this._n,".").concat("getGroupMemberList"),fn=this.getModule(So),Sn=fn.hasLocalGroup(vt);if(pn.l("".concat(ln," groupID:").concat(vt," offset:").concat(kt," count:").concat(Pt," hasLocalGroup:").concat(Sn)),!Sn)return Go({memberList:[],offset:0});if(fn.getLocalGroupProfile(vt).type===Ut.GRP_AVCHATROOM){if(this.canIUse(hr.AVCHATROOM_MBR_LIST))return this._getAVChatRoomMemberList({groupID:vt,offset:kt,filter:Wt});this.outputWarning("LiveOnlineMember")}var Nn=new xr("getGroupMemberList"),qn=0,Yn={groupID:vt,limit:Pt>100?100:Pt};Vs({groupID:vt})?Yn.next="".concat(kt):(Yn.offset=kt,qn=kt+Pt);var Zn=[];return this.request({protocolName:wv,requestData:Yn}).then(function(or){var Sr=or.data,Pr=Sr.members,Vr=Sr.memberNum,io=Sr.next,No=io===void 0?void 0:io;if(vr(No)||(qn=dr(No)?0:No),!to(Pr)||Pr.length===0)return qn=0,Promise.resolve([]);var Bo=ht.getModule(So);return Bo.hasLocalGroup(vt)&&(Bo.getLocalGroupProfile(vt).memberNum=Vr),Zn=ht._updateLocalGroupMemberMap(vt,Pr),ht.getModule(Uo).getUserProfile({userIDList:Pr.map(function(ko){return ko.userID}),tagList:[xs.NICK,xs.AVATAR]})}).then(function(or){var Sr=or.data;if(!to(Sr)||Sr.length===0)return Go({memberList:[],offset:qn});var Pr=Sr.map(function(Vr){return{userID:Vr.userID,nick:Vr.nick,avatar:Vr.avatar}});return ht._updateLocalGroupMemberMap(vt,Pr),Zn.length<Pt&&(qn=0),Nn.setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(vt," offset:").concat(kt," count:").concat(Pt)).end(),pn.l("".concat(ln," ok.")),go({memberList:Zn,offset:qn})}).catch(function(or){return ht.probeNetwork().then(function(Sr){var Pr=Ft(Sr,2),Vr=Pr[0],io=Pr[1];Nn.setError(or,Vr,io).end()}),pn.e("".concat(ln," failed. error:"),or),rr(or)})}},{key:"_getAVChatRoomMemberList",value:function(st){var ht=this,vt=st.groupID,It=st.offset,kt=st.filter,Ot="".concat(this._n,".").concat("_getAVChatRoomMemberList"),Pt=new xr("_getAVChatRoomMemberList");return Pt.setMessage("groupID:".concat(vt," offset:").concat(It," filter:").concat(kt)),this.request({protocolName:s_,requestData:{groupID:vt,offset:It,filter:kt}}).then(function(qt){var Wt=qt.data,ln=Wt.memberList,fn=ln===void 0?[]:ln,Sn=Wt.offset,Nn=Sn===void 0?0:Sn;Pt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(Ot," ok. member count:").concat(fn.length,", next request timestamp:").concat(Nn));var qn=ht._updateLocalGroupMemberMap(vt,fn);return go({memberList:qn,offset:Nn})}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];Pt.setError(qt,fn,Sn).end()}),pn.e("".concat(Ot," failed. error:"),qt),rr(qt)})}},{key:"getGroupMemberProfile",value:function(st){var ht=this,vt="".concat(this._n,".").concat("getGroupMemberProfile"),It=new xr("getGroupMemberProfile");It.setMessage(st.userIDList.length>5?"userIDList.length:".concat(st.userIDList.length):"userIDList:".concat(st.userIDList)),pn.l("".concat(vt," groupID:").concat(st.groupID," userIDList:").concat(st.userIDList.join(","))),st.userIDList.length>50&&(st.userIDList=st.userIDList.slice(0,50));var kt=st.groupID,Ot=st.userIDList;return this._getGroupMemberProfileAdvance(rt(rt({},st),{},{userIDList:Ot})).then(function(Pt){var qt=Pt.data.members;return to(qt)&&qt.length!==0?(ht._updateLocalGroupMemberMap(kt,qt),ht.getModule(Uo).getUserProfile({userIDList:qt.map(function(Wt){return Wt.userID}),tagList:[xs.NICK,xs.AVATAR]})):Go([])}).then(function(Pt){var qt=Pt.data.map(function(ln){return{userID:ln.userID,nick:ln.nick,avatar:ln.avatar}});ht._updateLocalGroupMemberMap(kt,qt);var Wt=Ot.filter(function(ln){return ht.hasLocalGroupMember(kt,ln)}).map(function(ln){return ht.getLocalGroupMemberInfo(kt,ln)});return It.setNetworkType(ht.getNetworkType()).end(),go({memberList:Wt})})}},{key:"addGroupMember",value:function(st){var ht=this,vt="".concat(this._n,".").concat("addGroupMember"),It=st.groupID,kt=this.getModule(So).getLocalGroupProfile(It),Ot=kt.type,Pt=new xr("addGroupMember");if(Pt.setMessage("groupID:".concat(It," groupType:").concat(Ot)),cu(Ot)){var qt=new Cs({code:yr.CANNOT_ADD_MEMBER_IN_AVCHATROOM});return Pt.setError(qt,!0,this.getNetworkType()).end(),rr(qt)}return st.userIDList=st.userIDList.map(function(Wt){return{userID:Wt}}),pn.l("".concat(vt," groupID:").concat(It)),this.request({protocolName:Z_,requestData:st}).then(function(Wt){var ln=Wt.data.members;pn.l("".concat(vt," ok"));var fn=ln.filter(function(Zn){return Zn.result===1}).map(function(Zn){return Zn.userID}),Sn=ln.filter(function(Zn){return Zn.result===0}).map(function(Zn){return Zn.userID}),Nn=ln.filter(function(Zn){return Zn.result===2}).map(function(Zn){return Zn.userID}),qn=ln.filter(function(Zn){return Zn.result===4}).map(function(Zn){return Zn.userID}),Yn="groupID:".concat(st.groupID,", ")+"successUserIDList:".concat(fn,", ")+"failureUserIDList:".concat(Sn,", ")+"existedUserIDList:".concat(Nn,", ")+"overLimitUserIDList:".concat(qn);return Pt.setNetworkType(ht.getNetworkType()).setMoreMessage(Yn).end(),fn.length===0?go({successUserIDList:fn,failureUserIDList:Sn,existedUserIDList:Nn,overLimitUserIDList:qn}):(kt.memberCount+=fn.length,ht._updateConversationGroupProfile(kt),go({successUserIDList:fn,failureUserIDList:Sn,existedUserIDList:Nn,overLimitUserIDList:qn,group:kt}))}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"deleteGroupMember",value:function(st){var ht=this,vt="".concat(this._n,".").concat("deleteGroupMember"),It=st.groupID,kt=st.userIDList,Ot=this.getModule(So).getLocalGroupProfile(It);if(vr(Ot))return rr({code:yr.CANNOT_FIND_GROUP});if(cu(Ot.type))return this.canIUse(hr.AVCHATROOM_BAN_MBR)?this._banAVChatRoomMember(st):rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var Pt=new xr("deleteGroupMember"),qt="groupID:".concat(It," ").concat(kt.length>5?"userIDList.length:".concat(kt.length):"userIDList:".concat(kt));return Pt.setMessage(qt),pn.l("".concat(vt," groupID:").concat(It," userIDList:"),kt),this.request({protocolName:Gn,requestData:st}).then(function(){return Pt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),Ot.memberCount-=1,ht._updateConversationGroupProfile(Ot),ht.deleteLocalGroupMembers(It,kt),go({group:Ot,userIDList:kt})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"_updateConversationGroupProfile",value:function(st){this.getModule(qr).updateConversationGroupProfile([st])}},{key:"_banAVChatRoomMember",value:function(st){var ht=this,vt="".concat(this._n,".").concat("deleteGroupMember"),It=st.groupID,kt=st.userIDList,Ot="groupID:".concat(It," ").concat(kt.length>5?"userIDList.length:".concat(kt.length):"userIDList:".concat(kt)),Pt=new xr("deleteGroupMember");Pt.setMessage(Ot),pn.l("".concat(vt," groupID:").concat(It," userIDList:"),kt);var qt=this.getModule(So).getLocalGroupProfile(It);return vr(st.duration)||st.duration===0?rr({code:yr.BAN_DURATION_INVALID}):this.request({protocolName:ym,requestData:st}).then(function(){return Pt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht.deleteLocalGroupMembers(It,kt),go({group:qt,userIDList:kt})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];Pt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"setGroupMemberMuteTime",value:function(st){var ht=this,vt=st.groupID,It=st.userID,kt=st.muteTime,Ot="".concat(this._n,".").concat("setGroupMemberMuteTime");if(It===this.getMyUserID())return rr(new Cs({code:yr.CANNOT_MUTE_SELF}));pn.l("".concat(Ot," groupID:").concat(vt," userID:").concat(It));var Pt=new xr("setGroupMemberMuteTime");return Pt.setMessage("groupID:".concat(vt," userID:").concat(It," muteTime:").concat(kt)),this.modifyGroupMemberInfo({groupID:vt,userID:It,muteTime:kt}).then(function(qt){Pt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(Ot," ok"));var Wt=ht.getModule(So);return go({group:Wt.getLocalGroupProfile(vt),member:qt})}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];Pt.setError(qt,fn,Sn).end()}),pn.e("".concat(Ot," failed. error:"),qt),rr(qt)})}},{key:"setGroupMemberRole",value:function(st){var ht=this,vt="".concat(this._n,".").concat("setGroupMemberRole"),It=st.groupID,kt=st.userID,Ot=st.role,Pt=this.getModule(So).getLocalGroupProfile(It);if(Pt.selfInfo.role!==Ut.GRP_MBR_ROLE_OWNER)return rr({code:yr.NOT_OWNER});if([Ut.GRP_WORK,Ut.GRP_AVCHATROOM].includes(Pt.type))return rr({code:yr.CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM});var qt=[Ut.GRP_MBR_ROLE_ADMIN,Ut.GRP_MBR_ROLE_MEMBER];if(Vs({groupID:It})&&qt.push(Ut.GRP_MBR_ROLE_CUSTOM),qt.indexOf(Ot)<0)return rr({code:yr.INVALID_MEMBER_ROLE});if(kt===this.getMyUserID())return rr({code:yr.CANNOT_SET_SELF_MEMBER_ROLE});var Wt=new xr("setGroupMemberRole");return Wt.setMessage("groupID:".concat(It," userID:").concat(kt," role:").concat(Ot)),pn.l("".concat(vt," groupID:").concat(It," userID:").concat(kt)),this.modifyGroupMemberInfo({groupID:It,userID:kt,role:Ot}).then(function(ln){return Wt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),go({group:Pt,member:ln})}).catch(function(ln){return ht.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];Wt.setError(ln,Nn,qn).end()}),pn.e("".concat(vt," failed. error:"),ln),rr(ln)})}},{key:"_filterProfanity",value:function(st,ht){var vt=this.getModule(zl);if(!vt)return!0;var It=vt.filterText(ht[st],zo),kt=It.isAllowedToSend,Ot=It.modifiedText;return kt===!0&&(ht[st]=Ot,!0)}},{key:"setGroupMemberNameCard",value:function(st){var ht=this,vt="".concat(this._n,".").concat("setGroupMemberNameCard");if(st.nameCard&&this._filterProfanity("nameCard",st)===!1)return rr({code:yr.PROFANITY_FOUND});var It=st.groupID,kt=st.userID,Ot=kt===void 0?this.getMyUserID():kt,Pt=st.nameCard;pn.l("".concat(vt," groupID:").concat(It," userID:").concat(Ot));var qt=new xr("setGroupMemberNameCard");return qt.setMessage("groupID:".concat(It," userID:").concat(Ot," nameCard:").concat(Pt)),this.modifyGroupMemberInfo({groupID:It,userID:Ot,nameCard:Pt}).then(function(Wt){pn.l("".concat(vt," ok")),qt.setNetworkType(ht.getNetworkType()).end();var ln=ht.getModule(So).getLocalGroupProfile(It);return Ot===ht.getMyUserID()&&ln&&ln.setSelfNameCard(Pt),go({group:ln,member:Wt})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];qt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"setGroupMemberCustomField",value:function(st){var ht=this,vt="".concat(this._n,".").concat("setGroupMemberCustomField"),It=st.groupID,kt=st.userID,Ot=kt===void 0?this.getMyUserID():kt,Pt=st.memberCustomField;pn.l("".concat(vt," groupID:").concat(It," userID:").concat(Ot));var qt=new xr("setGroupMemberCustomField");return qt.setMessage("groupID:".concat(It," userID:").concat(Ot," memberCustomField:").concat(JSON.stringify(Pt))),this.modifyGroupMemberInfo({groupID:It,userID:Ot,memberCustomField:Pt}).then(function(Wt){qt.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok"));var ln=ht.getModule(So).getLocalGroupProfile(It);return go({group:ln,member:Wt})}).catch(function(Wt){return ht.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];qt.setError(Wt,Sn,Nn).end()}),pn.e("".concat(vt," failed. error:"),Wt),rr(Wt)})}},{key:"modifyGroupMemberInfo",value:function(st){var ht=this,vt=st.groupID,It=st.userID,kt=void 0;return ps(vt)&&(vt=tu(kt=vt)),this.request({protocolName:c_,requestData:rt(rt({},st),{},{groupID:vt,topicID:kt})}).then(function(){if(ht.hasLocalGroupMember(vt,It)){var Ot=ht.getLocalGroupMemberInfo(vt,It);return vr(st.muteTime)||Ot.updateMuteUntil(st.muteTime),vr(st.role)||Ot.updateRole(st.role),vr(st.nameCard)||Ot.updateNameCard(st.nameCard),vr(st.memberCustomField)||Ot.updateMemberCustomField(st.memberCustomField),Ot}return ht.getGroupMemberProfile({groupID:vt,userIDList:[It]}).then(function(Pt){return Ft(Pt.data.memberList,1)[0]})})}},{key:"markGroupMemberList",value:function(st){var ht=this,vt="".concat(this._n,".").concat("markGroupMemberList"),It=st.groupID,kt=st.markType,Ot=st.enableMark,Pt=st.userIDList,qt=Pt===void 0?[]:Pt,Wt="groupID:".concat(It," markType:").concat(kt," enableMark:").concat(Ot," userIDList count: ").concat(qt.length);pn.l("".concat(vt," ").concat(Wt));var ln=2,fn=[];Ot===!0&&(ln=1);var Sn=Ht(qt);qt.length>500&&(Sn=qt.slice(0,500),pn.w("".concat(vt," ").concat(Ip(500)))),Sn.forEach(function(qn){fn.push({userID:qn,markType:[kt]})}),Sn=null;var Nn=new xr("markGroupMemberList");return Nn.setMessage("".concat(Wt)),this.request({protocolName:Wl,requestData:{groupID:It,operationType:ln,memberList:fn}}).then(function(qn){var Yn=qn.data.memberList,Zn=Yn===void 0?[]:Yn,or=[],Sr=[];Zn.length===qt.length?or.push.apply(or,Ht(qt)):(Zn.forEach(function(Vr){or.push(Vr.userID)}),qt.forEach(function(Vr){or.includes(Vr)||Sr.push(Vr)}));var Pr="success count:".concat(or.length," fail count:").concat(Sr.length);return Nn.setNetworkType(ht.getNetworkType()).setMessage(Pr).end(),pn.l("".concat(vt," ok. ").concat(Pr)),go({successUserIDList:or,failureUserIDList:Sr})}).catch(function(qn){return ht.probeNetwork().then(function(Yn){var Zn=Ft(Yn,2),or=Zn[0],Sr=Zn[1];Nn.setError(qn,or,Sr).end()}),pn.e("".concat(vt," failed. error:"),qn),rr(qn)})}},{key:"_getGroupMemberProfileAdvance",value:function(st){return this.request({protocolName:Um,requestData:rt(rt({},st),{},{memberInfoFilter:st.memberInfoFilter?st.memberInfoFilter:["Role","JoinTime","NameCard","ShutUpUntil"]})})}},{key:"_updateLocalGroupMemberMap",value:function(st,ht){var vt=this;return to(ht)&&ht.length!==0?ht.map(function(It){return vt.hasLocalGroupMember(st,It.userID)?vt.getLocalGroupMemberInfo(st,It.userID).updateMember(It):vt.setLocalGroupMember(st,new l0(It)),vt.getLocalGroupMemberInfo(st,It.userID)}):[]}},{key:"deleteLocalGroupMembers",value:function(st,ht){var vt=this.groupMemberListMap.get(st);vt&&ht.forEach(function(It){vt.delete(It)})}},{key:"getLocalGroupMemberInfo",value:function(st,ht){return this.groupMemberListMap.has(st)?this.groupMemberListMap.get(st).get(ht):null}},{key:"setLocalGroupMember",value:function(st,ht){if(this.groupMemberListMap.has(st))this.groupMemberListMap.get(st).set(ht.userID,ht);else{var vt=new Map().set(ht.userID,ht);this.groupMemberListMap.set(st,vt)}}},{key:"getLocalGroupMemberList",value:function(st){return this.groupMemberListMap.get(st)}},{key:"hasLocalGroupMember",value:function(st,ht){return this.groupMemberListMap.has(st)&&this.groupMemberListMap.get(st).has(ht)}},{key:"hasLocalGroupMemberMap",value:function(st){return this.groupMemberListMap.has(st)}},{key:"reset",value:function(){this.groupMemberListMap.clear()}}]),yt}(Os),uv=["topicID","topicName","avatar","introduction","notification","unreadCount","muteAllMembers","customData","groupAtInfoList","nextMessageSeq","selfInfo"],Jv=function(Gt,dt){return dr(Gt)?{lastTime:0,lastSequence:0,fromAccount:"",payload:null,type:"",messageForShow:"",nick:"",version:0,cloudCustomData:"",isRevoked:!1,revoker:null}:{lastTime:Gt.time||0,lastSequence:Gt.sequence||0,fromAccount:Gt.from||"",payload:Gt.payload||null,type:Gt.type||"",messageForShow:rp(Gt.type,Gt.payload,dt),nick:Gt.nick||"",version:Gt.version||0,cloudCustomData:Gt.cloudCustomData||"",isRevoked:Gt.isRevoked||!1,revoker:Gt.revoker||null}},Xv=function(){function Gt(dt,yt){it(this,Gt),this.topicID="",this.topicName="",this.avatar="",this.introduction="",this.notification="",this.unreadCount=0,this.muteAllMembers=!1,this.customData="",this.groupAtInfoList=[],this.nextMessageSeq=0,this.lastMessage=Jv(dt.lastMessage,yt),this.selfInfo={muteTime:0,readedSequence:0,messageRemindType:"",excludedUnreadSequenceList:void 0},this._initTopic(dt)}return lt(Gt,[{key:"_initTopic",value:function(dt){for(var yt in dt)uv.indexOf(yt)<0||(yt==="selfInfo"?this.updateSelfInfo(dt[yt]):this[yt]=yt==="muteAllMembers"?dt[yt]===1:dt[yt])}},{key:"updateUnreadCount",value:function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.unreadCount=dt}},{key:"updateNextMessageSeq",value:function(dt){this.nextMessageSeq=dt}},{key:"updateLastMessage",value:function(dt){this.lastMessage=Jv(dt)}},{key:"updateGroupAtInfoList",value:function(dt){this.groupAtInfoList=JSON.parse(JSON.stringify(dt))}},{key:"updateTopic",value:function(dt){vr(dt.selfInfo)||this.updateSelfInfo(dt.selfInfo),vr(dt.muteAllMembers)||(this.muteAllMembers=dt.muteAllMembers===1),fr(this,dt,["groupID","lastMessageTime","selfInfo","muteAllMembers","lastMsg"])}},{key:"updateSelfInfo",value:function(dt){return fr(this.selfInfo,dt,[],[""])!==0}},{key:"reduceUnreadCount",value:function(){return this.unreadCount>=1&&(this.unreadCount-=1,!0)}},{key:"isLastMessageRevoked",value:function(dt){return dt.sequence===this.lastMessage.lastSequence}},{key:"setLastMessageRevoked",value:function(dt){this.lastMessage.isRevoked=dt}},{key:"setLastMessageRevoker",value:function(dt){this.lastMessage.revoker=dt}}]),Gt}(),Jl=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="TopicModule",ht._topicMap=new Map,ht._getTopicTimeMap=new Map,ht.TOPIC_CACHE_TIME=300,ht.TOPIC_LAST_ACTIVE_TIME=3600,ht.getInnerEmitterInstance().on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"_onCloudConfigUpdated",value:function(){var st=this.getCloudConfig("topic_cache_time"),ht=this.getCloudConfig("topic_last_active_time");vr(st)||(this.TOPIC_CACHE_TIME=Number(st)),vr(ht)||(this.TOPIC_LAST_ACTIVE_TIME=Number(ht))}},{key:"onTopicCreated",value:function(st){var ht=st.groupID;this.resetGetTopicTime(ht),this.emitOuterEvent(yn.TOPIC_CREATED,st)}},{key:"onTopicDeleted",value:function(st){var ht=this,vt=st.groupID,It=st.topicIDList;(It===void 0?[]:It).forEach(function(kt){ht._deleteLocalTopic(vt,kt)}),this.emitOuterEvent(yn.TOPIC_DELETED,st)}},{key:"onTopicMessageRemindTypeUpdated",value:function(st){var ht=st.groupID,vt=st.topicID,It=st.messageRemindType,kt=this.getLocalTopic(ht,vt);if(kt){var Ot=kt.updateSelfInfo({messageRemindType:It});Ot&&this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:ht,topic:kt}),pn.d("".concat(this._n,".onTopicMessageRemindTypeUpdated topicID:").concat(vt)+" messageRemindType:".concat(It," isTopicUpdated:").concat(Ot))}}},{key:"onTopicProfileUpdated",value:function(st){var ht=st.groupID,vt=st.topicID,It=this.getLocalTopic(ht,vt);It&&(It.updateTopic(st),this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:ht,topic:It}))}},{key:"onConversationProxy",value:function(st){var ht=st.topicID,vt=st.unreadCount,It=st.groupAtInfoList,kt=tu(ht),Ot=this.getLocalTopic(kt,ht),Pt=!1;Ot&&(vr(vt)||Ot.unreadCount===vt||(Ot.updateUnreadCount(vt),Pt=!0),vr(It)||(Ot.updateGroupAtInfoList(It),Pt=!0)),Pt&&this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:kt,topic:Ot})}},{key:"onMessageSent",value:function(st){var ht=st.groupID,vt=st.topicID,It=st.lastMessage,kt=this.getLocalTopic(ht,vt);kt&&(kt.nextMessageSeq+=1,kt.updateLastMessage(It),this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:ht,topic:kt}))}},{key:"onMessageModified",value:function(st){var ht=st.to,vt=st.time,It=st.sequence,kt=st.elements,Ot=st.cloudCustomData,Pt=st.messageVersion,qt=tu(ht),Wt=this.getLocalTopic(qt,ht);if(Wt){var ln=Wt.lastMessage;pn.d("".concat(this._n,".onMessageModified topicID:").concat(ht," lastMessage:"),JSON.stringify(ln),"options:",JSON.stringify(st)),ln&&(ln.payload===null||ln.lastTime===vt&&ln.lastSequence===It&&ln.version!==Pt)&&(ln.type=kt[0].type,ln.payload=kt[0].content,ln.messageForShow=rp(ln.type,ln.payload,this.isIntl()),ln.cloudCustomData=Ot,ln.version=Pt,ln.lastSequence=It,ln.lastTime=vt,this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:qt,topic:Wt}))}}},{key:"onMessageRevoked",value:function(st){var ht=this;if(st.length!==0){var vt=null,It=null,kt=!1;st.forEach(function(Ot){var Pt=Ot.to;It=tu(Pt),(vt=ht.getLocalTopic(It,Pt))&&(vt.reduceUnreadCount()&&(kt=!0),vt.isLastMessageRevoked(Ot)&&(vt.setLastMessageRevoked(!0),vt.setLastMessageRevoker(Ot.revoker),kt=!0))}),kt&&this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:It,topic:vt})}}},{key:"isLastMessageRevoked",value:function(st){var ht=st.topicID,vt=st.sequence,It=tu(ht),kt=this.getLocalTopic(It,ht),Ot=!1;return kt&&(Ot=kt.isLastMessageRevoked({sequence:vt})),Ot}},{key:"getJoinedCommunityList",value:function(){return this.getModule(So).getGroupList({isGroupWithTopicOnly:!0}).then(function(st){var ht=st.data.groupList;return go({groupList:ht===void 0?[]:ht})}).catch(function(st){return rr(st)})}},{key:"createTopicInCommunity",value:function(st){var ht=this,vt="".concat(this._n,".").concat("createTopicInCommunity"),It=st.topicID;if(!vr(It)&&!ps(It))return rr({code:yr.ILLEGAL_TOPIC_ID});if(st.topicName&&this._filterProfanity("topicName",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.introduction&&this._filterProfanity("introduction",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.notification&&this._filterProfanity("notification",st)===!1)return rr({code:yr.PROFANITY_FOUND});var kt=new xr("createTopicInCommunity");return this.request({protocolName:wp,requestData:rt({},st)}).then(function(Ot){var Pt=Ot.data.topicID;return kt.setMessage("topicID:".concat(Pt)).setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht._updateTopicMap([rt(rt({},st),{},{topicID:Pt})]),go({topicID:Pt})}).catch(function(Ot){return ht.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),pn.e("".concat(vt," failed. error:"),Ot),rr(Ot)})}},{key:"deleteTopicFromCommunity",value:function(st){var ht=this,vt="".concat(this._n,".").concat("deleteTopicFromCommunity"),It=st.groupID,kt=st.topicIDList,Ot=kt===void 0?[]:kt,Pt=new xr("deleteTopicFromCommunity");return Pt.setMessage("groupID:".concat(It," topicIDList:").concat(Ot)),this.request({protocolName:Pv,requestData:{groupID:It,topicIDList:Ot}}).then(function(qt){var Wt=qt.data.resultList,ln=[],fn=[];(Wt===void 0?[]:Wt).forEach(function(Nn){var qn=Nn.topicID,Yn=Nn.errorCode,Zn=Nn.errorInfo;Yn===0?ln.push({topicID:qn}):fn.push({topicID:qn,code:Yn,message:Zn})});var Sn="success count:".concat(ln.length,", fail count:").concat(fn.length);return Pt.setMoreMessage("".concat(Sn)).setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(Sn)),ln.forEach(function(Nn){ht._deleteLocalTopic(It,Nn.topicID)}),go({successTopicList:ln,failureTopicList:fn})}).catch(function(qt){return ht.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];Pt.setError(qt,fn,Sn).end()}),pn.e("".concat(vt," failed. error:"),qt),rr(qt)})}},{key:"updateTopicProfile",value:function(st){var ht=this,vt="".concat(this._n,".").concat("updateTopicProfile");if(pn.l("".concat(vt," options:"),st),st.topicName&&this._filterProfanity("topicName",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.introduction&&this._filterProfanity("introduction",st)===!1)return rr({code:yr.PROFANITY_FOUND});if(st.notification&&this._filterProfanity("notification",st)===!1)return rr({code:yr.PROFANITY_FOUND});var It=new xr("updateTopicProfile");return It.setMessage("groupID:".concat(st.groupID," topicID:").concat(st.topicID)),vr(st.muteAllMembers)||(st.muteAllMembers=st.muteAllMembers===!0?"On":"Off"),this.request({protocolName:Uv,requestData:rt({},st)}).then(function(){return It.setNetworkType(ht.getNetworkType()).end(),pn.l("".concat(vt," ok")),ht._updateTopicMap([st]),go({topic:ht.getLocalTopic(st.groupID,st.topicID)})}).catch(function(kt){return ht.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];It.setError(kt,qt,Wt).end()}),pn.e("".concat(vt," failed. error:"),kt),rr(kt)})}},{key:"getTopicList",value:function(st){var ht=this,vt="".concat(this._n,".").concat("getTopicList"),It=st.groupID,kt=st.topicIDList,Ot=kt===void 0?[]:kt,Pt=Ot.length===0,qt=new xr("getTopicList");if(qt.setMessage("groupID:".concat(It)),this._getTopicTimeMap.has(It)){var Wt=this._getTopicTimeMap.get(It),ln=Wt.isGetAll,fn=Wt.time;if((ln||!ln&&!Pt)&&Date.now()-fn<1e3*this.TOPIC_CACHE_TIME){var Sn=this._getLocalTopicList(It,Ot);if(Pt||Sn.length===Ot.length)return qt.setNetworkType(this.getNetworkType()).setMoreMessage("from cache, topic count:".concat(Sn.length)).end(),pn.l("".concat(vt," groupID:").concat(It," from cache, topic count:").concat(Sn.length)),Go({successTopicList:Sn,failureTopicList:[]})}}return this.request({protocolName:Gv,requestData:{groupID:It,topicIDList:Ot}}).then(function(Nn){var qn=Nn.data.topicInfoList,Yn=[],Zn=[],or=[];(qn===void 0?[]:qn).forEach(function(Vr){var io=Vr.topic,No=Vr.selfInfo,Bo=Vr.errorCode,ko=Vr.errorInfo,Nt=io.topicID;Bo===0?(Yn.push(rt(rt({},io),{},{selfInfo:No})),Zn.push(Nt)):or.push({topicID:Nt,code:Bo,message:ko})}),ht._updateTopicMap(Yn),ht._handleTopicAtInfo(Yn);var Sr="success count:".concat(Zn.length,", fail count:").concat(or.length);qt.setNetworkType(ht.getNetworkType()).setMoreMessage("".concat(Sr)).end(),pn.l("".concat(vt," groupID:").concat(It," from remote, ").concat(Sr));var Pr=[];return dr(Zn)||(ht._getTopicTimeMap.set(It,{time:Date.now(),isGetAll:Pt}),Pr=ht._getLocalTopicList(It,Zn)),go({successTopicList:Pr,failureTopicList:or})}).catch(function(Nn){return ht.probeNetwork(Nn).then(function(qn){var Yn=Ft(qn,2),Zn=Yn[0],or=Yn[1];qt.setError(Nn,Zn,or).end()}),pn.e("".concat(vt," failed. error:"),Nn),rr(Nn)})}},{key:"hasLocalTopic",value:function(st,ht){return!!this._topicMap.has(st)&&this._topicMap.get(st).has(ht)}},{key:"getLocalTopic",value:function(st,ht){var vt=null;return this._topicMap.has(st)&&(vt=this._topicMap.get(st).get(ht)),vt}},{key:"_getLocalTopicList",value:function(st){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],vt=this._topicMap.get(st),It=[];return vt&&(It=Ht(vt.values())),ht.length===0?It:It.filter(function(kt){return ht.includes(kt.topicID)})}},{key:"_deleteLocalTopic",value:function(st,ht){this._topicMap.has(st)&&(this._topicMap.get(st).delete(ht),pn.l("".concat(this._n,"._deleteLocalTopic groupID:").concat(st," topicID:").concat(ht)))}},{key:"_updateTopicMap",value:function(st){var ht=this,vt=[];st.forEach(function(It){var kt=It.groupID,Ot=It.topicID,Pt=null;ht._topicMap.has(kt)||ht._topicMap.set(kt,new Map),ht._topicMap.get(kt).has(Ot)?(Pt=ht._topicMap.get(kt).get(Ot)).updateTopic(It):(ht._getTopicLastMessage(It),Pt=new Xv(It,ht.isIntl()),ht._topicMap.get(kt).set(Ot,Pt));var qt=ht._computeUnreadCount(Pt);Pt.updateUnreadCount(qt),vt.push({conversationID:"".concat(Ut.CONV_GROUP).concat(Ot),type:Ut.CONV_TOPIC,unreadCount:qt})}),vt.length>0&&this.getModule(qr).updateTopicConversation(vt)}},{key:"resetGetTopicTime",value:function(st){var ht=this;vr(st)?Ht(this._getTopicTimeMap.keys()).forEach(function(vt){ht._getTopicTimeMap.set(vt,0)}):this._getTopicTimeMap.set(st,0)}},{key:"getTopicListOnReconnected",value:function(){var st=this,ht=Ht(this._topicMap.keys()),vt=[];ht.forEach(function(It){var kt=[];st._getLocalTopicList(It).forEach(function(Ot){var Pt=Ot.lastMessage.lastTime,qt=Pt===void 0?0:Pt;Date.now()-1e3*qt<1e3*st.TOPIC_LAST_ACTIVE_TIME&&kt.push(Ot.topicID)}),kt.length>0&&vt.push({groupID:It,topicIDList:kt})}),pn.l("".concat(this._n,".getTopicListOnReconnected. active community count:").concat(vt.length)),this._relayGetTopicList(vt)}},{key:"_relayGetTopicList",value:function(st){var ht=this;if(st.length!==0){var vt=st.shift(),It=vt.topicIDList.length>5?"topicIDList.length:".concat(vt.topicIDList.length):"topicIDList:".concat(vt.topicIDList),kt=new xr("relayGetTopicList");kt.setMessage(It),pn.l("".concat(this._n,"._relayGetTopicList. ").concat(It)),this.getTopicList(vt).then(function(){kt.setNetworkType(ht.getNetworkType()).end(),ht._relayGetTopicList(st)}).catch(function(Ot){ht.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),ht._relayGetTopicList(st)})}}},{key:"_handleTopicAtInfo",value:function(st){var ht=this;st.length!==0&&st.forEach(function(vt){var It=vt.groupID,kt=vt.topicID,Ot=vt.groupAtInfoList,Pt=[];vr(Ot)||(Ot.forEach(function(qt){Pt.push(rt(rt({},qt),{},{groupID:It,topicID:kt}))}),ht.getModule(qr).onNewGroupAtTips({dataList:Pt}))})}},{key:"_getTopicLastMessage",value:function(st){if(!vr(st.lastMsg)){var ht={time:st.lastMsg.time,sequence:st.lastMsg.sequence,from:st.lastMsg.from,payload:st.lastMsg.elements[0]?st.lastMsg.elements[0].content:null,type:st.lastMsg.elements[0]?st.lastMsg.elements[0].type:"",nick:st.lastMsg.nick,version:st.lastMsg.messageVersion,cloudCustomData:st.lastMsg.cloudCustomData,isRevoked:st.lastMsg.isPlaceMessage===2,revoker:dr(st.lastMsg.revokerInfo)?null:st.lastMsg.revokerInfo.revoker};st.lastMessage=ht}}},{key:"deleteTopicListInCommunity",value:function(st){var ht=this,vt=this._getLocalTopicList(st),It=this.getModule(qr);vt.forEach(function(kt){var Ot=kt.topicID;ht._deleteLocalTopic(st,Ot),ht._getTopicTimeMap.delete(st),It.deleteLocalConversation("".concat(Ut.CONV_GROUP).concat(Ot))})}},{key:"_computeUnreadCount",value:function(st){var ht=st.selfInfo,vt=ht.excludedUnreadSequenceList,It=ht.readedSequence,kt=st.nextMessageSeq-st.selfInfo.readedSequence-1;if(to(vt)){var Ot=0;vt.forEach(function(Pt){Pt>=It&&Pt<=st.nextMessageSeq-1&&(Ot+=1)}),Ot>=1&&(kt-=Ot)}return kt<0?0:kt}},{key:"_filterProfanity",value:function(st,ht){var vt=this.getModule(zl);if(!vt)return!0;var It=vt.filterText(ht[st],Oo),kt=It.isAllowedToSend,Ot=It.modifiedText;return kt===!0&&(ht[st]=Ot,!0)}},{key:"updateLastMessage",value:function(st,ht){var vt=tu(st),It=this.getLocalTopic(vt,st);if(It){var kt=ht.sequence+1;It.updateNextMessageSeq(kt),It.updateLastMessage(ht),this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:vt,topic:It})}}},{key:"getMessageExtensions",value:function(st,ht){pn.l("".concat(this._n,".getMessageExtensions startSequence:").concat(ht));var vt=tu(st.to);return this.request({protocolName:X_,requestData:{groupID:vt,topicID:st.to,messageSequence:st.sequence,startSequence:ht}})}},{key:"modifyMessageExtensions",value:function(st,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;pn.l("".concat(this._n,".modifyMessageExtensions operateType:").concat(vt));var It=tu(st.to);return this.request({protocolName:Qp,requestData:{groupID:It,topicID:st.to,messageSequence:st.sequence,extensionList:ht,operateType:vt}})}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._topicMap.clear(),this._getTopicTimeMap.clear(),this.TOPIC_CACHE_TIME=300,this.TOPIC_LAST_ACTIVE_TIME=3600}}]),yt}(Os),tm=function(){function Gt(dt){it(this,Gt),this._userModule=dt,this._n="ProfileHandler",this.TAG="profile",this.accountProfileMap=new Map,this.expirationTime=864e5}return lt(Gt,[{key:"setExpirationTime",value:function(dt){this.expirationTime=dt}},{key:"getUserProfile",value:function(dt){var yt=this,st="".concat(this._n,".").concat("getUserProfile"),ht=dt.userIDList;dt.fromAccount=this._userModule.getMyAccount(),ht.length>100&&(pn.w("".concat(st," ").concat(Ip(100))),ht.length=100);for(var vt,It=[],kt=[],Ot=0,Pt=ht.length;Ot<Pt;Ot++)vt=ht[Ot],this._userModule.isMyFriend(vt)&&this._contains(vt)?kt.push(this._getProfileFromMap(vt)):It.push(vt);if(It.length===0)return Go(kt);dt.toAccount=It;var qt=dt.bFromGetMyProfile||!1,Wt=[];dt.toAccount.forEach(function(fn){Wt.push({toAccount:fn,standardSequence:0,customSequence:0})}),dt.userItem=Wt;var ln=new xr("getUserProfile");return ln.setMessage(ht.length>5?"userIDList.length:".concat(ht.length):"userIDList:".concat(ht)),this._userModule.request({protocolName:Om,requestData:dt}).then(function(fn){ln.setNetworkType(yt._userModule.getNetworkType()).end(),pn.i("".concat(st," ok"));var Sn=yt._handleResponse(fn).concat(kt);return go(qt?Sn[0]:Sn)}).catch(function(fn){return yt._userModule.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];ln.setError(fn,qn,Yn).end()}),pn.e("".concat(st," failed. error:"),fn),rr(fn)})}},{key:"getMyProfile",value:function(){var dt=this._userModule.getMyAccount(),yt="".concat(this._n,".getMyProfile");if(pn.l("".concat(yt," myAccount:").concat(dt)),this._fill(),this._contains(dt)){var st=this._getProfileFromMap(dt);return pn.d("".concat(yt," from cache, myProfile:").concat(JSON.stringify(st))),Go(st)}return this.getUserProfile({fromAccount:dt,userIDList:[dt],bFromGetMyProfile:!0})}},{key:"_handleResponse",value:function(dt){var yt=dt.data.userProfileItem;if(!to(yt))return[];for(var st=[],ht=Date.now(),vt=0,It=yt.length;vt<It;vt++){var kt=yt[vt],Ot=kt.to,Pt=kt.profileItem;if(Ot!=="@TLS#NOT_FOUND"&&Ot!==""){var qt=this._update(Ot,this._getLatestProfileFromResponse(Ot,Pt)).latestProfile;st.push(qt)}}return pn.l("".concat(this._n,"._handleResponse cost ").concat(Date.now()-ht," ms")),st}},{key:"_getLatestProfileFromResponse",value:function(dt,yt){var st={userID:dt,profileCustomField:[]};if(!dr(yt))for(var ht=0,vt=yt.length;ht<vt;ht++)if(yt[ht].tag.indexOf("Tag_Profile_Custom")>-1)st.profileCustomField.push({key:yt[ht].tag,value:yt[ht].value});else switch(yt[ht].tag){case xs.NICK:st.nick=yt[ht].value;break;case xs.GENDER:st.gender=yt[ht].value;break;case xs.BIRTHDAY:st.birthday=yt[ht].value;break;case xs.LOCATION:st.location=yt[ht].value;break;case xs.SELFSIGNATURE:st.selfSignature=yt[ht].value;break;case xs.ALLOWTYPE:st.allowType=yt[ht].value;break;case xs.LANGUAGE:st.language=yt[ht].value;break;case xs.AVATAR:st.avatar=yt[ht].value;break;case xs.MESSAGESETTINGS:st.messageSettings=yt[ht].value;break;case xs.ADMINFORBIDTYPE:st.adminForbidType=yt[ht].value;break;case xs.LEVEL:st.level=yt[ht].value;break;case xs.ROLE:st.role=yt[ht].value;break;default:pn.w("".concat(this._n,"._getLatestProfileFromResponse unknown tag:"),yt[ht].tag,yt[ht].value)}return st}},{key:"updateMyProfile",value:function(dt){var yt=this,st="".concat(this._n,".").concat("updateMyProfile");if(dt.nick&&this._userModule.filterProfanity("nick",dt)===!1)return rr({code:yr.PROFANITY_FOUND});if(dt.selfSignature&&this._userModule.filterProfanity("selfSignature",dt)===!1)return rr({code:yr.PROFANITY_FOUND});var ht=new xr("updateMyProfile");ht.setMessage(JSON.stringify(dt));var vt=new d_().validate(dt);if(!vt.valid)return ht.setCode(yr.UPDATE_PROFILE_INVALID_PARAM).setMoreMessage("info:".concat(vt.tips)).setNetworkType(this._userModule.getNetworkType()).end(),pn.e("".concat(st," info:").concat(vt.tips)),rr({code:yr.UPDATE_PROFILE_INVALID_PARAM});var It=[];for(var kt in dt)Object.prototype.hasOwnProperty.call(dt,kt)&&(kt==="profileCustomField"?dt.profileCustomField.forEach(function(qt){It.push({tag:qt.key,value:qt.value})}):It.push({tag:xs[kt.toUpperCase()],value:dt[kt]}));if(It.length===0){var Ot=new Cs({code:yr.UPDATE_PROFILE_NO_KEY});return ht.setError(Ot,!0,this._userModule.getNetworkType()).end(),pn.e("".concat(st," failed. error:"),Ot),rr(Ot)}var Pt=this._userModule.getMyAccount();return this._userModule.request({protocolName:Y_,requestData:{fromAccount:Pt,profileItem:It}}).then(function(qt){ht.setNetworkType(yt._userModule.getNetworkType()).end(),pn.i("".concat(st," ok"));var Wt=yt._update(Pt,dt),ln=Wt.isProfileUpdated,fn=Wt.latestProfile;return ln===!0&&yt._userModule.emitOuterEvent(yn.PROFILE_UPDATED,[fn]),Go(fn)}).catch(function(qt){return yt._userModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];ht.setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"onProfileModified",value:function(dt){var yt=dt.dataList;if(!dr(yt)){var st,ht=yt.length;pn.d("".concat(this._n,".onProfileModified count:").concat(ht," dataList:"),dt.dataList);for(var vt=[],It=0;It<ht;It++){st=yt[It].userID;var kt=this._update(st,this._getLatestProfileFromResponse(st,yt[It].profileList)),Ot=kt.isProfileUpdated,Pt=kt.latestProfile;Ot===!0&&vt.push(Pt)}vt.length>0&&(this._userModule.emitInnerEvent(ov,vt),this._userModule.emitOuterEvent(yn.PROFILE_UPDATED,vt))}}},{key:"_fill",value:function(){if(this.accountProfileMap.size===0){for(var dt=this._getCachedProfiles(),yt=Date.now(),st=0,ht=dt.length;st<ht;st++)yt-dt[st].lastUpdatedTime<this.expirationTime&&this.accountProfileMap.set(dt[st].userID,dt[st]);pn.l("".concat(this._n,"._fill from cache, size:").concat(this.accountProfileMap.size))}}},{key:"_update",value:function(dt,yt){var st,ht=!1,vt=Date.now();return this._contains(dt)?(st=this._getProfileFromMap(dt),yt.profileCustomField&&Ou(st.profileCustomField,yt.profileCustomField)===!0&&(st.lastUpdatedTime=vt,ht=!0),fr(st,yt,["profileCustomField"])>0&&(st.lastUpdatedTime=vt,ht=!0)):(st=new d_(yt),(this._userModule.isMyFriend(dt)||dt===this._userModule.getMyAccount())&&(st.lastUpdatedTime=vt,ht=!0,this.accountProfileMap.set(dt,st))),this._flush(dt===this._userModule.getMyAccount()),pn.l("".concat(this._n,"._update account:").concat(dt," isProfileUpdated:").concat(ht)),{isProfileUpdated:ht,latestProfile:st}}},{key:"_flush",value:function(dt){var yt=Ht(this.accountProfileMap.values()),st=this._userModule.getStorageModule();pn.d("".concat(this._n,"._flush length:").concat(yt.length," flushAtOnce:").concat(dt)),st.setItem(this.TAG,yt,dt)}},{key:"_contains",value:function(dt){return this.accountProfileMap.has(dt)}},{key:"_getProfileFromMap",value:function(dt){return this.accountProfileMap.get(dt)}},{key:"_getCachedProfiles",value:function(){var dt=this._userModule.getStorageModule().getItem(this.TAG);return dr(dt)?[]:dt}},{key:"onConversationsProfileUpdated",value:function(dt){for(var yt,st,ht,vt=[],It=0,kt=dt.length;It<kt;It++)st=(yt=dt[It]).userID,this._userModule.isMyFriend(st)&&(this._contains(st)?(ht=this._getProfileFromMap(st),fr(ht,yt)>0&&vt.push(st)):vt.push(yt.userID));vt.length!==0&&(pn.i("".concat(this._n,".onConversationsProfileUpdated toAccountList:").concat(vt)),this.getUserProfile({userIDList:vt}))}},{key:"getNickAndAvatarByUserID",value:function(dt){if(this._contains(dt)){var yt=this._getProfileFromMap(dt);return{nick:yt.nick,avatar:yt.avatar}}return{nick:"",avatar:""}}},{key:"reset",value:function(){this._flush(!0),this.accountProfileMap.clear()}}]),Gt}(),lv=lt(function Gt(dt){it(this,Gt),dr||(this.userID=dt.userID||"",this.timeStamp=dt.timeStamp||0)}),Ry=function(){function Gt(dt){it(this,Gt),this._userModule=dt,this._n="BlacklistHandler",this._blacklistMap=new Map,this.startIndex=0,this.maxLimited=100,this.currentSequence=0}return lt(Gt,[{key:"getLocalBlacklist",value:function(){return Ht(this._blacklistMap.keys())}},{key:"getBlacklist",value:function(){var dt=this,yt="".concat(this._n,".getBlacklist"),st={fromAccount:this._userModule.getMyAccount(),maxLimited:this.maxLimited,startIndex:0,lastSequence:this.currentSequence},ht=new xr("getBlacklist");return this._userModule.request({protocolName:y_,requestData:st}).then(function(vt){var It=vt.data,kt=It.blackListItem,Ot=It.currentSequence,Pt=dr(kt)?0:kt.length;ht.setNetworkType(dt._userModule.getNetworkType()).setMessage("count:".concat(Pt)).end(),pn.i("".concat(yt," ok")),dt.currentSequence=Ot,dt._handleResponse(kt,!0),dt._userModule.emitOuterEvent(yn.BLACKLIST_UPDATED,Ht(dt._blacklistMap.keys()))}).catch(function(vt){return dt._userModule.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];ht.setError(vt,Ot,Pt).end()}),pn.e("".concat(yt," failed. error:"),vt),rr(vt)})}},{key:"addBlacklist",value:function(dt){var yt=this,st=new xr("addToBlacklist"),ht="".concat(this._n,".addBlacklist"),vt=this._userModule.getMyAccount();if(dt.userIDList.length===1&&dt.userIDList[0]===vt){var It=yr.CANNOT_ADD_SELF_TO_BLACKLIST,kt=this._userModule.getErrorMessage(It);st.setCode(It).setMessage(kt).setNetworkType(this._userModule.getNetworkType()).end();var Ot=new Cs({code:It});return pn.e("".concat(ht," failed. error:"),Ot),rr(Ot)}return dt.userIDList.includes(vt)&&(dt.userIDList=dt.userIDList.filter(function(Pt){return Pt!==vt})),dt.fromAccount=this._userModule.getMyAccount(),dt.toAccount=dt.userIDList,this._userModule.request({protocolName:Kl,requestData:dt}).then(function(Pt){return st.setNetworkType(yt._userModule.getNetworkType()).setMessage(dt.userIDList.length>5?"userIDList.length:".concat(dt.userIDList.length):"userIDList:".concat(dt.userIDList)).end(),pn.i("".concat(ht," ok")),yt._handleResponse(Pt.resultItem,!0),go(Ht(yt._blacklistMap.keys()))}).catch(function(Pt){return yt._userModule.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];st.setError(Pt,ln,fn).end()}),pn.e("".concat(ht," failed. error:"),Pt),rr(Pt)})}},{key:"_handleResponse",value:function(dt,yt){if(!dr(dt))for(var st,ht,vt,It=0,kt=dt.length;It<kt;It++)ht=dt[It].to,vt=dt[It].resultCode,(vr(vt)||vt===0)&&(yt?((st=this._blacklistMap.has(ht)?this._blacklistMap.get(ht):new lv).userID=ht,!dr(dt[It].addBlackTimeStamp)&&(st.timeStamp=dt[It].addBlackTimeStamp),this._blacklistMap.set(ht,st)):this._blacklistMap.has(ht)&&(st=this._blacklistMap.get(ht),this._blacklistMap.delete(ht)));pn.l("".concat(this._n,"._handleResponse total:").concat(this._blacklistMap.size," bAdd:").concat(yt))}},{key:"deleteBlacklist",value:function(dt){var yt=this,st="".concat(this._n,".deleteBlacklist"),ht=new xr("removeFromBlacklist");return dt.fromAccount=this._userModule.getMyAccount(),dt.toAccount=dt.userIDList,this._userModule.request({protocolName:_r,requestData:dt}).then(function(vt){return ht.setNetworkType(yt._userModule.getNetworkType()).setMessage(dt.userIDList.length>5?"userIDList.length:".concat(dt.userIDList.length):"userIDList:".concat(dt.userIDList)).end(),pn.i("".concat(st," ok")),yt._handleResponse(vt.data.resultItem,!1),go(Ht(yt._blacklistMap.keys()))}).catch(function(vt){return yt._userModule.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];ht.setError(vt,Ot,Pt).end()}),pn.e("".concat(st," failed. error:"),vt),rr(vt)})}},{key:"onAccountDeleted",value:function(dt){for(var yt,st=[],ht=0,vt=dt.length;ht<vt;ht++)yt=dt[ht],this._blacklistMap.has(yt)&&(this._blacklistMap.delete(yt),st.push(yt));st.length>0&&(pn.l("".concat(this._n,".onAccountDeleted count:").concat(st.length," userIDList:"),st),this._userModule.emitOuterEvent(yn.BLACKLIST_UPDATED,Ht(this._blacklistMap.keys())))}},{key:"onAccountAdded",value:function(dt){for(var yt,st=[],ht=0,vt=dt.length;ht<vt;ht++)yt=dt[ht],this._blacklistMap.has(yt)||(this._blacklistMap.set(yt,new lv({userID:yt})),st.push(yt));st.length>0&&(pn.l("".concat(this._n,".onAccountAdded count:").concat(st.length," userIDList:"),st),this._userModule.emitOuterEvent(yn.BLACKLIST_UPDATED,Ht(this._blacklistMap.keys())))}},{key:"reset",value:function(){this._blacklistMap.clear(),this.startIndex=0,this.maxLimited=100,this.currentSequence=0}}]),Gt}(),f_=function(Gt){var dt=String(Gt).replace(/[=]+$/,""),yt="";if(dt.length%4==1)return"";for(var st,ht,vt=0,It=0;ht=dt.charAt(It++);~ht&&(st=vt%4?64*st+ht:ht,vt++%4)?yt+=String.fromCharCode(255&st>>(-2*vt&6)):0)ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ht);try{return decodeURIComponent(escape(yt))}catch{return""}},Oy=function(){function Gt(dt){it(this,Gt),this._userModule=dt,this._n="UserStatusHandler",this.MAX_QUERY_USER_COUNT=500,this.MAX_SUBSCRIBE_USER_COUNT=100,this.MAX_UNSUBSCRIBE_USER_COUNT=100,this._userModule.getInnerEmitterInstance().on(Al,this._onCloudConfigUpdated,this)}return lt(Gt,[{key:"_onCloudConfigUpdated",value:function(){var dt=this._userModule.getCloudConfig("status_query_count"),yt=this._userModule.getCloudConfig("status_sub_count"),st=this._userModule.getCloudConfig("status_unsub_count");pn.l("".concat(this._n,"._onCloudConfigUpdated statusQueryCount:").concat(dt," statusSubscribeCount:").concat(yt)+" statusUnsubscribeCount:".concat(st)),vr(dt)||(this.MAX_QUERY_USER_COUNT=parseInt(dt,10)),vr(dt)||(this.MAX_SUBSCRIBE_USER_COUNT=parseInt(yt,10)),vr(dt)||(this.MAX_UNSUBSCRIBE_USER_COUNT=parseInt(st,10))}},{key:"onUserStatusUpdated",value:function(dt){var yt=dt.dataList,st=this._userModule.getMyUserID(),ht=this._userModule.getModule(To),vt=yt.map(function(It){var kt=It.to,Ot=It.statusType,Pt=It.customStatus,qt=f_(Pt);return kt===st&&ht.setCustomStatus(qt),{userID:kt,statusType:Ot,customStatus:qt}});this._userModule.emitOuterEvent(yn.USER_STATUS_UPDATED,vt)}},{key:"setSelfStatus",value:function(dt){var yt=this,st="".concat(this._n,".setSelfStatus");if(this._userModule.filterProfanity("customStatus",dt)===!1)return rr({code:yr.PROFANITY_FOUND});var ht=new xr("setSelfStatus"),vt=dt.customStatus;return this._userModule.request({protocolName:$v,requestData:{customStatus:vt}}).then(function(It){return ht.setNetworkType(yt._userModule.getNetworkType()).setMessage("customStatus:".concat(vt)).end(),pn.l("".concat(st," ok. customStatus:").concat(vt)),yt._userModule.getModule(To).setCustomStatus(vt),go({userID:yt._userModule.getMyUserID(),statusType:1,customStatus:vt})}).catch(function(It){return yt._userModule.probeNetwork().then(function(kt){var Ot=Ft(kt,2),Pt=Ot[0],qt=Ot[1];ht.setError(It,Pt,qt).end()}),pn.e("".concat(st," failed. error:"),It),rr(It)})}},{key:"getUserStatus",value:function(dt){var yt=this,st="".concat(this._n,".getUserStatus"),ht=dt.userIDList,vt=ht===void 0?[]:ht,It=this._userModule.getMyUserID(),kt=Ht(vt),Ot=void 0,Pt=kt.indexOf(It);if(Pt>-1){kt.splice(Pt,1);var qt=this._userModule.getModule(To).getCustomStatus();Ot={userID:It,statusType:1,customStatus:qt}}if(kt.length===0)return Go({successUserList:[Ot],failureUserList:[]});if(!this._userModule.canIUse(hr.USER_STATUS))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});kt.length>this.MAX_QUERY_USER_COUNT&&(pn.w("".concat(st," ").concat(Ip(this.MAX_QUERY_USER_COUNT))),kt=vt.slice(0,this.MAX_QUERY_USER_COUNT));var Wt=new xr("getUserStatus");return this._userModule.request({protocolName:Fv,requestData:{userIDList:kt}}).then(function(ln){var fn=ln.data,Sn=fn.successUserList,Nn=Sn===void 0?[]:Sn,qn=fn.failureUserList,Yn=qn===void 0?[]:qn,Zn=Nn.map(function(Pr){var Vr=Pr.userID,io=Pr.statusType,No=Pr.customStatus;return{userID:Vr,statusType:io,customStatus:f_(No)}}),or=Yn.map(function(Pr){var Vr=Pr.userID,io=Pr.invalidUserID,No=Pr.errorCode,Bo=Pr.errorInfo;return{userID:dr(io)?Vr:io,code:No,message:Bo}});vr(Ot)||Zn.unshift(Ot);var Sr="userID count:".concat(vt.length,", success count:").concat(Zn.length,", fail count:").concat(or.length);return Wt.setNetworkType(yt._userModule.getNetworkType()).setMessage("".concat(Sr)).end(),pn.l("".concat(st," ok. ").concat(Sr,".")),go({successUserList:Zn,failureUserList:or})}).catch(function(ln){return yt._userModule.probeNetwork().then(function(fn){var Sn=Ft(fn,2),Nn=Sn[0],qn=Sn[1];Wt.setMessage("userID count:".concat(vt.length)).setError(ln,Nn,qn).end()}),pn.e("".concat(st," failed. error:"),ln),rr(ln)})}},{key:"subscribeUserStatus",value:function(dt){var yt=this;if(!this._userModule.canIUse(hr.USER_STATUS))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".subscribeUserStatus"),ht=dt.userIDList,vt=ht===void 0?[]:ht,It=Ht(vt);It.length>this.MAX_SUBSCRIBE_USER_COUNT&&(pn.w("".concat(st," ").concat(Ip(this.MAX_SUBSCRIBE_USER_COUNT))),It=vt.slice(0,this.MAX_SUBSCRIBE_USER_COUNT));var kt=new xr("subscribeUserStatus"),Ot="userID count:".concat(vt.length);return pn.l("".concat(st," ").concat(Ot)),this._userModule.request({protocolName:_f,requestData:{userIDList:It}}).then(function(Pt){var qt=Pt.data.failureUserList,Wt=(qt===void 0?[]:qt).map(function(ln){var fn=ln.userID,Sn=ln.invalidUserID,Nn=ln.errorCode,qn=ln.errorInfo;return{userID:dr(Sn)?fn:Sn,code:Nn,message:qn}});return kt.setNetworkType(yt._userModule.getNetworkType()).setMessage("".concat(Ot," fail count:").concat(Wt.length)).end(),pn.l("".concat(st," ok. fail count:").concat(Wt.length,".")),go({failureUserList:Wt})}).catch(function(Pt){return yt._userModule.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];kt.setMessage("".concat(Ot)).setError(Pt,ln,fn).end()}),pn.e("".concat(st," failed. error:"),Pt),rr(Pt)})}},{key:"unsubscribeUserStatus",value:function(dt){var yt=this;if(!this._userModule.canIUse(hr.USER_STATUS))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var st="".concat(this._n,".unsubscribeUserStatus"),ht=(dt||{}).userIDList,vt=ht===void 0?[]:ht,It=Ht(vt);vt.length>this.MAX_UNSUBSCRIBE_USER_COUNT&&(pn.w("".concat(st," ").concat(Ip(this.MAX_UNSUBSCRIBE_USER_COUNT))),It=vt.slice(0,this.MAX_UNSUBSCRIBE_USER_COUNT));var kt=new xr("unsubscribeUserStatus"),Ot="userID count:".concat(vt.length);pn.l("".concat(st," ").concat(Ot));var Pt={userIDList:It};return It.length===0&&(Pt.userIDList=void 0,Pt.unsubscribeAll=1),this._userModule.request({protocolName:S_,requestData:Pt}).then(function(qt){var Wt=qt.data.failureUserList,ln=(Wt===void 0?[]:Wt).map(function(fn){var Sn=fn.userID,Nn=fn.invalidUserID,qn=fn.errorCode,Yn=fn.errorInfo;return{userID:dr(Nn)?Sn:Nn,code:qn,message:Yn}});return kt.setNetworkType(yt._userModule.getNetworkType()).setMessage("".concat(Ot," fail count:").concat(ln.length)).end(),pn.l("".concat(st," ok. fail count:").concat(ln.length,".")),go({failureUserList:ln})}).catch(function(qt){return yt._userModule.probeNetwork().then(function(Wt){var ln=Ft(Wt,2),fn=ln[0],Sn=ln[1];kt.setMessage("".concat(Ot)).setError(qt,fn,Sn).end()}),pn.e("".concat(st," failed. error:"),qt),rr(qt)})}},{key:"reset",value:function(){this.MAX_QUERY_USER_COUNT=500,this.MAX_SUBSCRIBE_USER_COUNT=100,this.MAX_UNSUBSCRIBE_USER_COUNT=100}}]),Gt}(),Zv=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="UserModule",ht._profileHandler=new tm(Bt(ht)),ht._blacklistHandler=new Ry(Bt(ht)),ht._userStatusHandler=new Oy(Bt(ht)),ht.getInnerEmitterInstance().on(jp,ht.onContextUpdated,Bt(ht)),ht}return lt(yt,[{key:"onContextUpdated",value:function(st){this._profileHandler.getMyProfile(),this._blacklistHandler.getBlacklist()}},{key:"onProfileModified",value:function(st){this._profileHandler.onProfileModified(st)}},{key:"onRelationChainModified",value:function(st){var ht=st.dataList;if(!dr(ht)){var vt=[];ht.forEach(function(kt){kt.blackListDelAccount&&vt.push.apply(vt,Ht(kt.blackListDelAccount))}),vt.length>0&&this._blacklistHandler.onAccountDeleted(vt);var It=[];ht.forEach(function(kt){kt.blackListAddAccount&&It.push.apply(It,Ht(kt.blackListAddAccount))}),It.length>0&&this._blacklistHandler.onAccountAdded(It)}}},{key:"onConversationsProfileUpdated",value:function(st){this._profileHandler.onConversationsProfileUpdated(st)}},{key:"getMyAccount",value:function(){return this.getMyUserID()}},{key:"getMyProfile",value:function(){return this._profileHandler.getMyProfile()}},{key:"getStorageModule",value:function(){return this.getModule(vo)}},{key:"filterProfanity",value:function(st,ht){var vt=this.getModule(zl);if(!vt)return!0;var It=vt.filterText(ht[st],Do),kt=It.isAllowedToSend,Ot=It.modifiedText;return kt===!0&&(ht[st]=Ot,!0)}},{key:"isMyFriend",value:function(st){var ht=this.getModule(cs);return!!ht&&ht.isMyFriend(st)}},{key:"getUserProfile",value:function(st){return this._profileHandler.getUserProfile(st)}},{key:"updateMyProfile",value:function(st){return this._profileHandler.updateMyProfile(st)}},{key:"getNickAndAvatarByUserID",value:function(st){return this._profileHandler.getNickAndAvatarByUserID(st)}},{key:"getLocalBlacklist",value:function(){var st=this._blacklistHandler.getLocalBlacklist();return Go(st)}},{key:"addBlacklist",value:function(st){return this._blacklistHandler.addBlacklist(st)}},{key:"deleteBlacklist",value:function(st){return this._blacklistHandler.deleteBlacklist(st)}},{key:"onUserStatusUpdated",value:function(st){this._userStatusHandler.onUserStatusUpdated(st)}},{key:"setSelfStatus",value:function(st){return this._userStatusHandler.setSelfStatus(st)}},{key:"getUserStatus",value:function(st){return this._userStatusHandler.getUserStatus(st)}},{key:"subscribeUserStatus",value:function(st){return this._userStatusHandler.subscribeUserStatus(st)}},{key:"unsubscribeUserStatus",value:function(st){return this._userStatusHandler.unsubscribeUserStatus(st)}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._profileHandler.reset(),this._blacklistHandler.reset(),this._userStatusHandler.reset()}}]),yt}(Os),Ly=function(){function Gt(dt,yt){it(this,Gt),this._m=dt,this._isLoggedIn=!1,this._SDKAppID=yt.SDKAppID,this._userID=yt.userID||"",this._userSig=yt.userSig||"",this._version="2.27.6",this._a2Key="",this._tinyID="",this._customStatus="",this._contentType="json",this._unlimitedAVChatRoom=yt.unlimitedAVChatRoom,this._scene=yt.scene||"",this._oversea=yt.oversea,this._instanceID=yt.instanceID,this._statusInstanceID=0,this._isDevMode=yt.devMode,this._proxyServer=yt.proxyServer,this._fileUploadProxy=yt.fileUploadProxy,this._fileDownloadProxy=yt.fileDownloadProxy}return lt(Gt,[{key:"isLoggedIn",value:function(){return this._isLoggedIn}},{key:"isOversea",value:function(){return this._oversea}},{key:"isPrivateNetWork",value:function(){return this._proxyServer}},{key:"isDevMode",value:function(){return this._isDevMode}},{key:"isSingaporeSite",value:function(){return this._SDKAppID>=2e7&&this._SDKAppID<3e7||this._SDKAppID>=172e7&&this._SDKAppID<173e7}},{key:"isKoreaSite",value:function(){return this._SDKAppID>=3e7&&this._SDKAppID<4e7||this._SDKAppID>=173e7&&this._SDKAppID<174e7}},{key:"isGermanySite",value:function(){return this._SDKAppID>=4e7&&this._SDKAppID<5e7||this._SDKAppID>=174e7&&this._SDKAppID<175e7}},{key:"isIndiaSite",value:function(){return this._SDKAppID>=5e7&&this._SDKAppID<6e7||this._SDKAppID>=175e7&&this._SDKAppID<176e7}},{key:"isJapanSite",value:function(){return this._SDKAppID>=6e7&&this._SDKAppID<7e7||this._SDKAppID>=176e7&&this._SDKAppID<177e7}},{key:"isUSASite",value:function(){return this._SDKAppID>=7e7&&this._SDKAppID<8e7||this._SDKAppID>=177e7&&this._SDKAppID<178e7}},{key:"isIntl",value:function(){return(dt=this._SDKAppID)===0||dt>=2e7&&dt<8e7||dt>=172e7&&dt<178e7;var dt}},{key:"isUnlimitedAVChatRoom",value:function(){return this._unlimitedAVChatRoom}},{key:"setUserID",value:function(dt){this._userID=dt}},{key:"getUserID",value:function(){return this._userID}},{key:"setUserSig",value:function(dt){this._userSig=dt}},{key:"getUserSig",value:function(){return this._userSig}},{key:"getSDKAppID",value:function(){return this._SDKAppID}},{key:"setTinyID",value:function(dt){this._tinyID=dt,this._isLoggedIn=!0}},{key:"getTinyID",value:function(){return this._tinyID}},{key:"setCustomStatus",value:function(dt){this._customStatus=dt}},{key:"getCustomStatus",value:function(){return this._customStatus}},{key:"getScene",value:function(){return Zs?window.tencent_cloud_im_csig_flutter_for_web_25F_cy:this._isTUIKit()?"tuikit":this._scene}},{key:"getInstanceID",value:function(){return this._instanceID}},{key:"getStatusInstanceID",value:function(){return this._statusInstanceID}},{key:"setStatusInstanceID",value:function(dt){this._statusInstanceID=dt}},{key:"getVersion",value:function(){return this._version}},{key:"getA2Key",value:function(){return this._a2Key}},{key:"setA2Key",value:function(dt){this._a2Key=dt}},{key:"getContentType",value:function(){return this._contentType}},{key:"getProxyServer",value:function(){return this._proxyServer}},{key:"getFileUploadProxy",value:function(){return this._fileUploadProxy}},{key:"getFileDownloadProxy",value:function(){return this._fileDownloadProxy}},{key:"_isTUIKit",value:function(){var dt=!1,yt=!1,st=!1,ht=!1,vt=[];cr&&(vt=Object.keys(Mr)),gr&&(vt=Object.keys(lr?uni:window));for(var It=0,kt=vt.length;It<kt;It++)if(vt[It].toLowerCase().includes("uikit")){dt=!0;break}if(vt=null,cr&&!yo(Mr.createGamePortal)&&yo(getApp)&&!vr(getApp())){var Ot=getApp().globalData;as(Ot)&&Ot.isTUIKit===!0&&(yt=!0)}this._m.getModule(vo).getStorageSync("TIM_".concat(this._SDKAppID,"_isTUIKit"))===!0&&(st=!0);var Pt=null;if(qo&&!Qn&&typeof uni>"u"&&__wxConfig&&(Pt=__wxConfig.pages),na&&typeof uni>"u"&&__qqConfig&&(Pt=__qqConfig.pages),to(Pt)&&Pt.length>0){for(var qt=0,Wt=Pt.length;qt<Wt;qt++)if(Pt[qt].toLowerCase().includes("tui")){ht=!0;break}Pt=null}return dt||yt||st||ht}},{key:"reset",value:function(){this._isLoggedIn=!1,this._userSig="",this._a2Key="",this._tinyID="",this._customStatus="",this._statusInstanceID=0}}]),Gt}(),dv=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="SignModule",ht._helloInterval=120,ht._lastLoginTs=0,ht._lastWsHelloTs=0,ht._isWebUniapp=0,iv.mixin(Bt(ht)),ht}return lt(yt,[{key:"onCheckTimer",value:function(st){this.isLoggedIn()&&st%this._helloInterval==0&&this._hello()}},{key:"login",value:function(st){var ht="";if(this.isLoggedIn()){var vt=this.getMyUserID();return(ht=this.getErrorMessage("RepeatLogin",vt))&&pn.w(ht),Go({actionStatus:"OK",errorCode:0,errorInfo:ht,repeatLogin:!0})}if(Date.now()-this._lastLoginTs<=15e3)return this.outputWarning("LoggingIn",st.userID),rr({code:yr.REPEAT_LOGIN});pn.l("".concat(this._n,".login userID:").concat(st.userID));var It=this._checkLoginInfo(st);if(It.code!==0)return rr(It);var kt=this.getModule(To),Ot=st.userID,Pt=st.userSig;return kt.setUserID(Ot),kt.setUserSig(Pt),this.getModule(au).updateProtocolConfig(),this._login()}},{key:"_login",value:function(){var st=this,ht=this.getModule(To),vt=ht.getScene(),It=0,kt=new xr("login");kt.setMessage("".concat(vt)).setMoreMessage("identifier:".concat(this.getMyUserID())),lr?vt==="tuikit"?kt.setUIPlatform(4):kt.setUIPlatform(3):cr?vt==="tuikit"?kt.setUIPlatform(12):kt.setUIPlatform(11):gr&&(Zs?vt==="flutter_web_uikit"?kt.setUIPlatform(21):kt.setUIPlatform(20):this._isReactUIKit()?ls?kt.setUIPlatform(25):kt.setUIPlatform(24):ls?vt==="tuikit"?kt.setUIPlatform(17):kt.setUIPlatform(16):vt==="tuikit"?kt.setUIPlatform(14):kt.setUIPlatform(13));var Ot=this.getModule(Pu);if(Ot.canIUseOfflinePush()){this._isWebUniapp=Ot.getUniAppPlatform();var Pt=this._getStatusInstanceID();ht.setStatusInstanceID(Pt),this.getModule(au).updateProtocolConfig(),It=Ot.getDeviceBrand()}var qt="".concat(this._n,"._login");return this._lastLoginTs=Date.now(),this.request({protocolName:Ju,requestData:{deviceBrand:It,isWebUniapp:this._isWebUniapp}}).then(function(Wt){st._lastLoginTs=0;var ln=Date.now(),fn=null,Sn=Wt.data,Nn=Sn.a2Key,qn=Sn.tinyID,Yn=Sn.helloInterval,Zn=Sn.instanceID,or=Sn.timeStamp,Sr=Sn.customStatus,Pr=Sr===void 0?"":Sr,Vr=Sn.purchaseBits;pn.l("".concat(qt," ok. scene:").concat(vt," helloInterval:").concat(Yn," instanceID:").concat(Zn," timeStamp:").concat(or));var io=1e3*or,No=ln-kt.getStartTs(),Bo=io+parseInt(No/2)-ln,ko=kt.getStartTs()+Bo;if(kt.start(ko),function(_t,at){Ts=at;var ft=new Date;ft.setTime(_t),pn.i("baseTime from server:".concat(ft," offset:").concat(Ts))}(io,Bo),!qn)throw fn=new Cs({code:yr.NO_TINYID}),kt.setError(fn,!0,st.getNetworkType()).end(),fn;if(!Nn)throw fn=new Cs({code:yr.NO_A2KEY}),kt.setError(fn,!0,st.getNetworkType()).end(),fn;var Nt=f_(Pr);kt.setNetworkType(st.getNetworkType()).setMoreMessage("helloInterval:".concat(Yn," instanceID:").concat(Zn," offset:").concat(Bo," customStatus:").concat(Nt)).end(),ht.setA2Key(Nn),ht.setTinyID(qn),ht.setStatusInstanceID(Zn),ht.setCustomStatus(Nt),Vr&&st.getModule(yl).onPushedConfig({errorCode:0,expiredTime:0,purchaseBits:Vr}),st.getModule(au).updateProtocolConfig(),st.emitInnerEvent(jp),st._helloInterval=Yn,st.triggerReady();var ut=st.getModule(Pu);return ut.canIUseOfflinePush()&&(uni.setStorageSync("timUniAppInstanceID",Zn),ut.init()),st._fetchCloudControlConfig(),st.getModule(zl).init(),Wt}).catch(function(Wt){return st.probeNetwork().then(function(ln){var fn=Ft(ln,2),Sn=fn[0],Nn=fn[1];kt.setError(Wt,Sn,Nn).end(!0)}),st._m.setNotReadyReason(yr.LOGIN_FAILED),pn.e("".concat(qt," failed. error:"),Wt),st._lastLoginTs=0,st._m.onLoginFailed(),rr(Wt)})}},{key:"logout",value:function(){var st=this,ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!this.isLoggedIn())return rr({code:yr.USER_NOT_LOGGED_IN});var vt=new xr("logout");vt.setNetworkType(this.getNetworkType()).setMessage("identifier:".concat(this.getMyUserID())).end(!0);var It="".concat(this._n,".logout");return pn.i("".concat(It," type:").concat(ht)),ht===0&&this._m.setNotReadyReason(yr.LOGGED_OUT),this.request({protocolName:n_,requestData:{type:ht}}).then(function(){return st.resetReady(),Go({})}).catch(function(kt){return pn.e("".concat(It," error:"),kt),st.resetReady(),Go({})})}},{key:"_fetchCloudControlConfig",value:function(){this.getModule(fm).fetchConfig()}},{key:"_getStatusInstanceID",value:function(){return uni.getStorageSync("timUniAppInstanceID")}},{key:"_hello",value:function(){var st=this;this._lastWsHelloTs=Date.now(),this.request({protocolName:v_,requestData:{isWebUniapp:this._isWebUniapp}}).catch(function(ht){pn.w("".concat(st._n,"._hello error:"),ht)})}},{key:"getLastWsHelloTs",value:function(){return this._lastWsHelloTs}},{key:"_checkLoginInfo",value:function(st){var ht=0;return dr(this.getModule(To).getSDKAppID())?ht=yr.NO_SDKAPPID:dr(st.userID)?ht=yr.NO_IDENTIFIER:dr(st.userSig)&&(ht=yr.NO_USERSIG),{code:ht}}},{key:"_isReactUIKit",value:function(){return gr&&window.tencent_cloud_im_csig_react_uikit_23F_xa!==void 0}},{key:"onMultipleAccountKickedOut",value:function(st){var ht=this;new xr("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(Ut.KICKED_OUT_MULT_ACCOUNT," newInstanceInfo:").concat(JSON.stringify(st))).end(!0),pn.w("".concat(this._n,".onMultipleAccountKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),st),this.logout(1).then(function(){ht.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_MULT_ACCOUNT}),ht._m.setNotReadyReason(yr.KICKED_OUT_MULT_ACCOUNT),ht._m.reset()})}},{key:"onMultipleDeviceKickedOut",value:function(st){var ht=this;new xr("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(Ut.KICKED_OUT_MULT_DEVICE," newInstanceInfo:").concat(JSON.stringify(st))).end(!0),pn.w("".concat(this._n,".onMultipleDeviceKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),st),this.logout(1).then(function(){ht.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_MULT_DEVICE}),ht._m.setNotReadyReason(yr.KICKED_OUT_MULT_DEVICE),ht._m.reset()})}},{key:"onUserSigExpired",value:function(){new xr("kickedOut").setNetworkType(this.getNetworkType()).setMessage(Ut.KICKED_OUT_USERSIG_EXPIRED).end(!0),pn.w("".concat(this._n,".onUserSigExpired: userSig expired")),this.getModule(To).getStatusInstanceID()!==0&&(this.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_USERSIG_EXPIRED}),this._m.setNotReadyReason(yr.KICKED_OUT_USERSIG_EXPIRED),this._m.reset())}},{key:"onRestApiKickedOut",value:function(st){new xr("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(Ut.KICKED_OUT_REST_API," newInstanceInfo:").concat(JSON.stringify(st))).end(!0),pn.w("".concat(this._n,".onRestApiKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),st),this.getModule(To).getStatusInstanceID()!==0&&(this.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_REST_API}),this._m.setNotReadyReason(yr.KICKED_OUT_REST_API),this._m.reset(),this.getModule(Su).onRestApiKickedOut())}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this.resetReady(),this._helloInterval=120,this._lastLoginTs=0,this._lastWsHelloTs=0,this._isWebUniapp=0}}]),yt}(Os);function h_(){return null}var Sm=function(){function Gt(dt){it(this,Gt),this._m=dt,this._n="StorageModule",this._storageQueue=new Map,this._errorTolerantHandle()}return lt(Gt,[{key:"_errorTolerantHandle",value:function(){cr||!vr(window)&&this._canIUseCookies()||(this.getItem=h_,this.setItem=h_,this.removeItem=h_,this.clear=h_)}},{key:"onCheckTimer",value:function(dt){if(dt%20==0){if(this._storageQueue.size===0)return;this._doFlush()}}},{key:"_doFlush",value:function(){try{var dt,yt=Cn(this._storageQueue);try{for(yt.s();!(dt=yt.n()).done;){var st=Ft(dt.value,2),ht=st[0],vt=st[1];this._setStorageSync(this._getKey(ht),vt)}}catch(It){yt.e(It)}finally{yt.f()}this._storageQueue.clear()}catch(It){pn.w("".concat(this._n,"._doFlush error:"),It)}}},{key:"_getPrefix",value:function(){var dt=this._m.getModule(To);return"TIM_".concat(dt.getSDKAppID(),"_").concat(dt.getUserID(),"_")}},{key:"_getKey",value:function(dt){return"".concat(this._getPrefix()).concat(dt)}},{key:"getItem",value:function(dt){var yt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{var st=yt?this._getKey(dt):dt;return this.getStorageSync(st)}catch(ht){return pn.w("".concat(this._n,".getItem error:"),ht),{}}}},{key:"setItem",value:function(dt,yt){var st=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ht=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(st){var vt=ht?this._getKey(dt):dt;this._setStorageSync(vt,yt)}else this._storageQueue.set(dt,yt)}},{key:"clear",value:function(){try{cr?Mr.clearStorageSync():this._canIUseCookies()&&localStorage.clear()}catch(dt){pn.w("".concat(this._n,".clear error:"),dt)}}},{key:"removeItem",value:function(dt){var yt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{var st=yt?this._getKey(dt):dt;this._removeStorageSync(st)}catch(ht){pn.w("".concat(this._n,".removeItem error:"),ht)}}},{key:"getSize",value:function(dt){var yt=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"b";try{var ht={size:0,limitSize:5242880,unit:st};if(Object.defineProperty(ht,"leftSize",{enumerable:!0,get:function(){return ht.limitSize-ht.size}}),cr&&(ht.limitSize=1024*Mr.getStorageInfoSync().limitSize),dt)ht.size=JSON.stringify(this.getItem(dt)).length+this._getKey(dt).length;else if(cr){var vt=Mr.getStorageInfoSync(),It=vt.keys;It.forEach(function(Ot){ht.size+=JSON.stringify(yt.getStorageSync(Ot)).length+yt._getKey(Ot).length})}else if(this._canIUseCookies())for(var kt in localStorage)localStorage.hasOwnProperty(kt)&&(ht.size+=localStorage.getItem(kt).length+kt.length);return this._convertUnit(ht)}catch(Ot){pn.w("".concat(this._n," error:"),Ot)}}},{key:"_convertUnit",value:function(dt){var yt={},st=dt.unit;for(var ht in yt.unit=st,dt)typeof dt[ht]=="number"&&(st.toLowerCase()==="kb"?yt[ht]=Math.round(dt[ht]/1024):st.toLowerCase()==="mb"?yt[ht]=Math.round(dt[ht]/1024/1024):yt[ht]=dt[ht]);return yt}},{key:"_setStorageSync",value:function(dt,yt){cr?ar?my.setStorageSync({key:dt,data:yt}):Mr.setStorageSync(dt,yt):this._canIUseCookies()&&localStorage.setItem(dt,JSON.stringify(yt))}},{key:"getStorageSync",value:function(dt){return cr?ar?my.getStorageSync({key:dt}).data:Mr.getStorageSync(dt):this._canIUseCookies()?JSON.parse(localStorage.getItem(dt)):{}}},{key:"_removeStorageSync",value:function(dt){cr?ar?my.removeStorageSync({key:dt}):Mr.removeStorageSync(dt):this._canIUseCookies()&&localStorage.removeItem(dt)}},{key:"_canIUseCookies",value:function(){return navigator&&navigator.cookieEnabled&&localStorage}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._doFlush()}}]),Gt}(),d0=function(){function Gt(dt){it(this,Gt),this._n="SSOLogBody",this._report=[]}return lt(Gt,[{key:"pushIn",value:function(dt){pn.d("".concat(this._n,".pushIn"),this._report.length,dt),this._report.push(dt)}},{key:"backfill",value:function(dt){var yt;to(dt)&&dt.length!==0&&(pn.d("".concat(this._n,".backfill"),this._report.length,dt.length),(yt=this._report).unshift.apply(yt,Ht(dt)))}},{key:"getLogsNumInMemory",value:function(){return this._report.length}},{key:"isEmpty",value:function(){return this._report.length===0}},{key:"_reset",value:function(){this._report.length=0,this._report=[]}},{key:"getLogsInMemory",value:function(){var dt=this._report.slice();return this._reset(),dt}}]),Gt}(),nm=function(Gt){var dt=Gt.getModule(To);return{SDKType:10,SDKAppID:dt.getSDKAppID(),SDKVersion:dt.getVersion(),tinyID:Number(dt.getTinyID()),userID:dt.getUserID(),platform:Gt.getPlatform(),instanceID:dt.getInstanceID(),traceID:qs()}},Ny=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;it(this,yt),(ht=dt.call(this,st))._n="EventStatModule",ht.TAG="im-ssolog-event",ht._reportBody=new d0,ht.MIN_THRESHOLD=20,ht.MAX_THRESHOLD=100,ht.WAITING_TIME=6e4,ht.REPORT_LEVEL=[4,5,6],ht.REPORT_SDKAPPID_BLACKLIST=[],ht.REPORT_TINYID_WHITELIST=[],ht._lastReportTime=Date.now();var vt=ht.getInnerEmitterInstance();return vt.on(jp,ht._onLoginSuccess,Bt(ht)),vt.on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"reportAtOnce",value:function(){pn.d("".concat(this._n,".reportAtOnce")),this._report()}},{key:"_onLoginSuccess",value:function(){var st=this,ht=this.getModule(vo),vt=ht.getItem(this.TAG,!1);!dr(vt)&&yo(vt.forEach)&&(pn.l("".concat(this._n,"._onLoginSuccess get ssolog in storage, count:").concat(vt.length)),vt.forEach(function(It){st._reportBody.pushIn(It)}),ht.removeItem(this.TAG,!1))}},{key:"_onCloudConfigUpdated",value:function(){var st=this.getCloudConfig("evt_rpt_threshold"),ht=this.getCloudConfig("evt_rpt_waiting"),vt=this.getCloudConfig("evt_rpt_level"),It=this.getCloudConfig("evt_rpt_sdkappid_bl"),kt=this.getCloudConfig("evt_rpt_tinyid_wl");vr(st)||(this.MIN_THRESHOLD=Number(st)),vr(ht)||(this.WAITING_TIME=Number(ht)),vr(vt)||(this.REPORT_LEVEL=vt.split(",").map(function(Ot){return Number(Ot)})),vr(It)||(this.REPORT_SDKAPPID_BLACKLIST=It.split(",").map(function(Ot){return Number(Ot)})),vr(kt)||(this.REPORT_TINYID_WHITELIST=kt.split(","))}},{key:"pushIn",value:function(st){st instanceof xr&&(st.updateTimeStamp(),this._reportBody.pushIn(st),this._reportBody.getLogsNumInMemory()>=this.MIN_THRESHOLD&&this._report())}},{key:"onCheckTimer",value:function(){Date.now()<this._lastReportTime+this.WAITING_TIME||this._reportBody.isEmpty()||this._report()}},{key:"_filterLogs",value:function(st){var ht=this,vt=this.getModule(To),It=vt.getSDKAppID(),kt=vt.getTinyID();return np(this.REPORT_SDKAPPID_BLACKLIST,It)&&!pm(this.REPORT_TINYID_WHITELIST,kt)?[]:st.filter(function(Ot){return ht.REPORT_LEVEL.includes(Ot.level)})}},{key:"_report",value:function(){var st=this;if(!this._reportBody.isEmpty()){var ht=this._reportBody.getLogsInMemory(),vt=this._filterLogs(ht);if(vt.length!==0){var It={header:nm(this),event:vt};this.request({protocolName:b_,requestData:rt({},It)}).then(function(){st._lastReportTime=Date.now()}).catch(function(kt){pn.w("".concat(st._n,".report failed. networkType:").concat(st.getNetworkType()," error:"),kt),st._reportBody.backfill(ht),st._reportBody.getLogsNumInMemory()>st.MAX_THRESHOLD&&st._flushAtOnce()})}else this._lastReportTime=Date.now()}}},{key:"_flushAtOnce",value:function(){var st=this.getModule(vo),ht=st.getItem(this.TAG,!1),vt=this._reportBody.getLogsInMemory(),It="".concat(this._n,"._flushAtOnce");if(dr(ht))pn.l("".concat(It," count:").concat(vt.length)),st.setItem(this.TAG,vt,!0,!1);else{var kt=vt.concat(ht);kt.length>this.MAX_THRESHOLD&&(kt=kt.slice(0,this.MAX_THRESHOLD)),pn.l("".concat(It," count:").concat(kt.length)),st.setItem(this.TAG,kt,!0,!1)}}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._lastReportTime=0,this._report(),this.REPORT_SDKAPPID_BLACKLIST=[],this.REPORT_TINYID_WHITELIST=[]}}]),yt}(Os),g_="none",P_="online",p0=[yr.OVER_FREQUENCY_LIMIT,yr.OPEN_SERVICE_OVERLOAD_ERROR],f0=function(){function Gt(dt){it(this,Gt),this._m=dt,this._networkType="",this._n="NetMonitorModule",this.MAX_WAIT_TIME=3e3,this._mpNetworkStatusCallback=null,this._webOnlineCallback=null,this._webOfflineCallback=null}return lt(Gt,[{key:"start",value:function(){var dt=this;cr?(Mr.getNetworkType({success:function(yt){dt._networkType=yt.networkType||yt.subtype||"",yt.networkType===g_?pn.w("".concat(dt._n,".start no network, please check!")):pn.i("".concat(dt._n,".start networkType:").concat(yt.networkType))}}),this._mpNetworkStatusCallback=this._onNetworkStatusChange.bind(this),Mr.onNetworkStatusChange(this._mpNetworkStatusCallback)):(this._networkType=P_,this._webOnlineCallback=this._onWebOnline.bind(this),this._webOfflineCallback=this._onWebOffline.bind(this),window&&(window.addEventListener("online",this._webOnlineCallback),window.addEventListener("offline",this._webOfflineCallback)))}},{key:"_onWebOnline",value:function(){this._onNetworkStatusChange({isConnected:!0,networkType:P_})}},{key:"_onWebOffline",value:function(){this._onNetworkStatusChange({isConnected:!1,networkType:g_})}},{key:"_onNetworkStatusChange",value:function(dt){var yt=dt.isConnected,st=dt.networkType,ht="".concat(this._n,"._onNetworkStatusChange"),vt=!1;yt?(pn.i("".concat(ht," previous:").concat(this._networkType," current:").concat(st)),this._networkType!==st&&(vt=!0,this._m.getModule(Su).reConnect(!0))):this._networkType!==st&&(vt=!0,pn.w("".concat(ht," no network, please check!")),this._m.getModule(Su).offline()),vt&&(new xr("networkChange").setMessage("isConnected:".concat(yt," previousNetworkType:").concat(this._networkType," networkType:").concat(st)).end(),this._networkType=st)}},{key:"probe",value:function(dt){var yt=this;if(!vr(dt)&&p0.includes(dt.code))return Promise.resolve([!0,this._networkType]);var st="".concat(this._n,".probe");return new Promise(function(ht,vt){cr?Mr.getNetworkType({success:function(It){yt._networkType=It.networkType,It.networkType===g_?(pn.w("".concat(st," no network, please check!")),ht([!1,It.networkType])):(pn.i("".concat(st," networkType:").concat(It.networkType)),ht([!0,It.networkType]))}}):yt._networkType===g_?ht([!1,g_]):ht([!0,P_])})}},{key:"getNetworkType",value:function(){return this._networkType}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),cr?this._mpNetworkStatusCallback!==null&&(Mr.offNetworkStatusChange&&(Dr||Qn?Mr.offNetworkStatusChange(this._mpNetworkStatusCallback):Mr.offNetworkStatusChange()),this._mpNetworkStatusCallback=null):window&&(this._webOnlineCallback!==null&&(window.removeEventListener("online",this._webOnlineCallback),this._webOnlineCallback=null),this._onWebOffline!==null&&(window.removeEventListener("offline",this._webOfflineCallback),this._webOfflineCallback=null))}}]),Gt}();function Qv(Gt,dt){return Gt(dt={exports:{}},dt.exports),dt.exports}var ey=Qv(function(Gt){var dt=Object.prototype.hasOwnProperty,yt="~";function st(){}function ht(Ot,Pt,qt){this.fn=Ot,this.context=Pt,this.once=qt||!1}function vt(Ot,Pt,qt,Wt,ln){if(typeof qt!="function")throw new TypeError("The listener must be a function");var fn=new ht(qt,Wt||Ot,ln),Sn=yt?yt+Pt:Pt;return Ot._events[Sn]?Ot._events[Sn].fn?Ot._events[Sn]=[Ot._events[Sn],fn]:Ot._events[Sn].push(fn):(Ot._events[Sn]=fn,Ot._eventsCount++),Ot}function It(Ot,Pt){--Ot._eventsCount==0?Ot._events=new st:delete Ot._events[Pt]}function kt(){this._events=new st,this._eventsCount=0}Object.create&&(st.prototype=Object.create(null),new st().__proto__||(yt=!1)),kt.prototype.eventNames=function(){var Ot,Pt,qt=[];if(this._eventsCount===0)return qt;for(Pt in Ot=this._events)dt.call(Ot,Pt)&&qt.push(yt?Pt.slice(1):Pt);return Object.getOwnPropertySymbols?qt.concat(Object.getOwnPropertySymbols(Ot)):qt},kt.prototype.listeners=function(Ot){var Pt=yt?yt+Ot:Ot,qt=this._events[Pt];if(!qt)return[];if(qt.fn)return[qt.fn];for(var Wt=0,ln=qt.length,fn=new Array(ln);Wt<ln;Wt++)fn[Wt]=qt[Wt].fn;return fn},kt.prototype.listenerCount=function(Ot){var Pt=yt?yt+Ot:Ot,qt=this._events[Pt];return qt?qt.fn?1:qt.length:0},kt.prototype.emit=function(Ot,Pt,qt,Wt,ln,fn){var Sn=yt?yt+Ot:Ot;if(!this._events[Sn])return!1;var Nn,qn,Yn=this._events[Sn],Zn=arguments.length;if(Yn.fn){switch(Yn.once&&this.removeListener(Ot,Yn.fn,void 0,!0),Zn){case 1:return Yn.fn.call(Yn.context),!0;case 2:return Yn.fn.call(Yn.context,Pt),!0;case 3:return Yn.fn.call(Yn.context,Pt,qt),!0;case 4:return Yn.fn.call(Yn.context,Pt,qt,Wt),!0;case 5:return Yn.fn.call(Yn.context,Pt,qt,Wt,ln),!0;case 6:return Yn.fn.call(Yn.context,Pt,qt,Wt,ln,fn),!0}for(qn=1,Nn=new Array(Zn-1);qn<Zn;qn++)Nn[qn-1]=arguments[qn];Yn.fn.apply(Yn.context,Nn)}else{var or,Sr=Yn.length;for(qn=0;qn<Sr;qn++)switch(Yn[qn].once&&this.removeListener(Ot,Yn[qn].fn,void 0,!0),Zn){case 1:Yn[qn].fn.call(Yn[qn].context);break;case 2:Yn[qn].fn.call(Yn[qn].context,Pt);break;case 3:Yn[qn].fn.call(Yn[qn].context,Pt,qt);break;case 4:Yn[qn].fn.call(Yn[qn].context,Pt,qt,Wt);break;default:if(!Nn)for(or=1,Nn=new Array(Zn-1);or<Zn;or++)Nn[or-1]=arguments[or];Yn[qn].fn.apply(Yn[qn].context,Nn)}}return!0},kt.prototype.on=function(Ot,Pt,qt){return vt(this,Ot,Pt,qt,!1)},kt.prototype.once=function(Ot,Pt,qt){return vt(this,Ot,Pt,qt,!0)},kt.prototype.removeListener=function(Ot,Pt,qt,Wt){var ln=yt?yt+Ot:Ot;if(!this._events[ln])return this;if(!Pt)return It(this,ln),this;var fn=this._events[ln];if(fn.fn)fn.fn!==Pt||Wt&&!fn.once||qt&&fn.context!==qt||It(this,ln);else{for(var Sn=0,Nn=[],qn=fn.length;Sn<qn;Sn++)(fn[Sn].fn!==Pt||Wt&&!fn[Sn].once||qt&&fn[Sn].context!==qt)&&Nn.push(fn[Sn]);Nn.length?this._events[ln]=Nn.length===1?Nn[0]:Nn:It(this,ln)}return this},kt.prototype.removeAllListeners=function(Ot){var Pt;return Ot?(Pt=yt?yt+Ot:Ot,this._events[Pt]&&It(this,Pt)):(this._events=new st,this._eventsCount=0),this},kt.prototype.off=kt.prototype.removeListener,kt.prototype.addListener=kt.prototype.on,kt.prefixed=yt,kt.EventEmitter=kt,Gt.exports=kt}),Py=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="BigDataChannelModule",ht.FILETYPE={SOUND:2106,FILE:2107,VIDEO:2113},ht._bdh_download_server="grouptalk.c2c.qq.com",ht._BDHBizID=10001,ht._authKey="",ht._expireTime=0,ht.getInnerEmitterInstance().on(jp,ht._getAuthKey,Bt(ht)),ht}return lt(yt,[{key:"_getAuthKey",value:function(){var st=this;this.isIntl()||this.request({protocolName:Ys}).then(function(ht){ht.data.authKey&&(st._authKey=ht.data.authKey,st._expireTime=parseInt(ht.data.expireTime))})}},{key:"_isFromOlderVersion",value:function(st){return!(!st.content||st.content.downloadFlag===2)}},{key:"parseElements",value:function(st,ht){if(!to(st)||!ht)return[];for(var vt=[],It=null,kt=0;kt<st.length;kt++)It=st[kt],this._needParse(It)?vt.push(this._parseElement(It,ht)):vt.push(st[kt]);return vt}},{key:"_needParse",value:function(st){return!st.cloudCustomData&&!(!this._isFromOlderVersion(st)||st.type!==Ut.MSG_AUDIO&&st.type!==Ut.MSG_FILE&&st.type!==Ut.MSG_VIDEO)}},{key:"_parseElement",value:function(st,ht){switch(st.type){case Ut.MSG_AUDIO:return this._parseAudioElement(st,ht);case Ut.MSG_FILE:return this._parseFileElement(st,ht);case Ut.MSG_VIDEO:return this._parseVideoElement(st,ht)}}},{key:"_parseAudioElement",value:function(st,ht){return st.content.url=this._genAudioUrl(st.content.uuid,ht),st}},{key:"_parseFileElement",value:function(st,ht){return st.content.url=this._genFileUrl(st.content.uuid,ht,st.content.fileName),st}},{key:"_parseVideoElement",value:function(st,ht){return st.content.url=this._genVideoUrl(st.content.uuid,ht),st}},{key:"_genAudioUrl",value:function(st,ht){if(this._authKey==="")return"";var vt=this.getModule(To).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(vt,"&fileid=").concat(st,"&filetype=").concat(this.FILETYPE.SOUND,"&openid=").concat(ht,"&ver=0")}},{key:"_genFileUrl",value:function(st,ht,vt){if(this._authKey==="")return"";vt||(vt="".concat(Math.floor(1e5*Math.random()),"-").concat(Date.now()));var It=this.getModule(To).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(It,"&fileid=").concat(st,"&filetype=").concat(this.FILETYPE.FILE,"&openid=").concat(ht,"&ver=0&filename=").concat(encodeURIComponent(vt))}},{key:"_genVideoUrl",value:function(st,ht){if(this._authKey==="")return"";var vt=this.getModule(To).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(vt,"&fileid=").concat(st,"&filetype=").concat(this.FILETYPE.VIDEO,"&openid=").concat(ht,"&ver=0")}},{key:"reset",value:function(){this._authKey="",this.expireTime=0}}]),yt}(Os),h0=["requestSnapshotUrl"],ty=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;it(this,yt),(ht=dt.call(this,st))._n="UploadModule",ht.TIMUploadPlugin=null,ht.timUploadPlugin=null,ht.COSSDK=null,ht._cosUploadMethod=null,ht.expiredTimeLimit=600,ht.appid=0,ht.bucketName="",ht.ciUrl="",ht.directory="",ht.downloadUrl="",ht.uploadUrl="",ht.region="ap-shanghai",ht.cos=null,ht.cosOptions={secretId:"",secretKey:"",sessionToken:"",expiredTime:0},ht.uploadFileType="",ht.duration=900,ht.tryCount=0,ht.UPLOAD_SIZE_LIMIT={AUDIO:20971520,FILE:104857600,IMAGE:20971520,VIDEO:104857600};var vt=ht.getInnerEmitterInstance();return vt.on(jp,ht._init,Bt(ht)),vt.on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"_init",value:function(){var st=this.getModule(jo);if(this.TIMUploadPlugin=st.getPlugin("tim-upload-plugin"),this.TIMUploadPlugin)this._initUploaderMethod();else{var ht=cr?"cos-wx-sdk":"cos-js-sdk";this.COSSDK=st.getPlugin(ht),this.COSSDK?(this._getAuthorizationKey(),this.outputWarning("CosReplacement",ht)):this.outputWarning("PluginUndetected")}}},{key:"_onCloudConfigUpdated",value:function(){var st="".concat(this._n,"._onCloudConfigUpdated"),ht=this.getCloudConfig("upload_size_limit");if(pn.l("".concat(st," uploadSizeLimit:").concat(ht)),!vr(ht))try{var vt=JSON.parse(ht);this.UPLOAD_SIZE_LIMIT={AUDIO:vt.a?1048576*parseInt(vt.a):this.UPLOAD_SIZE_LIMIT.AUDIO,FILE:vt.f?1048576*parseInt(vt.f):this.UPLOAD_SIZE_LIMIT.FILE,IMAGE:vt.i?1048576*parseInt(vt.i):this.UPLOAD_SIZE_LIMIT.IMAGE,VIDEO:vt.v?1048576*parseInt(vt.v):this.UPLOAD_SIZE_LIMIT.VIDEO}}catch{pn.e("".concat(st," JSON parse error. uploadSizeLimit:"),ht)}}},{key:"_getAuthorizationKey",value:function(){var st=this,ht="".concat(this._n,".").concat("_getAuthorizationKey"),vt=new xr("_getAuthorizationKey"),It=Math.ceil(Date.now()/1e3);this.request({protocolName:ms,requestData:{duration:this.expiredTimeLimit}}).then(function(kt){var Ot=kt.data;pn.l("".concat(ht," ok. data:"),Ot);var Pt=Ot.expiredTime-It;vt.setMessage("requestId:".concat(Ot.requestId," requestTime:").concat(It," expiredTime:").concat(Ot.expiredTime," diff:").concat(Pt,"s")).setNetworkType(st.getNetworkType()).end(),!cr&&Ot.region&&(st.region=Ot.region),st.appid=Ot.appid,st.bucketName=Ot.bucketName,st.ciUrl=Ot.ciUrl,st.directory=Ot.directory,st.downloadUrl=Ot.downloadUrl,st.uploadUrl=Ot.uploadUrl,st.cosOptions={secretId:Ot.secretId,secretKey:Ot.secretKey,sessionToken:Ot.sessionToken,expiredTime:Ot.expiredTime},pn.l("".concat(ht," ok. region:").concat(st.region," bucketName:").concat(st.bucketName)),st._initUploaderMethod()}).catch(function(kt){st.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];vt.setError(kt,qt,Wt).end()}),pn.w("".concat(ht," failed. error:"),kt)})}},{key:"_getCosPreSigUrl",value:function(st){var ht=this,vt="".concat(this._n,".").concat("_getCosPreSigUrl"),It=Math.ceil(Date.now()/1e3),kt=new xr("_getCosPreSigUrl");return this.request({protocolName:Q_,requestData:{fileType:st.fileType,fileName:st.fileName,uploadMethod:st.uploadMethod,duration:st.duration}}).then(function(Ot){ht.tryCount=0;var Pt=Ot.data||{},qt=Pt.expiredTime-It;return pn.l("".concat(vt," ok. data:"),Pt),kt.setMessage("requestId:".concat(Pt.requestId," expiredTime:").concat(Pt.expiredTime," diff:").concat(qt,"s")).setNetworkType(ht.getNetworkType()).end(),Pt}).catch(function(Ot){return Ot.code===-1&&(Ot.code=yr.COS_GET_SIG_FAIL),ht.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),pn.w("".concat(vt," failed. error:"),Ot),ht.tryCount<1?(ht.tryCount++,ht._getCosPreSigUrl(st)):(ht.tryCount=0,rr({code:yr.COS_GET_SIG_FAIL}))})}},{key:"_initUploaderMethod",value:function(){var st=this;if(this.TIMUploadPlugin)return this.timUploadPlugin=new this.TIMUploadPlugin,void(this._cosUploadMethod=function(ht,vt){st.timUploadPlugin.uploadFile(ht,vt)});this.appid&&(this.cos=cr?new this.COSSDK({ForcePathStyle:!0,getAuthorization:this._getAuthorization.bind(this)}):new this.COSSDK({getAuthorization:this._getAuthorization.bind(this)}),this._cosUploadMethod=cr?function(ht,vt){st.cos.postObject(ht,vt)}:function(ht,vt){st.cos.uploadFiles(ht,vt)})}},{key:"onCheckTimer",value:function(st){this.COSSDK&&(this.TIMUploadPlugin||this.isLoggedIn()&&st%60==0&&Math.ceil(Date.now()/1e3)>=this.cosOptions.expiredTime-120&&this._getAuthorizationKey())}},{key:"_getAuthorization",value:function(st,ht){ht({TmpSecretId:this.cosOptions.secretId,TmpSecretKey:this.cosOptions.secretKey,XCosSecurityToken:this.cosOptions.sessionToken,ExpiredTime:this.cosOptions.expiredTime})}},{key:"upload",value:function(st){if(st.getRelayFlag()===!0)return Promise.resolve();var ht=this.getModule($s);switch(st.type){case Ut.MSG_IMAGE:return ht.addTotalCount(Gu),this._uploadImage(st);case Ut.MSG_FILE:return ht.addTotalCount(Gu),this._uploadFile(st);case Ut.MSG_AUDIO:return ht.addTotalCount(Gu),this._uploadAudio(st);case Ut.MSG_VIDEO:return ht.addTotalCount(Gu),this._uploadVideo(st);default:return Promise.resolve()}}},{key:"_uploadImage",value:function(st){var ht=this,vt=this.getModule(Xs),It=st.getElements()[0],kt=vt.getMessageOption(st.clientSequence);return this.doUploadImage({file:kt.payload.file,to:kt.to,onProgress:function(Ot){if(It.updatePercent(Ot),yo(kt.onProgress))try{kt.onProgress(Ot)}catch{return rr({code:yr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Ot){var Pt,qt,Wt=Ot.location,ln=Ot.fileType,fn=Ot.fileSize,Sn=Ot.width,Nn=Ot.height,qn=Ot.smallImageUrl,Yn=Ot.smallImageWidth,Zn=Ot.smallImageHeight,or=Ot.largeImageUrl,Sr=Ot.largeImageWidth,Pr=Ot.largeImageHeight,Vr=ht.isPrivateNetWork()?Wt:Fu(Wt);return It.updateImageFormat(ln),qn&&or?(Pt={url:qn,width:Yn,height:Zn},qt={url:or,width:Sr,height:Pr}):(Pt=Sp({originUrl:Vr,originWidth:Sn,originHeight:Nn,min:198}),qt=Sp({originUrl:Vr,originWidth:Sn,originHeight:Nn,min:720})),It.updateImageInfoArray([{size:fn,url:Vr,width:Sn,height:Nn},rt({},qt),rt({},Pt)]),st})}},{key:"_uploadFile",value:function(st){var ht=this,vt=this.getModule(Xs),It=st.getElements()[0],kt=vt.getMessageOption(st.clientSequence);return this.doUploadFile({file:kt.payload.file,to:kt.to,onProgress:function(Ot){if(It.updatePercent(Ot),yo(kt.onProgress))try{kt.onProgress(Ot)}catch{return rr({code:yr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Ot){var Pt=Ot.location,qt=ht.isPrivateNetWork()?Pt:Fu(Pt);return It.updateFileUrl(qt),st})}},{key:"_uploadAudio",value:function(st){var ht=this,vt=this.getModule(Xs),It=st.getElements()[0],kt=vt.getMessageOption(st.clientSequence);return this.doUploadAudio({file:kt.payload.file,to:kt.to,onProgress:function(Ot){if(It.updatePercent(Ot),yo(kt.onProgress))try{kt.onProgress(Ot)}catch{return rr({code:yr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Ot){var Pt=Ot.location,qt=ht.isPrivateNetWork()?Pt:Fu(Pt);return It.updateAudioUrl(qt),st})}},{key:"_uploadVideo",value:function(st){var ht=this,vt=this.getModule(Xs),It=st.getElements()[0],kt=vt.getMessageOption(st.clientSequence);return this.doUploadVideo({file:kt.payload.file,to:kt.to,onProgress:function(Ot){if(It.updatePercent(Ot),yo(kt.onProgress))try{kt.onProgress(Ot)}catch{return rr({code:yr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Ot){var Pt=Ot.location,qt=Ot.snapshotInfo,Wt=ht.isPrivateNetWork()?Pt:Fu(Pt);return It.updateVideoUrl(Wt),dr(qt)||It.updateSnapshotInfo(qt),st})}},{key:"_checkSizeError",value:function(st){return rr({code:yr["MESSAGE_".concat(st,"_SIZE_LIMIT")],message:this.getErrorMessage("UploadSizeLimit",st.toLowerCase(),"".concat(this.UPLOAD_SIZE_LIMIT[st]/1048576," MB"))})}},{key:"doUploadImage",value:function(st){var ht=this;if(!st.file)return rr({code:yr.MESSAGE_IMAGE_SELECT_FILE_FIRST});var vt=this._checkImageType(st.file);if(vt!==!0)return vt;var It=this._checkImageSize(st.file);if(It!==!0)return It;var kt=null;return this._setUploadFileType(Vv),this.uploadByCOS(st).then(function(Ot){return kt=Ot,ht.isPrivateNetWork()?eu(Ot.location):eu("https://".concat(Ot.location))}).then(function(Ot){return kt.width=Ot.width,kt.height=Ot.height,Promise.resolve(kt)})}},{key:"_checkImageType",value:function(st){var ht="";return ht=cr?st.url.slice(st.url.lastIndexOf(".")+1):st.files[0].name.slice(st.files[0].name.lastIndexOf(".")+1),qv.indexOf(ht.toLowerCase())>=0||rr({code:yr.MESSAGE_IMAGE_TYPES_LIMIT})}},{key:"_checkImageSize",value:function(st){var ht=0;return(ht=cr?st.size:st.files[0].size)===0?rr({code:yr.MESSAGE_FILE_IS_EMPTY}):ht<this.UPLOAD_SIZE_LIMIT.IMAGE||this._checkSizeError("IMAGE")}},{key:"doUploadFile",value:function(st){return st.file?st.file.files[0].size>this.UPLOAD_SIZE_LIMIT.FILE?this._checkSizeError("FILE"):st.file.files[0].size===0?rr({code:yr.MESSAGE_FILE_IS_EMPTY}):(this._setUploadFileType(R_),this.uploadByCOS(st)):rr({code:yr.MESSAGE_FILE_SELECT_FILE_FIRST})}},{key:"doUploadVideo",value:function(st){return st.file.videoFile.size>this.UPLOAD_SIZE_LIMIT.VIDEO?this._checkSizeError("VIDEO"):st.file.videoFile.size===0?rr({code:yr.MESSAGE_FILE_IS_EMPTY}):jm.indexOf(st.file.videoFile.type)===-1?rr({code:yr.MESSAGE_VIDEO_TYPES_LIMIT}):(this._setUploadFileType(Hv),cr?this.handleVideoUpload({file:st.file.videoFile,onProgress:st.onProgress}):gr?this.handleVideoUpload(st):void 0)}},{key:"handleVideoUpload",value:function(st){var ht=this;return new Promise(function(vt,It){ht.uploadByCOS(st).then(function(kt){vt(kt)}).catch(function(){ht.uploadByCOS(st).then(function(kt){vt(kt)}).catch(function(){It(new Cs({code:yr.MESSAGE_VIDEO_UPLOAD_FAIL}))})})})}},{key:"doUploadAudio",value:function(st){return st.file?st.file.size>this.UPLOAD_SIZE_LIMIT.AUDIO?this._checkSizeError("AUDIO"):st.file.size===0?rr({code:yr.MESSAGE_FILE_IS_EMPTY}):(this._setUploadFileType(av),this.uploadByCOS(st)):rr({code:yr.MESSAGE_AUDIO_UPLOAD_FAIL})}},{key:"uploadByCOS",value:function(st){var ht=this;if(!yo(this._cosUploadMethod))return this.outputWarning("PluginUndetected"),rr({code:yr.COS_UNDETECTED});if(this.timUploadPlugin)return this._uploadWithPreSigUrl(st);var vt=new xr("upload"),It="".concat(this._n,".uploadByCOS"),kt=Date.now(),Ot=this._getFile(st);return new Promise(function(Pt,qt){var Wt=cr?ht._createCosOptionsWXMiniApp(st):ht._createCosOptionsWeb(st),ln=ht;ht._cosUploadMethod(Wt,function(fn,Sn){var Nn=Object.create(null);if(Sn){if(fn||to(Sn.files)&&Sn.files[0].error){var qn=new Cs({code:yr.MESSAGE_FILE_UPLOAD_FAIL});return vt.setError(qn,!0,ht.getNetworkType()).end(),pn.l("".concat(It," failed. error:"),Sn.files[0].error),Sn.files[0].error.statusCode===403&&(pn.w("".concat(It," failed. cos AccessKeyId was invalid, regain auth key!")),ht._getAuthorizationKey()),void qt(qn)}Nn.fileName=Ot.name,Nn.fileSize=Ot.size,Nn.fileType=Ot.type.slice(Ot.type.indexOf("/")+1).toLowerCase(),Nn.location=cr?Sn.Location:Sn.files[0].data.Location;var Yn=Date.now()-kt,Zn=ln._formatFileSize(Ot.size),or=ln._formatSpeed(1e3*Ot.size/Yn),Sr="size:".concat(Zn," time:").concat(Yn,"ms speed:").concat(or);pn.l("".concat(It," success. name:").concat(Ot.name," ").concat(Sr)),Pt(Nn);var Pr=ht.getModule($s);return Pr.addCost(Gu,Yn),Pr.addFileSize(Gu,Ot.size),void vt.setNetworkType(ht.getNetworkType()).setMessage(Sr).end()}var Vr=new Cs({code:yr.MESSAGE_FILE_UPLOAD_FAIL});vt.setError(Vr,!0,ln.getNetworkType()).end(),pn.w("".concat(It," failed. error:"),fn),fn.statusCode===403&&(pn.w("".concat(It," failed. cos AccessKeyId was invalid, regain auth key!")),ht._getAuthorizationKey()),qt(Vr)})})}},{key:"_uploadWithPreSigUrl",value:function(st){var ht=this,vt="".concat(this._n,"._uploadWithPreSigUrl"),It=this._getFile(st);return this._createCosOptionsPreSigUrl(st).then(function(kt){return new Promise(function(Ot,Pt){var qt=new xr("upload"),Wt=kt.requestSnapshotUrl,ln=Wt===void 0?void 0:Wt,fn=Rt(kt,h0),Sn=Date.now();ht._cosUploadMethod(fn,function(Nn,qn){if(Nn||qn.statusCode===403)return qt.setError(new Cs(Nn),!0,ht.getNetworkType()).end(),pn.l("".concat(vt," failed, error:"),Nn),void Pt(new Cs({code:yr.MESSAGE_FILE_UPLOAD_FAIL}));var Yn=Object.create(null),Zn=qn.data.location||"";ht.isPrivateNetWork()||Zn.indexOf("https://")!==0&&Zn.indexOf("http://")!==0||(Zn=Zn.split("//")[1]),Yn.fileName=It.name,Yn.fileSize=It.size,Yn.fileType=It.type.slice(It.type.indexOf("/")+1).toLowerCase(),Yn.location=Zn;var or=Date.now()-Sn,Sr=ht._formatFileSize(It.size),Pr=ht._formatSpeed(1e3*It.size/or),Vr="size:".concat(Sr,",time:").concat(or,"ms,speed:").concat(Pr," res:").concat(JSON.stringify(qn.data));pn.l("".concat(vt," success name:").concat(It.name,",").concat(Vr)),qt.setNetworkType(ht.getNetworkType()).setMessage(Vr).end();var io=ht.getModule($s);io.addCost(Gu,or),io.addFileSize(Gu,It.size);var No=[];if(fn.thumbUrl&&fn.largeUrl&&(No=[ht._getSmallImageInfoByUrl(fn.thumbUrl,Yn),ht._getLargeImageInfoByUrl(fn.largeUrl,Yn)]),ln&&No.push(ht._getSnapshotInfoByUrl(ln,Yn)),No.length>0)return Promise.all(No).then(function(){Ot(Yn)});Ot(Yn)})})})}},{key:"_getRawOrUploadProxyUrl",value:function(st){var ht=this.getModule(To).getFileUploadProxy(),vt=st;return ht&&(vt=st.replace(/^https:\/\/[^/]+/,ht)),vt}},{key:"_getFile",value:function(st){var ht;return to(st.file.files)||(ht=st.file.files,ns(ht)==="filelist")?st.file.files[0]:st.file}},{key:"_formatFileSize",value:function(st){return st<1024?st+"B":st<1048576?Math.floor(st/1024)+"KB":Math.floor(st/1048576)+"MB"}},{key:"_formatSpeed",value:function(st){return st<=1048576?Lu(st/1024,1)+"KB/s":Lu(st/1048576,1)+"MB/s"}},{key:"_createCosOptionsWeb",value:function(st){var ht=this._getFile(st),vt=ht.name,It=vt.slice(vt.lastIndexOf(".")),kt=this._genFileName("".concat(_c(999999)).concat(It));return{files:[{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(kt),Body:ht}],SliceSize:1048576,onProgress:function(Ot){if(typeof st.onProgress=="function")try{st.onProgress(Ot.percent)}catch(Pt){pn.w("onProgress callback error:",Pt)}},onFileFinish:function(Ot,Pt,qt){}}}},{key:"_createCosOptionsWXMiniApp",value:function(st){var ht=this._getFile(st),vt=this._genFileName(ht.name),It=ht.url;return{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(vt),FilePath:It,onProgress:function(kt){if(pn.l(JSON.stringify(kt)),typeof st.onProgress=="function")try{st.onProgress(kt.percent)}catch(Ot){pn.w("onProgress callback error:",Ot)}}}}},{key:"_createCosOptionsPreSigUrl",value:function(st){var ht=this,vt="",It="",kt=0,Ot=this._getFile(st);if(cr)vt=this._genFileName(Ot.name),It=Ot.url,kt=1;else{var Pt=Ot.name,qt=Pt.slice(Pt.lastIndexOf("."));vt=this._genFileName("".concat(_c(999999)).concat(qt)),It=Ot,kt=0}return this._getCosPreSigUrl({fileType:this.uploadFileType,fileName:vt,uploadMethod:kt,duration:this.duration}).then(function(Wt){var ln=Wt.uploadUrl,fn=Wt.downloadUrl,Sn=Wt.requestSnapshotUrl,Nn=Sn===void 0?void 0:Sn,qn=Wt.thumbUrl,Yn=Wt.largeUrl;return{url:ht._getRawOrUploadProxyUrl(ln),fileType:ht.uploadFileType,fileName:vt,resources:It,downloadUrl:fn,requestSnapshotUrl:Nn,thumbUrl:qn,largeUrl:Yn,onProgress:function(Zn){if(typeof st.onProgress=="function")try{st.onProgress(Zn.percent)}catch(or){pn.w("onProgress callback error:",or),pn.e(or)}}}})}},{key:"_genFileName",value:function(st){return"".concat(lu(),"-").concat(st)}},{key:"_setUploadFileType",value:function(st){this.uploadFileType=st}},{key:"_getSnapshotInfoByUrl",value:function(st,ht){var vt=this,It=new xr("getSnapshotInfo");return this.request({protocolName:Dv,requestData:{platform:this.getPlatform(),coverName:this._genFileName(_c(99999)),requestSnapshotUrl:st}}).then(function(kt){var Ot=(kt.data||{}).snapshotUrl;return It.setMessage("snapshotUrl:".concat(Ot)).end(),dr(Ot)?{}:eu(Ot).then(function(Pt){ht.snapshotInfo={snapshotUrl:Ot,snapshotWidth:Pt.width,snapshotHeight:Pt.height}})}).catch(function(kt){return pn.w("".concat(vt._n,"._getSnapshotInfoByUrl failed. error:"),kt),It.setCode(kt.errorCode).setMessage(kt.errorInfo).end(),{}})}},{key:"_getSmallImageInfoByUrl",value:function(st,ht){return eu(st).then(function(vt){ht.smallImageUrl=st,ht.smallImageWidth=vt.width,ht.smallImageHeight=vt.height})}},{key:"_getLargeImageInfoByUrl",value:function(st,ht){return eu(st).then(function(vt){ht.largeImageUrl=st,ht.largeImageWidth=vt.width,ht.largeImageHeight=vt.height})}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset"))}}]),yt}(Os),Uy=["downloadKey","pbDownloadKey","messageList"],Rl=function(){function Gt(dt){it(this,Gt),this._n="MergerMessageHandler",this._messageModule=dt}return lt(Gt,[{key:"uploadMergerMessage",value:function(dt,yt){var st=this,ht="".concat(this._n,".").concat("uploadMergerMessage");pn.d("".concat(ht," message:"),dt,"messageBytes:".concat(yt));var vt=dt.payload.messageList,It=vt.length,kt=new xr("uploadMergerMessage");return this._messageModule.request({protocolName:Ov,requestData:{messageList:vt}}).then(function(Ot){pn.d("".concat(ht," ok. response:"),Ot.data);var Pt=Ot.data,qt=Pt.pbDownloadKey,Wt=Pt.downloadKey,ln={pbDownloadKey:qt,downloadKey:Wt,messageNumber:It};return kt.setNetworkType(st._messageModule.getNetworkType()).setMessage("".concat(It,"-").concat(yt,"-").concat(Wt)).end(),ln}).catch(function(Ot){throw pn.w("".concat(ht," failed. error:"),Ot),st._messageModule.probeNetwork().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];kt.setError(Ot,Wt,ln).end()}),Ot})}},{key:"downloadMergerMessage",value:function(dt){var yt=this,st="".concat(this._n,".").concat("downloadMergerMessage");pn.d("".concat(st," message:"),dt);var ht=dt.payload.downloadKey,vt=this._messageModule.getFileDownloadProxy(),It=new xr("downloadMergerMessage");return It.setMessage("downloadKey:".concat(ht)),this._messageModule.request({protocolName:xp,requestData:{downloadKey:ht}}).then(function(kt){if(pn.d("".concat(st," ok. response:"),kt.data),yo(dt.clearElement)){var Ot=dt.payload;Ot.downloadKey,Ot.pbDownloadKey,Ot.messageList;var Pt=Rt(Ot,Uy);dt.clearElement(),dt.setElement({type:dt.type,content:rt({messageList:kt.data.messageList},Pt)},vt)}else{var qt=[];kt.data.messageList.forEach(function(Wt){if(!dr(Wt)){var ln=new bm(Wt,vt);qt.push(ln)}}),dt.payload.messageList=qt,dt.payload.downloadKey="",dt.payload.pbDownloadKey=""}return It.setNetworkType(yt._messageModule.getNetworkType()).end(),dt}).catch(function(kt){throw pn.w("".concat(st," failed. key:").concat(ht," error:"),kt),yt._messageModule.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];It.setError(kt,qt,Wt).end()}),kt})}},{key:"createMergerMessagePack",value:function(dt,yt,st){return dt.conversationType===Ut.CONV_C2C?this._createC2CMergerMessagePack(dt,yt,st):this._createGroupMergerMessagePack(dt,yt,st)}},{key:"_createC2CMergerMessagePack",value:function(dt,yt,st){var ht=null;yt&&(yt.offlinePushInfo&&(ht=yt.offlinePushInfo),yt.onlineUserOnly===!0&&(ht?ht.disablePush=!0:ht={disablePush:!0}));var vt=[];if(as(yt)&&as(yt.messageControlInfo)){var It=yt.messageControlInfo,kt=It.excludedFromUnreadCount,Ot=It.excludedFromLastMessage,Pt=It.excludedFromContentModeration;kt===!0&&vt.push("NoUnread"),Ot===!0&&vt.push("NoLastMsg"),Pt===!0&&vt.push("NoMsgCheck")}var qt="";Po(dt.cloudCustomData)&&dt.cloudCustomData.length>0&&(qt=dt.cloudCustomData);var Wt=st.pbDownloadKey,ln=st.downloadKey,fn=st.messageNumber,Sn=dt.payload,Nn=Sn.title,qn=Sn.abstractList,Yn=Sn.compatibleText,Zn=this._messageModule.getModule(Ws),or=Zn&&Zn.isOnlineMessage(dt,yt)?0:void 0;return{protocolName:Ul,tjgID:this._messageModule.generateTjgID(dt),requestData:{fromAccount:this._messageModule.getMyUserID(),toAccount:dt.to,msgBody:[{msgType:dt.type,msgContent:{pbDownloadKey:Wt,downloadKey:ln,title:Nn,abstractList:qn,compatibleText:Yn,messageNumber:fn}}],cloudCustomData:qt,clientTime:dt.clientTime,msgSeq:dt.sequence,msgRandom:dt.random,msgLifeTime:or,offlinePushInfo:ht?{pushFlag:ht.disablePush===!0?1:0,title:ht.title||"",desc:ht.description||"",ext:ht.extension||"",apnsInfo:{badgeMode:ht.ignoreIOSBadge===!0?1:0},androidInfo:{OPPOChannelID:ht.androidOPPOChannelID||""}}:void 0,messageControlInfo:or!==0?vt:void 0,isSupportExtension:dt.isSupportExtension===!0?1:0}}}},{key:"_createGroupMergerMessagePack",value:function(dt,yt,st){var ht=null;yt&&yt.offlinePushInfo&&(ht=yt.offlinePushInfo);var vt=[];if(as(yt)&&as(yt.messageControlInfo)){var It=yt.messageControlInfo,kt=It.excludedFromUnreadCount,Ot=It.excludedFromLastMessage,Pt=It.excludedFromContentModeration;kt===!0&&vt.push("NoUnread"),Ot===!0&&vt.push("NoLastMsg"),Pt===!0&&vt.push("NoMsgCheck")}var qt="";Po(dt.cloudCustomData)&&dt.cloudCustomData.length>0&&(qt=dt.cloudCustomData);var Wt=st.pbDownloadKey,ln=st.downloadKey,fn=st.messageNumber,Sn=dt.payload,Nn=Sn.title,qn=Sn.abstractList,Yn=Sn.compatibleText,Zn=this._messageModule.getModule(So),or=Zn&&Zn.isOnlineMessage(dt,yt)?1:0;return{protocolName:Rm,tjgID:this._messageModule.generateTjgID(dt),requestData:{fromAccount:this._messageModule.getMyUserID(),groupID:dt.to,msgBody:[{msgType:dt.type,msgContent:{pbDownloadKey:Wt,downloadKey:ln,title:Nn,abstractList:qn,compatibleText:Yn,messageNumber:fn}}],random:dt.random,priority:dt.priority,clientSequence:dt.clientSequence,groupAtInfo:void 0,cloudCustomData:qt,onlineOnlyFlag:or,offlinePushInfo:ht?{pushFlag:ht.disablePush===!0?1:0,title:ht.title||"",desc:ht.description||"",ext:ht.extension||"",apnsInfo:{badgeMode:ht.ignoreIOSBadge===!0?1:0},androidInfo:{OPPOChannelID:ht.androidOPPOChannelID||""}}:void 0,clientTime:dt.clientTime,needReadReceipt:dt.needReadReceipt!==!0||Zn.isMessageFromOrToAVChatroom(dt.to)?0:1,messageControlInfo:or===0?vt:void 0,isSupportExtension:dt.isSupportExtension===!0?1:0}}}}]),Gt}(),Bp={ERR_SVR_COMM_SENSITIVE_TEXT:80001,ERR_SVR_COMM_BODY_SIZE_LIMIT:80002,OPEN_SERVICE_OVERLOAD_ERROR:60022,ERR_SVR_MSG_PKG_PARSE_FAILED:20001,ERR_SVR_MSG_INTERNAL_AUTH_FAILED:20002,ERR_SVR_MSG_INVALID_ID:20003,ERR_SVR_MSG_PUSH_DENY:20006,ERR_SVR_MSG_IN_PEER_BLACKLIST:20007,ERR_SVR_MSG_BOTH_NOT_FRIEND:20009,ERR_SVR_MSG_NOT_PEER_FRIEND:20010,ERR_SVR_MSG_NOT_SELF_FRIEND:20011,ERR_SVR_MSG_SHUTUP_DENY:20012,ERR_SVR_GROUP_INVALID_PARAMETERS:10004,ERR_SVR_GROUP_PERMISSION_DENY:10007,ERR_SVR_GROUP_NOT_FOUND:10010,ERR_SVR_GROUP_INVALID_GROUPID:10015,ERR_SVR_GROUP_REJECT_FROM_THIRDPARTY:10016,ERR_SVR_GROUP_SHUTUP_DENY:10017,MESSAGE_SEND_FAIL:2100,OVER_FREQUENCY_LIMIT:2996},g0=[yr.MESSAGE_ONPROGRESS_FUNCTION_ERROR,yr.MESSAGE_IMAGE_SELECT_FILE_FIRST,yr.MESSAGE_IMAGE_TYPES_LIMIT,yr.MESSAGE_FILE_IS_EMPTY,yr.MESSAGE_IMAGE_SIZE_LIMIT,yr.MESSAGE_FILE_SELECT_FILE_FIRST,yr.MESSAGE_FILE_SIZE_LIMIT,yr.MESSAGE_VIDEO_SIZE_LIMIT,yr.MESSAGE_VIDEO_TYPES_LIMIT,yr.MESSAGE_AUDIO_UPLOAD_FAIL,yr.MESSAGE_AUDIO_SIZE_LIMIT,yr.COS_UNDETECTED];function Gy(Gt){var dt=!1;return Object.values(Bp).includes(Gt)&&(dt=!0),(Gt>=120001&&Gt<=13e4||Gt>=10100&&Gt<=10200)&&(dt=!0),dt}var pv=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="MessageModule",ht._messageOptionsMap=new Map,ht._mergerMessageHandler=new Rl(Bt(ht)),ht}return lt(yt,[{key:"createTextMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID();var vt=new yu(st),It=typeof st.payload=="string"?st.payload:st.payload.text,kt=new rv({text:It}),Ot=this._getNickAndAvatarByUserID(ht);return vt.setElement(kt),vt.setNickAndAvatar(Ot),vt.setNameCard(this._getNameCardByGroupID(vt)),vt}},{key:"createImageMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID();var vt=new yu(st);if(cr){var It=st.payload.file;if(Qs(It))return void this.outputWarning("FileUnsupportedInMP","createImageMessage");var kt=It.tempFiles[0].path||It.tempFiles[0].tempFilePath,Ot={url:kt,name:kt.slice(kt.lastIndexOf("/")+1),size:It.tempFiles&&It.tempFiles[0].size||1,type:kt.slice(kt.lastIndexOf(".")+1).toLowerCase()};st.payload.file=Ot}else if(gr){if(Qs(st.payload.file)){var Pt=st.payload.file;st.payload.file={files:[Pt]}}else if(as(st.payload.file)&&typeof uni<"u"){var qt=st.payload.file.tempFiles[0];st.payload.file={files:[qt]}}}var Wt=new T_({imageFormat:sn.UNKNOWN,uuid:this._generateUUID(st.payload.file),file:st.payload.file}),ln=this._getNickAndAvatarByUserID(ht);return vt.setElement(Wt),vt.setNickAndAvatar(ln),vt.setNameCard(this._getNameCardByGroupID(vt)),this._messageOptionsMap.set(vt.clientSequence,st),vt}},{key:"createAudioMessage",value:function(st){var ht=st.payload.file;if(cr){var vt={url:ht.tempFilePath,name:ht.tempFilePath.slice(ht.tempFilePath.lastIndexOf("/")+1),size:ht.fileSize,second:parseInt(ht.duration)/1e3,type:ht.tempFilePath.slice(ht.tempFilePath.lastIndexOf(".")+1).toLowerCase()};st.payload.file=vt}var It=this.getMyUserID();st.currentUser=It,st.senderTinyID=this.getMyTinyID();var kt=new yu(st),Ot=new Em({second:Math.floor(ht.duration/1e3),size:ht.fileSize||ht.size,url:ht.tempFilePath,uuid:this._generateUUID(st.payload.file)}),Pt=this._getNickAndAvatarByUserID(It);return kt.setElement(Ot),kt.setNickAndAvatar(Pt),kt.setNameCard(this._getNameCardByGroupID(kt)),this._messageOptionsMap.set(kt.clientSequence,st),kt}},{key:"createVideoMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID(),st.payload.file.thumbUrl="",st.payload.file.thumbSize=0;var vt={};if(cr){if(ar)return void this.outputWarning("VideoUnsupportedInAlipay");if(Qs(st.payload.file))return void this.outputWarning("FileUnsupportedInMP","createVideoMessage");var It=st.payload.file;to(It.tempFiles)&&(It=It.tempFiles[0]),vt.url=It.tempFilePath,vt.name=It.tempFilePath.slice(It.tempFilePath.lastIndexOf("/")+1),vt.size=It.size||1,vt.second=It.duration||0,vt.type=It.tempFilePath.slice(It.tempFilePath.lastIndexOf(".")+1).toLowerCase()}else if(gr){if(Qs(st.payload.file)){var kt=st.payload.file;st.payload.file.files=[kt]}else if(as(st.payload.file)&&typeof uni<"u"){var Ot=st.payload.file.tempFile;st.payload.file.files=[Ot]}var Pt=st.payload.file;vt.url=window.URL.createObjectURL(Pt.files[0]),vt.name=Pt.files[0].name,vt.size=Pt.files[0].size||1,vt.second=Pt.files[0].duration||0,vt.type=Pt.files[0].type.split("/")[1]}st.payload.file.videoFile=vt;var qt=new yu(st),Wt=new hu({videoFormat:vt.type,videoSecond:Lu(vt.second,0),videoSize:vt.size,remoteVideoUrl:"",videoUrl:vt.url,videoUUID:this._generateUUID(st.payload.file.videoFile),thumbUUID:this._generateUUID(st.payload.file.videoFile),thumbWidth:st.payload.file.width||200,thumbHeight:st.payload.file.height||200,thumbUrl:st.payload.file.thumbUrl,thumbSize:st.payload.file.thumbSize,thumbFormat:st.payload.file.thumbUrl.slice(st.payload.file.thumbUrl.lastIndexOf(".")+1).toLowerCase()}),ln=this._getNickAndAvatarByUserID(ht);return qt.setElement(Wt),qt.setNickAndAvatar(ln),qt.setNameCard(this._getNameCardByGroupID(qt)),this._messageOptionsMap.set(qt.clientSequence,st),qt}},{key:"createCustomMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID();var vt=new yu(st),It=new _g({data:st.payload.data,description:st.payload.description,extension:st.payload.extension}),kt=this._getNickAndAvatarByUserID(ht);return vt.setElement(It),vt.setNickAndAvatar(kt),vt.setNameCard(this._getNameCardByGroupID(vt)),vt}},{key:"createFaceMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID();var vt=new yu(st),It=new x_(st.payload),kt=this._getNickAndAvatarByUserID(ht);return vt.setElement(It),vt.setNickAndAvatar(kt),vt.setNameCard(this._getNameCardByGroupID(vt)),vt}},{key:"createMergerMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID();var vt=this._getNickAndAvatarByUserID(ht),It=new yu(st),kt=new El(st.payload);return It.setElement(kt),It.setNickAndAvatar(vt),It.setNameCard(this._getNameCardByGroupID(It)),It.setRelayFlag(!0),It}},{key:"createForwardMessage",value:function(st){var ht=st.to,vt=st.conversationType,It=st.priority,kt=st.payload,Ot=st.needReadReceipt,Pt=st.receiverList,qt=this.getMyUserID(),Wt=this._getNickAndAvatarByUserID(qt);if(kt.type===Ut.MSG_GRP_TIP)return rr({code:yr.MESSAGE_FORWARD_TYPE_INVALID});var ln={to:ht,conversationType:vt,conversationID:"".concat(vt).concat(ht),priority:It,isPlaceMessage:0,status:Ko.UNSEND,currentUser:qt,senderTinyID:this.getMyTinyID(),cloudCustomData:st.cloudCustomData||kt.cloudCustomData||"",needReadReceipt:Ot,receiverList:Pt,isSupportExtension:st.isSupportExtension||!1},fn=new yu(ln);return fn.setElement(kt.getElements()[0]),fn.setNickAndAvatar(Wt),fn.setNameCard(this._getNameCardByGroupID(kt)),fn.setRelayFlag(!0),fn}},{key:"downloadMergerMessage",value:function(st){return this._mergerMessageHandler.downloadMergerMessage(st)}},{key:"createFileMessage",value:function(st){if(cr){if(!qo&&!na&&!Dr)return;var ht=Mr.getSystemInfoSync().SDKVersion;if(qo&&mu(ht,"2.5.0")<0)return void this.outputWarning("WXChooseMessageFile");if(na&&mu(ht,"1.18.0")<0)return void this.outputWarning("QQChooseMessageFile")}if(gr||Dr){if(Qs(st.payload.file)){var vt=st.payload.file;st.payload.file={files:[vt]}}else if(as(st.payload.file)&&typeof uni<"u"){var It=st.payload.file,kt=It.tempFiles,Ot=It.files,Pt=null;to(kt)?Pt=kt[0]:to(Ot)&&(Pt=Ot[0]),st.payload.file={files:[Pt]}}}else if(qo||na){var qt=st.payload.file.tempFiles,Wt=rt(rt({},qt[0]),{},{url:qt[0].path});st.payload.file={files:[Wt]}}var ln=this.getMyUserID();st.currentUser=ln,st.senderTinyID=this.getMyTinyID();var fn=new yu(st),Sn=new Am({uuid:this._generateUUID(st.payload.file),file:st.payload.file}),Nn=this._getNickAndAvatarByUserID(ln);return fn.setElement(Sn),fn.setNickAndAvatar(Nn),fn.setNameCard(this._getNameCardByGroupID(fn)),this._messageOptionsMap.set(fn.clientSequence,st),fn}},{key:"createLocationMessage",value:function(st){var ht=this.getMyUserID();st.currentUser=ht,st.senderTinyID=this.getMyTinyID();var vt=new yu(st),It=new qu(st.payload),kt=this._getNickAndAvatarByUserID(ht);return vt.setElement(It),vt.setNickAndAvatar(kt),vt.setNameCard(this._getNameCardByGroupID(vt)),vt}},{key:"_onCannotFindModule",value:function(){return rr({code:yr.CANNOT_FIND_MODULE})}},{key:"sendMessageInstance",value:function(st,ht){var vt=this;if(this.getModule(zl).filterMessage(st,ht)===!1)return this._onSendMessageFailed(st,new Cs({code:yr.PROFANITY_FOUND}));var It,kt=null;switch(st.conversationType){case Ut.CONV_C2C:if(!(kt=this.getModule(Ws)))return this._onCannotFindModule();break;case Ut.CONV_GROUP:if(!(kt=this.getModule(So)))return this._onCannotFindModule();if(Vs({groupID:st.to})){var Ot=kt.getLocalGroupProfile(st.to);if(Ot&&Ot.isSupportTopic)return rr({code:yr.MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL})}break;default:return rr({code:yr.MESSAGE_SEND_INVALID_CONVERSATION_TYPE})}var Pt=this.getModule(no),qt=this.getModule(So);return Pt.upload(st).then(function(){return vt._getSendMessageSpecifiedKey(st)===_h&&vt.getModule($s).addSuccessCount(Gu),qt.guardForAVChatRoom(st).then(function(){if(!st.isSendable())return rr({code:yr.MESSAGE_FILE_URL_IS_EMPTY});vt._addSendMessageTotalCount(st),It=Date.now();var Wt=function(ln){var fn="utf-8";gr&&document&&(fn=document.charset.toLowerCase());var Sn,Nn,qn=0;if(Nn=ln.length,fn==="utf-8"||fn==="utf8")for(var Yn=0;Yn<Nn;Yn++)(Sn=ln.codePointAt(Yn))<=127?qn+=1:Sn<=2047?qn+=2:Sn<=65535?qn+=3:(qn+=4,Yn++);else if(fn==="utf-16"||fn==="utf16")for(var Zn=0;Zn<Nn;Zn++)(Sn=ln.codePointAt(Zn))<=65535?qn+=2:(qn+=4,Zn++);else qn=ln.replace(/[^\x00-\xff]/g,"aa").length;return qn}(JSON.stringify(st));return st.type===Ut.MSG_MERGER&&Wt>11264?vt._mergerMessageHandler.uploadMergerMessage(st,Wt).then(function(ln){var fn=vt._mergerMessageHandler.createMergerMessagePack(st,ht,ln);return vt.request(fn)}):(vt.getModule(qr).setMessageRandom(st),st.conversationType===Ut.CONV_C2C||st.conversationType===Ut.CONV_GROUP?kt.sendMessage(st,ht):void 0)}).then(function(Wt){var ln=Wt.data,fn=ln.time,Sn=ln.sequence,Nn=ln.readReceiptCode;Zo(Nn)&&Nn!==0&&(new xr("sendMessageWithReceipt").setMessage("from:".concat(st.from," to:").concat(st.to," sequence:").concat(Sn," readReceiptCode:").concat(Nn)).end(),pn.w("".concat(vt._n,".sendMessageInstance readReceiptCode:").concat(Nn," message:").concat(vt.getErrorMessage(Nn)))),vt._addSendMessageSuccessCount(st,It),vt._messageOptionsMap.delete(st.clientSequence);var qn=vt.getModule(qr);st.status=Ko.SUCCESS,st.time=fn;var Yn=!1;if(st.conversationType===Ut.CONV_GROUP)st.sequence=Sn;else if(st.conversationType===Ut.CONV_C2C){var Zn=qn.getLatestMessageSentByMe(st.conversationID);if(Zn){var or=Zn.nick,Sr=Zn.avatar;or===st.nick&&Sr===st.avatar||(Yn=!0)}}if(Yn&&qn.modifyMessageSentByMe({conversationID:st.conversationID,latestNick:st.nick,latestAvatar:st.avatar}),kt.isOnlineMessage(st,ht))st._onlineOnlyFlag=!0;else{qn.appendToMessageList(st);var Pr=st;as(ht)&&as(ht.messageControlInfo)&&(ht.messageControlInfo.excludedFromLastMessage===!0&&(st._isExcludedFromLastMessage=!0,Pr=""),ht.messageControlInfo.excludedFromUnreadCount===!0&&(st._isExcludedFromUnreadCount=!0));var Vr=st.conversationType;ps(st.to)&&(Vr=Ut.CONV_TOPIC,vt.getModule(ys).onMessageSent({groupID:tu(st.to),topicID:st.to,lastMessage:Pr})),qn.onMessageSent({conversationOptionsList:[{conversationID:st.conversationID,unreadCount:0,type:Vr,subType:st.conversationSubType,lastMessage:Pr}]})}return st.getRelayFlag()||st.type!=="TIMImageElem"||zp(st.payload.imageInfoArray),go({message:st})})}).catch(function(Wt){return vt._onSendMessageFailed(st,Wt)})}},{key:"_onSendMessageFailed",value:function(st,ht){st.status=Ko.FAIL,this.getModule(qr).deleteMessageRandom(st),this._addSendMessageFailCountOnUser(st,ht);var vt=new xr("sendMessage");return vt.setMessage("tjg_id:".concat(this.generateTjgID(st)," type:").concat(st.type," from:").concat(st.from," to:").concat(st.to)),this.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];vt.setError(ht,Ot,Pt).end()}),pn.e("".concat(this._n,"._onSendMessageFailed error:"),ht),rr(new Cs({code:ht&&ht.code?ht.code:yr.MESSAGE_SEND_FAIL,message:ht&&ht.message?ht.message:void 0,data:{message:st}}))}},{key:"_getSendMessageSpecifiedKey",value:function(st){if([Ut.MSG_IMAGE,Ut.MSG_AUDIO,Ut.MSG_VIDEO,Ut.MSG_FILE].includes(st.type))return _h;if(st.conversationType===Ut.CONV_C2C)return Gm;if(st.conversationType===Ut.CONV_GROUP){var ht=this.getModule(So).getLocalGroupProfile(st.to);if(!ht)return;var vt=ht.type;return cu(vt)?u_:$m}}},{key:"_addSendMessageTotalCount",value:function(st){var ht=this._getSendMessageSpecifiedKey(st);ht&&this.getModule($s).addTotalCount(ht)}},{key:"_addSendMessageSuccessCount",value:function(st,ht){var vt=Math.abs(Date.now()-ht),It=this._getSendMessageSpecifiedKey(st);if(It){var kt=this.getModule($s);kt.addSuccessCount(It),kt.addCost(It,vt)}}},{key:"_addSendMessageFailCountOnUser",value:function(st,ht){var vt,It,kt=ht.code,Ot=kt===void 0?-1:kt,Pt=this.getModule($s),qt=this._getSendMessageSpecifiedKey(st);qt===_h&&(vt=Ot,It=!1,g0.includes(vt)&&(It=!0),It)?Pt.addFailedCountOfUserSide(Gu):Gy(Ot)&&qt&&Pt.addFailedCountOfUserSide(qt)}},{key:"resendMessage",value:function(st){return st.isResend=!0,st.status=Ko.UNSEND,this.sendMessageInstance(st)}},{key:"revokeMessage",value:function(st){var ht=this,vt=null;if(st.conversationType===Ut.CONV_C2C?vt=this.getModule(Ws):st.conversationType===Ut.CONV_GROUP&&(vt=this.getModule(So)),!vt)return this._onCannotFindModule();var It=new xr("revokeMessage");It.setMessage("tjg_id:".concat(this.generateTjgID(st)," type:").concat(st.type," from:").concat(st.from," to:").concat(st.to));var kt="".concat(this._n,".").concat("revokeMessage");return vt.revokeMessage(st).then(function(Ot){var Pt=Ot.data.recallRetList;if(!dr(Pt)&&Pt[0].retCode!==0){var qt=new Cs({code:Pt[0].retCode,data:{message:st}});return It.setCode(qt.code).setMoreMessage(qt.message).end(),rr(qt)}return pn.i("".concat(kt," ok. ID:").concat(st.ID)),st.isRevoked=!0,It.end(),ht.getModule(qr).onMessageRevoked([st]),go({message:st})}).catch(function(Ot){ht.probeNetwork().then(function(qt){var Wt=Ft(qt,2),ln=Wt[0],fn=Wt[1];It.setError(Ot,ln,fn).end()});var Pt=new Cs({code:Ot&&Ot.code?Ot.code:yr.MESSAGE_REVOKE_FAIL,message:Ot&&Ot.message?Ot.message:void 0,data:{message:st}});return pn.w("".concat(kt," failed. error:"),Ot),rr(Pt)})}},{key:"deleteMessage",value:function(st){var ht=this,vt=null,It=st[0],kt=It.conversationID,Ot="",Pt=[],qt=[];if(It.conversationType===Ut.CONV_C2C)vt=this.getModule(Ws),Ot=kt.replace(Ut.CONV_C2C,""),st.forEach(function(fn){fn&&fn.status===Ko.SUCCESS&&fn.conversationID===kt&&(fn._onlineOnlyFlag||Pt.push("".concat(fn.sequence,"_").concat(fn.random,"_").concat(fn.time)),qt.push(fn))});else if(It.conversationType===Ut.CONV_GROUP)vt=this.getModule(So),Ot=kt.replace(Ut.CONV_GROUP,""),st.forEach(function(fn){fn&&fn.status===Ko.SUCCESS&&fn.conversationID===kt&&(fn._onlineOnlyFlag||Pt.push("".concat(fn.sequence)),qt.push(fn))});else if(It.conversationType===Ut.CONV_SYSTEM)return rr({code:yr.CANNOT_DELETE_GROUP_SYSTEM_NOTICE});if(!vt)return this._onCannotFindModule();if(Pt.length===0)return this._onMessageDeleted(qt);Pt.length>30&&(Pt=Pt.slice(0,30),qt=qt.slice(0,30));var Wt=new xr("deleteMessage");Wt.setMessage("to:".concat(Ot," count:").concat(Pt.length));var ln="".concat(this._n,".").concat("deleteMessage");return vt.deleteMessage({to:Ot,keyList:Pt}).then(function(fn){return Wt.end(),pn.i("".concat(ln," ok")),ht._onMessageDeleted(qt)}).catch(function(fn){ht.probeNetwork().then(function(Nn){var qn=Ft(Nn,2),Yn=qn[0],Zn=qn[1];Wt.setError(fn,Yn,Zn).end()}),pn.w("".concat(ln," failed. error:"),fn);var Sn=new Cs({code:fn&&fn.code?fn.code:yr.MESSAGE_DELETE_FAIL,message:fn&&fn.message?fn.message:void 0});return rr(Sn)})}},{key:"_onMessageDeleted",value:function(st){return this.getModule(qr).onMessageDeleted(st),Go({messageList:st})}},{key:"translateText",value:function(st){var ht="".concat(this._n,".").concat("translateText"),vt=st.sourceTextList,It=st.sourceLanguage,kt=st.targetLanguage,Ot=new xr("translateText");return Ot.setMessage("sourceLanguage:".concat(It," targetLanguage:").concat(kt)),this.request({protocolName:by,requestData:{sourceTextList:vt,source:It||"auto",target:kt,from:this.getMyTinyID(),SDKAppID:this.getSDKAppID()}}).then(function(Pt){var qt=Pt.data,Wt=qt.error,ln=qt.requestID,fn=qt.translatedTextList;if(Wt.code===0)return Ot.end(),pn.i("".concat(ht," ok. requestID:").concat(ln)),go({translatedTextList:fn});throw rt(rt({},Wt),{},{requestID:ln})}).catch(function(Pt){return Ot.setCode(Pt.code).setMoreMessage(Pt.requestID).end(),pn.w("".concat(ht," failed. error:"),Pt),rr({code:yr.TRANSLATE_TEXT_FAIL})})}},{key:"modifyRemoteMessage",value:function(st){var ht=this,vt=null,It=st.conversationType,kt=st.to;if(this.getModule(So).isMessageFromOrToAVChatroom(kt))return rr({code:yr.MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM,data:{message:st}});if(this.getModule(zl).filterMessage(st)===!1)return rr({code:yr.PROFANITY_FOUND,data:{message:st}});It===Ut.CONV_C2C?vt=this.getModule(Ws):It===Ut.CONV_GROUP&&(vt=this.getModule(So));var Ot=new xr("modifyMessage");Ot.setMessage("to:".concat(kt));var Pt="".concat(this._n,".modifyRemoteMessage");return vt.modifyRemoteMessage(st).then(function(qt){Ot.end(),pn.i("".concat(Pt," ok"));var Wt=ht._onModifyRemoteMessageResp(st,qt.data);return go({message:Wt})}).catch(function(qt){if(Ot.setCode(qt.code).setMoreMessage(qt.message).end(),pn.w("".concat(Pt," failed. error:"),qt),qt.code===20027){var Wt=ht._onModifyRemoteMessageResp(st,qt.data);return rr({code:yr.MESSAGE_MODIFY_CONFLICT,data:{message:Wt}})}return rr({code:qt.code,message:qt.message,data:{message:st}})})}},{key:"_onModifyRemoteMessageResp",value:function(st,ht){pn.d("".concat(this._n,"._onModifyRemoteMessageResp options:"),ht);var vt=st.conversationType,It=st.from,kt=st.to,Ot=st.random,Pt=st.sequence,qt=st.time,Wt=ht.elements,ln=ht.messageVersion,fn=ht.cloudCustomData,Sn=fn===void 0?"":fn;return this.getModule(qr).onMessageModified({conversationType:vt,from:It,to:kt,time:qt,random:Ot,sequence:Pt,elements:Wt,cloudCustomData:Sn,messageVersion:ln})}},{key:"_generateUUID",value:function(st){var ht=this.getModule(To),vt="".concat(ht.getSDKAppID(),"-").concat(ht.getUserID(),"-").concat(function(){for(var Ot="",Pt=32;Pt>0;--Pt)Ot+=Wu[Math.floor(Math.random()*Il)];return Ot}()),It=st.name||st.value||st.url||st.tempFilePath,kt=It&&It.slice(It.lastIndexOf(".")+1);return kt&&(vt="".concat(vt,".").concat(kt)),vt}},{key:"getMessageOption",value:function(st){return this._messageOptionsMap.get(st)}},{key:"_getNickAndAvatarByUserID",value:function(st){return this.getModule(Uo).getNickAndAvatarByUserID(st)}},{key:"_getNameCardByGroupID",value:function(st){if(st.conversationType===Ut.CONV_GROUP){var ht=this.getModule(So);if(ht)return ht.getMyNameCardByGroupID(st.to)}return""}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._messageOptionsMap.clear()}}]),yt}(Os),rm=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="MessageExtensionModule",ht.messageExtensionMap=new Map,ht.globalSeqMap=new Map,ht.getMessageExtensionsMap=new Map,ht}return lt(yt,[{key:"onMessageExtensionNotify",value:function(st){var ht=this,vt=st.dataList,It=vt.messageInfo,kt=vt.operateType,Ot=vt.operateResultList,Pt=vt.tinyID,qt=vt.globalSequence,Wt=It.clientTime,ln=It.random,fn="".concat(Pt,"-").concat(Wt,"-").concat(ln),Sn=[],Nn=[];pn.l("".concat(this._n,".onMessageExtensionNotify messageID:").concat(fn," operateType:").concat(kt," globalSequence:").concat(qt)),this._updateGlobalSequence(fn,qt);var qn=!1,Yn=!1;Ot.forEach(function(Zn){var or=Zn.extensions,Sr=or===void 0?[]:or,Pr=Zn.clearSequence;kt===1?(qn=!0,Sr.forEach(function(Vr){Sn.push({key:Vr.key,value:Vr.value})}),ht._updateLocalExtension(fn,Sr)):kt===2?(Yn=!0,Sr.forEach(function(Vr){Nn.push(Vr.key)}),ht._updateLocalExtension(fn,Sr)):kt===3&&(Yn=!0,ht._hasLocalExtension(fn)&&ht._getLocalExtension(fn).forEach(function(Vr,io){Vr.seq<=Pr&&!dr(Vr.value)&&Nn.push(io)}),ht._clearLocalExtension(fn,Pr))}),qn&&this.emitOuterEvent(yn.MESSAGE_EXTENSIONS_UPDATED,{messageID:fn,extensions:Sn}),Yn&&this.emitOuterEvent(yn.MESSAGE_EXTENSIONS_DELETED,{messageID:fn,keyList:Nn})}},{key:"setMessageExtensions",value:function(st,ht){var vt=this;if(!this.canIUse(hr.MSG_EXT))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var It="".concat(this._n,".").concat("setMessageExtensions"),kt=st.ID,Ot=st.conversationID,Pt=st.sequence,qt=st.time,Wt=Ht(ht);ht.length>20&&(Wt=ht.slice(0,20),pn.w("".concat(It,". the length of extensions cannot exceed 20.")));var ln="conversationID:".concat(Ot," messageID:").concat(kt," sequence:").concat(Pt," time:").concat(qt," count:").concat(Wt.length),fn=new xr("setMessageExtensions");return fn.setMessage(ln),pn.l("".concat(It," ").concat(ln)),this._modifyMessageExtensions(st,Wt).then(function(Sn){var Nn=Sn.resultList,qn=Sn.successCount,Yn=Sn.failureCount,Zn="success count:".concat(qn," fail count:").concat(Yn);return fn.setMoreMessage(Zn).end(),pn.l("".concat(It," ok. ").concat(Zn)),go({extensions:Nn})}).catch(function(Sn){return vt.probeNetwork().then(function(Nn){var qn=Ft(Nn,2),Yn=qn[0],Zn=qn[1];fn.setError(Sn,Yn,Zn).end()}),pn.e("".concat(It," failed. error:"),Sn),rr(Sn)})}},{key:"getMessageExtensions",value:function(st){var ht=this;if(!this.canIUse(hr.MSG_EXT))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var vt="".concat(this._n,".").concat("getMessageExtensions"),It=st.ID,kt=st.conversationID,Ot=st.sequence,Pt=st.time,qt="conversationID:".concat(kt," messageID:").concat(It," sequence:").concat(Ot," time:").concat(Pt),Wt=new xr("getMessageExtensions");Wt.setMessage(qt),pn.l("".concat(vt," ").concat(qt));var ln=void 0;return this.getMessageExtensionsMap.has(It)&&(ln=this._getGlobalSequence(It)),this._getMessageExtensions(st,ln).then(function(fn){return Wt.end(),pn.l("".concat(vt," ok. total count:").concat(fn.length)),vr(ln)&&fn.length>0&&ht.getMessageExtensionsMap.set(It,1),go({extensions:fn})}).catch(function(fn){return ht.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];Wt.setError(fn,qn,Yn).end()}),pn.e("".concat(vt," failed. error:"),fn),rr(fn)})}},{key:"deleteMessageExtensions",value:function(st,ht){var vt=this;if(!this.canIUse(hr.MSG_EXT))return rr({code:yr.CANNOT_USE_COMMERCIAL_ABILITY});var It="".concat(this._n,".").concat("deleteMessageExtensions"),kt=[],Ot=3;dr(ht)||(Ot=2,ht.forEach(function(Nn){kt.push({key:Nn,value:"",seq:0})}));var Pt=st.ID,qt=st.conversationID,Wt=st.sequence,ln=st.time,fn="conversationID:".concat(qt," messageID:").concat(Pt," sequence:").concat(Wt," time:").concat(ln," operateType:").concat(Ot),Sn=new xr("deleteMessageExtensions");return Sn.setMessage(fn),pn.l("".concat(It," ").concat(fn)),this._modifyMessageExtensions(st,kt,Ot).then(function(Nn){var qn=Nn.resultList,Yn=Nn.successCount,Zn=Nn.failureCount,or="";return Ot===2&&(or="success count:".concat(Yn," fail count:").concat(Zn)),Sn.setMoreMessage("".concat(or)).end(),pn.l("".concat(It," ok. ").concat(or)),go({extensions:qn})}).catch(function(Nn){return vt.probeNetwork().then(function(qn){var Yn=Ft(qn,2),Zn=Yn[0],or=Yn[1];Sn.setError(Nn,Zn,or).end()}),pn.e("".concat(It," failed. error:"),Nn),rr(Nn)})}},{key:"_modifyMessageExtensions",value:function(st,ht){var vt=this,It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,kt=ps(st.to)?Ut.CONV_TOPIC:st.conversationType,Ot=void 0;It!==3&&(Ot=this._getRequestExtensions(st,ht));var Pt=null;switch(kt){case Ut.CONV_C2C:Pt=this.getModule(Ws);break;case Ut.CONV_GROUP:Pt=this.getModule(So);break;case Ut.CONV_TOPIC:Pt=this.getModule(ys);break;default:return rr({code:yr.CANNOT_FIND_MODULE})}return Pt.modifyMessageExtensions(st,Ot,It).then(function(qt){var Wt=qt.data,ln=Wt.extensions,fn=Wt.seq,Sn=[],Nn=0,qn=0,Yn=[];return(ln=dr(ln)?[]:ln).forEach(function(Zn){var or=Zn.errorCode,Sr=Zn.extension,Pr=Sr.key,Vr=Sr.value,io=Sr.seq;Sn.push({code:or,key:Pr,value:Vr}),or===0?Nn++:qn++,Yn.push({key:Pr,value:Vr,seq:io})}),vt._updateGlobalSequence(st.ID,fn),Yn.length>0&&(vt._updateLocalExtension(st.ID,Yn),Yn=null),{resultList:Sn,successCount:Nn,failureCount:qn}}).catch(function(qt){return rr(qt)})}},{key:"_getRequestExtensions",value:function(st,ht){var vt=[];if(this._hasLocalExtension(st.ID)){var It=this._getLocalExtension(st.ID);return ht.forEach(function(kt){var Ot=kt.key,Pt=kt.value,qt=0;It.has(Ot)&&(qt=It.get(Ot).seq),vt.push({key:Ot,value:Pt,seq:qt})}),vt}return ht.forEach(function(kt){var Ot=kt.key,Pt=kt.value;vt.push({key:Ot,value:Pt,seq:0})}),vt}},{key:"_getMessageExtensions",value:function(st,ht){var vt=this,It="".concat(this._n,"._getMessageExtensions"),kt=st.ID,Ot=st.to,Pt=null;switch(ps(Ot)?Ut.CONV_TOPIC:st.conversationType){case Ut.CONV_C2C:Pt=this.getModule(Ws);break;case Ut.CONV_GROUP:Pt=this.getModule(So);break;case Ut.CONV_TOPIC:Pt=this.getModule(ys);break;default:return rr({code:yr.CANNOT_FIND_MODULE})}return Pt.getMessageExtensions(st,ht).then(function(qt){var Wt=qt.data,ln=Wt.extensions,fn=Wt.completeFlag,Sn=Wt.globalSequence,Nn=Wt.clearSequence;if(ln=dr(ln)?[]:ln,pn.l("".concat(It," ok. completeFlag:").concat(fn," globalSequence:").concat(Sn," clearSequence:").concat(Nn," count:").concat(ln.length)),vt._updateLocalExtension(kt,ln),vt._clearLocalExtension(kt,Nn),vt._updateGlobalSequence(kt,Sn),fn!==1){var qn=ln.slice(-1)[0].seq+1;return vt._getMessageExtensions(st,qn)}return vt._getLocalExtensions(kt)}).catch(function(qt){return rr(qt)})}},{key:"_hasLocalExtension",value:function(st){return this.messageExtensionMap.has(st)}},{key:"_getLocalExtension",value:function(st){return this.messageExtensionMap.get(st)}},{key:"_updateLocalExtension",value:function(st,ht){this._hasLocalExtension(st)||this.messageExtensionMap.set(st,new Map);var vt=this._getLocalExtension(st);ht.forEach(function(It){var kt=It.key,Ot=It.value,Pt=Ot===void 0?"":Ot,qt=It.seq;vt.set(kt,{value:Pt,seq:qt})})}},{key:"_clearLocalExtension",value:function(st,ht){if(!(ht<=0)&&this._hasLocalExtension(st)){var vt=this._getLocalExtension(st);vt.forEach(function(It,kt){It.seq<=ht&&vt.delete(kt)})}}},{key:"_getLocalExtensions",value:function(st){var ht=[];return this._hasLocalExtension(st)&&this._getLocalExtension(st).forEach(function(vt,It){var kt=vt.value;dr(kt)||ht.push({key:It,value:kt})}),ht}},{key:"_getGlobalSequence",value:function(st){return this.globalSeqMap.get(st)}},{key:"_updateGlobalSequence",value:function(st,ht){this.globalSeqMap.set(st,ht)}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this.messageExtensionMap.clear(),this.globalSeqMap.clear(),this.getMessageExtensionsMap.clear()}}]),yt}(Os),$y=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="ComboMessageModule",ht}return lt(yt,[{key:"sendMessage",value:function(st){var ht=this,vt=this._constructMessageInstance(st);if(vt===null)return rr({code:yr.MESSAGE_SEND_FAIL});this._addSendMessageTotalCount(vt);var It=Date.now();return this.getModule(qr).setMessageRandom(vt),this._sendComboMessage(vt,st).then(function(kt){var Ot=kt.data,Pt=Ot.time,qt=Ot.sequence,Wt=Ot.readReceiptCode;Zo(Wt)&&Wt!==0&&(new xr("sendMessageWithReceipt").setMessage("from:".concat(vt.from," to:").concat(vt.to," sequence:").concat(qt," readReceiptCode:").concat(Wt)).end(),pn.w("".concat(ht._n,".sendMessage readReceiptCode:").concat(Wt," message:").concat(ht.getErrorMessage(Wt)))),ht._addSendMessageSuccessCount(vt,It);var ln=ht.getModule(qr);vt.status=Ko.SUCCESS,vt.time=Pt,vt.conversationType===Ut.CONV_GROUP&&(vt.sequence=qt),ln.appendToMessageList(vt);var fn=vt;return vt._isExcludedFromLastMessage===!0&&(fn=""),ln.onMessageSent({conversationOptionsList:[{conversationID:vt.conversationID,unreadCount:0,type:vt.conversationType,subType:vt.conversationSubType,lastMessage:fn}]}),go({message:vt})}).catch(function(kt){return ht._onSendMessageFailed(vt,kt)})}},{key:"_sendComboMessage",value:function(st,ht){var vt=this._m.getModule(au),It="";return st.conversationType===Ut.CONV_C2C&&(It="".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SEND_MESSAGE)),st.conversationType===Ut.CONV_GROUP&&(It="".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEND_GROUP_MESSAGE)),vt.sendComboMessage({servcmd:It,data:ht})}},{key:"_constructMessageInstance",value:function(st){var ht="".concat(this._n,"._constructMessageInstance"),vt=null;try{var It=this.getMyUserID(),kt={};if(kt.senderTinyID=this.getMyTinyID(),kt.currentUser=It,kt.from=st.From_Account||It,st.GroupId?(kt.conversationID="".concat(Ut.CONV_GROUP).concat(st.GroupId),kt.conversationType=Ut.CONV_GROUP,kt.to=st.GroupId):st.To_Account&&(kt.conversationID="".concat(Ut.CONV_C2C).concat(st.To_Account),kt.conversationType=Ut.CONV_C2C,kt.to=st.To_Account),kt.time=st.MsgTimeStamp||0,kt.random=st.Random||st.MsgRandom||0,kt.priority=st.MsgPriority,Po(st.CloudCustomData)&&st.CloudCustomData.length>0&&(kt.cloudCustomData=st.CloudCustomData),to(st.SendMsgControl)&&(kt.messageControlInfo={},st.SendMsgControl.includes("NoUnread")&&(kt.messageControlInfo.excludedFromUnreadCount=1),st.SendMsgControl.includes("NoLastMsg")&&(kt.messageControlInfo.excludedFromLastMessage=1)),kt.conversationType===Ut.CONV_GROUP&&to(st.To_Account)&&st.To_Account.length>0){var Ot=st.To_Account;st.To_Account.length>50&&(Ot=st.To_Account.slice(0,50),pn.w("".concat(ht," To_Account must be less than or equal to 50."))),kt.receiverList=Ht(Ot),st.To_Account=Ht(Ot)}st.IsNeedReadReceipt!==1&&st.NeedReadReceipt!==1||(kt.needReadReceipt=!0),st.SupportMessageExtension===1&&(kt.isSupportExtension=!0),(vt=new yu(kt)).status=Ko.UNSEND,st.MsgClientTime=vt.clientTime,vt.conversationType===Ut.CONV_C2C&&(st.MsgSeq=vt.sequence);for(var Pt,qt=st.MsgBody.length,Wt=0;Wt<qt;Wt++)(Pt=st.MsgBody[Wt]).MsgType==="TIMTextElem"?vt.setTextElement(Pt.MsgContent.Text):Pt.MsgType==="TIMCustomElem"?vt.setCustomElement({data:Pt.MsgContent.Data||"",description:Pt.MsgContent.Desc||"",extension:Pt.MsgContent.Ext||""}):Pt.MsgType==="TIMFaceElem"&&vt.setFaceElement({index:Pt.MsgContent.Index,data:Pt.MsgContent.Data});var ln=vt.getElements();vt.payload=ln[0].content,vt.type=ln[0].type}catch(fn){vt=null,pn.e("".concat(ht," failed. error:"),fn)}return vt}},{key:"_onSendMessageFailed",value:function(st,ht){st.status=Ko.FAIL,this.getModule(qr).deleteMessageRandom(st),this._addSendMessageFailCountOnUser(st,ht);var vt=new xr("sendMessage");return vt.setMessage("tjg_id:".concat(this.generateTjgID(st)," type:").concat(st.type," from:").concat(st.from," to:").concat(st.to)),this.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];vt.setError(ht,Ot,Pt).end()}),pn.e("".concat(this._n,"._onSendMessageFailed error:"),ht),rr(new Cs({code:ht&&ht.code?ht.code:yr.MESSAGE_SEND_FAIL,message:ht&&ht.message?ht.message:void 0,data:{message:st}}))}},{key:"_getSendMessageSpecifiedKey",value:function(st){if(st.conversationType===Ut.CONV_C2C)return Gm;if(st.conversationType===Ut.CONV_GROUP){var ht=this.getModule(So).getLocalGroupProfile(st.to);if(!ht)return;var vt=ht.type;return cu(vt)?u_:$m}}},{key:"_addSendMessageTotalCount",value:function(st){var ht=this._getSendMessageSpecifiedKey(st);ht&&this.getModule($s).addTotalCount(ht)}},{key:"_addSendMessageSuccessCount",value:function(st,ht){var vt=Math.abs(Date.now()-ht),It=this._getSendMessageSpecifiedKey(st);if(It){var kt=this.getModule($s);kt.addSuccessCount(It),kt.addCost(It,vt)}}},{key:"_addSendMessageFailCountOnUser",value:function(st,ht){var vt=ht.code,It=vt===void 0?-1:vt,kt=this.getModule($s),Ot=this._getSendMessageSpecifiedKey(st);Gy(It)&&Ot&&kt.addFailedCountOfUserSide(Ot)}}]),yt}(Os),Fy=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="PluginModule",ht.plugins={},ht}return lt(yt,[{key:"registerPlugin",value:function(st){var ht=this;Object.keys(st).forEach(function(vt){ht.plugins[vt]=st[vt]}),new xr("registerPlugin").setMessage("".concat(Object.keys(st))).end()}},{key:"getPlugin",value:function(st){return this.plugins[st]}},{key:"reset",value:function(){}}]),yt}(Os),jy=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="SyncUnreadMessageModule",ht._cookie="",ht._onlineSyncFlag=!1,ht.getInnerEmitterInstance().on(jp,ht._onLoginSuccess,Bt(ht)),ht}return lt(yt,[{key:"_onLoginSuccess",value:function(st){this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:0})}},{key:"_startSync",value:function(st){var ht=this,vt=st.cookie,It=st.syncFlag,kt=st.isOnlineSync,Ot="".concat(this._n,"._startSync");pn.l("".concat(Ot," cookie:").concat(vt," syncFlag:").concat(It," isOnlineSync:").concat(kt)),this.request({protocolName:Uu,requestData:{cookie:vt,syncFlag:It,isOnlineSync:kt}}).then(function(Pt){var qt=Pt.data,Wt=qt.cookie,ln=qt.syncFlag;ht._cookie=Wt,dr(Wt)||(ln===0||ln===1?(ht._dispatchUnreadMessage(rt(rt({},Pt.data),{},{isSyncingEnded:!1})),ht._startSync({cookie:Wt,syncFlag:ln,isOnlineSync:0})):ln===2&&ht._dispatchUnreadMessage(rt(rt({},Pt.data),{},{isSyncingEnded:!0})))}).catch(function(Pt){pn.e("".concat(Ot," failed. error:"),Pt)})}},{key:"_dispatchUnreadMessage",value:function(st){st.eventArray&&this.getModule(au).onMessage({head:{},body:{eventArray:st.eventArray,isInstantMessage:this._onlineSyncFlag,isSyncingEnded:st.isSyncingEnded}}),this.getModule(Ws).onNewC2CMessage({dataList:st.messageList,isInstantMessage:!!st.isSyncingEnded&&this._onlineSyncFlag,C2CRemainingUnreadList:st.C2CRemainingUnreadList,C2CPairUnreadList:st.C2CPairUnreadList})}},{key:"startOnlineSync",value:function(){pn.l("".concat(this._n,".startOnlineSync")),this._onlineSyncFlag=!0,this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:1})}},{key:"startSyncOnReconnected",value:function(){pn.l("".concat(this._n,".startSyncOnReconnected.")),this._onlineSyncFlag=!0,this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:0})}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._onlineSyncFlag=!1,this._cookie=""}}]),yt}(Os),U_={request:{toAccount:"To_Account",fromAccount:"From_Account",to:"To_Account",from:"From_Account",groupID:"GroupId",groupAtUserID:"GroupAt_Account",extension:"Ext",data:"Data",description:"Desc",elements:"MsgBody",sizeType:"Type",downloadFlag:"Download_Flag",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",videoUrl:"",imageUrl:"URL",fileUrl:"Url",uuid:"UUID",priority:"MsgPriority",receiverUserID:"To_Account",receiverGroupID:"GroupId",messageSender:"SenderId",messageReceiver:"ReceiverId",nick:"From_AccountNick",avatar:"From_AccountHeadurl",messageNumber:"MsgNum",pbDownloadKey:"PbMsgKey",downloadKey:"JsonMsgKey",applicationType:"PendencyType",userIDList:"To_Account",groupNameList:"GroupName",userID:"To_Account",groupAttributeList:"GroupAttr",mainSequence:"AttrMainSeq",avChatRoomKey:"BytesKey",attributeControl:"AttrControl",sequence:"seq",messageControlInfo:"SendMsgControl",updateSequence:"UpdateSeq",clientTime:"MsgClientTime",sequenceList:"MsgSeqList",topicID:"TopicId",customData:"CustomString",isSupportTopic:"SupportTopic",isWebUniapp:"is_web_uniapp",isSupportExtension:"SupportMessageExtension",messageSequence:"MsgSeq",messageKey:"MsgKey",startSequence:"startSeq",simplifiedMessage:"DownsizeFlag"},response:{MsgPriority:"priority",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID",Download_Flag:"downloadFlag",GroupId:"groupID",Member_Account:"userID",MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",MsgSeq:"sequence",MsgRandom:"random",MsgTime:"time",MsgTimeStamp:"time",MsgContent:"content",MsgBody:"elements",From_AccountNick:"nick",From_AccountHeadurl:"avatar",GroupWithdrawInfoArray:"revokedInfos",GroupReadInfoArray:"groupMessageReadNotice",LastReadMsgSeq:"lastMessageSeq",WithdrawC2cMsgNotify:"c2cMessageRevokedNotify",C2cWithdrawInfoArray:"revokedInfos",C2cReadedReceipt:"c2cMessageReadReceipt",ReadC2cMsgNotify:"c2cMessageReadNotice",LastReadTime:"peerReadTime",MsgRand:"random",MsgType:"type",MsgShow:"messageShow",NextMsgSeq:"nextMessageSeq",FaceUrl:"avatar",ProfileDataMod:"profileModify",Profile_Account:"userID",ValueBytes:"value",ValueNum:"value",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgFrom_AccountExtraInfo:"messageFromAccountExtraInformation",Operator_Account:"operatorID",OpType:"operationType",ReportType:"operationType",UserId:"userID",User_Account:"userID",List_Account:"userIDList",MsgOperatorMemberExtraInfo:"operatorInfo",MsgMemberExtraInfo:"memberInfoList",ImageUrl:"avatar",NickName:"nick",MsgGroupNewInfo:"newGroupProfile",MsgAppDefinedData:"groupCustomField",Owner_Account:"ownerID",GroupFaceUrl:"avatar",GroupIntroduction:"introduction",GroupNotification:"notification",GroupApplyJoinOption:"joinOption",MsgKey:"messageKey",GroupInfo:"groupProfile",ShutupTime:"muteTime",Desc:"description",Ext:"extension",GroupAt_Account:"groupAtUserID",MsgNum:"messageNumber",PbMsgKey:"pbDownloadKey",JsonMsgKey:"downloadKey",MsgModifiedFlag:"isModified",PendencyItem:"applicationItem",PendencyType:"applicationType",AddTime:"time",AddSource:"source",AddWording:"wording",ProfileImImage:"avatar",PendencyAdd:"friendApplicationAdded",FrienPencydDel_Account:"friendApplicationDeletedUserIDList",Peer_Account:"userID",GroupAttr:"groupAttributeList",GroupAttrAry:"groupAttributeList",AttrMainSeq:"mainSequence",seq:"sequence",GroupAttrOption:"groupAttributeOption",BytesChangedKeys:"changedKeyList",GroupAttrInfo:"groupAttributeList",GroupAttrSeq:"mainSequence",PushChangedAttrValFlag:"isWithChangedAttributeInfo",SubKeySeq:"sequence",Val:"value",MsgGroupFromCardName:"senderNameCard",MsgGroupFromNickName:"senderNick",C2cNick:"peerNick",C2cImage:"peerAvatar",SendMsgControl:"messageControlInfo",NoLastMsg:"excludedFromLastMessage",NoUnread:"excludedFromUnreadCount",UpdateSeq:"updateSequence",MuteNotifications:"muteFlag",MsgClientTime:"clientTime",TinyId:"tinyID",GroupMsgReceiptList:"readReceiptList",ReadNum:"readCount",UnreadNum:"unreadCount",TopicId:"topicID",MillionGroupFlag:"communityType",SupportTopic:"isSupportTopic",MsgTopicNewInfo:"newTopicInfo",ShutupAll:"muteAllMembers",CustomString:"customData",TopicFaceUrl:"avatar",TopicIntroduction:"introduction",TopicNotification:"notification",TopicIdArray:"topicIDList",MsgVersion:"messageVersion",C2cMsgModNotifys:"c2cMessageModified",GroupMsgModNotifys:"groupMessageModified",ApplyJoinOption:"joinOption",MsgFlag:"messageRemindType",AtInfoList:"groupAtInfoList",AtFlagList:"groupAtType",AtMsgSeq:"sequence",BanDuration:"duration",BanDescription:"reason",NotVisible:"invisible",BytesTag:"tag",BytesValue:"value",RptBytesValue:"value",LatestSeq:"globalSequence",ClearSeq:"clearSequence",SupportMessageExtension:"isSupportExtension",ExtensionList:"extensions",GroupCounter:"counterList",Revoker_Account:"revoker",MsgExtensionNotify:"messageExtensionNotify",ExtensionC2cMsgInfo:"messageInfo",ExtensionGroupMsgInfo:"messageInfo",MsgOptType:"operateType",SetKVInfo:"operateResultList",DeleteKVInfo:"operateResultList",ClearKVInfo:"operateResultList",MsgKeyValue:"extensions",ClearMsgSeq:"clearSequence",MsgLastSeq:"globalSequence",InviteJoinOption:"inviteOption",MemberList_Account:"inviteeList",MsgMemberExtraInfoList:"inviteeInfoList",E:"event",GInf:"groupProfile",MCT:"clientTime",MR:"random",MP:"priority",MTS:"time",GId:"groupID",MS:"sequence",CCD:"cloudCustomData",F_Account:"from",F_Hd:"avatar",F_NN:"nick",GN:"groupName",GT:"groupType",IsSys:"isSystemMessage",OpInf:"operatorInfo",Img:"avatar",NN:"nick",OnlineInf:"onlineMemberInfo",ET:"expireTime",Num:"onlineMemberNum",Opt:"operationType",O_Account:"operatorID",RT:"operationType",UDF:"userDefinedField",L_Account:"userIDList"},ignoreKeyWord:["C2C","ID","USP"]};function Mp(Gt,dt){if(typeof Gt!="string"&&!Array.isArray(Gt))throw new TypeError("Expected the input to be `string | string[]`");dt=Object.assign({pascalCase:!1},dt);var yt;return(Gt=Array.isArray(Gt)?Gt.map(function(st){return st.trim()}).filter(function(st){return st.length}).join("-"):Gt.trim()).length===0?"":Gt.length===1?dt.pascalCase?Gt.toUpperCase():Gt.toLowerCase():(Gt!==Gt.toLowerCase()&&(Gt=Bm(Gt)),Gt=Gt.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(st,ht){return ht.toUpperCase()}).replace(/\d+(\w|$)/g,function(st){return st.toUpperCase()}),yt=Gt,dt.pascalCase?yt.charAt(0).toUpperCase()+yt.slice(1):yt)}var Bm=function(Gt){for(var dt=!1,yt=!1,st=!1,ht=0;ht<Gt.length;ht++){var vt=Gt[ht];dt&&/[a-zA-Z]/.test(vt)&&vt.toUpperCase()===vt?(Gt=Gt.slice(0,ht)+"-"+Gt.slice(ht),dt=!1,st=yt,yt=!0,ht++):yt&&st&&/[a-zA-Z]/.test(vt)&&vt.toLowerCase()===vt?(Gt=Gt.slice(0,ht-1)+"-"+Gt.slice(ht-1),st=yt,yt=!1,dt=!0):(dt=vt.toLowerCase()===vt&&vt.toUpperCase()!==vt,st=yt,yt=vt.toUpperCase()===vt&&vt.toLowerCase()!==vt)}return Gt};function m0(Gt,dt){var yt=0;return function st(ht,vt){if(++yt>100)return yt--,ht;if(to(ht)){var It=ht.map(function(Wt){return Ku(Wt)?st(Wt,vt):Wt});return yt--,It}if(Ku(ht)){var kt=(Ot=ht,Pt=function(Wt,ln){if(!Zr(ln))return!1;if((Sn=ln)!==Mp(Sn))for(var fn=0;fn<U_.ignoreKeyWord.length&&!ln.includes(U_.ignoreKeyWord[fn]);fn++);var Sn;return vr(vt[ln])?function(Nn){return Nn==="OPPOChannelID"?Nn:Nn[0].toUpperCase()+Mp(Nn).slice(1)}(ln):vt[ln]},qt=Object.create(null),Object.keys(Ot).forEach(function(Wt){var ln=Pt(Ot[Wt],Wt);ln&&(qt[ln]=Ot[Wt])}),qt);return kt=uu(kt,function(Wt,ln){return to(Wt)||Ku(Wt)?st(Wt,vt):Wt}),yt--,kt}var Ot,Pt,qt}(Gt,dt)}function fv(Gt,dt){if(to(Gt))return Gt.map(function(It){return Ku(It)?fv(It,dt):It});if(Ku(Gt)){var yt=(st=Gt,ht=function(It,kt){return vr(dt[kt])?Mp(kt):dt[kt]},vt={},Object.keys(st).forEach(function(It){vt[ht(st[It],It)]=st[It]}),vt);return yt=uu(yt,function(It){return to(It)||Ku(It)?fv(It,dt):It})}var st,ht,vt}var G_=String.fromCharCode,$_=function(Gt){var dt=0|Gt.charCodeAt(0);if(55296<=dt)if(dt<56320){var yt=0|Gt.charCodeAt(1);if(56320<=yt&&yt<=57343){if((dt=(dt<<10)+yt-56613888|0)>65535)return G_(240|dt>>>18,128|dt>>>12&63,128|dt>>>6&63,128|63&dt)}else dt=65533}else dt<=57343&&(dt=65533);return dt<=2047?G_(192|dt>>>6,128|63&dt):G_(224|dt>>>12,128|dt>>>6&63,128|63&dt)},hv=function(Gt){for(var dt=Gt===void 0?"":(""+Gt).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,$_),yt=0|dt.length,st=new Uint8Array(yt),ht=0;ht<yt;ht=ht+1|0)st[ht]=0|dt.charCodeAt(ht);return st},gv=function(){function Gt(dt){it(this,Gt),this._handler=dt;var yt=dt.getURL();if(this._socket=null,this._workerSocket=null,this._id=_c(),this._handler.getIsWorkerEnabled()){var st=URL.createObjectURL(new Blob([';let _socket = null;onmessage = function(event) {  if (event.data.cmd === "start") {    const url = event.data.url;    _socket = new WebSocket(url);    _socket.binaryType = "arraybuffer";    _socket.onopen = function() {      postMessage({ callback: "onOpen", extensions: _socket.extensions });    };    _socket.onclose = function(e) {      postMessage({ callback: "onOpen", e: { code: e.code, reason: e.reason } });    };    _socket.onmessage = function(e) {      postMessage({ callback: "onMessage", data: e.data });    };    _socket.onerror = function(e) {      postMessage({ callback: "onError", e: { isTrusted: "true" } });    };  } else if (event.data.cmd === "sendMessage") {    if (_socket !== null) {      _socket.send(event.data.data);    }  } else if (event.data.cmd === "stop") {    if (_socket !== null) {      _socket.close(event.data.code);      _socket = null;    }  }};'],{type:"application/javascript; charset=utf-8"}));this._workerSocket=new Worker(st);var ht=this;this._workerSocket.onmessage=function(vt){var It=vt.data,kt=It.callback,Ot=It.e,Pt=It.extensions;kt==="onOpen"?ht._onOpen(Pt):kt==="onClose"?ht._onClose(Ot):kt==="onError"?ht._onError(Ot):kt==="onMessage"&&ht._onMessage(vt.data)},this._workerSocket.postMessage({cmd:"start",id:this._id,url:yt})}else cr?ar?(Mr.connectSocket({url:yt,header:{"content-type":"application/json"}}),Mr.onSocketClose(this._onClose.bind(this)),Mr.onSocketOpen(this._onOpen.bind(this)),Mr.onSocketMessage(this._onMessage.bind(this)),Mr.onSocketError(this._onError.bind(this))):(this._socket=Mr.connectSocket({url:yt,header:{"content-type":"application/json"},complete:function(){}}),this._socket.onClose(this._onClose.bind(this)),this._socket.onOpen(this._onOpen.bind(this)),this._socket.onMessage(this._onMessage.bind(this)),this._socket.onError(this._onError.bind(this))):gr&&(this._socket=new WebSocket(yt),this._socket.binaryType="arraybuffer",this._socket.onopen=this._onOpen.bind(this,this._socket.extensions),this._socket.onmessage=this._onMessage.bind(this),this._socket.onclose=this._onClose.bind(this),this._socket.onerror=this._onError.bind(this));this._canIUseBinaryFrame=dt.canIUseBinaryFrame()}return lt(Gt,[{key:"getID",value:function(){return this._id}},{key:"_onOpen",value:function(dt){this._handler.onOpen({id:this._id,res:JSON.stringify(dt)})}},{key:"_onClose",value:function(dt){this._handler.onClose({id:this._id,e:dt})}},{key:"_onMessage",value:function(dt){var yt;yt=this._canIUseBinaryFrame?this._isAppCompressedData(dt.data)?this._handler.inflate(dt.data):function(st){for(var ht=new Uint8Array(st),vt="",It=0,kt=ht.length;It<kt;){var Ot=ht[It],Pt=0,qt=0;if(Ot<=127?(Pt=0,qt=255&Ot):Ot<=223?(Pt=1,qt=31&Ot):Ot<=239?(Pt=2,qt=15&Ot):Ot<=244&&(Pt=3,qt=7&Ot),kt-It-Pt>0)for(var Wt=0;Wt<Pt;)qt=qt<<6|63&(Ot=ht[It+Wt+1]),Wt+=1;else qt=65533,Pt=kt-It;vt+=String.fromCodePoint(qt),It+=Pt+1}return vt}(dt.data):dt.data,this._handler.onMessage({data:yt})}},{key:"_isAppCompressedData",value:function(dt){var yt=new Uint8Array(dt);return yt[0]===67&&yt[1]===79&&yt[2]===77&&yt[3]===80}},{key:"_onError",value:function(dt){this._handler.onError({id:this._id,e:dt})}},{key:"setIsWorkerEnabled",value:function(dt){this._isWorkerEnabled=!0}},{key:"close",value:function(dt){if(this._workerSocket&&(this._workerSocket.postMessage({cmd:"stop",code:dt}),this._workerSocket.terminate(),this._workerSocket=null),ar)return Mr.offSocketClose(),Mr.offSocketMessage(),Mr.offSocketOpen(),Mr.offSocketError(),void Mr.closeSocket();this._socket&&(cr?(this._socket.onClose(function(){}),this._socket.onOpen(function(){}),this._socket.onMessage(function(){}),this._socket.onError(function(){})):gr&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null),sr?this._socket.close({code:dt}):this._socket.close(dt),this._socket=null)}},{key:"send",value:function(dt){if(this._workerSocket)this._workerSocket.postMessage({cmd:"sendMessage",data:this._canIUseBinaryFrame?hv(dt.data).buffer:dt.data});else{if(ar)return void Mr.sendSocketMessage({data:dt.data,fail:function(){dt.fail&&dt.requestID&&dt.fail(dt.requestID)}});this._socket&&(cr?this._socket.send({data:this._canIUseBinaryFrame?hv(dt.data).buffer:dt.data,fail:function(){dt.fail&&dt.requestID&&dt.fail(dt.requestID)}}):gr&&this._socket.send(this._canIUseBinaryFrame?hv(dt.data):dt.data))}}}]),Gt}(),ny=4e3,F_=4001,_0=["keyMap"],By=["keyMap"],Im="connected",mv="connecting",m_="disconnected",v0=function(){function Gt(dt){it(this,Gt),this._channelModule=dt,this._n="SocketHandler",this._promiseMap=new Map,this._readyState=m_,this._simpleRequestMap=new Map,this.MAX_SIZE=100,this._startSequence=_c(),this._startTs=0,this._reConnectFlag=!1,this._nextPingTs=0,this._reConnectCount=0,this.MAX_RECONNECT_COUNT=3,this._socketID=-1,this._random=0,this._socket=null,this._url="",this._onOpenTs=0,this._canIUseBinaryFrame=!0,this._isWorkerEnabled=!0,this._setWebsocketHost(),this._initConnection()}return lt(Gt,[{key:"_setWebsocketHost",value:function(){var dt=this._channelModule.getModule(To),yt=Tn;this._channelModule.isOversea()&&(yt=Un),dt.isSingaporeSite()?yt=$n:dt.isKoreaSite()?yt=Vn:dt.isGermanySite()?yt=tr:dt.isIndiaSite()?yt=Jn:dt.isJapanSite()?yt=wr:dt.isUSASite()&&(yt=jr),Zt.HOST.setCurrent(yt)}},{key:"_initConnection",value:function(){vr(Zt.HOST.CURRENT.BACKUP)||this._url===""?this._url=Zt.HOST.CURRENT.DEFAULT:this._url===Zt.HOST.CURRENT.DEFAULT?this._url=Zt.HOST.CURRENT.BACKUP:this._url===Zt.HOST.CURRENT.BACKUP?this._url=this._canIUseAnyCast()?Zt.HOST.CURRENT.ANYCAST:Zt.HOST.CURRENT.DEFAULT:this._url===Zt.HOST.CURRENT.ANYCAST&&(Zt.HOST.CURRENT.ANYCAST="",this._url=Zt.HOST.CURRENT.DEFAULT);var dt=this._channelModule.getModule(To).getProxyServer();dr(dt)||(this._url=dt),this._connect(),this._nextPingTs=0}},{key:"_canIUseAnyCast",value:function(){return gr&&Zt.HOST.CURRENT.ANYCAST}},{key:"onCheckTimer",value:function(dt){dt%1==0&&this._checkPromiseMap()}},{key:"_checkPromiseMap",value:function(){var dt=this;this._promiseMap.size!==0&&this._promiseMap.forEach(function(yt,st){var ht=yt.reject,vt=yt.timestamp,It=15e3;st.indexOf(Ju)!==-1?It=9e4:st.indexOf(Up)!==-1&&(It=3e3),Date.now()-vt>=It&&(pn.l("".concat(dt._n,"._checkPromiseMap request timeout, delete requestID:").concat(st)),dt._promiseMap.delete(st),ht(new Cs({code:yr.NETWORK_TIMEOUT})),dt._channelModule.onRequestTimeout(st))})}},{key:"onOpen",value:function(dt){if(this._readyState!==""){this._onOpenTs=Date.now();var yt=dt.id,st=dt.res;this._socketID=yt;var ht=Date.now()-this._startTs,vt="socketID:".concat(yt," res:").concat(st);pn.l("".concat(this._n,"._onOpen cost:").concat(ht," ms. ").concat(vt)),new xr("wsOnOpen").setMessage(ht).setCostTime(ht).setMoreMessage(vt).end(),dt.id===this._socketID&&(this._readyState=Im,this._reConnectCount=0,this._resend(),this._reConnectFlag===!0&&(this._channelModule.onReconnected(),this._reConnectFlag=!1),this._channelModule.onOpen())}}},{key:"onClose",value:function(dt){var yt=new xr("wsOnClose"),st=dt.id,ht=dt.e,vt="sourceSocketID:".concat(st," currentSocketID:").concat(this._socketID," code:").concat(ht.code," reason:").concat(ht.reason),It=0;this._onOpenTs!==0&&(It=Date.now()-this._onOpenTs),yt.setMessage(It).setCostTime(It).setMoreMessage(vt).setCode(ht.code).end(),pn.l("".concat(this._n,"._onClose ").concat(vt," onlineTime:").concat(It)),st===this._socketID&&(this._readyState=m_,It<1e3?this._channelModule.onReconnectFailed():this._channelModule.onClose())}},{key:"onError",value:function(dt){var yt=dt.id,st=dt.e,ht="sourceSocketID:".concat(yt," currentSocketID:").concat(this._socketID);new xr("wsOnError").setMessage(st.errMsg||tp(st)).setMoreMessage(ht).setLevel("error").end(),pn.w("".concat(this._n,"._onError"),st,ht),yt===this._socketID&&(this._readyState="",this._channelModule.onError())}},{key:"onMessage",value:function(dt){var yt;try{yt=JSON.parse(dt.data)}catch{new xr("jsonParseError").setMessage(dt.data).end()}if(yt&&yt.head){var st=this._getRequestIDFromHead(yt.head),ht=yt.body;if(!this._isTRTCCommand(st)){var vt=Tu(yt.head);ht=fv(yt.body,this._getResponseKeyMap(vt))}if(pn.d("".concat(this._n,".onMessage ret:").concat(JSON.stringify(ht)," requestID:").concat(st," has:").concat(this._promiseMap.has(st))),this._setNextPingTs(),this._promiseMap.has(st)){var It=this._promiseMap.get(st),kt=It.resolve,Ot=It.reject,Pt=It.timestamp;return this._promiseMap.delete(st),this._calcRTT(Pt),void(ht.errorCode&&ht.errorCode!==0?(this._channelModule.onErrorCodeNotZero(ht),Ot(new Cs({code:ht.errorCode,message:ht.errorInfo||"",data:st.includes(hm)||st.includes(Ml)?{elements:ht.elements,messageVersion:ht.messageVersion,cloudCustomData:ht.cloudCustomData}:void 0}))):kt(go(ht)))}this._channelModule.onMessage({head:yt.head,body:ht})}}},{key:"_isTRTCCommand",value:function(dt){for(var yt=this._channelModule.getModule(Jp).getCommandList(),st=!1,ht=0;ht<yt.length;ht++)if(dt.startsWith(yt[ht])){st=!0;break}return st}},{key:"_calcRTT",value:function(dt){var yt=Date.now()-dt;this._channelModule.getModule($s).addRTT(yt)}},{key:"_connect",value:function(){this._startTs=Date.now(),this._onOpenTs=0,this._socket=new gv(this),this._socketID=this._socket.getID(),this._readyState=mv,pn.l("".concat(this._n,"._connect isWorkerEnabled:").concat(this.getIsWorkerEnabled()," socketID:").concat(this._socketID," url:").concat(this.getURL())),new xr("wsConnect").setMessage("socketID:".concat(this._socketID," url:").concat(this.getURL())).end()}},{key:"getURL",value:function(){this._channelModule.isDevMode()&&(this._canIUseBinaryFrame=!1);var dt=rs();(ar||qo&&dt==="windows"||Dr)&&(this._canIUseBinaryFrame=!1);var yt=-1;dt==="ios"?yt=Us||-1:dt==="android"&&(yt=xa||-1);var st=this._channelModule.getModule(To),ht=this._channelModule.getPlatform(),vt=st.getSDKAppID(),It=st.getInstanceID(),kt="sdkappid=".concat(vt,"&instanceid=").concat(It,"&random=").concat(this._getRandom(),"&platform=").concat(ht,"&host=").concat(dt)+"&version=".concat(yt,"&sdkversion=").concat("2.27.6");return _i&&(kt+="&isminigame=1"),this._channelModule.canIUseInflate()&&(kt+="&compress=gzip"),this._canIUseBinaryFrame?"".concat(this._url,"/binfo?").concat(kt):"".concat(this._url,"/info?").concat(kt)}},{key:"_closeConnection",value:function(dt){pn.l("".concat(this._n,"._closeConnection socketID:").concat(this._socketID)),this._socket&&(this._socket.close(dt),this._socketID=-1,this._socket=null,this._readyState=m_)}},{key:"_resend",value:function(){var dt=this;if(pn.l("".concat(this._n,"._resend reConnectFlag:").concat(this._reConnectFlag),"promiseMap.size:".concat(this._promiseMap.size," simpleRequestMap.size:").concat(this._simpleRequestMap.size)),this._promiseMap.size>0&&this._promiseMap.forEach(function(kt,Ot){var Pt=kt.uplinkData,qt=kt.resolve,Wt=kt.reject;dt._promiseMap.set(Ot,{resolve:qt,reject:Wt,timestamp:Date.now(),uplinkData:Pt}),dt._execute(Ot,Pt)}),this._simpleRequestMap.size>0){var yt,st=Cn(this._simpleRequestMap);try{for(st.s();!(yt=st.n()).done;){var ht=Ft(yt.value,2),vt=ht[0],It=ht[1];this._execute(vt,It)}}catch(kt){st.e(kt)}finally{st.f()}this._simpleRequestMap.clear()}}},{key:"send",value:function(dt){var yt=this;dt.head.seq=this._getSequence(),dt.head.reqtime=Math.floor(Date.now()/1e3),dt.keyMap;var st=Rt(dt,_0),ht=this._getRequestIDFromHead(dt.head),vt=JSON.stringify(st);return new Promise(function(It,kt){yt._promiseMap.set(ht,{resolve:It,reject:kt,timestamp:Date.now(),uplinkData:vt}),pn.d("".concat(yt._n,".send uplinkData:").concat(JSON.stringify(st)," requestID:").concat(ht," readyState:").concat(yt._readyState)),yt._readyState!==Im?yt._reConnect():(yt._execute(ht,vt),yt._channelModule.getModule($s).addRequestCount())})}},{key:"simplySend",value:function(dt){dt.head.seq=this._getSequence(),dt.head.reqtime=Math.floor(Date.now()/1e3),dt.keyMap;var yt=Rt(dt,By),st=this._getRequestIDFromHead(dt.head),ht=JSON.stringify(yt);this._readyState!==Im?(this._simpleRequestMap.size<this.MAX_SIZE?this._simpleRequestMap.set(st,ht):pn.l("".concat(this._n,".simplySend. simpleRequestMap is full, drop request!")),this._reConnect()):this._execute(st,ht)}},{key:"_execute",value:function(dt,yt){this._socket.send({data:yt,fail:cr?this._onSendFail.bind(this):void 0,requestID:dt})}},{key:"_onSendFail",value:function(dt){pn.l("".concat(this._n,"._onSendFail requestID:").concat(dt))}},{key:"_getSequence",value:function(){var dt;if(this._startSequence<2415919103)return dt=this._startSequence,this._startSequence+=1,this._startSequence===2415919103&&(this._startSequence=_c()),dt}},{key:"_getRequestIDFromHead",value:function(dt){return dt.servcmd+dt.seq}},{key:"_getResponseKeyMap",value:function(dt){var yt=this._channelModule.getKeyMap(dt);return rt(rt({},U_.response),yt.response)}},{key:"_reConnect",value:function(){this._readyState!==Im&&this._readyState!==mv&&this.forcedReconnect()}},{key:"forcedReconnect",value:function(){var dt=this,yt="".concat(this._n,".forcedReconnect");pn.l("".concat(yt," count:").concat(this._reConnectCount," readyState:").concat(this._readyState)),this._reConnectFlag=!0,this._resetRandom(),this._reConnectCount<this.MAX_RECONNECT_COUNT?(this._reConnectCount+=1,this._closeConnection(F_),this._initConnection()):(this._reConnectCount=0,this._channelModule.probeNetwork().then(function(st){var ht=Ft(st,2),vt=ht[0];ht[1],vt?(pn.w("".concat(yt," disconnected from wsserver but network is ok, continue...")),dt._closeConnection(F_),dt._initConnection()):dt._channelModule.onReconnectFailed()}))}},{key:"getReconnectFlag",value:function(){return this._reConnectFlag}},{key:"_setNextPingTs",value:function(){this._nextPingTs=Date.now()+1e4}},{key:"getNextPingTs",value:function(){return this._nextPingTs}},{key:"isConnected",value:function(){return this._readyState===Im}},{key:"canIUseBinaryFrame",value:function(){return this._canIUseBinaryFrame}},{key:"inflate",value:function(dt){if(this._channelModule.canIUseInflate())return this._channelModule.getModule(xl).inflate(dt)}},{key:"setIsWorkerEnabled",value:function(dt){pn.l("".concat(this._n,".setIsWorkerEnabled flag:").concat(dt)),this._isWorkerEnabled=dt}},{key:"getIsWorkerEnabled",value:function(){return this._isWorkerEnabled&&Js}},{key:"_getRandom",value:function(){return this._random===0&&(this._random=Math.random()),this._random}},{key:"_resetRandom",value:function(){this._random=0}},{key:"close",value:function(){pn.l("".concat(this._n,".close")),this._closeConnection(ny),this._promiseMap.clear(),this._startSequence=_c(),this._readyState=m_,this._simpleRequestMap.clear(),this._reConnectFlag=!1,this._reConnectCount=0,this._onOpenTs=0,this._url="",this._random=0,this._canIUseBinaryFrame=!0,this._isWorkerEnabled=!0}}]),Gt}(),qy=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;if(it(this,yt),(ht=dt.call(this,st))._n="ChannelModule",ht._socketHandler=new v0(Bt(ht)),ht._probing=!1,ht._isAppShowing=!0,ht._previousState=Ut.NET_STATE_CONNECTED,cr&&typeof Mr.onAppShow=="function"&&typeof Mr.onAppHide=="function"){var vt=ht._onAppHide.bind(Bt(ht)),It=ht._onAppShow.bind(Bt(ht));typeof Mr.offAppHide=="function"&&Mr.offAppHide(vt),typeof Mr.offAppShow=="function"&&Mr.offAppShow(It),Mr.onAppHide(vt),Mr.onAppShow(It)}return ht._timerForNotLoggedIn=-1,ht._timerForNotLoggedIn=setInterval(ht.onCheckTimer.bind(Bt(ht)),1e3),ht._fatalErrorFlag=!1,ht}return lt(yt,[{key:"onCheckTimer",value:function(st){this._socketHandler&&(this.isLoggedIn()?(this._timerForNotLoggedIn>0&&(clearInterval(this._timerForNotLoggedIn),this._timerForNotLoggedIn=-1),this._socketHandler.onCheckTimer(st)):this._socketHandler.onCheckTimer(1),this._checkNextPing())}},{key:"onErrorCodeNotZero",value:function(st){this.getModule(au).onErrorCodeNotZero(st)}},{key:"onMessage",value:function(st){this.getModule(au).onMessage(st)}},{key:"send",value:function(st){return this._socketHandler?this._previousState!==Ut.NET_STATE_CONNECTED&&st.head.servcmd.includes(b_)?(this.reConnect(),this._sendLogViaHTTP(st)):this._socketHandler.send(st):Promise.reject()}},{key:"_sendLogViaHTTP",value:function(st){var ht=Zt.HOST.CURRENT.STAT;return new Promise(function(vt,It){var kt="".concat(ht,"/v4/imopenstat/tim_web_report_v2?sdkappid=").concat(st.head.sdkappid,"&reqtime=").concat(Date.now()),Ot=JSON.stringify(st.body),Pt="application/x-www-form-urlencoded;charset=UTF-8";if(cr)Mr.request({url:kt,data:Ot,method:"POST",timeout:3e3,header:{"content-type":Pt},success:function(){vt()},fail:function(){It(new Cs({code:yr.NETWORK_ERROR}))}});else{var qt=new XMLHttpRequest,Wt=setTimeout(function(){qt.abort(),It(new Cs({code:yr.NETWORK_TIMEOUT}))},3e3);qt.onreadystatechange=function(){qt.readyState===4&&(clearTimeout(Wt),qt.status===200||qt.status===304?vt():It(new Cs({code:yr.NETWORK_ERROR})))},qt.open("POST",kt,!0),qt.setRequestHeader("Content-type",Pt),qt.send(Ot)}})}},{key:"simplySend",value:function(st){return this._socketHandler?this._socketHandler.simplySend(st):Promise.reject()}},{key:"onOpen",value:function(){this._ping()}},{key:"onClose",value:function(){this._socketHandler&&this._socketHandler.getReconnectFlag()&&this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED),this.reConnect()}},{key:"onError",value:function(){cr&&!Dr&&this.outputWarning("DomainNameInMP"),this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)}},{key:"getKeyMap",value:function(st){return this.getModule(au).getKeyMap(st)}},{key:"_onAppHide",value:function(){this._isAppShowing=!1}},{key:"_onAppShow",value:function(){this._isAppShowing=!0}},{key:"onRequestTimeout",value:function(st){}},{key:"onReconnected",value:function(){pn.l("".concat(this._n,".onReconnected")),this._m.restartTimer(),this.getModule(au).onReconnected(),this._emitNetStateChangeEvent(Ut.NET_STATE_CONNECTED)}},{key:"onReconnectFailed",value:function(){pn.l("".concat(this._n,".onReconnectFailed")),this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)}},{key:"setIsWorkerEnabled",value:function(st){this._socketHandler&&this._socketHandler.setIsWorkerEnabled(!1)}},{key:"offline",value:function(){this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)}},{key:"reConnect",value:function(){var st=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ht=!1;this._socketHandler&&(ht=this._socketHandler.getReconnectFlag());var vt="forcedFlag:".concat(st," fatalErrorFlag:").concat(this._fatalErrorFlag," previousState:").concat(this._previousState," reconnectFlag:").concat(ht);if(pn.l("".concat(this._n,".reConnect ").concat(vt)),!this._fatalErrorFlag&&this._socketHandler){if(st===!0)this._socketHandler.forcedReconnect();else{if(this._previousState===Ut.NET_STATE_CONNECTING&&ht)return;this._socketHandler.forcedReconnect()}this._emitNetStateChangeEvent(Ut.NET_STATE_CONNECTING)}}},{key:"_emitNetStateChangeEvent",value:function(st){this._previousState!==st&&(pn.l("".concat(this._n,"._emitNetStateChangeEvent from ").concat(this._previousState," to ").concat(st)),this._previousState=st,this.emitOuterEvent(yn.NET_STATE_CHANGE,{state:st}))}},{key:"_ping",value:function(){var st=this;if(this._probing!==!0){this._probing=!0;var ht=this.getModule(au).getProtocolData({protocolName:Up});this.send(ht).then(function(){st._probing=!1}).catch(function(vt){if(pn.w("".concat(st._n,"._ping failed. error:"),vt),st._probing=!1,vt&&vt.code===60002)return new xr("error").setMessage("code:".concat(vt.code," message:").concat(vt.message)).setNetworkType(st.getModule(Rs).getNetworkType()).end(),st._fatalErrorFlag=!0,void st._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED);st.probeNetwork().then(function(It){var kt=Ft(It,2),Ot=kt[0],Pt=kt[1];pn.l("".concat(st._n,"._ping failed. probe network, isAppShowing:").concat(st._isAppShowing," online:").concat(Ot," networkType:").concat(Pt)),Ot?st.reConnect():st._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)})})}}},{key:"_checkNextPing",value:function(){this._socketHandler&&this._socketHandler.isConnected()&&Date.now()>=this._socketHandler.getNextPingTs()&&this._ping()}},{key:"canIUseInflate",value:function(){return this._m.canIUseInflate()}},{key:"dealloc",value:function(){this._socketHandler&&(this._socketHandler.close(),this._socketHandler=null),this._timerForNotLoggedIn>-1&&clearInterval(this._timerForNotLoggedIn)}},{key:"onRestApiKickedOut",value:function(){this._socketHandler&&(this._socketHandler.close(),this.reConnect(!0))}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._previousState=Ut.NET_STATE_CONNECTED,this._probing=!1,this._fatalErrorFlag=!1,this._timerForNotLoggedIn=setInterval(this.onCheckTimer.bind(this),1e3)}}]),yt}(Os),om=["a2","tinyid"],Vy=["a2","tinyid"],j_=function(){function Gt(dt){it(this,Gt),this._n="ProtocolHandler",this._sessionModule=dt,this._configMap=new Map,this._fillConfigMap()}return lt(Gt,[{key:"_fillConfigMap",value:function(){this._configMap.clear();var dt=this._sessionModule.genCommonHead(),yt=this._sessionModule.genCosSpecifiedHead(),st=this._sessionModule.genSSOReportHead(),ht=this._sessionModule.isIntl();this._configMap.set(Ju,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.LOGIN)}),body:{state:"Online",isWebUniapp:0,deviceBrand:0},keyMap:{request:{deviceBrand:"InstType"},response:{InstId:"instanceID",HelloInterval:"helloInterval"}}}}(dt)),this._configMap.set(n_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.LOGOUT)}),body:{type:0},keyMap:{request:{type:"wslogout_type"}}}}(dt)),this._configMap.set(v_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.HELLO)}),body:{isWebUniapp:0},keyMap:{response:{NewInstInfo:"newInstanceInfo"}}}}(dt)),this._configMap.set(Xp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.STAT_SERVICE,".").concat(Zt.CMD.KICK_OTHER)}),body:{}}}(dt)),this._configMap.set(ms,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_COS_SIGN,".").concat(Zt.CMD.COS_SIGN)}),body:{cmd:"open_im_cos_svc",subCmd:"get_cos_token",duration:300,version:2},keyMap:{request:{userSig:"usersig",subCmd:"sub_cmd",cmd:"cmd",duration:"duration",version:"version"},response:{expired_time:"expiredTime",bucket_name:"bucketName",session_token:"sessionToken",tmp_secret_id:"secretId",tmp_secret_key:"secretKey"}}}}(yt)),this._configMap.set(Q_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.CUSTOM_UPLOAD,".").concat(Zt.CMD.COS_PRE_SIG)}),body:{fileType:void 0,fileName:void 0,uploadMethod:0,duration:900},keyMap:{request:{userSig:"usersig",fileType:"file_type",fileName:"file_name",uploadMethod:"upload_method"},response:{expired_time:"expiredTime",request_id:"requestId",head_url:"headUrl",upload_url:"uploadUrl",download_url:"downloadUrl",ci_url:"ciUrl",snapshot_url:"requestSnapshotUrl"}}}}(yt)),this._configMap.set(Dv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.CUSTOM_UPLOAD,".").concat(Zt.CMD.VIDEO_COVER)}),body:{version:1,platform:void 0,coverName:void 0,requestSnapshotUrl:void 0},keyMap:{request:{version:"version",platform:"platform",coverName:"cover_name",requestSnapshotUrl:"snapshot_url"},response:{error_code:"errorCode",error_msg:"errorInfo",download_url:"snapshotUrl"}}}}(yt)),this._configMap.set(Nv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.FETCH_COMMERCIAL_CONFIG)}),body:{SDKAppID:0},keyMap:{request:{SDKAppID:"uint32_sdkappid"},response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_purchase_bits:"purchaseBits",uint32_expired_time:"expiredTime"}}}}(dt)),this._configMap.set(My,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.PUSHED_COMMERCIAL_CONFIG)}),body:{},keyMap:{response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_purchase_bits:"purchaseBits",uint32_expired_time:"expiredTime"}}}}(dt)),this._configMap.set(Lv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.FETCH_CLOUD_CONTROL_CONFIG)}),body:{SDKAppID:0,version:0},keyMap:{request:{SDKAppID:"uint32_sdkappid",version:"uint64_version"},response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_json_config:"cloudControlConfig",uint32_expired_time:"expiredTime",uint32_sdkappid:"SDKAppID",uint64_version:"version"}}}}(dt)),this._configMap.set(yy,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.PUSHED_CLOUD_CONTROL_CONFIG)}),body:{},keyMap:{response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_json_config:"cloudControlConfig",uint32_expired_time:"expiredTime",uint32_sdkappid:"SDKAppID",uint64_version:"version"}}}}(dt)),this._configMap.set(Ey,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OVERLOAD_PUSH,".").concat(Zt.CMD.OVERLOAD_NOTIFY)}),body:{},keyMap:{response:{OverLoadServCmd:"overloadCommand",DelaySecs:"waitingTime"}}}}(dt)),this._configMap.set(Uu,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_MESSAGES)}),body:{cookie:"",syncFlag:0,needAbstract:1,isOnlineSync:0,needSignaling:1},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",from:"From_Account",to:"To_Account",time:"MsgTimeStamp",sequence:"MsgSeq",random:"MsgRandom",elements:"MsgBody"},response:{MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",ClientSeq:"clientSequence",MsgSeq:"sequence",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",ToGroupId:"to",MsgKey:"messageKey",GroupTips:"groupTips",MsgBody:"elements",MsgType:"type",C2CRemainingUnreadCount:"C2CRemainingUnreadList",C2CPairUnreadCount:"C2CPairUnreadList"}}}}(dt)),ht||(this._configMap.set(Ys,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.BIG_DATA_HALLWAY_AUTH_KEY)}),body:{}}}(dt)),this._configMap.set(tv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_MSG_AUDIT_MGR,".").concat(Zt.CMD.GET_RPOFANITY_LIST)}),body:{version:0,deviceID:"",startIndex:void 0},keyMap:{request:{version:"uint64_version",deviceID:"str_device_id",startIndex:"uint64_start_index"},response:{msg_cmd_error_code:"errorInfo",str_err_msg:"errorMessage",uint32_code:"errorCode",msg_scene_ctl_config:"filterConfig",uint64_c2c_custom_msg_flag:"c2c_custom_message",uint64_c2c_text_msg_flag:"c2c_text_message",uint64_group_custom_msg_flag:"group_custom_message",uint64_group_text_msg_flag:"group_text_message",uint64_group_info_flag:"group_profile",uint64_group_member_info_flag:"group_member_profile",uint64_relation_chain_flag:"sns",uint64_user_info_flag:"user_profile",rpt_msg_dirty_word:"lexicon",str_dirty_word:"profanity",str_replaced_content:"replacement",uint64_filter_type:"filterType",uint64_id:"id",uint64_word_type:"profanityType",uint64_complete_flag:"completeFlag",uint64_next_start_index:"nextStartIndex",uint64_version:"version",uint64_expired_time:"expiredTime"}}}}(dt))),this._configMap.set(Ul,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SEND_MESSAGE)}),body:{fromAccount:"",toAccount:"",msgSeq:0,msgRandom:0,msgBody:[],cloudCustomData:void 0,nick:"",avatar:"",msgLifeTime:void 0,offlinePushInfo:{pushFlag:0,title:"",desc:"",ext:"",apnsInfo:{badgeMode:0,isVoipPush:void 0},androidInfo:{OPPOChannelID:""}},messageControlInfo:void 0,clientTime:void 0,needReadReceipt:0,isSupportExtension:0},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",count:"MaxCnt",lastMessageTime:"LastMsgTime",messageKey:"MsgKey",peerAccount:"Peer_Account",data:"Data",description:"Desc",extension:"Ext",type:"MsgType",content:"MsgContent",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",nick:"From_AccountNick",avatar:"From_AccountHeadurl",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",elements:"MsgBody",clientSequence:"ClientSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody",needReadReceipt:"IsNeedReadReceipt"}}}}(dt)),this._configMap.set(Rm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEND_GROUP_MESSAGE)}),body:{fromAccount:"",groupID:"",random:0,clientSequence:0,priority:"",msgBody:[],cloudCustomData:void 0,onlineOnlyFlag:0,offlinePushInfo:{pushFlag:0,title:"",desc:"",ext:"",apnsInfo:{badgeMode:0,isVoipPush:void 0},androidInfo:{OPPOChannelID:""}},groupAtInfo:[],messageControlInfo:void 0,clientTime:void 0,needReadReceipt:0,topicID:void 0,receiverList:void 0,isSupportExtension:0},keyMap:{request:{to:"GroupId",extension:"Ext",data:"Data",description:"Desc",random:"Random",sequence:"ReqMsgSeq",count:"ReqMsgNumber",type:"MsgType",priority:"MsgPriority",content:"MsgContent",elements:"MsgBody",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",clientSequence:"ClientSeq",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody",needReadReceipt:"NeedReadReceipt",receiverList:"To_Account"},response:{MsgTime:"time",MsgSeq:"sequence"}}}}(dt)),this._configMap.set(Nr,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.REVOKE_C2C_MESSAGE)}),body:{msgInfo:{fromAccount:"",toAccount:"",msgTimeStamp:0,msgSeq:0,msgRandom:0}},keyMap:{request:{msgInfo:"MsgInfo",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom"}}}}(dt)),this._configMap.set(Hn,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.REVOKE_GROUP_MESSAGE)}),body:{groupID:"",msgSeqList:void 0,topicID:""},keyMap:{request:{msgSeqList:"MsgSeqList",msgSeq:"MsgSeq"}}}}(dt)),this._configMap.set(_s,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_C2C_ROAM_MESSAGES)}),body:{peerAccount:"",count:15,lastMessageTime:0,messageKey:"",withRecalledMessage:1,direction:0},keyMap:{request:{messageKey:"MsgKey",peerAccount:"Peer_Account",count:"MaxCnt",lastMessageTime:"LastMsgTime",withRecalledMessage:"WithRecalledMsg",direction:"GetDirection"},response:{LastMsgTime:"lastMessageTime",IsNeedReadReceipt:"needReadReceipt",IsPeerRead:"readReceiptSentByPeer"}}}}(dt)),this._configMap.set(hm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.MODIFY_C2C_MESSAGE)}),body:{from:"",to:"",sequence:0,random:0,time:0,version:0,elements:void 0,cloudCustomData:void 0},keyMap:{request:{sequence:"MsgSeq",random:"MsgRandom",time:"MsgTime",version:"MsgVersion",type:"MsgType",content:"MsgContent"}}}}(dt)),this._configMap.set(Lr,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_ROAM_MESSAGES)}),body:{withRecalledMsg:1,groupID:"",count:15,sequence:"",topicID:void 0},keyMap:{request:{sequence:"ReqMsgSeq",count:"ReqMsgNumber",withRecalledMessage:"WithRecalledMsg"},response:{Random:"random",MsgTime:"time",MsgSeq:"sequence",ReqMsgSeq:"sequence",RspMsgList:"messageList",IsPlaceMsg:"isPlaceMessage",IsSystemMsg:"isSystemMessage",ToGroupId:"to",EnumFrom_AccountType:"fromAccountType",EnumTo_AccountType:"toAccountType",GroupCode:"groupCode",MsgPriority:"priority",MsgBody:"elements",MsgType:"type",MsgContent:"content",IsFinished:"complete",Download_Flag:"downloadFlag",ClientSeq:"clientSequence",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID",ToTopicId:"topicID",InvisibleMsgSeq:"invisibleSequenceList"}}}}(dt)),this._configMap.set(Rr,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SET_C2C_MESSAGE_READ)}),body:{C2CMsgReaded:void 0},keyMap:{request:{lastMessageTime:"LastedMsgTime"}}}}(dt)),this._configMap.set(Co,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SET_C2C_PEER_MUTE_NOTIFICATIONS)}),body:{userIDList:void 0,muteFlag:0},keyMap:{request:{userIDList:"Peer_Account",muteFlag:"Mute_Notifications"}}}}(dt)),this._configMap.set(_a,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_C2C_PEER_MUTE_NOTIFICATIONS)}),body:{updateSequence:0},keyMap:{response:{MuteNotificationsList:"muteFlagList"}}}}(dt)),this._configMap.set(zn,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SET_GROUP_MESSAGE_READ)}),body:{groupID:void 0,messageReadSeq:void 0,topicID:void 0},keyMap:{request:{messageReadSeq:"MsgReadedSeq"}}}}(dt)),this._configMap.set(Cr,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SET_ALL_MESSAGE_READ)}),body:{readAllC2CMessage:0,groupMessageReadInfoList:[]},keyMap:{request:{readAllC2CMessage:"C2CReadAllMsg",groupMessageReadInfoList:"GroupReadInfo",messageSequence:"MsgSeq"},response:{C2CReadAllMsg:"readAllC2CMessage",GroupReadInfoArray:"groupMessageReadInfoList"}}}}(dt)),this._configMap.set(bs,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.DELETE_C2C_MESSAGE)}),body:{fromAccount:"",to:"",keyList:void 0},keyMap:{request:{keyList:"MsgKeyList"}}}}(dt)),this._configMap.set(Is,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DELETE_GROUP_MESSAGE)}),body:{groupID:"",deleter:"",keyList:void 0,topicID:void 0},keyMap:{request:{deleter:"Deleter_Account",keyList:"Seqs"}}}}(dt)),this._configMap.set(by,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_TRANSLATE,".").concat(Zt.CMD.TRANSLATE_TEXT)}),body:{sourceTextList:void 0,SDKAppID:0,from:0,source:"",target:""},keyMap:{request:{sourceTextList:"SourceText",SDKAppID:"SdkAppId",from:"FromAccount"},response:{TargetText:"translatedTextList",RequestId:"requestID",CmdErrorCode:"error",ErrorCode:"code",ErrorInfo:"message"}}}}(dt)),this._configMap.set(Ml,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.MODIFY_GROUP_MESSAGE)}),body:{groupID:"",topicID:void 0,sequence:0,version:0,elements:void 0,cloudCustomData:void 0},keyMap:{request:{sequence:"MsgSeq",version:"MsgVersion",type:"MsgType",content:"MsgContent"}}}}(dt)),this._configMap.set(ho,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_READ_RECEIPT)}),body:{groupID:"",sequenceList:void 0},keyMap:{request:{sequence:"MsgSeq"}}}}(dt)),this._configMap.set(xo,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SEND_C2C_READ_RECEIPT)}),body:{peerAccount:"",messageInfoList:void 0},keyMap:{request:{peerAccount:"Peer_Account",messageInfoList:"C2CMsgInfo",fromAccount:"From_Account",toAccount:"To_Account",sequence:"MsgSeq",random:"MsgRandom",time:"MsgTime",clientTime:"MsgClientTime"}}}}(dt)),this._configMap.set(Eo,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEND_READ_RECEIPT)}),body:{groupID:"",sequenceList:void 0},keyMap:{request:{sequenceList:"MsgSeqList",sequence:"MsgSeq"}}}}(dt)),this._configMap.set(ro,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_READ_RECEIPT_DETAIL)}),body:{groupID:"",sequence:void 0,flag:0,cursor:0,count:0},keyMap:{request:{sequence:"MsgSeq",count:"Num"},response:{ReadList:"readUserIDList",Read_Account:"userID",UnreadList:"unreadUserIDList",Unread_Account:"userID",IsFinish:"isCompleted"}}}}(dt)),this._configMap.set(M_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.MODIFY_C2C_MESSAGE_EXTENSIONS)}),body:{from:void 0,to:void 0,messageKey:void 0,operateType:void 0,extensionList:void 0}}}(dt)),this._configMap.set(wl,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.GET_C2C_MESSAGE_EXTENSIONS)}),body:{from:void 0,to:void 0,messageKey:void 0,startSequence:void 0}}}(dt)),this._configMap.set(Qp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.MODIFY_GROUP_MESSAGE_EXTENSIONS)}),body:{groupID:void 0,topicID:void 0,messageSequence:void 0,operateType:void 0,extensionList:void 0}}}(dt)),this._configMap.set(X_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.GET_GROUP_MESSAGE_EXTENSIONS)}),body:{groupID:void 0,topicID:void 0,messageSequence:void 0,startSequence:void 0}}}(dt)),this._configMap.set(bu,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_PEER_READ_TIME)}),body:{userIDList:void 0},keyMap:{request:{userIDList:"To_Account"},response:{ReadTime:"peerReadTimeList"}}}}(dt)),this._configMap.set(J_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.GET_CONVERSATION_LIST)}),body:{fromAccount:void 0,count:0},keyMap:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq",C2cPeerReadTime:"c2cPeerReadTime"}}}}(dt)),this._configMap.set(hp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.PAGING_GET_CONVERSATION_LIST)}),body:{fromAccount:void 0,timeStamp:void 0,startIndex:void 0,pinnedTimeStamp:void 0,pinnedStartIndex:void 0,orderType:void 0,messageAssistFlag:4,assistFlag:15},keyMap:{request:{messageAssistFlag:"MsgAssistFlags",assistFlag:"AssistFlags",pinnedTimeStamp:"TopTimeStamp",pinnedStartIndex:"TopStartIndex"},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq",C2cPeerReadTime:"c2cPeerReadTime",LastMsgFlags:"lastMessageFlag",TopFlags:"isPinned",TopTimeStamp:"pinnedTimeStamp",TopStartIndex:"pinnedStartIndex",GroupId:"convGroupID"}}}}(dt)),this._configMap.set(Tp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.DELETE_CONVERSATION)}),body:{fromAccount:"",conversationList:void 0,clearHistoryMessage:void 0},keyMap:{request:{toGroupID:"ToGroupid",clearHistoryMessage:"ClearRamble",conversationList:"ContactItem"},response:{ResultItem:"resultList",ToGroupid:"groupID",ResultCode:"code",ResultInfo:"info"}}}}(dt)),this._configMap.set(gm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.CLEAR_HISTORY_MESSAGE)}),body:{fromAccount:"",toAccount:void 0,type:1,toGroupID:void 0},keyMap:{request:{toGroupID:"ToGroupid"}}}}(dt)),this._configMap.set(gp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.PIN_CONVERSATION)}),body:{fromAccount:"",operationType:1,itemList:void 0},keyMap:{request:{itemList:"RecentContactItem"}}}}(dt)),this._configMap.set(Ls,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.DELETE_GROUP_AT_TIPS)}),body:{messageListToDelete:void 0},keyMap:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}}}(dt)),this._configMap.set(E_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.MARK_CONVERSATION)}),body:{fromAccount:"",itemList:void 0},keyMap:{request:{itemList:"MarkItem",operationType:"OptType",groupID:"ToGroupId"},response:{ToGroupId:"groupID",OptType:"operationType"}}}}(dt)),this._configMap.set(r_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.MARK_CONVERSATION)}),body:{fromAccount:"",itemList:void 0},keyMap:{request:{itemList:"MarkItem",operationType:"OptType",groupID:"ToGroupId"},response:{ToGroupId:"groupID",OptType:"operationType"}}}}(dt)),this._configMap.set(mm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.CREATE_CONVERSATION_GROUP)}),body:{fromAccount:"",itemList:void 0},keyMap:{request:{itemList:"GroupContactItem",groupID:"ToGroupId"},response:{GroupId:"convGroupID",ToGroupId:"groupID",OptType:"operationType"}}}}(dt)),this._configMap.set(Lm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.DELETE_CONVERSATION_GROUP)}),body:{fromAccount:"",groupName:void 0},keyMap:{request:{},response:{GroupId:"convGroupID"}}}}(dt)),this._configMap.set(Zp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.UPDATE_CONVERSATION_GROUP)}),body:{fromAccount:"",updateType:void 0,updateGroup:void 0},keyMap:{request:{oldName:"OldGroupName",newName:"NewGroupName",groupID:"ToGroupId",operationType:"ContactOptType",groupName:"OldGroupName",updateItem:"ContactUpdateItem"},response:{ContactOptType:"operationType",ToGroupId:"groupID",GroupId:"convGroupID"}}}}(dt)),this._configMap.set(o_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.UPDATE_CONVERSATION_GROUP)}),body:{fromAccount:"",updateType:void 0,updateGroup:{groupName:void 0,updateGroupType:void 0,updateItem:void 0}},keyMap:{request:{},response:{}}}}(dt)),this._configMap.set(_m,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.UPDATE_CONVERSATION_GROUP)}),body:{fromAccount:"",updateType:void 0,updateGroup:void 0},keyMap:{request:{},response:{}}}}(dt)),this._configMap.set(ip,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.GET_CONVERSATION_GROUP_LIST)}),body:{fromAccount:"",startTime:void 0,startIndex:void 0},keyMap:{request:{},response:{GroupId:"convGroupID",ToGroupId:"groupID",OptType:"operationType",CustomMark:"customData",ContactGroupId:"convGroupIDList"}}}}(dt)),this._configMap.set(Om,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.PROFILE,".").concat(Zt.CMD.PORTRAIT_GET)}),body:{fromAccount:"",userItem:[]},keyMap:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}}}(dt)),this._configMap.set(Y_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.PROFILE,".").concat(Zt.CMD.PORTRAIT_SET)}),body:{fromAccount:"",profileItem:[{tag:xs.NICK,value:""},{tag:xs.GENDER,value:""},{tag:xs.ALLOWTYPE,value:""},{tag:xs.AVATAR,value:""}]},keyMap:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}}}(dt)),this._configMap.set(y_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.GET_BLACKLIST)}),body:{fromAccount:"",startIndex:0,maxLimited:30,lastSequence:0},keyMap:{response:{CurruentSequence:"currentSequence"}}}}(dt)),this._configMap.set(Kl,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.ADD_BLACKLIST)}),body:{fromAccount:"",toAccount:[]}}}(dt)),this._configMap.set(_r,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.DELETE_BLACKLIST)}),body:{fromAccount:"",toAccount:[]}}}(dt)),this._configMap.set($v,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.SET_SELF_STATUS)}),body:{customStatus:""},keyMap:{}}}(dt)),this._configMap.set(Fv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.GET_USER_STATUS)}),body:{userIDList:void 0},keyMap:{response:{UserStatusList:"successUserList",ErrorList:"failureUserList",To_Account:"userID",Invalid_Account:"invalidUserID",Status:"statusType"}}}}(dt)),this._configMap.set(_f,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.SUBSCRIBE_USER_STATUS)}),body:{userIDList:void 0},keyMap:{response:{ErrorList:"failureUserList",To_Account:"userID",Invalid_Account:"invalidUserID"}}}}(dt)),this._configMap.set(S_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.UNSUBSCRIBE_USER_STATUS)}),body:{userIDList:void 0,unsubscribeAll:void 0},keyMap:{response:{ErrorList:"failureUserList",To_Account:"userID",Invalid_Account:"invalidUserID"}}}}(dt)),this._configMap.set(mp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_JOINED_GROUPS)}),body:{memberAccount:"",limit:void 0,offset:void 0,groupType:void 0,responseFilter:{groupBaseInfoFilter:void 0,selfInfoFilter:void 0},isSupportTopic:0},keyMap:{request:{memberAccount:"Member_Account"},response:{GroupIdList:"groups",NoUnreadSeqList:"excludedUnreadSequenceList",MsgSeq:"readedSequence",LastRecallTime:"_lastRevokedTime"}}}}(dt)),this._configMap.set(Nm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_INFO)}),body:{groupIDList:void 0,responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq","ShutUpAllMember"],groupCustomFieldFilter:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0}},keyMap:{request:{groupIDList:"GroupIdList",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",groupCustomFieldFilter:"AppDefinedDataFilter_Group",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{GroupIdList:"groups",AppDefinedData:"groupCustomField",AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_Group:"groupCustomFieldFilter",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",InfoSeq:"infoSequence",MemberList:"members",GroupInfo:"groups",ShutUpUntil:"muteUntil",ShutUpAllMember:"muteAllMembers"}}}}(dt)),this._configMap.set(ap,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.CREATE_GROUP)}),body:{type:void 0,name:void 0,groupID:void 0,ownerID:void 0,introduction:void 0,notification:void 0,maxMemberNum:void 0,joinOption:void 0,memberList:void 0,groupCustomField:void 0,memberCustomField:void 0,webPushFlag:1,avatar:"",isSupportTopic:void 0,inviteOption:void 0},keyMap:{request:{ownerID:"Owner_Account",userID:"Member_Account",avatar:"FaceUrl",maxMemberNum:"MaxMemberCount",joinOption:"ApplyJoinOption",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",inviteOption:"InviteJoinOption"},response:{HugeGroupFlag:"avChatRoomFlag",OverJoinedGroupLimit_Account:"overLimitUserIDList"}}}}(dt)),this._configMap.set(Pm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DESTROY_GROUP)}),body:{groupID:void 0}}}(dt)),this._configMap.set(i_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.MODIFY_GROUP_INFO)}),body:{groupID:void 0,name:void 0,introduction:void 0,notification:void 0,avatar:void 0,joinOption:void 0,groupCustomField:void 0,muteAllMembers:void 0,inviteOption:void 0},keyMap:{request:{groupCustomField:"AppDefinedData",muteAllMembers:"ShutUpAllMember",joinOption:"ApplyJoinOption",avatar:"FaceUrl",inviteOption:"InviteJoinOption"},response:{AppDefinedData:"groupCustomField",ShutUpAllMember:"muteAllMembers"}}}}(dt)),this._configMap.set(vm,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.APPLY_JOIN_GROUP)}),body:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0,webPushFlag:1,historyMessageFlag:void 0},keyMap:{request:{applyMessage:"ApplyMsg",historyMessageFlag:"HugeGroupHistoryMsgFlag"},response:{HugeGroupFlag:"avChatRoomFlag",AVChatRoomKey:"avChatRoomKey",RspMsgList:"messageList",ToGroupId:"to"}}}}(dt)),this._configMap.set(Xt,function(vt){return vt.a2,vt.tinyid,{head:rt(rt({},Rt(vt,om)),{},{servcmd:"".concat(Zt.NAME.BIG_GROUP_NO_AUTH,".").concat(Zt.CMD.APPLY_JOIN_GROUP)}),body:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0,webPushFlag:1},keyMap:{request:{applyMessage:"ApplyMsg"},response:{HugeGroupFlag:"avChatRoomFlag"}}}}(dt)),this._configMap.set(dn,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.QUIT_GROUP)}),body:{groupID:void 0}}}(dt)),this._configMap.set(In,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEARCH_GROUP_BY_ID)}),body:{groupIDList:void 0,responseFilter:{groupBasePublicInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption","InviteJoinOption"]}},keyMap:{response:{}}}}(dt)),this._configMap.set(Yt,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.CHANGE_GROUP_OWNER)}),body:{groupID:void 0,newOwnerID:void 0},keyMap:{request:{newOwnerID:"NewOwner_Account"}}}}(dt)),this._configMap.set(gn,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.HANDLE_APPLY_JOIN_GROUP)}),body:{groupID:void 0,applicant:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMap:{request:{applicant:"Applicant_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"}}}}(dt)),this._configMap.set(An,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.HANDLE_INVITE_JOIN_GROUP)}),body:{groupID:void 0,applicant:void 0,invitee:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,userDefinedField:void 0},keyMap:{request:{applicant:"Applicant_Account",invitee:"Invited_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg"}}}}(dt)),this._configMap.set(Dn,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.HANDLE_GROUP_INVITATION)}),body:{groupID:void 0,inviter:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMap:{request:{inviter:"Inviter_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"}}}}(dt)),this._configMap.set(Qr,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_APPLICATION)}),body:{startTime:void 0,limit:void 0,handleAccount:void 0},keyMap:{request:{handleAccount:"Handle_Account"},response:{To_Account:"userID"}}}}(dt)),this._configMap.set(Lo,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.DELETE_GROUP_SYSTEM_MESSAGE)}),body:{messageListToDelete:void 0},keyMap:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}}}(dt)),this._configMap.set(Jo,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.BIG_GROUP_LONG_POLLING,".").concat(Zt.CMD.AVCHATROOM_LONG_POLL)}),body:{USP:1,startSeq:1,startBroadcastSeq:void 0,holdTime:90,key:void 0,simplifiedMessage:void 0},keyMap:{request:{USP:"USP"},response:{ToGroupId:"groupID",RspBroadcastMsgList:"broadcastMessageList",IsSystemMsg:"isSystemMessage"}}}}(dt)),this._configMap.set(vu,function(vt){return vt.a2,vt.tinyid,{head:rt(rt({},Rt(vt,Vy)),{},{servcmd:"".concat(Zt.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH,".").concat(Zt.CMD.AVCHATROOM_LONG_POLL)}),body:{USP:1,startSeq:1,holdTime:90,key:void 0,simplifiedMessage:void 0},keyMap:{request:{USP:"USP"},response:{ToGroupId:"groupID",RspBroadcastMsgList:"broadcastMessageList",IsSystemMsg:"isSystemMessage"}}}}(dt)),this._configMap.set(fu,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_ONLINE_MEMBER_NUM)}),body:{groupID:void 0}}}(dt)),this._configMap.set(sp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SET_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key",value:"value"}}}}(dt)),this._configMap.set(Gl,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.MODIFY_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key",value:"value"}}}}(dt)),this._configMap.set(cp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DELETE_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key"}}}}(dt)),this._configMap.set(Pp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.CLEAR_GROUP_ATTRIBUTES)}),body:{groupID:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]}}}(dt)),this._configMap.set(a_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_ATTR,".").concat(Zt.CMD.GET_GROUP_ATTRIBUTES)}),body:{groupID:void 0,avChatRoomKey:void 0,groupType:1},keyMap:{request:{avChatRoomKey:"Key",groupType:"GroupType"}}}}(dt)),this._configMap.set(Tv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_NOTIFY)}),body:{notifyType:1,groupID:"",beginTime:0,endTime:0,limit:20},keyMap:{request:{},response:{NextMsgTime:"nextRevokedTime",NotifyMsgList:"notifyList"}}}}(dt)),this._configMap.set(A_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.UPDATE_GROUP_COUNTER)}),body:{groupID:void 0,counterList:void 0,avChatRoomKey:void 0,mode:void 0},keyMap:{request:{counterList:"GroupCounter"}}}}(dt)),this._configMap.set(xv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_COUNTER)}),body:{groupID:void 0,keyList:[],avChatRoomKey:void 0},keyMap:{request:{keyList:"GroupCounterKeys"}}}}(dt)),this._configMap.set(wp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.CREATE_TOPIC)}),body:{groupID:void 0,topicName:void 0,avatar:void 0,customData:void 0,topicID:void 0,notification:void 0,introduction:void 0},keyMap:{request:{avatar:"FaceUrl"}}}}(dt)),this._configMap.set(Pv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.DELETE_TOPIC)}),body:{groupID:void 0,topicIDList:void 0},keyMap:{request:{topicIDList:"TopicIdList"},response:{DestroyResultItem:"resultList"}}}}(dt)),this._configMap.set(Uv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.UPDATE_TOPIC_PROFILE)}),body:{groupID:void 0,topicID:void 0,avatar:void 0,customData:void 0,notification:void 0,introduction:void 0,muteAllMembers:void 0,topicName:void 0},keyMap:{request:{avatar:"FaceUrl",muteAllMembers:"ShutUpAllMember"}}}}(dt)),this._configMap.set(Gv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.GET_TOPIC_LIST)}),body:{groupID:void 0,topicIDList:void 0,MemberInfoFilter:["NoUnreadSeqList"]},keyMap:{request:{topicIDList:"TopicIdList"},response:{TopicAndSelfInfo:"topicInfoList",TopicInfo:"topic",GroupID:"groupID",ShutUpTime:"muteTime",ShutUpAllFlag:"muteAllMembers",LastMsgTime:"lastMessageTime",MsgSeq:"readedSequence",LastMsgSeq:"sequence",NoUnreadSeqList:"excludedUnreadSequenceList"}}}}(dt)),this._configMap.set(wv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_MEMBER_LIST)}),body:{groupID:void 0,limit:0,offset:void 0,next:void 0,memberRoleFilter:void 0,memberInfoFilter:["Role","NameCard","ShutUpUntil","JoinTime"],memberCustomFieldFilter:void 0},keyMap:{request:{memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",MemberList:"members",ShutUpUntil:"muteUntil"}}}}(dt)),this._configMap.set(s_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_AVCHATROOM,".").concat(Zt.CMD.GET_AVCHATROOM_MEMBER_LIST)}),body:{groupID:void 0,offset:void 0,filter:void 0},keyMap:{request:{offset:"Timestamp",filter:"Mark"},response:{NextTimestamp:"offset"}}}}(dt)),this._configMap.set(Um,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_MEMBER_INFO)}),body:{groupID:void 0,userIDList:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0},keyMap:{request:{userIDList:"Member_List_Account",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{MemberList:"members",ShutUpUntil:"muteUntil",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",AppMemberDefinedData:"memberCustomField"}}}}(dt)),this._configMap.set(Z_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.ADD_GROUP_MEMBER)}),body:{groupID:void 0,silence:void 0,userIDList:void 0},keyMap:{request:{userID:"Member_Account",userIDList:"MemberList"},response:{MemberList:"members"}}}}(dt)),this._configMap.set(Gn,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DELETE_GROUP_MEMBER)}),body:{groupID:void 0,userIDList:void 0,reason:void 0},keyMap:{request:{userIDList:"MemberToDel_Account"}}}}(dt)),this._configMap.set(ym,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.BAN_AVCHATROOM_MEMBER)}),body:{groupID:void 0,userIDList:void 0,duration:void 0,reason:""},keyMap:{request:{userIDList:"Members_Account",duration:"Duration",reason:"Description"}}}}(dt)),this._configMap.set(c_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.MODIFY_GROUP_MEMBER_INFO)}),body:{groupID:void 0,topicID:void 0,userID:void 0,messageRemindType:void 0,nameCard:void 0,role:void 0,memberCustomField:void 0,muteTime:void 0},keyMap:{request:{userID:"Member_Account",memberCustomField:"AppMemberDefinedData",muteTime:"ShutUpTime",messageRemindType:"MsgFlag"}}}}(dt)),this._configMap.set(Wl,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.GROUP_AVCHATROOM,".").concat(Zt.CMD.MARK_AVCHATROOM_MEMBER_INFO)}),body:{groupID:void 0,operationType:1,memberList:[]},keyMap:{request:{operationType:"CommandType",memberList:"MemberList",markType:"Marks",userID:"Member_Account"},response:{CommandType:"operationType",Marks:"markType",Member_Account:"userID"}}}}(dt)),this._configMap.set(b_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STAT,".").concat(Zt.CMD.TIM_WEB_REPORT_V2)}),body:{header:{},event:[],quality:[]},keyMap:{request:{SDKType:"sdk_type",SDKVersion:"sdk_version",deviceType:"device_type",platform:"platform",instanceID:"instance_id",traceID:"trace_id",SDKAppID:"sdk_app_id",userID:"user_id",tinyID:"tiny_id",extension:"extension",timestamp:"timestamp",networkType:"network_type",eventType:"event_type",code:"error_code",message:"error_message",moreMessage:"more_message",duplicate:"duplicate",costTime:"cost_time",level:"level",qualityType:"quality_type",reportIndex:"report_index",wholePeriod:"whole_period",totalCount:"total_count",rttCount:"success_count_business",successRateOfRequest:"percent_business",countLessThan1Second:"success_count_business",percentOfCountLessThan1Second:"percent_business",countLessThan3Second:"success_count_platform",percentOfCountLessThan3Second:"percent_platform",successCountOfBusiness:"success_count_business",successRateOfBusiness:"percent_business",successCountOfPlatform:"success_count_platform",successRateOfPlatform:"percent_platform",successCountOfMessageReceived:"success_count_business",successRateOfMessageReceived:"percent_business",avgRTT:"average_value",avgDelay:"average_value",avgValue:"average_value",uiPlatform:"ui_platform"}}}}(st)),this._configMap.set(Up,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.HEARTBEAT,".").concat(Zt.CMD.ALIVE)}),body:{}}}(dt)),this._configMap.set(_y,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_PUSH,".").concat(Zt.CMD.MESSAGE_PUSH)}),body:{},keyMap:{response:{C2cMsgArray:"C2CMessageArray",GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",C2cNotifyMsgArray:"C2CNotifyMessageArray",C2cMsgInfo:"C2CReadReceiptArray",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension",IsSyncMsg:"isSyncMessage",Flag:"needSync",NeedAck:"needAck",PendencyAdd_Account:"userID",ProfileImNick:"nick",PendencyType:"applicationType",C2CReadAllMsg:"readAllC2CMessage",IsNeedReadReceipt:"needReadReceipt",Status:"statusType"}}}}(dt)),this._configMap.set(vy,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_PUSH,".").concat(Zt.CMD.MULTI_MESSAGE_PUSH)}),body:{},keyMap:{response:{GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension",IsSyncMsg:"isSyncMessage",Flag:"needSync",NeedAck:"needAck",PendencyType:"applicationType"}}}}(dt)),this._configMap.set(C_,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.MESSAGE_PUSH_ACK)}),body:{sessionData:void 0},keyMap:{request:{sessionData:"SessionData"}}}}(dt)),this._configMap.set(Rv,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.STATUS_FORCE_OFFLINE)}),body:{},keyMap:{response:{C2cNotifyMsgArray:"C2CNotifyMessageArray",NoticeSeq:"noticeSequence",KickoutMsgNotify:"kickoutMsgNotify",NewInstInfo:"newInstanceInfo"}}}}(dt)),this._configMap.set(xp,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_LONG_MESSAGE,".").concat(Zt.CMD.DOWNLOAD_MERGER_MESSAGE)}),body:{downloadKey:""},keyMap:{response:{Data:"data",Desc:"description",Ext:"extension",Download_Flag:"downloadFlag",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID"}}}}(dt)),this._configMap.set(Ov,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_LONG_MESSAGE,".").concat(Zt.CMD.UPLOAD_MERGER_MESSAGE)}),body:{messageList:[]},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",type:"MsgType",content:"MsgContent",data:"Data",description:"Desc",extension:"Ext",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",elements:"MsgBody",clientSequence:"ClientSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody"}}}}(dt)),this._configMap.set(Ay,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.SET_TOKEN)}),body:{tokenID:"",pushMsg:0,sdkAppID:0,businessID:"",deviceBrand:"",deviceToken:"",isTpns:0,isWebUniapp:0},keyMap:{request:{tokenID:"TokenID",pushMsg:"PushMsg",sdkAppID:"EnterVersion",businessID:"BusiID",deviceBrand:"InstType",deviceToken:"VarToken",isTpns:"IsTpns"}}}}(dt)),this._configMap.set(_p,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.STAT_FOREGROUND)}),body:{isWebUniapp:0}}}(dt)),this._configMap.set(ev,function(vt){return{head:rt(rt({},vt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.STAT_BACKGROUND)}),body:{C2CUnread:0,GroupUnread:0,isWebUniapp:0},keyMap:{request:{c2cUnreadCount:"C2cUnread",groupUnreadCount:"GrpUnread"}}}}(dt))}},{key:"has",value:function(dt){return this._configMap.has(dt)}},{key:"get",value:function(dt){return this._configMap.get(dt)}},{key:"update",value:function(){this._fillConfigMap()}},{key:"getKeyMap",value:function(dt){return this.has(dt)?this.get(dt).keyMap||{}:(pn.w("".concat(this._n,".getKeyMap unknown protocolName:").concat(dt)),{})}},{key:"getProtocolData",value:function(dt){var yt=dt.protocolName,st=dt.requestData,ht=this.get(yt),vt=null;if(st){var It=this._simpleDeepCopy(ht),kt=this._updateService(st,It),Ot=kt.body,Pt=Object.create(null);for(var qt in Ot)if(Object.prototype.hasOwnProperty.call(Ot,qt)){if(Pt[qt]=Ot[qt],st[qt]===void 0)continue;Pt[qt]=st[qt]}kt.body=Pt,vt=this._getUplinkData(kt)}else vt=this._getUplinkData(ht);return vt}},{key:"_getUplinkData",value:function(dt){var yt=this._requestDataCleaner(dt),st=Tu(yt.head),ht=m0(yt.body,this._getRequestKeyMap(st));return yt.body=ht,yt}},{key:"_updateService",value:function(dt,yt){var st=Tu(yt.head);if(this._isFromGroupRequest(yt)){var ht=dt.type,vt=dt.groupID,It=vt===void 0?void 0:vt,kt=dt.groupIDList,Ot=kt===void 0?[]:kt;vr(It)&&(It=Ot[0]||""),Vs({type:ht,groupID:It})&&(yt.head.servcmd="".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(st))}return yt}},{key:"_isFromGroupRequest",value:function(dt){return dt.head.servcmd.includes(Zt.NAME.GROUP)||dt.head.servcmd.includes(Zt.NAME.GROUP_ATTR)}},{key:"_getRequestKeyMap",value:function(dt){var yt=this.getKeyMap(dt);return rt(rt({},U_.request),yt.request)}},{key:"_requestDataCleaner",value:function(dt){var yt=Array.isArray(dt)?[]:Object.create(null);for(var st in dt)Object.prototype.hasOwnProperty.call(dt,st)&&Zr(st)&&dt[st]!==null&&dt[st]!==void 0&&(ot(dt[st])!=="object"?yt[st]=dt[st]:yt[st]=this._requestDataCleaner.bind(this)(dt[st]));return yt}},{key:"_simpleDeepCopy",value:function(dt){for(var yt,st=Object.keys(dt),ht={},vt=0,It=st.length;vt<It;vt++)yt=st[vt],to(dt[yt])?ht[yt]=Array.from(dt[yt]):Ku(dt[yt])?ht[yt]=this._simpleDeepCopy(dt[yt]):ht[yt]=dt[yt];return ht}}]),Gt}(),ry=[C_],Hy=function(){function Gt(dt){it(this,Gt),this._sessionModule=dt,this._n="DownlinkHandler",this._eventHandlerMap=new Map,this._eventHandlerMap.set("C2CMessageArray",this._c2cMessageArrayHandler.bind(this)),this._eventHandlerMap.set("groupMessageArray",this._groupMessageArrayHandler.bind(this)),this._eventHandlerMap.set("groupTips",this._groupTipsHandler.bind(this)),this._eventHandlerMap.set("C2CNotifyMessageArray",this._C2CNotifyMessageArrayHandler.bind(this)),this._eventHandlerMap.set("C2CReadReceiptArray",this._C2CReadReceiptArrayHandler.bind(this)),this._eventHandlerMap.set("profileModify",this._profileHandler.bind(this)),this._eventHandlerMap.set("friendListMod",this._relationChainHandler.bind(this)),this._eventHandlerMap.set("recentContactMod",this._recentContactHandler.bind(this)),this._eventHandlerMap.set("readAllC2CMessage",this._allMessageReadHandler.bind(this)),this._eventHandlerMap.set("c2cMessageModified",this._c2cMessageModifiedHandler.bind(this)),this._eventHandlerMap.set("groupMessageModified",this._groupMessageModifiedHandler.bind(this)),this._eventHandlerMap.set("userStatusList",this._userStatusListHandler.bind(this)),this._eventHandlerMap.set("messageExtensionNotify",this._messageExtensionNotifyHandler.bind(this)),this._keys=Ht(this._eventHandlerMap.keys())}return lt(Gt,[{key:"_c2cMessageArrayHandler",value:function(dt){var yt=this._sessionModule.getModule(Ws);yt&&(dt.dataList.forEach(function(st){if(st.isSyncMessage===1){var ht=st.from;st.from=st.to,st.to=ht}}),dt.needSync===1&&this._sessionModule.getModule(Yu).startOnlineSync(),yt.onNewC2CMessage({dataList:dt.dataList,isInstantMessage:!0}))}},{key:"_c2cMessageModifiedHandler",value:function(dt){var yt=this._sessionModule.getModule(Ws);yt&&yt.onC2CMessageModified(dt)}},{key:"_groupMessageArrayHandler",value:function(dt){var yt=this._sessionModule.getModule(So);yt&&yt.onNewGroupMessage({event:dt.event,dataList:dt.dataList,isInstantMessage:!0})}},{key:"_groupMessageModifiedHandler",value:function(dt){var yt=this._sessionModule.getModule(So);yt&&yt.onGroupMessageModified(dt)}},{key:"_groupTipsHandler",value:function(dt){var yt=this._sessionModule.getModule(So);if(yt){var st=dt.event,ht=dt.dataList,vt=dt.isInstantMessage,It=vt===void 0||vt,kt=dt.isSyncingEnded;switch(st){case 4:case 6:yt.onNewGroupTips({event:st,dataList:ht});break;case 5:for(var Ot=0;Ot<ht.length;Ot++)if(to(ht[Ot].elements.revokedInfos))yt.onGroupMessageRevoked({dataList:ht});else if(to(ht[Ot].elements.groupMessageReadNotice))yt.onGroupMessageReadNotice({dataList:ht});else{if(!to(ht[Ot].elements.readReceiptList)){yt.onNewGroupSystemNotice({dataList:ht,isInstantMessage:It,isSyncingEnded:kt});break}yt.onReadReceiptList({dataList:ht})}break;case 12:this._sessionModule.getModule(qr).onNewGroupAtTips({dataList:ht});break;default:pn.l("".concat(this._n,"._groupTipsHandler unknown event:").concat(st," dataList:"),ht)}}}},{key:"_C2CNotifyMessageArrayHandler",value:function(dt){var yt=this,st=dt.dataList;if(to(st)){var ht=this._sessionModule.getModule(Ws);st.forEach(function(vt){if(as(vt))if(vt.hasOwnProperty("kickoutMsgNotify")){var It=vt.kickoutMsgNotify,kt=It.kickType,Ot=It.newInstanceInfo,Pt=Ot===void 0?{}:Ot;kt===1?yt._sessionModule.onMultipleAccountKickedOut(Pt):kt===2?yt._sessionModule.onMultipleDeviceKickedOut(Pt):kt===3&&yt._sessionModule.onRestApiKickedOut(Pt)}else vt.hasOwnProperty("c2cMessageRevokedNotify")?ht&&ht.onC2CMessageRevoked({dataList:st}):vt.hasOwnProperty("c2cMessageReadReceipt")?ht&&ht.onC2CMessageReadReceipt({dataList:st}):vt.hasOwnProperty("c2cMessageReadNotice")?ht&&ht.onC2CMessageReadNotice({dataList:st}):vt.hasOwnProperty("muteNotificationsSync")&&yt._sessionModule.getModule(qr).onC2CMessageRemindTypeSynced({dataList:st})})}}},{key:"_C2CReadReceiptArrayHandler",value:function(dt){this._sessionModule.getModule(Ws).onReadReceiptList(dt)}},{key:"_profileHandler",value:function(dt){this._sessionModule.getModule(Uo).onProfileModified({dataList:dt.dataList});var yt=this._sessionModule.getModule(cs);yt&&yt.onFriendProfileModified({dataList:dt.dataList})}},{key:"_relationChainHandler",value:function(dt){this._sessionModule.getModule(Uo).onRelationChainModified({dataList:dt.dataList});var yt=this._sessionModule.getModule(cs);yt&&yt.onRelationChainModified({dataList:dt.dataList})}},{key:"_recentContactHandler",value:function(dt){var yt=dt.dataList;if(to(yt)){var st=this._sessionModule.getModule(qr);st&&yt.forEach(function(ht){var vt=ht.pushType;if(vt===1){var It=ht.recentContactDeleteItem;st.onConversationDeleted(It.recentContactList)}else if(vt===2){var kt=ht.recentContactTopItem;st.onConversationPinned(kt.recentContactList)}else if(vt===3){var Ot=ht.recentContactTopItem;st.onConversationUnpinned(Ot.recentContactList)}else if(vt===4){var Pt=ht.recentContactMarkContact;st.onConversationMarkUpdated(Pt.recentContactMarkContactItem)}else if(vt===5){var qt=ht.recentContactCreateContactGroup;st.onConversationGroupCreated(qt.msgContactGroupContactItem)}else if(vt===6){var Wt=ht.recentContactDelContactGroup;st.onConversationGroupDeleted(Wt.msgGroupItem)}else if(vt===7){var ln=ht.recentContactUpdateContactGroup,fn=ln.updateType,Sn=ln.msgUpdateGroup,Nn=ln.msgUpdateContact;if(fn===1){var qn=Sn.updateGroupType;qn===1?st.onConversationGroupNameUpdated(Sn):qn===2&&st.onConversationInGroupUpdated(Sn)}else fn===2&&st.onConversationAddedToOrDeletedFromGroup(Nn)}})}}},{key:"_allMessageReadHandler",value:function(dt){var yt=dt.dataList,st=this._sessionModule.getModule(qr);st&&st.onPushedAllMessageRead(yt)}},{key:"_userStatusListHandler",value:function(dt){this._sessionModule.getModule(Uo).onUserStatusUpdated(dt)}},{key:"_messageExtensionNotifyHandler",value:function(dt){this._sessionModule.getModule(Yp).onMessageExtensionNotify(dt)}},{key:"onMessage",value:function(dt){var yt=this,st=dt.body;if(this._filterMessageFromIMOpenPush(dt)){var ht=st.eventArray,vt=st.isInstantMessage,It=st.isSyncingEnded,kt=st.needSync;if(to(ht))for(var Ot=null,Pt=null,qt=0,Wt=0,ln=ht.length;Wt<ln;Wt++){qt=(Ot=ht[Wt]).event;var fn=Object.keys(Ot).find(function(Sn){return yt._keys.indexOf(Sn)!==-1});fn?(Pt=qt===14?{readAllC2CMessage:Ot[fn],groupMessageReadInfoList:Ot.groupMessageReadNotice||[]}:qt===16?{userID:Ot.userID,readReceiptList:Ot[fn]}:Ot[fn],this._eventHandlerMap.get(fn)({event:qt,dataList:Pt,isInstantMessage:vt,isSyncingEnded:It,needSync:kt})):pn.l("".concat(this._n,".onMessage unknown eventItem:").concat(Ot))}}}},{key:"_filterMessageFromIMOpenPush",value:function(dt){var yt=dt.head,st=dt.body,ht=yt.servcmd,vt=!1;if(vr(ht)||(vt=ht.includes(Zt.NAME.IM_CONFIG_MANAGER)||ht.includes(Zt.NAME.OVERLOAD_PUSH)||ht.includes(Zt.NAME.STAT_SERVICE)),!vt)return!0;if(ht.includes(Zt.CMD.PUSHED_CLOUD_CONTROL_CONFIG))this._sessionModule.getModule(fm).onPushedCloudControlConfig(st);else if(ht.includes(Zt.CMD.PUSHED_COMMERCIAL_CONFIG))this._sessionModule.getModule(yl).onPushedConfig(st);else if(ht.includes(Zt.CMD.OVERLOAD_NOTIFY))this._sessionModule.onPushedServerOverload(st);else if(ht.includes(Zt.CMD.KICK_OTHER)){var It=Date.now();this._sessionModule.reLoginOnKickOther();var kt=new xr("kickOther"),Ot=this._sessionModule.getModule(Hs).getLastWsHelloTs(),Pt=It-Ot;kt.setMessage("last wshello time:".concat(Ot," diff:").concat(Pt,"ms")).setNetworkType(this._sessionModule.getNetworkType()).end()}return!1}}]),Gt}(),zy=[{cmd:Zt.CMD.GET_GROUP_INFO,interval:1,count:20},{cmd:Zt.CMD.GET_AVCHATROOM_MEMBER_LIST,interval:3,count:1},{cmd:Zt.CMD.GET_GROUP_APPLICATION,interval:1,count:15},{cmd:Zt.CMD.GET_TOPIC_LIST,interval:1,count:10},{cmd:Zt.CMD.SET_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.MODIFY_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.DELETE_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.CLEAR_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.GET_GROUP_ATTRIBUTES,interval:5,count:20},{cmd:Zt.CMD.UPDATE_GROUP_COUNTER,interval:5,count:20},{cmd:Zt.CMD.GET_GROUP_COUNTER,interval:5,count:20},{cmd:Zt.CMD.SET_ALL_MESSAGE_READ,interval:1,count:1},{cmd:Zt.CMD.GET_USER_STATUS,interval:5,count:20},{cmd:Zt.CMD.SUBSCRIBE_USER_STATUS,interval:5,count:20},{cmd:Zt.CMD.UNSUBSCRIBE_USER_STATUS,interval:5,count:20}],oy=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="SessionModule",ht._platform=ht.getPlatform(),ht._protocolHandler=new j_(Bt(ht)),ht._messageDispatcher=new Hy(Bt(ht)),ht._commandFrequencyLimitMap=new Map,ht._commandRequestInfoMap=new Map,ht._serverOverloadInfoMap=new Map,ht._init(),ht.getInnerEmitterInstance().on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"_init",value:function(){this._updateCommandFrequencyLimitMap(zy)}},{key:"_onCloudConfigUpdated",value:function(){var st=this.getCloudConfig("cmd_frequency_limit");vr(st)||(st=JSON.parse(st),this._updateCommandFrequencyLimitMap(st))}},{key:"_updateCommandFrequencyLimitMap",value:function(st){var ht=this;st.forEach(function(vt){ht._commandFrequencyLimitMap.set(vt.cmd,{interval:vt.interval,count:vt.count})})}},{key:"updateProtocolConfig",value:function(){this._protocolHandler.update()}},{key:"request",value:function(st){pn.d("".concat(this._n,".request options:"),st);var ht=st.protocolName,vt=st.tjgID;if(!this._protocolHandler.has(ht))return pn.w("".concat(this._n,".request unknown protocol:").concat(ht)),rr({code:yr.CANNOT_FIND_PROTOCOL});var It=this.getProtocolData(st),kt=It.head.servcmd;if(this._isFrequencyOverLimit(kt))return rr({code:yr.OVER_FREQUENCY_LIMIT});if(this._isServerOverload(kt))return rr({code:yr.OPEN_SERVICE_OVERLOAD_ERROR});dr(vt)||(It.head.tjgID=vt);var Ot=this.getModule(Su);return ry.includes(ht)?Ot.simplySend(It):Ot.send(It)}},{key:"getKeyMap",value:function(st){return this._protocolHandler.getKeyMap(st)}},{key:"genCommonHead",value:function(){var st=this.getModule(To);return{ver:"v4",platform:this._platform,websdkappid:Rn,websdkversion:Kn,a2:st.getA2Key()||void 0,tinyid:st.getTinyID()||void 0,status_instid:st.getStatusInstanceID(),sdkappid:st.getSDKAppID(),contenttype:st.getContentType(),reqtime:0,identifier:st.getA2Key()?void 0:st.getUserID(),usersig:st.getA2Key()?void 0:st.getUserSig(),sdkability:192371,tjgID:""}}},{key:"genCosSpecifiedHead",value:function(){var st=this.getModule(To);return{ver:"v4",platform:this._platform,websdkappid:Rn,websdkversion:Kn,sdkappid:st.getSDKAppID(),contenttype:st.getContentType(),reqtime:0,identifier:st.getUserID(),usersig:st.getUserSig(),status_instid:st.getStatusInstanceID(),sdkability:192371}}},{key:"genSSOReportHead",value:function(){var st=this.getModule(To);return{ver:"v4",platform:this._platform,websdkappid:Rn,websdkversion:Kn,sdkappid:st.getSDKAppID(),contenttype:"",reqtime:0,identifier:"",usersig:"",status_instid:st.getStatusInstanceID(),sdkability:192371}}},{key:"getProtocolData",value:function(st){return this._protocolHandler.getProtocolData(st)}},{key:"trans",value:function(st){var ht=st.servcmd,vt=st.data,It={head:rt(rt({},this.genCommonHead()),{},{servcmd:ht}),body:vt};return this.getModule(Su).send(It)}},{key:"sendComboMessage",value:function(st){var ht=st.servcmd,vt=st.data,It={head:rt(rt({},this.genCommonHead()),{},{servcmd:ht}),body:vt};return this.getModule(Su).send(It)}},{key:"onErrorCodeNotZero",value:function(st){var ht=st.errorCode;if(ht===yr.HELLO_ANSWER_KICKED_OUT){var vt=st.kickType,It=st.newInstanceInfo,kt=It===void 0?{}:It;vt===1?this.onMultipleAccountKickedOut(kt):vt===2?this.onMultipleDeviceKickedOut(kt):vt===3&&this.onRestApiKickedOut(kt)}ht!==yr.MESSAGE_A2KEY_EXPIRED&&ht!==yr.ACCOUNT_A2KEY_EXPIRED||(this._onUserSigExpired(),this.getModule(Su).reConnect())}},{key:"onMessage",value:function(st){var ht=st.body,vt=ht.needAck,It=vt===void 0?0:vt,kt=ht.sessionData;It===1&&this._sendACK(kt),this._messageDispatcher.onMessage(st)}},{key:"onReconnected",value:function(){this._reLoginOnReconnected()}},{key:"reLoginOnKickOther",value:function(){pn.l("".concat(this._n,".reLoginOnKickOther")),this._reLogin()}},{key:"_reLoginOnReconnected",value:function(){pn.l("".concat(this._n,"._reLoginOnReconnected")),this._reLogin()}},{key:"_reLogin",value:function(){var st=this;if(this.isLoggedIn()){var ht=0,vt=this.getModule(Pu);vt.canIUseOfflinePush()&&(ht=vt.getUniAppPlatform()),this.request({protocolName:Ju,requestData:{isWebUniapp:ht}}).then(function(It){var kt=It.data.instanceID;st.getModule(To).setStatusInstanceID(kt),pn.l("".concat(st._n,"._reLogin ok.")),st.getModule(qr).syncConversationList().then(function(){pn.l("".concat(st._n,"._reLogin, sync conversation list ok.")),st.getModule(t_).start()}),st.getModule(So).updateLocalMainSequenceOnReconnected();var Ot=st.getModule(ys);Ot.resetGetTopicTime(),Ot.getTopicListOnReconnected()})}}},{key:"onMultipleAccountKickedOut",value:function(st){this.getModule(Hs).onMultipleAccountKickedOut(st)}},{key:"onMultipleDeviceKickedOut",value:function(st){this.getModule(Hs).onMultipleDeviceKickedOut(st)}},{key:"_onUserSigExpired",value:function(){this.getModule(Hs).onUserSigExpired()}},{key:"onRestApiKickedOut",value:function(st){this.getModule(Hs).onRestApiKickedOut(st)}},{key:"_sendACK",value:function(st){this.request({protocolName:C_,requestData:{sessionData:st}})}},{key:"_isFrequencyOverLimit",value:function(st){var ht=st.split(".")[1];if(!this._commandFrequencyLimitMap.has(ht))return!1;if(!this._commandRequestInfoMap.has(ht))return this._commandRequestInfoMap.set(ht,{startTime:Date.now(),requestCount:1}),!1;var vt=this._commandFrequencyLimitMap.get(ht),It=vt.count,kt=vt.interval,Ot=this._commandRequestInfoMap.get(ht),Pt=Ot.startTime,qt=Ot.requestCount;if(Date.now()-Pt>1e3*kt)return this._commandRequestInfoMap.set(ht,{startTime:Date.now(),requestCount:1}),!1;qt+=1,this._commandRequestInfoMap.set(ht,{startTime:Pt,requestCount:qt});var Wt=!1;return qt>It&&(Wt=!0),Wt}},{key:"_isServerOverload",value:function(st){if(!this._serverOverloadInfoMap.has(st))return!1;var ht=this._serverOverloadInfoMap.get(st),vt=ht.overloadTime,It=ht.waitingTime,kt=!1;return Date.now()-vt<=1e3*It?kt=!0:(this._serverOverloadInfoMap.delete(st),kt=!1),kt}},{key:"onPushedServerOverload",value:function(st){var ht=st.overloadCommand,vt=st.waitingTime;this._serverOverloadInfoMap.set(ht,{overloadTime:Date.now(),waitingTime:vt}),pn.w("".concat(this._n,".onPushedServerOverload waitingTime:").concat(vt,"s"))}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._updateCommandFrequencyLimitMap(zy),this._commandRequestInfoMap.clear(),this._serverOverloadInfoMap.clear()}}]),yt}(Os),Dp=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="MessageLossDetectionModule",ht._maybeLostSequencesMap=new Map,ht._firstRoundRet=[],ht}return lt(yt,[{key:"onMessageMaybeLost",value:function(st,ht,vt){this._maybeLostSequencesMap.has(st)||this._maybeLostSequencesMap.set(st,[]);for(var It=this._maybeLostSequencesMap.get(st),kt=0;kt<vt;kt++)It.indexOf(ht+kt)===-1&&It.push(ht+kt)}},{key:"detectFirstRound",value:function(st,ht){var vt=this._maybeLostSequencesMap.get(st);if(!dr(vt)&&!dr(ht)){var It=vt.filter(function(kt){return ht.indexOf(kt)===-1});It.length===0?pn.i("".concat(this._n,".detectFirstRound no message loss. conversationID:").concat(st)):this._firstRoundRet=this._firstRoundRet.concat(It),vt.length=0}}},{key:"detectSecondRound",value:function(st,ht){if(!dr(this._firstRoundRet)&&!dr(ht)){var vt=this._firstRoundRet.filter(function(Ot){return ht.indexOf(Ot)===-1});this._firstRoundRet.length=0;var It,kt=vt.length;kt!==0&&(kt<=5?It=st+"-"+vt.join("-"):(vt.sort(function(Ot,Pt){return Ot-Pt}),It=st+" start:"+vt[0]+" end:"+vt[kt-1]+" count:"+kt),new xr("messageLoss").setMessage(It).setNetworkType(this.getNetworkType()).setLevel("warning").end(),pn.i("".concat(this._n,".detectSecondRound message loss detected. conversationID:").concat(st," lostSequences:").concat(vt)))}}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._maybeLostSequencesMap.clear(),this._firstRoundRet.length=0}}]),yt}(Os),iy=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="CloudControlModule",ht._cloudConfig=new Map,ht._expiredTime=0,ht._version=0,ht._isFetching=!1,ht}return lt(yt,[{key:"getCloudConfig",value:function(st){return vr(st)?this._cloudConfig:this._cloudConfig.has(st)?this._cloudConfig.get(st):void 0}},{key:"_canFetchConfig",value:function(){return this.isLoggedIn()&&!this._isFetching&&Date.now()>=this._expiredTime}},{key:"fetchConfig",value:function(){var st=this,ht=this._canFetchConfig();if(pn.l("".concat(this._n,".fetchConfig canFetchConfig:").concat(ht)),ht){var vt=new xr("fetchCloudControlConfig"),It=this.getModule(To).getSDKAppID();this._isFetching=!0,this.request({protocolName:Lv,requestData:{SDKAppID:It,version:this._version}}).then(function(kt){st._isFetching=!1,vt.setMessage("version:".concat(st._version," newVersion:").concat(kt.data.version," config:").concat(kt.data.cloudControlConfig)).setNetworkType(st.getNetworkType()).end(),pn.l("".concat(st._n,".fetchConfig ok")),st._parseCloudControlConfig(kt.data)}).catch(function(kt){st._isFetching=!1,st.probeNetwork().then(function(Ot){var Pt=Ft(Ot,2),qt=Pt[0],Wt=Pt[1];vt.setError(kt,qt,Wt).end()}),pn.l("".concat(st._n,".fetchConfig failed. error:"),kt),st._setExpiredTimeOnResponseError(12e4)})}}},{key:"onPushedCloudControlConfig",value:function(st){pn.l("".concat(this._n,".onPushedCloudControlConfig")),new xr("pushedCloudControlConfig").setNetworkType(this.getNetworkType()).setMessage("newVersion:".concat(st.version," config:").concat(st.cloudControlConfig)).end(),this._parseCloudControlConfig(st)}},{key:"onCheckTimer",value:function(st){this._canFetchConfig()&&this.fetchConfig()}},{key:"_parseCloudControlConfig",value:function(st){var ht=this,vt="".concat(this._n,"._parseCloudControlConfig"),It=st.errorCode,kt=st.errorMessage,Ot=st.cloudControlConfig,Pt=st.version,qt=st.expiredTime;if(It===0){if(this._version!==Pt){var Wt=null;try{Wt=JSON.parse(Ot)}catch{this.isPrivateNetWork()||pn.e("".concat(vt," JSON parse error. cloudControlConfig:"),Ot)}Wt&&(this._cloudConfig.clear(),Object.keys(Wt).forEach(function(ln){ht._cloudConfig.set(ln,Wt[ln])}),this._version=Pt,this.emitInnerEvent(Al))}this._expiredTime=Date.now()+1e3*qt}else vr(It)?(pn.l("".concat(vt," failed. Invalid message format:"),st),this._setExpiredTimeOnResponseError(36e5)):(pn.e("".concat(vt," errorCode:").concat(It," errorMessage:").concat(kt)),this._setExpiredTimeOnResponseError(12e4))}},{key:"_setExpiredTimeOnResponseError",value:function(st){this._expiredTime=Date.now()+st}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._cloudConfig.clear(),this._expiredTime=0,this._version=0,this._isFetching=!1}}]),yt}(Os),B_=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="RecoverMessageModule",ht.PULL_LIMIT_COUNT=15,ht}return lt(yt,[{key:"start",value:function(){this._recoverGroupChat(),this._recoverC2CChat()}},{key:"_recoverGroupChat",value:function(){var st,ht,vt=this,It=this._getLocalConversationList().filter(function(Wt){return Wt.type===Ut.CONV_GROUP&&Wt.groupProfile.type!==Ut.GRP_AVCHATROOM}),kt=this.getModule(qr),Ot=0,Pt=0,qt=0;It.forEach(function(Wt){var ln=Wt.conversationID,fn=Wt.lastMessage;ht=ln.replace(Ut.CONV_GROUP,""),st=kt.getLocalLastMessage(ln),fn&&fn.lastSequence!==0&&st?(Pt=fn.lastSequence,Ot=st.sequence,qt=Pt-Ot,Ot>0&&qt>=1&&qt<300?vt._recoverGroupMessage({groupID:ht,localLastMessageSequence:Ot,remoteLastMessageSequence:Pt}):vt._getGroupNotify(ht)):vt._getGroupNotify(ht)})}},{key:"_recoverC2CChat",value:function(){var st,ht=this,vt=this._getLocalConversationList().filter(function(Wt){return Wt.type===Ut.CONV_C2C}),It=this.getModule(qr),kt=0,Ot=0,Pt=0,qt=[Promise.resolve()];vt.forEach(function(Wt){var ln=Wt.conversationID,fn=Wt.lastMessage;st=It.getLocalLastMessage(ln),fn&&fn.lastTime!==0&&st&&(Ot=fn.lastTime,kt=st.time,Pt=Ot-kt,kt>0&&Pt>=1&&Pt<=600&&qt.push(ht._recoverC2CMessage({conversationID:ln,localLastMessageTime:kt,remoteLastMessageTime:Ot})))}),Promise.all(qt).then(function(){pn.l("".concat(ht._n,"._recoverC2CChat all promise fulfilled, start to sync unread messages")),ht.getModule(Yu).startSyncOnReconnected()})}},{key:"_getLocalConversationList",value:function(){return this.getModule(qr).getLocalConversationList()}},{key:"_recoverGroupMessage",value:function(st){var ht=this,vt="".concat(this._n,"._recoverGroupMessage");pn.l("".concat(vt," options:"),st);var It=st.groupID,kt=st.localLastMessageSequence,Ot=st.remoteLastMessageSequence;this._getGroupRomaingMessage({groupID:It,sequence:kt}).then(function(Pt){var qt=Pt.data,Wt=qt.complete,ln=qt.messageList;if(!vr(ln)){var fn=ln[0].sequence;pn.l("".concat(vt," pkgLastMessageSequence:").concat(fn," complete:").concat(Wt)),fn<Ot&&Wt!==2&&ht._recoverGroupMessage({groupID:It,localLastMessageSequence:fn,remoteLastMessageSequence:Ot}),new xr("recoverMessage").setNetworkType(ht.getNetworkType()).setMessage("groupID:".concat(It," complete:").concat(Wt," messageList length:").concat(ln.length)).end();var Sn=ht.getModule(So);ln.length>1&&ln.sort(function(Yn,Zn){return Yn.sequence-Zn.sequence});for(var Nn=0;Nn<ln.length;Nn++){var qn=ln[Nn];qn.from!==Ut.CONV_SYSTEM?Sn.onNewGroupMessage({dataList:[qn],isInstantMessage:!1,updateUnreadCount:!1}):Sn.onNewGroupTips({event:qn.event,dataList:[qn]})}ht._getGroupNotify(It)}})}},{key:"_getGroupNotify",value:function(st){this.getModule(So).getGroupNotify(st)}},{key:"_getGroupRomaingMessage",value:function(st){var ht=st.groupID,vt=st.sequence;return this.request({protocolName:Lr,requestData:{groupID:ht,count:this.PULL_LIMIT_COUNT,sequence:vt+this.PULL_LIMIT_COUNT-1}})}},{key:"_recoverC2CMessage",value:function(st){var ht=this,vt="".concat(this._n,"._recoverC2CMessage");pn.l("".concat(this._n,"._recoverC2CMessage options:"),st);var It=st.conversationID,kt=st.localLastMessageTime,Ot=st.remoteLastMessageTime;return this._getC2CRoamingMessage({conversationID:It,time:kt}).then(function(Pt){var qt=Pt.data,Wt=qt.complete,ln=qt.messageList;if(!vr(ln)){var fn=ln.length;new xr("recoverMessage").setNetworkType(ht.getNetworkType()).setMessage("".concat(It," complete:").concat(Wt," messageList length:").concat(fn)).end(),ht.getModule(Ws).onNewC2CMessage({dataList:ln,isInstantMessage:!0});var Sn=ln[fn-1].time;if(pn.l("".concat(vt," pkgLastMessageTime:").concat(Sn," complete:").concat(Wt)),Sn<Ot&&Wt!==1)return ht._recoverC2CMessage({conversationID:It,localLastMessageTime:Sn,remoteLastMessageTime:Ot})}})}},{key:"_getC2CRoamingMessage",value:function(st){var ht=st.conversationID,vt=st.time;return this.request({protocolName:_s,requestData:{peerAccount:ht.replace(Ut.CONV_C2C,""),count:this.PULL_LIMIT_COUNT+1,lastMessageTime:vt,direction:1}})}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset"))}}]),yt}(Os),ay=function(){function Gt(){it(this,Gt),this._n="AvgE2EDelay",this._e2eDelayArray=[]}return lt(Gt,[{key:"addMessageDelay",value:function(dt){var yt=ds()-dt;yt>=0&&this._e2eDelayArray.push(yt)}},{key:"_calcAvg",value:function(dt,yt){if(yt===0)return 0;var st=0;return dt.forEach(function(ht){st+=ht}),Lu(st/yt,1)}},{key:"_calcCountWithLimit",value:function(dt){var yt=dt.e2eDelayArray,st=dt.min,ht=dt.max;return yt.filter(function(vt){return st<=vt&&vt<ht}).length}},{key:"_calcPercent",value:function(dt,yt){var st=Lu(dt/yt*100,2);return st>100&&(st=100),st}},{key:"_checkE2EDelayException",value:function(dt,yt){var st=dt.filter(function(Pt){return Pt>yt});if(st.length>0){var ht=st.length,vt=Math.min.apply(Math,Ht(st)),It=Math.max.apply(Math,Ht(st)),kt=this._calcAvg(st,ht),Ot=Lu(ht/dt.length*100,2);Ot>50&&new xr("messageE2EDelayException").setMessage("count:".concat(ht," min:").concat(vt," max:").concat(It," avg:").concat(kt," percent:").concat(Ot)).setLevel("warning").end()}}},{key:"getStatResult",value:function(){var dt=this._e2eDelayArray.length;if(dt===0)return null;var yt=Ht(this._e2eDelayArray),st=this._calcCountWithLimit({e2eDelayArray:yt,min:0,max:1}),ht=this._calcCountWithLimit({e2eDelayArray:yt,min:1,max:3}),vt=this._calcPercent(st,dt),It=this._calcPercent(ht,dt),kt=this._calcAvg(yt,dt);return this._checkE2EDelayException(yt,3),yt.length=0,this.reset(),{totalCount:dt,countLessThan1Second:st,percentOfCountLessThan1Second:vt,countLessThan3Second:ht,percentOfCountLessThan3Second:It,avgDelay:kt}}},{key:"reset",value:function(){this._e2eDelayArray.length=0}}]),Gt}(),_v=function(){function Gt(){it(this,Gt),this._n="AvgRTT",this._requestCount=0,this._rttArray=[]}return lt(Gt,[{key:"addRequestCount",value:function(){this._requestCount+=1}},{key:"addRTT",value:function(dt){this._rttArray.push(dt)}},{key:"_calcTotalCount",value:function(){return this._requestCount}},{key:"_calcRTTCount",value:function(dt){return dt.length}},{key:"_calcSuccessRateOfRequest",value:function(dt,yt){if(yt===0)return 0;var st=Lu(dt/yt*100,2);return st>100&&(st=100),st}},{key:"_calcAvg",value:function(dt,yt){if(yt===0)return 0;var st=0;return dt.forEach(function(ht){st+=ht}),parseInt(st/yt)}},{key:"_calcMax",value:function(){return Math.max.apply(Math,Ht(this._rttArray))}},{key:"_calcMin",value:function(){return Math.min.apply(Math,Ht(this._rttArray))}},{key:"getStatResult",value:function(){var dt=this._calcTotalCount(),yt=Ht(this._rttArray);if(dt===0)return null;var st=this._calcRTTCount(yt),ht=this._calcSuccessRateOfRequest(st,dt),vt=this._calcAvg(yt,st);return pn.l("".concat(this._n,".getStatResult max:").concat(this._calcMax()," min:").concat(this._calcMin()," avg:").concat(vt)),this.reset(),{totalCount:dt,rttCount:st,successRateOfRequest:ht,avgRTT:vt}}},{key:"reset",value:function(){this._requestCount=0,this._rttArray.length=0}}]),Gt}(),qm=function(){function Gt(){it(this,Gt),this._map=new Map}return lt(Gt,[{key:"initMap",value:function(dt){var yt=this;dt.forEach(function(st){yt._map.set(st,{totalCount:0,successCount:0,failedCountOfUserSide:0,costArray:[],fileSizeArray:[]})})}},{key:"addTotalCount",value:function(dt){return!(vr(dt)||!this._map.has(dt))&&(this._map.get(dt).totalCount+=1,!0)}},{key:"addSuccessCount",value:function(dt){return!(vr(dt)||!this._map.has(dt))&&(this._map.get(dt).successCount+=1,!0)}},{key:"addFailedCountOfUserSide",value:function(dt){return!(vr(dt)||!this._map.has(dt))&&(this._map.get(dt).failedCountOfUserSide+=1,!0)}},{key:"addCost",value:function(dt,yt){return!(vr(dt)||!this._map.has(dt))&&(this._map.get(dt).costArray.push(yt),!0)}},{key:"addFileSize",value:function(dt,yt){return!(vr(dt)||!this._map.has(dt))&&(this._map.get(dt).fileSizeArray.push(yt),!0)}},{key:"_calcSuccessRateOfBusiness",value:function(dt){if(vr(dt)||!this._map.has(dt))return-1;var yt=this._map.get(dt),st=Lu(yt.successCount/yt.totalCount*100,2);return st>100&&(st=100),st}},{key:"_calcSuccessRateOfPlatform",value:function(dt){if(vr(dt)||!this._map.has(dt))return-1;var yt=this._map.get(dt),st=this._calcSuccessCountOfPlatform(dt)/yt.totalCount*100;return(st=Lu(st,2))>100&&(st=100),st}},{key:"_calcTotalCount",value:function(dt){return vr(dt)||!this._map.has(dt)?-1:this._map.get(dt).totalCount}},{key:"_calcSuccessCountOfBusiness",value:function(dt){return vr(dt)||!this._map.has(dt)?-1:this._map.get(dt).successCount}},{key:"_calcSuccessCountOfPlatform",value:function(dt){if(vr(dt)||!this._map.has(dt))return-1;var yt=this._map.get(dt);return yt.successCount+yt.failedCountOfUserSide}},{key:"_calcAvg",value:function(dt){return vr(dt)||!this._map.has(dt)?-1:dt===Gu?this._calcAvgSpeed(dt):this._calcAvgCost(dt)}},{key:"_calcAvgCost",value:function(dt){var yt=this._map.get(dt).costArray.length;if(yt===0)return 0;var st=0;return this._map.get(dt).costArray.forEach(function(ht){st+=ht}),parseInt(st/yt)}},{key:"_calcAvgSpeed",value:function(dt){var yt=0,st=0;return this._map.get(dt).costArray.forEach(function(ht){yt+=ht}),this._map.get(dt).fileSizeArray.forEach(function(ht){st+=ht}),parseInt(1e3*st/yt)}},{key:"getStatResult",value:function(dt){var yt=this._calcTotalCount(dt);if(yt===0)return null;var st=this._calcSuccessCountOfBusiness(dt),ht=this._calcSuccessRateOfBusiness(dt),vt=this._calcSuccessCountOfPlatform(dt),It=this._calcSuccessRateOfPlatform(dt),kt=this._calcAvg(dt);return this.reset(dt),{totalCount:yt,successCountOfBusiness:st,successRateOfBusiness:ht,successCountOfPlatform:vt,successRateOfPlatform:It,avgValue:kt}}},{key:"reset",value:function(dt){vr(dt)?this._map.clear():this._map.set(dt,{totalCount:0,successCount:0,failedCountOfUserSide:0,costArray:[],fileSizeArray:[]})}}]),Gt}(),Xo=function(){function Gt(){it(this,Gt),this._lastMap=new Map,this._currentMap=new Map}return lt(Gt,[{key:"initMap",value:function(dt){var yt=this;dt.forEach(function(st){yt._lastMap.set(st,new Map),yt._currentMap.set(st,new Map)})}},{key:"addMessageSequence",value:function(dt){var yt=dt.key,st=dt.message;if(vr(yt)||!this._lastMap.has(yt)||!this._currentMap.has(yt))return!1;var ht=st.conversationID,vt=st.sequence,It=ht.replace(Ut.CONV_GROUP,"");if(this._lastMap.get(yt).size===0)this._addCurrentMap(dt);else if(this._lastMap.get(yt).has(It)){var kt=this._lastMap.get(yt).get(It),Ot=kt.length-1;vt>kt[0]&&vt<kt[Ot]?(kt.push(vt),kt.sort(),this._lastMap.get(yt).set(It,kt)):this._addCurrentMap(dt)}else this._addCurrentMap(dt);return!0}},{key:"_addCurrentMap",value:function(dt){var yt=dt.key,st=dt.message,ht=st.conversationID,vt=st.sequence,It=ht.replace(Ut.CONV_GROUP,"");this._currentMap.get(yt).has(It)||this._currentMap.get(yt).set(It,[]),this._currentMap.get(yt).get(It).push(vt)}},{key:"_copyData",value:function(dt){if(!vr(dt)){this._lastMap.set(dt,new Map);var yt,st=this._lastMap.get(dt),ht=Cn(this._currentMap.get(dt));try{for(ht.s();!(yt=ht.n()).done;){var vt=Ft(yt.value,2),It=vt[0],kt=vt[1];st.set(It,kt)}}catch(Ot){ht.e(Ot)}finally{ht.f()}st=null,this._currentMap.set(dt,new Map)}}},{key:"getStatResult",value:function(dt){if(vr(this._currentMap.get(dt))||vr(this._lastMap.get(dt)))return null;if(this._lastMap.get(dt).size===0)return this._copyData(dt),null;var yt=0,st=0;if(this._lastMap.get(dt).forEach(function(vt,It){var kt=Ht(vt.values()),Ot=kt.length,Pt=kt[Ot-1]-kt[0]+1;yt+=Pt,st+=Ot}),yt===0)return null;var ht=Lu(st/yt*100,2);return ht>100&&(ht=100),this._copyData(dt),{totalCount:yt,successCountOfMessageReceived:st,successRateOfMessageReceived:ht}}},{key:"reset",value:function(){this._currentMap.clear(),this._lastMap.clear()}}]),Gt}(),vv=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;it(this,yt),(ht=dt.call(this,st))._n="QualityStatModule",ht.TAG="im-ssolog-quality-stat",ht.reportIndex=0,ht.wholePeriod=!1,ht._qualityItems=[nv,I_,Gm,$m,u_,_h,Gu,Gp,l_,Fm],ht._messageSentItems=[Gm,$m,u_,_h,Gu],ht._messageReceivedItems=[Gp,l_,Fm],ht.REPORT_INTERVAL=120,ht.REPORT_SDKAPPID_BLACKLIST=[],ht.REPORT_TINYID_WHITELIST=[],ht._statInfoArr=[],ht._avgRTT=new _v,ht._avgE2EDelay=new ay,ht._rateMessageSent=new qm,ht._rateMessageReceived=new Xo;var vt=ht.getInnerEmitterInstance();return vt.on(jp,ht._onLoginSuccess,Bt(ht)),vt.on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"_onLoginSuccess",value:function(){var st=this;this._rateMessageSent.initMap(this._messageSentItems),this._rateMessageReceived.initMap(this._messageReceivedItems);var ht=this.getModule(vo),vt=ht.getItem(this.TAG,!1);!dr(vt)&&yo(vt.forEach)&&(pn.l("".concat(this._n,"._onLoginSuccess get quality stat logs from local storage, count:").concat(vt.length)),vt.forEach(function(It){st._statInfoArr.push(It)}),ht.removeItem(this.TAG,!1))}},{key:"_onCloudConfigUpdated",value:function(){var st=this.getCloudConfig("q_rpt_interval"),ht=this.getCloudConfig("q_rpt_sdkappid_bl"),vt=this.getCloudConfig("q_rpt_tinyid_wl");vr(st)||(this.REPORT_INTERVAL=Number(st)),vr(ht)||(this.REPORT_SDKAPPID_BLACKLIST=ht.split(",").map(function(It){return Number(It)})),vr(vt)||(this.REPORT_TINYID_WHITELIST=vt.split(","))}},{key:"onCheckTimer",value:function(st){this.isLoggedIn()&&st%this.REPORT_INTERVAL==0&&(this.wholePeriod=!0,this._report())}},{key:"addRequestCount",value:function(){this._avgRTT.addRequestCount()}},{key:"addRTT",value:function(st){this._avgRTT.addRTT(st)}},{key:"addMessageDelay",value:function(st){this._avgE2EDelay.addMessageDelay(st)}},{key:"addTotalCount",value:function(st){this._rateMessageSent.addTotalCount(st)||pn.w("".concat(this._n,".addTotalCount invalid key:"),st)}},{key:"addSuccessCount",value:function(st){this._rateMessageSent.addSuccessCount(st)||pn.w("".concat(this._n,".addSuccessCount invalid key:"),st)}},{key:"addFailedCountOfUserSide",value:function(st){this._rateMessageSent.addFailedCountOfUserSide(st)||pn.w("".concat(this._n,".addFailedCountOfUserSide invalid key:"),st)}},{key:"addCost",value:function(st,ht){this._rateMessageSent.addCost(st,ht)||pn.w("".concat(this._n,".addCost invalid key or cost:"),st,ht)}},{key:"addFileSize",value:function(st,ht){this._rateMessageSent.addFileSize(st,ht)||pn.w("".concat(this._n,".addFileSize invalid key or size:"),st,ht)}},{key:"addMessageSequence",value:function(st){this._rateMessageReceived.addMessageSequence(st)||pn.w("".concat(this._n,".addMessageSequence invalid key:"),st.key)}},{key:"_getQualityItem",value:function(st){var ht={},vt=k_[this.getNetworkType()];vr(vt)&&(vt=8);var It={qualityType:Cy[st],timestamp:qs(),networkType:vt,extension:""};switch(st){case nv:ht=this._avgRTT.getStatResult();break;case I_:ht=this._avgE2EDelay.getStatResult();break;case Gm:case $m:case u_:case _h:case Gu:ht=this._rateMessageSent.getStatResult(st);break;case Gp:case l_:case Fm:ht=this._rateMessageReceived.getStatResult(st)}return ht===null?null:rt(rt({},It),ht)}},{key:"_report",value:function(st){var ht=this,vt=[],It=null;vr(st)?this._qualityItems.forEach(function(qt){(It=ht._getQualityItem(qt))!==null&&(It.reportIndex=ht.reportIndex,It.wholePeriod=ht.wholePeriod,vt.push(It))}):(It=this._getQualityItem(st))!==null&&(It.reportIndex=this.reportIndex,It.wholePeriod=this.wholePeriod,vt.push(It)),pn.d("".concat(this._n,"._report"),vt),this._statInfoArr.length>0&&(vt=vt.concat(this._statInfoArr),this._statInfoArr=[]);var kt=this.getModule(To),Ot=kt.getSDKAppID(),Pt=kt.getTinyID();np(this.REPORT_SDKAPPID_BLACKLIST,Ot)&&!pm(this.REPORT_TINYID_WHITELIST,Pt)&&(vt=[]),vt.length>0&&this._doReport(vt)}},{key:"_doReport",value:function(st){var ht=this,vt={header:nm(this),quality:st};this.request({protocolName:b_,requestData:rt({},vt)}).then(function(){ht.reportIndex++,ht.wholePeriod=!1}).catch(function(It){pn.w("".concat(ht._n,"._doReport, online:").concat(ht.getNetworkType()," error:"),It),ht._statInfoArr=ht._statInfoArr.concat(st),ht._flushAtOnce()})}},{key:"_flushAtOnce",value:function(){var st=this.getModule(vo),ht=st.getItem(this.TAG,!1),vt=this._statInfoArr,It="".concat(this._n,"._flushAtOnce");if(dr(ht))pn.l("".concat(It," count:").concat(vt.length)),st.setItem(this.TAG,vt,!0,!1);else{var kt=vt.concat(ht);kt.length>10&&(kt=kt.slice(0,10)),pn.l("".concat(It," count:").concat(kt.length)),st.setItem(this.TAG,kt,!0,!1)}this._statInfoArr=[]}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._report(),this.reportIndex=0,this.wholePeriod=!1,this.REPORT_SDKAPPID_BLACKLIST=[],this.REPORT_TINYID_WHITELIST=[],this._avgRTT.reset(),this._avgE2EDelay.reset(),this._rateMessageSent.reset(),this._rateMessageReceived.reset()}}]),yt}(Os),Vm=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="WorkerTimerModule",ht._isWorkerEnabled=!0,ht._workerTimer=null,ht._timerID=-1,ht._init(),ht.getInnerEmitterInstance().on(Al,ht._onCloudConfigUpdated,Bt(ht)),ht}return lt(yt,[{key:"isWorkerEnabled",value:function(){return this._isWorkerEnabled&&Js}},{key:"startWorkerTimer",value:function(){pn.l("".concat(this._n,".startWorkerTimer")),this._workerTimer&&this._workerTimer.postMessage("start")}},{key:"stopWorkerTimer",value:function(){pn.l("".concat(this._n,".stopWorkerTimer")),this._workerTimer&&this._workerTimer.postMessage("stop")}},{key:"_init",value:function(){if(Js){var st=URL.createObjectURL(new Blob(['let interval = -1;onmessage = function(event) {  if (event.data === "start") {    if (interval > 0) {      clearInterval(interval);    }    interval = setInterval(() => {      postMessage("");    }, 1000);    postMessage(interval);  } else if (event.data === "stop") {    clearInterval(interval);    interval = -1;  }};'],{type:"application/javascript; charset=utf-8"}));this._workerTimer=new Worker(st);var ht=this;this._workerTimer.onmessage=function(vt){vt.data?(ht._timerID=vt.data,pn.l("".concat(ht._n,"._init seed:").concat(ht._timerID))):ht._m.onCheckTimer()}}}},{key:"_onCloudConfigUpdated",value:function(){var st=this.getCloudConfig("enable_worker");pn.l("".concat(this._n,"._onCloudConfigUpdated enableWorker:").concat(st)),vr(st)||st==="1"?!this._isWorkerEnabled&&Js&&(this._isWorkerEnabled=!0,this.startWorkerTimer(),this._m.onWorkerTimerEnabled()):this._isWorkerEnabled&&Js&&(this._isWorkerEnabled=!1,this.stopWorkerTimer(),this._m.onWorkerTimerDisabled())}},{key:"terminate",value:function(){pn.l("".concat(this._n,".terminate")),this._workerTimer&&(this._workerTimer.terminate(),this._workerTimer=null,this._timerID=-1)}},{key:"getTimerID",value:function(){return this._timerID}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset"))}}]),yt}(Os),km=function(){function Gt(){it(this,Gt),this._n="PurchasedFeatureHandler",this._purchasedFeatureMap=new Map}return lt(Gt,[{key:"isValidPurchaseBits",value:function(dt){return dt&&typeof dt=="string"&&dt.length>=1&&dt.length<=64&&/[01]{1,64}/.test(dt)}},{key:"parsePurchaseBits",value:function(dt){if(this.isValidPurchaseBits(dt)){this._purchasedFeatureMap.clear();for(var yt=null,st=dt.length-1,ht=0;st>=0;st--,ht++)yt=ht<32?new vn(0,Math.pow(2,ht)).toString():new vn(Math.pow(2,ht-32),0).toString(),dt[st]==="1"?this._purchasedFeatureMap.set(yt,!0):this._purchasedFeatureMap.set(yt,!1)}else pn.w("".concat(this._n,".parsePurchaseBits invalid purchasebits:").concat(dt))}},{key:"hasPurchasedFeature",value:function(dt){return!!this._purchasedFeatureMap.get(dt)}},{key:"isFeatureEnabled",value:function(dt){for(var yt=parseInt(dt).toString(2),st=void 0,ht=!0,vt=yt.length-1,It=0;vt>=0;vt--,It++)if(yt.charAt(vt)==="1"&&(st=It<32?new vn(0,Math.pow(2,It)).toString():new vn(Math.pow(2,It-32),0).toString(),!this._purchasedFeatureMap.get(st))){ht=!1;break}return pn.l("".concat(this._n,".isFeatureEnabled decimalNumber:").concat(dt," binaryString:").concat(yt," ret:").concat(ht)),Go({enabled:ht})}},{key:"clear",value:function(){this._purchasedFeatureMap.clear()}}]),Gt}(),yv=function(){function Gt(dt){it(this,Gt),this._m=dt,this._n="CommercialConfigModule",this._expiredTime=0,this._isFetching=!1,this._purchasedFeatureHandler=new km}return lt(Gt,[{key:"_canFetch",value:function(){return this._getModule(To).isLoggedIn()?!this._isFetching&&Date.now()>=this._expiredTime:(this._expiredTime=Date.now()+2e3,!1)}},{key:"onCheckTimer",value:function(dt){this._canFetch()&&this.fetchConfig()}},{key:"fetchConfig",value:function(){var dt=this,yt=this._canFetch(),st="".concat(this._n,".fetchConfig");if(pn.l("".concat(st," canFetch:").concat(yt)),yt){var ht=this._getModule(Rs),vt=new xr("fetchCommercialConfig");vt.setNetworkType(ht.getNetworkType());var It=this._getModule(To).getSDKAppID(),kt=this._getModule(au);this._isFetching=!0,kt.request({protocolName:Nv,requestData:{SDKAppID:It}}).then(function(Ot){vt.setMessage("purchaseBits:".concat(Ot.data.purchaseBits)).end(),pn.l("".concat(st," ok.")),dt._parseConfig(Ot.data),dt._isFetching=!1}).catch(function(Ot){ht.probe().then(function(Pt){var qt=Ft(Pt,2),Wt=qt[0],ln=qt[1];vt.setError(Ot,Wt,ln).end()}),dt._isFetching=!1})}}},{key:"onPushedConfig",value:function(dt){var yt="".concat(this._n,".onPushedConfig data:").concat(JSON.stringify(dt));pn.l("".concat(yt)),new xr("pushedCommercialConfig").setNetworkType(this._getModule(Rs).getNetworkType()).setMessage("purchaseBits:".concat(dt.purchaseBits)).end(),this._parseConfig(dt)}},{key:"_parseConfig",value:function(dt){var yt="".concat(this._n,"._parseConfig"),st=dt.errorCode,ht=dt.errorMessage,vt=dt.purchaseBits,It=dt.expiredTime;st===0?(this._purchasedFeatureHandler.parsePurchaseBits(vt),this._expiredTime=Date.now()+1e3*It):vr(st)?(pn.l("".concat(yt," failed. Invalid message format:"),dt),this._setExpiredTimeOnResponseError(36e5)):(pn.e("".concat(yt," errorCode:").concat(st," errorMessage:").concat(ht)),this._setExpiredTimeOnResponseError(12e4))}},{key:"_setExpiredTimeOnResponseError",value:function(dt){this._expiredTime=Date.now()+dt}},{key:"canIUse",value:function(dt){return this._purchasedFeatureHandler.hasPurchasedFeature(dt)}},{key:"isFeatureEnabled",value:function(dt){return this._purchasedFeatureHandler.isFeatureEnabled(dt)}},{key:"_getModule",value:function(dt){return this._m.getModule(dt)}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._expiredTime=0,this._isFetching=!1,this._purchasedFeatureHandler.clear()}}]),Gt}(),sy=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._m=st,ht._n="OfflinePushModule",ht._offlinePushPlugin=void 0,ht._androidPushConfig={huaweiPushBussinessId:"",xiaomiPushBussinessId:"",xiaomiPushAppId:"",xiaomiPushAppKey:"",meizuPushBussinessId:"",meizuPushAppId:"",meizuPushAppKey:"",vivoPushBussinessId:"",fcmPushBussinessId:"",oppoPushBussinessId:"",oppoPushAppKey:"",oppoPushAppSecret:"",honorPushBussinessId:""},ht._deviceToken="",ht._businessID=0,ht._iosBusinessID=0,ht._c2cUnreadCount=0,ht._groupUnreadCount=0,ht._isWebUniapp=0,ht}return lt(yt,[{key:"registerPlugin",value:function(st){if(Dr){this._offlinePushPlugin=st["tim-offline-push-plugin"];var ht=st.offlinePushConfig||{},vt=ht.huaweiBusinessID,It=ht.xiaomiBusinessID,kt=ht.xiaomiAppID,Ot=ht.xiaomiAppKey,Pt=ht.meizuBusinessID,qt=ht.meizuAppID,Wt=ht.meizuAppKey,ln=ht.vivoBusinessID,fn=ht.oppoBusinessID,Sn=ht.oppoAppKey,Nn=ht.oppoAppSecret,qn=ht.honorBusinessID,Yn=ht.iosBusinessID;this._androidPushConfig.huaweiPushBussinessId=vt,this._androidPushConfig.xiaomiPushBussinessId=It,this._androidPushConfig.xiaomiPushAppId=kt,this._androidPushConfig.xiaomiPushAppKey=Ot,this._androidPushConfig.meizuPushBussinessId=Pt,this._androidPushConfig.meizuPushAppId=qt,this._androidPushConfig.meizuPushAppKey=Wt,this._androidPushConfig.vivoPushBussinessId=ln,this._androidPushConfig.oppoPushBussinessId=fn,this._androidPushConfig.oppoPushAppKey=Sn,this._androidPushConfig.oppoPushAppSecret=Nn,this._androidPushConfig.honorPushBussinessId=qn,new xr("registerPlugin").setMessage("tim-offline-push-plugin").setMoreMessage("isExist:".concat(!vr(this._offlinePushPlugin))).end(!0),pn.l("".concat(this._n,".").concat("registerPlugin"," ok. offlinePushConfig:").concat(JSON.stringify(st.offlinePushConfig))),this._iosBusinessID=Yn,this._setAppShowListener()}else this.outputWarning("OfflinePushInUniapp")}},{key:"init",value:function(){this._isWebUniapp=this.getUniAppPlatform(),this._getDeviceToken()}},{key:"_getDeviceToken",value:function(){var st=this,ht="".concat(this._n,".").concat("_getDeviceToken");if(yo(this._offlinePushPlugin.getDeviceToken)){var vt="androidPushConfig:".concat(JSON.stringify(this._androidPushConfig),", iosBusinessID:").concat(this._iosBusinessID);pn.l("".concat(ht," start. ").concat(vt)),new xr("_getDeviceToken").setMessage("".concat(vt)).end(!0),this._offlinePushPlugin.getDeviceToken(this._androidPushConfig,function(It){var kt=new xr("getDeviceTokenRes"),Ot=It.code,Pt=It.msg;if(Ot===0){var qt=It.data,Wt=qt.deviceToken,ln=qt.deviceBrand,fn=qt.deviceType,Sn=qt.bussinessId;st._deviceToken=Wt,st._businessID=Sn||st._iosBusinessID,vt="deviceToken:".concat(Wt,", deviceBrand:").concat(ln||fn,", businessID:").concat(st._businessID),pn.l("".concat(ht," ok. ").concat(vt)),kt.setMessage(vt).end(!0),st._setToken()}else kt.setMessage("code:".concat(Ot,", msg:").concat(Pt)).end(!0),pn.e("".concat(ht," failed. error:"),It)})}else pn.e("".concat(ht," getDeviceToken is not a function"))}},{key:"canIUseOfflinePush",value:function(){return Dr&&!vr(this._offlinePushPlugin)}},{key:"_setAppShowListener",value:function(){var st=this,ht="".concat(this._n,".").concat("_setAppShowListener");vr(this._offlinePushPlugin)?pn.e("".concat(ht," offlinePushPlugin is undefined")):yo(this._offlinePushPlugin.setAppShowListener)?(new xr("_setAppShowListener").end(!0),pn.l("".concat(ht," start")),this._offlinePushPlugin.setAppShowListener(function(vt){var It=(vt||{}).appShow;new xr("setAppShowListenerRes").setMessage("appShow:".concat(It)).end(!0),pn.l("".concat(ht," ok. appShow:").concat(It)),st._m.isReady()&&(It===0?(st._getConvUnreadCount(),st._onBackground()):It===1&&st._onForeground())})):pn.e("".concat(ht," setAppShowListener is not a function"))}},{key:"getDeviceBrand",value:function(){if(!vr(this._offlinePushPlugin)&&yo(this._offlinePushPlugin.getDeviceType)){var st=(this._offlinePushPlugin.getDeviceType()||{}).deviceType;return pn.l("".concat(this._n,".getDeviceBrand ok. deviceType:").concat(st)),st}}},{key:"_setToken",value:function(){var st,ht=this,vt="".concat(this._n,"._setToken"),It=this.getModule(To),kt=1,Ot="",Pt="";dr(this._deviceToken)&&(kt=0);var qt=this.getUniAppPlatform(),Wt=this.getDeviceBrand();qt===Ln.IOS||qt===Ln.IPAD||qt===Ln.MAC?Pt=this._deviceToken:qt===Ln.ANDROID&&(Ot=this._deviceToken);var ln=new xr("offlinePushSetToken");return st="deviceToken:".concat(Pt||Ot,", businessID:").concat(this._businessID,", ")+"deviceBrand:".concat(Wt,", isWebUniapp:").concat(this._isWebUniapp,", pushMsg:").concat(kt,", platform:").concat(qt),ln.setMessage("".concat(st)),pn.l("".concat(vt," ").concat(st)),this.request({protocolName:Ay,requestData:{tokenID:Ot,pushMsg:kt,sdkAppID:It.getSDKAppID(),businessID:parseInt(this._businessID),deviceBrand:Wt,deviceToken:Pt,isWebUniapp:this._isWebUniapp}}).then(function(fn){return ln.end(),pn.l("".concat(vt," ok")),fn}).catch(function(fn){return ht.probeNetwork().then(function(Sn){var Nn=Ft(Sn,2),qn=Nn[0],Yn=Nn[1];ln.setError(fn,qn,Yn).end()}),pn.e("".concat(vt," failed. error:"),fn),rr(fn)})}},{key:"_getConvUnreadCount",value:function(){var st=this;this._c2cUnreadCount=0,this._groupUnreadCount=0,this.getModule(qr).getLocalConversationList().forEach(function(ht){ht.type===Ut.CONV_C2C&&(st._c2cUnreadCount+=ht.unreadCount),ht.type===Ut.CONV_GROUP&&(st._groupUnreadCount+=ht.unreadCount)})}},{key:"_onBackground",value:function(){var st=this,ht="".concat(this._n,".").concat("_onBackground"),vt=new xr("_onBackground");this.request({protocolName:ev,requestData:{c2cUnreadCount:this._c2cUnreadCount,groupUnreadCount:this._groupUnreadCount,isWebUniapp:this._isWebUniapp}}).then(function(It){return vt.setMessage("c2cUnreadCount: ".concat(st._c2cUnreadCount,", groupUnreadCount: ").concat(st._groupUnreadCount)).end(),pn.l("".concat(ht," ok")),It}).catch(function(It){st.probeNetwork().then(function(kt){var Ot=Ft(kt,2),Pt=Ot[0],qt=Ot[1];vt.setError(It,Pt,qt).end()}),pn.e("".concat(ht," failed. error:"),It)})}},{key:"_onForeground",value:function(){var st=this,ht="".concat(this._n,".").concat("_onForeground"),vt=new xr("_onForeground");this.request({protocolName:_p,requestData:{isWebUniapp:this._isWebUniapp}}).then(function(It){return vt.end(),pn.l("".concat(ht," ok")),It}).catch(function(It){st.probeNetwork().then(function(kt){var Ot=Ft(kt,2),Pt=Ot[0],qt=Ot[1];vt.setError(It,Pt,qt).end()}),pn.e("".concat(ht," failed. error:"),It)})}},{key:"getUniAppPlatform",value:function(){var st=uni.getSystemInfoSync().platform,ht=this.getDeviceBrand();return st==="ios"?Ln.IOS:st==="android"?Ln.ANDROID:ht===1002?Ln.IPAD:ht===1001?Ln.MAC:void 0}},{key:"reset",value:function(){this._deviceToken="",this._businessID=0,this._c2cUnreadCount=0,this._groupUnreadCount=0,this._isWebUniapp=0,pn.l("".concat(this._n,".reset"))}}]),yt}(Os),Ky=function(Gt){mt(yt,Gt);var dt=$t(yt);function yt(st){var ht;return it(this,yt),(ht=dt.call(this,st))._n="ProfanityFilterModule",ht._plugin=null,ht._filterConfigMap=new Map,ht._startIndex=0,ht._version=0,ht._canIUseLexicon=!1,ht._isFetching=!1,ht._expiredTime=0,ht}return lt(yt,[{key:"init",value:function(){var st=this.getModule(jo).getPlugin("tim-profanity-filter-plugin");st?(this._plugin=new st({logger:pn,isArray:to,isMap:Lp,isDevMode:this.isDevMode()}),this._getLexicon()):this.outputWarning("ProfanityPluginNotFound")}},{key:"onCheckTimer",value:function(){this._plugin&&this._canIUseLexicon&&this.isLoggedIn()&&!this._isFetching&&Date.now()>=this._expiredTime&&this._getLexicon()}},{key:"filterMessage",value:function(st,ht){var vt=!0;if(!this._plugin||!this._canIUseLexicon||ht&&ht.messageControlInfo&&ht.messageControlInfo.excludedFromContentModeration===!0)return vt;var It=st.type,kt=st.conversationType;if(It!==Ut.MSG_TEXT&&It!==Ut.MSG_CUSTOM)return vt;var Ot,Pt="".concat(this._n,".filterMessage");if(pn.l("".concat(Pt)),It===Ut.MSG_TEXT){if(kt===Ut.CONV_C2C?Ot=lo:kt===Ut.CONV_GROUP&&(Ot=bo),!this._isConfigOn(Ot))return vt;var qt=this._plugin.filter(st.payload.text),Wt=qt.type,ln=qt.modifiedText;Wt===1?vt=!1:Wt===2&&(st.payload.text=ln)}else if(It===Ut.MSG_CUSTOM){if(kt===Ut.CONV_C2C?Ot=_o:kt===Ut.CONV_GROUP&&(Ot=Hr),!this._isConfigOn(Ot))return vt;var fn=this._plugin.filter(st.payload.data),Sn=this._plugin.filter(st.payload.description),Nn=this._plugin.filter(st.payload.extension);fn.type===1||Sn.type===1||Nn.type===1?vt=!1:(fn.type===2&&(st.payload.data=fn.modifiedText),Sn.type===2&&(st.payload.description=Sn.modifiedText),Nn.type===2&&(st.payload.extension=Nn.modifiedText))}return pn.l("".concat(Pt," done. isAllowedToSend:").concat(vt)),vt}},{key:"filterText",value:function(st,ht){var vt="".concat(this._n,".filterText"),It={isAllowedToSend:!0,modifiedText:st};if(!this._plugin||!this._canIUseLexicon||!this._isConfigOn(ht))return It;pn.l("".concat(vt));var kt=this._plugin.filter(st),Ot=kt.type,Pt=kt.modifiedText;return Ot===1?It.isAllowedToSend=!1:Ot===2&&(It.modifiedText=Pt),pn.l("".concat(vt," done. ret:"),It),It}},{key:"_getLexicon",value:function(){var st=this,ht=new xr("profanityFilter"),vt="".concat(this._n,"._getLexicon");this._isFetching=!0,this.request({protocolName:tv,requestData:{startIndex:this._startIndex,version:this._version}}).then(function(It){var kt=It.data,Ot=kt.errorInfo,Pt=kt.filterConfig,qt=kt.lexicon,Wt=kt.strToken,ln=kt.completeFlag,fn=kt.nextStartIndex,Sn=kt.version,Nn=kt.expiredTime,qn=Ot.errorCode,Yn=Ot.errorMessage;return qn!==0?(st._isFetching=!1,pn.w("".concat(vt," failed. error:"),Ot),void ht.setCode(qn).setMessage(Yn).end()):(st._onFilterConfig(Pt),st._getToken(Wt),ln===1?(pn.l("".concat(vt," done. version:").concat(Sn," expiredTime:").concat(Nn)),st._version=Sn,st._canIUseLexicon=!0,st._isFetching=!1,st._expiredTime=Date.now()+1e3*Nn,void st._plugin.onLexiconCompleted(qt)):(st._startIndex=fn,st._plugin.onLexiconSliced(qt),void st._getLexicon()))}).catch(function(It){st.probeNetwork().then(function(kt){var Ot=Ft(kt,2),Pt=Ot[0],qt=Ot[1];ht.setError(It,Pt,qt).end()}),st._isFetching=!1,pn.l("".concat(vt," failed. error:"),It)})}},{key:"_onFilterConfig",value:function(st){var ht=this;dr(st)||(this._filterConfigMap.clear(),Object.keys(st).forEach(function(vt){ht._filterConfigMap.set(vt,st[vt])}),pn.l("".concat(this._n,"._onFilterConfig. keys:").concat(Array.from(this._filterConfigMap.keys())," values:").concat(Array.from(this._filterConfigMap.values()))))}},{key:"_isConfigOn",value:function(st){return this._filterConfigMap.get(st)===1}},{key:"_getToken",value:function(st){if(Po(st)){var ht=st.length,vt="";if(ht%2==0)for(var It=0;It<=ht-1;It+=2)vt+=st[It+1],vt+=st[It];else{for(var kt=0;kt<ht-1;kt+=2)vt+=st[kt+1],vt+=st[kt];vt+=st[ht-1]}this._plugin.onToken(vt)}}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._plugin&&(this._plugin.reset(),this._plugin=null),this._filterConfigMap.clear(),this._startIndex=0,this._version=0,this._canIUseLexicon=!1,this._isFetching=!1,this._expiredTime=0}}]),yt}(Os),Ol=function(){function Gt(dt){it(this,Gt),this._m=dt,this._n="TransCmdModule",this._TRTCCommandList=["tui_room_svr.*"],this._m.getInnerEmitterInstance().on(Al,this._onCloudConfigUpdated,this)}return lt(Gt,[{key:"_onCloudConfigUpdated",value:function(){var dt=this,yt=this._m.getModule(fm).getCloudConfig("rtc_cmd");vr(yt)||(yt=JSON.parse(yt)).forEach(function(st){dt._TRTCCommandList.includes(st)||dt._TRTCCommandList.push(st)})}},{key:"sendTRTCCustomData",value:function(dt){var yt=dt.serviceCommand,st=dt.data,ht="".concat(Zt.NAME.TUIROOM_SVR,".*");return vr(yt)||(ht=yt),this._TRTCCommandList.includes(ht)?this._trans({servcmd:ht,data:st}):rr({code:yr.INVALID_TRTC_CMD})}},{key:"_trans",value:function(dt){pn.d("".concat(this._n,"._trans. options:").concat(JSON.stringify(dt)));var yt=dt.servcmd,st=dt.data;return this._m.getModule(au).trans({servcmd:yt,data:Po(st)?JSON.parse(st):st})}},{key:"getCommandList",value:function(){return this._TRTCCommandList}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset"))}}]),Gt}(),y0=function(){function Gt(dt){it(this,Gt),this._m=dt,this._n="ErrorMessageModule",this.TIM_ERROR_ASSISTANCE="tim_error_assistance",this.STORAGE_EXPIRES_TIME=6048e5,this._map=new Map,this._init()}return lt(Gt,[{key:"_init",value:function(){var dt=this._getStorageModule().getItem(this.TIM_ERROR_ASSISTANCE,!1);if(dt){var yt;try{yt=JSON.parse(dt)}catch(st){this._getStorageModule().removeItem(this.TIM_ERROR_ASSISTANCE,!1),pn.w("".concat(this._n,"._init error:"),st)}yt&&(this._needToUpdate(yt)?this._fetch():this._fillMap(yt.message))}else this._fetch()}},{key:"_needToUpdate",value:function(dt){var yt=dt.localSavedTime,st=dt.localSavedVersion,ht=yt&&new Date().getTime()-yt>=this.STORAGE_EXPIRES_TIME,vt=!st||st!=="2.27.6";return pn.l("".concat(this._n,"._needToUpdate isTimeout:").concat(ht," isDifferentVersion:").concat(vt)),ht||vt}},{key:"_fetch",value:function(){if(!this._m.getModule(To).isPrivateNetWork()){var dt="https://web.sdk.qcloud.com/im/download/error-message/0.0.1/tim-error-message.txt",yt="application/x-www-form-urlencoded;charset=UTF-8",st="".concat(this._n,"._fetch ok in"),ht=this;if(cr)Mr.request({url:dt,method:"GET",timeout:3e3,header:{"content-type":yt},dataType:"text",success:function(kt){ht._fillAndSave(kt.data),pn.l("".concat(st," mini program"))},fail:function(){}});else{var vt=new XMLHttpRequest,It=setTimeout(function(){vt.abort()},3e3);vt.onreadystatechange=function(){vt.readyState===4&&(clearTimeout(It),vt.status!==200&&vt.status!==304||(pn.l("".concat(st," browser")),ht._fillAndSave(vt.responseText)))},vt.open("GET",dt,!0),vt.setRequestHeader("Content-type",yt),vt.send()}}}},{key:"_fillAndSave",value:function(dt){this._fillMap(dt),this._getStorageModule().setItem(this.TIM_ERROR_ASSISTANCE,JSON.stringify({message:dt,localSavedTime:new Date().getTime(),localSavedVersion:"2.27.6"}),!0,!1)}},{key:"_getStorageModule",value:function(){return this._m.getModule(vo)}},{key:"_fillMap",value:function(dt){this._map.clear();for(var yt,st,ht,vt=dt.split(`;
`),It=vt.length,kt=new RegExp(/'/g),Ot=0;Ot<It;Ot++)if(yt=vt[Ot].indexOf(":"),st=vt[Ot].slice(0,yt),ht=vt[Ot].slice(yt+1,vt[Ot].length),!st.startsWith("//")){if(vr(ht))continue;this._map.set(st,ht.replace(kt,""))}}},{key:"get",value:function(dt){var yt=dt.isIntl,st=dt.key,ht=dt.replacement1,vt=dt.replacement2,It="".concat(st,yt?"_en":"_cn");!this._map.has(It)&&this._map.has(st)&&(It=st);var kt="";return this._map.has(It)&&(kt=this._map.get(It),vr(ht)||(kt=kt.replace("$replacement1",ht)),vr(vt)||(kt=kt.replace("$replacement2",vt))),kt}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset"))}}]),Gt}(),js=Qv(function(Gt,dt){var yt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function st(It,kt){return Object.prototype.hasOwnProperty.call(It,kt)}dt.assign=function(It){for(var kt=Array.prototype.slice.call(arguments,1);kt.length;){var Ot=kt.shift();if(Ot){if(ot(Ot)!=="object")throw new TypeError(Ot+"must be non-object");for(var Pt in Ot)st(Ot,Pt)&&(It[Pt]=Ot[Pt])}}return It},dt.shrinkBuf=function(It,kt){return It.length===kt?It:It.subarray?It.subarray(0,kt):(It.length=kt,It)};var ht={arraySet:function(It,kt,Ot,Pt,qt){if(kt.subarray&&It.subarray)It.set(kt.subarray(Ot,Ot+Pt),qt);else for(var Wt=0;Wt<Pt;Wt++)It[qt+Wt]=kt[Ot+Wt]},flattenChunks:function(It){var kt,Ot,Pt,qt,Wt,ln;for(Pt=0,kt=0,Ot=It.length;kt<Ot;kt++)Pt+=It[kt].length;for(ln=new Uint8Array(Pt),qt=0,kt=0,Ot=It.length;kt<Ot;kt++)Wt=It[kt],ln.set(Wt,qt),qt+=Wt.length;return ln}},vt={arraySet:function(It,kt,Ot,Pt,qt){for(var Wt=0;Wt<Pt;Wt++)It[qt+Wt]=kt[Ot+Wt]},flattenChunks:function(It){return[].concat.apply([],It)}};dt.setTyped=function(It){It?(dt.Buf8=Uint8Array,dt.Buf16=Uint16Array,dt.Buf32=Int32Array,dt.assign(dt,ht)):(dt.Buf8=Array,dt.Buf16=Array,dt.Buf32=Array,dt.assign(dt,vt))},dt.setTyped(yt)});js.assign,js.shrinkBuf,js.setTyped,js.Buf8,js.Buf16,js.Buf32;var Mv=function(Gt,dt,yt,st){for(var ht=65535&Gt|0,vt=Gt>>>16&65535|0,It=0;yt!==0;){yt-=It=yt>2e3?2e3:yt;do vt=vt+(ht=ht+dt[st++]|0)|0;while(--It);ht%=65521,vt%=65521}return ht|vt<<16|0},M0=function(){for(var Gt,dt=[],yt=0;yt<256;yt++){Gt=yt;for(var st=0;st<8;st++)Gt=1&Gt?3988292384^Gt>>>1:Gt>>>1;dt[yt]=Gt}return dt}(),Ep=function(Gt,dt,yt,st){var ht=M0,vt=st+yt;Gt^=-1;for(var It=st;It<vt;It++)Gt=Gt>>>8^ht[255&(Gt^dt[It])];return-1^Gt},E0=function(Gt,dt){var yt,st,ht,vt,It,kt,Ot,Pt,qt,Wt,ln,fn,Sn,Nn,qn,Yn,Zn,or,Sr,Pr,Vr,io,No,Bo,ko;yt=Gt.state,st=Gt.next_in,Bo=Gt.input,ht=st+(Gt.avail_in-5),vt=Gt.next_out,ko=Gt.output,It=vt-(dt-Gt.avail_out),kt=vt+(Gt.avail_out-257),Ot=yt.dmax,Pt=yt.wsize,qt=yt.whave,Wt=yt.wnext,ln=yt.window,fn=yt.hold,Sn=yt.bits,Nn=yt.lencode,qn=yt.distcode,Yn=(1<<yt.lenbits)-1,Zn=(1<<yt.distbits)-1;e:do{Sn<15&&(fn+=Bo[st++]<<Sn,Sn+=8,fn+=Bo[st++]<<Sn,Sn+=8),or=Nn[fn&Yn];t:for(;;){if(fn>>>=Sr=or>>>24,Sn-=Sr,(Sr=or>>>16&255)===0)ko[vt++]=65535&or;else{if(!(16&Sr)){if(!(64&Sr)){or=Nn[(65535&or)+(fn&(1<<Sr)-1)];continue t}if(32&Sr){yt.mode=12;break e}Gt.msg="invalid literal/length code",yt.mode=30;break e}Pr=65535&or,(Sr&=15)&&(Sn<Sr&&(fn+=Bo[st++]<<Sn,Sn+=8),Pr+=fn&(1<<Sr)-1,fn>>>=Sr,Sn-=Sr),Sn<15&&(fn+=Bo[st++]<<Sn,Sn+=8,fn+=Bo[st++]<<Sn,Sn+=8),or=qn[fn&Zn];n:for(;;){if(fn>>>=Sr=or>>>24,Sn-=Sr,!(16&(Sr=or>>>16&255))){if(!(64&Sr)){or=qn[(65535&or)+(fn&(1<<Sr)-1)];continue n}Gt.msg="invalid distance code",yt.mode=30;break e}if(Vr=65535&or,Sn<(Sr&=15)&&(fn+=Bo[st++]<<Sn,(Sn+=8)<Sr&&(fn+=Bo[st++]<<Sn,Sn+=8)),(Vr+=fn&(1<<Sr)-1)>Ot){Gt.msg="invalid distance too far back",yt.mode=30;break e}if(fn>>>=Sr,Sn-=Sr,Vr>(Sr=vt-It)){if((Sr=Vr-Sr)>qt&&yt.sane){Gt.msg="invalid distance too far back",yt.mode=30;break e}if(io=0,No=ln,Wt===0){if(io+=Pt-Sr,Sr<Pr){Pr-=Sr;do ko[vt++]=ln[io++];while(--Sr);io=vt-Vr,No=ko}}else if(Wt<Sr){if(io+=Pt+Wt-Sr,(Sr-=Wt)<Pr){Pr-=Sr;do ko[vt++]=ln[io++];while(--Sr);if(io=0,Wt<Pr){Pr-=Sr=Wt;do ko[vt++]=ln[io++];while(--Sr);io=vt-Vr,No=ko}}}else if(io+=Wt-Sr,Sr<Pr){Pr-=Sr;do ko[vt++]=ln[io++];while(--Sr);io=vt-Vr,No=ko}for(;Pr>2;)ko[vt++]=No[io++],ko[vt++]=No[io++],ko[vt++]=No[io++],Pr-=3;Pr&&(ko[vt++]=No[io++],Pr>1&&(ko[vt++]=No[io++]))}else{io=vt-Vr;do ko[vt++]=ko[io++],ko[vt++]=ko[io++],ko[vt++]=ko[io++],Pr-=3;while(Pr>2);Pr&&(ko[vt++]=ko[io++],Pr>1&&(ko[vt++]=ko[io++]))}break}}break}}while(st<ht&&vt<kt);st-=Pr=Sn>>3,fn&=(1<<(Sn-=Pr<<3))-1,Gt.next_in=st,Gt.next_out=vt,Gt.avail_in=st<ht?ht-st+5:5-(st-ht),Gt.avail_out=vt<kt?kt-vt+257:257-(vt-kt),yt.hold=fn,yt.bits=Sn},A0=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b0=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],im=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],$l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Hm=function(Gt,dt,yt,st,ht,vt,It,kt){var Ot,Pt,qt,Wt,ln,fn,Sn,Nn,qn,Yn=kt.bits,Zn=0,or=0,Sr=0,Pr=0,Vr=0,io=0,No=0,Bo=0,ko=0,Nt=0,ut=null,_t=0,at=new js.Buf16(16),ft=new js.Buf16(16),gt=null,Ct=0;for(Zn=0;Zn<=15;Zn++)at[Zn]=0;for(or=0;or<st;or++)at[dt[yt+or]]++;for(Vr=Yn,Pr=15;Pr>=1&&at[Pr]===0;Pr--);if(Vr>Pr&&(Vr=Pr),Pr===0)return ht[vt++]=20971520,ht[vt++]=20971520,kt.bits=1,0;for(Sr=1;Sr<Pr&&at[Sr]===0;Sr++);for(Vr<Sr&&(Vr=Sr),Bo=1,Zn=1;Zn<=15;Zn++)if(Bo<<=1,(Bo-=at[Zn])<0)return-1;if(Bo>0&&(Gt===0||Pr!==1))return-1;for(ft[1]=0,Zn=1;Zn<15;Zn++)ft[Zn+1]=ft[Zn]+at[Zn];for(or=0;or<st;or++)dt[yt+or]!==0&&(It[ft[dt[yt+or]]++]=or);if(Gt===0?(ut=gt=It,fn=19):Gt===1?(ut=A0,_t-=257,gt=b0,Ct-=257,fn=256):(ut=im,gt=$l,fn=-1),Nt=0,or=0,Zn=Sr,ln=vt,io=Vr,No=0,qt=-1,Wt=(ko=1<<Vr)-1,Gt===1&&ko>852||Gt===2&&ko>592)return 1;for(;;){Sn=Zn-No,It[or]<fn?(Nn=0,qn=It[or]):It[or]>fn?(Nn=gt[Ct+It[or]],qn=ut[_t+It[or]]):(Nn=96,qn=0),Ot=1<<Zn-No,Sr=Pt=1<<io;do ht[ln+(Nt>>No)+(Pt-=Ot)]=Sn<<24|Nn<<16|qn|0;while(Pt!==0);for(Ot=1<<Zn-1;Nt&Ot;)Ot>>=1;if(Ot!==0?(Nt&=Ot-1,Nt+=Ot):Nt=0,or++,--at[Zn]==0){if(Zn===Pr)break;Zn=dt[yt+It[or]]}if(Zn>Vr&&(Nt&Wt)!==qt){for(No===0&&(No=Vr),ln+=Sr,Bo=1<<(io=Zn-No);io+No<Pr&&!((Bo-=at[io+No])<=0);)io++,Bo<<=1;if(ko+=1<<io,Gt===1&&ko>852||Gt===2&&ko>592)return 1;ht[qt=Nt&Wt]=Vr<<24|io<<16|ln-vt|0}}return Nt!==0&&(ht[ln+Nt]=Zn-No<<24|64<<16|0),kt.bits=Vr,0};function Wy(Gt){return(Gt>>>24&255)+(Gt>>>8&65280)+((65280&Gt)<<8)+((255&Gt)<<24)}function cy(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new js.Buf16(320),this.work=new js.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Yy(Gt){var dt;return Gt&&Gt.state?(dt=Gt.state,Gt.total_in=Gt.total_out=dt.total=0,Gt.msg="",dt.wrap&&(Gt.adler=1&dt.wrap),dt.mode=1,dt.last=0,dt.havedict=0,dt.dmax=32768,dt.head=null,dt.hold=0,dt.bits=0,dt.lencode=dt.lendyn=new js.Buf32(852),dt.distcode=dt.distdyn=new js.Buf32(592),dt.sane=1,dt.back=-1,0):-2}function uy(Gt){var dt;return Gt&&Gt.state?((dt=Gt.state).wsize=0,dt.whave=0,dt.wnext=0,Yy(Gt)):-2}function __(Gt,dt){var yt,st;return Gt&&Gt.state?(st=Gt.state,dt<0?(yt=0,dt=-dt):(yt=1+(dt>>4),dt<48&&(dt&=15)),dt&&(dt<8||dt>15)?-2:(st.window!==null&&st.wbits!==dt&&(st.window=null),st.wrap=yt,st.wbits=dt,uy(Gt))):-2}function q_(Gt,dt){var yt,st;return Gt?(st=new cy,Gt.state=st,st.window=null,(yt=__(Gt,dt))!==0&&(Gt.state=null),yt):-2}var Ev,Av,Jy=!0;function C0(Gt){if(Jy){var dt;for(Ev=new js.Buf32(512),Av=new js.Buf32(32),dt=0;dt<144;)Gt.lens[dt++]=8;for(;dt<256;)Gt.lens[dt++]=9;for(;dt<280;)Gt.lens[dt++]=7;for(;dt<288;)Gt.lens[dt++]=8;for(Hm(1,Gt.lens,0,288,Ev,0,Gt.work,{bits:9}),dt=0;dt<32;)Gt.lens[dt++]=5;Hm(2,Gt.lens,0,32,Av,0,Gt.work,{bits:5}),Jy=!1}Gt.lencode=Ev,Gt.lenbits=9,Gt.distcode=Av,Gt.distbits=5}function Xy(Gt,dt,yt,st){var ht,vt=Gt.state;return vt.window===null&&(vt.wsize=1<<vt.wbits,vt.wnext=0,vt.whave=0,vt.window=new js.Buf8(vt.wsize)),st>=vt.wsize?(js.arraySet(vt.window,dt,yt-vt.wsize,vt.wsize,0),vt.wnext=0,vt.whave=vt.wsize):((ht=vt.wsize-vt.wnext)>st&&(ht=st),js.arraySet(vt.window,dt,yt-st,ht,vt.wnext),(st-=ht)?(js.arraySet(vt.window,dt,yt-st,st,0),vt.wnext=st,vt.whave=vt.wsize):(vt.wnext+=ht,vt.wnext===vt.wsize&&(vt.wnext=0),vt.whave<vt.wsize&&(vt.whave+=ht))),0}var zm={inflateReset:uy,inflateReset2:__,inflateResetKeep:Yy,inflateInit:function(Gt){return q_(Gt,15)},inflateInit2:q_,inflate:function(Gt,dt){var yt,st,ht,vt,It,kt,Ot,Pt,qt,Wt,ln,fn,Sn,Nn,qn,Yn,Zn,or,Sr,Pr,Vr,io,No,Bo,ko=0,Nt=new js.Buf8(4),ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Gt||!Gt.state||!Gt.output||!Gt.input&&Gt.avail_in!==0)return-2;(yt=Gt.state).mode===12&&(yt.mode=13),It=Gt.next_out,ht=Gt.output,Ot=Gt.avail_out,vt=Gt.next_in,st=Gt.input,kt=Gt.avail_in,Pt=yt.hold,qt=yt.bits,Wt=kt,ln=Ot,io=0;e:for(;;)switch(yt.mode){case 1:if(yt.wrap===0){yt.mode=13;break}for(;qt<16;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(2&yt.wrap&&Pt===35615){yt.check=0,Nt[0]=255&Pt,Nt[1]=Pt>>>8&255,yt.check=Ep(yt.check,Nt,2,0),Pt=0,qt=0,yt.mode=2;break}if(yt.flags=0,yt.head&&(yt.head.done=!1),!(1&yt.wrap)||(((255&Pt)<<8)+(Pt>>8))%31){Gt.msg="incorrect header check",yt.mode=30;break}if((15&Pt)!=8){Gt.msg="unknown compression method",yt.mode=30;break}if(qt-=4,Vr=8+(15&(Pt>>>=4)),yt.wbits===0)yt.wbits=Vr;else if(Vr>yt.wbits){Gt.msg="invalid window size",yt.mode=30;break}yt.dmax=1<<Vr,Gt.adler=yt.check=1,yt.mode=512&Pt?10:12,Pt=0,qt=0;break;case 2:for(;qt<16;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(yt.flags=Pt,(255&yt.flags)!=8){Gt.msg="unknown compression method",yt.mode=30;break}if(57344&yt.flags){Gt.msg="unknown header flags set",yt.mode=30;break}yt.head&&(yt.head.text=Pt>>8&1),512&yt.flags&&(Nt[0]=255&Pt,Nt[1]=Pt>>>8&255,yt.check=Ep(yt.check,Nt,2,0)),Pt=0,qt=0,yt.mode=3;case 3:for(;qt<32;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}yt.head&&(yt.head.time=Pt),512&yt.flags&&(Nt[0]=255&Pt,Nt[1]=Pt>>>8&255,Nt[2]=Pt>>>16&255,Nt[3]=Pt>>>24&255,yt.check=Ep(yt.check,Nt,4,0)),Pt=0,qt=0,yt.mode=4;case 4:for(;qt<16;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}yt.head&&(yt.head.xflags=255&Pt,yt.head.os=Pt>>8),512&yt.flags&&(Nt[0]=255&Pt,Nt[1]=Pt>>>8&255,yt.check=Ep(yt.check,Nt,2,0)),Pt=0,qt=0,yt.mode=5;case 5:if(1024&yt.flags){for(;qt<16;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}yt.length=Pt,yt.head&&(yt.head.extra_len=Pt),512&yt.flags&&(Nt[0]=255&Pt,Nt[1]=Pt>>>8&255,yt.check=Ep(yt.check,Nt,2,0)),Pt=0,qt=0}else yt.head&&(yt.head.extra=null);yt.mode=6;case 6:if(1024&yt.flags&&((fn=yt.length)>kt&&(fn=kt),fn&&(yt.head&&(Vr=yt.head.extra_len-yt.length,yt.head.extra||(yt.head.extra=new Array(yt.head.extra_len)),js.arraySet(yt.head.extra,st,vt,fn,Vr)),512&yt.flags&&(yt.check=Ep(yt.check,st,fn,vt)),kt-=fn,vt+=fn,yt.length-=fn),yt.length))break e;yt.length=0,yt.mode=7;case 7:if(2048&yt.flags){if(kt===0)break e;fn=0;do Vr=st[vt+fn++],yt.head&&Vr&&yt.length<65536&&(yt.head.name+=String.fromCharCode(Vr));while(Vr&&fn<kt);if(512&yt.flags&&(yt.check=Ep(yt.check,st,fn,vt)),kt-=fn,vt+=fn,Vr)break e}else yt.head&&(yt.head.name=null);yt.length=0,yt.mode=8;case 8:if(4096&yt.flags){if(kt===0)break e;fn=0;do Vr=st[vt+fn++],yt.head&&Vr&&yt.length<65536&&(yt.head.comment+=String.fromCharCode(Vr));while(Vr&&fn<kt);if(512&yt.flags&&(yt.check=Ep(yt.check,st,fn,vt)),kt-=fn,vt+=fn,Vr)break e}else yt.head&&(yt.head.comment=null);yt.mode=9;case 9:if(512&yt.flags){for(;qt<16;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(Pt!==(65535&yt.check)){Gt.msg="header crc mismatch",yt.mode=30;break}Pt=0,qt=0}yt.head&&(yt.head.hcrc=yt.flags>>9&1,yt.head.done=!0),Gt.adler=yt.check=0,yt.mode=12;break;case 10:for(;qt<32;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}Gt.adler=yt.check=Wy(Pt),Pt=0,qt=0,yt.mode=11;case 11:if(yt.havedict===0)return Gt.next_out=It,Gt.avail_out=Ot,Gt.next_in=vt,Gt.avail_in=kt,yt.hold=Pt,yt.bits=qt,2;Gt.adler=yt.check=1,yt.mode=12;case 12:if(dt===5||dt===6)break e;case 13:if(yt.last){Pt>>>=7&qt,qt-=7&qt,yt.mode=27;break}for(;qt<3;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}switch(yt.last=1&Pt,qt-=1,3&(Pt>>>=1)){case 0:yt.mode=14;break;case 1:if(C0(yt),yt.mode=20,dt===6){Pt>>>=2,qt-=2;break e}break;case 2:yt.mode=17;break;case 3:Gt.msg="invalid block type",yt.mode=30}Pt>>>=2,qt-=2;break;case 14:for(Pt>>>=7&qt,qt-=7&qt;qt<32;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if((65535&Pt)!=(Pt>>>16^65535)){Gt.msg="invalid stored block lengths",yt.mode=30;break}if(yt.length=65535&Pt,Pt=0,qt=0,yt.mode=15,dt===6)break e;case 15:yt.mode=16;case 16:if(fn=yt.length){if(fn>kt&&(fn=kt),fn>Ot&&(fn=Ot),fn===0)break e;js.arraySet(ht,st,vt,fn,It),kt-=fn,vt+=fn,Ot-=fn,It+=fn,yt.length-=fn;break}yt.mode=12;break;case 17:for(;qt<14;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(yt.nlen=257+(31&Pt),Pt>>>=5,qt-=5,yt.ndist=1+(31&Pt),Pt>>>=5,qt-=5,yt.ncode=4+(15&Pt),Pt>>>=4,qt-=4,yt.nlen>286||yt.ndist>30){Gt.msg="too many length or distance symbols",yt.mode=30;break}yt.have=0,yt.mode=18;case 18:for(;yt.have<yt.ncode;){for(;qt<3;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}yt.lens[ut[yt.have++]]=7&Pt,Pt>>>=3,qt-=3}for(;yt.have<19;)yt.lens[ut[yt.have++]]=0;if(yt.lencode=yt.lendyn,yt.lenbits=7,No={bits:yt.lenbits},io=Hm(0,yt.lens,0,19,yt.lencode,0,yt.work,No),yt.lenbits=No.bits,io){Gt.msg="invalid code lengths set",yt.mode=30;break}yt.have=0,yt.mode=19;case 19:for(;yt.have<yt.nlen+yt.ndist;){for(;Yn=(ko=yt.lencode[Pt&(1<<yt.lenbits)-1])>>>16&255,Zn=65535&ko,!((qn=ko>>>24)<=qt);){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(Zn<16)Pt>>>=qn,qt-=qn,yt.lens[yt.have++]=Zn;else{if(Zn===16){for(Bo=qn+2;qt<Bo;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(Pt>>>=qn,qt-=qn,yt.have===0){Gt.msg="invalid bit length repeat",yt.mode=30;break}Vr=yt.lens[yt.have-1],fn=3+(3&Pt),Pt>>>=2,qt-=2}else if(Zn===17){for(Bo=qn+3;qt<Bo;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}qt-=qn,Vr=0,fn=3+(7&(Pt>>>=qn)),Pt>>>=3,qt-=3}else{for(Bo=qn+7;qt<Bo;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}qt-=qn,Vr=0,fn=11+(127&(Pt>>>=qn)),Pt>>>=7,qt-=7}if(yt.have+fn>yt.nlen+yt.ndist){Gt.msg="invalid bit length repeat",yt.mode=30;break}for(;fn--;)yt.lens[yt.have++]=Vr}}if(yt.mode===30)break;if(yt.lens[256]===0){Gt.msg="invalid code -- missing end-of-block",yt.mode=30;break}if(yt.lenbits=9,No={bits:yt.lenbits},io=Hm(1,yt.lens,0,yt.nlen,yt.lencode,0,yt.work,No),yt.lenbits=No.bits,io){Gt.msg="invalid literal/lengths set",yt.mode=30;break}if(yt.distbits=6,yt.distcode=yt.distdyn,No={bits:yt.distbits},io=Hm(2,yt.lens,yt.nlen,yt.ndist,yt.distcode,0,yt.work,No),yt.distbits=No.bits,io){Gt.msg="invalid distances set",yt.mode=30;break}if(yt.mode=20,dt===6)break e;case 20:yt.mode=21;case 21:if(kt>=6&&Ot>=258){Gt.next_out=It,Gt.avail_out=Ot,Gt.next_in=vt,Gt.avail_in=kt,yt.hold=Pt,yt.bits=qt,E0(Gt,ln),It=Gt.next_out,ht=Gt.output,Ot=Gt.avail_out,vt=Gt.next_in,st=Gt.input,kt=Gt.avail_in,Pt=yt.hold,qt=yt.bits,yt.mode===12&&(yt.back=-1);break}for(yt.back=0;Yn=(ko=yt.lencode[Pt&(1<<yt.lenbits)-1])>>>16&255,Zn=65535&ko,!((qn=ko>>>24)<=qt);){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(Yn&&!(240&Yn)){for(or=qn,Sr=Yn,Pr=Zn;Yn=(ko=yt.lencode[Pr+((Pt&(1<<or+Sr)-1)>>or)])>>>16&255,Zn=65535&ko,!(or+(qn=ko>>>24)<=qt);){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}Pt>>>=or,qt-=or,yt.back+=or}if(Pt>>>=qn,qt-=qn,yt.back+=qn,yt.length=Zn,Yn===0){yt.mode=26;break}if(32&Yn){yt.back=-1,yt.mode=12;break}if(64&Yn){Gt.msg="invalid literal/length code",yt.mode=30;break}yt.extra=15&Yn,yt.mode=22;case 22:if(yt.extra){for(Bo=yt.extra;qt<Bo;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}yt.length+=Pt&(1<<yt.extra)-1,Pt>>>=yt.extra,qt-=yt.extra,yt.back+=yt.extra}yt.was=yt.length,yt.mode=23;case 23:for(;Yn=(ko=yt.distcode[Pt&(1<<yt.distbits)-1])>>>16&255,Zn=65535&ko,!((qn=ko>>>24)<=qt);){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(!(240&Yn)){for(or=qn,Sr=Yn,Pr=Zn;Yn=(ko=yt.distcode[Pr+((Pt&(1<<or+Sr)-1)>>or)])>>>16&255,Zn=65535&ko,!(or+(qn=ko>>>24)<=qt);){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}Pt>>>=or,qt-=or,yt.back+=or}if(Pt>>>=qn,qt-=qn,yt.back+=qn,64&Yn){Gt.msg="invalid distance code",yt.mode=30;break}yt.offset=Zn,yt.extra=15&Yn,yt.mode=24;case 24:if(yt.extra){for(Bo=yt.extra;qt<Bo;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}yt.offset+=Pt&(1<<yt.extra)-1,Pt>>>=yt.extra,qt-=yt.extra,yt.back+=yt.extra}if(yt.offset>yt.dmax){Gt.msg="invalid distance too far back",yt.mode=30;break}yt.mode=25;case 25:if(Ot===0)break e;if(fn=ln-Ot,yt.offset>fn){if((fn=yt.offset-fn)>yt.whave&&yt.sane){Gt.msg="invalid distance too far back",yt.mode=30;break}fn>yt.wnext?(fn-=yt.wnext,Sn=yt.wsize-fn):Sn=yt.wnext-fn,fn>yt.length&&(fn=yt.length),Nn=yt.window}else Nn=ht,Sn=It-yt.offset,fn=yt.length;fn>Ot&&(fn=Ot),Ot-=fn,yt.length-=fn;do ht[It++]=Nn[Sn++];while(--fn);yt.length===0&&(yt.mode=21);break;case 26:if(Ot===0)break e;ht[It++]=yt.length,Ot--,yt.mode=21;break;case 27:if(yt.wrap){for(;qt<32;){if(kt===0)break e;kt--,Pt|=st[vt++]<<qt,qt+=8}if(ln-=Ot,Gt.total_out+=ln,yt.total+=ln,ln&&(Gt.adler=yt.check=yt.flags?Ep(yt.check,ht,ln,It-ln):Mv(yt.check,ht,ln,It-ln)),ln=Ot,(yt.flags?Pt:Wy(Pt))!==yt.check){Gt.msg="incorrect data check",yt.mode=30;break}Pt=0,qt=0}yt.mode=28;case 28:if(yt.wrap&&yt.flags){for(;qt<32;){if(kt===0)break e;kt--,Pt+=st[vt++]<<qt,qt+=8}if(Pt!==(4294967295&yt.total)){Gt.msg="incorrect length check",yt.mode=30;break}Pt=0,qt=0}yt.mode=29;case 29:io=1;break e;case 30:io=-3;break e;case 31:return-4;case 32:default:return-2}return Gt.next_out=It,Gt.avail_out=Ot,Gt.next_in=vt,Gt.avail_in=kt,yt.hold=Pt,yt.bits=qt,(yt.wsize||ln!==Gt.avail_out&&yt.mode<30&&(yt.mode<27||dt!==4))&&Xy(Gt,Gt.output,Gt.next_out,ln-Gt.avail_out),Wt-=Gt.avail_in,ln-=Gt.avail_out,Gt.total_in+=Wt,Gt.total_out+=ln,yt.total+=ln,yt.wrap&&ln&&(Gt.adler=yt.check=yt.flags?Ep(yt.check,ht,ln,Gt.next_out-ln):Mv(yt.check,ht,ln,Gt.next_out-ln)),Gt.data_type=yt.bits+(yt.last?64:0)+(yt.mode===12?128:0)+(yt.mode===20||yt.mode===15?256:0),(Wt===0&&ln===0||dt===4)&&io===0&&(io=-5),io},inflateEnd:function(Gt){if(!Gt||!Gt.state)return-2;var dt=Gt.state;return dt.window&&(dt.window=null),Gt.state=null,0},inflateGetHeader:function(Gt,dt){var yt;return Gt&&Gt.state&&2&(yt=Gt.state).wrap?(yt.head=dt,dt.done=!1,0):-2},inflateSetDictionary:function(Gt,dt){var yt,st=dt.length;return Gt&&Gt.state?(yt=Gt.state).wrap!==0&&yt.mode!==11?-2:yt.mode===11&&Mv(1,dt,st,0)!==yt.check?-3:Xy(Gt,dt,st,st)?(yt.mode=31,-4):(yt.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},ly=!0,Zy=!0;try{String.fromCharCode.apply(null,[0])}catch{ly=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Zy=!1}for(var Km=new js.Buf8(256),am=0;am<256;am++)Km[am]=am>=252?6:am>=248?5:am>=240?4:am>=224?3:am>=192?2:1;Km[254]=Km[254]=1;function V_(Gt,dt){if(dt<65534&&(Gt.subarray&&Zy||!Gt.subarray&&ly))return String.fromCharCode.apply(null,js.shrinkBuf(Gt,dt));for(var yt="",st=0;st<dt;st++)yt+=String.fromCharCode(Gt[st]);return yt}var Ns=function(Gt){var dt,yt,st,ht,vt,It=Gt.length,kt=0;for(ht=0;ht<It;ht++)(64512&(yt=Gt.charCodeAt(ht)))==55296&&ht+1<It&&(64512&(st=Gt.charCodeAt(ht+1)))==56320&&(yt=65536+(yt-55296<<10)+(st-56320),ht++),kt+=yt<128?1:yt<2048?2:yt<65536?3:4;for(dt=new js.Buf8(kt),vt=0,ht=0;vt<kt;ht++)(64512&(yt=Gt.charCodeAt(ht)))==55296&&ht+1<It&&(64512&(st=Gt.charCodeAt(ht+1)))==56320&&(yt=65536+(yt-55296<<10)+(st-56320),ht++),yt<128?dt[vt++]=yt:yt<2048?(dt[vt++]=192|yt>>>6,dt[vt++]=128|63&yt):yt<65536?(dt[vt++]=224|yt>>>12,dt[vt++]=128|yt>>>6&63,dt[vt++]=128|63&yt):(dt[vt++]=240|yt>>>18,dt[vt++]=128|yt>>>12&63,dt[vt++]=128|yt>>>6&63,dt[vt++]=128|63&yt);return dt},bv=function(Gt){for(var dt=new js.Buf8(Gt.length),yt=0,st=dt.length;yt<st;yt++)dt[yt]=Gt.charCodeAt(yt);return dt},Qy=function(Gt,dt){var yt,st,ht,vt,It=dt||Gt.length,kt=new Array(2*It);for(st=0,yt=0;yt<It;)if((ht=Gt[yt++])<128)kt[st++]=ht;else if((vt=Km[ht])>4)kt[st++]=65533,yt+=vt-1;else{for(ht&=vt===2?31:vt===3?15:7;vt>1&&yt<It;)ht=ht<<6|63&Gt[yt++],vt--;vt>1?kt[st++]=65533:ht<65536?kt[st++]=ht:(ht-=65536,kt[st++]=55296|ht>>10&1023,kt[st++]=56320|1023&ht)}return V_(kt,st)},up=function(Gt,dt){var yt;for((dt=dt||Gt.length)>Gt.length&&(dt=Gt.length),yt=dt-1;yt>=0&&(192&Gt[yt])==128;)yt--;return yt<0||yt===0?dt:yt+Km[Gt[yt]]>dt?yt:dt},Cu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Ap={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wm=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},S0=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},dy=Object.prototype.toString;function Rp(Gt){if(!(this instanceof Rp))return new Rp(Gt);this.options=js.assign({chunkSize:16384,windowBits:0,to:""},Gt||{});var dt=this.options;dt.raw&&dt.windowBits>=0&&dt.windowBits<16&&(dt.windowBits=-dt.windowBits,dt.windowBits===0&&(dt.windowBits=-15)),!(dt.windowBits>=0&&dt.windowBits<16)||Gt&&Gt.windowBits||(dt.windowBits+=32),dt.windowBits>15&&dt.windowBits<48&&!(15&dt.windowBits)&&(dt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Wm,this.strm.avail_out=0;var yt=zm.inflateInit2(this.strm,dt.windowBits);if(yt!==Cu.Z_OK)throw new Error(Ap[yt]);if(this.header=new S0,zm.inflateGetHeader(this.strm,this.header),dt.dictionary&&(typeof dt.dictionary=="string"?dt.dictionary=Ns(dt.dictionary):dy.call(dt.dictionary)==="[object ArrayBuffer]"&&(dt.dictionary=new Uint8Array(dt.dictionary)),dt.raw&&(yt=zm.inflateSetDictionary(this.strm,dt.dictionary))!==Cu.Z_OK))throw new Error(Ap[yt])}function Cv(Gt,dt){var yt=new Rp(dt);if(yt.push(Gt,!0),yt.err)throw yt.msg||Ap[yt.err];return yt.result}Rp.prototype.push=function(Gt,dt){var yt,st,ht,vt,It,kt=this.strm,Ot=this.options.chunkSize,Pt=this.options.dictionary,qt=!1;if(this.ended)return!1;st=dt===~~dt?dt:dt===!0?Cu.Z_FINISH:Cu.Z_NO_FLUSH,typeof Gt=="string"?kt.input=bv(Gt):dy.call(Gt)==="[object ArrayBuffer]"?kt.input=new Uint8Array(Gt):kt.input=Gt,kt.next_in=0,kt.avail_in=kt.input.length;do{if(kt.avail_out===0&&(kt.output=new js.Buf8(Ot),kt.next_out=0,kt.avail_out=Ot),(yt=zm.inflate(kt,Cu.Z_NO_FLUSH))===Cu.Z_NEED_DICT&&Pt&&(yt=zm.inflateSetDictionary(this.strm,Pt)),yt===Cu.Z_BUF_ERROR&&qt===!0&&(yt=Cu.Z_OK,qt=!1),yt!==Cu.Z_STREAM_END&&yt!==Cu.Z_OK)return this.onEnd(yt),this.ended=!0,!1;kt.next_out&&(kt.avail_out!==0&&yt!==Cu.Z_STREAM_END&&(kt.avail_in!==0||st!==Cu.Z_FINISH&&st!==Cu.Z_SYNC_FLUSH)||(this.options.to==="string"?(ht=up(kt.output,kt.next_out),vt=kt.next_out-ht,It=Qy(kt.output,ht),kt.next_out=vt,kt.avail_out=Ot-vt,vt&&js.arraySet(kt.output,kt.output,ht,vt,0),this.onData(It)):this.onData(js.shrinkBuf(kt.output,kt.next_out)))),kt.avail_in===0&&kt.avail_out===0&&(qt=!0)}while((kt.avail_in>0||kt.avail_out===0)&&yt!==Cu.Z_STREAM_END);return yt===Cu.Z_STREAM_END&&(st=Cu.Z_FINISH),st===Cu.Z_FINISH?(yt=zm.inflateEnd(this.strm),this.onEnd(yt),this.ended=!0,yt===Cu.Z_OK):st!==Cu.Z_SYNC_FLUSH||(this.onEnd(Cu.Z_OK),kt.avail_out=0,!0)},Rp.prototype.onData=function(Gt){this.chunks.push(Gt)},Rp.prototype.onEnd=function(Gt){Gt===Cu.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=js.flattenChunks(this.chunks)),this.chunks=[],this.err=Gt,this.msg=this.strm.msg};var I0={Inflate:Rp,inflate:Cv,inflateRaw:function(Gt,dt){return(dt=dt||{}).raw=!0,Cv(Gt,dt)},ungzip:Cv},py={};(0,js.assign)(py,I0,Cu);var e0=py,t0=function(){function Gt(dt){it(this,Gt),this._m=dt,this._n="InflateModule",this._bLogForInflateOK=!1,this._bLogForInflateError=!1}return lt(Gt,[{key:"inflate",value:function(dt){var yt,st=new Uint8Array(dt).slice(4),ht=Date.now();try{yt=e0.inflate(st,{to:"string"}),this._bLogForInflateOK||(this._bLogForInflateOK=!0,new xr("inflateOK").end())}catch(kt){return this._bLogForInflateError?void 0:(this._bLogForInflateError=!0,void new xr("inflateError").setMessage(kt).end())}var vt=st.length+4,It=yt.length;return pn.d("inflate ok. zipped:".concat(vt," unzipped:").concat(It)+" compression ratio:".concat(Math.round(100*(It-vt)/It),"% cost:").concat(Date.now()-ht)),yt}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),this._bLogForInflateOK=!1,this._bLogForInflateError=!1}}]),Gt}(),n0=function(){function Gt(dt){it(this,Gt);var yt=new xr("sdkConstruct");this._n="ModuleManager",this._isReady=!1,this._reason=yr.USER_NOT_LOGGED_IN,this._startLoginTs=0,this._moduleMap=new Map,this._innerEmitter=null,this._outerEmitter=null,this._checkCount=0,this._checkTimer=-1,this._moduleMap.set(To,new Ly(this,dt)),this._moduleMap.set(xl,new t0(this)),this._moduleMap.set(yl,new yv(this)),this._moduleMap.set(fm,new iy(this)),this._moduleMap.set(Hl,new Vm(this)),this._moduleMap.set($s,new vv(this)),this._moduleMap.set(Su,new qy(this)),this._moduleMap.set(au,new oy(this)),this._moduleMap.set(Hs,new dv(this)),this._moduleMap.set(Xs,new pv(this)),this._moduleMap.set(Yp,new rm(this)),this._moduleMap.set(Dm,new $y(this)),this._moduleMap.set(Uo,new Zv(this)),this._moduleMap.set(Ws,new Bv(this)),this._moduleMap.set(qr,new ky(this)),this._moduleMap.set(So,new yp(this)),this._moduleMap.set(ba,new cv(this)),this._moduleMap.set(ys,new Jl(this)),this._moduleMap.set(vo,new Sm(this)),this._moduleMap.set(pu,new y0(this)),this._moduleMap.set(Fs,new Ny(this)),this._moduleMap.set(Rs,new f0(this)),this._moduleMap.set(gs,new Py(this)),this._moduleMap.set(no,new ty(this)),this._moduleMap.set(jo,new Fy(this)),this._moduleMap.set(Yu,new jy(this)),this._moduleMap.set(fp,new Dp(this)),this._moduleMap.set(t_,new B_(this)),this._moduleMap.set(Pu,new sy(this)),this._moduleMap.set(zl,new Ky(this)),this._moduleMap.set(Jp,new Ol(this)),this._eventThrottleMap=new Map;var st=dt.instanceID,ht=dt.oversea,vt=dt.SDKAppID,It="instanceID:".concat(st," SDKAppID:").concat(vt," host:").concat(rs()," oversea:").concat(ht," inBrowser:").concat(gr," inMiniApp:").concat(cr)+" canIUseInflate:".concat(this.canIUseInflate())+" workerAvailable:".concat(Js," UserAgent:").concat(Ar);xr.bindEventStatModule(this._moduleMap.get(Fs)),yt.setMessage("".concat(It," ").concat(function(){var kt="";if(cr)try{var Ot=Mr.getSystemInfoSync(),Pt=Ot.model,qt=Ot.version,Wt=Ot.system,ln=Ot.platform,fn=Ot.SDKVersion;kt="model:".concat(Pt," version:").concat(qt," system:").concat(Wt," platform:").concat(ln," SDKVersion:").concat(fn)}catch{kt=""}return kt}())).end(),pn.i("SDK ".concat(It)),Cs.prototype._getErrorMessage=this.getErrorMessage.bind(this),this._readyList=void 0,this._ssoLogForReady=null,this._initReadyList()}return lt(Gt,[{key:"_startTimer",value:function(){var dt=this._moduleMap.get(Hl),yt=dt.isWorkerEnabled();pn.l("".concat(this._n,".startTimer isWorkerEnabled:").concat(yt," seed:").concat(this._checkTimer)),yt?dt.startWorkerTimer():this._startMainThreadTimer()}},{key:"_startMainThreadTimer",value:function(){this._checkTimer<0&&(this._checkTimer=setInterval(this.onCheckTimer.bind(this),1e3)),pn.l("".concat(this._n,"._startMainThreadTimer seed:").concat(this._checkTimer))}},{key:"stopTimer",value:function(){var dt=this._moduleMap.get(Hl),yt=dt.isWorkerEnabled();pn.l("".concat(this._n,".stopTimer isWorkerEnabled:").concat(yt," seed:").concat(this._checkTimer)),yt?dt.stopWorkerTimer():this._stopMainThreadTimer()}},{key:"_stopMainThreadTimer",value:function(){pn.l("".concat(this._n,"._stopMainThreadTimer")),this._checkTimer>0&&(clearInterval(this._checkTimer),this._checkTimer=-1,this._checkCount=0)}},{key:"_stopMainThreadSocket",value:function(){pn.l("".concat(this._n,"._stopMainThreadSocket"));var dt=this._moduleMap.get(Su);dt.setIsWorkerEnabled(!0),dt.reConnect()}},{key:"_startMainThreadSocket",value:function(){pn.l("".concat(this._n,"._startMainThreadSocket"));var dt=this._moduleMap.get(Su);dt.setIsWorkerEnabled(!1),dt.reConnect()}},{key:"onWorkerTimerEnabled",value:function(){pn.l("".concat(this._n,".onWorkerTimerEnabled, disable main thread timer and socket")),this._stopMainThreadTimer(),this._stopMainThreadSocket()}},{key:"onWorkerTimerDisabled",value:function(){pn.l("".concat(this._n,".onWorkerTimerDisabled, enable main thread timer and socket")),this._startMainThreadTimer(),this._startMainThreadSocket()}},{key:"onCheckTimer",value:function(){this._checkCount+=1;var dt,yt=Cn(this._moduleMap);try{for(yt.s();!(dt=yt.n()).done;){var st=Ft(dt.value,2)[1];st.onCheckTimer&&st.onCheckTimer(this._checkCount)}}catch(ht){yt.e(ht)}finally{yt.f()}}},{key:"_initReadyList",value:function(){var dt=this;this._readyList=[this._moduleMap.get(Hs),this._moduleMap.get(qr)],this._readyList.forEach(function(yt){yt.ready(function(){return dt._onModuleReady()})})}},{key:"_onModuleReady",value:function(){var dt=!0;if(this._readyList.forEach(function(vt){vt.isReady()||(dt=!1)}),dt&&!this._isReady){this._isReady=!0,this._outerEmitter.emit(yn.SDK_READY);var yt=Date.now()-this._startLoginTs;pn.w("SDK is ready. cost ".concat(yt," ms")),this._startLoginTs=Date.now();var st=this._moduleMap.get(Rs).getNetworkType(),ht=this._ssoLogForReady.getStartTs()+Ts;this._ssoLogForReady.setNetworkType(st).setMessage(yt).start(ht).end()}}},{key:"login",value:function(){this._startLoginTs===0&&(iu(),this._startLoginTs=Date.now(),this._startTimer(),this._moduleMap.get(Rs).start(),this._ssoLogForReady=new xr("sdkReady"),this._reason=yr.LOGGING_IN)}},{key:"onLoginFailed",value:function(){this._startLoginTs=0}},{key:"getOuterEmitterInstance",value:function(){return this._outerEmitter===null&&(this._outerEmitter=new ey,br(this._outerEmitter),this._outerEmitter._emit=this._outerEmitter.emit,this._outerEmitter.emit=(function(dt,yt){var st=this;if(dt===yn.CONVERSATION_LIST_UPDATED||dt===yn.FRIEND_LIST_UPDATED||dt===yn.GROUP_LIST_UPDATED||dt===yn.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED)if(this._eventThrottleMap.has(dt)){var ht=Date.now(),vt=this._eventThrottleMap.get(dt);ht-vt.last<=1e3?(vt.timeoutID&&clearTimeout(vt.timeoutID),vt.timeoutID=setTimeout(function(){vt.last=Date.now(),st._outerEmitter._emit.apply(st._outerEmitter,[dt,{name:dt,data:st._getEventData(dt)}])},1e3)):(vt.last=ht,this._outerEmitter._emit.apply(this._outerEmitter,[dt,{name:dt,data:this._getEventData(dt)}]))}else this._eventThrottleMap.set(dt,{last:Date.now(),timeoutID:-1}),this._outerEmitter._emit.apply(this._outerEmitter,[dt,{name:dt,data:this._getEventData(dt)}]);else this._outerEmitter._emit.apply(this._outerEmitter,[dt,{name:dt,data:arguments[1]}])}).bind(this)),this._outerEmitter}},{key:"_getEventData",value:function(dt){return dt===yn.CONVERSATION_LIST_UPDATED?this._moduleMap.get(qr).getLocalConversationList():dt===yn.FRIEND_LIST_UPDATED?this._moduleMap.get(cs).getLocalFriendList(!1):dt===yn.GROUP_LIST_UPDATED?this._moduleMap.get(So).getLocalGroupList():dt===yn.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED?this._moduleMap.get(qr).getTotalUnreadMessageCount():void 0}},{key:"getInnerEmitterInstance",value:function(){return this._innerEmitter===null&&(this._innerEmitter=new ey,this._innerEmitter._emit=this._innerEmitter.emit,this._innerEmitter.emit=(function(dt,yt){var st;st=as(arguments[1])&&arguments[1].data?[dt,{name:arguments[0],data:arguments[1].data}]:[dt,{name:arguments[0],data:arguments[1]}],this._innerEmitter._emit.apply(this._innerEmitter,st)}).bind(this)),this._innerEmitter}},{key:"hasModule",value:function(dt){return this._moduleMap.has(dt)}},{key:"getModule",value:function(dt){return this._moduleMap.get(dt)}},{key:"canIUseInflate",value:function(){return!!this._moduleMap.get(xl)}},{key:"isReady",value:function(){return this._isReady}},{key:"isIntl",value:function(){return this.getModule(To).isIntl()}},{key:"getNotReadyReason",value:function(){return this._reason}},{key:"setNotReadyReason",value:function(dt){this._reason=dt}},{key:"getErrorMessage",value:function(dt,yt,st){return this._moduleMap.get(pu).get({key:dt,replacement1:yt,replacement2:st,isIntl:this.isIntl()})}},{key:"outputWarning",value:function(dt,yt,st){var ht=this.getErrorMessage(dt,yt,st);ht&&pn.w(ht)}},{key:"onError",value:function(dt){var yt="code:".concat(dt.code," message:").concat(dt.message);pn.w("Oops! ".concat(yt)),new xr("error").setMessage(yt).setNetworkType(this.getModule(Rs).getNetworkType()).setLevel("error").end(),this.getOuterEmitterInstance().emit(yn.ERROR,dt)}},{key:"restartTimer",value:function(){pn.l("".concat(this._n,".restartTimer")),this.stopTimer(),this._startTimer(),this.getModule(So).restartPolling()}},{key:"getTimerID",value:function(){var dt=this._moduleMap.get(Hl);return dt.isWorkerEnabled()?dt.getTimerID():this._checkTimer}},{key:"getPollingTimerID",value:function(dt){return this._moduleMap.get(So).getPollingTimerID(dt)}},{key:"reset",value:function(){pn.l("".concat(this._n,".reset")),iu();var dt,yt=Cn(this._moduleMap);try{for(yt.s();!(dt=yt.n()).done;){var st=Ft(dt.value,2)[1];st.reset&&st.reset()}}catch(kt){yt.e(kt)}finally{yt.f()}this._startLoginTs=0,this._initReadyList(),this._isReady=!1,this.stopTimer(),this._outerEmitter.emit(yn.SDK_NOT_READY);var ht,vt=Cn(this._eventThrottleMap);try{for(vt.s();!(ht=vt.n()).done;){var It=Ft(ht.value,2)[1];It.timeoutID&&clearTimeout(It.timeoutID)}}catch(kt){vt.e(kt)}finally{vt.f()}this._eventThrottleMap.clear()}}]),Gt}(),fy=function(){function Gt(dt){it(this,Gt),this._funcMap=new Map,this._m=dt}return lt(Gt,[{key:"defense",value:function(dt,yt){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(typeof dt!="string"||dt.length===0||typeof yt!="function")return null;if(this._funcMap.has(dt)&&this._funcMap.get(dt).has(yt))return this._funcMap.get(dt).get(yt);this._funcMap.has(dt)||this._funcMap.set(dt,new Map);var ht=null;return this._funcMap.get(dt).has(yt)?ht=this._funcMap.get(dt).get(yt):(ht=this._pack(dt,yt,st),this._funcMap.get(dt).set(yt,ht)),ht}},{key:"defenseOnce",value:function(dt,yt){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return typeof yt!="function"?null:this._pack(dt,yt,st)}},{key:"find",value:function(dt,yt){return typeof dt!="string"||dt.length===0||typeof yt!="function"?null:this._funcMap.has(dt)&&this._funcMap.get(dt).has(yt)?this._funcMap.get(dt).get(yt):(this._m.outputWarning("ListenerFnNotFound",dt),null)}},{key:"delete",value:function(dt,yt){return typeof yt=="function"&&!!this._funcMap.has(dt)&&!!this._funcMap.get(dt).has(yt)&&(this._funcMap.get(dt).delete(yt),this._funcMap.get(dt).size===0&&this._funcMap.delete(dt),!0)}},{key:"_pack",value:function(dt,yt,st){var ht=this;return function(){try{yt.apply(st,Array.from(arguments))}catch(Pt){var vt=Object.values(yn).indexOf(dt),It="CallbackError";if(vt!==-1){var kt=Object.keys(yn)[vt];ht._m.outputWarning(It,kt,Pt)}var Ot=new xr(It);Ot.setMessage("eventName:".concat(dt)).setMoreMessage(Pt.message).end()}}}}]),Gt}(),hy=function(){function Gt(dt){it(this,Gt);var yt={SDKAppID:dt.SDKAppID,unlimitedAVChatRoom:dt.unlimitedAVChatRoom||!1,scene:dt.scene||"",oversea:dt.oversea||!1,instanceID:lu(),devMode:dt.devMode||!1,proxyServer:dt.proxyServer||void 0,fileUploadProxy:dt.fileUploadProxy||void 0,fileDownloadProxy:dt.fileDownloadProxy||dt.fileUploadProxy||void 0};this._m=new n0(yt),this._safetyCallbackFactory=new fy(this._m)}return lt(Gt,[{key:"onError",value:function(dt){this._m.onError(dt)}},{key:"login",value:function(dt){return this._m.login(),this._getModule(Hs).login(dt)}},{key:"logout",value:function(){var dt=this;return this._getModule(Hs).logout().then(function(yt){return dt._m.reset(),yt})}},{key:"isReady",value:function(){return this._m.isReady()}},{key:"isIntl",value:function(){return this._m.isIntl()}},{key:"getNotReadyReason",value:function(){return this._m.getNotReadyReason()}},{key:"getErrorMessage",value:function(dt,yt,st){return this._m.getErrorMessage(dt,yt,st)}},{key:"_getModule",value:function(dt){return this._m.getModule(dt)}},{key:"destroy",value:function(){var dt=this;return this.logout().finally(function(){dt._m.stopTimer(),dt._getModule(Hl).terminate(),dt._getModule(Su).dealloc();var yt=dt._m.getOuterEmitterInstance(),st=dt._getModule(To);yt.emit(yn.SDK_DESTROY,{SDKAppID:st.getSDKAppID()})})}},{key:"on",value:function(dt,yt,st){pn.d("on","eventName:".concat(dt)),this._m.getOuterEmitterInstance().on(dt,this._safetyCallbackFactory.defense(dt,yt,st),st)}},{key:"once",value:function(dt,yt,st){pn.d("once","eventName:".concat(dt)),this._m.getOuterEmitterInstance().once(dt,this._safetyCallbackFactory.defenseOnce(dt,yt,st),st||this)}},{key:"off",value:function(dt,yt,st,ht){pn.d("off","eventName:".concat(dt));var vt=this._safetyCallbackFactory.find(dt,yt);vt!==null&&(this._m.getOuterEmitterInstance().off(dt,vt,st,ht),this._safetyCallbackFactory.delete(dt,yt))}},{key:"registerPlugin",value:function(dt){vr(dt["tim-offline-push-plugin"])?this._getModule(jo).registerPlugin(dt):this._getModule(Pu).registerPlugin(dt)}},{key:"setLogLevel",value:function(dt){if(dt<=0){var yt=this.getErrorMessage("TIM_ASCII_ART");yt&&console.log(yt);var st=this.getErrorMessage("API_REFER");st&&(Kp()?console.log("%c ".concat("IM SDK API ->"," %c"),"background:#ff9d00; padding:1px; border-radius:3px; color: #fff","background:transparent",st):console.log("IM SDK API ->",st));var ht=this.getErrorMessage("DOCS_GUIDE");ht&&console.log(ht)}pn.setLevel(dt)}},{key:"createTextMessage",value:function(dt){return this._getModule(Xs).createTextMessage(dt)}},{key:"createTextAtMessage",value:function(dt){return this._getModule(Xs).createTextMessage(dt)}},{key:"createImageMessage",value:function(dt){return this._getModule(Xs).createImageMessage(dt)}},{key:"createAudioMessage",value:function(dt){return this._getModule(Xs).createAudioMessage(dt)}},{key:"createVideoMessage",value:function(dt){return this._getModule(Xs).createVideoMessage(dt)}},{key:"createCustomMessage",value:function(dt){return this._getModule(Xs).createCustomMessage(dt)}},{key:"createFaceMessage",value:function(dt){return this._getModule(Xs).createFaceMessage(dt)}},{key:"createFileMessage",value:function(dt){return this._getModule(Xs).createFileMessage(dt)}},{key:"createLocationMessage",value:function(dt){return this._getModule(Xs).createLocationMessage(dt)}},{key:"createMergerMessage",value:function(dt){return this._getModule(Xs).createMergerMessage(dt)}},{key:"downloadMergerMessage",value:function(dt){return dt.type!==Ut.MSG_MERGER?rr({code:yr.MESSAGE_MERGER_TYPE_INVALID}):dr(dt.payload.downloadKey)?rr({code:yr.MESSAGE_MERGER_KEY_INVALID}):this._getModule(Xs).downloadMergerMessage(dt).catch(function(yt){return rr({code:yr.MESSAGE_MERGER_DOWNLOAD_FAIL})})}},{key:"createForwardMessage",value:function(dt){return this._getModule(Xs).createForwardMessage(dt)}},{key:"sendMessage",value:function(dt,yt){return dt instanceof yu?this._getModule(Xs).sendMessageInstance(dt,yt):rr({code:yr.MESSAGE_SEND_NEED_MESSAGE_INSTANCE})}},{key:"callExperimentalAPI",value:function(dt,yt){return dt==="sendComboMessage"?this._getModule(Dm).sendMessage(yt):dt==="handleGroupInvitation"?this._getModule(So).handleGroupInvitation(yt):dt==="isCommercialAbilityEnabled"?this._getModule(yl).isFeatureEnabled(yt):dt==="isIntl"?this.isIntl():dt==="sendTRTCCustomData"?this._getModule(Jp).sendTRTCCustomData(yt):dt==="getTimerID"?this._m.getTimerID():dt==="getPollingTimerID"?this._m.getPollingTimerID(yt):rr({code:yr.INVALID_OPERATION})}},{key:"revokeMessage",value:function(dt){return this._getModule(Xs).revokeMessage(dt)}},{key:"resendMessage",value:function(dt){return this._getModule(Xs).resendMessage(dt)}},{key:"deleteMessage",value:function(dt){return this._getModule(Xs).deleteMessage(dt)}},{key:"translateText",value:function(dt){return this._getModule(Xs).translateText(dt)}},{key:"setMessageExtensions",value:function(dt,yt){return this._getModule(Yp).setMessageExtensions(dt,yt)}},{key:"getMessageExtensions",value:function(dt){return this._getModule(Yp).getMessageExtensions(dt)}},{key:"deleteMessageExtensions",value:function(dt,yt){return this._getModule(Yp).deleteMessageExtensions(dt,yt)}},{key:"modifyMessage",value:function(dt){return this._getModule(Xs).modifyRemoteMessage(dt)}},{key:"getMessageList",value:function(dt){return this._getModule(qr).getMessageList(dt)}},{key:"getMessageListHopping",value:function(dt){return this._getModule(qr).getMessageListHopping(dt)}},{key:"sendMessageReadReceipt",value:function(dt){return this._getModule(qr).sendReadReceipt(dt)}},{key:"getMessageReadReceiptList",value:function(dt){return this._getModule(qr).getReadReceiptList(dt)}},{key:"getGroupMessageReadMemberList",value:function(dt){return this._getModule(So).getReadReceiptDetail(dt)}},{key:"findMessage",value:function(dt){return this._getModule(qr).findMessage(dt)}},{key:"setMessageRead",value:function(dt){return this._getModule(qr).setMessageRead(dt)}},{key:"getConversationList",value:function(dt){return this._getModule(qr).getConversationList(dt)}},{key:"getConversationProfile",value:function(dt){return this._getModule(qr).getConversationProfile(dt)}},{key:"deleteConversation",value:function(dt){return this._getModule(qr).deleteConversation(dt)}},{key:"clearHistoryMessage",value:function(dt){return this._getModule(qr).clearHistoryMessage(dt)}},{key:"pinConversation",value:function(dt){return this._getModule(qr).pinConversation(dt)}},{key:"setAllMessageRead",value:function(dt){return this._getModule(qr).setAllMessageRead(dt)}},{key:"setMessageRemindType",value:function(dt){return this._getModule(qr).setMessageRemindType(dt)}},{key:"getTotalUnreadMessageCount",value:function(){return this._getModule(qr).getTotalUnreadMessageCount()}},{key:"setConversationCustomData",value:function(dt){return this._getModule(qr).setConversationCustomData(dt)}},{key:"markConversation",value:function(dt){return this._getModule(qr).markConversation(dt)}},{key:"getConversationGroupList",value:function(){return this._getModule(qr).getConversationGroupList()}},{key:"createConversationGroup",value:function(dt){return this._getModule(qr).createConversationGroup(dt)}},{key:"deleteConversationGroup",value:function(dt){return this._getModule(qr).deleteConversationGroup(dt)}},{key:"renameConversationGroup",value:function(dt){return this._getModule(qr).renameConversationGroup(dt)}},{key:"addConversationsToGroup",value:function(dt){return this._getModule(qr).addConversationsToGroup(dt)}},{key:"deleteConversationsFromGroup",value:function(dt){return this._getModule(qr).deleteConversationsFromGroup(dt)}},{key:"getMyProfile",value:function(){return this._getModule(Uo).getMyProfile()}},{key:"getUserProfile",value:function(dt){return this._getModule(Uo).getUserProfile(dt)}},{key:"updateMyProfile",value:function(dt){return this._getModule(Uo).updateMyProfile(dt)}},{key:"getBlacklist",value:function(){return this._getModule(Uo).getLocalBlacklist()}},{key:"addToBlacklist",value:function(dt){return this._getModule(Uo).addBlacklist(dt)}},{key:"removeFromBlacklist",value:function(dt){return this._getModule(Uo).deleteBlacklist(dt)}},{key:"setSelfStatus",value:function(dt){return this._getModule(Uo).setSelfStatus(dt)}},{key:"getUserStatus",value:function(dt){return this._getModule(Uo).getUserStatus(dt)}},{key:"subscribeUserStatus",value:function(dt){return this._getModule(Uo).subscribeUserStatus(dt)}},{key:"unsubscribeUserStatus",value:function(dt){return this._getModule(Uo).unsubscribeUserStatus(dt)}},{key:"getFriendList",value:function(){var dt=this._getModule(cs);return dt?dt.getLocalFriendList():rr({code:yr.CANNOT_FIND_MODULE})}},{key:"addFriend",value:function(dt){var yt=this._getModule(cs);return yt?yt.addFriend(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"deleteFriend",value:function(dt){var yt=this._getModule(cs);return yt?yt.deleteFriend(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"checkFriend",value:function(dt){var yt=this._getModule(cs);return yt?yt.checkFriend(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"getFriendProfile",value:function(dt){var yt=this._getModule(cs);return yt?yt.getFriendProfile(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"updateFriend",value:function(dt){var yt=this._getModule(cs);return yt?yt.updateFriend(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"getFriendApplicationList",value:function(){var dt=this._getModule(cs);return dt?dt.getLocalFriendApplicationList():rr({code:yr.CANNOT_FIND_MODULE})}},{key:"acceptFriendApplication",value:function(dt){var yt=this._getModule(cs);return yt?yt.acceptFriendApplication(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"refuseFriendApplication",value:function(dt){var yt=this._getModule(cs);return yt?yt.refuseFriendApplication(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"deleteFriendApplication",value:function(dt){var yt=this._getModule(cs);return yt?yt.deleteFriendApplication(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"setFriendApplicationRead",value:function(){var dt=this._getModule(cs);return dt?dt.setFriendApplicationRead():rr({code:yr.CANNOT_FIND_MODULE})}},{key:"getFriendGroupList",value:function(){var dt=this._getModule(cs);return dt?dt.getLocalFriendGroupList():rr({code:yr.CANNOT_FIND_MODULE})}},{key:"createFriendGroup",value:function(dt){var yt=this._getModule(cs);return yt?yt.createFriendGroup(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"deleteFriendGroup",value:function(dt){var yt=this._getModule(cs);return yt?yt.deleteFriendGroup(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"addToFriendGroup",value:function(dt){var yt=this._getModule(cs);return yt?yt.addToFriendGroup(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"removeFromFriendGroup",value:function(dt){var yt=this._getModule(cs);return yt?yt.removeFromFriendGroup(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"renameFriendGroup",value:function(dt){var yt=this._getModule(cs);return yt?yt.renameFriendGroup(dt):rr({code:yr.CANNOT_FIND_MODULE})}},{key:"getGroupList",value:function(dt){return this._getModule(So).getGroupList(dt)}},{key:"getGroupProfile",value:function(dt){return this._getModule(So).getGroupProfile(dt)}},{key:"createGroup",value:function(dt){return this._getModule(So).createGroup(dt)}},{key:"dismissGroup",value:function(dt){return this._getModule(So).dismissGroup(dt)}},{key:"updateGroupProfile",value:function(dt){return this._getModule(So).updateGroupProfile(dt)}},{key:"joinGroup",value:function(dt){return this._getModule(So).joinGroup(dt)}},{key:"quitGroup",value:function(dt){return this._getModule(So).quitGroup(dt)}},{key:"searchGroupByID",value:function(dt){return this._getModule(So).searchGroupByID(dt)}},{key:"getGroupOnlineMemberCount",value:function(dt){return this._getModule(So).getGroupOnlineMemberCount(dt)}},{key:"changeGroupOwner",value:function(dt){return this._getModule(So).changeGroupOwner(dt)}},{key:"getGroupApplicationList",value:function(){return this._getModule(So).getGroupApplicationList()}},{key:"handleGroupApplication",value:function(dt){return this._getModule(So).handleGroupApplication(dt)}},{key:"initGroupAttributes",value:function(dt){return this._getModule(So).initGroupAttributes(dt)}},{key:"setGroupAttributes",value:function(dt){return this._getModule(So).setGroupAttributes(dt)}},{key:"deleteGroupAttributes",value:function(dt){return this._getModule(So).deleteGroupAttributes(dt)}},{key:"getGroupAttributes",value:function(dt){return this._getModule(So).getGroupAttributes(dt)}},{key:"setGroupCounters",value:function(dt){return this._getModule(So).setGroupCounters(dt)}},{key:"increaseGroupCounter",value:function(dt){return this._getModule(So).increaseGroupCounter(dt)}},{key:"decreaseGroupCounter",value:function(dt){return this._getModule(So).decreaseGroupCounter(dt)}},{key:"getGroupCounters",value:function(dt){return this._getModule(So).getGroupCounters(dt)}},{key:"getGroupMemberList",value:function(dt){return this._getModule(ba).getGroupMemberList(dt)}},{key:"getGroupMemberProfile",value:function(dt){return this._getModule(ba).getGroupMemberProfile(dt)}},{key:"addGroupMember",value:function(dt){return this._getModule(ba).addGroupMember(dt)}},{key:"deleteGroupMember",value:function(dt){return this._getModule(ba).deleteGroupMember(dt)}},{key:"setGroupMemberMuteTime",value:function(dt){return this._getModule(ba).setGroupMemberMuteTime(dt)}},{key:"setGroupMemberRole",value:function(dt){return this._getModule(ba).setGroupMemberRole(dt)}},{key:"setGroupMemberNameCard",value:function(dt){return this._getModule(ba).setGroupMemberNameCard(dt)}},{key:"setGroupMemberCustomField",value:function(dt){return this._getModule(ba).setGroupMemberCustomField(dt)}},{key:"markGroupMemberList",value:function(dt){return this._getModule(ba).markGroupMemberList(dt)}},{key:"getJoinedCommunityList",value:function(){return this._getModule(ys).getJoinedCommunityList()}},{key:"createTopicInCommunity",value:function(dt){return this._getModule(ys).createTopicInCommunity(dt)}},{key:"deleteTopicFromCommunity",value:function(dt){return this._getModule(ys).deleteTopicFromCommunity(dt)}},{key:"updateTopicProfile",value:function(dt){return this._getModule(ys).updateTopicProfile(dt)}},{key:"getTopicList",value:function(dt){return this._getModule(ys).getTopicList(dt)}}]),Gt}(),r0={login:1,logout:1,destroy:1,on:1,off:1,ready:1,setLogLevel:1,joinGroup:1,quitGroup:1,registerPlugin:1,getGroupOnlineMemberCount:1};function k0(Gt,dt){if(Gt.isReady()||r0[dt]===1)return!0;var yt=Gt.getNotReadyReason(),st={code:yt,message:"".concat(Gt.getErrorMessage(yt)," | ").concat(dt," | ").concat(Gt.getErrorMessage(yr.SDK_IS_NOT_READY))};return Gt.onError(st),st}var Ym={},bp={};return bp.create=function(Gt){var dt=0,yt=Gt.SDKAppID;if(Zo(yt))dt=yt;else if(dt=parseInt(yt),isNaN(yt))return pn.e("".concat("TIM.create"," failed. Failed to parse the SDKAppID, please check the arguments")),null;if(dt&&Ym[dt])return Ym[dt];pn.l("".concat("TIM.create"));var st=new hy(rt(rt({},Gt),{},{SDKAppID:dt}));st.on(yn.SDK_DESTROY,function(vt){Ym[vt.data.SDKAppID]=null,delete Ym[vt.data.SDKAppID]});var ht=function(vt){var It=Object.create(null);return Object.keys(ru).forEach(function(kt){if(vt[kt]){var Ot=new En;It[kt]=function(){var Pt=Array.from(arguments);return Ot.use(function(qt,Wt){var ln=k0(vt,kt);return ln===!0?Wt():rr(ln)}).use(function(qt,Wt){if(mr(qt,uo[kt],kt)===!0)return Wt()}).use(function(qt,Wt){return vt[kt].apply(vt,qt)}),Ot.run(Pt)}}}),It}(st);return Ym[dt]=ht,uo.hookGetAPITips(st.getErrorMessage.bind(st)),pn.l("".concat("TIM.create"," ok")),ht},bp.TYPES=Ut,bp.EVENT=yn,bp.VERSION="2.27.6",pn.l("TIM.VERSION:".concat(bp.VERSION)),bp})})(timJs);var timJsExports=timJs.exports;const TIM$1=getDefaultExportFromCjs(timJsExports);var define_import_meta_env_default={VITE_REACT_APP_BASE_API:"https://ruangbola.live",BASE_URL:"/",MODE:"development",DEV:!1,PROD:!0,SSR:!1};const TOAST_CLASSNAME="toast-50",MAX_HISTORY_MESSAGES=20,tim$1=null;let historyMsgDeadlineTime=null;const useChatroom=(_e,et,nt,rt,ot)=>{const{t:it}=useTranslation(),{livestreamSources:ct}=index_min.CONST,{setStore:lt,setStoreValue:pt,resetRoomInfo:mt,sp_source:Mt,site:bt}=useMainStore(),{pathname:At}=useLocation(),wt=_$2.startsWith(At,"/live-detail")&&!_$2.isUndefined(_e),Tt=_$2.startsWith(At,"/score/detail")||_$2.startsWith(At,"/score/basketball/detail"),Rt=wt&&ct.indexOf(ot.livestream_source)>-1||Tt,[Bt,Vt]=setState([]),[$t,Ft]=setState([]),[Ht,Qt]=setState(""),[_n,hn]=setState({}),[Mn,kn]=setState({}),[,Cn,yn]=setState(0),Ut=useMainStore(Ir=>Ir.roomInfo),En=useMainStore(Ir=>Ir.videoFullscreen),vn=useMainStore(Ir=>Ir.curTim),wn=useMainStore(Ir=>Ir.guestInfo),Ln=_$2.get(_e,"id")||Number((et||"").split("_")[1]),{user:Kn}=useSelector(Ir=>Ir.auth),{commonConfig:{config:Rn,emoji:Tn},addRoomNote:Un,isTest:$n}=useConfig(),Vn=(Kn==null?void 0:Kn.id)===(_e==null?void 0:_e.id)||(Kn==null?void 0:Kn.is_anchor_admin)===1,tr=reactExports.useRef(),Jn=reactExports.useRef(),wr=reactExports.useRef([]),jr=reactExports.useRef([]),Zt=reactExports.useRef([]),hr=reactExports.useRef([]),lo=reactExports.useRef(),_o=reactExports.useRef(),bo=Ir=>{Ir&&(_o.current=Ir)},Hr=Ir=>_$2.get(Rn,Ir)||_$2.get(tr.current,Ir),Do=async Ir=>{var mo,Ao;console.log(Ir);for await(const jn of Ir.data){const Br=_$2.get(jn,"payload.data");if(!Br||jn.to!==et)continue;Zt.current=[...Zt.current,jn.ID];const Pn=JSON.parse(Br),{Action:Xr,Data:po}=Pn;if(jn.time<historyMsgDeadlineTime||nt&&nt>0&&jn.time<nt||Xr==="RoomNotifyTypeSetManager"||Xr==="changeRoomTitle"||Xr==="RoomMessage"&&((Ao=(mo=Pn==null?void 0:Pn.Data)==null?void 0:mo.chat)==null?void 0:Ao.ad)==="1"&&(Rn==null?void 0:Rn.room_polling_ad_show_enable)!=="1")continue;if(Xr==="EnterRoomMessage"&&_$2.get(po,"chat.sender.id")>0&&qo(Pn),Xr==="RoomMessage"){if(Kn&&_$2.get(po,"chat.sender.id").toString()===Kn.toString()||!zo(Pn))continue;qo(Pn)}if(Xr==="AttentAnchor"&&Vn&&qo({Data:{chat:{subscribe:!0,message:`${_$2.get(po,"attent.user.nick_name")} `}}}),Xr==="LiveGroupMemberJoinExit"&&await ar(),Xr==="Banuser"){if(!_$2.get(po,"ban.user")||!_$2.get(po,"ban.user.id"))continue;if(Or(_$2.get(po,"ban.user.id")),Vn)qo({Data:{chat:{message:_$2.get(po,"ban.text")}}});else if(bt===Site.br){const ao=_$2.get(po,"ban.for_user_text");qo({Data:{chat:{message:ao}}}),lt(xa=>{xa.timBanMessage=ao})}}if(Xr==="GiftAnimation"){if(!$n)continue;qo(Pn);const{gift:ao}=po;kn({...ao,timestamp:dayjs().valueOf()})}if(Xr==="clearChatList"&&(Vt([]),Ft([])),Xr==="QuizBalanceFinished"){const ao=po.data.quiz_id;ao>0&&await cr(ao)}}},Oo=reactExports.useCallback(async()=>{await vn.off(TIM$1.EVENT.MESSAGE_RECEIVED,Do),await vn.on(TIM$1.EVENT.MESSAGE_RECEIVED,Do),await na(),await ar(),historyMsgDeadlineTime=dayjs().valueOf()/1e3-2*60*60},[vn]);reactExports.useEffect(()=>{vn&&Object.keys(vn).length&&Oo()},[vn,Oo]),useLifecycles(async()=>{await Ar()});const zo=({Data:Ir})=>_$2.isUndefined(_$2.get(Ir,"chat.sender"))?!0:!_$2.isUndefined(_$2.get(Ir,"chat.sender.nick_name")),qo=(Ir,mo=!1)=>{var Br,Pn,Xr,po;const{Action:Ao,Data:jn}=Ir;if(console.log(Ao,jn),!(((Pn=(Br=jn==null?void 0:jn.chat)==null?void 0:Br.sender)==null?void 0:Pn.is_anchor_admin)===1&&((po=(Xr=jn==null?void 0:jn.chat)==null?void 0:Xr.sender)!=null&&po.sp_sources)&&Mt&&!jn.chat.sender.sp_sources.includes(Mt))&&!(!mo&&(!zo(Ir)||_$2.get(jn,"chat.sender.id")&&_$2.get(jn,"chat.sender.id").toString()==="0"&&(Ao==="EnterRoomMessage"||_$2.get(jn,"chat.message")===it(""))||_$2.includes(rt,+_$2.get(jn,"chat.sender.id"))))){if(mo){wr.current=[...wr.current,Ir];const fo=_$2.sortBy(wr.current,Us=>Us.time);Vt(fo)}else if(Ao==="EnterRoomMessage")try{const fo=it("{{name}}",{name:_$2.get(jn,"chat.sender.nick_name")});if(!En){const Us={message:fo,timestamp:dayjs().valueOf()};Un(Us)}}catch{}else jr.current=[...jr.current,Ir],Ft(jr.current.slice(jr.current.length-200,jr.current.length));Jn.current&&(Jn.current.scrollTop=Jn.current.scrollHeight,setTimeout(()=>{Jn.current&&(Jn.current.scrollTop=Jn.current.scrollHeight)},1e3))}},_i=async(Ir,mo,Ao=TIM$1.TYPES.MSG_PRIORITY_NORMAL)=>{if(console.log(Kn,vn),!Kn||!vn)return;const jn={Action:mo,Data:{chat:{sender:{id:Kn.id,nick_name:Kn.nick_name||wn.nick_name,avatar:Kn.avatar,user_level:Kn.user_level?Kn.user_level.toString():"1",vip_level:Kn.vip_level,vip_date:Kn.vip_date,is_anchor:Kn.is_anchor,is_anchor_admin:Kn.is_anchor_admin,is_operate:Kn.is_operate},message:Ir}}};try{const Br=await vn.createCustomMessage({to:et,conversationType:TIM$1.TYPES.CONV_GROUP,priority:Ao,payload:{data:JSON.stringify(jn)}}),Pn=await vn.sendMessage(Br);if(!Pn||Pn.code!==0)return;Zt.current=[...Zt.current,Pn.data.message.ID],qo(mo==="AttentAnchor"?{Data:{chat:{subscribe:!0,message:`${Kn.nick_name}`}}}:jn),Qt(""),lt(Xr=>{Xr.timBanMessage="",Xr.timForbiddenMessage=""}),console.log("done")}catch(Br){const{code:Pn,message:Xr}=Br;switch(console.log(Pn,Xr),Toast.clear(),Pn){case 10016:Toast.fail({message:it(""),className:TOAST_CLASSNAME});break;case 10017:lt(po=>{po.timForbiddenMessage=bt==="br"?"Sua conta permanece silenciada":Xr});break;case 10100:Toast.fail({message:`${it("")}${Xr}`,className:TOAST_CLASSNAME});break;default:Toast.fail({message:Xr,className:TOAST_CLASSNAME})}}},na=async()=>{if(!(!vn||!et))try{(await vn.joinGroup({groupID:et})).data.status==="AlreadyInGroup"&&await vn.joinGroup({groupID:et}),Kn.id!==_$2.get(_e,"id")&&Kn&&await _i(it(""),"EnterRoomMessage",TIM$1.TYPES.MSG_PRIORITY_LOW),await lr(),await Dr()}catch(Ir){const mo=Ir;if(mo.code===10013)return;console.log(Ir),Toast.clear(),Toast.fail({message:mo.message,className:TOAST_CLASSNAME})}},Qn=Ir=>(Ir||0)*Number(Hr("room_people_magnification")),sr=async()=>{try{const{code:Ir,data:{memberCount:mo}}=await vn.getGroupOnlineMemberCount(et);Ir===0&&gr({anchorId:Ln,memberCount:Qn(mo)})}catch{}},ar=async()=>{if(!vn||!et)return;const Ir=(dayjs().valueOf()-yn.current)/1e3;if(yn.current===0||yn.current>0&&Ir>10)try{const{data:Ao}=await vn.getGroupProfile({groupID:et});Cn(dayjs().valueOf());const{group:{type:jn,memberCount:Br}}=Ao;jn==="AVChatRoom"?await sr():gr({anchorId:Ln,memberCount:Qn(Br)})}catch{}},Or=Ir=>{jr.current=jr.current.filter(({Data:mo})=>_$2.get(mo,"chat.sender")?_$2.get(mo,"chat.sender.id").toString()!==Ir.toString():!0),Ft(jr.current);try{const mo=wr.current.filter(Ao=>{const{Data:jn}=Ao;return _$2.get(jn,"chat.sender")?jn.chat.sender.id.toString()!==Ir.toString():!0});Vt(mo)}catch(mo){console.log(mo)}Jn.current&&(Jn.current.scrollTop=Jn.current.scrollHeight,setTimeout(()=>{Jn.current&&(Jn.current.scrollTop=Jn.current.scrollHeight)},1e3))},Dr=async()=>{const{history_message:Ir}=ot;if(Array.isArray(ot==null?void 0:ot.history_message))for(const mo of Ir){const{Action:Ao,Data:jn}=mo;if(Ao==="RoomMessage"&&jn&&jn.chat)try{qo(mo,!0)}catch{}}},lr=async Ir=>{if(!et||!vn)return;let mo=!1;try{const Ao=await vn.getMessageList({conversationID:"GROUP"+et,nextReqMessageID:Ir}),jn=_$2.get(Ao,"data.messageList");for(let Xr=0;Xr<jn.length;Xr++){if(_$2.size(hr.current)>=MAX_HISTORY_MESSAGES){mo=!0;break}const po=jn[Xr];if(!po.payload.data||po.time<historyMsgDeadlineTime||nt&&nt>0&&po.time<nt||Zt.current.indexOf(po.ID)>-1)continue;const Us=JSON.parse(_$2.get(po,"payload.data")),{Action:ao,Data:xa}=Us;_$2.size(rt)&&_$2.includes(rt,+_$2.get(xa,"chat.sender.id"))||ao==="LiveGroupMemberJoinExit"||ao==="RoomNotifyTypeSetManager"||ao==="changeRoomTitle"||ao==="Banuser"||ao==="EnterRoomMessage"||_$2.get(xa,"chat.message")===it("")||(hr.current=[...hr.current,po],qo(po,!0))}const Br=Ao.data.nextReqMessageID;if(Ao.data.isCompleted||mo)return;mo||await lr(Br)}catch(Ao){define_import_meta_env_default.NODE==="development"&&console.log("~~~getMessageList exception: ",Ao.message)}},cr=async Ir=>{try{const{status:mo,data:Ao}=await getQuizBalanceApi({quiz_id:Ir});if(mo===0){const{quiz:jn,user_votes:Br,sum_amount:Pn}=Ao,Xr=Br.find(({uid:po})=>po===Kn.id);Xr&&hn({...jn,...Xr,sum_amount:Pn})}}catch{}},gr=Ir=>{pt({roomInfo:Ir})},Mr=()=>{const{giftAnime:Ir}=useMainStore.getState(),mo=!Ir;pt({giftAnime:!useMainStore.getState().giftAnime}),Toast.info({message:`${mo?"":""}`,className:TOAST_CLASSNAME})},Ar=async()=>{if(define_import_meta_env_default.NODE==="development"&&console.log("~~~ exit chatroom and destroy"),vn&&Object.keys(vn).length&&(vn.off(TIM$1.EVENT.MESSAGE_RECEIVED,Do),(Kn||_$2.size(wn.nick_name))&&Kn.id!==_$2.get(_e,"id")&&et))try{await vn.quitGroup(et)}catch(Ir){Toast.clear(),Toast.fail({message:Ir.message,className:TOAST_CLASSNAME})}mt()};return{roomInfo:Ut,setRoomInfo:gr,resetRoomInfo:mt,TIM:TIM$1,tim:tim$1,config:Rn,scroll:Jn,input:lo,sendMsg:_i,historyMsgs:Bt,msgs:$t,setInput:Qt,inputMsg:Ht,isLiveroom:wt,isRaceroom:Tt,isChat:Rt,voteResult:_n,giftNotify:Mn,setVoteResult:hn,toggleGiftAnime:Mr,emoji:Tn,setPlayer:bo}},useGift=()=>{const{setStoreValue:_e}=useMainStore(),{pathname:et}=useLocation(),nt=_$2.startsWith(et,"/live-detail"),rt=async()=>{let Tt={gift:[],gold:[]};try{const{data:Rt}=await getPackageListApi();Tt=_$2.cloneDeep(Rt)}catch{}return _e({packageList:Tt}),Tt},ot=async Tt=>{const{data:Rt}=await getAvailablePackagesApi(Tt);return Rt&&_e({availablePackages:Rt}),Rt},it=Tt=>{_e({availablePackages:[Tt]})},ct=()=>{_e({availablePackages:[]})},lt=async()=>{const{data:Tt}=await getGiftListApi();return Tt&&_e({giftList:Tt}),Tt},pt=async()=>{const{data:Tt}=await getUserBagListApi();return Tt&&_e({userBagItems:Tt}),Tt},mt=useMainStore(Tt=>Tt.packageList),Mt=useMainStore(Tt=>Tt.availablePackages),bt=useMainStore(Tt=>Tt.giftList),At=useMainStore(Tt=>Tt.userBagItems),wt=useMainStore(Tt=>Tt.giftAnime);return{getPackageList:rt,getUserBagList:pt,getAvailablePackages:ot,setAvailablePackage:it,resetAvailablePackages:ct,packageList:mt,availablePackages:Mt,getGiftList:lt,giftList:bt,userBagItems:At,isLiveroom:nt,isGiftAnimeOn:wt}};var svga_min={exports:{}};(function(module,exports){(function(_e,et){module.exports=et()})(window,function(){return function(_e){function et(rt){if(nt[rt])return nt[rt].exports;var ot=nt[rt]={i:rt,l:!1,exports:{}};return _e[rt].call(ot.exports,ot,ot.exports,et),ot.l=!0,ot.exports}var nt={};return et.m=_e,et.c=nt,et.d=function(rt,ot,it){et.o(rt,ot)||Object.defineProperty(rt,ot,{enumerable:!0,get:it})},et.r=function(rt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(rt,"__esModule",{value:!0})},et.t=function(rt,ot){if(1&ot&&(rt=et(rt)),8&ot||4&ot&&typeof rt=="object"&&rt&&rt.__esModule)return rt;var it=Object.create(null);if(et.r(it),Object.defineProperty(it,"default",{enumerable:!0,value:rt}),2&ot&&typeof rt!="string")for(var ct in rt)et.d(it,ct,(function(lt){return rt[lt]}).bind(null,ct));return it},et.n=function(rt){var ot=rt&&rt.__esModule?function(){return rt.default}:function(){return rt};return et.d(ot,"a",ot),ot},et.o=function(rt,ot){return Object.prototype.hasOwnProperty.call(rt,ot)},et.p="",et(et.s=64)}([function(_e,et,nt){var rt,ot,it=_e.exports=nt(1),ct=nt(20);it.codegen=nt(47),it.fetch=nt(48),it.path=nt(49),it.fs=it.inquire("fs"),it.toArray=function(bt){if(bt){for(var At=Object.keys(bt),wt=new Array(At.length),Tt=0;Tt<At.length;)wt[Tt]=bt[At[Tt++]];return wt}return[]},it.toObject=function(bt){for(var At={},wt=0;wt<bt.length;){var Tt=bt[wt++],Rt=bt[wt++];Rt!==void 0&&(At[Tt]=Rt)}return At};var lt=/\\/g,pt=/"/g;it.isReserved=function(bt){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(bt)},it.safeProp=function(bt){return!/^[$\w_]+$/.test(bt)||it.isReserved(bt)?'["'+bt.replace(lt,"\\\\").replace(pt,'\\"')+'"]':"."+bt},it.ucFirst=function(bt){return bt.charAt(0).toUpperCase()+bt.substring(1)};var mt=/_([a-z])/g;it.camelCase=function(bt){return bt.substring(0,1)+bt.substring(1).replace(mt,function(At,wt){return wt.toUpperCase()})},it.compareFieldsById=function(bt,At){return bt.id-At.id},it.decorateType=function(bt,At){if(bt.$type)return At&&bt.$type.name!==At&&(it.decorateRoot.remove(bt.$type),bt.$type.name=At,it.decorateRoot.add(bt.$type)),bt.$type;rt||(rt=nt(22));var wt=new rt(At||bt.name);return it.decorateRoot.add(wt),wt.ctor=bt,Object.defineProperty(bt,"$type",{value:wt,enumerable:!1}),Object.defineProperty(bt.prototype,"$type",{value:wt,enumerable:!1}),wt};var Mt=0;it.decorateEnum=function(bt){if(bt.$type)return bt.$type;ot||(ot=nt(2));var At=new ot("Enum"+Mt++,bt);return it.decorateRoot.add(At),Object.defineProperty(bt,"$type",{value:At,enumerable:!1}),At},it.setProperty=function(bt,At,wt){if(typeof bt!="object")throw TypeError("dst must be an object");if(!At)throw TypeError("path must be specified");return function Tt(Rt,Bt,Vt){var $t=Bt.shift();if(Bt.length>0)Rt[$t]=Tt(Rt[$t]||{},Bt,Vt);else{var Ft=Rt[$t];Ft&&(Vt=[].concat(Ft).concat(Vt)),Rt[$t]=Vt}return Rt}(bt,At=At.split("."),wt)},Object.defineProperty(it,"decorateRoot",{get:function(){return ct.decorated||(ct.decorated=new(nt(30)))}})},function(_e,et,nt){(function(rt){function ot(lt,pt,mt){for(var Mt=Object.keys(pt),bt=0;bt<Mt.length;++bt)lt[Mt[bt]]!==void 0&&mt||(lt[Mt[bt]]=pt[Mt[bt]]);return lt}function it(lt){function pt(mt,Mt){if(!(this instanceof pt))return new pt(mt,Mt);Object.defineProperty(this,"message",{get:function(){return mt}}),Error.captureStackTrace?Error.captureStackTrace(this,pt):Object.defineProperty(this,"stack",{value:new Error().stack||""}),Mt&&ot(this,Mt)}return(pt.prototype=Object.create(Error.prototype)).constructor=pt,Object.defineProperty(pt.prototype,"name",{get:function(){return lt}}),pt.prototype.toString=function(){return this.name+": "+this.message},pt}var ct=et;ct.asPromise=nt(17),ct.base64=nt(38),ct.EventEmitter=nt(39),ct.float=nt(40),ct.inquire=nt(18),ct.utf8=nt(41),ct.pool=nt(42),ct.LongBits=nt(43),ct.isNode=!!(rt!==void 0&&rt&&rt.process&&rt.process.versions&&rt.process.versions.node),ct.global=ct.isNode&&rt||typeof window<"u"&&window||typeof self<"u"&&self||this,ct.emptyArray=Object.freeze?Object.freeze([]):[],ct.emptyObject=Object.freeze?Object.freeze({}):{},ct.isInteger=Number.isInteger||function(lt){return typeof lt=="number"&&isFinite(lt)&&Math.floor(lt)===lt},ct.isString=function(lt){return typeof lt=="string"||lt instanceof String},ct.isObject=function(lt){return lt&&typeof lt=="object"},ct.isset=ct.isSet=function(lt,pt){var mt=lt[pt];return!(mt==null||!lt.hasOwnProperty(pt))&&(typeof mt!="object"||(Array.isArray(mt)?mt.length:Object.keys(mt).length)>0)},ct.Buffer=function(){try{var lt=ct.inquire("buffer").Buffer;return lt.prototype.utf8Write?lt:null}catch{return null}}(),ct._Buffer_from=null,ct._Buffer_allocUnsafe=null,ct.newBuffer=function(lt){return typeof lt=="number"?ct.Buffer?ct._Buffer_allocUnsafe(lt):new ct.Array(lt):ct.Buffer?ct._Buffer_from(lt):typeof Uint8Array>"u"?lt:new Uint8Array(lt)},ct.Array=typeof Uint8Array<"u"?Uint8Array:Array,ct.Long=ct.global.dcodeIO&&ct.global.dcodeIO.Long||ct.global.Long||ct.inquire("long"),ct.key2Re=/^true|false|0|1$/,ct.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ct.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ct.longToHash=function(lt){return lt?ct.LongBits.from(lt).toHash():ct.LongBits.zeroHash},ct.longFromHash=function(lt,pt){var mt=ct.LongBits.fromHash(lt);return ct.Long?ct.Long.fromBits(mt.lo,mt.hi,pt):mt.toNumber(!!pt)},ct.merge=ot,ct.lcFirst=function(lt){return lt.charAt(0).toLowerCase()+lt.substring(1)},ct.newError=it,ct.ProtocolError=it("ProtocolError"),ct.oneOfGetter=function(lt){for(var pt={},mt=0;mt<lt.length;++mt)pt[lt[mt]]=1;return function(){for(var Mt=Object.keys(this),bt=Mt.length-1;bt>-1;--bt)if(pt[Mt[bt]]===1&&this[Mt[bt]]!==void 0&&this[Mt[bt]]!==null)return Mt[bt]}},ct.oneOfSetter=function(lt){return function(pt){for(var mt=0;mt<lt.length;++mt)lt[mt]!==pt&&delete this[lt[mt]]}},ct.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ct._configure=function(){var lt=ct.Buffer;lt?(ct._Buffer_from=lt.from!==Uint8Array.from&&lt.from||function(pt,mt){return new lt(pt,mt)},ct._Buffer_allocUnsafe=lt.allocUnsafe||function(pt){return new lt(pt)}):ct._Buffer_from=ct._Buffer_allocUnsafe=null}}).call(this,nt(37))},function(_e,et,nt){function rt(lt,pt,mt,Mt,bt){if(ot.call(this,lt,mt),pt&&typeof pt!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=Mt,this.comments=bt||{},this.reserved=void 0,pt)for(var At=Object.keys(pt),wt=0;wt<At.length;++wt)typeof pt[At[wt]]=="number"&&(this.valuesById[this.values[At[wt]]=pt[At[wt]]]=At[wt])}_e.exports=rt;var ot=nt(3);((rt.prototype=Object.create(ot.prototype)).constructor=rt).className="Enum";var it=nt(6),ct=nt(0);rt.fromJSON=function(lt,pt){var mt=new rt(lt,pt.values,pt.options,pt.comment,pt.comments);return mt.reserved=pt.reserved,mt},rt.prototype.toJSON=function(lt){var pt=!!lt&&!!lt.keepComments;return ct.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",pt?this.comment:void 0,"comments",pt?this.comments:void 0])},rt.prototype.add=function(lt,pt,mt){if(!ct.isString(lt))throw TypeError("name must be a string");if(!ct.isInteger(pt))throw TypeError("id must be an integer");if(this.values[lt]!==void 0)throw Error("duplicate name '"+lt+"' in "+this);if(this.isReservedId(pt))throw Error("id "+pt+" is reserved in "+this);if(this.isReservedName(lt))throw Error("name '"+lt+"' is reserved in "+this);if(this.valuesById[pt]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+pt+" in "+this);this.values[lt]=pt}else this.valuesById[this.values[lt]=pt]=lt;return this.comments[lt]=mt||null,this},rt.prototype.remove=function(lt){if(!ct.isString(lt))throw TypeError("name must be a string");var pt=this.values[lt];if(pt==null)throw Error("name '"+lt+"' does not exist in "+this);return delete this.valuesById[pt],delete this.values[lt],delete this.comments[lt],this},rt.prototype.isReservedId=function(lt){return it.isReservedId(this.reserved,lt)},rt.prototype.isReservedName=function(lt){return it.isReservedName(this.reserved,lt)}},function(_e,et,nt){function rt(ct,lt){if(!it.isString(ct))throw TypeError("name must be a string");if(lt&&!it.isObject(lt))throw TypeError("options must be an object");this.options=lt,this.parsedOptions=null,this.name=ct,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}_e.exports=rt,rt.className="ReflectionObject";var ot,it=nt(0);Object.defineProperties(rt.prototype,{root:{get:function(){for(var ct=this;ct.parent!==null;)ct=ct.parent;return ct}},fullName:{get:function(){for(var ct=[this.name],lt=this.parent;lt;)ct.unshift(lt.name),lt=lt.parent;return ct.join(".")}}}),rt.prototype.toJSON=function(){throw Error()},rt.prototype.onAdd=function(ct){this.parent&&this.parent!==ct&&this.parent.remove(this),this.parent=ct,this.resolved=!1;var lt=ct.root;lt instanceof ot&&lt._handleAdd(this)},rt.prototype.onRemove=function(ct){var lt=ct.root;lt instanceof ot&&lt._handleRemove(this),this.parent=null,this.resolved=!1},rt.prototype.resolve=function(){return this.resolved?this:(this.root instanceof ot&&(this.resolved=!0),this)},rt.prototype.getOption=function(ct){if(this.options)return this.options[ct]},rt.prototype.setOption=function(ct,lt,pt){return pt&&this.options&&this.options[ct]!==void 0||((this.options||(this.options={}))[ct]=lt),this},rt.prototype.setParsedOption=function(ct,lt,pt){this.parsedOptions||(this.parsedOptions=[]);var mt=this.parsedOptions;if(pt){var Mt=mt.find(function(wt){return Object.prototype.hasOwnProperty.call(wt,ct)});if(Mt){var bt=Mt[ct];it.setProperty(bt,pt,lt)}else(Mt={})[ct]=it.setProperty({},pt,lt),mt.push(Mt)}else{var At={};At[ct]=lt,mt.push(At)}return this},rt.prototype.setOptions=function(ct,lt){if(ct)for(var pt=Object.keys(ct),mt=0;mt<pt.length;++mt)this.setOption(pt[mt],ct[pt[mt]],lt);return this},rt.prototype.toString=function(){var ct=this.constructor.className,lt=this.fullName;return lt.length?ct+" "+lt:ct},rt._configure=function(ct){ot=ct}},function(_e,et,nt){function rt(Mt,bt,At,wt,Tt,Rt,Bt){if(pt.isObject(wt)?(Bt=Tt,Rt=wt,wt=Tt=void 0):pt.isObject(Tt)&&(Bt=Rt,Rt=Tt,Tt=void 0),ot.call(this,Mt,Rt),!pt.isInteger(bt)||bt<0)throw TypeError("id must be a non-negative integer");if(!pt.isString(At))throw TypeError("type must be a string");if(wt!==void 0&&!mt.test(wt=wt.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(Tt!==void 0&&!pt.isString(Tt))throw TypeError("extend must be a string");this.rule=wt&&wt!=="optional"?wt:void 0,this.type=At,this.id=bt,this.extend=Tt||void 0,this.required=wt==="required",this.optional=!this.required,this.repeated=wt==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!pt.Long&&lt.long[At]!==void 0,this.bytes=At==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=Bt}_e.exports=rt;var ot=nt(3);((rt.prototype=Object.create(ot.prototype)).constructor=rt).className="Field";var it,ct=nt(2),lt=nt(7),pt=nt(0),mt=/^required|optional|repeated$/;rt.fromJSON=function(Mt,bt){return new rt(Mt,bt.id,bt.type,bt.rule,bt.extend,bt.options,bt.comment)},Object.defineProperty(rt.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),rt.prototype.setOption=function(Mt,bt,At){return Mt==="packed"&&(this._packed=null),ot.prototype.setOption.call(this,Mt,bt,At)},rt.prototype.toJSON=function(Mt){var bt=!!Mt&&!!Mt.keepComments;return pt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",bt?this.comment:void 0])},rt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=lt.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof it?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof ct&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof ct)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=pt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var Mt;pt.base64.test(this.typeDefault)?pt.base64.decode(this.typeDefault,Mt=pt.newBuffer(pt.base64.length(this.typeDefault)),0):pt.utf8.write(this.typeDefault,Mt=pt.newBuffer(pt.utf8.length(this.typeDefault)),0),this.typeDefault=Mt}return this.map?this.defaultValue=pt.emptyObject:this.repeated?this.defaultValue=pt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof it&&(this.parent.ctor.prototype[this.name]=this.defaultValue),ot.prototype.resolve.call(this)},rt.d=function(Mt,bt,At,wt){return typeof bt=="function"?bt=pt.decorateType(bt).name:bt&&typeof bt=="object"&&(bt=pt.decorateEnum(bt).name),function(Tt,Rt){pt.decorateType(Tt.constructor).add(new rt(Rt,Mt,bt,At,{default:wt}))}},rt._configure=function(Mt){it=Mt}},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.BezierPath=function rt(ot,it,ct){(function(lt,pt){if(!(lt instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,rt),this._d=ot,this._transform=it,this._styles=ct}},function(_e,et,nt){function rt(At,wt){if(At&&At.length){for(var Tt={},Rt=0;Rt<At.length;++Rt)Tt[At[Rt].name]=At[Rt].toJSON(wt);return Tt}}function ot(At,wt){ct.call(this,At,wt),this.nested=void 0,this._nestedArray=null}function it(At){return At._nestedArray=null,At}_e.exports=ot;var ct=nt(3);((ot.prototype=Object.create(ct.prototype)).constructor=ot).className="Namespace";var lt,pt,mt,Mt=nt(4),bt=nt(0);ot.fromJSON=function(At,wt){return new ot(At,wt.options).addJSON(wt.nested)},ot.arrayToJSON=rt,ot.isReservedId=function(At,wt){if(At){for(var Tt=0;Tt<At.length;++Tt)if(typeof At[Tt]!="string"&&At[Tt][0]<=wt&&At[Tt][1]>wt)return!0}return!1},ot.isReservedName=function(At,wt){if(At){for(var Tt=0;Tt<At.length;++Tt)if(At[Tt]===wt)return!0}return!1},Object.defineProperty(ot.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=bt.toArray(this.nested))}}),ot.prototype.toJSON=function(At){return bt.toObject(["options",this.options,"nested",rt(this.nestedArray,At)])},ot.prototype.addJSON=function(At){if(At)for(var wt,Tt=Object.keys(At),Rt=0;Rt<Tt.length;++Rt)wt=At[Tt[Rt]],this.add((wt.fields!==void 0?lt.fromJSON:wt.values!==void 0?mt.fromJSON:wt.methods!==void 0?pt.fromJSON:wt.id!==void 0?Mt.fromJSON:ot.fromJSON)(Tt[Rt],wt));return this},ot.prototype.get=function(At){return this.nested&&this.nested[At]||null},ot.prototype.getEnum=function(At){if(this.nested&&this.nested[At]instanceof mt)return this.nested[At].values;throw Error("no such enum: "+At)},ot.prototype.add=function(At){if(!(At instanceof Mt&&At.extend!==void 0||At instanceof lt||At instanceof mt||At instanceof pt||At instanceof ot))throw TypeError("object must be a valid nested object");if(this.nested){var wt=this.get(At.name);if(wt){if(!(wt instanceof ot&&At instanceof ot)||wt instanceof lt||wt instanceof pt)throw Error("duplicate name '"+At.name+"' in "+this);for(var Tt=wt.nestedArray,Rt=0;Rt<Tt.length;++Rt)At.add(Tt[Rt]);this.remove(wt),this.nested||(this.nested={}),At.setOptions(wt.options,!0)}}else this.nested={};return this.nested[At.name]=At,At.onAdd(this),it(this)},ot.prototype.remove=function(At){if(!(At instanceof ct))throw TypeError("object must be a ReflectionObject");if(At.parent!==this)throw Error(At+" is not a member of "+this);return delete this.nested[At.name],Object.keys(this.nested).length||(this.nested=void 0),At.onRemove(this),it(this)},ot.prototype.define=function(At,wt){if(bt.isString(At))At=At.split(".");else if(!Array.isArray(At))throw TypeError("illegal path");if(At&&At.length&&At[0]==="")throw Error("path must be relative");for(var Tt=this;At.length>0;){var Rt=At.shift();if(Tt.nested&&Tt.nested[Rt]){if(!((Tt=Tt.nested[Rt])instanceof ot))throw Error("path conflicts with non-namespace objects")}else Tt.add(Tt=new ot(Rt))}return wt&&Tt.addJSON(wt),Tt},ot.prototype.resolveAll=function(){for(var At=this.nestedArray,wt=0;wt<At.length;)At[wt]instanceof ot?At[wt++].resolveAll():At[wt++].resolve();return this.resolve()},ot.prototype.lookup=function(At,wt,Tt){if(typeof wt=="boolean"?(Tt=wt,wt=void 0):wt&&!Array.isArray(wt)&&(wt=[wt]),bt.isString(At)&&At.length){if(At===".")return this.root;At=At.split(".")}else if(!At.length)return this;if(At[0]==="")return this.root.lookup(At.slice(1),wt);var Rt=this.get(At[0]);if(Rt){if(At.length===1){if(!wt||wt.indexOf(Rt.constructor)>-1)return Rt}else if(Rt instanceof ot&&(Rt=Rt.lookup(At.slice(1),wt,!0)))return Rt}else for(var Bt=0;Bt<this.nestedArray.length;++Bt)if(this._nestedArray[Bt]instanceof ot&&(Rt=this._nestedArray[Bt].lookup(At,wt,!0)))return Rt;return this.parent===null||Tt?null:this.parent.lookup(At,wt)},ot.prototype.lookupType=function(At){var wt=this.lookup(At,[lt]);if(!wt)throw Error("no such type: "+At);return wt},ot.prototype.lookupEnum=function(At){var wt=this.lookup(At,[mt]);if(!wt)throw Error("no such Enum '"+At+"' in "+this);return wt},ot.prototype.lookupTypeOrEnum=function(At){var wt=this.lookup(At,[lt,mt]);if(!wt)throw Error("no such Type or Enum '"+At+"' in "+this);return wt},ot.prototype.lookupService=function(At){var wt=this.lookup(At,[pt]);if(!wt)throw Error("no such Service '"+At+"' in "+this);return wt},ot._configure=function(At,wt,Tt){lt=At,pt=wt,mt=Tt}},function(_e,et,nt){function rt(lt,pt){var mt=0,Mt={};for(pt|=0;mt<lt.length;)Mt[ct[mt+pt]]=lt[mt++];return Mt}var ot=et,it=nt(0),ct=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];ot.basic=rt([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),ot.defaults=rt([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",it.emptyArray,null]),ot.long=rt([0,0,0,1,1],7),ot.mapKey=rt([0,0,0,5,5,0,0,0,1,1,0,2],2),ot.packed=rt([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(_e,et,nt){function rt(lt,pt){return Object.prototype.hasOwnProperty.call(lt,pt)}var ot=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";et.assign=function(lt){for(var pt=Array.prototype.slice.call(arguments,1);pt.length;){var mt=pt.shift();if(mt){if(typeof mt!="object")throw new TypeError(mt+"must be non-object");for(var Mt in mt)rt(mt,Mt)&&(lt[Mt]=mt[Mt])}}return lt},et.shrinkBuf=function(lt,pt){return lt.length===pt?lt:lt.subarray?lt.subarray(0,pt):(lt.length=pt,lt)};var it={arraySet:function(lt,pt,mt,Mt,bt){if(pt.subarray&&lt.subarray)lt.set(pt.subarray(mt,mt+Mt),bt);else for(var At=0;At<Mt;At++)lt[bt+At]=pt[mt+At]},flattenChunks:function(lt){var pt,mt,Mt,bt,At,wt;for(Mt=0,pt=0,mt=lt.length;pt<mt;pt++)Mt+=lt[pt].length;for(wt=new Uint8Array(Mt),bt=0,pt=0,mt=lt.length;pt<mt;pt++)At=lt[pt],wt.set(At,bt),bt+=At.length;return wt}},ct={arraySet:function(lt,pt,mt,Mt,bt){for(var At=0;At<Mt;At++)lt[bt+At]=pt[mt+At]},flattenChunks:function(lt){return[].concat.apply([],lt)}};et.setTyped=function(lt){lt?(et.Buf8=Uint8Array,et.Buf16=Uint16Array,et.Buf32=Int32Array,et.assign(et,it)):(et.Buf8=Array,et.Buf16=Array,et.Buf32=Array,et.assign(et,ct))},et.setTyped(ot)},function(_e,et,nt){function rt($t,Ft,Ht){this.fn=$t,this.len=Ft,this.next=void 0,this.val=Ht}function ot(){}function it($t){this.head=$t.head,this.tail=$t.tail,this.len=$t.len,this.next=$t.states}function ct(){this.len=0,this.head=new rt(ot,0,0),this.tail=this.head,this.states=null}function lt($t,Ft,Ht){Ft[Ht]=255&$t}function pt($t,Ft){this.len=$t,this.next=void 0,this.val=Ft}function mt($t,Ft,Ht){for(;$t.hi;)Ft[Ht++]=127&$t.lo|128,$t.lo=($t.lo>>>7|$t.hi<<25)>>>0,$t.hi>>>=7;for(;$t.lo>127;)Ft[Ht++]=127&$t.lo|128,$t.lo=$t.lo>>>7;Ft[Ht++]=$t.lo}function Mt($t,Ft,Ht){Ft[Ht]=255&$t,Ft[Ht+1]=$t>>>8&255,Ft[Ht+2]=$t>>>16&255,Ft[Ht+3]=$t>>>24}_e.exports=ct;var bt,At=nt(1),wt=At.LongBits,Tt=At.base64,Rt=At.utf8,Bt=function(){return At.Buffer?function(){return(ct.create=function(){return new bt})()}:function(){return new ct}};ct.create=Bt(),ct.alloc=function($t){return new At.Array($t)},At.Array!==Array&&(ct.alloc=At.pool(ct.alloc,At.Array.prototype.subarray)),ct.prototype._push=function($t,Ft,Ht){return this.tail=this.tail.next=new rt($t,Ft,Ht),this.len+=Ft,this},pt.prototype=Object.create(rt.prototype),pt.prototype.fn=function($t,Ft,Ht){for(;$t>127;)Ft[Ht++]=127&$t|128,$t>>>=7;Ft[Ht]=$t},ct.prototype.uint32=function($t){return this.len+=(this.tail=this.tail.next=new pt(($t>>>=0)<128?1:$t<16384?2:$t<2097152?3:$t<268435456?4:5,$t)).len,this},ct.prototype.int32=function($t){return $t<0?this._push(mt,10,wt.fromNumber($t)):this.uint32($t)},ct.prototype.sint32=function($t){return this.uint32(($t<<1^$t>>31)>>>0)},ct.prototype.uint64=function($t){var Ft=wt.from($t);return this._push(mt,Ft.length(),Ft)},ct.prototype.int64=ct.prototype.uint64,ct.prototype.sint64=function($t){var Ft=wt.from($t).zzEncode();return this._push(mt,Ft.length(),Ft)},ct.prototype.bool=function($t){return this._push(lt,1,$t?1:0)},ct.prototype.fixed32=function($t){return this._push(Mt,4,$t>>>0)},ct.prototype.sfixed32=ct.prototype.fixed32,ct.prototype.fixed64=function($t){var Ft=wt.from($t);return this._push(Mt,4,Ft.lo)._push(Mt,4,Ft.hi)},ct.prototype.sfixed64=ct.prototype.fixed64,ct.prototype.float=function($t){return this._push(At.float.writeFloatLE,4,$t)},ct.prototype.double=function($t){return this._push(At.float.writeDoubleLE,8,$t)};var Vt=At.Array.prototype.set?function($t,Ft,Ht){Ft.set($t,Ht)}:function($t,Ft,Ht){for(var Qt=0;Qt<$t.length;++Qt)Ft[Ht+Qt]=$t[Qt]};ct.prototype.bytes=function($t){var Ft=$t.length>>>0;if(!Ft)return this._push(lt,1,0);if(At.isString($t)){var Ht=ct.alloc(Ft=Tt.length($t));Tt.decode($t,Ht,0),$t=Ht}return this.uint32(Ft)._push(Vt,Ft,$t)},ct.prototype.string=function($t){var Ft=Rt.length($t);return Ft?this.uint32(Ft)._push(Rt.write,Ft,$t):this._push(lt,1,0)},ct.prototype.fork=function(){return this.states=new it(this),this.head=this.tail=new rt(ot,0,0),this.len=0,this},ct.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new rt(ot,0,0),this.len=0),this},ct.prototype.ldelim=function(){var $t=this.head,Ft=this.tail,Ht=this.len;return this.reset().uint32(Ht),Ht&&(this.tail.next=$t.next,this.tail=Ft,this.len+=Ht),this},ct.prototype.finish=function(){for(var $t=this.head.next,Ft=this.constructor.alloc(this.len),Ht=0;$t;)$t.fn($t.val,Ft,Ht),Ht+=$t.len,$t=$t.next;return Ft},ct._configure=function($t){bt=$t,ct.create=Bt(),bt._configure()}},function(_e,et,nt){function rt(Tt,Rt){return RangeError("index out of range: "+Tt.pos+" + "+(Rt||1)+" > "+Tt.len)}function ot(Tt){this.buf=Tt,this.pos=0,this.len=Tt.length}function it(){var Tt=new Mt(0,0),Rt=0;if(!(this.len-this.pos>4)){for(;Rt<3;++Rt){if(this.pos>=this.len)throw rt(this);if(Tt.lo=(Tt.lo|(127&this.buf[this.pos])<<7*Rt)>>>0,this.buf[this.pos++]<128)return Tt}return Tt.lo=(Tt.lo|(127&this.buf[this.pos++])<<7*Rt)>>>0,Tt}for(;Rt<4;++Rt)if(Tt.lo=(Tt.lo|(127&this.buf[this.pos])<<7*Rt)>>>0,this.buf[this.pos++]<128)return Tt;if(Tt.lo=(Tt.lo|(127&this.buf[this.pos])<<28)>>>0,Tt.hi=(Tt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return Tt;if(Rt=0,this.len-this.pos>4){for(;Rt<5;++Rt)if(Tt.hi=(Tt.hi|(127&this.buf[this.pos])<<7*Rt+3)>>>0,this.buf[this.pos++]<128)return Tt}else for(;Rt<5;++Rt){if(this.pos>=this.len)throw rt(this);if(Tt.hi=(Tt.hi|(127&this.buf[this.pos])<<7*Rt+3)>>>0,this.buf[this.pos++]<128)return Tt}throw Error("invalid varint encoding")}function ct(Tt,Rt){return(Tt[Rt-4]|Tt[Rt-3]<<8|Tt[Rt-2]<<16|Tt[Rt-1]<<24)>>>0}function lt(){if(this.pos+8>this.len)throw rt(this,8);return new Mt(ct(this.buf,this.pos+=4),ct(this.buf,this.pos+=4))}_e.exports=ot;var pt,mt=nt(1),Mt=mt.LongBits,bt=mt.utf8,At=typeof Uint8Array<"u"?function(Tt){if(Tt instanceof Uint8Array||Array.isArray(Tt))return new ot(Tt);throw Error("illegal buffer")}:function(Tt){if(Array.isArray(Tt))return new ot(Tt);throw Error("illegal buffer")},wt=function(){return mt.Buffer?function(Tt){return(ot.create=function(Rt){return mt.Buffer.isBuffer(Rt)?new pt(Rt):At(Rt)})(Tt)}:At};ot.create=wt(),ot.prototype._slice=mt.Array.prototype.subarray||mt.Array.prototype.slice,ot.prototype.uint32=function(){var Tt=4294967295;return function(){if(Tt=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Tt=(Tt|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Tt=(Tt|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Tt=(Tt|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Tt=(Tt|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Tt;if((this.pos+=5)>this.len)throw this.pos=this.len,rt(this,10);return Tt}}(),ot.prototype.int32=function(){return 0|this.uint32()},ot.prototype.sint32=function(){var Tt=this.uint32();return Tt>>>1^-(1&Tt)|0},ot.prototype.bool=function(){return this.uint32()!==0},ot.prototype.fixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return ct(this.buf,this.pos+=4)},ot.prototype.sfixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return 0|ct(this.buf,this.pos+=4)},ot.prototype.float=function(){if(this.pos+4>this.len)throw rt(this,4);var Tt=mt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Tt},ot.prototype.double=function(){if(this.pos+8>this.len)throw rt(this,4);var Tt=mt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Tt},ot.prototype.bytes=function(){var Tt=this.uint32(),Rt=this.pos,Bt=this.pos+Tt;if(Bt>this.len)throw rt(this,Tt);return this.pos+=Tt,Array.isArray(this.buf)?this.buf.slice(Rt,Bt):Rt===Bt?new this.buf.constructor(0):this._slice.call(this.buf,Rt,Bt)},ot.prototype.string=function(){var Tt=this.bytes();return bt.read(Tt,0,Tt.length)},ot.prototype.skip=function(Tt){if(typeof Tt=="number"){if(this.pos+Tt>this.len)throw rt(this,Tt);this.pos+=Tt}else do if(this.pos>=this.len)throw rt(this);while(128&this.buf[this.pos++]);return this},ot.prototype.skipType=function(Tt){switch(Tt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(Tt=7&this.uint32())!=4;)this.skipType(Tt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Tt+" at offset "+this.pos)}return this},ot._configure=function(Tt){pt=Tt,ot.create=wt(),pt._configure();var Rt=mt.Long?"toLong":"toNumber";mt.merge(ot.prototype,{int64:function(){return it.call(this)[Rt](!1)},uint64:function(){return it.call(this)[Rt](!0)},sint64:function(){return it.call(this).zzDecode()[Rt](!1)},fixed64:function(){return lt.call(this)[Rt](!0)},sfixed64:function(){return lt.call(this)[Rt](!1)}})}},function(_e,et,nt){function rt(pt,mt,Mt,bt){if(Array.isArray(mt)||(Mt=mt,mt=void 0),it.call(this,pt,Mt),mt!==void 0&&!Array.isArray(mt))throw TypeError("fieldNames must be an Array");this.oneof=mt||[],this.fieldsArray=[],this.comment=bt}function ot(pt){if(pt.parent)for(var mt=0;mt<pt.fieldsArray.length;++mt)pt.fieldsArray[mt].parent||pt.parent.add(pt.fieldsArray[mt])}_e.exports=rt;var it=nt(3);((rt.prototype=Object.create(it.prototype)).constructor=rt).className="OneOf";var ct=nt(4),lt=nt(0);rt.fromJSON=function(pt,mt){return new rt(pt,mt.oneof,mt.options,mt.comment)},rt.prototype.toJSON=function(pt){var mt=!!pt&&!!pt.keepComments;return lt.toObject(["options",this.options,"oneof",this.oneof,"comment",mt?this.comment:void 0])},rt.prototype.add=function(pt){if(!(pt instanceof ct))throw TypeError("field must be a Field");return pt.parent&&pt.parent!==this.parent&&pt.parent.remove(pt),this.oneof.push(pt.name),this.fieldsArray.push(pt),pt.partOf=this,ot(this),this},rt.prototype.remove=function(pt){if(!(pt instanceof ct))throw TypeError("field must be a Field");var mt=this.fieldsArray.indexOf(pt);if(mt<0)throw Error(pt+" is not a member of "+this);return this.fieldsArray.splice(mt,1),(mt=this.oneof.indexOf(pt.name))>-1&&this.oneof.splice(mt,1),pt.partOf=null,this},rt.prototype.onAdd=function(pt){it.prototype.onAdd.call(this,pt);for(var mt=0;mt<this.oneof.length;++mt){var Mt=pt.get(this.oneof[mt]);Mt&&!Mt.partOf&&(Mt.partOf=this,this.fieldsArray.push(Mt))}ot(this)},rt.prototype.onRemove=function(pt){for(var mt,Mt=0;Mt<this.fieldsArray.length;++Mt)(mt=this.fieldsArray[Mt]).parent&&mt.parent.remove(mt);it.prototype.onRemove.call(this,pt)},rt.d=function(){for(var pt=new Array(arguments.length),mt=0;mt<arguments.length;)pt[mt]=arguments[mt++];return function(Mt,bt){lt.decorateType(Mt.constructor).add(new rt(bt,pt)),Object.defineProperty(Mt,bt,{get:lt.oneOfGetter(pt),set:lt.oneOfSetter(pt)})}}},function(_e,et,nt){function rt(it){if(it)for(var ct=Object.keys(it),lt=0;lt<ct.length;++lt)this[ct[lt]]=it[ct[lt]]}_e.exports=rt;var ot=nt(1);rt.create=function(it){return this.$type.create(it)},rt.encode=function(it,ct){return this.$type.encode(it,ct)},rt.encodeDelimited=function(it,ct){return this.$type.encodeDelimited(it,ct)},rt.decode=function(it){return this.$type.decode(it)},rt.decodeDelimited=function(it){return this.$type.decodeDelimited(it)},rt.verify=function(it){return this.$type.verify(it)},rt.fromObject=function(it){return this.$type.fromObject(it)},rt.toObject=function(it,ct){return this.$type.toObject(it,ct)},rt.prototype.toJSON=function(){return this.$type.toObject(this,ot.toJSONOptions)}},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.Parser=void 0;var rt=function(){function ct(lt,pt){for(var mt=0;mt<pt.length;mt++){var Mt=pt[mt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(lt,Mt.key,Mt)}}return function(lt,pt,mt){return pt&&ct(lt.prototype,pt),mt&&ct(lt,mt),lt}}(),ot=nt(31),it=function(ct){return ct&&ct.__esModule?ct:{default:ct}}(nt(50));et.Parser=function(){function ct(){(function(lt,pt){if(!(lt instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,ct)}return rt(ct,[{key:"load",value:function(lt,pt,mt){this.loadViaWorker(lt,pt,mt)}},{key:"loadViaWorker",value:function(lt,pt,mt){(0,it.default)(lt,function(Mt){var bt=Mt.movie;bt.version=Mt.ver;var At=Mt.images,wt=new ot.VideoEntity(bt,At);pt(wt)},mt)}}]),ct}()},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.RectPath=void 0;var rt=nt(5);et.RectPath=function(ot){function it(ct,lt,pt,mt,Mt,bt,At){(function(Tt,Rt){if(!(Tt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,it);var wt=function(Tt,Rt){if(!Tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Rt||typeof Rt!="object"&&typeof Rt!="function"?Tt:Rt}(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return wt._x=ct,wt._y=lt,wt._width=pt,wt._height=mt,wt._cornerRadius=Mt,wt._transform=bt,wt._styles=At,wt}return function(ct,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);ct.prototype=Object.create(lt&&lt.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(ct,lt):ct.__proto__=lt)}(it,ot),it}(rt.BezierPath)},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.EllipsePath=void 0;var rt=nt(5);et.EllipsePath=function(ot){function it(ct,lt,pt,mt,Mt,bt){(function(wt,Tt){if(!(wt instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,it);var At=function(wt,Tt){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Tt||typeof Tt!="object"&&typeof Tt!="function"?wt:Tt}(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return At._x=ct,At._y=lt,At._radiusX=pt,At._radiusY=mt,At._transform=Mt,At._styles=bt,At}return function(ct,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);ct.prototype=Object.create(lt&&lt.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(ct,lt):ct.__proto__=lt)}(it,ot),it}(rt.BezierPath)},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=nt(34),ot=JSON.parse('{"nested":{"com":{"nested":{"opensource":{"nested":{"svga":{"options":{"objc_class_prefix":"SVGAProto","java_package":"com.opensource.svgaplayer.proto"},"nested":{"MovieParams":{"fields":{"viewBoxWidth":{"type":"float","id":1},"viewBoxHeight":{"type":"float","id":2},"fps":{"type":"int32","id":3},"frames":{"type":"int32","id":4}}},"SpriteEntity":{"fields":{"imageKey":{"type":"string","id":1},"frames":{"rule":"repeated","type":"FrameEntity","id":2},"matteKey":{"type":"string","id":3}}},"AudioEntity":{"fields":{"audioKey":{"type":"string","id":1},"startFrame":{"type":"int32","id":2},"endFrame":{"type":"int32","id":3},"startTime":{"type":"int32","id":4},"totalTime":{"type":"int32","id":5}}},"Layout":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4}}},"Transform":{"fields":{"a":{"type":"float","id":1},"b":{"type":"float","id":2},"c":{"type":"float","id":3},"d":{"type":"float","id":4},"tx":{"type":"float","id":5},"ty":{"type":"float","id":6}}},"ShapeEntity":{"oneofs":{"args":{"oneof":["shape","rect","ellipse"]}},"fields":{"type":{"type":"ShapeType","id":1},"shape":{"type":"ShapeArgs","id":2},"rect":{"type":"RectArgs","id":3},"ellipse":{"type":"EllipseArgs","id":4},"styles":{"type":"ShapeStyle","id":10},"transform":{"type":"Transform","id":11}},"nested":{"ShapeType":{"values":{"SHAPE":0,"RECT":1,"ELLIPSE":2,"KEEP":3}},"ShapeArgs":{"fields":{"d":{"type":"string","id":1}}},"RectArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4},"cornerRadius":{"type":"float","id":5}}},"EllipseArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"radiusX":{"type":"float","id":3},"radiusY":{"type":"float","id":4}}},"ShapeStyle":{"fields":{"fill":{"type":"RGBAColor","id":1},"stroke":{"type":"RGBAColor","id":2},"strokeWidth":{"type":"float","id":3},"lineCap":{"type":"LineCap","id":4},"lineJoin":{"type":"LineJoin","id":5},"miterLimit":{"type":"float","id":6},"lineDashI":{"type":"float","id":7},"lineDashII":{"type":"float","id":8},"lineDashIII":{"type":"float","id":9}},"nested":{"RGBAColor":{"fields":{"r":{"type":"float","id":1},"g":{"type":"float","id":2},"b":{"type":"float","id":3},"a":{"type":"float","id":4}}},"LineCap":{"values":{"LineCap_BUTT":0,"LineCap_ROUND":1,"LineCap_SQUARE":2}},"LineJoin":{"values":{"LineJoin_MITER":0,"LineJoin_ROUND":1,"LineJoin_BEVEL":2}}}}}},"FrameEntity":{"fields":{"alpha":{"type":"float","id":1},"layout":{"type":"Layout","id":2},"transform":{"type":"Transform","id":3},"clipPath":{"type":"string","id":4},"shapes":{"rule":"repeated","type":"ShapeEntity","id":5}}},"MovieEntity":{"fields":{"version":{"type":"string","id":1},"params":{"type":"MovieParams","id":2},"images":{"keyType":"string","type":"bytes","id":3},"sprites":{"rule":"repeated","type":"SpriteEntity","id":4},"audios":{"rule":"repeated","type":"AudioEntity","id":5}}}}}}}}}}}'),it=et.proto=rt.Root.fromJSON(ot);et.ProtoMovieEntity=it.lookupType("com.opensource.svga.MovieEntity")},function(_e,et,nt){_e.exports=function(rt,ot){for(var it=new Array(arguments.length-1),ct=0,lt=2,pt=!0;lt<arguments.length;)it[ct++]=arguments[lt++];return new Promise(function(mt,Mt){it[ct]=function(bt){if(pt)if(pt=!1,bt)Mt(bt);else{for(var At=new Array(arguments.length-1),wt=0;wt<At.length;)At[wt++]=arguments[wt];mt.apply(null,At)}};try{rt.apply(ot||null,it)}catch(bt){pt&&(pt=!1,Mt(bt))}})}},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(_e){}return null}module.exports=inquire},function(_e,et,nt){et.Service=nt(46)},function(_e,et,nt){_e.exports={}},function(_e,et,nt){function rt(lt,pt,mt,Mt){return pt.resolvedType.group?lt("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",mt,Mt,(pt.id<<3|3)>>>0,(pt.id<<3|4)>>>0):lt("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",mt,Mt,(pt.id<<3|2)>>>0)}_e.exports=function(lt){for(var pt,mt=ct.codegen(["m","w"],lt.name+"$encode")("if(!w)")("w=Writer.create()"),Mt=lt.fieldsArray.slice().sort(ct.compareFieldsById),bt=0;bt<Mt.length;++bt){var At=Mt[bt].resolve(),wt=lt._fieldsArray.indexOf(At),Tt=At.resolvedType instanceof ot?"int32":At.type,Rt=it.basic[Tt];pt="m"+ct.safeProp(At.name),At.map?(mt("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",pt,At.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",pt)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(At.id<<3|2)>>>0,8|it.mapKey[At.keyType],At.keyType),Rt===void 0?mt("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",wt,pt):mt(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|Rt,Tt,pt),mt("}")("}")):At.repeated?(mt("if(%s!=null&&%s.length){",pt,pt),At.packed&&it.packed[Tt]!==void 0?mt("w.uint32(%i).fork()",(At.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",pt)("w.%s(%s[i])",Tt,pt)("w.ldelim()"):(mt("for(var i=0;i<%s.length;++i)",pt),Rt===void 0?rt(mt,At,wt,pt+"[i]"):mt("w.uint32(%i).%s(%s[i])",(At.id<<3|Rt)>>>0,Tt,pt)),mt("}")):(At.optional&&mt("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",pt,At.name),Rt===void 0?rt(mt,At,wt,pt):mt("w.uint32(%i).%s(%s)",(At.id<<3|Rt)>>>0,Tt,pt))}return mt("return w")};var ot=nt(2),it=nt(7),ct=nt(0)},function(_e,et,nt){function rt(Ht,Qt){it.call(this,Ht,Qt),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function ot(Ht){return Ht._fieldsById=Ht._fieldsArray=Ht._oneofsArray=null,delete Ht.encode,delete Ht.decode,delete Ht.verify,Ht}_e.exports=rt;var it=nt(6);((rt.prototype=Object.create(it.prototype)).constructor=rt).className="Type";var ct=nt(2),lt=nt(11),pt=nt(4),mt=nt(23),Mt=nt(24),bt=nt(12),At=nt(10),wt=nt(9),Tt=nt(0),Rt=nt(21),Bt=nt(26),Vt=nt(27),$t=nt(28),Ft=nt(29);Object.defineProperties(rt.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var Ht=Object.keys(this.fields),Qt=0;Qt<Ht.length;++Qt){var _n=this.fields[Ht[Qt]],hn=_n.id;if(this._fieldsById[hn])throw Error("duplicate id "+hn+" in "+this);this._fieldsById[hn]=_n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Tt.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Tt.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=rt.generateConstructor(this)())},set:function(Ht){var Qt=Ht.prototype;Qt instanceof bt||((Ht.prototype=new bt).constructor=Ht,Tt.merge(Ht.prototype,Qt)),Ht.$type=Ht.prototype.$type=this,Tt.merge(Ht,bt,!0),this._ctor=Ht;for(var _n=0;_n<this.fieldsArray.length;++_n)this._fieldsArray[_n].resolve();var hn={};for(_n=0;_n<this.oneofsArray.length;++_n)hn[this._oneofsArray[_n].resolve().name]={get:Tt.oneOfGetter(this._oneofsArray[_n].oneof),set:Tt.oneOfSetter(this._oneofsArray[_n].oneof)};_n&&Object.defineProperties(Ht.prototype,hn)}}}),rt.generateConstructor=function(Ht){for(var Qt,_n=Tt.codegen(["p"],Ht.name),hn=0;hn<Ht.fieldsArray.length;++hn)(Qt=Ht._fieldsArray[hn]).map?_n("this%s={}",Tt.safeProp(Qt.name)):Qt.repeated&&_n("this%s=[]",Tt.safeProp(Qt.name));return _n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},rt.fromJSON=function(Ht,Qt){var _n=new rt(Ht,Qt.options);_n.extensions=Qt.extensions,_n.reserved=Qt.reserved;for(var hn=Object.keys(Qt.fields),Mn=0;Mn<hn.length;++Mn)_n.add((Qt.fields[hn[Mn]].keyType!==void 0?mt.fromJSON:pt.fromJSON)(hn[Mn],Qt.fields[hn[Mn]]));if(Qt.oneofs)for(hn=Object.keys(Qt.oneofs),Mn=0;Mn<hn.length;++Mn)_n.add(lt.fromJSON(hn[Mn],Qt.oneofs[hn[Mn]]));if(Qt.nested)for(hn=Object.keys(Qt.nested),Mn=0;Mn<hn.length;++Mn){var kn=Qt.nested[hn[Mn]];_n.add((kn.id!==void 0?pt.fromJSON:kn.fields!==void 0?rt.fromJSON:kn.values!==void 0?ct.fromJSON:kn.methods!==void 0?Mt.fromJSON:it.fromJSON)(hn[Mn],kn))}return Qt.extensions&&Qt.extensions.length&&(_n.extensions=Qt.extensions),Qt.reserved&&Qt.reserved.length&&(_n.reserved=Qt.reserved),Qt.group&&(_n.group=!0),Qt.comment&&(_n.comment=Qt.comment),_n},rt.prototype.toJSON=function(Ht){var Qt=it.prototype.toJSON.call(this,Ht),_n=!!Ht&&!!Ht.keepComments;return Tt.toObject(["options",Qt&&Qt.options||void 0,"oneofs",it.arrayToJSON(this.oneofsArray,Ht),"fields",it.arrayToJSON(this.fieldsArray.filter(function(hn){return!hn.declaringField}),Ht)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",Qt&&Qt.nested||void 0,"comment",_n?this.comment:void 0])},rt.prototype.resolveAll=function(){for(var Ht=this.fieldsArray,Qt=0;Qt<Ht.length;)Ht[Qt++].resolve();var _n=this.oneofsArray;for(Qt=0;Qt<_n.length;)_n[Qt++].resolve();return it.prototype.resolveAll.call(this)},rt.prototype.get=function(Ht){return this.fields[Ht]||this.oneofs&&this.oneofs[Ht]||this.nested&&this.nested[Ht]||null},rt.prototype.add=function(Ht){if(this.get(Ht.name))throw Error("duplicate name '"+Ht.name+"' in "+this);if(Ht instanceof pt&&Ht.extend===void 0){if(this._fieldsById?this._fieldsById[Ht.id]:this.fieldsById[Ht.id])throw Error("duplicate id "+Ht.id+" in "+this);if(this.isReservedId(Ht.id))throw Error("id "+Ht.id+" is reserved in "+this);if(this.isReservedName(Ht.name))throw Error("name '"+Ht.name+"' is reserved in "+this);return Ht.parent&&Ht.parent.remove(Ht),this.fields[Ht.name]=Ht,Ht.message=this,Ht.onAdd(this),ot(this)}return Ht instanceof lt?(this.oneofs||(this.oneofs={}),this.oneofs[Ht.name]=Ht,Ht.onAdd(this),ot(this)):it.prototype.add.call(this,Ht)},rt.prototype.remove=function(Ht){if(Ht instanceof pt&&Ht.extend===void 0){if(!this.fields||this.fields[Ht.name]!==Ht)throw Error(Ht+" is not a member of "+this);return delete this.fields[Ht.name],Ht.parent=null,Ht.onRemove(this),ot(this)}if(Ht instanceof lt){if(!this.oneofs||this.oneofs[Ht.name]!==Ht)throw Error(Ht+" is not a member of "+this);return delete this.oneofs[Ht.name],Ht.parent=null,Ht.onRemove(this),ot(this)}return it.prototype.remove.call(this,Ht)},rt.prototype.isReservedId=function(Ht){return it.isReservedId(this.reserved,Ht)},rt.prototype.isReservedName=function(Ht){return it.isReservedName(this.reserved,Ht)},rt.prototype.create=function(Ht){return new this.ctor(Ht)},rt.prototype.setup=function(){for(var Ht=this.fullName,Qt=[],_n=0;_n<this.fieldsArray.length;++_n)Qt.push(this._fieldsArray[_n].resolve().resolvedType);this.encode=Rt(this)({Writer:wt,types:Qt,util:Tt}),this.decode=Bt(this)({Reader:At,types:Qt,util:Tt}),this.verify=Vt(this)({types:Qt,util:Tt}),this.fromObject=$t.fromObject(this)({types:Qt,util:Tt}),this.toObject=$t.toObject(this)({types:Qt,util:Tt});var hn=Ft[Ht];if(hn){var Mn=Object.create(this);Mn.fromObject=this.fromObject,this.fromObject=hn.fromObject.bind(Mn),Mn.toObject=this.toObject,this.toObject=hn.toObject.bind(Mn)}return this},rt.prototype.encode=function(Ht,Qt){return this.setup().encode(Ht,Qt)},rt.prototype.encodeDelimited=function(Ht,Qt){return this.encode(Ht,Qt&&Qt.len?Qt.fork():Qt).ldelim()},rt.prototype.decode=function(Ht,Qt){return this.setup().decode(Ht,Qt)},rt.prototype.decodeDelimited=function(Ht){return Ht instanceof At||(Ht=At.create(Ht)),this.decode(Ht,Ht.uint32())},rt.prototype.verify=function(Ht){return this.setup().verify(Ht)},rt.prototype.fromObject=function(Ht){return this.setup().fromObject(Ht)},rt.prototype.toObject=function(Ht,Qt){return this.setup().toObject(Ht,Qt)},rt.d=function(Ht){return function(Qt){Tt.decorateType(Qt,Ht)}}},function(_e,et,nt){function rt(lt,pt,mt,Mt,bt,At){if(ot.call(this,lt,pt,Mt,void 0,void 0,bt,At),!ct.isString(mt))throw TypeError("keyType must be a string");this.keyType=mt,this.resolvedKeyType=null,this.map=!0}_e.exports=rt;var ot=nt(4);((rt.prototype=Object.create(ot.prototype)).constructor=rt).className="MapField";var it=nt(7),ct=nt(0);rt.fromJSON=function(lt,pt){return new rt(lt,pt.id,pt.keyType,pt.type,pt.options,pt.comment)},rt.prototype.toJSON=function(lt){var pt=!!lt&&!!lt.keepComments;return ct.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",pt?this.comment:void 0])},rt.prototype.resolve=function(){if(this.resolved)return this;if(it.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return ot.prototype.resolve.call(this)},rt.d=function(lt,pt,mt){return typeof mt=="function"?mt=ct.decorateType(mt).name:mt&&typeof mt=="object"&&(mt=ct.decorateEnum(mt).name),function(Mt,bt){ct.decorateType(Mt.constructor).add(new rt(bt,lt,pt,mt))}}},function(_e,et,nt){function rt(mt,Mt){it.call(this,mt,Mt),this.methods={},this._methodsArray=null}function ot(mt){return mt._methodsArray=null,mt}_e.exports=rt;var it=nt(6);((rt.prototype=Object.create(it.prototype)).constructor=rt).className="Service";var ct=nt(25),lt=nt(0),pt=nt(19);rt.fromJSON=function(mt,Mt){var bt=new rt(mt,Mt.options);if(Mt.methods)for(var At=Object.keys(Mt.methods),wt=0;wt<At.length;++wt)bt.add(ct.fromJSON(At[wt],Mt.methods[At[wt]]));return Mt.nested&&bt.addJSON(Mt.nested),bt.comment=Mt.comment,bt},rt.prototype.toJSON=function(mt){var Mt=it.prototype.toJSON.call(this,mt),bt=!!mt&&!!mt.keepComments;return lt.toObject(["options",Mt&&Mt.options||void 0,"methods",it.arrayToJSON(this.methodsArray,mt)||{},"nested",Mt&&Mt.nested||void 0,"comment",bt?this.comment:void 0])},Object.defineProperty(rt.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=lt.toArray(this.methods))}}),rt.prototype.get=function(mt){return this.methods[mt]||it.prototype.get.call(this,mt)},rt.prototype.resolveAll=function(){for(var mt=this.methodsArray,Mt=0;Mt<mt.length;++Mt)mt[Mt].resolve();return it.prototype.resolve.call(this)},rt.prototype.add=function(mt){if(this.get(mt.name))throw Error("duplicate name '"+mt.name+"' in "+this);return mt instanceof ct?(this.methods[mt.name]=mt,mt.parent=this,ot(this)):it.prototype.add.call(this,mt)},rt.prototype.remove=function(mt){if(mt instanceof ct){if(this.methods[mt.name]!==mt)throw Error(mt+" is not a member of "+this);return delete this.methods[mt.name],mt.parent=null,ot(this)}return it.prototype.remove.call(this,mt)},rt.prototype.create=function(mt,Mt,bt){for(var At,wt=new pt.Service(mt,Mt,bt),Tt=0;Tt<this.methodsArray.length;++Tt){var Rt=lt.lcFirst((At=this._methodsArray[Tt]).resolve().name).replace(/[^$\w_]/g,"");wt[Rt]=lt.codegen(["r","c"],lt.isReserved(Rt)?Rt+"_":Rt)("return this.rpcCall(m,q,s,r,c)")({m:At,q:At.resolvedRequestType.ctor,s:At.resolvedResponseType.ctor})}return wt}},function(_e,et,nt){function rt(ct,lt,pt,mt,Mt,bt,At,wt,Tt){if(it.isObject(Mt)?(At=Mt,Mt=bt=void 0):it.isObject(bt)&&(At=bt,bt=void 0),lt!==void 0&&!it.isString(lt))throw TypeError("type must be a string");if(!it.isString(pt))throw TypeError("requestType must be a string");if(!it.isString(mt))throw TypeError("responseType must be a string");ot.call(this,ct,At),this.type=lt||"rpc",this.requestType=pt,this.requestStream=!!Mt||void 0,this.responseType=mt,this.responseStream=!!bt||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=wt,this.parsedOptions=Tt}_e.exports=rt;var ot=nt(3);((rt.prototype=Object.create(ot.prototype)).constructor=rt).className="Method";var it=nt(0);rt.fromJSON=function(ct,lt){return new rt(ct,lt.type,lt.requestType,lt.responseType,lt.requestStream,lt.responseStream,lt.options,lt.comment,lt.parsedOptions)},rt.prototype.toJSON=function(ct){var lt=!!ct&&!!ct.keepComments;return it.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",lt?this.comment:void 0,"parsedOptions",this.parsedOptions])},rt.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),ot.prototype.resolve.call(this))}},function(_e,et,nt){function rt(lt){return"missing required '"+lt.name+"'"}_e.exports=function(lt){var pt=ct.codegen(["r","l"],lt.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(lt.fieldsArray.filter(function(Tt){return Tt.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");lt.group&&pt("if((t&7)===4)")("break"),pt("switch(t>>>3){");for(var mt=0;mt<lt.fieldsArray.length;++mt){var Mt=lt._fieldsArray[mt].resolve(),bt=Mt.resolvedType instanceof ot?"int32":Mt.type,At="m"+ct.safeProp(Mt.name);pt("case %i:",Mt.id),Mt.map?(pt("if(%s===util.emptyObject)",At)("%s={}",At)("var c2 = r.uint32()+r.pos"),it.defaults[Mt.keyType]!==void 0?pt("k=%j",it.defaults[Mt.keyType]):pt("k=null"),it.defaults[bt]!==void 0?pt("value=%j",it.defaults[bt]):pt("value=null"),pt("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",Mt.keyType)("case 2:"),it.basic[bt]===void 0?pt("value=types[%i].decode(r,r.uint32())",mt):pt("value=r.%s()",bt),pt("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),it.long[Mt.keyType]!==void 0?pt('%s[typeof k==="object"?util.longToHash(k):k]=value',At):pt("%s[k]=value",At)):Mt.repeated?(pt("if(!(%s&&%s.length))",At,At)("%s=[]",At),it.packed[bt]!==void 0&&pt("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",At,bt)("}else"),it.basic[bt]===void 0?pt(Mt.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",At,mt):pt("%s.push(r.%s())",At,bt)):it.basic[bt]===void 0?pt(Mt.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",At,mt):pt("%s=r.%s()",At,bt),pt("break")}for(pt("default:")("r.skipType(t&7)")("break")("}")("}"),mt=0;mt<lt._fieldsArray.length;++mt){var wt=lt._fieldsArray[mt];wt.required&&pt("if(!m.hasOwnProperty(%j))",wt.name)("throw util.ProtocolError(%j,{instance:m})",rt(wt))}return pt("return m")};var ot=nt(2),it=nt(7),ct=nt(0)},function(_e,et,nt){function rt(pt,mt){return pt.name+": "+mt+(pt.repeated&&mt!=="array"?"[]":pt.map&&mt!=="object"?"{k:"+pt.keyType+"}":"")+" expected"}function ot(pt,mt,Mt,bt){if(mt.resolvedType)if(mt.resolvedType instanceof ct){pt("switch(%s){",bt)("default:")("return%j",rt(mt,"enum value"));for(var At=Object.keys(mt.resolvedType.values),wt=0;wt<At.length;++wt)pt("case %i:",mt.resolvedType.values[At[wt]]);pt("break")("}")}else pt("{")("var e=types[%i].verify(%s);",Mt,bt)("if(e)")("return%j+e",mt.name+".")("}");else switch(mt.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":pt("if(!util.isInteger(%s))",bt)("return%j",rt(mt,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":pt("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",bt,bt,bt,bt)("return%j",rt(mt,"integer|Long"));break;case"float":case"double":pt('if(typeof %s!=="number")',bt)("return%j",rt(mt,"number"));break;case"bool":pt('if(typeof %s!=="boolean")',bt)("return%j",rt(mt,"boolean"));break;case"string":pt("if(!util.isString(%s))",bt)("return%j",rt(mt,"string"));break;case"bytes":pt('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',bt,bt,bt)("return%j",rt(mt,"buffer"))}return pt}function it(pt,mt,Mt){switch(mt.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":pt("if(!util.key32Re.test(%s))",Mt)("return%j",rt(mt,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":pt("if(!util.key64Re.test(%s))",Mt)("return%j",rt(mt,"integer|Long key"));break;case"bool":pt("if(!util.key2Re.test(%s))",Mt)("return%j",rt(mt,"boolean key"))}return pt}_e.exports=function(pt){var mt=lt.codegen(["m"],pt.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),Mt={};pt.oneofsArray.length&&mt("var p={}");for(var bt=0;bt<pt.fieldsArray.length;++bt){var At=pt._fieldsArray[bt].resolve(),wt="m"+lt.safeProp(At.name);if(At.optional&&mt("if(%s!=null&&m.hasOwnProperty(%j)){",wt,At.name),At.map)mt("if(!util.isObject(%s))",wt)("return%j",rt(At,"object"))("var k=Object.keys(%s)",wt)("for(var i=0;i<k.length;++i){"),it(mt,At,"k[i]"),ot(mt,At,bt,wt+"[k[i]]")("}");else if(At.repeated)mt("if(!Array.isArray(%s))",wt)("return%j",rt(At,"array"))("for(var i=0;i<%s.length;++i){",wt),ot(mt,At,bt,wt+"[i]")("}");else{if(At.partOf){var Tt=lt.safeProp(At.partOf.name);Mt[At.partOf.name]===1&&mt("if(p%s===1)",Tt)("return%j",At.partOf.name+": multiple values"),Mt[At.partOf.name]=1,mt("p%s=1",Tt)}ot(mt,At,bt,wt)}At.optional&&mt("}")}return mt("return null")};var ct=nt(2),lt=nt(0)},function(_e,et,nt){function rt(pt,mt,Mt,bt){if(mt.resolvedType)if(mt.resolvedType instanceof ct){pt("switch(d%s){",bt);for(var At=mt.resolvedType.values,wt=Object.keys(At),Tt=0;Tt<wt.length;++Tt)mt.repeated&&At[wt[Tt]]===mt.typeDefault&&pt("default:"),pt("case%j:",wt[Tt])("case %i:",At[wt[Tt]])("m%s=%j",bt,At[wt[Tt]])("break");pt("}")}else pt('if(typeof d%s!=="object")',bt)("throw TypeError(%j)",mt.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",bt,Mt,bt);else{var Rt=!1;switch(mt.type){case"double":case"float":pt("m%s=Number(d%s)",bt,bt);break;case"uint32":case"fixed32":pt("m%s=d%s>>>0",bt,bt);break;case"int32":case"sint32":case"sfixed32":pt("m%s=d%s|0",bt,bt);break;case"uint64":Rt=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":pt("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",bt,bt,Rt)('else if(typeof d%s==="string")',bt)("m%s=parseInt(d%s,10)",bt,bt)('else if(typeof d%s==="number")',bt)("m%s=d%s",bt,bt)('else if(typeof d%s==="object")',bt)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",bt,bt,bt,Rt?"true":"");break;case"bytes":pt('if(typeof d%s==="string")',bt)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",bt,bt,bt)("else if(d%s.length)",bt)("m%s=d%s",bt,bt);break;case"string":pt("m%s=String(d%s)",bt,bt);break;case"bool":pt("m%s=Boolean(d%s)",bt,bt)}}return pt}function ot(pt,mt,Mt,bt){if(mt.resolvedType)mt.resolvedType instanceof ct?pt("d%s=o.enums===String?types[%i].values[m%s]:m%s",bt,Mt,bt,bt):pt("d%s=types[%i].toObject(m%s,o)",bt,Mt,bt);else{var At=!1;switch(mt.type){case"double":case"float":pt("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",bt,bt,bt,bt);break;case"uint64":At=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":pt('if(typeof m%s==="number")',bt)("d%s=o.longs===String?String(m%s):m%s",bt,bt,bt)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",bt,bt,bt,bt,At?"true":"",bt);break;case"bytes":pt("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",bt,bt,bt,bt,bt);break;default:pt("d%s=m%s",bt,bt)}}return pt}var it=et,ct=nt(2),lt=nt(0);it.fromObject=function(pt){var mt=pt.fieldsArray,Mt=lt.codegen(["d"],pt.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!mt.length)return Mt("return new this.ctor");Mt("var m=new this.ctor");for(var bt=0;bt<mt.length;++bt){var At=mt[bt].resolve(),wt=lt.safeProp(At.name);At.map?(Mt("if(d%s){",wt)('if(typeof d%s!=="object")',wt)("throw TypeError(%j)",At.fullName+": object expected")("m%s={}",wt)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",wt),rt(Mt,At,bt,wt+"[ks[i]]")("}")("}")):At.repeated?(Mt("if(d%s){",wt)("if(!Array.isArray(d%s))",wt)("throw TypeError(%j)",At.fullName+": array expected")("m%s=[]",wt)("for(var i=0;i<d%s.length;++i){",wt),rt(Mt,At,bt,wt+"[i]")("}")("}")):(At.resolvedType instanceof ct||Mt("if(d%s!=null){",wt),rt(Mt,At,bt,wt),At.resolvedType instanceof ct||Mt("}"))}return Mt("return m")},it.toObject=function(pt){var mt=pt.fieldsArray.slice().sort(lt.compareFieldsById);if(!mt.length)return lt.codegen()("return {}");for(var Mt=lt.codegen(["m","o"],pt.name+"$toObject")("if(!o)")("o={}")("var d={}"),bt=[],At=[],wt=[],Tt=0;Tt<mt.length;++Tt)mt[Tt].partOf||(mt[Tt].resolve().repeated?bt:mt[Tt].map?At:wt).push(mt[Tt]);if(bt.length){for(Mt("if(o.arrays||o.defaults){"),Tt=0;Tt<bt.length;++Tt)Mt("d%s=[]",lt.safeProp(bt[Tt].name));Mt("}")}if(At.length){for(Mt("if(o.objects||o.defaults){"),Tt=0;Tt<At.length;++Tt)Mt("d%s={}",lt.safeProp(At[Tt].name));Mt("}")}if(wt.length){for(Mt("if(o.defaults){"),Tt=0;Tt<wt.length;++Tt){var Rt=wt[Tt],Bt=lt.safeProp(Rt.name);if(Rt.resolvedType instanceof ct)Mt("d%s=o.enums===String?%j:%j",Bt,Rt.resolvedType.valuesById[Rt.typeDefault],Rt.typeDefault);else if(Rt.long)Mt("if(util.Long){")("var n=new util.Long(%i,%i,%j)",Rt.typeDefault.low,Rt.typeDefault.high,Rt.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",Bt)("}else")("d%s=o.longs===String?%j:%i",Bt,Rt.typeDefault.toString(),Rt.typeDefault.toNumber());else if(Rt.bytes){var Vt="["+Array.prototype.slice.call(Rt.typeDefault).join(",")+"]";Mt("if(o.bytes===String)d%s=%j",Bt,String.fromCharCode.apply(String,Rt.typeDefault))("else{")("d%s=%s",Bt,Vt)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",Bt,Bt)("}")}else Mt("d%s=%j",Bt,Rt.typeDefault)}Mt("}")}var $t=!1;for(Tt=0;Tt<mt.length;++Tt){Rt=mt[Tt];var Ft=pt._fieldsArray.indexOf(Rt);Bt=lt.safeProp(Rt.name),Rt.map?($t||($t=!0,Mt("var ks2")),Mt("if(m%s&&(ks2=Object.keys(m%s)).length){",Bt,Bt)("d%s={}",Bt)("for(var j=0;j<ks2.length;++j){"),ot(Mt,Rt,Ft,Bt+"[ks2[j]]")("}")):Rt.repeated?(Mt("if(m%s&&m%s.length){",Bt,Bt)("d%s=[]",Bt)("for(var j=0;j<m%s.length;++j){",Bt),ot(Mt,Rt,Ft,Bt+"[j]")("}")):(Mt("if(m%s!=null&&m.hasOwnProperty(%j)){",Bt,Rt.name),ot(Mt,Rt,Ft,Bt),Rt.partOf&&Mt("if(o.oneofs)")("d%s=%j",lt.safeProp(Rt.partOf.name),Rt.name)),Mt("}")}return Mt("return d")}},function(_e,et,nt){var rt=et,ot=nt(12);rt[".google.protobuf.Any"]={fromObject:function(it){if(it&&it["@type"]){var ct=it["@type"].substring(it["@type"].lastIndexOf("/")+1),lt=this.lookup(ct);if(lt){var pt=it["@type"].charAt(0)==="."?it["@type"].substr(1):it["@type"];return pt.indexOf("/")===-1&&(pt="/"+pt),this.create({type_url:pt,value:lt.encode(lt.fromObject(it)).finish()})}}return this.fromObject(it)},toObject:function(it,ct){var lt="",pt="";if(ct&&ct.json&&it.type_url&&it.value){pt=it.type_url.substring(it.type_url.lastIndexOf("/")+1),lt=it.type_url.substring(0,it.type_url.lastIndexOf("/")+1);var mt=this.lookup(pt);mt&&(it=mt.decode(it.value))}if(!(it instanceof this.ctor)&&it instanceof ot){var Mt=it.$type.toObject(it,ct);return lt===""&&(lt="type.googleapis.com/"),pt=lt+(it.$type.fullName[0]==="."?it.$type.fullName.substr(1):it.$type.fullName),Mt["@type"]=pt,Mt}return this.toObject(it,ct)}}},function(_e,et,nt){function rt(Rt){ct.call(this,"",Rt),this.deferred=[],this.files=[]}function ot(){}function it(Rt,Bt){var Vt=Bt.parent.lookup(Bt.extend);if(Vt){var $t=new Mt(Bt.fullName,Bt.id,Bt.type,Bt.rule,void 0,Bt.options);return $t.declaringField=Bt,Bt.extensionField=$t,Vt.add($t),!0}return!1}_e.exports=rt;var ct=nt(6);((rt.prototype=Object.create(ct.prototype)).constructor=rt).className="Root";var lt,pt,mt,Mt=nt(4),bt=nt(2),At=nt(11),wt=nt(0);rt.fromJSON=function(Rt,Bt){return Bt||(Bt=new rt),Rt.options&&Bt.setOptions(Rt.options),Bt.addJSON(Rt.nested)},rt.prototype.resolvePath=wt.path.resolve,rt.prototype.fetch=wt.fetch,rt.prototype.load=function Rt(Bt,Vt,$t){function Ft(Ut,En){if($t){var vn=$t;if($t=null,Mn)throw Ut;vn(Ut,En)}}function Ht(Ut){var En=Ut.lastIndexOf("google/protobuf/");if(En>-1){var vn=Ut.substring(En);if(vn in mt)return vn}return null}function Qt(Ut,En){try{if(wt.isString(En)&&En.charAt(0)==="{"&&(En=JSON.parse(En)),wt.isString(En)){pt.filename=Ut;var vn,wn=pt(En,hn,Vt),Ln=0;if(wn.imports)for(;Ln<wn.imports.length;++Ln)(vn=Ht(wn.imports[Ln])||hn.resolvePath(Ut,wn.imports[Ln]))&&_n(vn);if(wn.weakImports)for(Ln=0;Ln<wn.weakImports.length;++Ln)(vn=Ht(wn.weakImports[Ln])||hn.resolvePath(Ut,wn.weakImports[Ln]))&&_n(vn,!0)}else hn.setOptions(En.options).addJSON(En.nested)}catch(Kn){Ft(Kn)}Mn||kn||Ft(null,hn)}function _n(Ut,En){if(!(hn.files.indexOf(Ut)>-1)){if(hn.files.push(Ut),Ut in mt)return void(Mn?Qt(Ut,mt[Ut]):(++kn,setTimeout(function(){--kn,Qt(Ut,mt[Ut])})));if(Mn){var vn;try{vn=wt.fs.readFileSync(Ut).toString("utf8")}catch(wn){return void(En||Ft(wn))}Qt(Ut,vn)}else++kn,hn.fetch(Ut,function(wn,Ln){if(--kn,$t)return wn?void(En?kn||Ft(null,hn):Ft(wn)):void Qt(Ut,Ln)})}}typeof Vt=="function"&&($t=Vt,Vt=void 0);var hn=this;if(!$t)return wt.asPromise(Rt,hn,Bt,Vt);var Mn=$t===ot,kn=0;wt.isString(Bt)&&(Bt=[Bt]);for(var Cn,yn=0;yn<Bt.length;++yn)(Cn=hn.resolvePath("",Bt[yn]))&&_n(Cn);if(Mn)return hn;kn||Ft(null,hn)},rt.prototype.loadSync=function(Rt,Bt){if(!wt.isNode)throw Error("not supported");return this.load(Rt,Bt,ot)},rt.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(Rt){return"'extend "+Rt.extend+"' in "+Rt.parent.fullName}).join(", "));return ct.prototype.resolveAll.call(this)};var Tt=/^[A-Z]/;rt.prototype._handleAdd=function(Rt){if(Rt instanceof Mt)Rt.extend===void 0||Rt.extensionField||it(0,Rt)||this.deferred.push(Rt);else if(Rt instanceof bt)Tt.test(Rt.name)&&(Rt.parent[Rt.name]=Rt.values);else if(!(Rt instanceof At)){if(Rt instanceof lt)for(var Bt=0;Bt<this.deferred.length;)it(0,this.deferred[Bt])?this.deferred.splice(Bt,1):++Bt;for(var Vt=0;Vt<Rt.nestedArray.length;++Vt)this._handleAdd(Rt._nestedArray[Vt]);Tt.test(Rt.name)&&(Rt.parent[Rt.name]=Rt)}},rt.prototype._handleRemove=function(Rt){if(Rt instanceof Mt){if(Rt.extend!==void 0)if(Rt.extensionField)Rt.extensionField.parent.remove(Rt.extensionField),Rt.extensionField=null;else{var Bt=this.deferred.indexOf(Rt);Bt>-1&&this.deferred.splice(Bt,1)}}else if(Rt instanceof bt)Tt.test(Rt.name)&&delete Rt.parent[Rt.name];else if(Rt instanceof ct){for(var Vt=0;Vt<Rt.nestedArray.length;++Vt)this._handleRemove(Rt._nestedArray[Vt]);Tt.test(Rt.name)&&delete Rt.parent[Rt.name]}},rt._configure=function(Rt,Bt,Vt){lt=Rt,pt=Bt,mt=Vt}},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.VideoEntity=void 0;var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},ot=function(){function lt(pt,mt){for(var Mt=0;Mt<mt.length;Mt++){var bt=mt[Mt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(pt,bt.key,bt)}}return function(pt,mt,Mt){return mt&&lt(pt.prototype,mt),Mt&&lt(pt,Mt),pt}}(),it=nt(32),ct=nt(16).ProtoMovieEntity;et.VideoEntity=function(){function lt(pt,mt){(function(Mt,bt){if(!(Mt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,lt),this.version="",this.videoSize={width:0,height:0},this.FPS=20,this.frames=0,this.images={},this.sprites=[],this.audios=[],(pt===void 0?"undefined":rt(pt))==="object"&&pt.$type==ct?(rt(pt.params)==="object"&&(this.version=pt.ver,this.videoSize.width=pt.params.viewBoxWidth||0,this.videoSize.height=pt.params.viewBoxHeight||0,this.FPS=pt.params.fps||20,this.frames=pt.params.frames||0),this.resetSprites(pt),this.audios=pt.audios):pt&&(pt.movie&&(pt.movie.viewBox&&(this.videoSize.width=parseFloat(pt.movie.viewBox.width)||0,this.videoSize.height=parseFloat(pt.movie.viewBox.height)||0),this.version=pt.ver,this.FPS=parseInt(pt.movie.fps)||20,this.frames=parseInt(pt.movie.frames)||0),this.resetSprites(pt)),mt&&(this.images=mt)}return ot(lt,[{key:"resetSprites",value:function(pt){pt.sprites instanceof Array&&(this.sprites=pt.sprites.map(function(mt){return new it.SpriteEntity(mt)}))}}]),lt}()},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.SpriteEntity=void 0;var rt=nt(33);nt(5),nt(14),nt(15),et.SpriteEntity=function ot(it){(function(ct,lt){if(!(ct instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,ot),this.matteKey=null,this.imageKey=null,this.frames=[],this.matteKey=it.matteKey,this.imageKey=it.imageKey,it.frames&&(this.frames=it.frames.map(function(ct){return new rt.FrameEntity(ct)}))}},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.FrameEntity=void 0;var rt=nt(5);et.FrameEntity=function ot(it){(function(Tt,Rt){if(!(Tt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,ot),this.alpha=0,this.transform={a:1,b:0,c:0,d:1,tx:0,ty:0},this.layout={x:0,y:0,width:0,height:0},this.nx=0,this.ny=0,this.maskPath=null,this.shapes=[],this.alpha=parseFloat(it.alpha)||0,it.layout&&(this.layout.x=parseFloat(it.layout.x)||0,this.layout.y=parseFloat(it.layout.y)||0,this.layout.width=parseFloat(it.layout.width)||0,this.layout.height=parseFloat(it.layout.height)||0),it.transform&&(this.transform.a=parseFloat(it.transform.a)||1,this.transform.b=parseFloat(it.transform.b)||0,this.transform.c=parseFloat(it.transform.c)||0,this.transform.d=parseFloat(it.transform.d)||1,this.transform.tx=parseFloat(it.transform.tx)||0,this.transform.ty=parseFloat(it.transform.ty)||0),it.clipPath&&it.clipPath.length>0&&(this.maskPath=new rt.BezierPath(it.clipPath,void 0,{fill:"#000000"})),it.shapes&&(it.shapes instanceof Array&&it.shapes.forEach(function(Tt){switch(Tt.pathArgs=Tt.args,Tt.type){case 0:Tt.type="shape",Tt.pathArgs=Tt.shape;break;case 1:Tt.type="rect",Tt.pathArgs=Tt.rect;break;case 2:Tt.type="ellipse",Tt.pathArgs=Tt.ellipse;break;case 3:Tt.type="keep"}if(Tt.styles){Tt.styles.fill&&(typeof Tt.styles.fill.r=="number"&&(Tt.styles.fill[0]=Tt.styles.fill.r),typeof Tt.styles.fill.g=="number"&&(Tt.styles.fill[1]=Tt.styles.fill.g),typeof Tt.styles.fill.b=="number"&&(Tt.styles.fill[2]=Tt.styles.fill.b),typeof Tt.styles.fill.a=="number"&&(Tt.styles.fill[3]=Tt.styles.fill.a)),Tt.styles.stroke&&(typeof Tt.styles.stroke.r=="number"&&(Tt.styles.stroke[0]=Tt.styles.stroke.r),typeof Tt.styles.stroke.g=="number"&&(Tt.styles.stroke[1]=Tt.styles.stroke.g),typeof Tt.styles.stroke.b=="number"&&(Tt.styles.stroke[2]=Tt.styles.stroke.b),typeof Tt.styles.stroke.a=="number"&&(Tt.styles.stroke[3]=Tt.styles.stroke.a));var Rt=Tt.styles.lineDash||[];switch(Tt.styles.lineDashI>0&&Rt.push(Tt.styles.lineDashI),Tt.styles.lineDashII>0&&(Rt.length<1&&Rt.push(0),Rt.push(Tt.styles.lineDashII),Rt.push(0)),Tt.styles.lineDashIII>0&&(Rt.length<2&&(Rt.push(0),Rt.push(0)),Rt[2]=Tt.styles.lineDashIII),Tt.styles.lineDash=Rt,Tt.styles.lineJoin){case 0:Tt.styles.lineJoin="miter";break;case 1:Tt.styles.lineJoin="round";break;case 2:Tt.styles.lineJoin="bevel"}switch(Tt.styles.lineCap){case 0:Tt.styles.lineCap="butt";break;case 1:Tt.styles.lineCap="round";break;case 2:Tt.styles.lineCap="square"}}}),it.shapes[0]&&it.shapes[0].type==="keep"?this.shapes=ot.lastShapes:(this.shapes=it.shapes,ot.lastShapes=it.shapes));var ct=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,lt=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,pt=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,mt=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,Mt=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,bt=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,At=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,wt=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(pt,mt),Math.min(ct,lt)),this.ny=Math.min(Math.min(At,wt),Math.min(Mt,bt))}},function(_e,et,nt){_e.exports=nt(35)},function(_e,et,nt){var rt=_e.exports=nt(36);rt.build="light",rt.load=function(ot,it,ct){return typeof it=="function"?(ct=it,it=new rt.Root):it||(it=new rt.Root),it.load(ot,ct)},rt.loadSync=function(ot,it){return it||(it=new rt.Root),it.loadSync(ot)},rt.encoder=nt(21),rt.decoder=nt(26),rt.verifier=nt(27),rt.converter=nt(28),rt.ReflectionObject=nt(3),rt.Namespace=nt(6),rt.Root=nt(30),rt.Enum=nt(2),rt.Type=nt(22),rt.Field=nt(4),rt.OneOf=nt(11),rt.MapField=nt(23),rt.Service=nt(24),rt.Method=nt(25),rt.Message=nt(12),rt.wrappers=nt(29),rt.types=nt(7),rt.util=nt(0),rt.ReflectionObject._configure(rt.Root),rt.Namespace._configure(rt.Type,rt.Service,rt.Enum),rt.Root._configure(rt.Type),rt.Field._configure(rt.Type)},function(_e,et,nt){function rt(){ot.util._configure(),ot.Writer._configure(ot.BufferWriter),ot.Reader._configure(ot.BufferReader)}var ot=et;ot.build="minimal",ot.Writer=nt(9),ot.BufferWriter=nt(44),ot.Reader=nt(10),ot.BufferReader=nt(45),ot.util=nt(1),ot.rpc=nt(19),ot.roots=nt(20),ot.configure=rt,rt()},function(_e,et){var nt;nt=function(){return this}();try{nt=nt||new Function("return this")()}catch{typeof window=="object"&&(nt=window)}_e.exports=nt},function(_e,et,nt){var rt=et;rt.length=function(lt){var pt=lt.length;if(!pt)return 0;for(var mt=0;--pt%4>1&&lt.charAt(pt)==="=";)++mt;return Math.ceil(3*lt.length)/4-mt};for(var ot=new Array(64),it=new Array(123),ct=0;ct<64;)it[ot[ct]=ct<26?ct+65:ct<52?ct+71:ct<62?ct-4:ct-59|43]=ct++;rt.encode=function(lt,pt,mt){for(var Mt,bt=null,At=[],wt=0,Tt=0;pt<mt;){var Rt=lt[pt++];switch(Tt){case 0:At[wt++]=ot[Rt>>2],Mt=(3&Rt)<<4,Tt=1;break;case 1:At[wt++]=ot[Mt|Rt>>4],Mt=(15&Rt)<<2,Tt=2;break;case 2:At[wt++]=ot[Mt|Rt>>6],At[wt++]=ot[63&Rt],Tt=0}wt>8191&&((bt||(bt=[])).push(String.fromCharCode.apply(String,At)),wt=0)}return Tt&&(At[wt++]=ot[Mt],At[wt++]=61,Tt===1&&(At[wt++]=61)),bt?(wt&&bt.push(String.fromCharCode.apply(String,At.slice(0,wt))),bt.join("")):String.fromCharCode.apply(String,At.slice(0,wt))},rt.decode=function(lt,pt,mt){for(var Mt,bt=mt,At=0,wt=0;wt<lt.length;){var Tt=lt.charCodeAt(wt++);if(Tt===61&&At>1)break;if((Tt=it[Tt])===void 0)throw Error("invalid encoding");switch(At){case 0:Mt=Tt,At=1;break;case 1:pt[mt++]=Mt<<2|(48&Tt)>>4,Mt=Tt,At=2;break;case 2:pt[mt++]=(15&Mt)<<4|(60&Tt)>>2,Mt=Tt,At=3;break;case 3:pt[mt++]=(3&Mt)<<6|Tt,At=0}}if(At===1)throw Error("invalid encoding");return mt-bt},rt.test=function(lt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(lt)}},function(_e,et,nt){function rt(){this._listeners={}}_e.exports=rt,rt.prototype.on=function(ot,it,ct){return(this._listeners[ot]||(this._listeners[ot]=[])).push({fn:it,ctx:ct||this}),this},rt.prototype.off=function(ot,it){if(ot===void 0)this._listeners={};else if(it===void 0)this._listeners[ot]=[];else for(var ct=this._listeners[ot],lt=0;lt<ct.length;)ct[lt].fn===it?ct.splice(lt,1):++lt;return this},rt.prototype.emit=function(ot){var it=this._listeners[ot];if(it){for(var ct=[],lt=1;lt<arguments.length;)ct.push(arguments[lt++]);for(lt=0;lt<it.length;)it[lt].fn.apply(it[lt++].ctx,ct)}return this}},function(_e,et,nt){function rt(pt){return typeof Float32Array<"u"?function(){function mt(Bt,Vt,$t){wt[0]=Bt,Vt[$t]=Tt[0],Vt[$t+1]=Tt[1],Vt[$t+2]=Tt[2],Vt[$t+3]=Tt[3]}function Mt(Bt,Vt,$t){wt[0]=Bt,Vt[$t]=Tt[3],Vt[$t+1]=Tt[2],Vt[$t+2]=Tt[1],Vt[$t+3]=Tt[0]}function bt(Bt,Vt){return Tt[0]=Bt[Vt],Tt[1]=Bt[Vt+1],Tt[2]=Bt[Vt+2],Tt[3]=Bt[Vt+3],wt[0]}function At(Bt,Vt){return Tt[3]=Bt[Vt],Tt[2]=Bt[Vt+1],Tt[1]=Bt[Vt+2],Tt[0]=Bt[Vt+3],wt[0]}var wt=new Float32Array([-0]),Tt=new Uint8Array(wt.buffer),Rt=Tt[3]===128;pt.writeFloatLE=Rt?mt:Mt,pt.writeFloatBE=Rt?Mt:mt,pt.readFloatLE=Rt?bt:At,pt.readFloatBE=Rt?At:bt}():function(){function mt(bt,At,wt,Tt){var Rt=At<0?1:0;if(Rt&&(At=-At),At===0)bt(1/At>0?0:2147483648,wt,Tt);else if(isNaN(At))bt(2143289344,wt,Tt);else if(At>34028234663852886e22)bt((Rt<<31|2139095040)>>>0,wt,Tt);else if(At<11754943508222875e-54)bt((Rt<<31|Math.round(At/1401298464324817e-60))>>>0,wt,Tt);else{var Bt=Math.floor(Math.log(At)/Math.LN2);bt((Rt<<31|Bt+127<<23|8388607&Math.round(At*Math.pow(2,-Bt)*8388608))>>>0,wt,Tt)}}function Mt(bt,At,wt){var Tt=bt(At,wt),Rt=2*(Tt>>31)+1,Bt=Tt>>>23&255,Vt=8388607&Tt;return Bt===255?Vt?NaN:Rt*(1/0):Bt===0?1401298464324817e-60*Rt*Vt:Rt*Math.pow(2,Bt-150)*(Vt+8388608)}pt.writeFloatLE=mt.bind(null,ot),pt.writeFloatBE=mt.bind(null,it),pt.readFloatLE=Mt.bind(null,ct),pt.readFloatBE=Mt.bind(null,lt)}(),typeof Float64Array<"u"?function(){function mt(Bt,Vt,$t){wt[0]=Bt,Vt[$t]=Tt[0],Vt[$t+1]=Tt[1],Vt[$t+2]=Tt[2],Vt[$t+3]=Tt[3],Vt[$t+4]=Tt[4],Vt[$t+5]=Tt[5],Vt[$t+6]=Tt[6],Vt[$t+7]=Tt[7]}function Mt(Bt,Vt,$t){wt[0]=Bt,Vt[$t]=Tt[7],Vt[$t+1]=Tt[6],Vt[$t+2]=Tt[5],Vt[$t+3]=Tt[4],Vt[$t+4]=Tt[3],Vt[$t+5]=Tt[2],Vt[$t+6]=Tt[1],Vt[$t+7]=Tt[0]}function bt(Bt,Vt){return Tt[0]=Bt[Vt],Tt[1]=Bt[Vt+1],Tt[2]=Bt[Vt+2],Tt[3]=Bt[Vt+3],Tt[4]=Bt[Vt+4],Tt[5]=Bt[Vt+5],Tt[6]=Bt[Vt+6],Tt[7]=Bt[Vt+7],wt[0]}function At(Bt,Vt){return Tt[7]=Bt[Vt],Tt[6]=Bt[Vt+1],Tt[5]=Bt[Vt+2],Tt[4]=Bt[Vt+3],Tt[3]=Bt[Vt+4],Tt[2]=Bt[Vt+5],Tt[1]=Bt[Vt+6],Tt[0]=Bt[Vt+7],wt[0]}var wt=new Float64Array([-0]),Tt=new Uint8Array(wt.buffer),Rt=Tt[7]===128;pt.writeDoubleLE=Rt?mt:Mt,pt.writeDoubleBE=Rt?Mt:mt,pt.readDoubleLE=Rt?bt:At,pt.readDoubleBE=Rt?At:bt}():function(){function mt(bt,At,wt,Tt,Rt,Bt){var Vt=Tt<0?1:0;if(Vt&&(Tt=-Tt),Tt===0)bt(0,Rt,Bt+At),bt(1/Tt>0?0:2147483648,Rt,Bt+wt);else if(isNaN(Tt))bt(0,Rt,Bt+At),bt(2146959360,Rt,Bt+wt);else if(Tt>17976931348623157e292)bt(0,Rt,Bt+At),bt((Vt<<31|2146435072)>>>0,Rt,Bt+wt);else{var $t;if(Tt<22250738585072014e-324)bt(($t=Tt/5e-324)>>>0,Rt,Bt+At),bt((Vt<<31|$t/4294967296)>>>0,Rt,Bt+wt);else{var Ft=Math.floor(Math.log(Tt)/Math.LN2);Ft===1024&&(Ft=1023),bt(4503599627370496*($t=Tt*Math.pow(2,-Ft))>>>0,Rt,Bt+At),bt((Vt<<31|Ft+1023<<20|1048576*$t&1048575)>>>0,Rt,Bt+wt)}}}function Mt(bt,At,wt,Tt,Rt){var Bt=bt(Tt,Rt+At),Vt=bt(Tt,Rt+wt),$t=2*(Vt>>31)+1,Ft=Vt>>>20&2047,Ht=4294967296*(1048575&Vt)+Bt;return Ft===2047?Ht?NaN:$t*(1/0):Ft===0?5e-324*$t*Ht:$t*Math.pow(2,Ft-1075)*(Ht+4503599627370496)}pt.writeDoubleLE=mt.bind(null,ot,0,4),pt.writeDoubleBE=mt.bind(null,it,4,0),pt.readDoubleLE=Mt.bind(null,ct,0,4),pt.readDoubleBE=Mt.bind(null,lt,4,0)}(),pt}function ot(pt,mt,Mt){mt[Mt]=255&pt,mt[Mt+1]=pt>>>8&255,mt[Mt+2]=pt>>>16&255,mt[Mt+3]=pt>>>24}function it(pt,mt,Mt){mt[Mt]=pt>>>24,mt[Mt+1]=pt>>>16&255,mt[Mt+2]=pt>>>8&255,mt[Mt+3]=255&pt}function ct(pt,mt){return(pt[mt]|pt[mt+1]<<8|pt[mt+2]<<16|pt[mt+3]<<24)>>>0}function lt(pt,mt){return(pt[mt]<<24|pt[mt+1]<<16|pt[mt+2]<<8|pt[mt+3])>>>0}_e.exports=rt(rt)},function(_e,et,nt){var rt=et;rt.length=function(ot){for(var it=0,ct=0,lt=0;lt<ot.length;++lt)(ct=ot.charCodeAt(lt))<128?it+=1:ct<2048?it+=2:(64512&ct)==55296&&(64512&ot.charCodeAt(lt+1))==56320?(++lt,it+=4):it+=3;return it},rt.read=function(ot,it,ct){if(ct-it<1)return"";for(var lt,pt=null,mt=[],Mt=0;it<ct;)(lt=ot[it++])<128?mt[Mt++]=lt:lt>191&&lt<224?mt[Mt++]=(31&lt)<<6|63&ot[it++]:lt>239&&lt<365?(lt=((7&lt)<<18|(63&ot[it++])<<12|(63&ot[it++])<<6|63&ot[it++])-65536,mt[Mt++]=55296+(lt>>10),mt[Mt++]=56320+(1023&lt)):mt[Mt++]=(15&lt)<<12|(63&ot[it++])<<6|63&ot[it++],Mt>8191&&((pt||(pt=[])).push(String.fromCharCode.apply(String,mt)),Mt=0);return pt?(Mt&&pt.push(String.fromCharCode.apply(String,mt.slice(0,Mt))),pt.join("")):String.fromCharCode.apply(String,mt.slice(0,Mt))},rt.write=function(ot,it,ct){for(var lt,pt,mt=ct,Mt=0;Mt<ot.length;++Mt)(lt=ot.charCodeAt(Mt))<128?it[ct++]=lt:lt<2048?(it[ct++]=lt>>6|192,it[ct++]=63&lt|128):(64512&lt)==55296&&(64512&(pt=ot.charCodeAt(Mt+1)))==56320?(lt=65536+((1023&lt)<<10)+(1023&pt),++Mt,it[ct++]=lt>>18|240,it[ct++]=lt>>12&63|128,it[ct++]=lt>>6&63|128,it[ct++]=63&lt|128):(it[ct++]=lt>>12|224,it[ct++]=lt>>6&63|128,it[ct++]=63&lt|128);return ct-mt}},function(_e,et,nt){_e.exports=function(rt,ot,it){var ct=it||8192,lt=ct>>>1,pt=null,mt=ct;return function(Mt){if(Mt<1||Mt>lt)return rt(Mt);mt+Mt>ct&&(pt=rt(ct),mt=0);var bt=ot.call(pt,mt,mt+=Mt);return 7&mt&&(mt=1+(7|mt)),bt}}},function(_e,et,nt){function rt(pt,mt){this.lo=pt>>>0,this.hi=mt>>>0}_e.exports=rt;var ot=nt(1),it=rt.zero=new rt(0,0);it.toNumber=function(){return 0},it.zzEncode=it.zzDecode=function(){return this},it.length=function(){return 1};var ct=rt.zeroHash="\0\0\0\0\0\0\0\0";rt.fromNumber=function(pt){if(pt===0)return it;var mt=pt<0;mt&&(pt=-pt);var Mt=pt>>>0,bt=(pt-Mt)/4294967296>>>0;return mt&&(bt=~bt>>>0,Mt=~Mt>>>0,++Mt>4294967295&&(Mt=0,++bt>4294967295&&(bt=0))),new rt(Mt,bt)},rt.from=function(pt){if(typeof pt=="number")return rt.fromNumber(pt);if(ot.isString(pt)){if(!ot.Long)return rt.fromNumber(parseInt(pt,10));pt=ot.Long.fromString(pt)}return pt.low||pt.high?new rt(pt.low>>>0,pt.high>>>0):it},rt.prototype.toNumber=function(pt){if(!pt&&this.hi>>>31){var mt=1+~this.lo>>>0,Mt=~this.hi>>>0;return mt||(Mt=Mt+1>>>0),-(mt+4294967296*Mt)}return this.lo+4294967296*this.hi},rt.prototype.toLong=function(pt){return ot.Long?new ot.Long(0|this.lo,0|this.hi,!!pt):{low:0|this.lo,high:0|this.hi,unsigned:!!pt}};var lt=String.prototype.charCodeAt;rt.fromHash=function(pt){return pt===ct?it:new rt((lt.call(pt,0)|lt.call(pt,1)<<8|lt.call(pt,2)<<16|lt.call(pt,3)<<24)>>>0,(lt.call(pt,4)|lt.call(pt,5)<<8|lt.call(pt,6)<<16|lt.call(pt,7)<<24)>>>0)},rt.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},rt.prototype.zzEncode=function(){var pt=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^pt)>>>0,this.lo=(this.lo<<1^pt)>>>0,this},rt.prototype.zzDecode=function(){var pt=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^pt)>>>0,this.hi=(this.hi>>>1^pt)>>>0,this},rt.prototype.length=function(){var pt=this.lo,mt=(this.lo>>>28|this.hi<<4)>>>0,Mt=this.hi>>>24;return Mt===0?mt===0?pt<16384?pt<128?1:2:pt<2097152?3:4:mt<16384?mt<128?5:6:mt<2097152?7:8:Mt<128?9:10}},function(_e,et,nt){function rt(){it.call(this)}function ot(lt,pt,mt){lt.length<40?ct.utf8.write(lt,pt,mt):pt.utf8Write?pt.utf8Write(lt,mt):pt.write(lt,mt)}_e.exports=rt;var it=nt(9);(rt.prototype=Object.create(it.prototype)).constructor=rt;var ct=nt(1);rt._configure=function(){rt.alloc=ct._Buffer_allocUnsafe,rt.writeBytesBuffer=ct.Buffer&&ct.Buffer.prototype instanceof Uint8Array&&ct.Buffer.prototype.set.name==="set"?function(lt,pt,mt){pt.set(lt,mt)}:function(lt,pt,mt){if(lt.copy)lt.copy(pt,mt,0,lt.length);else for(var Mt=0;Mt<lt.length;)pt[mt++]=lt[Mt++]}},rt.prototype.bytes=function(lt){ct.isString(lt)&&(lt=ct._Buffer_from(lt,"base64"));var pt=lt.length>>>0;return this.uint32(pt),pt&&this._push(rt.writeBytesBuffer,pt,lt),this},rt.prototype.string=function(lt){var pt=ct.Buffer.byteLength(lt);return this.uint32(pt),pt&&this._push(ot,pt,lt),this},rt._configure()},function(_e,et,nt){function rt(ct){ot.call(this,ct)}_e.exports=rt;var ot=nt(10);(rt.prototype=Object.create(ot.prototype)).constructor=rt;var it=nt(1);rt._configure=function(){it.Buffer&&(rt.prototype._slice=it.Buffer.prototype.slice)},rt.prototype.string=function(){var ct=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ct,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ct,this.len))},rt._configure()},function(_e,et,nt){function rt(it,ct,lt){if(typeof it!="function")throw TypeError("rpcImpl must be a function");ot.EventEmitter.call(this),this.rpcImpl=it,this.requestDelimited=!!ct,this.responseDelimited=!!lt}_e.exports=rt;var ot=nt(1);(rt.prototype=Object.create(ot.EventEmitter.prototype)).constructor=rt,rt.prototype.rpcCall=function it(ct,lt,pt,mt,Mt){if(!mt)throw TypeError("request must be specified");var bt=this;if(!Mt)return ot.asPromise(it,bt,ct,lt,pt,mt);if(bt.rpcImpl)try{return bt.rpcImpl(ct,lt[bt.requestDelimited?"encodeDelimited":"encode"](mt).finish(),function(At,wt){if(At)return bt.emit("error",At,ct),Mt(At);if(wt!==null){if(!(wt instanceof pt))try{wt=pt[bt.responseDelimited?"decodeDelimited":"decode"](wt)}catch(Tt){return bt.emit("error",Tt,ct),Mt(Tt)}return bt.emit("data",wt,ct),Mt(null,wt)}bt.end(!0)})}catch(At){return bt.emit("error",At,ct),void setTimeout(function(){Mt(At)},0)}else setTimeout(function(){Mt(Error("already ended"))},0)},rt.prototype.end=function(it){return this.rpcImpl&&(it||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(_e,et,nt){function rt(ot,it){function ct(mt){if(typeof mt!="string"){var Mt=lt();if(rt.verbose&&console.log("codegen: "+Mt),Mt="return "+Mt,mt){for(var bt=Object.keys(mt),At=new Array(bt.length+1),wt=new Array(bt.length),Tt=0;Tt<bt.length;)At[Tt]=bt[Tt],wt[Tt]=mt[bt[Tt++]];return At[Tt]=Mt,Function.apply(null,At).apply(null,wt)}return Function(Mt)()}for(var Rt=new Array(arguments.length-1),Bt=0;Bt<Rt.length;)Rt[Bt]=arguments[++Bt];if(Bt=0,mt=mt.replace(/%([%dfijs])/g,function(Vt,$t){var Ft=Rt[Bt++];switch($t){case"d":case"f":return String(Number(Ft));case"i":return String(Math.floor(Ft));case"j":return JSON.stringify(Ft);case"s":return String(Ft)}return"%"}),Bt!==Rt.length)throw Error("parameter count mismatch");return pt.push(mt),ct}function lt(mt){return"function "+(mt||it||"")+"("+(ot&&ot.join(",")||"")+`){
  `+pt.join(`
  `)+`
}`}typeof ot=="string"&&(it=ot,ot=void 0);var pt=[];return ct.toString=lt,ct}_e.exports=rt,rt.verbose=!1},function(_e,et,nt){function rt(ct,lt,pt){return typeof lt=="function"?(pt=lt,lt={}):lt||(lt={}),pt?!lt.xhr&&it&&it.readFile?it.readFile(ct,function(mt,Mt){return mt&&typeof XMLHttpRequest<"u"?rt.xhr(ct,lt,pt):mt?pt(mt):pt(null,lt.binary?Mt:Mt.toString("utf8"))}):rt.xhr(ct,lt,pt):ot(rt,this,ct,lt)}_e.exports=rt;var ot=nt(17),it=nt(18)("fs");rt.xhr=function(ct,lt,pt){var mt=new XMLHttpRequest;mt.onreadystatechange=function(){if(mt.readyState===4){if(mt.status!==0&&mt.status!==200)return pt(Error("status "+mt.status));if(lt.binary){var Mt=mt.response;if(!Mt){Mt=[];for(var bt=0;bt<mt.responseText.length;++bt)Mt.push(255&mt.responseText.charCodeAt(bt))}return pt(null,typeof Uint8Array<"u"?new Uint8Array(Mt):Mt)}return pt(null,mt.responseText)}},lt.binary&&("overrideMimeType"in mt&&mt.overrideMimeType("text/plain; charset=x-user-defined"),mt.responseType="arraybuffer"),mt.open("GET",ct),mt.send()}},function(_e,et,nt){var rt=et,ot=rt.isAbsolute=function(ct){return/^(?:\/|\w+:)/.test(ct)},it=rt.normalize=function(ct){var lt=(ct=ct.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),pt=ot(ct),mt="";pt&&(mt=lt.shift()+"/");for(var Mt=0;Mt<lt.length;)lt[Mt]===".."?Mt>0&&lt[Mt-1]!==".."?lt.splice(--Mt,2):pt?lt.splice(Mt,1):++Mt:lt[Mt]==="."?lt.splice(Mt,1):++Mt;return mt+lt.join("/")};rt.resolve=function(ct,lt,pt){return pt||(lt=it(lt)),ot(lt)?lt:(pt||(ct=it(ct)),(ct=ct.replace(/(?:\/|^)[^/]+$/,"")).length?it(ct+"/"+lt):lt)}},function(_e,et,nt){var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},ot=nt(16).ProtoMovieEntity,it=nt(8).assign,ct=nt(51),lt={};it(lt,ct);var pt=function(Mt){for(var bt=[],At=0;At<Mt.length;At+=32768)bt.push(String.fromCharCode.apply(null,Mt.subarray(At,At+32768)));return bt.join("")},mt={loadAssets:function(Mt,bt,At){if((typeof JSZipUtils>"u"?"undefined":rt(JSZipUtils))==="object"&&typeof JSZip=="function")if(Mt.toString()=="[object File]")mt._readBlobAsArrayBuffer(Mt,function(Rt){var Bt=new Uint8Array(Rt,0,4);Bt[0]==80&&Bt[1]==75&&Bt[2]==3&&Bt[3]==4?JSZip.loadAsync(Rt).then(function(Vt){mt._decodeAssets(Vt,bt)}):mt.load_viaProto(Rt,bt,At)});else if(Mt.indexOf("data:svga/1.0;base64,")>=0){var wt=mt._base64ToArrayBuffer(Mt.substring(21));JSZip.loadAsync(wt).then(function(Rt){mt._decodeAssets(Rt,bt)})}else Mt.indexOf("data:svga/2.0;base64,")>=0?(wt=mt._base64ToArrayBuffer(Mt.substring(21)),mt.load_viaProto(wt,bt,At)):JSZipUtils.getBinaryContent(Mt,function(Rt,Bt){if(Rt)throw At&&At(Rt),console.error(Rt),Rt;var Vt=new Uint8Array(Bt,0,4);Vt[0]==80&&Vt[1]==75&&Vt[2]==3&&Vt[3]==4?JSZip.loadAsync(Bt).then(function($t){mt._decodeAssets($t,bt)}):mt.load_viaProto(Bt,bt,At)});else{var Tt=new XMLHttpRequest;Tt.open("GET",Mt,!0),Tt.responseType="arraybuffer",Tt.onload=function(){mt.load_viaProto(Tt.response,bt,At)},Tt.onerror=function(Rt){if(!At)throw console.error(Rt),Rt;At(Rt)},Tt.send()}},load_viaProto:function(Mt,bt,At){try{var wt=lt.inflate(Mt),Tt=ot.decode(wt),Rt={};mt._loadImages(Rt,void 0,Tt,function(){Tt.ver="2.0",bt({movie:Tt,images:Rt})})}catch(Bt){if(At)return void At(Bt);throw console.error(Bt),Bt}},_decodeAssets:function(Mt,bt){var At="1.0";Mt.file("movie.binary")&&(At="1.5"),Mt.file("movie.spec").async("string").then(function(wt){var Tt=JSON.parse(wt),Rt={};Tt.ver=At,mt._loadImages(Rt,Mt,Tt,function(){bt({movie:Tt,images:Rt})})})},_loadImages:function(Mt,bt,At,wt){var Tt=this;if((At===void 0?"undefined":rt(At))==="object"&&At.$type==ot){var Rt=!0;if(bt)e:for(var Bt in At.images)switch(function(_n){if(At.images.hasOwnProperty(_n)){var hn=At.images[_n],Mn=pt(hn);return Mt.hasOwnProperty(_n)?"continue":(Rt=!1,bt.file(Mn+".png").async("base64").then((function(kn){Mt[_n]=kn,mt._loadImages(Mt,bt,At,wt)}).bind(Tt)),"break")}}(Bt)){case"continue":continue;case"break":break e}else for(var Vt in At.images)if(At.images.hasOwnProperty(Vt)){var $t=At.images[Vt],Ft=void 0;try{Ft=pt($t)}catch{Ft=pt($t)}Mt[Vt]=btoa(Ft)}Rt&&wt.call(this)}else{Rt=!0;for(var Ht in At.images)if(At.images.hasOwnProperty(Ht)){var Qt=At.images[Ht];if(Mt.hasOwnProperty(Ht))continue;Rt=!1,bt.file(Qt+".png").async("base64").then((function(_n){Mt[Ht]=_n,mt._loadImages(Mt,bt,At,wt)}).bind(this));break}Rt&&wt.call(this)}},_base64ToArrayBuffer:function(Mt){for(var bt=window.atob(Mt),At=bt.length,wt=new Uint8Array(At),Tt=0;Tt<At;Tt++)wt[Tt]=bt.charCodeAt(Tt);return wt.buffer},_readBlobAsArrayBuffer:function(Mt,bt){var At=new FileReader;At.onload=function(wt){bt(wt.target.result)},At.readAsArrayBuffer(Mt)}};_e.exports=function(Mt,bt,At){mt.loadAssets(Mt,bt,At)}},function(_e,et,nt){function rt(wt){if(!(this instanceof rt))return new rt(wt);this.options=ct.assign({chunkSize:16384,windowBits:0,to:""},wt||{});var Tt=this.options;Tt.raw&&Tt.windowBits>=0&&Tt.windowBits<16&&(Tt.windowBits=-Tt.windowBits,Tt.windowBits===0&&(Tt.windowBits=-15)),!(Tt.windowBits>=0&&Tt.windowBits<16)||wt&&wt.windowBits||(Tt.windowBits+=32),Tt.windowBits>15&&Tt.windowBits<48&&!(15&Tt.windowBits)&&(Tt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mt,this.strm.avail_out=0;var Rt=it.inflateInit2(this.strm,Tt.windowBits);if(Rt!==pt.Z_OK)throw new Error(mt[Rt]);if(this.header=new bt,it.inflateGetHeader(this.strm,this.header),Tt.dictionary&&(typeof Tt.dictionary=="string"?Tt.dictionary=lt.string2buf(Tt.dictionary):At.call(Tt.dictionary)==="[object ArrayBuffer]"&&(Tt.dictionary=new Uint8Array(Tt.dictionary)),Tt.raw&&(Rt=it.inflateSetDictionary(this.strm,Tt.dictionary))!==pt.Z_OK))throw new Error(mt[Rt])}function ot(wt,Tt){var Rt=new rt(Tt);if(Rt.push(wt,!0),Rt.err)throw Rt.msg||mt[Rt.err];return Rt.result}var it=nt(52),ct=nt(8),lt=nt(57),pt=nt(58),mt=nt(59),Mt=nt(60),bt=nt(61),At=Object.prototype.toString;rt.prototype.push=function(wt,Tt){var Rt,Bt,Vt,$t,Ft,Ht=this.strm,Qt=this.options.chunkSize,_n=this.options.dictionary,hn=!1;if(this.ended)return!1;Bt=Tt===~~Tt?Tt:Tt===!0?pt.Z_FINISH:pt.Z_NO_FLUSH,typeof wt=="string"?Ht.input=lt.binstring2buf(wt):At.call(wt)==="[object ArrayBuffer]"?Ht.input=new Uint8Array(wt):Ht.input=wt,Ht.next_in=0,Ht.avail_in=Ht.input.length;do{if(Ht.avail_out===0&&(Ht.output=new ct.Buf8(Qt),Ht.next_out=0,Ht.avail_out=Qt),(Rt=it.inflate(Ht,pt.Z_NO_FLUSH))===pt.Z_NEED_DICT&&_n&&(Rt=it.inflateSetDictionary(this.strm,_n)),Rt===pt.Z_BUF_ERROR&&hn===!0&&(Rt=pt.Z_OK,hn=!1),Rt!==pt.Z_STREAM_END&&Rt!==pt.Z_OK)return this.onEnd(Rt),this.ended=!0,!1;Ht.next_out&&(Ht.avail_out!==0&&Rt!==pt.Z_STREAM_END&&(Ht.avail_in!==0||Bt!==pt.Z_FINISH&&Bt!==pt.Z_SYNC_FLUSH)||(this.options.to==="string"?(Vt=lt.utf8border(Ht.output,Ht.next_out),$t=Ht.next_out-Vt,Ft=lt.buf2string(Ht.output,Vt),Ht.next_out=$t,Ht.avail_out=Qt-$t,$t&&ct.arraySet(Ht.output,Ht.output,Vt,$t,0),this.onData(Ft)):this.onData(ct.shrinkBuf(Ht.output,Ht.next_out)))),Ht.avail_in===0&&Ht.avail_out===0&&(hn=!0)}while((Ht.avail_in>0||Ht.avail_out===0)&&Rt!==pt.Z_STREAM_END);return Rt===pt.Z_STREAM_END&&(Bt=pt.Z_FINISH),Bt===pt.Z_FINISH?(Rt=it.inflateEnd(this.strm),this.onEnd(Rt),this.ended=!0,Rt===pt.Z_OK):Bt!==pt.Z_SYNC_FLUSH||(this.onEnd(pt.Z_OK),Ht.avail_out=0,!0)},rt.prototype.onData=function(wt){this.chunks.push(wt)},rt.prototype.onEnd=function(wt){wt===pt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ct.flattenChunks(this.chunks)),this.chunks=[],this.err=wt,this.msg=this.strm.msg},et.Inflate=rt,et.inflate=ot,et.inflateRaw=function(wt,Tt){return(Tt=Tt||{}).raw=!0,ot(wt,Tt)},et.ungzip=ot},function(_e,et,nt){function rt(jn){return(jn>>>24&255)+(jn>>>8&65280)+((65280&jn)<<8)+((255&jn)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new wt.Buf16(320),this.work=new wt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function it(jn){var Br;return jn&&jn.state?(Br=jn.state,jn.total_in=jn.total_out=Br.total=0,jn.msg="",Br.wrap&&(jn.adler=1&Br.wrap),Br.mode=Ln,Br.last=0,Br.havedict=0,Br.dmax=32768,Br.head=null,Br.hold=0,Br.bits=0,Br.lencode=Br.lendyn=new wt.Buf32(Ar),Br.distcode=Br.distdyn=new wt.Buf32(Ir),Br.sane=1,Br.back=-1,Mn):yn}function ct(jn){var Br;return jn&&jn.state?((Br=jn.state).wsize=0,Br.whave=0,Br.wnext=0,it(jn)):yn}function lt(jn,Br){var Pn,Xr;return jn&&jn.state?(Xr=jn.state,Br<0?(Pn=0,Br=-Br):(Pn=1+(Br>>4),Br<48&&(Br&=15)),Br&&(Br<8||Br>15)?yn:(Xr.window!==null&&Xr.wbits!==Br&&(Xr.window=null),Xr.wrap=Pn,Xr.wbits=Br,ct(jn))):yn}function pt(jn,Br){var Pn,Xr;return jn?(Xr=new ot,jn.state=Xr,Xr.window=null,(Pn=lt(jn,Br))!==Mn&&(jn.state=null),Pn):yn}function mt(jn){if(Ao){var Br;for(bt=new wt.Buf32(512),At=new wt.Buf32(32),Br=0;Br<144;)jn.lens[Br++]=8;for(;Br<256;)jn.lens[Br++]=9;for(;Br<280;)jn.lens[Br++]=7;for(;Br<288;)jn.lens[Br++]=8;for(Vt(Ft,jn.lens,0,288,bt,0,jn.work,{bits:9}),Br=0;Br<32;)jn.lens[Br++]=5;Vt(Ht,jn.lens,0,32,At,0,jn.work,{bits:5}),Ao=!1}jn.lencode=bt,jn.lenbits=9,jn.distcode=At,jn.distbits=5}function Mt(jn,Br,Pn,Xr){var po,fo=jn.state;return fo.window===null&&(fo.wsize=1<<fo.wbits,fo.wnext=0,fo.whave=0,fo.window=new wt.Buf8(fo.wsize)),Xr>=fo.wsize?(wt.arraySet(fo.window,Br,Pn-fo.wsize,fo.wsize,0),fo.wnext=0,fo.whave=fo.wsize):((po=fo.wsize-fo.wnext)>Xr&&(po=Xr),wt.arraySet(fo.window,Br,Pn-Xr,po,fo.wnext),(Xr-=po)?(wt.arraySet(fo.window,Br,Pn-Xr,Xr,0),fo.wnext=Xr,fo.whave=fo.wsize):(fo.wnext+=po,fo.wnext===fo.wsize&&(fo.wnext=0),fo.whave<fo.wsize&&(fo.whave+=po))),0}var bt,At,wt=nt(8),Tt=nt(53),Rt=nt(54),Bt=nt(55),Vt=nt(56),$t=0,Ft=1,Ht=2,Qt=4,_n=5,hn=6,Mn=0,kn=1,Cn=2,yn=-2,Ut=-3,En=-4,vn=-5,wn=8,Ln=1,Kn=2,Rn=3,Tn=4,Un=5,$n=6,Vn=7,tr=8,Jn=9,wr=10,jr=11,Zt=12,hr=13,lo=14,_o=15,bo=16,Hr=17,Do=18,Oo=19,zo=20,qo=21,_i=22,na=23,Qn=24,sr=25,ar=26,Or=27,Dr=28,lr=29,cr=30,gr=31,Mr=32,Ar=852,Ir=592,mo=15,Ao=!0;et.inflateReset=ct,et.inflateReset2=lt,et.inflateResetKeep=it,et.inflateInit=function(jn){return pt(jn,mo)},et.inflateInit2=pt,et.inflate=function(jn,Br){var Pn,Xr,po,fo,Us,ao,xa,$r,Gr,Ll,Ss,Fo,Cp,Js,ls,Zs,ou,Mu,lp,Nl,Ts,qs,iu,ds,Gs=0,ga=new wt.Buf8(4),Du=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!jn||!jn.state||!jn.output||!jn.input&&jn.avail_in!==0)return yn;(Pn=jn.state).mode===Zt&&(Pn.mode=hr),Us=jn.next_out,po=jn.output,xa=jn.avail_out,fo=jn.next_in,Xr=jn.input,ao=jn.avail_in,$r=Pn.hold,Gr=Pn.bits,Ll=ao,Ss=xa,qs=Mn;e:for(;;)switch(Pn.mode){case Ln:if(Pn.wrap===0){Pn.mode=hr;break}for(;Gr<16;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if(2&Pn.wrap&&$r===35615){Pn.check=0,ga[0]=255&$r,ga[1]=$r>>>8&255,Pn.check=Rt(Pn.check,ga,2,0),$r=0,Gr=0,Pn.mode=Kn;break}if(Pn.flags=0,Pn.head&&(Pn.head.done=!1),!(1&Pn.wrap)||(((255&$r)<<8)+($r>>8))%31){jn.msg="incorrect header check",Pn.mode=cr;break}if((15&$r)!==wn){jn.msg="unknown compression method",Pn.mode=cr;break}if(Gr-=4,Ts=8+(15&($r>>>=4)),Pn.wbits===0)Pn.wbits=Ts;else if(Ts>Pn.wbits){jn.msg="invalid window size",Pn.mode=cr;break}Pn.dmax=1<<Ts,jn.adler=Pn.check=1,Pn.mode=512&$r?wr:Zt,$r=0,Gr=0;break;case Kn:for(;Gr<16;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if(Pn.flags=$r,(255&Pn.flags)!==wn){jn.msg="unknown compression method",Pn.mode=cr;break}if(57344&Pn.flags){jn.msg="unknown header flags set",Pn.mode=cr;break}Pn.head&&(Pn.head.text=$r>>8&1),512&Pn.flags&&(ga[0]=255&$r,ga[1]=$r>>>8&255,Pn.check=Rt(Pn.check,ga,2,0)),$r=0,Gr=0,Pn.mode=Rn;case Rn:for(;Gr<32;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Pn.head&&(Pn.head.time=$r),512&Pn.flags&&(ga[0]=255&$r,ga[1]=$r>>>8&255,ga[2]=$r>>>16&255,ga[3]=$r>>>24&255,Pn.check=Rt(Pn.check,ga,4,0)),$r=0,Gr=0,Pn.mode=Tn;case Tn:for(;Gr<16;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Pn.head&&(Pn.head.xflags=255&$r,Pn.head.os=$r>>8),512&Pn.flags&&(ga[0]=255&$r,ga[1]=$r>>>8&255,Pn.check=Rt(Pn.check,ga,2,0)),$r=0,Gr=0,Pn.mode=Un;case Un:if(1024&Pn.flags){for(;Gr<16;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Pn.length=$r,Pn.head&&(Pn.head.extra_len=$r),512&Pn.flags&&(ga[0]=255&$r,ga[1]=$r>>>8&255,Pn.check=Rt(Pn.check,ga,2,0)),$r=0,Gr=0}else Pn.head&&(Pn.head.extra=null);Pn.mode=$n;case $n:if(1024&Pn.flags&&((Fo=Pn.length)>ao&&(Fo=ao),Fo&&(Pn.head&&(Ts=Pn.head.extra_len-Pn.length,Pn.head.extra||(Pn.head.extra=new Array(Pn.head.extra_len)),wt.arraySet(Pn.head.extra,Xr,fo,Fo,Ts)),512&Pn.flags&&(Pn.check=Rt(Pn.check,Xr,Fo,fo)),ao-=Fo,fo+=Fo,Pn.length-=Fo),Pn.length))break e;Pn.length=0,Pn.mode=Vn;case Vn:if(2048&Pn.flags){if(ao===0)break e;Fo=0;do Ts=Xr[fo+Fo++],Pn.head&&Ts&&Pn.length<65536&&(Pn.head.name+=String.fromCharCode(Ts));while(Ts&&Fo<ao);if(512&Pn.flags&&(Pn.check=Rt(Pn.check,Xr,Fo,fo)),ao-=Fo,fo+=Fo,Ts)break e}else Pn.head&&(Pn.head.name=null);Pn.length=0,Pn.mode=tr;case tr:if(4096&Pn.flags){if(ao===0)break e;Fo=0;do Ts=Xr[fo+Fo++],Pn.head&&Ts&&Pn.length<65536&&(Pn.head.comment+=String.fromCharCode(Ts));while(Ts&&Fo<ao);if(512&Pn.flags&&(Pn.check=Rt(Pn.check,Xr,Fo,fo)),ao-=Fo,fo+=Fo,Ts)break e}else Pn.head&&(Pn.head.comment=null);Pn.mode=Jn;case Jn:if(512&Pn.flags){for(;Gr<16;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if($r!==(65535&Pn.check)){jn.msg="header crc mismatch",Pn.mode=cr;break}$r=0,Gr=0}Pn.head&&(Pn.head.hcrc=Pn.flags>>9&1,Pn.head.done=!0),jn.adler=Pn.check=0,Pn.mode=Zt;break;case wr:for(;Gr<32;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}jn.adler=Pn.check=rt($r),$r=0,Gr=0,Pn.mode=jr;case jr:if(Pn.havedict===0)return jn.next_out=Us,jn.avail_out=xa,jn.next_in=fo,jn.avail_in=ao,Pn.hold=$r,Pn.bits=Gr,Cn;jn.adler=Pn.check=1,Pn.mode=Zt;case Zt:if(Br===_n||Br===hn)break e;case hr:if(Pn.last){$r>>>=7&Gr,Gr-=7&Gr,Pn.mode=Or;break}for(;Gr<3;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}switch(Pn.last=1&$r,Gr-=1,3&($r>>>=1)){case 0:Pn.mode=lo;break;case 1:if(mt(Pn),Pn.mode=zo,Br===hn){$r>>>=2,Gr-=2;break e}break;case 2:Pn.mode=Hr;break;case 3:jn.msg="invalid block type",Pn.mode=cr}$r>>>=2,Gr-=2;break;case lo:for($r>>>=7&Gr,Gr-=7&Gr;Gr<32;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if((65535&$r)!=($r>>>16^65535)){jn.msg="invalid stored block lengths",Pn.mode=cr;break}if(Pn.length=65535&$r,$r=0,Gr=0,Pn.mode=_o,Br===hn)break e;case _o:Pn.mode=bo;case bo:if(Fo=Pn.length){if(Fo>ao&&(Fo=ao),Fo>xa&&(Fo=xa),Fo===0)break e;wt.arraySet(po,Xr,fo,Fo,Us),ao-=Fo,fo+=Fo,xa-=Fo,Us+=Fo,Pn.length-=Fo;break}Pn.mode=Zt;break;case Hr:for(;Gr<14;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if(Pn.nlen=257+(31&$r),$r>>>=5,Gr-=5,Pn.ndist=1+(31&$r),$r>>>=5,Gr-=5,Pn.ncode=4+(15&$r),$r>>>=4,Gr-=4,Pn.nlen>286||Pn.ndist>30){jn.msg="too many length or distance symbols",Pn.mode=cr;break}Pn.have=0,Pn.mode=Do;case Do:for(;Pn.have<Pn.ncode;){for(;Gr<3;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Pn.lens[Du[Pn.have++]]=7&$r,$r>>>=3,Gr-=3}for(;Pn.have<19;)Pn.lens[Du[Pn.have++]]=0;if(Pn.lencode=Pn.lendyn,Pn.lenbits=7,iu={bits:Pn.lenbits},qs=Vt($t,Pn.lens,0,19,Pn.lencode,0,Pn.work,iu),Pn.lenbits=iu.bits,qs){jn.msg="invalid code lengths set",Pn.mode=cr;break}Pn.have=0,Pn.mode=Oo;case Oo:for(;Pn.have<Pn.nlen+Pn.ndist;){for(;Zs=(Gs=Pn.lencode[$r&(1<<Pn.lenbits)-1])>>>16&255,ou=65535&Gs,!((ls=Gs>>>24)<=Gr);){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if(ou<16)$r>>>=ls,Gr-=ls,Pn.lens[Pn.have++]=ou;else{if(ou===16){for(ds=ls+2;Gr<ds;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if($r>>>=ls,Gr-=ls,Pn.have===0){jn.msg="invalid bit length repeat",Pn.mode=cr;break}Ts=Pn.lens[Pn.have-1],Fo=3+(3&$r),$r>>>=2,Gr-=2}else if(ou===17){for(ds=ls+3;Gr<ds;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Gr-=ls,Ts=0,Fo=3+(7&($r>>>=ls)),$r>>>=3,Gr-=3}else{for(ds=ls+7;Gr<ds;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Gr-=ls,Ts=0,Fo=11+(127&($r>>>=ls)),$r>>>=7,Gr-=7}if(Pn.have+Fo>Pn.nlen+Pn.ndist){jn.msg="invalid bit length repeat",Pn.mode=cr;break}for(;Fo--;)Pn.lens[Pn.have++]=Ts}}if(Pn.mode===cr)break;if(Pn.lens[256]===0){jn.msg="invalid code -- missing end-of-block",Pn.mode=cr;break}if(Pn.lenbits=9,iu={bits:Pn.lenbits},qs=Vt(Ft,Pn.lens,0,Pn.nlen,Pn.lencode,0,Pn.work,iu),Pn.lenbits=iu.bits,qs){jn.msg="invalid literal/lengths set",Pn.mode=cr;break}if(Pn.distbits=6,Pn.distcode=Pn.distdyn,iu={bits:Pn.distbits},qs=Vt(Ht,Pn.lens,Pn.nlen,Pn.ndist,Pn.distcode,0,Pn.work,iu),Pn.distbits=iu.bits,qs){jn.msg="invalid distances set",Pn.mode=cr;break}if(Pn.mode=zo,Br===hn)break e;case zo:Pn.mode=qo;case qo:if(ao>=6&&xa>=258){jn.next_out=Us,jn.avail_out=xa,jn.next_in=fo,jn.avail_in=ao,Pn.hold=$r,Pn.bits=Gr,Bt(jn,Ss),Us=jn.next_out,po=jn.output,xa=jn.avail_out,fo=jn.next_in,Xr=jn.input,ao=jn.avail_in,$r=Pn.hold,Gr=Pn.bits,Pn.mode===Zt&&(Pn.back=-1);break}for(Pn.back=0;Zs=(Gs=Pn.lencode[$r&(1<<Pn.lenbits)-1])>>>16&255,ou=65535&Gs,!((ls=Gs>>>24)<=Gr);){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if(Zs&&!(240&Zs)){for(Mu=ls,lp=Zs,Nl=ou;Zs=(Gs=Pn.lencode[Nl+(($r&(1<<Mu+lp)-1)>>Mu)])>>>16&255,ou=65535&Gs,!(Mu+(ls=Gs>>>24)<=Gr);){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}$r>>>=Mu,Gr-=Mu,Pn.back+=Mu}if($r>>>=ls,Gr-=ls,Pn.back+=ls,Pn.length=ou,Zs===0){Pn.mode=ar;break}if(32&Zs){Pn.back=-1,Pn.mode=Zt;break}if(64&Zs){jn.msg="invalid literal/length code",Pn.mode=cr;break}Pn.extra=15&Zs,Pn.mode=_i;case _i:if(Pn.extra){for(ds=Pn.extra;Gr<ds;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Pn.length+=$r&(1<<Pn.extra)-1,$r>>>=Pn.extra,Gr-=Pn.extra,Pn.back+=Pn.extra}Pn.was=Pn.length,Pn.mode=na;case na:for(;Zs=(Gs=Pn.distcode[$r&(1<<Pn.distbits)-1])>>>16&255,ou=65535&Gs,!((ls=Gs>>>24)<=Gr);){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if(!(240&Zs)){for(Mu=ls,lp=Zs,Nl=ou;Zs=(Gs=Pn.distcode[Nl+(($r&(1<<Mu+lp)-1)>>Mu)])>>>16&255,ou=65535&Gs,!(Mu+(ls=Gs>>>24)<=Gr);){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}$r>>>=Mu,Gr-=Mu,Pn.back+=Mu}if($r>>>=ls,Gr-=ls,Pn.back+=ls,64&Zs){jn.msg="invalid distance code",Pn.mode=cr;break}Pn.offset=ou,Pn.extra=15&Zs,Pn.mode=Qn;case Qn:if(Pn.extra){for(ds=Pn.extra;Gr<ds;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}Pn.offset+=$r&(1<<Pn.extra)-1,$r>>>=Pn.extra,Gr-=Pn.extra,Pn.back+=Pn.extra}if(Pn.offset>Pn.dmax){jn.msg="invalid distance too far back",Pn.mode=cr;break}Pn.mode=sr;case sr:if(xa===0)break e;if(Fo=Ss-xa,Pn.offset>Fo){if((Fo=Pn.offset-Fo)>Pn.whave&&Pn.sane){jn.msg="invalid distance too far back",Pn.mode=cr;break}Fo>Pn.wnext?(Fo-=Pn.wnext,Cp=Pn.wsize-Fo):Cp=Pn.wnext-Fo,Fo>Pn.length&&(Fo=Pn.length),Js=Pn.window}else Js=po,Cp=Us-Pn.offset,Fo=Pn.length;Fo>xa&&(Fo=xa),xa-=Fo,Pn.length-=Fo;do po[Us++]=Js[Cp++];while(--Fo);Pn.length===0&&(Pn.mode=qo);break;case ar:if(xa===0)break e;po[Us++]=Pn.length,xa--,Pn.mode=qo;break;case Or:if(Pn.wrap){for(;Gr<32;){if(ao===0)break e;ao--,$r|=Xr[fo++]<<Gr,Gr+=8}if(Ss-=xa,jn.total_out+=Ss,Pn.total+=Ss,Ss&&(jn.adler=Pn.check=Pn.flags?Rt(Pn.check,po,Ss,Us-Ss):Tt(Pn.check,po,Ss,Us-Ss)),Ss=xa,(Pn.flags?$r:rt($r))!==Pn.check){jn.msg="incorrect data check",Pn.mode=cr;break}$r=0,Gr=0}Pn.mode=Dr;case Dr:if(Pn.wrap&&Pn.flags){for(;Gr<32;){if(ao===0)break e;ao--,$r+=Xr[fo++]<<Gr,Gr+=8}if($r!==(4294967295&Pn.total)){jn.msg="incorrect length check",Pn.mode=cr;break}$r=0,Gr=0}Pn.mode=lr;case lr:qs=kn;break e;case cr:qs=Ut;break e;case gr:return En;case Mr:default:return yn}return jn.next_out=Us,jn.avail_out=xa,jn.next_in=fo,jn.avail_in=ao,Pn.hold=$r,Pn.bits=Gr,(Pn.wsize||Ss!==jn.avail_out&&Pn.mode<cr&&(Pn.mode<Or||Br!==Qt))&&Mt(jn,jn.output,jn.next_out,Ss-jn.avail_out)?(Pn.mode=gr,En):(Ll-=jn.avail_in,Ss-=jn.avail_out,jn.total_in+=Ll,jn.total_out+=Ss,Pn.total+=Ss,Pn.wrap&&Ss&&(jn.adler=Pn.check=Pn.flags?Rt(Pn.check,po,Ss,jn.next_out-Ss):Tt(Pn.check,po,Ss,jn.next_out-Ss)),jn.data_type=Pn.bits+(Pn.last?64:0)+(Pn.mode===Zt?128:0)+(Pn.mode===zo||Pn.mode===_o?256:0),(Ll===0&&Ss===0||Br===Qt)&&qs===Mn&&(qs=vn),qs)},et.inflateEnd=function(jn){if(!jn||!jn.state)return yn;var Br=jn.state;return Br.window&&(Br.window=null),jn.state=null,Mn},et.inflateGetHeader=function(jn,Br){var Pn;return jn&&jn.state&&2&(Pn=jn.state).wrap?(Pn.head=Br,Br.done=!1,Mn):yn},et.inflateSetDictionary=function(jn,Br){var Pn,Xr=Br.length;return jn&&jn.state?(Pn=jn.state).wrap!==0&&Pn.mode!==jr?yn:Pn.mode===jr&&Tt(1,Br,Xr,0)!==Pn.check?Ut:Mt(jn,Br,Xr,Xr)?(Pn.mode=gr,En):(Pn.havedict=1,Mn):yn},et.inflateInfo="pako inflate (from Nodeca project)"},function(_e,et,nt){_e.exports=function(rt,ot,it,ct){for(var lt=65535&rt|0,pt=rt>>>16&65535|0,mt=0;it!==0;){it-=mt=it>2e3?2e3:it;do pt=pt+(lt=lt+ot[ct++]|0)|0;while(--mt);lt%=65521,pt%=65521}return lt|pt<<16|0}},function(_e,et,nt){var rt=function(){for(var ot,it=[],ct=0;ct<256;ct++){ot=ct;for(var lt=0;lt<8;lt++)ot=1&ot?3988292384^ot>>>1:ot>>>1;it[ct]=ot}return it}();_e.exports=function(ot,it,ct,lt){var pt=rt,mt=lt+ct;ot^=-1;for(var Mt=lt;Mt<mt;Mt++)ot=ot>>>8^pt[255&(ot^it[Mt])];return-1^ot}},function(_e,et,nt){_e.exports=function(rt,ot){var it,ct,lt,pt,mt,Mt,bt,At,wt,Tt,Rt,Bt,Vt,$t,Ft,Ht,Qt,_n,hn,Mn,kn,Cn,yn,Ut,En;it=rt.state,ct=rt.next_in,Ut=rt.input,lt=ct+(rt.avail_in-5),pt=rt.next_out,En=rt.output,mt=pt-(ot-rt.avail_out),Mt=pt+(rt.avail_out-257),bt=it.dmax,At=it.wsize,wt=it.whave,Tt=it.wnext,Rt=it.window,Bt=it.hold,Vt=it.bits,$t=it.lencode,Ft=it.distcode,Ht=(1<<it.lenbits)-1,Qt=(1<<it.distbits)-1;e:do{Vt<15&&(Bt+=Ut[ct++]<<Vt,Vt+=8,Bt+=Ut[ct++]<<Vt,Vt+=8),_n=$t[Bt&Ht];t:for(;;){if(Bt>>>=hn=_n>>>24,Vt-=hn,(hn=_n>>>16&255)==0)En[pt++]=65535&_n;else{if(!(16&hn)){if(!(64&hn)){_n=$t[(65535&_n)+(Bt&(1<<hn)-1)];continue t}if(32&hn){it.mode=12;break e}rt.msg="invalid literal/length code",it.mode=30;break e}Mn=65535&_n,(hn&=15)&&(Vt<hn&&(Bt+=Ut[ct++]<<Vt,Vt+=8),Mn+=Bt&(1<<hn)-1,Bt>>>=hn,Vt-=hn),Vt<15&&(Bt+=Ut[ct++]<<Vt,Vt+=8,Bt+=Ut[ct++]<<Vt,Vt+=8),_n=Ft[Bt&Qt];n:for(;;){if(Bt>>>=hn=_n>>>24,Vt-=hn,!(16&(hn=_n>>>16&255))){if(!(64&hn)){_n=Ft[(65535&_n)+(Bt&(1<<hn)-1)];continue n}rt.msg="invalid distance code",it.mode=30;break e}if(kn=65535&_n,Vt<(hn&=15)&&(Bt+=Ut[ct++]<<Vt,(Vt+=8)<hn&&(Bt+=Ut[ct++]<<Vt,Vt+=8)),(kn+=Bt&(1<<hn)-1)>bt){rt.msg="invalid distance too far back",it.mode=30;break e}if(Bt>>>=hn,Vt-=hn,kn>(hn=pt-mt)){if((hn=kn-hn)>wt&&it.sane){rt.msg="invalid distance too far back",it.mode=30;break e}if(Cn=0,yn=Rt,Tt===0){if(Cn+=At-hn,hn<Mn){Mn-=hn;do En[pt++]=Rt[Cn++];while(--hn);Cn=pt-kn,yn=En}}else if(Tt<hn){if(Cn+=At+Tt-hn,(hn-=Tt)<Mn){Mn-=hn;do En[pt++]=Rt[Cn++];while(--hn);if(Cn=0,Tt<Mn){Mn-=hn=Tt;do En[pt++]=Rt[Cn++];while(--hn);Cn=pt-kn,yn=En}}}else if(Cn+=Tt-hn,hn<Mn){Mn-=hn;do En[pt++]=Rt[Cn++];while(--hn);Cn=pt-kn,yn=En}for(;Mn>2;)En[pt++]=yn[Cn++],En[pt++]=yn[Cn++],En[pt++]=yn[Cn++],Mn-=3;Mn&&(En[pt++]=yn[Cn++],Mn>1&&(En[pt++]=yn[Cn++]))}else{Cn=pt-kn;do En[pt++]=En[Cn++],En[pt++]=En[Cn++],En[pt++]=En[Cn++],Mn-=3;while(Mn>2);Mn&&(En[pt++]=En[Cn++],Mn>1&&(En[pt++]=En[Cn++]))}break}}break}}while(ct<lt&&pt<Mt);ct-=Mn=Vt>>3,Bt&=(1<<(Vt-=Mn<<3))-1,rt.next_in=ct,rt.next_out=pt,rt.avail_in=ct<lt?lt-ct+5:5-(ct-lt),rt.avail_out=pt<Mt?Mt-pt+257:257-(pt-Mt),it.hold=Bt,it.bits=Vt}},function(_e,et,nt){var rt=nt(8),ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],it=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ct=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],lt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];_e.exports=function(pt,mt,Mt,bt,At,wt,Tt,Rt){var Bt,Vt,$t,Ft,Ht,Qt,_n,hn,Mn,kn=Rt.bits,Cn=0,yn=0,Ut=0,En=0,vn=0,wn=0,Ln=0,Kn=0,Rn=0,Tn=0,Un=null,$n=0,Vn=new rt.Buf16(16),tr=new rt.Buf16(16),Jn=null,wr=0;for(Cn=0;Cn<=15;Cn++)Vn[Cn]=0;for(yn=0;yn<bt;yn++)Vn[mt[Mt+yn]]++;for(vn=kn,En=15;En>=1&&Vn[En]===0;En--);if(vn>En&&(vn=En),En===0)return At[wt++]=20971520,At[wt++]=20971520,Rt.bits=1,0;for(Ut=1;Ut<En&&Vn[Ut]===0;Ut++);for(vn<Ut&&(vn=Ut),Kn=1,Cn=1;Cn<=15;Cn++)if(Kn<<=1,(Kn-=Vn[Cn])<0)return-1;if(Kn>0&&(pt===0||En!==1))return-1;for(tr[1]=0,Cn=1;Cn<15;Cn++)tr[Cn+1]=tr[Cn]+Vn[Cn];for(yn=0;yn<bt;yn++)mt[Mt+yn]!==0&&(Tt[tr[mt[Mt+yn]]++]=yn);if(pt===0?(Un=Jn=Tt,Qt=19):pt===1?(Un=ot,$n-=257,Jn=it,wr-=257,Qt=256):(Un=ct,Jn=lt,Qt=-1),Tn=0,yn=0,Cn=Ut,Ht=wt,wn=vn,Ln=0,$t=-1,Ft=(Rn=1<<vn)-1,pt===1&&Rn>852||pt===2&&Rn>592)return 1;for(;;){_n=Cn-Ln,Tt[yn]<Qt?(hn=0,Mn=Tt[yn]):Tt[yn]>Qt?(hn=Jn[wr+Tt[yn]],Mn=Un[$n+Tt[yn]]):(hn=96,Mn=0),Bt=1<<Cn-Ln,Ut=Vt=1<<wn;do At[Ht+(Tn>>Ln)+(Vt-=Bt)]=_n<<24|hn<<16|Mn|0;while(Vt!==0);for(Bt=1<<Cn-1;Tn&Bt;)Bt>>=1;if(Bt!==0?(Tn&=Bt-1,Tn+=Bt):Tn=0,yn++,--Vn[Cn]==0){if(Cn===En)break;Cn=mt[Mt+Tt[yn]]}if(Cn>vn&&(Tn&Ft)!==$t){for(Ln===0&&(Ln=vn),Ht+=Ut,Kn=1<<(wn=Cn-Ln);wn+Ln<En&&!((Kn-=Vn[wn+Ln])<=0);)wn++,Kn<<=1;if(Rn+=1<<wn,pt===1&&Rn>852||pt===2&&Rn>592)return 1;At[$t=Tn&Ft]=vn<<24|wn<<16|Ht-wt|0}}return Tn!==0&&(At[Ht+Tn]=Cn-Ln<<24|64<<16|0),Rt.bits=vn,0}},function(_e,et,nt){function rt(mt,Mt){if(Mt<65534&&(mt.subarray&&ct||!mt.subarray&&it))return String.fromCharCode.apply(null,ot.shrinkBuf(mt,Mt));for(var bt="",At=0;At<Mt;At++)bt+=String.fromCharCode(mt[At]);return bt}var ot=nt(8),it=!0,ct=!0;try{String.fromCharCode.apply(null,[0])}catch{it=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ct=!1}for(var lt=new ot.Buf8(256),pt=0;pt<256;pt++)lt[pt]=pt>=252?6:pt>=248?5:pt>=240?4:pt>=224?3:pt>=192?2:1;lt[254]=lt[254]=1,et.string2buf=function(mt){var Mt,bt,At,wt,Tt,Rt=mt.length,Bt=0;for(wt=0;wt<Rt;wt++)(64512&(bt=mt.charCodeAt(wt)))==55296&&wt+1<Rt&&(64512&(At=mt.charCodeAt(wt+1)))==56320&&(bt=65536+(bt-55296<<10)+(At-56320),wt++),Bt+=bt<128?1:bt<2048?2:bt<65536?3:4;for(Mt=new ot.Buf8(Bt),Tt=0,wt=0;Tt<Bt;wt++)(64512&(bt=mt.charCodeAt(wt)))==55296&&wt+1<Rt&&(64512&(At=mt.charCodeAt(wt+1)))==56320&&(bt=65536+(bt-55296<<10)+(At-56320),wt++),bt<128?Mt[Tt++]=bt:bt<2048?(Mt[Tt++]=192|bt>>>6,Mt[Tt++]=128|63&bt):bt<65536?(Mt[Tt++]=224|bt>>>12,Mt[Tt++]=128|bt>>>6&63,Mt[Tt++]=128|63&bt):(Mt[Tt++]=240|bt>>>18,Mt[Tt++]=128|bt>>>12&63,Mt[Tt++]=128|bt>>>6&63,Mt[Tt++]=128|63&bt);return Mt},et.buf2binstring=function(mt){return rt(mt,mt.length)},et.binstring2buf=function(mt){for(var Mt=new ot.Buf8(mt.length),bt=0,At=Mt.length;bt<At;bt++)Mt[bt]=mt.charCodeAt(bt);return Mt},et.buf2string=function(mt,Mt){var bt,At,wt,Tt,Rt=Mt||mt.length,Bt=new Array(2*Rt);for(At=0,bt=0;bt<Rt;)if((wt=mt[bt++])<128)Bt[At++]=wt;else if((Tt=lt[wt])>4)Bt[At++]=65533,bt+=Tt-1;else{for(wt&=Tt===2?31:Tt===3?15:7;Tt>1&&bt<Rt;)wt=wt<<6|63&mt[bt++],Tt--;Tt>1?Bt[At++]=65533:wt<65536?Bt[At++]=wt:(wt-=65536,Bt[At++]=55296|wt>>10&1023,Bt[At++]=56320|1023&wt)}return rt(Bt,At)},et.utf8border=function(mt,Mt){var bt;for((Mt=Mt||mt.length)>mt.length&&(Mt=mt.length),bt=Mt-1;bt>=0&&(192&mt[bt])==128;)bt--;return bt<0||bt===0?Mt:bt+lt[mt[bt]]>Mt?bt:Mt}},function(_e,et,nt){_e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(_e,et,nt){_e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(_e,et,nt){_e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(_e,et,nt){_e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(_e,et,nt){_e.exports=function(rt){function ot(ct){if(it[ct])return it[ct].exports;var lt=it[ct]={i:ct,l:!1,exports:{}};return rt[ct].call(lt.exports,lt,lt.exports,ot),lt.l=!0,lt.exports}var it={};return ot.m=rt,ot.c=it,ot.d=function(ct,lt,pt){ot.o(ct,lt)||Object.defineProperty(ct,lt,{configurable:!1,enumerable:!0,get:pt})},ot.n=function(ct){var lt=ct&&ct.__esModule?function(){return ct.default}:function(){return ct};return ot.d(lt,"a",lt),lt},ot.o=function(ct,lt){return Object.prototype.hasOwnProperty.call(ct,lt)},ot.p="",ot(ot.s=0)}([function(rt,ot,it){Object.defineProperty(ot,"__esModule",{value:!0});var ct=it(1);rt.exports=ct.ValueAnimator},function(rt,ot,it){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function lt(){this.startValue=0,this.endValue=0,this.duration=0,this.loops=1,this.fillRule=0,this.onStart=function(){},this.onUpdate=function(){},this.onEnd=function(){},this.mRunning=!1,this.mStartTime=0,this.mCurrentFrication=0,this.mReverse=!1}return lt.prototype.start=function(pt){pt===void 0&&(pt=void 0),this.doStart(!1,pt)},lt.prototype.reverse=function(pt){pt===void 0&&(pt=void 0),this.doStart(!0,pt)},lt.prototype.stop=function(){this.doStop()},Object.defineProperty(lt.prototype,"animatedValue",{get:function(){return(this.endValue-this.startValue)*this.mCurrentFrication+this.startValue},enumerable:!0,configurable:!0}),lt.prototype.doStart=function(pt,mt){pt===void 0&&(pt=!1),mt===void 0&&(mt=void 0),this.mReverse=pt,this.mRunning=!0,this.mStartTime=lt.currentTimeMillsecond(),mt&&(this.mStartTime-=pt?(1-mt/(this.endValue-this.startValue))*this.duration:mt/(this.endValue-this.startValue)*this.duration),this.mCurrentFrication=0,this.onStart(),this.doFrame()},lt.prototype.doStop=function(){this.mRunning=!1},lt.prototype.doFrame=function(){this.mRunning&&(this.doDeltaTime(lt.currentTimeMillsecond()-this.mStartTime),this.mRunning&&lt.requestAnimationFrame(this.doFrame.bind(this)))},lt.prototype.doDeltaTime=function(pt){pt>=this.duration*this.loops?(this.mCurrentFrication=this.fillRule===1?0:1,this.mRunning=!1):(this.mCurrentFrication=pt%this.duration/this.duration,this.mReverse&&(this.mCurrentFrication=1-this.mCurrentFrication)),this.onUpdate(this.animatedValue),this.mRunning===!1&&this.onEnd()},lt.currentTimeMillsecond=function(){return typeof performance>"u"?new Date().getTime():performance.now()},lt.requestAnimationFrame=function(pt){return typeof requestAnimationFrame>"u"?setTimeout(pt,16):window.requestAnimationFrame(pt)},lt}();ot.ValueAnimator=ct}])},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.Player=void 0;var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},ot=function(){function lt(pt,mt){for(var Mt=0;Mt<mt.length;Mt++){var bt=mt[Mt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(pt,bt.key,bt)}}return function(pt,mt,Mt){return mt&&lt(pt.prototype,mt),Mt&&lt(pt,Mt),pt}}(),it=nt(65),ct=nt(62);et.Player=function(){function lt(pt){(function(mt,Mt){if(!(mt instanceof Mt))throw new TypeError("Cannot call a class as a function")})(this,lt),this.loops=0,this.clearsAfterStop=!0,this.fillMode="Forward",this._asChild=!1,this._container=void 0,this._renderer=void 0,this._animator=void 0,this._drawingCanvas=void 0,this._contentMode="AspectFit",this._videoItem=void 0,this._forwardAnimating=!1,this._currentFrame=0,this._dynamicImage={},this._dynamicImageTransform={},this._dynamicText={},this._onFinished=void 0,this._onFrame=void 0,this._onPercentage=void 0,this._container=typeof pt=="string"?document.querySelector(pt):pt,this._asChild=pt===void 0,this._init()}return ot(lt,[{key:"setVideoItem",value:function(pt){this._currentFrame=0,this._videoItem=pt,this._renderer.prepare(),this.clear(),this._update()}},{key:"setContentMode",value:function(pt){this._contentMode=pt,this._update()}},{key:"setClipsToBounds",value:function(pt){this._container instanceof HTMLDivElement&&(this._container.style.overflowX=this._container.style.overflowY=pt?"hidden":void 0)}},{key:"startAnimation",value:function(pt){this.stopAnimation(!1),this._doStart(void 0,pt,void 0)}},{key:"startAnimationWithRange",value:function(pt,mt){this.stopAnimation(!1),this._doStart(pt,mt,void 0)}},{key:"pauseAnimation",value:function(){this.stopAnimation(!1)}},{key:"stopAnimation",value:function(pt){this._forwardAnimating=!1,this._animator!==void 0&&this._animator.stop(),pt===void 0&&(pt=this.clearsAfterStop),pt&&this.clear()}},{key:"clear",value:function(){this._renderer.clear(),this._renderer.clearAudios()}},{key:"stepToFrame",value:function(pt,mt){pt>=this._videoItem.frames||pt<0||(this.pauseAnimation(),this._currentFrame=pt,this._update(),mt&&this._doStart(void 0,!1,this._currentFrame))}},{key:"stepToPercentage",value:function(pt,mt){var Mt=parseInt(pt*this._videoItem.frames);Mt>=this._videoItem.frames&&Mt>0&&(Mt=this._videoItem.frames-1),this.stepToFrame(Mt,mt)}},{key:"setImage",value:function(pt,mt,Mt){this._dynamicImage[mt]=pt,Mt!==void 0&&Mt instanceof Array&&Mt.length==6&&(this._dynamicImageTransform[mt]=Mt)}},{key:"setText",value:function(pt,mt){var Mt=typeof pt=="string"?pt:pt.text,bt=((pt===void 0?"undefined":rt(pt))==="object"?pt.size:"14px")||"14px",At=((pt===void 0?"undefined":rt(pt))==="object"?pt.family:"Arial")||"Arial",wt=((pt===void 0?"undefined":rt(pt))==="object"?pt.color:"#000000")||"#000000",Tt=((pt===void 0?"undefined":rt(pt))==="object"?pt.offset:{x:0,y:0})||{x:0,y:0};this._dynamicText[mt]={text:Mt,style:bt+" "+At,color:wt,offset:Tt}}},{key:"clearDynamicObjects",value:function(){this._dynamicImage={},this._dynamicImageTransform={},this._dynamicText={}}},{key:"onFinished",value:function(pt){this._onFinished=pt}},{key:"onFrame",value:function(pt){this._onFrame=pt}},{key:"onPercentage",value:function(pt){this._onPercentage=pt}},{key:"drawOnContext",value:function(pt,mt,Mt,bt,At){this._drawingCanvas&&this._videoItem&&pt.drawImage(this._drawingCanvas,mt,Mt,bt||this._videoItem.videoSize.width,At||this._videoItem.videoSize.height)}},{key:"_init",value:function(){if(this._container instanceof HTMLDivElement||this._asChild){if(this._container)for(var pt=this._container.querySelectorAll("canvas"),mt=0;mt<pt.length;mt++){var Mt=pt[mt];Mt!==void 0&&Mt.__isPlayer&&this._container.removeChild(Mt)}this._drawingCanvas=document.createElement("canvas"),this._drawingCanvas.__isPlayer=!0,this._drawingCanvas.style.backgroundColor="transparent",this._container&&(this._container.appendChild(this._drawingCanvas),this._container.style.textAlign="left")}this._renderer=new it.Renderer(this)}},{key:"_doStart",value:function(pt,mt,Mt){var bt=this;this._animator=new ct,pt!==void 0?(this._animator.startValue=Math.max(0,pt.location),this._animator.endValue=Math.min(this._videoItem.frames-1,pt.location+pt.length),this._animator.duration=(this._animator.endValue-this._animator.startValue+1)*(1/this._videoItem.FPS)*1e3):(this._animator.startValue=0,this._animator.endValue=this._videoItem.frames-1,this._animator.duration=this._videoItem.frames*(1/this._videoItem.FPS)*1e3),this._animator.loops=this.loops<=0?1/0:this.loops,this._animator.fillRule=this.fillMode==="Backward"?1:0,this._animator.onUpdate=function(At){bt._currentFrame!==Math.floor(At)&&(bt._forwardAnimating&&bt._currentFrame>Math.floor(At)&&bt._renderer.clearAudios(),bt._currentFrame=Math.floor(At),bt._update(),typeof bt._onFrame=="function"&&bt._onFrame(bt._currentFrame),typeof bt._onPercentage=="function"&&bt._onPercentage(parseFloat(bt._currentFrame+1)/parseFloat(bt._videoItem.frames)))},this._animator.onEnd=function(){bt._forwardAnimating=!1,bt.clearsAfterStop===!0&&bt.clear(),typeof bt._onFinished=="function"&&bt._onFinished()},mt===!0?(this._animator.reverse(Mt),this._forwardAnimating=!1):(this._animator.start(Mt),this._forwardAnimating=!0),this._currentFrame=this._animator.startValue,this._update()}},{key:"_resize",value:function(){var pt=!1;if(this._drawingCanvas){var mt;mt=this._drawingCanvas.parentNode?{width:this._drawingCanvas.parentNode.clientWidth,height:this._drawingCanvas.parentNode.clientHeight}:this._videoItem.videoSize;var Mt=this._videoItem.videoSize;if(mt.width>=Mt.width&&mt.height>=Mt.height)this._drawingCanvas.width=mt.width,this._drawingCanvas.height=mt.height,this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="",pt=!0;else{if(this._drawingCanvas.width=Mt.width,this._drawingCanvas.height=Mt.height,this._contentMode==="Fill"){var bt=mt.width/Mt.width,At=mt.height/Mt.height,wt=(Mt.width*bt-Mt.width)/2,Tt=(Mt.height*At-Mt.height)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+bt+", 0.0, 0.0, "+At+", "+wt+", "+Tt+")"}else if(this._contentMode==="AspectFit"||this._contentMode==="AspectFill"){var Rt=Mt.width/Mt.height,Bt=mt.width/mt.height;if(Rt>=Bt&&this._contentMode==="AspectFit"||Rt<=Bt&&this._contentMode==="AspectFill"){var Vt=mt.width/Mt.width,$t=(Mt.width*Vt-Mt.width)/2,Ft=(Mt.height*Vt-Mt.height)/2+(mt.height-Mt.height*Vt)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+Vt+", 0.0, 0.0, "+Vt+", "+$t+", "+Ft+")"}else if(Rt<Bt&&this._contentMode==="AspectFit"||Rt>Bt&&this._contentMode==="AspectFill"){var Ht=mt.height/Mt.height,Qt=(Mt.width*Ht-Mt.width)/2+(mt.width-Mt.width*Ht)/2,_n=(Mt.height*Ht-Mt.height)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+Ht+", 0.0, 0.0, "+Ht+", "+Qt+", "+_n+")"}}this._globalTransform=void 0}}if(this._drawingCanvas===void 0||pt===!0){var hn=1,Mn=1,kn=0,Cn=0,yn={width:this._container!==void 0?this._container.clientWidth:0,height:this._container!==void 0?this._container.clientHeight:0},Ut=this._videoItem.videoSize;if(this._contentMode==="Fill")hn=yn.width/Ut.width,Mn=yn.height/Ut.height;else if(this._contentMode==="AspectFit"||this._contentMode==="AspectFill"){var En=Ut.width/Ut.height,vn=yn.width/yn.height;En>=vn&&this._contentMode==="AspectFit"||En<=vn&&this._contentMode==="AspectFill"?(hn=Mn=yn.width/Ut.width,Cn=(yn.height-Ut.height*Mn)/2):(En<vn&&this._contentMode==="AspectFit"||En>vn&&this._contentMode==="AspectFill")&&(hn=Mn=yn.height/Ut.height,kn=(yn.width-Ut.width*hn)/2)}this._globalTransform={a:hn,b:0,c:0,d:Mn,tx:kn,ty:Cn}}}},{key:"_update",value:function(){this._videoItem!==void 0&&(this._resize(),this._renderer.drawFrame(this._currentFrame),this._renderer.playAudio(this._currentFrame))}}]),lt}()},function(_e,et,nt){var rt=nt(13),ot=nt(63),it=nt(66);_e.exports={Parser:rt.Parser,Player:ot.Player,autoload:it.AutoLoader.autoload},it.AutoLoader.autoload()},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.Renderer=void 0;var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},ot=function(){function pt(mt,Mt){for(var bt=0;bt<Mt.length;bt++){var At=Mt[bt];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(mt,At.key,At)}}return function(mt,Mt,bt){return Mt&&pt(mt.prototype,Mt),bt&&pt(mt,bt),mt}}(),it=nt(5),ct=nt(15),lt=nt(14);et.Renderer=function(){function pt(mt){(function(Mt,bt){if(!(Mt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,pt),this._owner=void 0,this._prepared=!1,this._undrawFrame=void 0,this._bitmapCache=void 0,this._soundsQueue=[],this._owner=mt}return ot(pt,[{key:"dataURLtoBlob",value:function(mt){for(var Mt=mt.split(","),bt=Mt[0].match(/:(.*?);/)[1],At=atob(Mt[1]),wt=At.length,Tt=new Uint8Array(wt);wt--;)Tt[wt]=At.charCodeAt(wt);return new Blob([Tt],{type:bt})}},{key:"prepare",value:function(){var mt,Mt,bt=this;if(this._prepared=!1,this._bitmapCache=void 0,this._owner._videoItem.images===void 0||Object.keys(this._owner._videoItem.images).length==0)return this._bitmapCache={},void(this._prepared=!0);this._bitmapCache===void 0&&function(){bt._bitmapCache={};var At=0,wt=0;for(mt in bt._owner._videoItem.images){var Tt=bt._owner._videoItem.images[mt];if(Tt.indexOf("iVBO")===0||Tt.indexOf("/9j/2w")===0){At++;var Rt=document.createElement("img");Rt.onload=(function(){++wt==At&&(this._prepared=!0,typeof this._undrawFrame=="number"&&(this.drawFrame(this._undrawFrame),this._undrawFrame=void 0))}).bind(bt),Rt.src="data:image/png;base64,"+Tt;var Bt=mt.replace(".matte","");bt._bitmapCache[Bt]=Rt}else Tt.indexOf("SUQz")===0&&window.Howl!==void 0&&(At++,(Mt=new Howl({src:[navigator.vendor==="Google Inc."?URL.createObjectURL(bt.dataURLtoBlob("data:audio/x-mpeg;base64,"+Tt)):"data:audio/x-mpeg;base64,"+Tt],html5:navigator.vendor==="Google Inc."||void 0,preload:navigator.vendor==="Google Inc."||void 0,format:navigator.vendor==="Google Inc."?["mp3"]:void 0})).once("load",(function(){++wt==At&&(this._prepared=!0,typeof this._undrawFrame=="number"&&(this.drawFrame(this._undrawFrame),this._undrawFrame=void 0))}).bind(bt)),Mt.on("loaderror",function(Vt){console.error(Vt)}),bt._bitmapCache[mt]=Mt)}}()}},{key:"clear",value:function(){var mt=(this._owner._drawingCanvas||this._owner._container).getContext("2d"),Mt={x:0,y:0,width:(this._owner._drawingCanvas||this._owner._container).width,height:(this._owner._drawingCanvas||this._owner._container).height};mt.clearRect(Mt.x,Mt.y,Mt.width,Mt.height)}},{key:"clearAudios",value:function(){this._soundsQueue.forEach(function(mt){mt.player.stop(mt.playID)}),this._soundsQueue=[]}},{key:"drawFrame",value:function(mt){var Mt=this;if(this._prepared){var bt=(this._owner._drawingCanvas||this._owner._container).getContext("2d"),At={x:0,y:0,width:(this._owner._drawingCanvas||this._owner._container).width,height:(this._owner._drawingCanvas||this._owner._container).height};bt.clearRect(At.x,At.y,At.width,At.height);var wt=new Map,Tt=!1,Rt=this._owner._videoItem.sprites;Rt.forEach(function(Bt,Vt){if(Rt[0].imageKey.indexOf(".matte")!=-1)if(Bt.imageKey.indexOf(".matte")==-1){var $t=Rt[Vt-1];if(Tt&&(Bt.matteKey==null||Bt.matteKey.length==0||Bt.matteKey!=$t.matteKey)){Tt=!1;var Ft=wt.get(Bt.matteKey);bt.globalCompositeOperation="destination-in",Mt.drawSprite(Ft,bt,mt),bt.globalCompositeOperation="source-over",bt.restore()}Bt.matteKey==null||$t.matteKey!=null&&$t.matteKey.length!=0&&$t.matteKey==Bt.matteKey||(Tt=!0,bt.save()),Mt.drawSprite(Bt,bt,mt),Tt&&Vt==Rt.length-1&&(Ft=wt.get(Bt.matteKey),bt.globalCompositeOperation="destination-in",Mt.drawSprite(Ft,bt,mt),bt.globalCompositeOperation="source-over",bt.restore())}else wt.set(Bt.imageKey,Bt);else Mt.drawSprite(Bt,bt,mt)})}else this._undrawFrame=mt}},{key:"drawSprite",value:function(mt,Mt,bt){var At=this,wt=mt.frames[this._owner._currentFrame];if(!(wt.alpha<.05)){Mt.save(),this._owner._globalTransform&&Mt.transform(this._owner._globalTransform.a,this._owner._globalTransform.b,this._owner._globalTransform.c,this._owner._globalTransform.d,this._owner._globalTransform.tx,this._owner._globalTransform.ty),Mt.globalAlpha=wt.alpha,Mt.transform(wt.transform.a,wt.transform.b,wt.transform.c,wt.transform.d,wt.transform.tx,wt.transform.ty);var Tt=mt.imageKey.replace(".matte",""),Rt=this._owner._dynamicImage[Tt]||this._bitmapCache[Tt]||this._owner._videoItem.images[Tt];if(typeof Rt=="string"){var Bt=this._bitmapCache[mt.imageKey]||document.createElement("img"),Vt=void 0,$t=void 0;if(Rt.indexOf("iVBO")===0||Rt.indexOf("/9j/2w")===0?Bt.src="data:image/png;base64,"+Rt:(Bt._svgaSrc!==Rt&&(Bt._svgaSrc=Rt,Bt.src=Rt),Vt=wt.layout.width,$t=wt.layout.height),this._bitmapCache[mt.imageKey]=Bt,wt.maskPath!==void 0&&wt.maskPath!==null&&(this.drawBezier(Mt,wt.maskPath),Mt.clip()),this._owner._dynamicImageTransform[mt.imageKey]!==void 0){Mt.save();var Ft=this._owner._dynamicImageTransform[mt.imageKey];Mt.transform(Ft[0],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5])}Vt&&$t?Mt.drawImage(Bt,0,0,Vt,$t):Mt.drawImage(Bt,0,0),this._owner._dynamicImageTransform[mt.imageKey]!==void 0&&Mt.restore()}else if((Rt===void 0?"undefined":rt(Rt))==="object"){if(wt.maskPath!==void 0&&wt.maskPath!==null&&(wt.maskPath._styles=void 0,this.drawBezier(Mt,wt.maskPath),Mt.clip()),this._owner._dynamicImageTransform[mt.imageKey]!==void 0){Mt.save();var Ht=this._owner._dynamicImageTransform[mt.imageKey];Mt.transform(Ht[0],Ht[1],Ht[2],Ht[3],Ht[4],Ht[5])}Mt.drawImage(Rt,0,0),this._owner._dynamicImageTransform[mt.imageKey]!==void 0&&Mt.restore()}wt.shapes&&wt.shapes.forEach(function(kn){kn.type==="shape"&&kn.pathArgs&&kn.pathArgs.d&&At.drawBezier(Mt,new it.BezierPath(kn.pathArgs.d,kn.transform,kn.styles)),kn.type==="ellipse"&&kn.pathArgs&&At.drawEllipse(Mt,new ct.EllipsePath(parseFloat(kn.pathArgs.x)||0,parseFloat(kn.pathArgs.y)||0,parseFloat(kn.pathArgs.radiusX)||0,parseFloat(kn.pathArgs.radiusY)||0,kn.transform,kn.styles)),kn.type==="rect"&&kn.pathArgs&&At.drawRect(Mt,new lt.RectPath(parseFloat(kn.pathArgs.x)||0,parseFloat(kn.pathArgs.y)||0,parseFloat(kn.pathArgs.width)||0,parseFloat(kn.pathArgs.height)||0,parseFloat(kn.pathArgs.cornerRadius)||0,kn.transform,kn.styles))});var Qt=this._owner._dynamicText[mt.imageKey];if(Qt!==void 0){Mt.textBaseline="middle",Mt.font=Qt.style;var _n=Mt.measureText(Qt.text).width;Mt.fillStyle=Qt.color;var hn=Qt.offset!==void 0&&Qt.offset.x!==void 0?isNaN(parseFloat(Qt.offset.x))?0:parseFloat(Qt.offset.x):0,Mn=Qt.offset!==void 0&&Qt.offset.y!==void 0?isNaN(parseFloat(Qt.offset.y))?0:parseFloat(Qt.offset.y):0;Mt.fillText(Qt.text,(wt.layout.width-_n)/2+hn,wt.layout.height/2+Mn)}Mt.restore()}}},{key:"playAudio",value:function(mt){var Mt=this;if(this._owner._forwardAnimating&&this._owner._videoItem.audios instanceof Array){this._owner._videoItem.audios.forEach(function(At){if(At.startFrame===mt&&Mt._bitmapCache[At.audioKey]!==void 0&&typeof Mt._bitmapCache[At.audioKey].play=="function"){var wt={playID:Mt._bitmapCache[At.audioKey].play(),player:Mt._bitmapCache[At.audioKey],endFrame:At.endFrame};wt.player.seek(At.startTime/1e3,wt.playID),Mt._soundsQueue.push(wt)}});var bt=!1;this._soundsQueue.forEach(function(At){mt>=At.endFrame&&(bt=!0,At.player.stop(At.playID))}),bt&&(this._soundsQueue=this._soundsQueue.filter(function(At){return mt<At.endFrame}))}}},{key:"resetShapeStyles",value:function(mt,Mt){var bt=Mt._styles;bt!==void 0&&(bt&&bt.stroke?mt.strokeStyle="rgba("+parseInt(255*bt.stroke[0])+", "+parseInt(255*bt.stroke[1])+", "+parseInt(255*bt.stroke[2])+", "+bt.stroke[3]+")":mt.strokeStyle="transparent",bt&&(mt.lineWidth=bt.strokeWidth||void 0,mt.lineCap=bt.lineCap||void 0,mt.lineJoin=bt.lineJoin||void 0,mt.miterLimit=bt.miterLimit||void 0),bt&&bt.fill?mt.fillStyle="rgba("+parseInt(255*bt.fill[0])+", "+parseInt(255*bt.fill[1])+", "+parseInt(255*bt.fill[2])+", "+bt.fill[3]+")":mt.fillStyle="transparent",bt&&bt.lineDash&&mt.setLineDash(bt.lineDash))}},{key:"drawBezier",value:function(mt,Mt){var bt=this;mt.save(),this.resetShapeStyles(mt,Mt),Mt._transform!==void 0&&Mt._transform!==null&&mt.transform(Mt._transform.a,Mt._transform.b,Mt._transform.c,Mt._transform.d,Mt._transform.tx,Mt._transform.ty);var At={x:0,y:0,x1:0,y1:0,x2:0,y2:0};mt.beginPath(),Mt._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach(function(wt){if(wt.length!=0){var Tt=wt.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(Tt)>=0){var Rt=wt.substr(1).trim().split(" ");bt.drawBezierElement(mt,At,Tt,Rt)}}}),Mt._styles&&Mt._styles.fill&&mt.fill(),Mt._styles&&Mt._styles.stroke&&mt.stroke(),mt.restore()}},{key:"drawBezierElement",value:function(mt,Mt,bt,At){switch(bt){case"M":Mt.x=Number(At[0]),Mt.y=Number(At[1]),mt.moveTo(Mt.x,Mt.y);break;case"m":Mt.x+=Number(At[0]),Mt.y+=Number(At[1]),mt.moveTo(Mt.x,Mt.y);break;case"L":Mt.x=Number(At[0]),Mt.y=Number(At[1]),mt.lineTo(Mt.x,Mt.y);break;case"l":Mt.x+=Number(At[0]),Mt.y+=Number(At[1]),mt.lineTo(Mt.x,Mt.y);break;case"H":Mt.x=Number(At[0]),mt.lineTo(Mt.x,Mt.y);break;case"h":Mt.x+=Number(At[0]),mt.lineTo(Mt.x,Mt.y);break;case"V":Mt.y=Number(At[0]),mt.lineTo(Mt.x,Mt.y);break;case"v":Mt.y+=Number(At[0]),mt.lineTo(Mt.x,Mt.y);break;case"C":Mt.x1=Number(At[0]),Mt.y1=Number(At[1]),Mt.x2=Number(At[2]),Mt.y2=Number(At[3]),Mt.x=Number(At[4]),Mt.y=Number(At[5]),mt.bezierCurveTo(Mt.x1,Mt.y1,Mt.x2,Mt.y2,Mt.x,Mt.y);break;case"c":Mt.x1=Mt.x+Number(At[0]),Mt.y1=Mt.y+Number(At[1]),Mt.x2=Mt.x+Number(At[2]),Mt.y2=Mt.y+Number(At[3]),Mt.x+=Number(At[4]),Mt.y+=Number(At[5]),mt.bezierCurveTo(Mt.x1,Mt.y1,Mt.x2,Mt.y2,Mt.x,Mt.y);break;case"S":Mt.x1&&Mt.y1&&Mt.x2&&Mt.y2?(Mt.x1=Mt.x-Mt.x2+Mt.x,Mt.y1=Mt.y-Mt.y2+Mt.y,Mt.x2=Number(At[0]),Mt.y2=Number(At[1]),Mt.x=Number(At[2]),Mt.y=Number(At[3]),mt.bezierCurveTo(Mt.x1,Mt.y1,Mt.x2,Mt.y2,Mt.x,Mt.y)):(Mt.x1=Number(At[0]),Mt.y1=Number(At[1]),Mt.x=Number(At[2]),Mt.y=Number(At[3]),mt.quadraticCurveTo(Mt.x1,Mt.y1,Mt.x,Mt.y));break;case"s":Mt.x1&&Mt.y1&&Mt.x2&&Mt.y2?(Mt.x1=Mt.x-Mt.x2+Mt.x,Mt.y1=Mt.y-Mt.y2+Mt.y,Mt.x2=Mt.x+Number(At[0]),Mt.y2=Mt.y+Number(At[1]),Mt.x+=Number(At[2]),Mt.y+=Number(At[3]),mt.bezierCurveTo(Mt.x1,Mt.y1,Mt.x2,Mt.y2,Mt.x,Mt.y)):(Mt.x1=Mt.x+Number(At[0]),Mt.y1=Mt.y+Number(At[1]),Mt.x+=Number(At[2]),Mt.y+=Number(At[3]),mt.quadraticCurveTo(Mt.x1,Mt.y1,Mt.x,Mt.y));break;case"Q":Mt.x1=Number(At[0]),Mt.y1=Number(At[1]),Mt.x=Number(At[2]),Mt.y=Number(At[3]),mt.quadraticCurveTo(Mt.x1,Mt.y1,Mt.x,Mt.y);break;case"q":Mt.x1=Mt.x+Number(At[0]),Mt.y1=Mt.y+Number(At[1]),Mt.x+=Number(At[2]),Mt.y+=Number(At[3]),mt.quadraticCurveTo(Mt.x1,Mt.y1,Mt.x,Mt.y);break;case"A":case"a":break;case"Z":case"z":mt.closePath()}}},{key:"drawEllipse",value:function(mt,Mt){mt.save(),this.resetShapeStyles(mt,Mt),Mt._transform!==void 0&&Mt._transform!==null&&mt.transform(Mt._transform.a,Mt._transform.b,Mt._transform.c,Mt._transform.d,Mt._transform.tx,Mt._transform.ty);var bt=Mt._x-Mt._radiusX,At=Mt._y-Mt._radiusY,wt=2*Mt._radiusX,Tt=2*Mt._radiusY,Rt=wt/2*.5522848,Bt=Tt/2*.5522848,Vt=bt+wt,$t=At+Tt,Ft=bt+wt/2,Ht=At+Tt/2;mt.beginPath(),mt.moveTo(bt,Ht),mt.bezierCurveTo(bt,Ht-Bt,Ft-Rt,At,Ft,At),mt.bezierCurveTo(Ft+Rt,At,Vt,Ht-Bt,Vt,Ht),mt.bezierCurveTo(Vt,Ht+Bt,Ft+Rt,$t,Ft,$t),mt.bezierCurveTo(Ft-Rt,$t,bt,Ht+Bt,bt,Ht),Mt._styles&&Mt._styles.fill&&mt.fill(),Mt._styles&&Mt._styles.stroke&&mt.stroke(),mt.restore()}},{key:"drawRect",value:function(mt,Mt){mt.save(),this.resetShapeStyles(mt,Mt),Mt._transform!==void 0&&Mt._transform!==null&&mt.transform(Mt._transform.a,Mt._transform.b,Mt._transform.c,Mt._transform.d,Mt._transform.tx,Mt._transform.ty);var bt=Mt._x,At=Mt._y,wt=Mt._width,Tt=Mt._height,Rt=Mt._cornerRadius;wt<2*Rt&&(Rt=wt/2),Tt<2*Rt&&(Rt=Tt/2),mt.beginPath(),mt.moveTo(bt+Rt,At),mt.arcTo(bt+wt,At,bt+wt,At+Tt,Rt),mt.arcTo(bt+wt,At+Tt,bt,At+Tt,Rt),mt.arcTo(bt,At+Tt,bt,At,Rt),mt.arcTo(bt,At,bt+wt,At,Rt),mt.closePath(),Mt._styles&&Mt._styles.fill&&mt.fill(),Mt._styles&&Mt._styles.stroke&&mt.stroke(),mt.restore()}}]),pt}()},function(_e,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.AutoLoader=void 0;var rt=nt(13),ot=nt(63),it=et.AutoLoader=function ct(){(function(lt,pt){if(!(lt instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,ct)};it.sharedParser=new rt.Parser,it.autoload=function(ct,lt){if(typeof window<"u"&&typeof document<"u"){var pt=lt||it.sharedParser;if(ct){if((ct.tagName==="CANVAS"||ct.tagName==="DIV")&&ct.attributes.src&&ct.attributes.src.value.indexOf(".svga")===ct.attributes.src.value.length-5){var mt=ct.attributes.src.value,Mt=new ot.Player(ct);pt.load(mt,function(wt){if(ct.attributes.loops){var Tt=parseFloat(ct.attributes.loops.value)||0;Mt.loops=Tt}if(ct.attributes.clearsAfterStop){var Rt=ct.attributes.clearsAfterStop.value!=="false";Mt.clearsAfterStop=Rt}Mt.setVideoItem(wt),Mt.startAnimation()}),ct.player=Mt}}else for(var bt=document.querySelectorAll('[src$=".svga"]'),At=0;At<bt.length;At++)ct=bt[At],it.autoload(ct)}}}])})})(svga_min);var svga_minExports=svga_min.exports;const SVGA=getDefaultExportFromCjs(svga_minExports),iconWrapper="_iconWrapper_159o5_9",styles$j={"canvas-wrap":"_canvas-wrap_159o5_1",iconWrapper},SvgaI18nCP=({item:_e})=>{const{id:et,animat_type:nt,animation:rt}=_e,ot=nt===2&&rt.endsWith(".svga");return useLifecycles(()=>{if(ot){const it=new SVGA.Player("#svg_play"+et);new SVGA.Parser().load(rt,lt=>{it&&(it.setVideoItem(lt),it.startAnimation())})}},()=>{}),jsxRuntimeExports.jsx("div",{className:styles$j.iconWrapper,children:ot?jsxRuntimeExports.jsx("div",{className:styles$j["canvas-wrap"],id:"svg_play"+et}):jsxRuntimeExports.jsx("img",{src:rt,alt:"",referrerPolicy:"no-referrer"})})};function _assertThisInitialized$1(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _inheritsLoose(_e,et){_e.prototype=Object.create(et.prototype),_e.prototype.constructor=_e,_e.__proto__=et}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_reverting$1,_context,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=function _e(et){return typeof et=="string"},_isFunction=function _e(et){return typeof et=="function"},_isNumber=function _e(et){return typeof et=="number"},_isUndefined=function _e(et){return typeof et>"u"},_isObject=function _e(et){return typeof et=="object"},_isNotFalse=function _e(et){return et!==!1},_windowExists$1=function _e(){return typeof window<"u"},_isFuncOrString=function _e(et){return _isFunction(et)||_isString(et)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$1,_coreInitted,_doc$1,_globals={},_installScope={},_coreReady,_install=function _e(et){return(_installScope=_merge(et,_globals))&&gsap},_missingPlugin=function _e(et,nt){return console.warn("Invalid property",et,"set to",nt,"Missing plugin? gsap.registerPlugin()")},_warn=function _e(et,nt){return!nt&&console.warn(et)},_addGlobal=function _e(et,nt){return et&&(_globals[et]=nt)&&_installScope&&(_installScope[et]=nt)||_globals},_emptyFunc=function _e(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function _e(et){var nt=et[0],rt,ot;if(_isObject(nt)||_isFunction(nt)||(et=[et]),!(rt=(nt._gsap||{}).harness)){for(ot=_harnessPlugins.length;ot--&&!_harnessPlugins[ot].targetTest(nt););rt=_harnessPlugins[ot]}for(ot=et.length;ot--;)et[ot]&&(et[ot]._gsap||(et[ot]._gsap=new GSCache(et[ot],rt)))||et.splice(ot,1);return et},_getCache=function _e(et){return et._gsap||_harness(toArray(et))[0]._gsap},_getProperty=function _e(et,nt,rt){return(rt=et[nt])&&_isFunction(rt)?et[nt]():_isUndefined(rt)&&et.getAttribute&&et.getAttribute(nt)||rt},_forEachName=function _e(et,nt){return(et=et.split(",")).forEach(nt)||et},_round=function _e(et){return Math.round(et*1e5)/1e5||0},_roundPrecise=function _e(et){return Math.round(et*1e7)/1e7||0},_parseRelative=function _e(et,nt){var rt=nt.charAt(0),ot=parseFloat(nt.substr(2));return et=parseFloat(et),rt==="+"?et+ot:rt==="-"?et-ot:rt==="*"?et*ot:et/ot},_arrayContainsAny=function _e(et,nt){for(var rt=nt.length,ot=0;et.indexOf(nt[ot])<0&&++ot<rt;);return ot<rt},_lazyRender=function _e(){var et=_lazyTweens.length,nt=_lazyTweens.slice(0),rt,ot;for(_lazyLookup={},_lazyTweens.length=0,rt=0;rt<et;rt++)ot=nt[rt],ot&&ot._lazy&&(ot.render(ot._lazy[0],ot._lazy[1],!0)._lazy=0)},_lazySafeRender=function _e(et,nt,rt,ot){_lazyTweens.length&&!_reverting$1&&_lazyRender(),et.render(nt,rt,_reverting$1&&nt<0&&(et._initted||et._startAt)),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function _e(et){var nt=parseFloat(et);return(nt||nt===0)&&(et+"").match(_delimitedValueExp).length<2?nt:_isString(et)?et.trim():et},_passThrough=function _e(et){return et},_setDefaults=function _e(et,nt){for(var rt in nt)rt in et||(et[rt]=nt[rt]);return et},_setKeyframeDefaults=function _e(et){return function(nt,rt){for(var ot in rt)ot in nt||ot==="duration"&&et||ot==="ease"||(nt[ot]=rt[ot])}},_merge=function _e(et,nt){for(var rt in nt)et[rt]=nt[rt];return et},_mergeDeep=function _e(et,nt){for(var rt in nt)rt!=="__proto__"&&rt!=="constructor"&&rt!=="prototype"&&(et[rt]=_isObject(nt[rt])?_e(et[rt]||(et[rt]={}),nt[rt]):nt[rt]);return et},_copyExcluding=function _e(et,nt){var rt={},ot;for(ot in et)ot in nt||(rt[ot]=et[ot]);return rt},_inheritDefaults=function _e(et){var nt=et.parent||_globalTimeline,rt=et.keyframes?_setKeyframeDefaults(_isArray(et.keyframes)):_setDefaults;if(_isNotFalse(et.inherit))for(;nt;)rt(et,nt.vars.defaults),nt=nt.parent||nt._dp;return et},_arraysMatch=function _e(et,nt){for(var rt=et.length,ot=rt===nt.length;ot&&rt--&&et[rt]===nt[rt];);return rt<0},_addLinkedListItem=function _e(et,nt,rt,ot,it){var ct=et[ot],lt;if(it)for(lt=nt[it];ct&&ct[it]>lt;)ct=ct._prev;return ct?(nt._next=ct._next,ct._next=nt):(nt._next=et[rt],et[rt]=nt),nt._next?nt._next._prev=nt:et[ot]=nt,nt._prev=ct,nt.parent=nt._dp=et,nt},_removeLinkedListItem=function _e(et,nt,rt,ot){rt===void 0&&(rt="_first"),ot===void 0&&(ot="_last");var it=nt._prev,ct=nt._next;it?it._next=ct:et[rt]===nt&&(et[rt]=ct),ct?ct._prev=it:et[ot]===nt&&(et[ot]=it),nt._next=nt._prev=nt.parent=null},_removeFromParent=function _e(et,nt){et.parent&&(!nt||et.parent.autoRemoveChildren)&&et.parent.remove&&et.parent.remove(et),et._act=0},_uncache=function _e(et,nt){if(et&&(!nt||nt._end>et._dur||nt._start<0))for(var rt=et;rt;)rt._dirty=1,rt=rt.parent;return et},_recacheAncestors=function _e(et){for(var nt=et.parent;nt&&nt.parent;)nt._dirty=1,nt.totalDuration(),nt=nt.parent;return et},_rewindStartAt=function _e(et,nt,rt,ot){return et._startAt&&(_reverting$1?et._startAt.revert(_revertConfigNoKill):et.vars.immediateRender&&!et.vars.autoRevert||et._startAt.render(nt,!0,ot))},_hasNoPausedAncestors=function _e(et){return!et||et._ts&&_e(et.parent)},_elapsedCycleDuration=function _e(et){return et._repeat?_animationCycle(et._tTime,et=et.duration()+et._rDelay)*et:0},_animationCycle=function _e(et,nt){var rt=Math.floor(et/=nt);return et&&rt===et?rt-1:rt},_parentToChildTotalTime=function _e(et,nt){return(et-nt._start)*nt._ts+(nt._ts>=0?0:nt._dirty?nt.totalDuration():nt._tDur)},_setEnd=function _e(et){return et._end=_roundPrecise(et._start+(et._tDur/Math.abs(et._ts||et._rts||_tinyNum)||0))},_alignPlayhead=function _e(et,nt){var rt=et._dp;return rt&&rt.smoothChildTiming&&et._ts&&(et._start=_roundPrecise(rt._time-(et._ts>0?nt/et._ts:((et._dirty?et.totalDuration():et._tDur)-nt)/-et._ts)),_setEnd(et),rt._dirty||_uncache(rt,et)),et},_postAddChecks=function _e(et,nt){var rt;if((nt._time||!nt._dur&&nt._initted||nt._start<et._time&&(nt._dur||!nt.add))&&(rt=_parentToChildTotalTime(et.rawTime(),nt),(!nt._dur||_clamp(0,nt.totalDuration(),rt)-nt._tTime>_tinyNum)&&nt.render(rt,!0)),_uncache(et,nt)._dp&&et._initted&&et._time>=et._dur&&et._ts){if(et._dur<et.duration())for(rt=et;rt._dp;)rt.rawTime()>=0&&rt.totalTime(rt._tTime),rt=rt._dp;et._zTime=-_tinyNum}},_addToTimeline=function _e(et,nt,rt,ot){return nt.parent&&_removeFromParent(nt),nt._start=_roundPrecise((_isNumber(rt)?rt:rt||et!==_globalTimeline?_parsePosition(et,rt,nt):et._time)+nt._delay),nt._end=_roundPrecise(nt._start+(nt.totalDuration()/Math.abs(nt.timeScale())||0)),_addLinkedListItem(et,nt,"_first","_last",et._sort?"_start":0),_isFromOrFromStart(nt)||(et._recent=nt),ot||_postAddChecks(et,nt),et._ts<0&&_alignPlayhead(et,et._tTime),et},_scrollTrigger=function _e(et,nt){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",nt))&&_globals.ScrollTrigger.create(nt,et)},_attemptInitTween=function _e(et,nt,rt,ot,it){if(_initTween(et,nt,it),!et._initted)return 1;if(!rt&&et._pt&&!_reverting$1&&(et._dur&&et.vars.lazy!==!1||!et._dur&&et.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(et),et._lazy=[it,ot],1},_parentPlayheadIsBeforeStart=function _e(et){var nt=et.parent;return nt&&nt._ts&&nt._initted&&!nt._lock&&(nt.rawTime()<0||_e(nt))},_isFromOrFromStart=function _e(et){var nt=et.data;return nt==="isFromStart"||nt==="isStart"},_renderZeroDurationTween=function _e(et,nt,rt,ot){var it=et.ratio,ct=nt<0||!nt&&(!et._start&&_parentPlayheadIsBeforeStart(et)&&!(!et._initted&&_isFromOrFromStart(et))||(et._ts<0||et._dp._ts<0)&&!_isFromOrFromStart(et))?0:1,lt=et._rDelay,pt=0,mt,Mt,bt;if(lt&&et._repeat&&(pt=_clamp(0,et._tDur,nt),Mt=_animationCycle(pt,lt),et._yoyo&&Mt&1&&(ct=1-ct),Mt!==_animationCycle(et._tTime,lt)&&(it=1-ct,et.vars.repeatRefresh&&et._initted&&et.invalidate())),ct!==it||_reverting$1||ot||et._zTime===_tinyNum||!nt&&et._zTime){if(!et._initted&&_attemptInitTween(et,nt,ot,rt,pt))return;for(bt=et._zTime,et._zTime=nt||(rt?_tinyNum:0),rt||(rt=nt&&!bt),et.ratio=ct,et._from&&(ct=1-ct),et._time=0,et._tTime=pt,mt=et._pt;mt;)mt.r(ct,mt.d),mt=mt._next;nt<0&&_rewindStartAt(et,nt,rt,!0),et._onUpdate&&!rt&&_callback(et,"onUpdate"),pt&&et._repeat&&!rt&&et.parent&&_callback(et,"onRepeat"),(nt>=et._tDur||nt<0)&&et.ratio===ct&&(ct&&_removeFromParent(et,1),!rt&&!_reverting$1&&(_callback(et,ct?"onComplete":"onReverseComplete",!0),et._prom&&et._prom()))}else et._zTime||(et._zTime=nt)},_findNextPauseTween=function _e(et,nt,rt){var ot;if(rt>nt)for(ot=et._first;ot&&ot._start<=rt;){if(ot.data==="isPause"&&ot._start>nt)return ot;ot=ot._next}else for(ot=et._last;ot&&ot._start>=rt;){if(ot.data==="isPause"&&ot._start<nt)return ot;ot=ot._prev}},_setDuration=function _e(et,nt,rt,ot){var it=et._repeat,ct=_roundPrecise(nt)||0,lt=et._tTime/et._tDur;return lt&&!ot&&(et._time*=ct/et._dur),et._dur=ct,et._tDur=it?it<0?1e10:_roundPrecise(ct*(it+1)+et._rDelay*it):ct,lt>0&&!ot&&_alignPlayhead(et,et._tTime=et._tDur*lt),et.parent&&_setEnd(et),rt||_uncache(et.parent,et),et},_onUpdateTotalDuration=function _e(et){return et instanceof Timeline?_uncache(et):_setDuration(et,et._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition=function _e(et,nt,rt){var ot=et.labels,it=et._recent||_zeroPosition,ct=et.duration()>=_bigNum$1?it.endTime(!1):et._dur,lt,pt,mt;return _isString(nt)&&(isNaN(nt)||nt in ot)?(pt=nt.charAt(0),mt=nt.substr(-1)==="%",lt=nt.indexOf("="),pt==="<"||pt===">"?(lt>=0&&(nt=nt.replace(/=/,"")),(pt==="<"?it._start:it.endTime(it._repeat>=0))+(parseFloat(nt.substr(1))||0)*(mt?(lt<0?it:rt).totalDuration()/100:1)):lt<0?(nt in ot||(ot[nt]=ct),ot[nt]):(pt=parseFloat(nt.charAt(lt-1)+nt.substr(lt+1)),mt&&rt&&(pt=pt/100*(_isArray(rt)?rt[0]:rt).totalDuration()),lt>1?_e(et,nt.substr(0,lt-1),rt)+pt:ct+pt)):nt==null?ct:+nt},_createTweenType=function _e(et,nt,rt){var ot=_isNumber(nt[1]),it=(ot?2:1)+(et<2?0:1),ct=nt[it],lt,pt;if(ot&&(ct.duration=nt[1]),ct.parent=rt,et){for(lt=ct,pt=rt;pt&&!("immediateRender"in lt);)lt=pt.vars.defaults||{},pt=_isNotFalse(pt.vars.inherit)&&pt.parent;ct.immediateRender=_isNotFalse(lt.immediateRender),et<2?ct.runBackwards=1:ct.startAt=nt[it-1]}return new Tween(nt[0],ct,nt[it+1])},_conditionalReturn=function _e(et,nt){return et||et===0?nt(et):nt},_clamp=function _e(et,nt,rt){return rt<et?et:rt>nt?nt:rt},getUnit=function _e(et,nt){return!_isString(et)||!(nt=_unitExp.exec(et))?"":nt[1]},clamp=function _e(et,nt,rt){return _conditionalReturn(rt,function(ot){return _clamp(et,nt,ot)})},_slice=[].slice,_isArrayLike=function _e(et,nt){return et&&_isObject(et)&&"length"in et&&(!nt&&!et.length||et.length-1 in et&&_isObject(et[0]))&&!et.nodeType&&et!==_win$1},_flatten=function _e(et,nt,rt){return rt===void 0&&(rt=[]),et.forEach(function(ot){var it;return _isString(ot)&&!nt||_isArrayLike(ot,1)?(it=rt).push.apply(it,toArray(ot)):rt.push(ot)})||rt},toArray=function _e(et,nt,rt){return _context&&!nt&&_context.selector?_context.selector(et):_isString(et)&&!rt&&(_coreInitted||!_wake())?_slice.call((nt||_doc$1).querySelectorAll(et),0):_isArray(et)?_flatten(et,rt):_isArrayLike(et)?_slice.call(et,0):et?[et]:[]},selector=function _e(et){return et=toArray(et)[0]||_warn("Invalid scope")||{},function(nt){var rt=et.current||et.nativeElement||et;return toArray(nt,rt.querySelectorAll?rt:rt===et?_warn("Invalid scope")||_doc$1.createElement("div"):et)}},shuffle=function _e(et){return et.sort(function(){return .5-Math.random()})},distribute=function _e(et){if(_isFunction(et))return et;var nt=_isObject(et)?et:{each:et},rt=_parseEase(nt.ease),ot=nt.from||0,it=parseFloat(nt.base)||0,ct={},lt=ot>0&&ot<1,pt=isNaN(ot)||lt,mt=nt.axis,Mt=ot,bt=ot;return _isString(ot)?Mt=bt={center:.5,edges:.5,end:1}[ot]||0:!lt&&pt&&(Mt=ot[0],bt=ot[1]),function(At,wt,Tt){var Rt=(Tt||nt).length,Bt=ct[Rt],Vt,$t,Ft,Ht,Qt,_n,hn,Mn,kn;if(!Bt){if(kn=nt.grid==="auto"?0:(nt.grid||[1,_bigNum$1])[1],!kn){for(hn=-_bigNum$1;hn<(hn=Tt[kn++].getBoundingClientRect().left)&&kn<Rt;);kn<Rt&&kn--}for(Bt=ct[Rt]=[],Vt=pt?Math.min(kn,Rt)*Mt-.5:ot%kn,$t=kn===_bigNum$1?0:pt?Rt*bt/kn-.5:ot/kn|0,hn=0,Mn=_bigNum$1,_n=0;_n<Rt;_n++)Ft=_n%kn-Vt,Ht=$t-(_n/kn|0),Bt[_n]=Qt=mt?Math.abs(mt==="y"?Ht:Ft):_sqrt(Ft*Ft+Ht*Ht),Qt>hn&&(hn=Qt),Qt<Mn&&(Mn=Qt);ot==="random"&&shuffle(Bt),Bt.max=hn-Mn,Bt.min=Mn,Bt.v=Rt=(parseFloat(nt.amount)||parseFloat(nt.each)*(kn>Rt?Rt-1:mt?mt==="y"?Rt/kn:kn:Math.max(kn,Rt/kn))||0)*(ot==="edges"?-1:1),Bt.b=Rt<0?it-Rt:it,Bt.u=getUnit(nt.amount||nt.each)||0,rt=rt&&Rt<0?_invertEase(rt):rt}return Rt=(Bt[At]-Bt.min)/Bt.max||0,_roundPrecise(Bt.b+(rt?rt(Rt):Rt)*Bt.v)+Bt.u}},_roundModifier=function _e(et){var nt=Math.pow(10,((et+"").split(".")[1]||"").length);return function(rt){var ot=_roundPrecise(Math.round(parseFloat(rt)/et)*et*nt);return(ot-ot%1)/nt+(_isNumber(rt)?0:getUnit(rt))}},snap=function _e(et,nt){var rt=_isArray(et),ot,it;return!rt&&_isObject(et)&&(ot=rt=et.radius||_bigNum$1,et.values?(et=toArray(et.values),(it=!_isNumber(et[0]))&&(ot*=ot)):et=_roundModifier(et.increment)),_conditionalReturn(nt,rt?_isFunction(et)?function(ct){return it=et(ct),Math.abs(it-ct)<=ot?it:ct}:function(ct){for(var lt=parseFloat(it?ct.x:ct),pt=parseFloat(it?ct.y:0),mt=_bigNum$1,Mt=0,bt=et.length,At,wt;bt--;)it?(At=et[bt].x-lt,wt=et[bt].y-pt,At=At*At+wt*wt):At=Math.abs(et[bt]-lt),At<mt&&(mt=At,Mt=bt);return Mt=!ot||mt<=ot?et[Mt]:ct,it||Mt===ct||_isNumber(ct)?Mt:Mt+getUnit(ct)}:_roundModifier(et))},random=function _e(et,nt,rt,ot){return _conditionalReturn(_isArray(et)?!nt:rt===!0?!!(rt=0):!ot,function(){return _isArray(et)?et[~~(Math.random()*et.length)]:(rt=rt||1e-5)&&(ot=rt<1?Math.pow(10,(rt+"").length-2):1)&&Math.floor(Math.round((et-rt/2+Math.random()*(nt-et+rt*.99))/rt)*rt*ot)/ot})},pipe=function _e(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];return function(ot){return nt.reduce(function(it,ct){return ct(it)},ot)}},unitize=function _e(et,nt){return function(rt){return et(parseFloat(rt))+(nt||getUnit(rt))}},normalize=function _e(et,nt,rt){return mapRange(et,nt,0,1,rt)},_wrapArray=function _e(et,nt,rt){return _conditionalReturn(rt,function(ot){return et[~~nt(ot)]})},wrap=function _e(et,nt,rt){var ot=nt-et;return _isArray(et)?_wrapArray(et,_e(0,et.length),nt):_conditionalReturn(rt,function(it){return(ot+(it-et)%ot)%ot+et})},wrapYoyo=function _e(et,nt,rt){var ot=nt-et,it=ot*2;return _isArray(et)?_wrapArray(et,_e(0,et.length-1),nt):_conditionalReturn(rt,function(ct){return ct=(it+(ct-et)%it)%it||0,et+(ct>ot?it-ct:ct)})},_replaceRandom=function _e(et){for(var nt=0,rt="",ot,it,ct,lt;~(ot=et.indexOf("random(",nt));)ct=et.indexOf(")",ot),lt=et.charAt(ot+7)==="[",it=et.substr(ot+7,ct-ot-7).match(lt?_delimitedValueExp:_strictNumExp),rt+=et.substr(nt,ot-nt)+random(lt?it:+it[0],lt?0:+it[1],+it[2]||1e-5),nt=ct+1;return rt+et.substr(nt,et.length-nt)},mapRange=function _e(et,nt,rt,ot,it){var ct=nt-et,lt=ot-rt;return _conditionalReturn(it,function(pt){return rt+((pt-et)/ct*lt||0)})},interpolate=function _e(et,nt,rt,ot){var it=isNaN(et+nt)?0:function(wt){return(1-wt)*et+wt*nt};if(!it){var ct=_isString(et),lt={},pt,mt,Mt,bt,At;if(rt===!0&&(ot=1)&&(rt=null),ct)et={p:et},nt={p:nt};else if(_isArray(et)&&!_isArray(nt)){for(Mt=[],bt=et.length,At=bt-2,mt=1;mt<bt;mt++)Mt.push(_e(et[mt-1],et[mt]));bt--,it=function(Tt){Tt*=bt;var Rt=Math.min(At,~~Tt);return Mt[Rt](Tt-Rt)},rt=nt}else ot||(et=_merge(_isArray(et)?[]:{},et));if(!Mt){for(pt in nt)_addPropTween.call(lt,et,pt,"get",nt[pt]);it=function(Tt){return _renderPropTweens(Tt,lt)||(ct?et.p:et)}}}return _conditionalReturn(rt,it)},_getLabelInDirection=function _e(et,nt,rt){var ot=et.labels,it=_bigNum$1,ct,lt,pt;for(ct in ot)lt=ot[ct]-nt,lt<0==!!rt&&lt&&it>(lt=Math.abs(lt))&&(pt=ct,it=lt);return pt},_callback=function _e(et,nt,rt){var ot=et.vars,it=ot[nt],ct=_context,lt=et._ctx,pt,mt,Mt;if(it)return pt=ot[nt+"Params"],mt=ot.callbackScope||et,rt&&_lazyTweens.length&&_lazyRender(),lt&&(_context=lt),Mt=pt?it.apply(mt,pt):it.call(mt),_context=ct,Mt},_interrupt=function _e(et){return _removeFromParent(et),et.scrollTrigger&&et.scrollTrigger.kill(!!_reverting$1),et.progress()<1&&_callback(et,"onInterrupt"),et},_quickTween,_registerPluginQueue=[],_createPlugin=function _e(et){if(et)if(et=!et.name&&et.default||et,_windowExists$1()||et.headless){var nt=et.name,rt=_isFunction(et),ot=nt&&!rt&&et.init?function(){this._props=[]}:et,it={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},ct={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),et!==ot){if(_plugins[nt])return;_setDefaults(ot,_setDefaults(_copyExcluding(et,it),ct)),_merge(ot.prototype,_merge(it,_copyExcluding(et,ct))),_plugins[ot.prop=nt]=ot,et.targetTest&&(_harnessPlugins.push(ot),_reservedProps[nt]=1),nt=(nt==="css"?"CSS":nt.charAt(0).toUpperCase()+nt.substr(1))+"Plugin"}_addGlobal(nt,ot),et.register&&et.register(gsap,ot,PropTween)}else _registerPluginQueue.push(et)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function _e(et,nt,rt){return et+=et<0?1:et>1?-1:0,(et*6<1?nt+(rt-nt)*et*6:et<.5?rt:et*3<2?nt+(rt-nt)*(2/3-et)*6:nt)*_255+.5|0},splitColor=function _e(et,nt,rt){var ot=et?_isNumber(et)?[et>>16,et>>8&_255,et&_255]:0:_colorLookup.black,it,ct,lt,pt,mt,Mt,bt,At,wt,Tt;if(!ot){if(et.substr(-1)===","&&(et=et.substr(0,et.length-1)),_colorLookup[et])ot=_colorLookup[et];else if(et.charAt(0)==="#"){if(et.length<6&&(it=et.charAt(1),ct=et.charAt(2),lt=et.charAt(3),et="#"+it+it+ct+ct+lt+lt+(et.length===5?et.charAt(4)+et.charAt(4):"")),et.length===9)return ot=parseInt(et.substr(1,6),16),[ot>>16,ot>>8&_255,ot&_255,parseInt(et.substr(7),16)/255];et=parseInt(et.substr(1),16),ot=[et>>16,et>>8&_255,et&_255]}else if(et.substr(0,3)==="hsl"){if(ot=Tt=et.match(_strictNumExp),!nt)pt=+ot[0]%360/360,mt=+ot[1]/100,Mt=+ot[2]/100,ct=Mt<=.5?Mt*(mt+1):Mt+mt-Mt*mt,it=Mt*2-ct,ot.length>3&&(ot[3]*=1),ot[0]=_hue(pt+1/3,it,ct),ot[1]=_hue(pt,it,ct),ot[2]=_hue(pt-1/3,it,ct);else if(~et.indexOf("="))return ot=et.match(_numExp),rt&&ot.length<4&&(ot[3]=1),ot}else ot=et.match(_strictNumExp)||_colorLookup.transparent;ot=ot.map(Number)}return nt&&!Tt&&(it=ot[0]/_255,ct=ot[1]/_255,lt=ot[2]/_255,bt=Math.max(it,ct,lt),At=Math.min(it,ct,lt),Mt=(bt+At)/2,bt===At?pt=mt=0:(wt=bt-At,mt=Mt>.5?wt/(2-bt-At):wt/(bt+At),pt=bt===it?(ct-lt)/wt+(ct<lt?6:0):bt===ct?(lt-it)/wt+2:(it-ct)/wt+4,pt*=60),ot[0]=~~(pt+.5),ot[1]=~~(mt*100+.5),ot[2]=~~(Mt*100+.5)),rt&&ot.length<4&&(ot[3]=1),ot},_colorOrderData=function _e(et){var nt=[],rt=[],ot=-1;return et.split(_colorExp).forEach(function(it){var ct=it.match(_numWithUnitExp)||[];nt.push.apply(nt,ct),rt.push(ot+=ct.length+1)}),nt.c=rt,nt},_formatColors=function _e(et,nt,rt){var ot="",it=(et+ot).match(_colorExp),ct=nt?"hsla(":"rgba(",lt=0,pt,mt,Mt,bt;if(!it)return et;if(it=it.map(function(At){return(At=splitColor(At,nt,1))&&ct+(nt?At[0]+","+At[1]+"%,"+At[2]+"%,"+At[3]:At.join(","))+")"}),rt&&(Mt=_colorOrderData(et),pt=rt.c,pt.join(ot)!==Mt.c.join(ot)))for(mt=et.replace(_colorExp,"1").split(_numWithUnitExp),bt=mt.length-1;lt<bt;lt++)ot+=mt[lt]+(~pt.indexOf(lt)?it.shift()||ct+"0,0,0,0)":(Mt.length?Mt:it.length?it:rt).shift());if(!mt)for(mt=et.split(_colorExp),bt=mt.length-1;lt<bt;lt++)ot+=mt[lt]+it[lt];return ot+mt[bt]},_colorExp=function(){var _e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",et;for(et in _colorLookup)_e+="|"+et+"\\b";return new RegExp(_e+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function _e(et){var nt=et.join(" "),rt;if(_colorExp.lastIndex=0,_colorExp.test(nt))return rt=_hslExp.test(nt),et[1]=_formatColors(et[1],rt),et[0]=_formatColors(et[0],rt,_colorOrderData(et[1])),!0},_tickerActive,_ticker=function(){var _e=Date.now,et=500,nt=33,rt=_e(),ot=rt,it=1e3/240,ct=it,lt=[],pt,mt,Mt,bt,At,wt,Tt=function Rt(Bt){var Vt=_e()-ot,$t=Bt===!0,Ft,Ht,Qt,_n;if((Vt>et||Vt<0)&&(rt+=Vt-nt),ot+=Vt,Qt=ot-rt,Ft=Qt-ct,(Ft>0||$t)&&(_n=++bt.frame,At=Qt-bt.time*1e3,bt.time=Qt=Qt/1e3,ct+=Ft+(Ft>=it?4:it-Ft),Ht=1),$t||(pt=mt(Rt)),Ht)for(wt=0;wt<lt.length;wt++)lt[wt](Qt,At,_n,Bt)};return bt={time:0,frame:0,tick:function(){Tt(!0)},deltaRatio:function(Bt){return At/(1e3/(Bt||60))},wake:function(){_coreReady&&(!_coreInitted&&_windowExists$1()&&(_win$1=_coreInitted=window,_doc$1=_win$1.document||{},_globals.gsap=gsap,(_win$1.gsapVersions||(_win$1.gsapVersions=[])).push(gsap.version),_install(_installScope||_win$1.GreenSockGlobals||!_win$1.gsap&&_win$1||{}),_registerPluginQueue.forEach(_createPlugin)),Mt=typeof requestAnimationFrame<"u"&&requestAnimationFrame,pt&&bt.sleep(),mt=Mt||function(Bt){return setTimeout(Bt,ct-bt.time*1e3+1|0)},_tickerActive=1,Tt(2))},sleep:function(){(Mt?cancelAnimationFrame:clearTimeout)(pt),_tickerActive=0,mt=_emptyFunc},lagSmoothing:function(Bt,Vt){et=Bt||1/0,nt=Math.min(Vt||33,et)},fps:function(Bt){it=1e3/(Bt||240),ct=bt.time*1e3+it},add:function(Bt,Vt,$t){var Ft=Vt?function(Ht,Qt,_n,hn){Bt(Ht,Qt,_n,hn),bt.remove(Ft)}:Bt;return bt.remove(Bt),lt[$t?"unshift":"push"](Ft),_wake(),Ft},remove:function(Bt,Vt){~(Vt=lt.indexOf(Bt))&&lt.splice(Vt,1)&&wt>=Vt&&wt--},_listeners:lt},bt}(),_wake=function _e(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function _e(et){for(var nt={},rt=et.substr(1,et.length-3).split(":"),ot=rt[0],it=1,ct=rt.length,lt,pt,mt;it<ct;it++)pt=rt[it],lt=it!==ct-1?pt.lastIndexOf(","):pt.length,mt=pt.substr(0,lt),nt[ot]=isNaN(mt)?mt.replace(_quotesExp,"").trim():+mt,ot=pt.substr(lt+1).trim();return nt},_valueInParentheses=function _e(et){var nt=et.indexOf("(")+1,rt=et.indexOf(")"),ot=et.indexOf("(",nt);return et.substring(nt,~ot&&ot<rt?et.indexOf(")",rt+1):rt)},_configEaseFromString=function _e(et){var nt=(et+"").split("("),rt=_easeMap[nt[0]];return rt&&nt.length>1&&rt.config?rt.config.apply(null,~et.indexOf("{")?[_parseObjectInString(nt[1])]:_valueInParentheses(et).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(et)?_easeMap._CE("",et):rt},_invertEase=function _e(et){return function(nt){return 1-et(1-nt)}},_propagateYoyoEase=function _e(et,nt){for(var rt=et._first,ot;rt;)rt instanceof Timeline?_e(rt,nt):rt.vars.yoyoEase&&(!rt._yoyo||!rt._repeat)&&rt._yoyo!==nt&&(rt.timeline?_e(rt.timeline,nt):(ot=rt._ease,rt._ease=rt._yEase,rt._yEase=ot,rt._yoyo=nt)),rt=rt._next},_parseEase=function _e(et,nt){return et&&(_isFunction(et)?et:_easeMap[et]||_configEaseFromString(et))||nt},_insertEase=function _e(et,nt,rt,ot){rt===void 0&&(rt=function(pt){return 1-nt(1-pt)}),ot===void 0&&(ot=function(pt){return pt<.5?nt(pt*2)/2:1-nt((1-pt)*2)/2});var it={easeIn:nt,easeOut:rt,easeInOut:ot},ct;return _forEachName(et,function(lt){_easeMap[lt]=_globals[lt]=it,_easeMap[ct=lt.toLowerCase()]=rt;for(var pt in it)_easeMap[ct+(pt==="easeIn"?".in":pt==="easeOut"?".out":".inOut")]=_easeMap[lt+"."+pt]=it[pt]}),it},_easeInOutFromOut=function _e(et){return function(nt){return nt<.5?(1-et(1-nt*2))/2:.5+et((nt-.5)*2)/2}},_configElastic=function _e(et,nt,rt){var ot=nt>=1?nt:1,it=(rt||(et?.3:.45))/(nt<1?nt:1),ct=it/_2PI*(Math.asin(1/ot)||0),lt=function(Mt){return Mt===1?1:ot*Math.pow(2,-10*Mt)*_sin((Mt-ct)*it)+1},pt=et==="out"?lt:et==="in"?function(mt){return 1-lt(1-mt)}:_easeInOutFromOut(lt);return it=_2PI/it,pt.config=function(mt,Mt){return _e(et,mt,Mt)},pt},_configBack=function _e(et,nt){nt===void 0&&(nt=1.70158);var rt=function(ct){return ct?--ct*ct*((nt+1)*ct+nt)+1:0},ot=et==="out"?rt:et==="in"?function(it){return 1-rt(1-it)}:_easeInOutFromOut(rt);return ot.config=function(it){return _e(et,it)},ot};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(_e,et){var nt=et<5?et+1:et;_insertEase(_e+",Power"+(nt-1),et?function(rt){return Math.pow(rt,nt)}:function(rt){return rt},function(rt){return 1-Math.pow(1-rt,nt)},function(rt){return rt<.5?Math.pow(rt*2,nt)/2:1-Math.pow((1-rt)*2,nt)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(_e,et){var nt=1/et,rt=2*nt,ot=2.5*nt,it=function(lt){return lt<nt?_e*lt*lt:lt<rt?_e*Math.pow(lt-1.5/et,2)+.75:lt<ot?_e*(lt-=2.25/et)*lt+.9375:_e*Math.pow(lt-2.625/et,2)+.984375};_insertEase("Bounce",function(ct){return 1-it(1-ct)},it)})(7.5625,2.75);_insertEase("Expo",function(_e){return _e?Math.pow(2,10*(_e-1)):0});_insertEase("Circ",function(_e){return-(_sqrt(1-_e*_e)-1)});_insertEase("Sine",function(_e){return _e===1?1:-_cos(_e*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function _e(et,nt){et===void 0&&(et=1);var rt=1/et,ot=et+(nt?0:1),it=nt?1:0,ct=1-_tinyNum;return function(lt){return((ot*_clamp(0,ct,lt)|0)+it)*rt}}};_defaults.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(_e){return _callbackNames+=_e+","+_e+"Params,"});var GSCache=function _e(et,nt){this.id=_gsID++,et._gsap=this,this.target=et,this.harness=nt,this.get=nt?nt.get:_getProperty,this.set=nt?nt.getSetter:_getSetter},Animation=function(){function _e(nt){this.vars=nt,this._delay=+nt.delay||0,(this._repeat=nt.repeat===1/0?-2:nt.repeat||0)&&(this._rDelay=nt.repeatDelay||0,this._yoyo=!!nt.yoyo||!!nt.yoyoEase),this._ts=1,_setDuration(this,+nt.duration,1,1),this.data=nt.data,_context&&(this._ctx=_context,_context.data.push(this)),_tickerActive||_ticker.wake()}var et=_e.prototype;return et.delay=function(rt){return rt||rt===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+rt-this._delay),this._delay=rt,this):this._delay},et.duration=function(rt){return arguments.length?this.totalDuration(this._repeat>0?rt+(rt+this._rDelay)*this._repeat:rt):this.totalDuration()&&this._dur},et.totalDuration=function(rt){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?rt:(rt-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},et.totalTime=function(rt,ot){if(_wake(),!arguments.length)return this._tTime;var it=this._dp;if(it&&it.smoothChildTiming&&this._ts){for(_alignPlayhead(this,rt),!it._dp||it.parent||_postAddChecks(it,this);it&&it.parent;)it.parent._time!==it._start+(it._ts>=0?it._tTime/it._ts:(it.totalDuration()-it._tTime)/-it._ts)&&it.totalTime(it._tTime,!0),it=it.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&rt<this._tDur||this._ts<0&&rt>0||!this._tDur&&!rt)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==rt||!this._dur&&!ot||this._initted&&Math.abs(this._zTime)===_tinyNum||!rt&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=rt),_lazySafeRender(this,rt,ot)),this},et.time=function(rt,ot){return arguments.length?this.totalTime(Math.min(this.totalDuration(),rt+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(rt?this._dur:0),ot):this._time},et.totalProgress=function(rt,ot){return arguments.length?this.totalTime(this.totalDuration()*rt,ot):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},et.progress=function(rt,ot){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-rt:rt)+_elapsedCycleDuration(this),ot):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},et.iteration=function(rt,ot){var it=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(rt-1)*it,ot):this._repeat?_animationCycle(this._tTime,it)+1:1},et.timeScale=function(rt,ot){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===rt)return this;var it=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+rt||0,this._ts=this._ps||rt===-_tinyNum?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this._tDur,it),ot!==!1),_setEnd(this),_recacheAncestors(this)},et.paused=function(rt){return arguments.length?(this._ps!==rt&&(this._ps=rt,rt?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},et.startTime=function(rt){if(arguments.length){this._start=rt;var ot=this.parent||this._dp;return ot&&(ot._sort||!this.parent)&&_addToTimeline(ot,this,rt-this._delay),this}return this._start},et.endTime=function(rt){return this._start+(_isNotFalse(rt)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},et.rawTime=function(rt){var ot=this.parent||this._dp;return ot?rt&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(ot.rawTime(rt),this):this._tTime:this._tTime},et.revert=function(rt){rt===void 0&&(rt=_revertConfig);var ot=_reverting$1;return _reverting$1=rt,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(rt),this.totalTime(-.01,rt.suppressEvents)),this.data!=="nested"&&rt.kill!==!1&&this.kill(),_reverting$1=ot,this},et.globalTime=function(rt){for(var ot=this,it=arguments.length?rt:ot.rawTime();ot;)it=ot._start+it/(Math.abs(ot._ts)||1),ot=ot._dp;return!this.parent&&this._sat?this._sat.globalTime(rt):it},et.repeat=function(rt){return arguments.length?(this._repeat=rt===1/0?-2:rt,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},et.repeatDelay=function(rt){if(arguments.length){var ot=this._time;return this._rDelay=rt,_onUpdateTotalDuration(this),ot?this.time(ot):this}return this._rDelay},et.yoyo=function(rt){return arguments.length?(this._yoyo=rt,this):this._yoyo},et.seek=function(rt,ot){return this.totalTime(_parsePosition(this,rt),_isNotFalse(ot))},et.restart=function(rt,ot){return this.play().totalTime(rt?-this._delay:0,_isNotFalse(ot))},et.play=function(rt,ot){return rt!=null&&this.seek(rt,ot),this.reversed(!1).paused(!1)},et.reverse=function(rt,ot){return rt!=null&&this.seek(rt||this.totalDuration(),ot),this.reversed(!0).paused(!1)},et.pause=function(rt,ot){return rt!=null&&this.seek(rt,ot),this.paused(!0)},et.resume=function(){return this.paused(!1)},et.reversed=function(rt){return arguments.length?(!!rt!==this.reversed()&&this.timeScale(-this._rts||(rt?-_tinyNum:0)),this):this._rts<0},et.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},et.isActive=function(){var rt=this.parent||this._dp,ot=this._start,it;return!!(!rt||this._ts&&this._initted&&rt.isActive()&&(it=rt.rawTime(!0))>=ot&&it<this.endTime(!0)-_tinyNum)},et.eventCallback=function(rt,ot,it){var ct=this.vars;return arguments.length>1?(ot?(ct[rt]=ot,it&&(ct[rt+"Params"]=it),rt==="onUpdate"&&(this._onUpdate=ot)):delete ct[rt],this):ct[rt]},et.then=function(rt){var ot=this;return new Promise(function(it){var ct=_isFunction(rt)?rt:_passThrough,lt=function(){var mt=ot.then;ot.then=null,_isFunction(ct)&&(ct=ct(ot))&&(ct.then||ct===ot)&&(ot.then=mt),it(ct),ot.then=mt};ot._initted&&ot.totalProgress()===1&&ot._ts>=0||!ot._tTime&&ot._ts<0?lt():ot._prom=lt})},et.kill=function(){_interrupt(this)},_e}();_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(_e){_inheritsLoose(et,_e);function et(rt,ot){var it;return rt===void 0&&(rt={}),it=_e.call(this,rt)||this,it.labels={},it.smoothChildTiming=!!rt.smoothChildTiming,it.autoRemoveChildren=!!rt.autoRemoveChildren,it._sort=_isNotFalse(rt.sortChildren),_globalTimeline&&_addToTimeline(rt.parent||_globalTimeline,_assertThisInitialized$1(it),ot),rt.reversed&&it.reverse(),rt.paused&&it.paused(!0),rt.scrollTrigger&&_scrollTrigger(_assertThisInitialized$1(it),rt.scrollTrigger),it}var nt=et.prototype;return nt.to=function(ot,it,ct){return _createTweenType(0,arguments,this),this},nt.from=function(ot,it,ct){return _createTweenType(1,arguments,this),this},nt.fromTo=function(ot,it,ct,lt){return _createTweenType(2,arguments,this),this},nt.set=function(ot,it,ct){return it.duration=0,it.parent=this,_inheritDefaults(it).repeatDelay||(it.repeat=0),it.immediateRender=!!it.immediateRender,new Tween(ot,it,_parsePosition(this,ct),1),this},nt.call=function(ot,it,ct){return _addToTimeline(this,Tween.delayedCall(0,ot,it),ct)},nt.staggerTo=function(ot,it,ct,lt,pt,mt,Mt){return ct.duration=it,ct.stagger=ct.stagger||lt,ct.onComplete=mt,ct.onCompleteParams=Mt,ct.parent=this,new Tween(ot,ct,_parsePosition(this,pt)),this},nt.staggerFrom=function(ot,it,ct,lt,pt,mt,Mt){return ct.runBackwards=1,_inheritDefaults(ct).immediateRender=_isNotFalse(ct.immediateRender),this.staggerTo(ot,it,ct,lt,pt,mt,Mt)},nt.staggerFromTo=function(ot,it,ct,lt,pt,mt,Mt,bt){return lt.startAt=ct,_inheritDefaults(lt).immediateRender=_isNotFalse(lt.immediateRender),this.staggerTo(ot,it,lt,pt,mt,Mt,bt)},nt.render=function(ot,it,ct){var lt=this._time,pt=this._dirty?this.totalDuration():this._tDur,mt=this._dur,Mt=ot<=0?0:_roundPrecise(ot),bt=this._zTime<0!=ot<0&&(this._initted||!mt),At,wt,Tt,Rt,Bt,Vt,$t,Ft,Ht,Qt,_n,hn;if(this!==_globalTimeline&&Mt>pt&&ot>=0&&(Mt=pt),Mt!==this._tTime||ct||bt){if(lt!==this._time&&mt&&(Mt+=this._time-lt,ot+=this._time-lt),At=Mt,Ht=this._start,Ft=this._ts,Vt=!Ft,bt&&(mt||(lt=this._zTime),(ot||!it)&&(this._zTime=ot)),this._repeat){if(_n=this._yoyo,Bt=mt+this._rDelay,this._repeat<-1&&ot<0)return this.totalTime(Bt*100+ot,it,ct);if(At=_roundPrecise(Mt%Bt),Mt===pt?(Rt=this._repeat,At=mt):(Rt=~~(Mt/Bt),Rt&&Rt===Mt/Bt&&(At=mt,Rt--),At>mt&&(At=mt)),Qt=_animationCycle(this._tTime,Bt),!lt&&this._tTime&&Qt!==Rt&&this._tTime-Qt*Bt-this._dur<=0&&(Qt=Rt),_n&&Rt&1&&(At=mt-At,hn=1),Rt!==Qt&&!this._lock){var Mn=_n&&Qt&1,kn=Mn===(_n&&Rt&1);if(Rt<Qt&&(Mn=!Mn),lt=Mn?0:Mt%mt?mt:Mt,this._lock=1,this.render(lt||(hn?0:_roundPrecise(Rt*Bt)),it,!mt)._lock=0,this._tTime=Mt,!it&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!hn&&(this.invalidate()._lock=1),lt&&lt!==this._time||Vt!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(mt=this._dur,pt=this._tDur,kn&&(this._lock=2,lt=Mn?mt:-1e-4,this.render(lt,!0),this.vars.repeatRefresh&&!hn&&this.invalidate()),this._lock=0,!this._ts&&!Vt)return this;_propagateYoyoEase(this,hn)}}if(this._hasPause&&!this._forcing&&this._lock<2&&($t=_findNextPauseTween(this,_roundPrecise(lt),_roundPrecise(At)),$t&&(Mt-=At-(At=$t._start))),this._tTime=Mt,this._time=At,this._act=!Ft,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=ot,lt=0),!lt&&At&&!it&&!Rt&&(_callback(this,"onStart"),this._tTime!==Mt))return this;if(At>=lt&&ot>=0)for(wt=this._first;wt;){if(Tt=wt._next,(wt._act||At>=wt._start)&&wt._ts&&$t!==wt){if(wt.parent!==this)return this.render(ot,it,ct);if(wt.render(wt._ts>0?(At-wt._start)*wt._ts:(wt._dirty?wt.totalDuration():wt._tDur)+(At-wt._start)*wt._ts,it,ct),At!==this._time||!this._ts&&!Vt){$t=0,Tt&&(Mt+=this._zTime=-_tinyNum);break}}wt=Tt}else{wt=this._last;for(var Cn=ot<0?ot:At;wt;){if(Tt=wt._prev,(wt._act||Cn<=wt._end)&&wt._ts&&$t!==wt){if(wt.parent!==this)return this.render(ot,it,ct);if(wt.render(wt._ts>0?(Cn-wt._start)*wt._ts:(wt._dirty?wt.totalDuration():wt._tDur)+(Cn-wt._start)*wt._ts,it,ct||_reverting$1&&(wt._initted||wt._startAt)),At!==this._time||!this._ts&&!Vt){$t=0,Tt&&(Mt+=this._zTime=Cn?-_tinyNum:_tinyNum);break}}wt=Tt}}if($t&&!it&&(this.pause(),$t.render(At>=lt?0:-_tinyNum)._zTime=At>=lt?1:-1,this._ts))return this._start=Ht,_setEnd(this),this.render(ot,it,ct);this._onUpdate&&!it&&_callback(this,"onUpdate",!0),(Mt===pt&&this._tTime>=this.totalDuration()||!Mt&&lt)&&(Ht===this._start||Math.abs(Ft)!==Math.abs(this._ts))&&(this._lock||((ot||!mt)&&(Mt===pt&&this._ts>0||!Mt&&this._ts<0)&&_removeFromParent(this,1),!it&&!(ot<0&&!lt)&&(Mt||lt||!pt)&&(_callback(this,Mt===pt&&ot>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(Mt<pt&&this.timeScale()>0)&&this._prom())))}return this},nt.add=function(ot,it){var ct=this;if(_isNumber(it)||(it=_parsePosition(this,it,ot)),!(ot instanceof Animation)){if(_isArray(ot))return ot.forEach(function(lt){return ct.add(lt,it)}),this;if(_isString(ot))return this.addLabel(ot,it);if(_isFunction(ot))ot=Tween.delayedCall(0,ot);else return this}return this!==ot?_addToTimeline(this,ot,it):this},nt.getChildren=function(ot,it,ct,lt){ot===void 0&&(ot=!0),it===void 0&&(it=!0),ct===void 0&&(ct=!0),lt===void 0&&(lt=-_bigNum$1);for(var pt=[],mt=this._first;mt;)mt._start>=lt&&(mt instanceof Tween?it&&pt.push(mt):(ct&&pt.push(mt),ot&&pt.push.apply(pt,mt.getChildren(!0,it,ct)))),mt=mt._next;return pt},nt.getById=function(ot){for(var it=this.getChildren(1,1,1),ct=it.length;ct--;)if(it[ct].vars.id===ot)return it[ct]},nt.remove=function(ot){return _isString(ot)?this.removeLabel(ot):_isFunction(ot)?this.killTweensOf(ot):(_removeLinkedListItem(this,ot),ot===this._recent&&(this._recent=this._last),_uncache(this))},nt.totalTime=function(ot,it){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?ot/this._ts:(this.totalDuration()-ot)/-this._ts))),_e.prototype.totalTime.call(this,ot,it),this._forcing=0,this):this._tTime},nt.addLabel=function(ot,it){return this.labels[ot]=_parsePosition(this,it),this},nt.removeLabel=function(ot){return delete this.labels[ot],this},nt.addPause=function(ot,it,ct){var lt=Tween.delayedCall(0,it||_emptyFunc,ct);return lt.data="isPause",this._hasPause=1,_addToTimeline(this,lt,_parsePosition(this,ot))},nt.removePause=function(ot){var it=this._first;for(ot=_parsePosition(this,ot);it;)it._start===ot&&it.data==="isPause"&&_removeFromParent(it),it=it._next},nt.killTweensOf=function(ot,it,ct){for(var lt=this.getTweensOf(ot,ct),pt=lt.length;pt--;)_overwritingTween!==lt[pt]&&lt[pt].kill(ot,it);return this},nt.getTweensOf=function(ot,it){for(var ct=[],lt=toArray(ot),pt=this._first,mt=_isNumber(it),Mt;pt;)pt instanceof Tween?_arrayContainsAny(pt._targets,lt)&&(mt?(!_overwritingTween||pt._initted&&pt._ts)&&pt.globalTime(0)<=it&&pt.globalTime(pt.totalDuration())>it:!it||pt.isActive())&&ct.push(pt):(Mt=pt.getTweensOf(lt,it)).length&&ct.push.apply(ct,Mt),pt=pt._next;return ct},nt.tweenTo=function(ot,it){it=it||{};var ct=this,lt=_parsePosition(ct,ot),pt=it,mt=pt.startAt,Mt=pt.onStart,bt=pt.onStartParams,At=pt.immediateRender,wt,Tt=Tween.to(ct,_setDefaults({ease:it.ease||"none",lazy:!1,immediateRender:!1,time:lt,overwrite:"auto",duration:it.duration||Math.abs((lt-(mt&&"time"in mt?mt.time:ct._time))/ct.timeScale())||_tinyNum,onStart:function(){if(ct.pause(),!wt){var Bt=it.duration||Math.abs((lt-(mt&&"time"in mt?mt.time:ct._time))/ct.timeScale());Tt._dur!==Bt&&_setDuration(Tt,Bt,0,1).render(Tt._time,!0,!0),wt=1}Mt&&Mt.apply(Tt,bt||[])}},it));return At?Tt.render(0):Tt},nt.tweenFromTo=function(ot,it,ct){return this.tweenTo(it,_setDefaults({startAt:{time:_parsePosition(this,ot)}},ct))},nt.recent=function(){return this._recent},nt.nextLabel=function(ot){return ot===void 0&&(ot=this._time),_getLabelInDirection(this,_parsePosition(this,ot))},nt.previousLabel=function(ot){return ot===void 0&&(ot=this._time),_getLabelInDirection(this,_parsePosition(this,ot),1)},nt.currentLabel=function(ot){return arguments.length?this.seek(ot,!0):this.previousLabel(this._time+_tinyNum)},nt.shiftChildren=function(ot,it,ct){ct===void 0&&(ct=0);for(var lt=this._first,pt=this.labels,mt;lt;)lt._start>=ct&&(lt._start+=ot,lt._end+=ot),lt=lt._next;if(it)for(mt in pt)pt[mt]>=ct&&(pt[mt]+=ot);return _uncache(this)},nt.invalidate=function(ot){var it=this._first;for(this._lock=0;it;)it.invalidate(ot),it=it._next;return _e.prototype.invalidate.call(this,ot)},nt.clear=function(ot){ot===void 0&&(ot=!0);for(var it=this._first,ct;it;)ct=it._next,this.remove(it),it=ct;return this._dp&&(this._time=this._tTime=this._pTime=0),ot&&(this.labels={}),_uncache(this)},nt.totalDuration=function(ot){var it=0,ct=this,lt=ct._last,pt=_bigNum$1,mt,Mt,bt;if(arguments.length)return ct.timeScale((ct._repeat<0?ct.duration():ct.totalDuration())/(ct.reversed()?-ot:ot));if(ct._dirty){for(bt=ct.parent;lt;)mt=lt._prev,lt._dirty&&lt.totalDuration(),Mt=lt._start,Mt>pt&&ct._sort&&lt._ts&&!ct._lock?(ct._lock=1,_addToTimeline(ct,lt,Mt-lt._delay,1)._lock=0):pt=Mt,Mt<0&&lt._ts&&(it-=Mt,(!bt&&!ct._dp||bt&&bt.smoothChildTiming)&&(ct._start+=Mt/ct._ts,ct._time-=Mt,ct._tTime-=Mt),ct.shiftChildren(-Mt,!1,-1/0),pt=0),lt._end>it&&lt._ts&&(it=lt._end),lt=mt;_setDuration(ct,ct===_globalTimeline&&ct._time>it?ct._time:it,1,1),ct._dirty=0}return ct._tDur},et.updateRoot=function(ot){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(ot,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var it=_globalTimeline._first;if((!it||!it._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;it&&!it._ts;)it=it._next;it||_ticker.sleep()}}},et}(Animation);_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function _e(et,nt,rt,ot,it,ct,lt){var pt=new PropTween(this._pt,et,nt,0,1,_renderComplexString,null,it),mt=0,Mt=0,bt,At,wt,Tt,Rt,Bt,Vt,$t;for(pt.b=rt,pt.e=ot,rt+="",ot+="",(Vt=~ot.indexOf("random("))&&(ot=_replaceRandom(ot)),ct&&($t=[rt,ot],ct($t,et,nt),rt=$t[0],ot=$t[1]),At=rt.match(_complexStringNumExp)||[];bt=_complexStringNumExp.exec(ot);)Tt=bt[0],Rt=ot.substring(mt,bt.index),wt?wt=(wt+1)%5:Rt.substr(-5)==="rgba("&&(wt=1),Tt!==At[Mt++]&&(Bt=parseFloat(At[Mt-1])||0,pt._pt={_next:pt._pt,p:Rt||Mt===1?Rt:",",s:Bt,c:Tt.charAt(1)==="="?_parseRelative(Bt,Tt)-Bt:parseFloat(Tt)-Bt,m:wt&&wt<4?Math.round:0},mt=_complexStringNumExp.lastIndex);return pt.c=mt<ot.length?ot.substring(mt,ot.length):"",pt.fp=lt,(_relExp.test(ot)||Vt)&&(pt.e=0),this._pt=pt,pt},_addPropTween=function _e(et,nt,rt,ot,it,ct,lt,pt,mt,Mt){_isFunction(ot)&&(ot=ot(it||0,et,ct));var bt=et[nt],At=rt!=="get"?rt:_isFunction(bt)?mt?et[nt.indexOf("set")||!_isFunction(et["get"+nt.substr(3)])?nt:"get"+nt.substr(3)](mt):et[nt]():bt,wt=_isFunction(bt)?mt?_setterFuncWithParam:_setterFunc:_setterPlain,Tt;if(_isString(ot)&&(~ot.indexOf("random(")&&(ot=_replaceRandom(ot)),ot.charAt(1)==="="&&(Tt=_parseRelative(At,ot)+(getUnit(At)||0),(Tt||Tt===0)&&(ot=Tt))),!Mt||At!==ot||_forceAllPropTweens)return!isNaN(At*ot)&&ot!==""?(Tt=new PropTween(this._pt,et,nt,+At||0,ot-(At||0),typeof bt=="boolean"?_renderBoolean:_renderPlain,0,wt),mt&&(Tt.fp=mt),lt&&Tt.modifier(lt,this,et),this._pt=Tt):(!bt&&!(nt in et)&&_missingPlugin(nt,ot),_addComplexStringPropTween.call(this,et,nt,At,ot,wt,pt||_config.stringFilter,mt))},_processVars=function _e(et,nt,rt,ot,it){if(_isFunction(et)&&(et=_parseFuncOrString(et,it,nt,rt,ot)),!_isObject(et)||et.style&&et.nodeType||_isArray(et)||_isTypedArray(et))return _isString(et)?_parseFuncOrString(et,it,nt,rt,ot):et;var ct={},lt;for(lt in et)ct[lt]=_parseFuncOrString(et[lt],it,nt,rt,ot);return ct},_checkPlugin=function _e(et,nt,rt,ot,it,ct){var lt,pt,mt,Mt;if(_plugins[et]&&(lt=new _plugins[et]).init(it,lt.rawVars?nt[et]:_processVars(nt[et],ot,it,ct,rt),rt,ot,ct)!==!1&&(rt._pt=pt=new PropTween(rt._pt,it,et,0,1,lt.render,lt,0,lt.priority),rt!==_quickTween))for(mt=rt._ptLookup[rt._targets.indexOf(it)],Mt=lt._props.length;Mt--;)mt[lt._props[Mt]]=pt;return lt},_overwritingTween,_forceAllPropTweens,_initTween=function _e(et,nt,rt){var ot=et.vars,it=ot.ease,ct=ot.startAt,lt=ot.immediateRender,pt=ot.lazy,mt=ot.onUpdate,Mt=ot.runBackwards,bt=ot.yoyoEase,At=ot.keyframes,wt=ot.autoRevert,Tt=et._dur,Rt=et._startAt,Bt=et._targets,Vt=et.parent,$t=Vt&&Vt.data==="nested"?Vt.vars.targets:Bt,Ft=et._overwrite==="auto"&&!_suppressOverwrites,Ht=et.timeline,Qt,_n,hn,Mn,kn,Cn,yn,Ut,En,vn,wn,Ln,Kn;if(Ht&&(!At||!it)&&(it="none"),et._ease=_parseEase(it,_defaults.ease),et._yEase=bt?_invertEase(_parseEase(bt===!0?it:bt,_defaults.ease)):0,bt&&et._yoyo&&!et._repeat&&(bt=et._yEase,et._yEase=et._ease,et._ease=bt),et._from=!Ht&&!!ot.runBackwards,!Ht||At&&!ot.stagger){if(Ut=Bt[0]?_getCache(Bt[0]).harness:0,Ln=Ut&&ot[Ut.prop],Qt=_copyExcluding(ot,_reservedProps),Rt&&(Rt._zTime<0&&Rt.progress(1),nt<0&&Mt&&lt&&!wt?Rt.render(-1,!0):Rt.revert(Mt&&Tt?_revertConfigNoKill:_startAtRevertConfig),Rt._lazy=0),ct){if(_removeFromParent(et._startAt=Tween.set(Bt,_setDefaults({data:"isStart",overwrite:!1,parent:Vt,immediateRender:!0,lazy:!Rt&&_isNotFalse(pt),startAt:null,delay:0,onUpdate:mt&&function(){return _callback(et,"onUpdate")},stagger:0},ct))),et._startAt._dp=0,et._startAt._sat=et,nt<0&&(_reverting$1||!lt&&!wt)&&et._startAt.revert(_revertConfigNoKill),lt&&Tt&&nt<=0&&rt<=0){nt&&(et._zTime=nt);return}}else if(Mt&&Tt&&!Rt){if(nt&&(lt=!1),hn=_setDefaults({overwrite:!1,data:"isFromStart",lazy:lt&&!Rt&&_isNotFalse(pt),immediateRender:lt,stagger:0,parent:Vt},Qt),Ln&&(hn[Ut.prop]=Ln),_removeFromParent(et._startAt=Tween.set(Bt,hn)),et._startAt._dp=0,et._startAt._sat=et,nt<0&&(_reverting$1?et._startAt.revert(_revertConfigNoKill):et._startAt.render(-1,!0)),et._zTime=nt,!lt)_e(et._startAt,_tinyNum,_tinyNum);else if(!nt)return}for(et._pt=et._ptCache=0,pt=Tt&&_isNotFalse(pt)||pt&&!Tt,_n=0;_n<Bt.length;_n++){if(kn=Bt[_n],yn=kn._gsap||_harness(Bt)[_n]._gsap,et._ptLookup[_n]=vn={},_lazyLookup[yn.id]&&_lazyTweens.length&&_lazyRender(),wn=$t===Bt?_n:$t.indexOf(kn),Ut&&(En=new Ut).init(kn,Ln||Qt,et,wn,$t)!==!1&&(et._pt=Mn=new PropTween(et._pt,kn,En.name,0,1,En.render,En,0,En.priority),En._props.forEach(function(Rn){vn[Rn]=Mn}),En.priority&&(Cn=1)),!Ut||Ln)for(hn in Qt)_plugins[hn]&&(En=_checkPlugin(hn,Qt,et,wn,kn,$t))?En.priority&&(Cn=1):vn[hn]=Mn=_addPropTween.call(et,kn,hn,"get",Qt[hn],wn,$t,0,ot.stringFilter);et._op&&et._op[_n]&&et.kill(kn,et._op[_n]),Ft&&et._pt&&(_overwritingTween=et,_globalTimeline.killTweensOf(kn,vn,et.globalTime(nt)),Kn=!et.parent,_overwritingTween=0),et._pt&&pt&&(_lazyLookup[yn.id]=1)}Cn&&_sortPropTweensByPriority(et),et._onInit&&et._onInit(et)}et._onUpdate=mt,et._initted=(!et._op||et._pt)&&!Kn,At&&nt<=0&&Ht.render(_bigNum$1,!0,!0)},_updatePropTweens=function _e(et,nt,rt,ot,it,ct,lt,pt){var mt=(et._pt&&et._ptCache||(et._ptCache={}))[nt],Mt,bt,At,wt;if(!mt)for(mt=et._ptCache[nt]=[],At=et._ptLookup,wt=et._targets.length;wt--;){if(Mt=At[wt][nt],Mt&&Mt.d&&Mt.d._pt)for(Mt=Mt.d._pt;Mt&&Mt.p!==nt&&Mt.fp!==nt;)Mt=Mt._next;if(!Mt)return _forceAllPropTweens=1,et.vars[nt]="+=0",_initTween(et,lt),_forceAllPropTweens=0,pt?_warn(nt+" not eligible for reset"):1;mt.push(Mt)}for(wt=mt.length;wt--;)bt=mt[wt],Mt=bt._pt||bt,Mt.s=(ot||ot===0)&&!it?ot:Mt.s+(ot||0)+ct*Mt.c,Mt.c=rt-Mt.s,bt.e&&(bt.e=_round(rt)+getUnit(bt.e)),bt.b&&(bt.b=Mt.s+getUnit(bt.b))},_addAliasesToVars=function _e(et,nt){var rt=et[0]?_getCache(et[0]).harness:0,ot=rt&&rt.aliases,it,ct,lt,pt;if(!ot)return nt;it=_merge({},nt);for(ct in ot)if(ct in it)for(pt=ot[ct].split(","),lt=pt.length;lt--;)it[pt[lt]]=it[ct];return it},_parseKeyframe=function _e(et,nt,rt,ot){var it=nt.ease||ot||"power1.inOut",ct,lt;if(_isArray(nt))lt=rt[et]||(rt[et]=[]),nt.forEach(function(pt,mt){return lt.push({t:mt/(nt.length-1)*100,v:pt,e:it})});else for(ct in nt)lt=rt[ct]||(rt[ct]=[]),ct==="ease"||lt.push({t:parseFloat(et),v:nt[ct],e:it})},_parseFuncOrString=function _e(et,nt,rt,ot,it){return _isFunction(et)?et.call(nt,rt,ot,it):_isString(et)&&~et.indexOf("random(")?_replaceRandom(et):et},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(_e){return _staggerPropsToSkip[_e]=1});var Tween=function(_e){_inheritsLoose(et,_e);function et(rt,ot,it,ct){var lt;typeof ot=="number"&&(it.duration=ot,ot=it,it=null),lt=_e.call(this,ct?ot:_inheritDefaults(ot))||this;var pt=lt.vars,mt=pt.duration,Mt=pt.delay,bt=pt.immediateRender,At=pt.stagger,wt=pt.overwrite,Tt=pt.keyframes,Rt=pt.defaults,Bt=pt.scrollTrigger,Vt=pt.yoyoEase,$t=ot.parent||_globalTimeline,Ft=(_isArray(rt)||_isTypedArray(rt)?_isNumber(rt[0]):"length"in ot)?[rt]:toArray(rt),Ht,Qt,_n,hn,Mn,kn,Cn,yn;if(lt._targets=Ft.length?_harness(Ft):_warn("GSAP target "+rt+" not found. https://gsap.com",!_config.nullTargetWarn)||[],lt._ptLookup=[],lt._overwrite=wt,Tt||At||_isFuncOrString(mt)||_isFuncOrString(Mt)){if(ot=lt.vars,Ht=lt.timeline=new Timeline({data:"nested",defaults:Rt||{},targets:$t&&$t.data==="nested"?$t.vars.targets:Ft}),Ht.kill(),Ht.parent=Ht._dp=_assertThisInitialized$1(lt),Ht._start=0,At||_isFuncOrString(mt)||_isFuncOrString(Mt)){if(hn=Ft.length,Cn=At&&distribute(At),_isObject(At))for(Mn in At)~_staggerTweenProps.indexOf(Mn)&&(yn||(yn={}),yn[Mn]=At[Mn]);for(Qt=0;Qt<hn;Qt++)_n=_copyExcluding(ot,_staggerPropsToSkip),_n.stagger=0,Vt&&(_n.yoyoEase=Vt),yn&&_merge(_n,yn),kn=Ft[Qt],_n.duration=+_parseFuncOrString(mt,_assertThisInitialized$1(lt),Qt,kn,Ft),_n.delay=(+_parseFuncOrString(Mt,_assertThisInitialized$1(lt),Qt,kn,Ft)||0)-lt._delay,!At&&hn===1&&_n.delay&&(lt._delay=Mt=_n.delay,lt._start+=Mt,_n.delay=0),Ht.to(kn,_n,Cn?Cn(Qt,kn,Ft):0),Ht._ease=_easeMap.none;Ht.duration()?mt=Mt=0:lt.timeline=0}else if(Tt){_inheritDefaults(_setDefaults(Ht.vars.defaults,{ease:"none"})),Ht._ease=_parseEase(Tt.ease||ot.ease||"none");var Ut=0,En,vn,wn;if(_isArray(Tt))Tt.forEach(function(Ln){return Ht.to(Ft,Ln,">")}),Ht.duration();else{_n={};for(Mn in Tt)Mn==="ease"||Mn==="easeEach"||_parseKeyframe(Mn,Tt[Mn],_n,Tt.easeEach);for(Mn in _n)for(En=_n[Mn].sort(function(Ln,Kn){return Ln.t-Kn.t}),Ut=0,Qt=0;Qt<En.length;Qt++)vn=En[Qt],wn={ease:vn.e,duration:(vn.t-(Qt?En[Qt-1].t:0))/100*mt},wn[Mn]=vn.v,Ht.to(Ft,wn,Ut),Ut+=wn.duration;Ht.duration()<mt&&Ht.to({},{duration:mt-Ht.duration()})}}mt||lt.duration(mt=Ht.duration())}else lt.timeline=0;return wt===!0&&!_suppressOverwrites&&(_overwritingTween=_assertThisInitialized$1(lt),_globalTimeline.killTweensOf(Ft),_overwritingTween=0),_addToTimeline($t,_assertThisInitialized$1(lt),it),ot.reversed&&lt.reverse(),ot.paused&&lt.paused(!0),(bt||!mt&&!Tt&&lt._start===_roundPrecise($t._time)&&_isNotFalse(bt)&&_hasNoPausedAncestors(_assertThisInitialized$1(lt))&&$t.data!=="nested")&&(lt._tTime=-_tinyNum,lt.render(Math.max(0,-Mt)||0)),Bt&&_scrollTrigger(_assertThisInitialized$1(lt),Bt),lt}var nt=et.prototype;return nt.render=function(ot,it,ct){var lt=this._time,pt=this._tDur,mt=this._dur,Mt=ot<0,bt=ot>pt-_tinyNum&&!Mt?pt:ot<_tinyNum?0:ot,At,wt,Tt,Rt,Bt,Vt,$t,Ft,Ht;if(!mt)_renderZeroDurationTween(this,ot,it,ct);else if(bt!==this._tTime||!ot||ct||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==Mt){if(At=bt,Ft=this.timeline,this._repeat){if(Rt=mt+this._rDelay,this._repeat<-1&&Mt)return this.totalTime(Rt*100+ot,it,ct);if(At=_roundPrecise(bt%Rt),bt===pt?(Tt=this._repeat,At=mt):(Tt=~~(bt/Rt),Tt&&Tt===_roundPrecise(bt/Rt)&&(At=mt,Tt--),At>mt&&(At=mt)),Vt=this._yoyo&&Tt&1,Vt&&(Ht=this._yEase,At=mt-At),Bt=_animationCycle(this._tTime,Rt),At===lt&&!ct&&this._initted&&Tt===Bt)return this._tTime=bt,this;Tt!==Bt&&(Ft&&this._yEase&&_propagateYoyoEase(Ft,Vt),this.vars.repeatRefresh&&!Vt&&!this._lock&&this._time!==Rt&&this._initted&&(this._lock=ct=1,this.render(_roundPrecise(Rt*Tt),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,Mt?ot:At,ct,it,bt))return this._tTime=0,this;if(lt!==this._time&&!(ct&&this.vars.repeatRefresh&&Tt!==Bt))return this;if(mt!==this._dur)return this.render(ot,it,ct)}if(this._tTime=bt,this._time=At,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=$t=(Ht||this._ease)(At/mt),this._from&&(this.ratio=$t=1-$t),At&&!lt&&!it&&!Tt&&(_callback(this,"onStart"),this._tTime!==bt))return this;for(wt=this._pt;wt;)wt.r($t,wt.d),wt=wt._next;Ft&&Ft.render(ot<0?ot:Ft._dur*Ft._ease(At/this._dur),it,ct)||this._startAt&&(this._zTime=ot),this._onUpdate&&!it&&(Mt&&_rewindStartAt(this,ot,it,ct),_callback(this,"onUpdate")),this._repeat&&Tt!==Bt&&this.vars.onRepeat&&!it&&this.parent&&_callback(this,"onRepeat"),(bt===this._tDur||!bt)&&this._tTime===bt&&(Mt&&!this._onUpdate&&_rewindStartAt(this,ot,!0,!0),(ot||!mt)&&(bt===this._tDur&&this._ts>0||!bt&&this._ts<0)&&_removeFromParent(this,1),!it&&!(Mt&&!lt)&&(bt||lt||Vt)&&(_callback(this,bt===pt?"onComplete":"onReverseComplete",!0),this._prom&&!(bt<pt&&this.timeScale()>0)&&this._prom()))}return this},nt.targets=function(){return this._targets},nt.invalidate=function(ot){return(!ot||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(ot),_e.prototype.invalidate.call(this,ot)},nt.resetTo=function(ot,it,ct,lt,pt){_tickerActive||_ticker.wake(),this._ts||this.play();var mt=Math.min(this._dur,(this._dp._time-this._start)*this._ts),Mt;return this._initted||_initTween(this,mt),Mt=this._ease(mt/this._dur),_updatePropTweens(this,ot,it,ct,lt,Mt,mt,pt)?this.resetTo(ot,it,ct,lt,1):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},nt.kill=function(ot,it){if(it===void 0&&(it="all"),!ot&&(!it||it==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var ct=this.timeline.totalDuration();return this.timeline.killTweensOf(ot,it,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&ct!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/ct,0,1),this}var lt=this._targets,pt=ot?toArray(ot):lt,mt=this._ptLookup,Mt=this._pt,bt,At,wt,Tt,Rt,Bt,Vt;if((!it||it==="all")&&_arraysMatch(lt,pt))return it==="all"&&(this._pt=0),_interrupt(this);for(bt=this._op=this._op||[],it!=="all"&&(_isString(it)&&(Rt={},_forEachName(it,function($t){return Rt[$t]=1}),it=Rt),it=_addAliasesToVars(lt,it)),Vt=lt.length;Vt--;)if(~pt.indexOf(lt[Vt])){At=mt[Vt],it==="all"?(bt[Vt]=it,Tt=At,wt={}):(wt=bt[Vt]=bt[Vt]||{},Tt=it);for(Rt in Tt)Bt=At&&At[Rt],Bt&&((!("kill"in Bt.d)||Bt.d.kill(Rt)===!0)&&_removeLinkedListItem(this,Bt,"_pt"),delete At[Rt]),wt!=="all"&&(wt[Rt]=1)}return this._initted&&!this._pt&&Mt&&_interrupt(this),this},et.to=function(ot,it){return new et(ot,it,arguments[2])},et.from=function(ot,it){return _createTweenType(1,arguments)},et.delayedCall=function(ot,it,ct,lt){return new et(it,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:ot,onComplete:it,onReverseComplete:it,onCompleteParams:ct,onReverseCompleteParams:ct,callbackScope:lt})},et.fromTo=function(ot,it,ct){return _createTweenType(2,arguments)},et.set=function(ot,it){return it.duration=0,it.repeatDelay||(it.repeat=0),new et(ot,it)},et.killTweensOf=function(ot,it,ct){return _globalTimeline.killTweensOf(ot,it,ct)},et}(Animation);_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(_e){Tween[_e]=function(){var et=new Timeline,nt=_slice.call(arguments,0);return nt.splice(_e==="staggerFromTo"?5:4,0,0),et[_e].apply(et,nt)}});var _setterPlain=function _e(et,nt,rt){return et[nt]=rt},_setterFunc=function _e(et,nt,rt){return et[nt](rt)},_setterFuncWithParam=function _e(et,nt,rt,ot){return et[nt](ot.fp,rt)},_setterAttribute=function _e(et,nt,rt){return et.setAttribute(nt,rt)},_getSetter=function _e(et,nt){return _isFunction(et[nt])?_setterFunc:_isUndefined(et[nt])&&et.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function _e(et,nt){return nt.set(nt.t,nt.p,Math.round((nt.s+nt.c*et)*1e6)/1e6,nt)},_renderBoolean=function _e(et,nt){return nt.set(nt.t,nt.p,!!(nt.s+nt.c*et),nt)},_renderComplexString=function _e(et,nt){var rt=nt._pt,ot="";if(!et&&nt.b)ot=nt.b;else if(et===1&&nt.e)ot=nt.e;else{for(;rt;)ot=rt.p+(rt.m?rt.m(rt.s+rt.c*et):Math.round((rt.s+rt.c*et)*1e4)/1e4)+ot,rt=rt._next;ot+=nt.c}nt.set(nt.t,nt.p,ot,nt)},_renderPropTweens=function _e(et,nt){for(var rt=nt._pt;rt;)rt.r(et,rt.d),rt=rt._next},_addPluginModifier=function _e(et,nt,rt,ot){for(var it=this._pt,ct;it;)ct=it._next,it.p===ot&&it.modifier(et,nt,rt),it=ct},_killPropTweensOf=function _e(et){for(var nt=this._pt,rt,ot;nt;)ot=nt._next,nt.p===et&&!nt.op||nt.op===et?_removeLinkedListItem(this,nt,"_pt"):nt.dep||(rt=1),nt=ot;return!rt},_setterWithModifier=function _e(et,nt,rt,ot){ot.mSet(et,nt,ot.m.call(ot.tween,rt,ot.mt),ot)},_sortPropTweensByPriority=function _e(et){for(var nt=et._pt,rt,ot,it,ct;nt;){for(rt=nt._next,ot=it;ot&&ot.pr>nt.pr;)ot=ot._next;(nt._prev=ot?ot._prev:ct)?nt._prev._next=nt:it=nt,(nt._next=ot)?ot._prev=nt:ct=nt,nt=rt}et._pt=it},PropTween=function(){function _e(nt,rt,ot,it,ct,lt,pt,mt,Mt){this.t=rt,this.s=it,this.c=ct,this.p=ot,this.r=lt||_renderPlain,this.d=pt||this,this.set=mt||_setterPlain,this.pr=Mt||0,this._next=nt,nt&&(nt._prev=this)}var et=_e.prototype;return et.modifier=function(rt,ot,it){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=rt,this.mt=it,this.tween=ot},_e}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(_e){return _reservedProps[_e]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners={},_emptyArray=[],_lastMediaTime=0,_contextID=0,_dispatch=function _e(et){return(_listeners[et]||_emptyArray).map(function(nt){return nt()})},_onMediaChange=function _e(){var et=Date.now(),nt=[];et-_lastMediaTime>2&&(_dispatch("matchMediaInit"),_media.forEach(function(rt){var ot=rt.queries,it=rt.conditions,ct,lt,pt,mt;for(lt in ot)ct=_win$1.matchMedia(ot[lt]).matches,ct&&(pt=1),ct!==it[lt]&&(it[lt]=ct,mt=1);mt&&(rt.revert(),pt&&nt.push(rt))}),_dispatch("matchMediaRevert"),nt.forEach(function(rt){return rt.onMatch(rt,function(ot){return rt.add(null,ot)})}),_lastMediaTime=et,_dispatch("matchMedia"))},Context=function(){function _e(nt,rt){this.selector=rt&&selector(rt),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,nt&&this.add(nt)}var et=_e.prototype;return et.add=function(rt,ot,it){_isFunction(rt)&&(it=ot,ot=rt,rt=_isFunction);var ct=this,lt=function(){var mt=_context,Mt=ct.selector,bt;return mt&&mt!==ct&&mt.data.push(ct),it&&(ct.selector=selector(it)),_context=ct,bt=ot.apply(ct,arguments),_isFunction(bt)&&ct._r.push(bt),_context=mt,ct.selector=Mt,ct.isReverted=!1,bt};return ct.last=lt,rt===_isFunction?lt(ct,function(pt){return ct.add(null,pt)}):rt?ct[rt]=lt:lt},et.ignore=function(rt){var ot=_context;_context=null,rt(this),_context=ot},et.getTweens=function(){var rt=[];return this.data.forEach(function(ot){return ot instanceof _e?rt.push.apply(rt,ot.getTweens()):ot instanceof Tween&&!(ot.parent&&ot.parent.data==="nested")&&rt.push(ot)}),rt},et.clear=function(){this._r.length=this.data.length=0},et.kill=function(rt,ot){var it=this;if(rt?function(){for(var lt=it.getTweens(),pt=it.data.length,mt;pt--;)mt=it.data[pt],mt.data==="isFlip"&&(mt.revert(),mt.getChildren(!0,!0,!1).forEach(function(Mt){return lt.splice(lt.indexOf(Mt),1)}));for(lt.map(function(Mt){return{g:Mt._dur||Mt._delay||Mt._sat&&!Mt._sat.vars.immediateRender?Mt.globalTime(0):-1/0,t:Mt}}).sort(function(Mt,bt){return bt.g-Mt.g||-1/0}).forEach(function(Mt){return Mt.t.revert(rt)}),pt=it.data.length;pt--;)mt=it.data[pt],mt instanceof Timeline?mt.data!=="nested"&&(mt.scrollTrigger&&mt.scrollTrigger.revert(),mt.kill()):!(mt instanceof Tween)&&mt.revert&&mt.revert(rt);it._r.forEach(function(Mt){return Mt(rt,it)}),it.isReverted=!0}():this.data.forEach(function(lt){return lt.kill&&lt.kill()}),this.clear(),ot)for(var ct=_media.length;ct--;)_media[ct].id===this.id&&_media.splice(ct,1)},et.revert=function(rt){this.kill(rt||{})},_e}(),MatchMedia=function(){function _e(nt){this.contexts=[],this.scope=nt,_context&&_context.data.push(this)}var et=_e.prototype;return et.add=function(rt,ot,it){_isObject(rt)||(rt={matches:rt});var ct=new Context(0,it||this.scope),lt=ct.conditions={},pt,mt,Mt;_context&&!ct.selector&&(ct.selector=_context.selector),this.contexts.push(ct),ot=ct.add("onMatch",ot),ct.queries=rt;for(mt in rt)mt==="all"?Mt=1:(pt=_win$1.matchMedia(rt[mt]),pt&&(_media.indexOf(ct)<0&&_media.push(ct),(lt[mt]=pt.matches)&&(Mt=1),pt.addListener?pt.addListener(_onMediaChange):pt.addEventListener("change",_onMediaChange)));return Mt&&ot(ct,function(bt){return ct.add(null,bt)}),this},et.revert=function(rt){this.kill(rt||{})},et.kill=function(rt){this.contexts.forEach(function(ot){return ot.kill(rt,!0)})},_e}(),_gsap={registerPlugin:function _e(){for(var et=arguments.length,nt=new Array(et),rt=0;rt<et;rt++)nt[rt]=arguments[rt];nt.forEach(function(ot){return _createPlugin(ot)})},timeline:function _e(et){return new Timeline(et)},getTweensOf:function _e(et,nt){return _globalTimeline.getTweensOf(et,nt)},getProperty:function _e(et,nt,rt,ot){_isString(et)&&(et=toArray(et)[0]);var it=_getCache(et||{}).get,ct=rt?_passThrough:_numericIfPossible;return rt==="native"&&(rt=""),et&&(nt?ct((_plugins[nt]&&_plugins[nt].get||it)(et,nt,rt,ot)):function(lt,pt,mt){return ct((_plugins[lt]&&_plugins[lt].get||it)(et,lt,pt,mt))})},quickSetter:function _e(et,nt,rt){if(et=toArray(et),et.length>1){var ot=et.map(function(Mt){return gsap.quickSetter(Mt,nt,rt)}),it=ot.length;return function(Mt){for(var bt=it;bt--;)ot[bt](Mt)}}et=et[0]||{};var ct=_plugins[nt],lt=_getCache(et),pt=lt.harness&&(lt.harness.aliases||{})[nt]||nt,mt=ct?function(Mt){var bt=new ct;_quickTween._pt=0,bt.init(et,rt?Mt+rt:Mt,_quickTween,0,[et]),bt.render(1,bt),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:lt.set(et,pt);return ct?mt:function(Mt){return mt(et,pt,rt?Mt+rt:Mt,lt,1)}},quickTo:function _e(et,nt,rt){var ot,it=gsap.to(et,_merge((ot={},ot[nt]="+=0.1",ot.paused=!0,ot),rt||{})),ct=function(pt,mt,Mt){return it.resetTo(nt,pt,mt,Mt)};return ct.tween=it,ct},isTweening:function _e(et){return _globalTimeline.getTweensOf(et,!0).length>0},defaults:function _e(et){return et&&et.ease&&(et.ease=_parseEase(et.ease,_defaults.ease)),_mergeDeep(_defaults,et||{})},config:function _e(et){return _mergeDeep(_config,et||{})},registerEffect:function _e(et){var nt=et.name,rt=et.effect,ot=et.plugins,it=et.defaults,ct=et.extendTimeline;(ot||"").split(",").forEach(function(lt){return lt&&!_plugins[lt]&&!_globals[lt]&&_warn(nt+" effect requires "+lt+" plugin.")}),_effects[nt]=function(lt,pt,mt){return rt(toArray(lt),_setDefaults(pt||{},it),mt)},ct&&(Timeline.prototype[nt]=function(lt,pt,mt){return this.add(_effects[nt](lt,_isObject(pt)?pt:(mt=pt)&&{},this),mt)})},registerEase:function _e(et,nt){_easeMap[et]=_parseEase(nt)},parseEase:function _e(et,nt){return arguments.length?_parseEase(et,nt):_easeMap},getById:function _e(et){return _globalTimeline.getById(et)},exportRoot:function _e(et,nt){et===void 0&&(et={});var rt=new Timeline(et),ot,it;for(rt.smoothChildTiming=_isNotFalse(et.smoothChildTiming),_globalTimeline.remove(rt),rt._dp=0,rt._time=rt._tTime=_globalTimeline._time,ot=_globalTimeline._first;ot;)it=ot._next,(nt||!(!ot._dur&&ot instanceof Tween&&ot.vars.onComplete===ot._targets[0]))&&_addToTimeline(rt,ot,ot._start-ot._delay),ot=it;return _addToTimeline(_globalTimeline,rt,0),rt},context:function _e(et,nt){return et?new Context(et,nt):_context},matchMedia:function _e(et){return new MatchMedia(et)},matchMediaRefresh:function _e(){return _media.forEach(function(et){var nt=et.conditions,rt,ot;for(ot in nt)nt[ot]&&(nt[ot]=!1,rt=1);rt&&et.revert()})||_onMediaChange()},addEventListener:function _e(et,nt){var rt=_listeners[et]||(_listeners[et]=[]);~rt.indexOf(nt)||rt.push(nt)},removeEventListener:function _e(et,nt){var rt=_listeners[et],ot=rt&&rt.indexOf(nt);ot>=0&&rt.splice(ot,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function _e(){return _reverting$1},context:function _e(et){return et&&_context&&(_context.data.push(et),et._ctx=_context),_context},suppressOverwrites:function _e(et){return _suppressOverwrites=et}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(_e){return _gsap[_e]=Tween[_e]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function _e(et,nt){for(var rt=et._pt;rt&&rt.p!==nt&&rt.op!==nt&&rt.fp!==nt;)rt=rt._next;return rt},_addModifiers=function _e(et,nt){var rt=et._targets,ot,it,ct;for(ot in nt)for(it=rt.length;it--;)ct=et._ptLookup[it][ot],ct&&(ct=ct.d)&&(ct._pt&&(ct=_getPluginPropTween(ct,ot)),ct&&ct.modifier&&ct.modifier(nt[ot],et,rt[it],ot))},_buildModifierPlugin=function _e(et,nt){return{name:et,rawVars:1,init:function(ot,it,ct){ct._onInit=function(lt){var pt,mt;if(_isString(it)&&(pt={},_forEachName(it,function(Mt){return pt[Mt]=1}),it=pt),nt){pt={};for(mt in it)pt[mt]=nt(it[mt]);it=pt}_addModifiers(lt,it)}}}},gsap=_gsap.registerPlugin({name:"attr",init:function _e(et,nt,rt,ot,it){var ct,lt,pt;this.tween=rt;for(ct in nt)pt=et.getAttribute(ct)||"",lt=this.add(et,"setAttribute",(pt||0)+"",nt[ct],ot,it,0,0,ct),lt.op=ct,lt.b=pt,this._props.push(ct)},render:function _e(et,nt){for(var rt=nt._pt;rt;)_reverting$1?rt.set(rt.t,rt.p,rt.b,rt):rt.r(et,rt.d),rt=rt._next}},{name:"endArray",init:function _e(et,nt){for(var rt=nt.length;rt--;)this.add(et,rt,et[rt]||0,nt[rt],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap.version="3.12.5";_coreReady=1;_windowExists$1()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win,_doc,_docElement,_pluginInitted,_tempDiv,_recentSetterPlugin,_reverting,_windowExists=function _e(){return typeof window<"u"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function _e(et,nt){return nt.set(nt.t,nt.p,Math.round((nt.s+nt.c*et)*1e4)/1e4+nt.u,nt)},_renderPropWithEnd=function _e(et,nt){return nt.set(nt.t,nt.p,et===1?nt.e:Math.round((nt.s+nt.c*et)*1e4)/1e4+nt.u,nt)},_renderCSSPropWithBeginning=function _e(et,nt){return nt.set(nt.t,nt.p,et?Math.round((nt.s+nt.c*et)*1e4)/1e4+nt.u:nt.b,nt)},_renderRoundedCSSProp=function _e(et,nt){var rt=nt.s+nt.c*et;nt.set(nt.t,nt.p,~~(rt+(rt<0?-.5:.5))+nt.u,nt)},_renderNonTweeningValue=function _e(et,nt){return nt.set(nt.t,nt.p,et?nt.e:nt.b,nt)},_renderNonTweeningValueOnlyAtEnd=function _e(et,nt){return nt.set(nt.t,nt.p,et!==1?nt.b:nt.e,nt)},_setterCSSStyle=function _e(et,nt,rt){return et.style[nt]=rt},_setterCSSProp=function _e(et,nt,rt){return et.style.setProperty(nt,rt)},_setterTransform=function _e(et,nt,rt){return et._gsap[nt]=rt},_setterScale=function _e(et,nt,rt){return et._gsap.scaleX=et._gsap.scaleY=rt},_setterScaleWithRender=function _e(et,nt,rt,ot,it){var ct=et._gsap;ct.scaleX=ct.scaleY=rt,ct.renderTransform(it,ct)},_setterTransformWithRender=function _e(et,nt,rt,ot,it){var ct=et._gsap;ct[nt]=rt,ct.renderTransform(it,ct)},_transformProp="transform",_transformOriginProp=_transformProp+"Origin",_saveStyle=function _e(et,nt){var rt=this,ot=this.target,it=ot.style,ct=ot._gsap;if(et in _transformProps&&it){if(this.tfm=this.tfm||{},et!=="transform")et=_propertyAliases[et]||et,~et.indexOf(",")?et.split(",").forEach(function(lt){return rt.tfm[lt]=_get(ot,lt)}):this.tfm[et]=ct.x?ct[et]:_get(ot,et),et===_transformOriginProp&&(this.tfm.zOrigin=ct.zOrigin);else return _propertyAliases.transform.split(",").forEach(function(lt){return _e.call(rt,lt,nt)});if(this.props.indexOf(_transformProp)>=0)return;ct.svg&&(this.svgo=ot.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,nt,"")),et=_transformProp}(it||nt)&&this.props.push(et,nt,it[et])},_removeIndependentTransforms=function _e(et){et.translate&&(et.removeProperty("translate"),et.removeProperty("scale"),et.removeProperty("rotate"))},_revertStyle=function _e(){var et=this.props,nt=this.target,rt=nt.style,ot=nt._gsap,it,ct;for(it=0;it<et.length;it+=3)et[it+1]?nt[et[it]]=et[it+2]:et[it+2]?rt[et[it]]=et[it+2]:rt.removeProperty(et[it].substr(0,2)==="--"?et[it]:et[it].replace(_capsExp,"-$1").toLowerCase());if(this.tfm){for(ct in this.tfm)ot[ct]=this.tfm[ct];ot.svg&&(ot.renderTransform(),nt.setAttribute("data-svg-origin",this.svgo||"")),it=_reverting(),(!it||!it.isStart)&&!rt[_transformProp]&&(_removeIndependentTransforms(rt),ot.zOrigin&&rt[_transformOriginProp]&&(rt[_transformOriginProp]+=" "+ot.zOrigin+"px",ot.zOrigin=0,ot.renderTransform()),ot.uncache=1)}},_getStyleSaver=function _e(et,nt){var rt={target:et,props:[],revert:_revertStyle,save:_saveStyle};return et._gsap||gsap.core.getCache(et),nt&&nt.split(",").forEach(function(ot){return rt.save(ot)}),rt},_supports3D,_createElement=function _e(et,nt){var rt=_doc.createElementNS?_doc.createElementNS((nt||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),et):_doc.createElement(et);return rt&&rt.style?rt:_doc.createElement(et)},_getComputedProperty=function _e(et,nt,rt){var ot=getComputedStyle(et);return ot[nt]||ot.getPropertyValue(nt.replace(_capsExp,"-$1").toLowerCase())||ot.getPropertyValue(nt)||!rt&&_e(et,_checkPropPrefix(nt)||nt,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function _e(et,nt,rt){var ot=nt||_tempDiv,it=ot.style,ct=5;if(et in it&&!rt)return et;for(et=et.charAt(0).toUpperCase()+et.substr(1);ct--&&!(_prefixes[ct]+et in it););return ct<0?null:(ct===3?"ms":ct>=0?_prefixes[ct]:"")+et},_initCore=function _e(){_windowExists()&&window.document&&(_win=window,_doc=_win.document,_docElement=_doc.documentElement,_tempDiv=_createElement("div")||{style:{}},_createElement("div"),_transformProp=_checkPropPrefix(_transformProp),_transformOriginProp=_transformProp+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap.core.reverting,_pluginInitted=1)},_getBBoxHack=function _e(et){var nt=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),rt=this.parentNode,ot=this.nextSibling,it=this.style.cssText,ct;if(_docElement.appendChild(nt),nt.appendChild(this),this.style.display="block",et)try{ct=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_e}catch{}else this._gsapBBox&&(ct=this._gsapBBox());return rt&&(ot?rt.insertBefore(this,ot):rt.appendChild(this)),_docElement.removeChild(nt),this.style.cssText=it,ct},_getAttributeFallbacks=function _e(et,nt){for(var rt=nt.length;rt--;)if(et.hasAttribute(nt[rt]))return et.getAttribute(nt[rt])},_getBBox=function _e(et){var nt;try{nt=et.getBBox()}catch{nt=_getBBoxHack.call(et,!0)}return nt&&(nt.width||nt.height)||et.getBBox===_getBBoxHack||(nt=_getBBoxHack.call(et,!0)),nt&&!nt.width&&!nt.x&&!nt.y?{x:+_getAttributeFallbacks(et,["x","cx","x1"])||0,y:+_getAttributeFallbacks(et,["y","cy","y1"])||0,width:0,height:0}:nt},_isSVG=function _e(et){return!!(et.getCTM&&(!et.parentNode||et.ownerSVGElement)&&_getBBox(et))},_removeProperty=function _e(et,nt){if(nt){var rt=et.style,ot;nt in _transformProps&&nt!==_transformOriginProp&&(nt=_transformProp),rt.removeProperty?(ot=nt.substr(0,2),(ot==="ms"||nt.substr(0,6)==="webkit")&&(nt="-"+nt),rt.removeProperty(ot==="--"?nt:nt.replace(_capsExp,"-$1").toLowerCase())):rt.removeAttribute(nt)}},_addNonTweeningPT=function _e(et,nt,rt,ot,it,ct){var lt=new PropTween(et._pt,nt,rt,0,1,ct?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return et._pt=lt,lt.b=ot,lt.e=it,et._props.push(rt),lt},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function _e(et,nt,rt,ot){var it=parseFloat(rt)||0,ct=(rt+"").trim().substr((it+"").length)||"px",lt=_tempDiv.style,pt=_horizontalExp.test(nt),mt=et.tagName.toLowerCase()==="svg",Mt=(mt?"client":"offset")+(pt?"Width":"Height"),bt=100,At=ot==="px",wt=ot==="%",Tt,Rt,Bt,Vt;if(ot===ct||!it||_nonConvertibleUnits[ot]||_nonConvertibleUnits[ct])return it;if(ct!=="px"&&!At&&(it=_e(et,nt,rt,"px")),Vt=et.getCTM&&_isSVG(et),(wt||ct==="%")&&(_transformProps[nt]||~nt.indexOf("adius")))return Tt=Vt?et.getBBox()[pt?"width":"height"]:et[Mt],_round(wt?it/Tt*bt:it/100*Tt);if(lt[pt?"width":"height"]=bt+(At?ct:ot),Rt=~nt.indexOf("adius")||ot==="em"&&et.appendChild&&!mt?et:et.parentNode,Vt&&(Rt=(et.ownerSVGElement||{}).parentNode),(!Rt||Rt===_doc||!Rt.appendChild)&&(Rt=_doc.body),Bt=Rt._gsap,Bt&&wt&&Bt.width&&pt&&Bt.time===_ticker.time&&!Bt.uncache)return _round(it/Bt.width*bt);if(wt&&(nt==="height"||nt==="width")){var $t=et.style[nt];et.style[nt]=bt+ot,Tt=et[Mt],$t?et.style[nt]=$t:_removeProperty(et,nt)}else(wt||ct==="%")&&!_nonStandardLayouts[_getComputedProperty(Rt,"display")]&&(lt.position=_getComputedProperty(et,"position")),Rt===et&&(lt.position="static"),Rt.appendChild(_tempDiv),Tt=_tempDiv[Mt],Rt.removeChild(_tempDiv),lt.position="absolute";return pt&&wt&&(Bt=_getCache(Rt),Bt.time=_ticker.time,Bt.width=Rt[Mt]),_round(At?Tt*it/bt:Tt&&it?bt/Tt*it:0)},_get=function _e(et,nt,rt,ot){var it;return _pluginInitted||_initCore(),nt in _propertyAliases&&nt!=="transform"&&(nt=_propertyAliases[nt],~nt.indexOf(",")&&(nt=nt.split(",")[0])),_transformProps[nt]&&nt!=="transform"?(it=_parseTransform(et,ot),it=nt!=="transformOrigin"?it[nt]:it.svg?it.origin:_firstTwoOnly(_getComputedProperty(et,_transformOriginProp))+" "+it.zOrigin+"px"):(it=et.style[nt],(!it||it==="auto"||ot||~(it+"").indexOf("calc("))&&(it=_specialProps[nt]&&_specialProps[nt](et,nt,rt)||_getComputedProperty(et,nt)||_getProperty(et,nt)||(nt==="opacity"?1:0))),rt&&!~(it+"").trim().indexOf(" ")?_convertToUnit(et,nt,it,rt)+rt:it},_tweenComplexCSSString=function _e(et,nt,rt,ot){if(!rt||rt==="none"){var it=_checkPropPrefix(nt,et,1),ct=it&&_getComputedProperty(et,it,1);ct&&ct!==rt?(nt=it,rt=ct):nt==="borderColor"&&(rt=_getComputedProperty(et,"borderTopColor"))}var lt=new PropTween(this._pt,et.style,nt,0,1,_renderComplexString),pt=0,mt=0,Mt,bt,At,wt,Tt,Rt,Bt,Vt,$t,Ft,Ht,Qt;if(lt.b=rt,lt.e=ot,rt+="",ot+="",ot==="auto"&&(Rt=et.style[nt],et.style[nt]=ot,ot=_getComputedProperty(et,nt)||ot,Rt?et.style[nt]=Rt:_removeProperty(et,nt)),Mt=[rt,ot],_colorStringFilter(Mt),rt=Mt[0],ot=Mt[1],At=rt.match(_numWithUnitExp)||[],Qt=ot.match(_numWithUnitExp)||[],Qt.length){for(;bt=_numWithUnitExp.exec(ot);)Bt=bt[0],$t=ot.substring(pt,bt.index),Tt?Tt=(Tt+1)%5:($t.substr(-5)==="rgba("||$t.substr(-5)==="hsla(")&&(Tt=1),Bt!==(Rt=At[mt++]||"")&&(wt=parseFloat(Rt)||0,Ht=Rt.substr((wt+"").length),Bt.charAt(1)==="="&&(Bt=_parseRelative(wt,Bt)+Ht),Vt=parseFloat(Bt),Ft=Bt.substr((Vt+"").length),pt=_numWithUnitExp.lastIndex-Ft.length,Ft||(Ft=Ft||_config.units[nt]||Ht,pt===ot.length&&(ot+=Ft,lt.e+=Ft)),Ht!==Ft&&(wt=_convertToUnit(et,nt,Rt,Ft)||0),lt._pt={_next:lt._pt,p:$t||mt===1?$t:",",s:wt,c:Vt-wt,m:Tt&&Tt<4||nt==="zIndex"?Math.round:0});lt.c=pt<ot.length?ot.substring(pt,ot.length):""}else lt.r=nt==="display"&&ot==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(ot)&&(lt.e=0),this._pt=lt,lt},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function _e(et){var nt=et.split(" "),rt=nt[0],ot=nt[1]||"50%";return(rt==="top"||rt==="bottom"||ot==="left"||ot==="right")&&(et=rt,rt=ot,ot=et),nt[0]=_keywordToPercent[rt]||rt,nt[1]=_keywordToPercent[ot]||ot,nt.join(" ")},_renderClearProps=function _e(et,nt){if(nt.tween&&nt.tween._time===nt.tween._dur){var rt=nt.t,ot=rt.style,it=nt.u,ct=rt._gsap,lt,pt,mt;if(it==="all"||it===!0)ot.cssText="",pt=1;else for(it=it.split(","),mt=it.length;--mt>-1;)lt=it[mt],_transformProps[lt]&&(pt=1,lt=lt==="transformOrigin"?_transformOriginProp:_transformProp),_removeProperty(rt,lt);pt&&(_removeProperty(rt,_transformProp),ct&&(ct.svg&&rt.removeAttribute("transform"),_parseTransform(rt,1),ct.uncache=1,_removeIndependentTransforms(ot)))}},_specialProps={clearProps:function _e(et,nt,rt,ot,it){if(it.data!=="isFromStart"){var ct=et._pt=new PropTween(et._pt,nt,rt,0,0,_renderClearProps);return ct.u=ot,ct.pr=-10,ct.tween=it,et._props.push(rt),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function _e(et){return et==="matrix(1, 0, 0, 1, 0, 0)"||et==="none"||!et},_getComputedTransformMatrixAsArray=function _e(et){var nt=_getComputedProperty(et,_transformProp);return _isNullTransform(nt)?_identity2DMatrix:nt.substr(7).match(_numExp).map(_round)},_getMatrix=function _e(et,nt){var rt=et._gsap||_getCache(et),ot=et.style,it=_getComputedTransformMatrixAsArray(et),ct,lt,pt,mt;return rt.svg&&et.getAttribute("transform")?(pt=et.transform.baseVal.consolidate().matrix,it=[pt.a,pt.b,pt.c,pt.d,pt.e,pt.f],it.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:it):(it===_identity2DMatrix&&!et.offsetParent&&et!==_docElement&&!rt.svg&&(pt=ot.display,ot.display="block",ct=et.parentNode,(!ct||!et.offsetParent)&&(mt=1,lt=et.nextElementSibling,_docElement.appendChild(et)),it=_getComputedTransformMatrixAsArray(et),pt?ot.display=pt:_removeProperty(et,"display"),mt&&(lt?ct.insertBefore(et,lt):ct?ct.appendChild(et):_docElement.removeChild(et))),nt&&it.length>6?[it[0],it[1],it[4],it[5],it[12],it[13]]:it)},_applySVGOrigin=function _e(et,nt,rt,ot,it,ct){var lt=et._gsap,pt=it||_getMatrix(et,!0),mt=lt.xOrigin||0,Mt=lt.yOrigin||0,bt=lt.xOffset||0,At=lt.yOffset||0,wt=pt[0],Tt=pt[1],Rt=pt[2],Bt=pt[3],Vt=pt[4],$t=pt[5],Ft=nt.split(" "),Ht=parseFloat(Ft[0])||0,Qt=parseFloat(Ft[1])||0,_n,hn,Mn,kn;rt?pt!==_identity2DMatrix&&(hn=wt*Bt-Tt*Rt)&&(Mn=Ht*(Bt/hn)+Qt*(-Rt/hn)+(Rt*$t-Bt*Vt)/hn,kn=Ht*(-Tt/hn)+Qt*(wt/hn)-(wt*$t-Tt*Vt)/hn,Ht=Mn,Qt=kn):(_n=_getBBox(et),Ht=_n.x+(~Ft[0].indexOf("%")?Ht/100*_n.width:Ht),Qt=_n.y+(~(Ft[1]||Ft[0]).indexOf("%")?Qt/100*_n.height:Qt)),ot||ot!==!1&&lt.smooth?(Vt=Ht-mt,$t=Qt-Mt,lt.xOffset=bt+(Vt*wt+$t*Rt)-Vt,lt.yOffset=At+(Vt*Tt+$t*Bt)-$t):lt.xOffset=lt.yOffset=0,lt.xOrigin=Ht,lt.yOrigin=Qt,lt.smooth=!!ot,lt.origin=nt,lt.originIsAbsolute=!!rt,et.style[_transformOriginProp]="0px 0px",ct&&(_addNonTweeningPT(ct,lt,"xOrigin",mt,Ht),_addNonTweeningPT(ct,lt,"yOrigin",Mt,Qt),_addNonTweeningPT(ct,lt,"xOffset",bt,lt.xOffset),_addNonTweeningPT(ct,lt,"yOffset",At,lt.yOffset)),et.setAttribute("data-svg-origin",Ht+" "+Qt)},_parseTransform=function _e(et,nt){var rt=et._gsap||new GSCache(et);if("x"in rt&&!nt&&!rt.uncache)return rt;var ot=et.style,it=rt.scaleX<0,ct="px",lt="deg",pt=getComputedStyle(et),mt=_getComputedProperty(et,_transformOriginProp)||"0",Mt,bt,At,wt,Tt,Rt,Bt,Vt,$t,Ft,Ht,Qt,_n,hn,Mn,kn,Cn,yn,Ut,En,vn,wn,Ln,Kn,Rn,Tn,Un,$n,Vn,tr,Jn,wr;return Mt=bt=At=Rt=Bt=Vt=$t=Ft=Ht=0,wt=Tt=1,rt.svg=!!(et.getCTM&&_isSVG(et)),pt.translate&&((pt.translate!=="none"||pt.scale!=="none"||pt.rotate!=="none")&&(ot[_transformProp]=(pt.translate!=="none"?"translate3d("+(pt.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(pt.rotate!=="none"?"rotate("+pt.rotate+") ":"")+(pt.scale!=="none"?"scale("+pt.scale.split(" ").join(",")+") ":"")+(pt[_transformProp]!=="none"?pt[_transformProp]:"")),ot.scale=ot.rotate=ot.translate="none"),hn=_getMatrix(et,rt.svg),rt.svg&&(rt.uncache?(Rn=et.getBBox(),mt=rt.xOrigin-Rn.x+"px "+(rt.yOrigin-Rn.y)+"px",Kn=""):Kn=!nt&&et.getAttribute("data-svg-origin"),_applySVGOrigin(et,Kn||mt,!!Kn||rt.originIsAbsolute,rt.smooth!==!1,hn)),Qt=rt.xOrigin||0,_n=rt.yOrigin||0,hn!==_identity2DMatrix&&(yn=hn[0],Ut=hn[1],En=hn[2],vn=hn[3],Mt=wn=hn[4],bt=Ln=hn[5],hn.length===6?(wt=Math.sqrt(yn*yn+Ut*Ut),Tt=Math.sqrt(vn*vn+En*En),Rt=yn||Ut?_atan2(Ut,yn)*_RAD2DEG:0,$t=En||vn?_atan2(En,vn)*_RAD2DEG+Rt:0,$t&&(Tt*=Math.abs(Math.cos($t*_DEG2RAD))),rt.svg&&(Mt-=Qt-(Qt*yn+_n*En),bt-=_n-(Qt*Ut+_n*vn))):(wr=hn[6],tr=hn[7],Un=hn[8],$n=hn[9],Vn=hn[10],Jn=hn[11],Mt=hn[12],bt=hn[13],At=hn[14],Mn=_atan2(wr,Vn),Bt=Mn*_RAD2DEG,Mn&&(kn=Math.cos(-Mn),Cn=Math.sin(-Mn),Kn=wn*kn+Un*Cn,Rn=Ln*kn+$n*Cn,Tn=wr*kn+Vn*Cn,Un=wn*-Cn+Un*kn,$n=Ln*-Cn+$n*kn,Vn=wr*-Cn+Vn*kn,Jn=tr*-Cn+Jn*kn,wn=Kn,Ln=Rn,wr=Tn),Mn=_atan2(-En,Vn),Vt=Mn*_RAD2DEG,Mn&&(kn=Math.cos(-Mn),Cn=Math.sin(-Mn),Kn=yn*kn-Un*Cn,Rn=Ut*kn-$n*Cn,Tn=En*kn-Vn*Cn,Jn=vn*Cn+Jn*kn,yn=Kn,Ut=Rn,En=Tn),Mn=_atan2(Ut,yn),Rt=Mn*_RAD2DEG,Mn&&(kn=Math.cos(Mn),Cn=Math.sin(Mn),Kn=yn*kn+Ut*Cn,Rn=wn*kn+Ln*Cn,Ut=Ut*kn-yn*Cn,Ln=Ln*kn-wn*Cn,yn=Kn,wn=Rn),Bt&&Math.abs(Bt)+Math.abs(Rt)>359.9&&(Bt=Rt=0,Vt=180-Vt),wt=_round(Math.sqrt(yn*yn+Ut*Ut+En*En)),Tt=_round(Math.sqrt(Ln*Ln+wr*wr)),Mn=_atan2(wn,Ln),$t=Math.abs(Mn)>2e-4?Mn*_RAD2DEG:0,Ht=Jn?1/(Jn<0?-Jn:Jn):0),rt.svg&&(Kn=et.getAttribute("transform"),rt.forceCSS=et.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(et,_transformProp)),Kn&&et.setAttribute("transform",Kn))),Math.abs($t)>90&&Math.abs($t)<270&&(it?(wt*=-1,$t+=Rt<=0?180:-180,Rt+=Rt<=0?180:-180):(Tt*=-1,$t+=$t<=0?180:-180)),nt=nt||rt.uncache,rt.x=Mt-((rt.xPercent=Mt&&(!nt&&rt.xPercent||(Math.round(et.offsetWidth/2)===Math.round(-Mt)?-50:0)))?et.offsetWidth*rt.xPercent/100:0)+ct,rt.y=bt-((rt.yPercent=bt&&(!nt&&rt.yPercent||(Math.round(et.offsetHeight/2)===Math.round(-bt)?-50:0)))?et.offsetHeight*rt.yPercent/100:0)+ct,rt.z=At+ct,rt.scaleX=_round(wt),rt.scaleY=_round(Tt),rt.rotation=_round(Rt)+lt,rt.rotationX=_round(Bt)+lt,rt.rotationY=_round(Vt)+lt,rt.skewX=$t+lt,rt.skewY=Ft+lt,rt.transformPerspective=Ht+ct,(rt.zOrigin=parseFloat(mt.split(" ")[2])||!nt&&rt.zOrigin||0)&&(ot[_transformOriginProp]=_firstTwoOnly(mt)),rt.xOffset=rt.yOffset=0,rt.force3D=_config.force3D,rt.renderTransform=rt.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,rt.uncache=0,rt},_firstTwoOnly=function _e(et){return(et=et.split(" "))[0]+" "+et[1]},_addPxTranslate=function _e(et,nt,rt){var ot=getUnit(nt);return _round(parseFloat(nt)+parseFloat(_convertToUnit(et,"x",rt+"px",ot)))+ot},_renderNon3DTransforms=function _e(et,nt){nt.z="0px",nt.rotationY=nt.rotationX="0deg",nt.force3D=0,_renderCSSTransforms(et,nt)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function _e(et,nt){var rt=nt||this,ot=rt.xPercent,it=rt.yPercent,ct=rt.x,lt=rt.y,pt=rt.z,mt=rt.rotation,Mt=rt.rotationY,bt=rt.rotationX,At=rt.skewX,wt=rt.skewY,Tt=rt.scaleX,Rt=rt.scaleY,Bt=rt.transformPerspective,Vt=rt.force3D,$t=rt.target,Ft=rt.zOrigin,Ht="",Qt=Vt==="auto"&&et&&et!==1||Vt===!0;if(Ft&&(bt!==_zeroDeg||Mt!==_zeroDeg)){var _n=parseFloat(Mt)*_DEG2RAD,hn=Math.sin(_n),Mn=Math.cos(_n),kn;_n=parseFloat(bt)*_DEG2RAD,kn=Math.cos(_n),ct=_addPxTranslate($t,ct,hn*kn*-Ft),lt=_addPxTranslate($t,lt,-Math.sin(_n)*-Ft),pt=_addPxTranslate($t,pt,Mn*kn*-Ft+Ft)}Bt!==_zeroPx&&(Ht+="perspective("+Bt+_endParenthesis),(ot||it)&&(Ht+="translate("+ot+"%, "+it+"%) "),(Qt||ct!==_zeroPx||lt!==_zeroPx||pt!==_zeroPx)&&(Ht+=pt!==_zeroPx||Qt?"translate3d("+ct+", "+lt+", "+pt+") ":"translate("+ct+", "+lt+_endParenthesis),mt!==_zeroDeg&&(Ht+="rotate("+mt+_endParenthesis),Mt!==_zeroDeg&&(Ht+="rotateY("+Mt+_endParenthesis),bt!==_zeroDeg&&(Ht+="rotateX("+bt+_endParenthesis),(At!==_zeroDeg||wt!==_zeroDeg)&&(Ht+="skew("+At+", "+wt+_endParenthesis),(Tt!==1||Rt!==1)&&(Ht+="scale("+Tt+", "+Rt+_endParenthesis),$t.style[_transformProp]=Ht||"translate(0, 0)"},_renderSVGTransforms=function _e(et,nt){var rt=nt||this,ot=rt.xPercent,it=rt.yPercent,ct=rt.x,lt=rt.y,pt=rt.rotation,mt=rt.skewX,Mt=rt.skewY,bt=rt.scaleX,At=rt.scaleY,wt=rt.target,Tt=rt.xOrigin,Rt=rt.yOrigin,Bt=rt.xOffset,Vt=rt.yOffset,$t=rt.forceCSS,Ft=parseFloat(ct),Ht=parseFloat(lt),Qt,_n,hn,Mn,kn;pt=parseFloat(pt),mt=parseFloat(mt),Mt=parseFloat(Mt),Mt&&(Mt=parseFloat(Mt),mt+=Mt,pt+=Mt),pt||mt?(pt*=_DEG2RAD,mt*=_DEG2RAD,Qt=Math.cos(pt)*bt,_n=Math.sin(pt)*bt,hn=Math.sin(pt-mt)*-At,Mn=Math.cos(pt-mt)*At,mt&&(Mt*=_DEG2RAD,kn=Math.tan(mt-Mt),kn=Math.sqrt(1+kn*kn),hn*=kn,Mn*=kn,Mt&&(kn=Math.tan(Mt),kn=Math.sqrt(1+kn*kn),Qt*=kn,_n*=kn)),Qt=_round(Qt),_n=_round(_n),hn=_round(hn),Mn=_round(Mn)):(Qt=bt,Mn=At,_n=hn=0),(Ft&&!~(ct+"").indexOf("px")||Ht&&!~(lt+"").indexOf("px"))&&(Ft=_convertToUnit(wt,"x",ct,"px"),Ht=_convertToUnit(wt,"y",lt,"px")),(Tt||Rt||Bt||Vt)&&(Ft=_round(Ft+Tt-(Tt*Qt+Rt*hn)+Bt),Ht=_round(Ht+Rt-(Tt*_n+Rt*Mn)+Vt)),(ot||it)&&(kn=wt.getBBox(),Ft=_round(Ft+ot/100*kn.width),Ht=_round(Ht+it/100*kn.height)),kn="matrix("+Qt+","+_n+","+hn+","+Mn+","+Ft+","+Ht+")",wt.setAttribute("transform",kn),$t&&(wt.style[_transformProp]=kn)},_addRotationalPropTween=function _e(et,nt,rt,ot,it){var ct=360,lt=_isString(it),pt=parseFloat(it)*(lt&&~it.indexOf("rad")?_RAD2DEG:1),mt=pt-ot,Mt=ot+mt+"deg",bt,At;return lt&&(bt=it.split("_")[1],bt==="short"&&(mt%=ct,mt!==mt%(ct/2)&&(mt+=mt<0?ct:-ct)),bt==="cw"&&mt<0?mt=(mt+ct*_bigNum)%ct-~~(mt/ct)*ct:bt==="ccw"&&mt>0&&(mt=(mt-ct*_bigNum)%ct-~~(mt/ct)*ct)),et._pt=At=new PropTween(et._pt,nt,rt,ot,mt,_renderPropWithEnd),At.e=Mt,At.u="deg",et._props.push(rt),At},_assign=function _e(et,nt){for(var rt in nt)et[rt]=nt[rt];return et},_addRawTransformPTs=function _e(et,nt,rt){var ot=_assign({},rt._gsap),it="perspective,force3D,transformOrigin,svgOrigin",ct=rt.style,lt,pt,mt,Mt,bt,At,wt,Tt;ot.svg?(mt=rt.getAttribute("transform"),rt.setAttribute("transform",""),ct[_transformProp]=nt,lt=_parseTransform(rt,1),_removeProperty(rt,_transformProp),rt.setAttribute("transform",mt)):(mt=getComputedStyle(rt)[_transformProp],ct[_transformProp]=nt,lt=_parseTransform(rt,1),ct[_transformProp]=mt);for(pt in _transformProps)mt=ot[pt],Mt=lt[pt],mt!==Mt&&it.indexOf(pt)<0&&(wt=getUnit(mt),Tt=getUnit(Mt),bt=wt!==Tt?_convertToUnit(rt,pt,mt,Tt):parseFloat(mt),At=parseFloat(Mt),et._pt=new PropTween(et._pt,lt,pt,bt,At-bt,_renderCSSProp),et._pt.u=Tt||0,et._props.push(pt));_assign(lt,ot)};_forEachName("padding,margin,Width,Radius",function(_e,et){var nt="Top",rt="Right",ot="Bottom",it="Left",ct=(et<3?[nt,rt,ot,it]:[nt+it,nt+rt,ot+rt,ot+it]).map(function(lt){return et<2?_e+lt:"border"+lt+_e});_specialProps[et>1?"border"+_e:_e]=function(lt,pt,mt,Mt,bt){var At,wt;if(arguments.length<4)return At=ct.map(function(Tt){return _get(lt,Tt,mt)}),wt=At.join(" "),wt.split(At[0]).length===5?At[0]:wt;At=(Mt+"").split(" "),wt={},ct.forEach(function(Tt,Rt){return wt[Tt]=At[Rt]=At[Rt]||At[(Rt-1)/2|0]}),lt.init(pt,wt,bt)}});var CSSPlugin={name:"css",register:_initCore,targetTest:function _e(et){return et.style&&et.nodeType},init:function _e(et,nt,rt,ot,it){var ct=this._props,lt=et.style,pt=rt.vars.startAt,mt,Mt,bt,At,wt,Tt,Rt,Bt,Vt,$t,Ft,Ht,Qt,_n,hn,Mn;_pluginInitted||_initCore(),this.styles=this.styles||_getStyleSaver(et),Mn=this.styles.props,this.tween=rt;for(Rt in nt)if(Rt!=="autoRound"&&(Mt=nt[Rt],!(_plugins[Rt]&&_checkPlugin(Rt,nt,rt,ot,et,it)))){if(wt=typeof Mt,Tt=_specialProps[Rt],wt==="function"&&(Mt=Mt.call(rt,ot,et,it),wt=typeof Mt),wt==="string"&&~Mt.indexOf("random(")&&(Mt=_replaceRandom(Mt)),Tt)Tt(this,et,Rt,Mt,rt)&&(hn=1);else if(Rt.substr(0,2)==="--")mt=(getComputedStyle(et).getPropertyValue(Rt)+"").trim(),Mt+="",_colorExp.lastIndex=0,_colorExp.test(mt)||(Bt=getUnit(mt),Vt=getUnit(Mt)),Vt?Bt!==Vt&&(mt=_convertToUnit(et,Rt,mt,Vt)+Vt):Bt&&(Mt+=Bt),this.add(lt,"setProperty",mt,Mt,ot,it,0,0,Rt),ct.push(Rt),Mn.push(Rt,0,lt[Rt]);else if(wt!=="undefined"){if(pt&&Rt in pt?(mt=typeof pt[Rt]=="function"?pt[Rt].call(rt,ot,et,it):pt[Rt],_isString(mt)&&~mt.indexOf("random(")&&(mt=_replaceRandom(mt)),getUnit(mt+"")||mt==="auto"||(mt+=_config.units[Rt]||getUnit(_get(et,Rt))||""),(mt+"").charAt(1)==="="&&(mt=_get(et,Rt))):mt=_get(et,Rt),At=parseFloat(mt),$t=wt==="string"&&Mt.charAt(1)==="="&&Mt.substr(0,2),$t&&(Mt=Mt.substr(2)),bt=parseFloat(Mt),Rt in _propertyAliases&&(Rt==="autoAlpha"&&(At===1&&_get(et,"visibility")==="hidden"&&bt&&(At=0),Mn.push("visibility",0,lt.visibility),_addNonTweeningPT(this,lt,"visibility",At?"inherit":"hidden",bt?"inherit":"hidden",!bt)),Rt!=="scale"&&Rt!=="transform"&&(Rt=_propertyAliases[Rt],~Rt.indexOf(",")&&(Rt=Rt.split(",")[0]))),Ft=Rt in _transformProps,Ft){if(this.styles.save(Rt),Ht||(Qt=et._gsap,Qt.renderTransform&&!nt.parseTransform||_parseTransform(et,nt.parseTransform),_n=nt.smoothOrigin!==!1&&Qt.smooth,Ht=this._pt=new PropTween(this._pt,lt,_transformProp,0,1,Qt.renderTransform,Qt,0,-1),Ht.dep=1),Rt==="scale")this._pt=new PropTween(this._pt,Qt,"scaleY",Qt.scaleY,($t?_parseRelative(Qt.scaleY,$t+bt):bt)-Qt.scaleY||0,_renderCSSProp),this._pt.u=0,ct.push("scaleY",Rt),Rt+="X";else if(Rt==="transformOrigin"){Mn.push(_transformOriginProp,0,lt[_transformOriginProp]),Mt=_convertKeywordsToPercentages(Mt),Qt.svg?_applySVGOrigin(et,Mt,0,_n,0,this):(Vt=parseFloat(Mt.split(" ")[2])||0,Vt!==Qt.zOrigin&&_addNonTweeningPT(this,Qt,"zOrigin",Qt.zOrigin,Vt),_addNonTweeningPT(this,lt,Rt,_firstTwoOnly(mt),_firstTwoOnly(Mt)));continue}else if(Rt==="svgOrigin"){_applySVGOrigin(et,Mt,1,_n,0,this);continue}else if(Rt in _rotationalProperties){_addRotationalPropTween(this,Qt,Rt,At,$t?_parseRelative(At,$t+Mt):Mt);continue}else if(Rt==="smoothOrigin"){_addNonTweeningPT(this,Qt,"smooth",Qt.smooth,Mt);continue}else if(Rt==="force3D"){Qt[Rt]=Mt;continue}else if(Rt==="transform"){_addRawTransformPTs(this,Mt,et);continue}}else Rt in lt||(Rt=_checkPropPrefix(Rt)||Rt);if(Ft||(bt||bt===0)&&(At||At===0)&&!_complexExp.test(Mt)&&Rt in lt)Bt=(mt+"").substr((At+"").length),bt||(bt=0),Vt=getUnit(Mt)||(Rt in _config.units?_config.units[Rt]:Bt),Bt!==Vt&&(At=_convertToUnit(et,Rt,mt,Vt)),this._pt=new PropTween(this._pt,Ft?Qt:lt,Rt,At,($t?_parseRelative(At,$t+bt):bt)-At,!Ft&&(Vt==="px"||Rt==="zIndex")&&nt.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=Vt||0,Bt!==Vt&&Vt!=="%"&&(this._pt.b=mt,this._pt.r=_renderCSSPropWithBeginning);else if(Rt in lt)_tweenComplexCSSString.call(this,et,Rt,mt,$t?$t+Mt:Mt);else if(Rt in et)this.add(et,Rt,mt||et[Rt],$t?$t+Mt:Mt,ot,it);else if(Rt!=="parseTransform"){_missingPlugin(Rt,Mt);continue}Ft||(Rt in lt?Mn.push(Rt,0,lt[Rt]):Mn.push(Rt,1,mt||et[Rt])),ct.push(Rt)}}hn&&_sortPropTweensByPriority(this)},render:function _e(et,nt){if(nt.tween._time||!_reverting())for(var rt=nt._pt;rt;)rt.r(et,rt.d),rt=rt._next;else nt.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function _e(et,nt,rt){var ot=_propertyAliases[nt];return ot&&ot.indexOf(",")<0&&(nt=ot),nt in _transformProps&&nt!==_transformOriginProp&&(et._gsap.x||_get(et,"x"))?rt&&_recentSetterPlugin===rt?nt==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=rt||{})&&(nt==="scale"?_setterScaleWithRender:_setterTransformWithRender):et.style&&!_isUndefined(et.style[nt])?_setterCSSStyle:~nt.indexOf("-")?_setterCSSProp:_getSetter(et,nt)},core:{_removeProperty,_getMatrix}};gsap.utils.checkPrefix=_checkPropPrefix;gsap.core.getStyleSaver=_getStyleSaver;(function(_e,et,nt,rt){var ot=_forEachName(_e+","+et+","+nt,function(it){_transformProps[it]=1});_forEachName(et,function(it){_config.units[it]="deg",_rotationalProperties[it]=1}),_propertyAliases[ot[13]]=_e+","+et,_forEachName(rt,function(it){var ct=it.split(":");_propertyAliases[ct[1]]=ot[ct[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(_e){_config.units[_e]="px"});gsap.registerPlugin(CSSPlugin);var gsapWithCSS=gsap.registerPlugin(CSSPlugin)||gsap;gsapWithCSS.core.Tween;const avatar$5="_avatar_c0weq_17",content="_content_c0weq_22",styles$i={"gift-notify":"_gift-notify_c0weq_1",avatar:avatar$5,content},GiftNotifyI18n=({gift:_e,height:et})=>{const nt=reactExports.useRef(),{defaultAvatar:rt}=useConfig(),{t:ot}=useTranslation();useLifecycles(async()=>{const Mt=async()=>{await gsapWithCSS.fromTo(nt.current,{x:"100vw"},{x:"-100vw",ease:"none",duration:giftNotifyDuration})};nt.current.style.transform="translateX(calc(100vw))",nt.current.style.bottom=`${Math.floor(70*2+Math.random()*(et-70*2+1))/37.5}rem`,nt.current.style.visibility="visible",await Mt()},()=>{});const{title:it,count:ct,sender:lt={}}=_e,{avatar:pt,nick_name:mt}=lt;return jsxRuntimeExports.jsxs("div",{className:styles$i["gift-notify"],ref:nt,children:[jsxRuntimeExports.jsx("img",{className:styles$i.avatar,src:pt||rt,alt:"",referrerPolicy:"no-referrer",onError:({currentTarget:Mt})=>{Mt.onerror=null,Mt.src=rt}}),jsxRuntimeExports.jsxs("div",{className:styles$i.content,children:[jsxRuntimeExports.jsx("p",{children:mt}),jsxRuntimeExports.jsx("p",{children:ot("")}),jsxRuntimeExports.jsxs("p",{children:[it,"x",ct]})]})]})},chatRoom="_chatRoom_1y84y_1",chatList="_chatList_1y84y_6",chatItem="_chatItem_1y84y_11",avatar$4="_avatar_1y84y_15",msg="_msg_1y84y_33",gifts="_gifts_1y84y_52",heading$2="_heading_1y84y_55",giftList="_giftList_1y84y_61",giftItem="_giftItem_1y84y_69",selected$1="_selected_1y84y_78",coin="_coin_1y84y_82",coinInfo="_coinInfo_1y84y_97",actions$2="_actions_1y84y_108",bottom="_bottom_1y84y_112",bottomWrapper="_bottomWrapper_1y84y_123",divider="_divider_1y84y_126",menuItem="_menuItem_1y84y_129",active="_active_1y84y_141",input="_input_1y84y_150",messageInput="_messageInput_1y84y_155",textareaWrapper="_textareaWrapper_1y84y_166",sendBtn="_sendBtn_1y84y_183",attachment="_attachment_1y84y_197",gift="_gift_1y84y_52",styles$h={chatRoom,chatList,chatItem,avatar:avatar$4,msg,gifts,heading:heading$2,giftList,giftItem,selected:selected$1,coin,coinInfo,actions:actions$2,bottom,bottomWrapper,divider,menuItem,active,input,messageInput,textareaWrapper,sendBtn,attachment,gift},modalRoot="_modalRoot_1xpzs_1",slideModalCard="_slideModalCard_1xpzs_11",cardHeader="_cardHeader_1xpzs_26",slideIndicator="_slideIndicator_1xpzs_30",cardBody="_cardBody_1xpzs_40",popUpModalCard="_popUpModalCard_1xpzs_43",closeIcon="_closeIcon_1xpzs_50",backdrop="_backdrop_1xpzs_63",styles$g={modalRoot,slideModalCard,cardHeader,slideIndicator,cardBody,popUpModalCard,closeIcon,backdrop},SlideOutModal=({children:_e,onClose:et,open:nt,cardHeader:rt,onUnmount:ot,duration:it=200,fullHeight:ct})=>{const lt=reactExports.useRef(null),pt=reactExports.useRef(null),mt=reactExports.useRef(null),Mt=reactExports.useRef(null),[bt,At]=reactExports.useState(!1),[wt,Tt]=reactExports.useState(0),[Rt,Bt]=reactExports.useState(0),[Vt,$t]=reactExports.useState(0),[Ft,Ht]=reactExports.useState("unset"),Qt=reactExports.useCallback(()=>{typeof et=="function"&&et(),setTimeout(()=>{typeof ot=="function"&&ot()},it)},[et,ot,it]);return reactExports.useEffect(()=>{const _n=kn=>{var Cn,yn,Ut,En,vn,wn;if((Cn=mt.current)!=null&&Cn.contains(kn.target)){if(+((yn=mt.current)==null?void 0:yn.scrollHeight)-+((Ut=mt.current)==null?void 0:Ut.clientHeight)>0&&+((En=mt.current)==null?void 0:En.scrollTop)!=0&&!((vn=pt.current)!=null&&vn.contains(kn.target)))return;At(!0),Bt(+kn.touches[0].clientY),$t(+((wn=mt.current)==null?void 0:wn.scrollTop))}},hn=kn=>{bt&&(Vt===0&&+Rt-+kn.touches[0].clientY>0&&!wt&&At(!1),Tt(+Rt-+kn.touches[0].clientY))},Mn=kn=>{var Cn,yn;bt&&(At(!1),+wt&&((Cn=lt.current)!=null&&Cn.contains(kn.target)&&+wt<0&&Math.abs(+wt)/((yn=lt.current)==null?void 0:yn.offsetHeight)>.5&&Qt(),Tt(0)))};return document.addEventListener("touchstart",_n,!1),document.addEventListener("touchmove",hn,!1),document.addEventListener("touchend",Mn,!1),()=>{document.removeEventListener("touchstart",_n,!1),document.removeEventListener("touchmove",hn,!1),document.removeEventListener("touchend",Mn,!1)}},[bt,Rt,wt,Qt,Vt]),reactExports.useEffect(()=>{var _n,hn;return nt?(_n=document.querySelector("body"))==null||_n.classList.add("overscroll-contain"):(hn=document.querySelector("body"))==null||hn.classList.remove("overscroll-contain"),()=>{var Mn;return(Mn=document.querySelector("body"))==null?void 0:Mn.classList.remove("overscroll-contain")}},[nt]),reactExports.useEffect(()=>{var _n;pt.current&&Ht(`calc(100vh - 16px - ${(_n=pt.current)==null?void 0:_n.offsetHeight}px)`)},[rt,nt]),ReactDOM.createPortal(jsxRuntimeExports.jsx(Transition,{nodeRef:Mt,in:nt,timeout:it,unmountOnExit:!0,appear:!0,children:_n=>{var hn,Mn,kn;return jsxRuntimeExports.jsxs("div",{ref:Mt,className:styles$g.modalRoot,children:[jsxRuntimeExports.jsx("div",{ref:lt,className:styles$g.slideModalCard,style:{bottom:_n===ENTERED?bt?wt>0?0:wt:0:(_n===ENTERING||_n===EXITING||_n===EXITED)&&(hn=lt.current)!=null&&hn.offsetHeight?-((Mn=lt.current)==null?void 0:Mn.offsetHeight):"-100vh",transition:bt&&_n!==EXITING?"none":`bottom ${it}ms ease-in-out`},children:jsxRuntimeExports.jsx("div",{className:styles$g.cardBody,style:{[ct?"height":"maxHeight"]:Ft},ref:mt,children:_e})}),jsxRuntimeExports.jsx("div",{style:{opacity:_n===ENTERED?bt&&wt?wt>0?.5:.5-Math.abs(+wt)/(((kn=lt.current)==null?void 0:kn.offsetHeight)??0)*.5:.5:0,transition:bt&&_n!==EXITING?"none":`opacity ${it}ms ease-in-out`},className:styles$g.backdrop,onClick:Qt})]})}}),document.body)},CoinIcon=_e=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{fill:"#F9C23C",d:"M12 22.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5"}),jsxRuntimeExports.jsx("path",{fill:"#D3883E",d:"M20.25 12a8.25 8.25 0 1 1-16.5 0 8.25 8.25 0 0 1 16.5 0",opacity:"0.53"}),jsxRuntimeExports.jsx("path",{fill:"#F9C23C",d:"M6 12c4.179 0 6-1.758 6-6 0 4.242 1.809 6 6 6-4.191 0-6 1.809-6 6 0-4.191-1.821-6-6-6"})]}),SendChatIcon=_e=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M20.235 5.686c.432-1.195-.726-2.353-1.921-1.92L3.709 9.048c-1.199.434-1.344 2.07-.241 2.709l4.662 2.699 4.163-4.163a1 1 0 0 1 1.414 1.414L9.544 15.87l2.7 4.662c.638 1.103 2.274.957 2.708-.241z"})}),EmoticonIcon=_e=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fill:"#CACCCC",d:"M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0m-6.5-1.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-5 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m.389 4.015a4 4 0 0 0 6.222 0 .5.5 0 0 1 .778.629 5 5 0 0 1-7.778 0 .5.5 0 1 1 .778-.63"})}),GiftIcon=_e=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{fill:"#FCD53F",d:"M18.666 22.5H5.334a1.57 1.57 0 0 1-1.584-1.564V11.25l8.158-2.295 8.342 2.295v9.686c0 .86-.705 1.564-1.584 1.564"}),jsxRuntimeExports.jsx("path",{fill:"#F8312F",d:"M20.25 4.385c0-2.538-3.034-3.83-4.85-2.072L12 5.61 8.6 2.313C6.784.548 3.75 1.847 3.75 4.385 3.75 5.28 4.468 6 5.356 6L12 7.628 18.643 6a1.62 1.62 0 0 0 1.607-1.615"}),jsxRuntimeExports.jsx("path",{fill:"#FFB02E",d:"M20.747 6H3.253C2.7 6 2.25 6.45 2.25 7.007v3.236c0 .557.45 1.007 1.003 1.007h17.494c.553 0 1.003-.45 1.003-1.007V7.006C21.75 6.45 21.3 6 20.747 6"}),jsxRuntimeExports.jsx("path",{fill:"#D63541",d:"M12.004 2.25c-1.245 0-2.254 1.027-2.254 2.295V22.5h4.5V4.545c.008-1.267-1-2.295-2.246-2.295"})]}),login="_login_krh11_1",wrapper$3="_wrapper_krh11_6",heading$1="_heading_krh11_11",form="_form_krh11_26",forgotPassword="_forgotPassword_krh11_31",redirect="_redirect_krh11_35",styles$f={login,wrapper:wrapper$3,heading:heading$1,form,forgotPassword,redirect},schema=create$3().shape({phoneNumber:create$6().required("Tidak boleh kosong!"),password:create$6()}),Login=({onClose:_e})=>{var At,wt,Tt,Rt;const[et,nt]=reactExports.useState(!1),rt=useDispatch(),{handleSubmit:ot,register:it,setValue:ct,watch:lt,formState:{errors:pt}}=useForm({mode:"onChange",resolver:o(schema)}),[mt,Mt]=lt(["password","phoneNumber"]),bt=()=>{nt(!0),authService.login({account:convertPhoneNumber(Mt),pwd:mt}).then(({data:Bt,status:Vt,msg:$t})=>{if(Vt===1)Toast.fail({message:$t});else{const{id:Ft,token_web:Ht,txim_sign:Qt}=Bt;_e(),setTimeout(()=>{rt(authActions.login(Ft,Ht,Qt,Bt))},100)}nt(!1)}).catch(Bt=>{console.log(Bt)})};return jsxRuntimeExports.jsx("div",{className:styles$f.login,children:jsxRuntimeExports.jsxs("div",{className:styles$f.wrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.heading,children:[jsxRuntimeExports.jsx("h1",{children:"Jelajahi Lebih Seru!"}),jsxRuntimeExports.jsx("p",{children:"Masuk untuk dapat konten yang sesuai pilihanmu dan akses fitur interaktif"})]}),jsxRuntimeExports.jsx("form",{onSubmit:ot(bt),children:jsxRuntimeExports.jsxs("div",{className:styles$f.form,children:[jsxRuntimeExports.jsx(InputField$1,{placeholder:"XXXXXXXXXX",error:!!((At=pt.phoneNumber)!=null&&At.message),helperText:(wt=pt.phoneNumber)==null?void 0:wt.message,phoneInput:!0,value:Mt,onChange:Bt=>ct("phoneNumber",Bt,{shouldValidate:!0})}),jsxRuntimeExports.jsx(InputField$1,{placeholder:"Password",error:!!((Tt=pt.password)!=null&&Tt.message),helperText:(Rt=pt.password)==null?void 0:Rt.message,onChange:Bt=>ct("password",Bt.target.value,{shouldValidate:!0}),value:mt,password:!0}),jsxRuntimeExports.jsx("div",{className:clsx$2(styles$f.redirect,styles$f.forgotPassword),children:jsxRuntimeExports.jsx(Link,{to:"/forgot-password",children:jsxRuntimeExports.jsx("span",{children:"Lupa Password?"})})}),jsxRuntimeExports.jsx(MainButton,{loading:et,children:"Masuk"}),jsxRuntimeExports.jsx("div",{className:styles$f.redirect,children:jsxRuntimeExports.jsxs("p",{children:["Belum punya akun? ",jsxRuntimeExports.jsx(Link,{to:"/register",children:jsxRuntimeExports.jsx("span",{children:"Daftar di Sini"})})]})})]})})]})})};let mounted=!1;const ChatRoomI18n=({roomId:_e,anchor:et,historyBase:nt,blacklist:rt,player:ot,detail:it,isRobot:ct})=>{const[lt,pt]=reactExports.useState(!1),[mt,Mt]=reactExports.useState(""),{user:bt}=useSelector(Jn=>Jn.auth),{scroll:At,sendMsg:wt,historyMsgs:Tt,msgs:Rt,giftNotify:Bt,setPlayer:Vt}=useChatroom(et,_e,nt,rt,it);reactExports.useEffect(()=>{Vt(ot)},[ot]);const{getGiftList:$t,isGiftAnimeOn:Ft,giftList:Ht}=useGift(),{id:Qt}=et||{},{t:_n}=useTranslation(),[hn,Mn]=useToggle(!1),[kn,Cn]=useToggle(!1),[yn,Ut]=reactExports.useState({}),{id:En,price:vn}=yn,[wn,Ln]=reactExports.useState(1),Kn=vn?vn*wn:0,Rn=usePrevious(Bt);useLifecycles(async()=>{mounted=!0,await $t()},()=>{mounted=!1});const Tn=async Jn=>{Jn.preventDefault(),bt||pt(!0);try{await wt(mt,"RoomMessage"),Mt(""),await setItem(`${bt==null?void 0:bt.id}${dayjs().format("YYYY-MM-DD")}danmu`,"1")}catch(wr){console.error("submit: ",wr)}finally{}};reactExports.useEffect(()=>{if(Ft&&!_$2.isEqual(Bt,Rn)&&Bt.id>0&&At.current){const Jn=document.createElement("div");At.current.insertBefore(Jn,At.current.lastElementChild),createRoot(Jn).render(jsxRuntimeExports.jsx(GiftNotifyI18n,{gift:Bt,height:_$2.get(At,"current.clientHeight")})),setTimeout(()=>{Jn&&mounted&&Jn.remove()},giftNotifyDuration*1e3)}},[Bt,Ft,Rn,At]);const Un=Ht.length>0,$n=()=>{Mn()},Vn=()=>{Ut({}),Ln(1),Mn(!1)},tr=async()=>{if(kn)return;if(+Kn>+(bt==null?void 0:bt.gold)){Toast.fail(_n(""));return}const{liveid:Jn}=it;try{const wr=wn,{status:jr,data:Zt}=await sendGiftApi({anchorid:Qt,liveid:Jn,count:wr,giftid:En});if(jr===0){const{gold:hr}=Zt;hr>0&&userService.update({gold:hr})}Cn(!0)}catch{}finally{Cn(!1),Vn()}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$h.chatRoom,children:[jsxRuntimeExports.jsx("div",{className:styles$h.chatList,style:{height:`calc(100% - ${toRem(64)})`},ref:At,children:[...Tt,...Rt].map((Jn,wr)=>jsxRuntimeExports.jsx(Message,{msg:Jn,anchorid:Qt},wr))}),jsxRuntimeExports.jsx("form",{onSubmit:Tn,children:jsxRuntimeExports.jsx("div",{className:styles$h.bottom,children:jsxRuntimeExports.jsxs("div",{className:styles$h.input,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.messageInput,children:[jsxRuntimeExports.jsx("button",{children:jsxRuntimeExports.jsx(EmoticonIcon,{})}),jsxRuntimeExports.jsx("input",{disabled:ct&&!(bt.is_operate||bt.is_anchor_admin),value:mt,onChange:Jn=>{const wr=Jn.target.value;Mt(wr)},placeholder:"Tulis Pesan",type:"text",className:styles$h.textareaWrapper}),jsxRuntimeExports.jsx("div",{className:styles$h.sendBtn,children:jsxRuntimeExports.jsx("button",{disabled:!mt,children:jsxRuntimeExports.jsx(SendChatIcon,{})})})]}),Un?jsxRuntimeExports.jsx("div",{className:styles$h.gift,children:jsxRuntimeExports.jsx("button",{onClick:$n,children:jsxRuntimeExports.jsx(GiftIcon,{})})}):null]})})})]}),jsxRuntimeExports.jsx(SlideOutModal,{open:hn,onClose:()=>Mn(!1),duration:200,children:jsxRuntimeExports.jsxs("div",{className:styles$h.gifts,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.heading,children:[jsxRuntimeExports.jsx("button",{onClick:()=>Mn(!1),children:jsxRuntimeExports.jsx(CloseIcon,{})}),jsxRuntimeExports.jsx("h3",{children:"Beri Hadiah"})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.coin,children:[jsxRuntimeExports.jsx("span",{children:"Sisa poin akan menjadi"}),jsxRuntimeExports.jsxs("div",{className:styles$h.coinInfo,children:[jsxRuntimeExports.jsx(CoinIcon,{}),jsxRuntimeExports.jsx("h5",{children:bt==null?void 0:bt.gold})]})]}),jsxRuntimeExports.jsx("div",{className:styles$h.giftList,children:Ht.map(Jn=>{const{id:wr,title:jr,price:Zt}=Jn;return jsxRuntimeExports.jsxs("div",{className:clsx$2(styles$h.giftItem,wr===En&&styles$h.selected),onClick:()=>{En!==wr&&(Ut(Jn),Ln(1))},children:[jsxRuntimeExports.jsx(SvgaI18nCP,{item:Jn}),jsxRuntimeExports.jsx("p",{className:clsx$2(styles$h.title,"text-overflow"),children:jr}),jsxRuntimeExports.jsx("p",{className:styles$h.price,children:_n("{{amount}}",{amount:Zt})})]},wr)})}),jsxRuntimeExports.jsxs("div",{className:styles$h.actions,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.coin,children:[jsxRuntimeExports.jsx("span",{children:"Sisa poin akan menjadi"}),jsxRuntimeExports.jsxs("div",{className:styles$h.coinInfo,children:[jsxRuntimeExports.jsx(CoinIcon,{}),jsxRuntimeExports.jsx("h5",{children:(bt==null?void 0:bt.gold)-Kn})]})]}),jsxRuntimeExports.jsx(MainButton,{disabled:!En,onClick:tr,children:"Kirim Hadiah"})]})]})}),jsxRuntimeExports.jsx(Modal,{in:lt,onClose:()=>pt(!1),children:jsxRuntimeExports.jsxs(ModalWrapper,{children:[jsxRuntimeExports.jsx(ModalHead,{onClose:()=>pt(!1)}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Login,{onClose:()=>pt(!1)})})]})})]})},Message=({msg:_e})=>{const{Data:et}=_e,{chat:nt}=et;if(nt&&nt.sender){const{sender:{nick_name:rt,avatar:ot},message:it}=nt,ct=index_min.parseRoomMessage(it);return ct?jsxRuntimeExports.jsxs("div",{className:styles$h.chatItem,children:[jsxRuntimeExports.jsx("div",{className:styles$h.avatar,children:jsxRuntimeExports.jsx("img",{src:ot,referrerPolicy:"no-referrer",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$h.msg,children:[jsxRuntimeExports.jsx("h5",{children:rt}),jsxRuntimeExports.jsx("p",{dangerouslySetInnerHTML:{__html:ct}})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},predictScore="_predictScore_c204k_1",score$2="_score_c204k_1",club$1="_club_c204k_11",clubLogo$1="_clubLogo_c204k_18",scoreCount$1="_scoreCount_c204k_27",predict="_predict_c204k_1",predictOptions="_predictOptions_c204k_50",predictItem="_predictItem_c204k_55",confirmPredictedTeam="_confirmPredictedTeam_c204k_68",actions$1="_actions_c204k_117",styles$e={predictScore,score:score$2,club:club$1,clubLogo:clubLogo$1,scoreCount:scoreCount$1,predict,predictOptions,predictItem,confirmPredictedTeam,actions:actions$1},PredictScore=({detail:_e})=>{var it,ct,lt,pt,mt,Mt,bt,At;const[et,nt]=reactExports.useState(!1),[rt,ot]=reactExports.useState();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$e.predictScore,children:[jsxRuntimeExports.jsxs("div",{className:styles$e.score,children:[jsxRuntimeExports.jsxs("div",{className:styles$e.club,children:[jsxRuntimeExports.jsx("div",{className:styles$e.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(it=_e==null?void 0:_e.hometeam)==null?void 0:it.logo})}),jsxRuntimeExports.jsx("span",{children:(ct=_e==null?void 0:_e.hometeam)==null?void 0:ct.name_en})]}),jsxRuntimeExports.jsxs("div",{className:styles$e.scoreCount,children:[jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.home_score}),jsxRuntimeExports.jsx("h5",{children:"-"}),jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.away_score})]}),jsxRuntimeExports.jsxs("div",{className:styles$e.club,children:[jsxRuntimeExports.jsx("div",{className:styles$e.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(lt=_e==null?void 0:_e.awayteam)==null?void 0:lt.logo})}),jsxRuntimeExports.jsx("span",{children:(pt=_e==null?void 0:_e.awayteam)==null?void 0:pt.name_en})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$e.predict,children:[jsxRuntimeExports.jsx("h6",{children:"Siapa jagoan Anda?"}),jsxRuntimeExports.jsxs("div",{className:styles$e.predictOptions,children:[jsxRuntimeExports.jsx("button",{className:styles$e.predictItem,onClick:()=>{ot(_e==null?void 0:_e.hometeam),nt(!0)},children:jsxRuntimeExports.jsx("span",{children:(mt=_e==null?void 0:_e.hometeam)==null?void 0:mt.name_en})}),jsxRuntimeExports.jsx("button",{className:styles$e.predictItem,onClick:()=>{ot(_e==null?void 0:_e.awayteam),nt(!0)},children:jsxRuntimeExports.jsx("span",{children:(Mt=_e==null?void 0:_e.awayteam)==null?void 0:Mt.name_en})}),jsxRuntimeExports.jsx("button",{className:styles$e.predictItem,onClick:()=>{ot(void 0),nt(!0)},children:jsxRuntimeExports.jsx("span",{children:"Seri"})})]})]})]}),jsxRuntimeExports.jsx(Modal,{in:et,onClose:()=>nt(!1),children:jsxRuntimeExports.jsx(ModalWrapper,{children:jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs("div",{className:styles$e.confirmPredictedTeam,children:[rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$e.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(rt==null?void 0:rt.logo)??"",alt:""})}),jsxRuntimeExports.jsxs("h3",{children:["Anda Yakin ",(rt==null?void 0:rt.name_en)??""," Menang?"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$e.score,children:[jsxRuntimeExports.jsx("div",{className:styles$e.club,children:jsxRuntimeExports.jsx("div",{className:styles$e.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(bt=_e==null?void 0:_e.hometeam)==null?void 0:bt.logo})})}),jsxRuntimeExports.jsx("div",{className:styles$e.scoreCount,children:jsxRuntimeExports.jsx("h5",{children:"="})}),jsxRuntimeExports.jsx("div",{className:styles$e.club,children:jsxRuntimeExports.jsx("div",{className:styles$e.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(At=_e==null?void 0:_e.awayteam)==null?void 0:At.logo})})})]}),jsxRuntimeExports.jsx("h3",{children:"Anda Yakin Hasil Seri?"})]}),jsxRuntimeExports.jsxs("div",{className:styles$e.actions,children:[jsxRuntimeExports.jsx(MainButton,{onClick:()=>{},children:"Ya, Saya yakin!!"}),jsxRuntimeExports.jsx(MainButton,{onClick:()=>nt(!1),variant:"secondary",children:"Masih Ragu"})]})]})})})})]})},useC2c=()=>{const{t:_e}=useTranslation(),{setStoreValue:et}=useMainStore(),nt=reactExports.useRef(),[rt,ot]=setState(!0),[it,ct]=setState(!1),[lt,pt]=setState(!1),[mt,Mt]=setState(!1),[bt,At]=setState(C2cChatType.unopened),[wt,Tt]=setState(),[Rt,Bt]=setState([]),Vt=useMainStore(gr=>gr.curTim),{uid:$t,nick_name:Ft,avatar:Ht}=useMainStore(gr=>gr.userInfo),{room_notice:Qt}=useMainStore(gr=>gr.commonConfig.config),_n=useMainStore(gr=>gr.c2cUnreadCount),hn=useMainStore(gr=>gr.gettingC2cUserStatus),[Mn,kn,Cn]=setState(""),[yn,Ut,En]=setState([]),[vn,wn,Ln]=setState(""),[Kn,Rn,Tn]=setState([]),[Un,$n]=setState([]),[Vn,tr,Jn]=setState([]),[wr,jr]=setState(0),[Zt,hr]=setState(null),lo=async(gr=[])=>{if(!gr.length||!rt)return[];if(!hn)try{et({gettingC2cUserStatus:!0});const{code:Mr,data:Ar}=await Vt.getUserStatus({userIDList:gr});if(Mr===0){ot(!0);const{successUserList:Ir}=Ar;Bt(Ir)}}catch(Mr){Mr.code===3122&&ot(!1)}finally{await delay$1(2e3),et({gettingC2cUserStatus:!1})}},_o=async gr=>{let Mr="";try{ct(!0);const{status:Ar,data:Ir}=await getLiveChatApi({liveid:gr});if(Ar===0){jr(gr);const{type:mo,data:Ao}=Ir;if(mo&&(At(mo),Mr=mo),Ao){const{oper:jn}=Ao;Tt(jn)}}}catch{}finally{ct(!1)}return Mr},bo=gr=>{if(gr&&gr.payload&&gr.payload.data){const Mr=JSON.parse(gr.payload.data);return{...gr,action:Mr.Action,chat:Mr.Data.chat,isC2C:Mr.Action==="C2CRoomMessage"}}return{isC2C:!1}},Hr=async gr=>{const Mr=[];for(const Ar of gr.filter(Ir=>Ir.type==="C2C"))if(!["administrator","broadcast"].includes(Ar.userProfile.userID)){const{chat:Ir}=bo(Ar.lastMessage);if(!Ir)continue;const mo=Ir.message.includes("pqlink(")?`[${_e("")}]`:Ir.message.includes("pqimg(")?`[${_e("")}]`:Ir.message,Ao={...Ar,chat:{...Ir,message:mo}};Mr.push(Ao)}if(Mr.length){const Ar=Mr.reduce((Ir,mo)=>Ir+mo.unreadCount,0);et({c2cUnreadCount:Ar});try{Mr.forEach(Ir=>{const mo=Rt.find(jn=>jn.userID===Ir.userProfile.userID),Ao=mo?mo.statusType:TIM$1.TYPES.USER_STATUS_UNKNOWN;Ir.status=Ao,Ir.statusText=_e(c2cUserStatus[Ao])}),Ut([...Mr.filter(Ir=>Ir.status===TIM$1.TYPES.USER_STATUS_ONLINE),...Mr.filter(Ir=>Ir.status===TIM$1.TYPES.USER_STATUS_OFFLINE),...Mr.filter(Ir=>Ir.status===TIM$1.TYPES.USER_STATUS_UNLOGINED),...Mr.filter(Ir=>Ir.status===TIM$1.TYPES.USER_STATUS_UNKNOWN)]),await _i(Jn.current)}catch(Ir){console.log(Ir.message),Ut(Mr)}}},Do=async gr=>{const{data:Mr}=gr;Mr&&await Hr(Mr)},Oo=async()=>{try{mt||ct(!0);const{code:gr,data:Mr}=await Vt.getConversationList({type:TIM$1.TYPES.CONV_C2C});if(gr===0){const{conversationList:Ar}=Mr;await Hr(Ar)}}catch{}finally{ct(!1)}},zo=gr=>{const{data:Mr}=gr;Mr&&$n(Mr)},qo=async()=>{try{const{code:gr,data:Mr}=await Vt.getFriendGroupList();gr===0&&$n(Mr)}catch(gr){console.log(gr.message)}},_i=async gr=>{const Mr=gr.filter(Ar=>+Ar.userID!==$t);try{await lo(Mr.map(Ar=>Ar.userID)),Mr.forEach(Ar=>{const Ir=Rt.find(jn=>jn.userID===Ar.userID),mo=Ir?Ir.statusType:TIM$1.TYPES.USER_STATUS_UNKNOWN,Ao=En.current.find(jn=>jn.userProfile.userID===Ar.userID);Ar.status=mo,Ar.statusText=c2cUserStatus[mo],Ar.unreadCount=Ao?Ao.unreadCount:0}),tr([...Mr.filter(Ar=>Ar.status===TIM$1.TYPES.USER_STATUS_ONLINE),...Mr.filter(Ar=>Ar.status===TIM$1.TYPES.USER_STATUS_OFFLINE),...Mr.filter(Ar=>Ar.status===TIM$1.TYPES.USER_STATUS_UNLOGINED),...Mr.filter(Ar=>Ar.status===TIM$1.TYPES.USER_STATUS_UNKNOWN)])}catch(Ar){console.log(Ar.message),tr(Mr)}},na=async gr=>{const{data:Mr}=gr;Mr&&await _i(Mr)},Qn=async()=>{try{const{code:gr,data:Mr}=await Vt.getFriendList();gr===0&&Mr.length&&await _i(Mr)}catch(gr){console.log(gr.message)}},sr=async(gr="")=>{try{const{code:Mr,data:Ar}=await Vt.getMessageList({conversationID:Cn.current,nextReqMessageID:gr});if(Mr===0){const{isCompleted:Ir,nextReqMessageID:mo,messageList:Ao}=Ar;for(const jn of Ao){const Br=bo(jn);!Br.isC2C||!Br.chat||Rn([...Tn.current,Br].sort((Pn,Xr)=>Pn.time-Xr.time))}!Ir&&mo?await sr(mo):Mt(!0)}}catch(Mr){console.log(Mr.message),Mt(!0)}};return{loading:it,setLoading:ct,chatType:bt,chatOper:wt,getLiveChat:_o,curTim:Vt,uid:$t,scrollRef:nt,conversationID:Mn,setConversationID:kn,getFriendGroupList:qo,friendGroupList:Un,updateFriendGroupList:zo,conversationList:yn,friendList:Vn,messageList:Kn,setMessageList:Rn,getConversationList:Oo,getFriendList:Qn,updateFriendList:na,updateConversationList:Do,getConversation:async gr=>{kn(`C2C${gr}`),Mt(!1),Rn([]);try{await sr(),await Vt.setMessageRead({conversationID:Cn.current})}catch(Mr){console.log(Mr.message)}},message:vn,setMessage:wn,sendMessage:async({userID:gr=""})=>{if(Ln.current&&!Ln.current.trim().length){Toast.fail(_e(""));return}if(lt)return;const Mr={Action:"C2CRoomMessage",Data:{chat:{sender:{id:$t,nick_name:Ft,avatar:Ht},message:Ln.current.trim()},liveid:wr}};wr||delete Mr.Data.liveid;const Ar=Vt.createCustomMessage({to:gr||Mn.substring(3),conversationType:TIM$1.TYPES.CONV_C2C,payload:{data:JSON.stringify(Mr)},needReadReceipt:!0});try{pt(!0);const{code:Ir,data:mo}=await Vt.sendMessage(Ar);if(Ir===0){if(mo&&mo.message){const Ao=bo(mo.message);Ao.isC2C&&Ao.chat&&Rn([...Tn.current,Ao])}wn("")}}catch(Ir){if(Ir.code===20006){Toast.fail(_e(""));return}console.log(Ir.message)}finally{pt(!1)}},room_notice:Qt,receiveMsg:async gr=>{for(const Mr of gr.data){if(Mr.conversationID!==Cn.current)continue;const Ar=bo(Mr);Ar.isC2C&&Rn([...Tn.current,Ar].sort((Ir,mo)=>Ir.time-mo.time))}},sending:lt,scrollBottomAndSetRead:async()=>{Kn.length&&nt.current&&(nt.current.scrollTop=nt.current.scrollHeight),Cn.current&&await Vt.setMessageRead({conversationID:Cn.current})},getUserProfile:async gr=>{try{const{code:Mr,data:Ar}=await Vt.getUserProfile({userIDList:[gr]});if(Mr===0&&Ar){const Ir=Ar[0];Ir&&hr(Ir)}}catch(Mr){console.log(Mr.message)}},chatTarget:Zt,c2cUnreadCount:_n}},Detail$1=()=>{var tr,Jn,wr,jr,Zt,hr,lo,_o,bo;const{id:_e}=useParams(),[et,nt]=reactExports.useState("LIVE_CHAT"),{getLiveChat:rt}=useC2c(),{defaultAvatar:ot,parsePullUrl:it}=useConfig(),[ct,lt,pt]=setState(),[mt,Mt]=reactExports.useState(!0),bt=reactExports.useRef(),At=reactExports.useRef(),wt=reactExports.useRef(),Tt=reactExports.useRef(),Rt=reactExports.useRef([]),Bt=reactExports.useRef(null),[Vt,$t]=reactExports.useState(),Ft=reactExports.useRef(),Ht=reactExports.useRef(),[Qt,_n]=reactExports.useState([]),{ios:hn,android:Mn,safari:kn,iphone:Cn,uc:yn}=dist.detectBrowser(),Ut=!hn&&!yn,{sportId:En}=useRace();useLifecycles(async()=>{Mt(!0),En!==-1?await wn():await Ln({anchorId:_e}),Mt(!1)},async()=>{await vn()});const vn=async()=>{At.current&&(wt.current&&wt.current.destroy(),At.current.destroy())},wn=async()=>{try{const{status:Hr,data:Do}=await getMatchInfoApi({matchId:_e,sportName:SportId[Number(En)]});if(Hr!==0||!Do||(Ht.current=Do,$t(Do),console.log("matchData:",Do),Do.anchors.length===0))return;const Oo=Do.anchors[0].id.toString(),{data:zo}=await getLivePageDataApi(Oo);await Kn(zo,Oo)}catch(Hr){console.error("getMatchData error:",Hr)}},Ln=async({anchorId:Hr})=>{try{const{data:Do}=await getLivePageDataApi(Hr);if(En===-1&&Do.sportid>0){const{status:Oo,data:zo}=await getMatchInfoApi({matchId:Do.matchid,sportName:SportId[Number(Do.sportid)]});Oo===0&&zo&&(Ht.current=zo,$t(zo),console.log("matchData:",Vt),console.log("matchData:",zo))}await Kn(Do,Hr)}catch(Do){console.error("getLiveData error:",Do)}};async function Kn(Hr,Do){var Or;if(!Hr)return;const Oo=_$2.get(Hr,"clear_chat_list_timestamp");_n(_$2.get(Hr,"black_list")),Ft.current=Oo;const{status:zo,data:qo,msg:_i}=await getAnchorInfoApi(Do);if(zo===1||qo.is_anchor===0){Toast.fail(_i);return}if(!Hr.live){setTimeout(()=>{Toast.fail("")},1e3);return}const{history_message:na,live:Qn}=Hr;await rt(Qn.liveid);const sr=parseMatch(Qn);if(((Or=sr.pull_url)==null?void 0:Or.length)>0){lt({...sr,anchor:qo,matchid:Hr.matchid});const Dr=setInterval(()=>{bt.current&&(clearInterval(Dr),Tn())},500)}}const Rn=async()=>{At.current.on("canplay",async()=>{await At.current.video.play()})},Tn=async()=>{await Un(pt.current,pt.current.thumb),Ut&&await Rn()},Un=reactExports.useCallback(async(Hr,Do)=>{const{pull_url:Oo,livestream_source:zo,pull_url_multiple:qo}=Hr,_i=()=>{const na=it({url:Oo,livestream_source:zo}),Qn=(Mn||kn&&Cn)&&na.includes(".m3u8");if(!Hr.pull_url_multiple)return Qn?{url:na,pic:Do,type:"customHls",customType:{customHls:function(cr,gr){wt.current=new Hls,wt.current.loadSource(cr.src),wt.current.attachMedia(cr)}}}:{url:na,pic:Do,type:"auto"};const sr=Object.entries(qo).reduce((cr,gr)=>{if(gr[1]){let Mr="";switch(gr[0]){case"hd":Mr="HD";break;case"qhd":Mr="QHD";break;case"sd":Mr="SD";break;default:Mr=gr[0].toUpperCase()}const Ar=it({url:gr[1],livestream_source:zo}),Ir=Mn&&Ar.includes(".m3u8");cr.push(Ir?{key:gr[0],name:Mr,url:Ar,type:"customHls"}:{key:gr[0],name:Mr,url:Ar,type:"auto"})}return cr},[]);Rt.current=sr;const ar=getItem("selectedQuality"),Or=sr.findIndex(({key:cr})=>cr==="hd"),Dr=sr.findIndex(({key:cr})=>cr===ar),lr=Dr&&Dr>-1?Dr:Or!==-1?Or:sr.length-1;return Bt.current=lr,console.log({url:na,quality:sr,defaultQuality:lr,pic:Hr.thumb,customType:{customHls:function(cr,gr){wt.current=new Hls,wt.current.loadSource(cr.src),wt.current.attachMedia(cr)}}}),{url:na,quality:sr,defaultQuality:lr,pic:Hr.thumb,customType:{customHls:function(cr,gr){wt.current=new Hls,wt.current.loadSource(cr.src),wt.current.attachMedia(cr)}}}};At.current=new DPlayer({container:bt.current,video:_i(),live:zo!==0,volume:0,autoplay:!0,loop:!0}),Ut&&await Rn(),At.current.on("play",async()=>{At.current.video.muted=!0;const na=document.querySelector(".dplayer-bar-wrap"),Qn=document.querySelector(".dplayer-time");na&&Qn&&(na.style.display=zo!==0?"none":"block",Qn.style.display=zo!==0?"none":"block");const sr=_$2.get(At.current,"qualityIndex"),ar=_$2.get(Rt.current,`[${sr}].key`);Number(sr)>-1&&(Bt.current=sr,setItem("qualityIndex",sr),setItem("selectedQuality",ar))})},[Rt]),$n=reactExports.useMemo(()=>ct&&et==="LIVE_CHAT"?jsxRuntimeExports.jsx(ChatRoomI18n,{focus,blacklist:Qt,historyBase:Ft.current,roomId:"LIVEROOM_"+(ct==null?void 0:ct.anchorid),player:At.current,detail:ct}):Vt&&et==="PREDICT_SCORE"?jsxRuntimeExports.jsx(PredictScore,{detail:Vt}):null,[et,ct,At,Vt]),Vn=reactExports.useMemo(()=>{let Hr=[];return ct&&Hr.push({title:"Live Chat",value:"LIVE_CHAT"}),(Vt==null?void 0:Vt.is_race_quiz)==1&&Hr.push({title:"Tebak Pertandingan",value:"PREDICT_SCORE"}),Hr.push({title:"Statistik",value:"STATISTICS"}),Hr},[ct,Vt]);return reactExports.useEffect(()=>{var Hr;!Vn.some(Do=>Do.value===et)&&!mt&&nt((Hr=Vn[0])==null?void 0:Hr.value)},[Vn,et]),jsxRuntimeExports.jsx(HomeLayout,{noFooter:!0,children:jsxRuntimeExports.jsx("div",{className:styles$k.detail,children:jsxRuntimeExports.jsxs("div",{className:styles$k.live,children:[jsxRuntimeExports.jsxs("div",{className:clsx$2(styles$k.liveCard,"live-detail-page"),children:[ct?jsxRuntimeExports.jsx("div",{ref:Tt,className:clsx$2(styles$k["player-container"],"player-container"),children:jsxRuntimeExports.jsx("div",{className:styles$k.player,id:"player",ref:bt,style:{height:200},children:!Ut&&ct&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:ct.thumb,alt:"",className:styles$k["live-thumb"]}),jsxRuntimeExports.jsx("div",{className:clsx$2(styles$k["manual-play"],"whitespace-nowrap"),onClick:Tn,children:"Play"})]})})}):null,Vt&&!ct?jsxRuntimeExports.jsx("div",{className:styles$k.upcomingLive,children:jsxRuntimeExports.jsxs("div",{className:styles$k.score,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.club,children:[jsxRuntimeExports.jsx("div",{className:styles$k.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(tr=Vt==null?void 0:Vt.hometeam)==null?void 0:tr.logo})}),jsxRuntimeExports.jsx("span",{children:(Jn=Vt==null?void 0:Vt.hometeam)==null?void 0:Jn.name_en})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.scoreCount,children:[jsxRuntimeExports.jsx("h5",{children:Vt==null?void 0:Vt.home_score}),jsxRuntimeExports.jsx("h5",{children:"-"}),jsxRuntimeExports.jsx("h5",{children:Vt==null?void 0:Vt.away_score})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.club,children:[jsxRuntimeExports.jsx("div",{className:styles$k.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(wr=Vt==null?void 0:Vt.awayteam)==null?void 0:wr.logo})}),jsxRuntimeExports.jsx("span",{children:(jr=Vt==null?void 0:Vt.awayteam)==null?void 0:jr.name_en})]})]})}):null]}),jsxRuntimeExports.jsxs("div",{className:styles$k.liveInfo,children:[jsxRuntimeExports.jsx("h5",{children:((Zt=Vt==null?void 0:Vt.matchevent)==null?void 0:Zt.name_en)??""}),ct?jsxRuntimeExports.jsxs("div",{className:styles$k.info,children:[jsxRuntimeExports.jsx("div",{className:styles$k.avatar,children:jsxRuntimeExports.jsx("img",{src:((hr=ct==null?void 0:ct.anchor)==null?void 0:hr.avatar)??ot,alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$k.description,children:[jsxRuntimeExports.jsx("span",{className:styles$k.nickName,children:(lo=ct==null?void 0:ct.anchor)==null?void 0:lo.nick_name}),jsxRuntimeExports.jsxs("div",{className:styles$k.follow,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.fansCount,children:[jsxRuntimeExports.jsx(UserIcon,{}),jsxRuntimeExports.jsx("span",{children:(_o=ct==null?void 0:ct.anchor)==null?void 0:_o.fans_count})]}),jsxRuntimeExports.jsx("div",{className:styles$k.dotWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$k.dot})}),jsxRuntimeExports.jsxs("div",{className:styles$k.fansCount,children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:(bo=ct==null?void 0:ct.anchor)==null?void 0:bo.user_level})]})]})]})]}):null,jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(SliderBadge,{onChange:Hr=>nt(Hr),value:et,items:Vn})}),jsxRuntimeExports.jsx("div",{className:styles$k.line}),$n]})]})})})},Live=({match:_e})=>jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{path:_e.url,exact:!0,component:List$1}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/:id/detail`,exact:!0,component:Detail$1})]}),swiper="_swiper_e736l_1",tabItem="_tabItem_e736l_6",selected="_selected_e736l_10",styles$d={swiper,tabItem,selected},Tabs=({items:_e,onChange:et})=>{const[nt,rt]=reactExports.useState("ALL");return jsxRuntimeExports.jsx(Swiper,{spaceBetween:12,slidesPerView:"auto",className:styles$d.swiper,children:_e.map((ot,it)=>jsxRuntimeExports.jsx(SwiperSlide,{className:clsx$2(styles$d.tabItem,ot.value===nt&&styles$d.selected),onClick:()=>{rt(ot.value),et(ot.value)},children:jsxRuntimeExports.jsx("span",{children:ot.title})},it))})},score$1="_score_mc0xy_1",wrapper$2="_wrapper_mc0xy_4",scoreList="_scoreList_mc0xy_4",leagueCategory="_leagueCategory_mc0xy_10",empty$1="_empty_mc0xy_13",date="_date_mc0xy_36",styles$c={score:score$1,wrapper:wrapper$2,scoreList,leagueCategory,empty:empty$1,date},scoreCard="_scoreCard_t3h8y_1",wrapper$1="_wrapper_t3h8y_9",top="_top_t3h8y_12",league="_league_t3h8y_20",leagueLogo="_leagueLogo_t3h8y_29",schedule="_schedule_t3h8y_53",streamBadge="_streamBadge_t3h8y_68",score="_score_t3h8y_1",club="_club_t3h8y_85",clubLogo="_clubLogo_t3h8y_93",scoreCount="_scoreCount_t3h8y_101",styles$b={scoreCard,wrapper:wrapper$1,top,league,leagueLogo,schedule,streamBadge,score,club,clubLogo,scoreCount},ScoreCard=({liveData:_e})=>{var rt,ot,it,ct,lt,pt;const{push:et}=useHistory(),nt=()=>{et(`/score/detail/${_e.id}`)};return jsxRuntimeExports.jsx("div",{className:styles$b.scoreCard,onClick:nt,children:jsxRuntimeExports.jsxs("div",{className:styles$b.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$b.top,children:jsxRuntimeExports.jsxs("div",{className:styles$b.league,children:[jsxRuntimeExports.jsx("div",{className:styles$b.leagueLogo,children:jsxRuntimeExports.jsx("img",{src:(rt=_e==null?void 0:_e.matchevent)==null?void 0:rt.logo,alt:""})}),jsxRuntimeExports.jsx("span",{children:(ot=_e==null?void 0:_e.matchevent)==null?void 0:ot.short_name_en})]})}),jsxRuntimeExports.jsxs("div",{className:styles$b.score,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.club,children:[jsxRuntimeExports.jsx("div",{className:styles$b.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(it=_e==null?void 0:_e.hometeam)==null?void 0:it.logo})}),jsxRuntimeExports.jsx("span",{children:(ct=_e==null?void 0:_e.hometeam)==null?void 0:ct.name_en})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.scoreCount,children:[jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.home_score}),jsxRuntimeExports.jsx("h5",{children:"-"}),jsxRuntimeExports.jsx("h5",{children:_e==null?void 0:_e.away_score})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.club,children:[jsxRuntimeExports.jsx("div",{className:styles$b.clubLogo,children:jsxRuntimeExports.jsx("img",{src:(lt=_e==null?void 0:_e.awayteam)==null?void 0:lt.logo})}),jsxRuntimeExports.jsx("span",{children:(pt=_e==null?void 0:_e.awayteam)==null?void 0:pt.name_en})]})]})]})})},formatDistanceLocale={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},formatDistance=(_e,et,nt)=>{let rt;const ot=formatDistanceLocale[_e];return typeof ot=="string"?rt=ot:et===1?rt=ot.one:rt=ot.other.replace("{{count}}",et.toString()),nt!=null&&nt.addSuffix?nt.comparison&&nt.comparison>0?"dalam waktu "+rt:rt+" yang lalu":rt},dateFormats={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},timeFormats={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},dateTimeFormats={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},formatRelative=(_e,et,nt,rt)=>formatRelativeLocale[_e],eraValues={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},dayValues={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},dayPeriodValues={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},formattingDayPeriodValues={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},ordinalNumber=(_e,et)=>"ke-"+Number(_e),localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:_e=>_e-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^ke-(\d+)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},parseEraPatterns={any:[/^s/i,/^(m|e)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},parseDayPatterns={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:_e=>parseInt(_e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},id$1={code:"id",formatDistance,formatLong,formatRelative,localize,match:match$1,options:{weekStartsOn:1,firstWeekContainsDate:1}},dateTrigger="_dateTrigger_1o5hx_1",dateRangePicker="_dateRangePicker_1o5hx_17",heading="_heading_1o5hx_23",calendar="_calendar_1o5hx_36",action="_action_1o5hx_39",datePreview="_datePreview_1o5hx_45",modalWrapper="_modalWrapper_1o5hx_66",styles$a={dateTrigger,dateRangePicker,heading,calendar,action,datePreview,modalWrapper},CalendarIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{fill:"#F7F9F9",d:"M14 8v4.667A1.334 1.334 0 0 1 12.667 14H3.333A1.334 1.334 0 0 1 2 12.667V8zm-3.333-6a.667.667 0 0 1 .666.667v.666h1.334A1.333 1.333 0 0 1 14 4.667v2H2v-2a1.333 1.333 0 0 1 1.333-1.334h1.334v-.666a.667.667 0 1 1 1.333 0v.666h4v-.666A.666.666 0 0 1 10.667 2"})});function getEndOfWeek(_e,et="monday"){const nt=new Date(_e),rt=nt.getDay(),ot=et==="sunday",it=7-(ot?rt+1:rt);return(ot&&rt!==6||rt!==0)&&nt.setDate(nt.getDate()+it),nt}function getStartOfWeek(_e,et="monday"){const nt=new Date(_e),rt=nt.getDay()||7,ot=et==="sunday",it=ot?rt:rt-1;return(ot&&rt!==0||rt!==1)&&nt.setHours(-24*it),nt}function getMonthDays(_e,et="monday"){const nt=_e.getMonth(),rt=new Date(_e.getFullYear(),nt,1),ot=new Date(_e.getFullYear(),_e.getMonth()+1,0),it=getEndOfWeek(ot,et),ct=getStartOfWeek(rt,et),lt=[];for(;ct<=it;){const pt=[];for(let mt=0;mt<7;mt+=1)pt.push(new Date(ct)),ct.setDate(ct.getDate()+1);lt.push(pt)}return lt}function getMonthsNames(_e,et="MMM"){const nt=[],rt=new Date(2021,0,1);for(let ot=0;ot<12;ot+=1)nt.push(dayjs(rt).locale(_e).format(et)),rt.setMonth(rt.getMonth()+1);return nt}function getWeekdaysNames(_e,et="monday",nt="dd"){const rt=[],ot=getStartOfWeek(new Date,et);for(let it=0;it<7;it+=1)rt.push(dayjs(ot).locale(_e).format(nt)),ot.setDate(ot.getDate()+1);return rt}function isSameMonth(_e,et){return _e.getFullYear()===et.getFullYear()&&_e.getMonth()===et.getMonth()}function isSameDate(_e,et){return isSameMonth(_e,et)&&_e.getDate()===et.getDate()}function createPolymorphicComponent(_e){return _e}function toVal(_e){var et,nt,rt="";if(typeof _e=="string"||typeof _e=="number")rt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(et=0;et<_e.length;et++)_e[et]&&(nt=toVal(_e[et]))&&(rt&&(rt+=" "),rt+=nt);else for(et in _e)_e[et]&&(rt&&(rt+=" "),rt+=et);return rt}function clsx(){for(var _e=0,et,nt,rt="";_e<arguments.length;)(et=arguments[_e++])&&(nt=toVal(et))&&(rt&&(rt+=" "),rt+=nt);return rt}const DEFAULT_COLORS={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function fontStyles(_e){return()=>({fontFamily:_e.fontFamily||"sans-serif"})}var __defProp$x=Object.defineProperty,__getOwnPropSymbols$y=Object.getOwnPropertySymbols,__hasOwnProp$y=Object.prototype.hasOwnProperty,__propIsEnum$y=Object.prototype.propertyIsEnumerable,__defNormalProp$x=(_e,et,nt)=>et in _e?__defProp$x(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$x=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$y.call(et,nt)&&__defNormalProp$x(_e,nt,et[nt]);if(__getOwnPropSymbols$y)for(var nt of __getOwnPropSymbols$y(et))__propIsEnum$y.call(et,nt)&&__defNormalProp$x(_e,nt,et[nt]);return _e};function focusStyles(_e){return et=>({WebkitTapHighlightColor:"transparent",[et||"&:focus"]:__spreadValues$x({},_e.focusRing==="always"||_e.focusRing==="auto"?_e.focusRingStyles.styles(_e):_e.focusRingStyles.resetStyles(_e)),[et?et.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:__spreadValues$x({},_e.focusRing==="auto"||_e.focusRing==="never"?_e.focusRingStyles.resetStyles(_e):null)})}function primaryShade(_e){return et=>typeof _e.primaryShade=="number"?_e.primaryShade:_e.primaryShade[et||_e.colorScheme]}function themeColor(_e){const et=primaryShade(_e);return(nt,rt,ot=!0,it=!0)=>{if(typeof nt=="string"&&nt.includes(".")){const[lt,pt]=nt.split("."),mt=parseInt(pt,10);if(lt in _e.colors&&mt>=0&&mt<10)return _e.colors[lt][typeof rt=="number"&&!it?rt:mt]}const ct=typeof rt=="number"?rt:et();return nt in _e.colors?_e.colors[nt][ct]:ot?_e.colors[_e.primaryColor][ct]:nt}}function getGradientColorStops(_e){let et="";for(let nt=1;nt<_e.length-1;nt+=1)et+=`${_e[nt]} ${nt/(_e.length-1)*100}%, `;return`${_e[0]} 0%, ${et}${_e[_e.length-1]} 100%`}function linearGradient(_e,...et){return`linear-gradient(${_e}deg, ${getGradientColorStops(et)})`}function radialGradient(..._e){return`radial-gradient(circle, ${getGradientColorStops(_e)})`}function gradient(_e){const et=themeColor(_e),nt=primaryShade(_e);return rt=>{const ot={from:(rt==null?void 0:rt.from)||_e.defaultGradient.from,to:(rt==null?void 0:rt.to)||_e.defaultGradient.to,deg:(rt==null?void 0:rt.deg)||_e.defaultGradient.deg};return`linear-gradient(${ot.deg}deg, ${et(ot.from,nt(),!1)} 0%, ${et(ot.to,nt(),!1)} 100%)`}}function size(_e){if(typeof _e.size=="number")return _e.size;const et=_e.sizes[_e.size];return et!==void 0?et:_e.size||_e.sizes.md}function largerThan(_e){return et=>`@media (min-width: ${size({size:et,sizes:_e.breakpoints})}px)`}function smallerThan(_e){return et=>`@media (max-width: ${size({size:et,sizes:_e.breakpoints})-1}px)`}function isHexColor(_e){return/^#?([0-9A-F]{3}){1,2}$/i.test(_e)}function hexToRgba(_e){let et=_e.replace("#","");if(et.length===3){const ct=et.split("");et=[ct[0],ct[0],ct[1],ct[1],ct[2],ct[2]].join("")}const nt=parseInt(et,16),rt=nt>>16&255,ot=nt>>8&255,it=nt&255;return{r:rt,g:ot,b:it,a:1}}function rgbStringToRgba(_e){const[et,nt,rt,ot]=_e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:et,g:nt,b:rt,a:ot||1}}function toRgba(_e){return isHexColor(_e)?hexToRgba(_e):_e.startsWith("rgb")?rgbStringToRgba(_e):{r:0,g:0,b:0,a:1}}function rgba(_e,et){if(typeof _e!="string"||et>1||et<0)return"rgba(0, 0, 0, 1)";const{r:nt,g:rt,b:ot}=toRgba(_e);return`rgba(${nt}, ${rt}, ${ot}, ${et})`}function cover$1(_e=0){return{position:"absolute",top:_e,right:_e,left:_e,bottom:_e}}function darken(_e,et){const{r:nt,g:rt,b:ot,a:it}=toRgba(_e),ct=1-et,lt=pt=>Math.round(pt*ct);return`rgba(${lt(nt)}, ${lt(rt)}, ${lt(ot)}, ${it})`}function lighten(_e,et){const{r:nt,g:rt,b:ot,a:it}=toRgba(_e),ct=lt=>Math.round(lt+(255-lt)*et);return`rgba(${ct(nt)}, ${ct(rt)}, ${ct(ot)}, ${it})`}function radius(_e){return et=>{if(typeof et=="number")return et;const nt=typeof _e.defaultRadius=="number"?_e.defaultRadius:_e.radius[_e.defaultRadius]||_e.defaultRadius;return _e.radius[et]||et||nt}}function getColorIndexInfo(_e,et){if(typeof _e=="string"&&_e.includes(".")){const[nt,rt]=_e.split("."),ot=parseInt(rt,10);if(nt in et.colors&&ot>=0&&ot<10)return{isSplittedColor:!0,key:nt,shade:ot}}return{isSplittedColor:!1}}function variant(_e){const et=themeColor(_e),nt=primaryShade(_e),rt=gradient(_e);return({variant:ot,color:it,gradient:ct,primaryFallback:lt})=>{const pt=getColorIndexInfo(it,_e);switch(ot){case"light":return{border:"transparent",background:rgba(et(it,_e.colorScheme==="dark"?8:0,lt,!1),_e.colorScheme==="dark"?.2:1),color:it==="dark"?_e.colorScheme==="dark"?_e.colors.dark[0]:_e.colors.dark[9]:et(it,_e.colorScheme==="dark"?2:nt("light")),hover:rgba(et(it,_e.colorScheme==="dark"?7:1,lt,!1),_e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:it==="dark"?_e.colorScheme==="dark"?_e.colors.dark[0]:_e.colors.dark[9]:et(it,_e.colorScheme==="dark"?2:nt("light")),hover:rgba(et(it,_e.colorScheme==="dark"?8:0,lt,!1),_e.colorScheme==="dark"?.2:1)};case"outline":return{border:et(it,_e.colorScheme==="dark"?5:nt("light")),background:"transparent",color:et(it,_e.colorScheme==="dark"?5:nt("light")),hover:_e.colorScheme==="dark"?rgba(et(it,5,lt,!1),.05):rgba(et(it,0,lt,!1),.35)};case"default":return{border:_e.colorScheme==="dark"?_e.colors.dark[4]:_e.colors.gray[4],background:_e.colorScheme==="dark"?_e.colors.dark[6]:_e.white,color:_e.colorScheme==="dark"?_e.white:_e.black,hover:_e.colorScheme==="dark"?_e.colors.dark[5]:_e.colors.gray[0]};case"white":return{border:"transparent",background:_e.white,color:et(it,nt()),hover:null};case"transparent":return{border:"transparent",color:it==="dark"?_e.colorScheme==="dark"?_e.colors.dark[0]:_e.colors.dark[9]:et(it,_e.colorScheme==="dark"?2:nt("light")),background:"transparent",hover:null};case"gradient":return{background:rt(ct),color:_e.white,border:"transparent",hover:null};default:{const mt=nt(),Mt=pt.isSplittedColor?pt.shade:mt,bt=pt.isSplittedColor?pt.key:it;return{border:"transparent",background:et(bt,Mt,lt),color:_e.white,hover:et(bt,Mt===9?8:Mt+1)}}}}}function primaryColor(_e){return et=>{const nt=primaryShade(_e)(et);return _e.colors[_e.primaryColor][nt]}}function hover(_e){return{"@media (hover: hover)":{"&:hover":_e},"@media (hover: none)":{"&:active":_e}}}function placeholderStyles(_e){return()=>({userSelect:"none",color:_e.colorScheme==="dark"?_e.colors.dark[3]:_e.colors.gray[5]})}const fns={fontStyles,themeColor,focusStyles,linearGradient,radialGradient,smallerThan,largerThan,rgba,size,cover:cover$1,darken,lighten,radius,variant,primaryShade,hover,gradient,primaryColor,placeholderStyles};var __defProp$w=Object.defineProperty,__defProps$c=Object.defineProperties,__getOwnPropDescs$c=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$x=Object.getOwnPropertySymbols,__hasOwnProp$x=Object.prototype.hasOwnProperty,__propIsEnum$x=Object.prototype.propertyIsEnumerable,__defNormalProp$w=(_e,et,nt)=>et in _e?__defProp$w(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$w=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$x.call(et,nt)&&__defNormalProp$w(_e,nt,et[nt]);if(__getOwnPropSymbols$x)for(var nt of __getOwnPropSymbols$x(et))__propIsEnum$x.call(et,nt)&&__defNormalProp$w(_e,nt,et[nt]);return _e},__spreadProps$c=(_e,et)=>__defProps$c(_e,__getOwnPropDescs$c(et));function attachFunctions(_e){return __spreadProps$c(__spreadValues$w({},_e),{fn:{fontStyles:fns.fontStyles(_e),themeColor:fns.themeColor(_e),focusStyles:fns.focusStyles(_e),largerThan:fns.largerThan(_e),smallerThan:fns.smallerThan(_e),radialGradient:fns.radialGradient,linearGradient:fns.linearGradient,gradient:fns.gradient(_e),rgba:fns.rgba,size:fns.size,cover:fns.cover,lighten:fns.lighten,darken:fns.darken,primaryShade:fns.primaryShade(_e),radius:fns.radius(_e),variant:fns.variant(_e),hover:fns.hover,primaryColor:fns.primaryColor(_e),placeholderStyles:fns.placeholderStyles(_e)}})}const _DEFAULT_THEME={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:DEFAULT_COLORS,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:_e=>({outlineOffset:2,outline:`2px solid ${_e.colors[_e.primaryColor][_e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:_e=>({outline:"none",borderColor:_e.colors[_e.primaryColor][typeof _e.primaryShade=="object"?_e.primaryShade[_e.colorScheme]:_e.primaryShade]})}},DEFAULT_THEME=attachFunctions(_DEFAULT_THEME);var isDevelopment$1=!1;function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===_e)return document.styleSheets[et]}function createStyleElement(_e){var et=document.createElement("style");return et.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&et.setAttribute("nonce",_e.nonce),et.appendChild(document.createTextNode("")),et.setAttribute("data-s",""),et}var StyleSheet=function(){function _e(nt){var rt=this;this._insertTag=function(ot){var it;rt.tags.length===0?rt.insertionPoint?it=rt.insertionPoint.nextSibling:rt.prepend?it=rt.container.firstChild:it=rt.before:it=rt.tags[rt.tags.length-1].nextSibling,rt.container.insertBefore(ot,it),rt.tags.push(ot)},this.isSpeedy=nt.speedy===void 0?!isDevelopment$1:nt.speedy,this.tags=[],this.ctr=0,this.nonce=nt.nonce,this.key=nt.key,this.container=nt.container,this.prepend=nt.prepend,this.insertionPoint=nt.insertionPoint,this.before=null}var et=_e.prototype;return et.hydrate=function(rt){rt.forEach(this._insertTag)},et.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var ot=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(ot);try{it.insertRule(rt,it.cssRules.length)}catch{}}else ot.appendChild(document.createTextNode(rt));this.ctr++},et.flush=function(){this.tags.forEach(function(rt){var ot;return(ot=rt.parentNode)==null?void 0:ot.removeChild(rt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(_e,et){return charat(_e,0)^45?(((et<<2^charat(_e,0))<<2^charat(_e,1))<<2^charat(_e,2))<<2^charat(_e,3):0}function trim(_e){return _e.trim()}function match(_e,et){return(_e=et.exec(_e))?_e[0]:_e}function replace(_e,et,nt){return _e.replace(et,nt)}function indexof(_e,et){return _e.indexOf(et)}function charat(_e,et){return _e.charCodeAt(et)|0}function substr(_e,et,nt){return _e.slice(et,nt)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append(_e,et){return et.push(_e),_e}function combine(_e,et){return _e.map(et).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(_e,et,nt,rt,ot,it,ct){return{value:_e,root:et,parent:nt,type:rt,props:ot,children:it,line,column,length:ct,return:""}}function copy(_e,et){return assign(node("",null,null,"",null,null,0),_e,{length:-_e.length},et)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(_e,et){return substr(characters,_e,et)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line=column=1,length=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(et<6&&peek()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,et){for(;next()&&_e+character!==57;)if(_e+character===84&&peek()===47)break;return"/*"+slice(et,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,et,nt,rt,ot,it,ct,lt,pt){for(var mt=0,Mt=0,bt=ct,At=0,wt=0,Tt=0,Rt=1,Bt=1,Vt=1,$t=0,Ft="",Ht=ot,Qt=it,_n=rt,hn=Ft;Bt;)switch(Tt=$t,$t=next()){case 40:if(Tt!=108&&charat(hn,bt-1)==58){indexof(hn+=replace(delimit($t),"&","&\f"),"&\f")!=-1&&(Vt=-1);break}case 34:case 39:case 91:hn+=delimit($t);break;case 9:case 10:case 13:case 32:hn+=whitespace(Tt);break;case 92:hn+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),et,nt),pt);break;default:hn+="/"}break;case 123*Rt:lt[mt++]=strlen(hn)*Vt;case 125*Rt:case 59:case 0:switch($t){case 0:case 125:Bt=0;case 59+Mt:Vt==-1&&(hn=replace(hn,/\f/g,"")),wt>0&&strlen(hn)-bt&&append(wt>32?declaration(hn+";",rt,nt,bt-1):declaration(replace(hn," ","")+";",rt,nt,bt-2),pt);break;case 59:hn+=";";default:if(append(_n=ruleset(hn,et,nt,mt,Mt,ot,lt,Ft,Ht=[],Qt=[],bt),it),$t===123)if(Mt===0)parse(hn,et,_n,_n,Ht,it,bt,lt,Qt);else switch(At===99&&charat(hn,3)===110?100:At){case 100:case 108:case 109:case 115:parse(_e,_n,_n,rt&&append(ruleset(_e,_n,_n,0,0,ot,lt,Ft,ot,Ht=[],bt),Qt),ot,Qt,bt,lt,rt?Ht:Qt);break;default:parse(hn,_n,_n,_n,[""],Qt,0,lt,Qt)}}mt=Mt=wt=0,Rt=Vt=1,Ft=hn="",bt=ct;break;case 58:bt=1+strlen(hn),wt=Tt;default:if(Rt<1){if($t==123)--Rt;else if($t==125&&Rt++==0&&prev()==125)continue}switch(hn+=from($t),$t*Rt){case 38:Vt=Mt>0?1:(hn+="\f",-1);break;case 44:lt[mt++]=(strlen(hn)-1)*Vt,Vt=1;break;case 64:peek()===45&&(hn+=delimit(next())),At=peek(),Mt=bt=strlen(Ft=hn+=identifier(caret())),$t++;break;case 45:Tt===45&&strlen(hn)==2&&(Rt=0)}}return it}function ruleset(_e,et,nt,rt,ot,it,ct,lt,pt,mt,Mt){for(var bt=ot-1,At=ot===0?it:[""],wt=sizeof(At),Tt=0,Rt=0,Bt=0;Tt<rt;++Tt)for(var Vt=0,$t=substr(_e,bt+1,bt=abs(Rt=ct[Tt])),Ft=_e;Vt<wt;++Vt)(Ft=trim(Rt>0?At[Vt]+" "+$t:replace($t,/&\f/g,At[Vt])))&&(pt[Bt++]=Ft);return node(_e,et,nt,ot===0?RULESET:lt,pt,mt,Mt)}function comment(_e,et,nt){return node(_e,et,nt,COMMENT,from(char()),substr(_e,2,-2),0)}function declaration(_e,et,nt,rt){return node(_e,et,nt,DECLARATION,substr(_e,0,rt),substr(_e,rt+1,-1),rt)}function serialize(_e,et){for(var nt="",rt=sizeof(_e),ot=0;ot<rt;ot++)nt+=et(_e[ot],ot,_e,et)||"";return nt}function stringify(_e,et,nt,rt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,rt)+"}";case RULESET:_e.value=_e.props.join(",")}return strlen(nt=serialize(_e.children,rt))?_e.return=_e.value+"{"+nt+"}":""}function middleware(_e){var et=sizeof(_e);return function(nt,rt,ot,it){for(var ct="",lt=0;lt<et;lt++)ct+=_e[lt](nt,rt,ot,it)||"";return ct}}function rulesheet(_e){return function(et){et.root||(et=et.return)&&_e(et)}}var weakMemoize=function _e(et){var nt=new WeakMap;return function(rt){if(nt.has(rt))return nt.get(rt);var ot=et(rt);return nt.set(rt,ot),ot}};function memoize(_e){var et=Object.create(null);return function(nt){return et[nt]===void 0&&(et[nt]=_e(nt)),et[nt]}}var identifierWithPointTracking=function _e(et,nt,rt){for(var ot=0,it=0;ot=it,it=peek(),ot===38&&it===12&&(nt[rt]=1),!token(it);)next();return slice(et,position)},toRules=function _e(et,nt){var rt=-1,ot=44;do switch(token(ot)){case 0:ot===38&&peek()===12&&(nt[rt]=1),et[rt]+=identifierWithPointTracking(position-1,nt,rt);break;case 2:et[rt]+=delimit(ot);break;case 4:if(ot===44){et[++rt]=peek()===58?"&\f":"",nt[rt]=et[rt].length;break}default:et[rt]+=from(ot)}while(ot=next());return et},getRules=function _e(et,nt){return dealloc(toRules(alloc(et),nt))},fixedElements=new WeakMap,compat=function _e(et){if(!(et.type!=="rule"||!et.parent||et.length<1)){for(var nt=et.value,rt=et.parent,ot=et.column===rt.column&&et.line===rt.line;rt.type!=="rule";)if(rt=rt.parent,!rt)return;if(!(et.props.length===1&&nt.charCodeAt(0)!==58&&!fixedElements.get(rt))&&!ot){fixedElements.set(et,!0);for(var it=[],ct=getRules(nt,it),lt=rt.props,pt=0,mt=0;pt<ct.length;pt++)for(var Mt=0;Mt<lt.length;Mt++,mt++)et.props[mt]=it[pt]?ct[pt].replace(/&\f/g,lt[Mt]):lt[Mt]+" "+ct[pt]}}},removeLabel=function _e(et){if(et.type==="decl"){var nt=et.value;nt.charCodeAt(0)===108&&nt.charCodeAt(2)===98&&(et.return="",et.value="")}};function prefix(_e,et){switch(hash(_e,et)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace(_e,"-grow","")+WEBKIT+_e+MS+replace(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace(replace(replace(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_e)-1-et>6)switch(charat(_e,et+1)){case 109:if(charat(_e,et+4)!==45)break;case 102:return replace(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_e,et+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof(_e,"stretch")?prefix(replace(_e,"stretch","fill-available"),et)+_e:_e}break;case 4949:if(charat(_e,et+1)!==115)break;case 6444:switch(charat(_e,strlen(_e)-3-(~indexof(_e,"!important")&&10))){case 107:return replace(_e,":",":"+WEBKIT)+_e;case 101:return replace(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat(_e,et+11)){case 114:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function _e(et,nt,rt,ot){if(et.length>-1&&!et.return)switch(et.type){case DECLARATION:et.return=prefix(et.value,et.length);break;case KEYFRAMES:return serialize([copy(et,{value:replace(et.value,"@","@"+WEBKIT)})],ot);case RULESET:if(et.length)return combine(et.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(et,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],ot);case"::placeholder":return serialize([copy(et,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(et,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(et,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],ot)}return""})}},defaultStylisPlugins=[prefixer],createCache=function _e(et){var nt=et.key;if(nt==="css"){var rt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rt,function(Rt){var Bt=Rt.getAttribute("data-emotion");Bt.indexOf(" ")!==-1&&(document.head.appendChild(Rt),Rt.setAttribute("data-s",""))})}var ot=et.stylisPlugins||defaultStylisPlugins,it={},ct,lt=[];ct=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+nt+' "]'),function(Rt){for(var Bt=Rt.getAttribute("data-emotion").split(" "),Vt=1;Vt<Bt.length;Vt++)it[Bt[Vt]]=!0;lt.push(Rt)});var pt,mt=[compat,removeLabel];{var Mt,bt=[stringify,rulesheet(function(Rt){Mt.insert(Rt)})],At=middleware(mt.concat(ot,bt)),wt=function(Bt){return serialize(compile(Bt),At)};pt=function(Bt,Vt,$t,Ft){Mt=$t,wt(Bt?Bt+"{"+Vt.styles+"}":Vt.styles),Ft&&(Tt.inserted[Vt.name]=!0)}}var Tt={key:nt,sheet:new StyleSheet({key:nt,container:ct,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:it,registered:{},insert:pt};return Tt.sheet.hydrate(lt),Tt},isBrowser=!0;function getRegisteredStyles(_e,et,nt){var rt="";return nt.split(" ").forEach(function(ot){_e[ot]!==void 0?et.push(_e[ot]+";"):ot&&(rt+=ot+" ")}),rt}var registerStyles=function _e(et,nt,rt){var ot=et.key+"-"+nt.name;(rt===!1||isBrowser===!1)&&et.registered[ot]===void 0&&(et.registered[ot]=nt.styles)},insertStyles=function _e(et,nt,rt){registerStyles(et,nt,rt);var ot=et.key+"-"+nt.name;if(et.inserted[nt.name]===void 0){var it=nt;do et.insert(nt===it?"."+ot:"",it,et.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(_e){for(var et=0,nt,rt=0,ot=_e.length;ot>=4;++rt,ot-=4)nt=_e.charCodeAt(rt)&255|(_e.charCodeAt(++rt)&255)<<8|(_e.charCodeAt(++rt)&255)<<16|(_e.charCodeAt(++rt)&255)<<24,nt=(nt&65535)*1540483477+((nt>>>16)*59797<<16),nt^=nt>>>24,et=(nt&65535)*1540483477+((nt>>>16)*59797<<16)^(et&65535)*1540483477+((et>>>16)*59797<<16);switch(ot){case 3:et^=(_e.charCodeAt(rt+2)&255)<<16;case 2:et^=(_e.charCodeAt(rt+1)&255)<<8;case 1:et^=_e.charCodeAt(rt)&255,et=(et&65535)*1540483477+((et>>>16)*59797<<16)}return et^=et>>>13,et=(et&65535)*1540483477+((et>>>16)*59797<<16),((et^et>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function _e(et){return et.charCodeAt(1)===45},isProcessableValue=function _e(et){return et!=null&&typeof et!="boolean"},processStyleName=memoize(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function _e(et,nt){switch(et){case"animation":case"animationName":if(typeof nt=="string")return nt.replace(animationRegex,function(rt,ot,it){return cursor={name:ot,styles:it,next:cursor},ot})}return unitlessKeys[et]!==1&&!isCustomProperty(et)&&typeof nt=="number"&&nt!==0?nt+"px":nt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_e,et,nt){if(nt==null)return"";var rt=nt;if(rt.__emotion_styles!==void 0)return rt;switch(typeof nt){case"boolean":return"";case"object":{var ot=nt;if(ot.anim===1)return cursor={name:ot.name,styles:ot.styles,next:cursor},ot.name;var it=nt;if(it.styles!==void 0){var ct=it.next;if(ct!==void 0)for(;ct!==void 0;)cursor={name:ct.name,styles:ct.styles,next:cursor},ct=ct.next;var lt=it.styles+";";return lt}return createStringFromObject(_e,et,nt)}case"function":{if(_e!==void 0){var pt=cursor,mt=nt(_e);return cursor=pt,handleInterpolation(_e,et,mt)}break}}var Mt=nt;if(et==null)return Mt;var bt=et[Mt];return bt!==void 0?bt:Mt}function createStringFromObject(_e,et,nt){var rt="";if(Array.isArray(nt))for(var ot=0;ot<nt.length;ot++)rt+=handleInterpolation(_e,et,nt[ot])+";";else for(var it in nt){var ct=nt[it];if(typeof ct!="object"){var lt=ct;et!=null&&et[lt]!==void 0?rt+=it+"{"+et[lt]+"}":isProcessableValue(lt)&&(rt+=processStyleName(it)+":"+processStyleValue(it,lt)+";")}else{if(it==="NO_COMPONENT_SELECTOR"&&isDevelopment)throw new Error(noComponentSelectorMessage);if(Array.isArray(ct)&&typeof ct[0]=="string"&&(et==null||et[ct[0]]===void 0))for(var pt=0;pt<ct.length;pt++)isProcessableValue(ct[pt])&&(rt+=processStyleName(it)+":"+processStyleValue(it,ct[pt])+";");else{var mt=handleInterpolation(_e,et,ct);switch(it){case"animation":case"animationName":{rt+=processStyleName(it)+":"+mt+";";break}default:rt+=it+"{"+mt+"}"}}}}return rt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(_e,et,nt){if(_e.length===1&&typeof _e[0]=="object"&&_e[0]!==null&&_e[0].styles!==void 0)return _e[0];var rt=!0,ot="";cursor=void 0;var it=_e[0];if(it==null||it.raw===void 0)rt=!1,ot+=handleInterpolation(nt,et,it);else{var ct=it;ot+=ct[0]}for(var lt=1;lt<_e.length;lt++)if(ot+=handleInterpolation(nt,et,_e[lt]),rt){var pt=it;ot+=pt[lt]}labelPattern.lastIndex=0;for(var mt="",Mt;(Mt=labelPattern.exec(ot))!==null;)mt+="-"+Mt[1];var bt=murmur2(ot)+mt;return{name:bt,styles:ot,next:cursor}}var useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function _e(et){return reactExports.forwardRef(function(nt,rt){var ot=reactExports.useContext(EmotionCacheContext);return et(nt,ot,rt)})},ThemeContext=reactExports.createContext({}),getTheme=function _e(et,nt){if(typeof nt=="function"){var rt=nt(et);return rt}return _extends$1({},et,nt)},createCacheWithTheme=weakMemoize(function(_e){return weakMemoize(function(et){return getTheme(_e,et)})}),ThemeProvider=function _e(et){var nt=reactExports.useContext(ThemeContext);return et.theme!==nt&&(nt=createCacheWithTheme(nt)(et.theme)),reactExports.createElement(ThemeContext.Provider,{value:nt},et.children)},Global=withEmotionCache(function(_e,et){var nt=_e.styles,rt=serializeStyles([nt],void 0,reactExports.useContext(ThemeContext)),ot=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var it=et.key+"-global",ct=new et.sheet.constructor({key:it,nonce:et.sheet.nonce,container:et.sheet.container,speedy:et.sheet.isSpeedy}),lt=!1,pt=document.querySelector('style[data-emotion="'+it+" "+rt.name+'"]');return et.sheet.tags.length&&(ct.before=et.sheet.tags[0]),pt!==null&&(lt=!0,pt.setAttribute("data-emotion",it),ct.hydrate([pt])),ot.current=[ct,lt],function(){ct.flush()}},[et]),useInsertionEffectWithLayoutFallback(function(){var it=ot.current,ct=it[0],lt=it[1];if(lt){it[1]=!1;return}if(rt.next!==void 0&&insertStyles(et,rt.next,!0),ct.tags.length){var pt=ct.tags[ct.tags.length-1].nextElementSibling;ct.before=pt,ct.flush()}et.insert("",rt,ct,!1)},[et,rt.name]),null}),__defProp$v=Object.defineProperty,__defProps$b=Object.defineProperties,__getOwnPropDescs$b=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$w=Object.getOwnPropertySymbols,__hasOwnProp$w=Object.prototype.hasOwnProperty,__propIsEnum$w=Object.prototype.propertyIsEnumerable,__defNormalProp$v=(_e,et,nt)=>et in _e?__defProp$v(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$v=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$w.call(et,nt)&&__defNormalProp$v(_e,nt,et[nt]);if(__getOwnPropSymbols$w)for(var nt of __getOwnPropSymbols$w(et))__propIsEnum$w.call(et,nt)&&__defNormalProp$v(_e,nt,et[nt]);return _e},__spreadProps$b=(_e,et)=>__defProps$b(_e,__getOwnPropDescs$b(et));function GlobalStyles({theme:_e}){return React.createElement(Global,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:_e.colorScheme==="dark"?"dark":"light"},body:__spreadProps$b(__spreadValues$v({},_e.fn.fontStyles()),{backgroundColor:_e.colorScheme==="dark"?_e.colors.dark[7]:_e.white,color:_e.colorScheme==="dark"?_e.colors.dark[0]:_e.black,lineHeight:_e.lineHeight,fontSize:_e.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function assignSizeVariables(_e,et,nt){Object.keys(et).forEach(rt=>{_e[`--mantine-${nt}-${rt}`]=typeof et[rt]=="number"?`${et[rt]}px`:et[rt]})}function MantineCssVariables({theme:_e}){const et={"--mantine-color-white":_e.white,"--mantine-color-black":_e.black,"--mantine-transition-timing-function":_e.transitionTimingFunction,"--mantine-line-height":`${_e.lineHeight}`,"--mantine-font-family":_e.fontFamily,"--mantine-font-family-monospace":_e.fontFamilyMonospace,"--mantine-font-family-headings":_e.headings.fontFamily,"--mantine-heading-font-weight":`${_e.headings.fontWeight}`};assignSizeVariables(et,_e.shadows,"shadow"),assignSizeVariables(et,_e.fontSizes,"font-size"),assignSizeVariables(et,_e.radius,"radius"),assignSizeVariables(et,_e.spacing,"spacing"),Object.keys(_e.colors).forEach(rt=>{_e.colors[rt].forEach((ot,it)=>{et[`--mantine-color-${rt}-${it}`]=ot})});const nt=_e.headings.sizes;return Object.keys(nt).forEach(rt=>{et[`--mantine-${rt}-font-size`]=`${nt[rt].fontSize}px`,et[`--mantine-${rt}-line-height`]=`${nt[rt].lineHeight}`}),React.createElement(Global,{styles:{":root":et}})}var __defProp$u=Object.defineProperty,__defProps$a=Object.defineProperties,__getOwnPropDescs$a=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$v=Object.getOwnPropertySymbols,__hasOwnProp$v=Object.prototype.hasOwnProperty,__propIsEnum$v=Object.prototype.propertyIsEnumerable,__defNormalProp$u=(_e,et,nt)=>et in _e?__defProp$u(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$u=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$v.call(et,nt)&&__defNormalProp$u(_e,nt,et[nt]);if(__getOwnPropSymbols$v)for(var nt of __getOwnPropSymbols$v(et))__propIsEnum$v.call(et,nt)&&__defNormalProp$u(_e,nt,et[nt]);return _e},__spreadProps$a=(_e,et)=>__defProps$a(_e,__getOwnPropDescs$a(et));function mergeTheme(_e,et){if(!et)return _e;const nt=Object.keys(_e).reduce((rt,ot)=>{if(ot==="headings"&&et.headings){const it=et.headings.sizes?Object.keys(_e.headings.sizes).reduce((ct,lt)=>(ct[lt]=__spreadValues$u(__spreadValues$u({},_e.headings.sizes[lt]),et.headings.sizes[lt]),ct),{}):_e.headings.sizes;return __spreadProps$a(__spreadValues$u({},rt),{headings:__spreadProps$a(__spreadValues$u(__spreadValues$u({},_e.headings),et.headings),{sizes:it})})}return rt[ot]=typeof et[ot]=="object"?__spreadValues$u(__spreadValues$u({},_e[ot]),et[ot]):typeof et[ot]=="number"||typeof et[ot]=="boolean"||typeof et[ot]=="function"?et[ot]:et[ot]||_e[ot],rt},{});if(!(nt.primaryColor in nt.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color");return nt}function mergeThemeWithFunctions(_e,et){return attachFunctions(mergeTheme(_e,et))}function filterProps(_e){return Object.keys(_e).reduce((et,nt)=>(_e[nt]!==void 0&&(et[nt]=_e[nt]),et),{})}const styles$9={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}};function NormalizeCSS(){return React.createElement(Global,{styles:styles$9})}var __defProp$t=Object.defineProperty,__getOwnPropSymbols$u=Object.getOwnPropertySymbols,__hasOwnProp$u=Object.prototype.hasOwnProperty,__propIsEnum$u=Object.prototype.propertyIsEnumerable,__defNormalProp$t=(_e,et,nt)=>et in _e?__defProp$t(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$t=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$u.call(et,nt)&&__defNormalProp$t(_e,nt,et[nt]);if(__getOwnPropSymbols$u)for(var nt of __getOwnPropSymbols$u(et))__propIsEnum$u.call(et,nt)&&__defNormalProp$t(_e,nt,et[nt]);return _e};const MantineProviderContext=reactExports.createContext({theme:DEFAULT_THEME});function useMantineTheme(){var _e;return((_e=reactExports.useContext(MantineProviderContext))==null?void 0:_e.theme)||DEFAULT_THEME}function useMantineProviderStyles(_e){const et=useMantineTheme(),nt=rt=>{var ot,it;return{styles:((ot=et.components[rt])==null?void 0:ot.styles)||{},classNames:((it=et.components[rt])==null?void 0:it.classNames)||{}}};return Array.isArray(_e)?_e.map(nt):[nt(_e)]}function useMantineEmotionCache(){var _e;return(_e=reactExports.useContext(MantineProviderContext))==null?void 0:_e.emotionCache}function useComponentDefaultProps(_e,et,nt){var rt;const ot=useMantineTheme(),it=(rt=ot.components[_e])==null?void 0:rt.defaultProps,ct=typeof it=="function"?it(ot):it;return __spreadValues$t(__spreadValues$t(__spreadValues$t({},et),ct),filterProps(nt))}function MantineProvider({theme:_e,emotionCache:et,withNormalizeCSS:nt=!1,withGlobalStyles:rt=!1,withCSSVariables:ot=!1,inherit:it=!1,children:ct}){const lt=reactExports.useContext(MantineProviderContext),pt=mergeThemeWithFunctions(DEFAULT_THEME,it?__spreadValues$t(__spreadValues$t({},lt.theme),_e):_e);return React.createElement(ThemeProvider,{theme:pt},React.createElement(MantineProviderContext.Provider,{value:{theme:pt,emotionCache:et}},nt&&React.createElement(NormalizeCSS,null),rt&&React.createElement(GlobalStyles,{theme:pt}),ot&&React.createElement(MantineCssVariables,{theme:pt}),typeof pt.globalStyles=="function"&&React.createElement(Global,{styles:pt.globalStyles(pt)}),ct))}MantineProvider.displayName="@mantine/core/MantineProvider";function useGuaranteedMemo(_e,et){const nt=reactExports.useRef();return(!nt.current||et.length!==nt.current.prevDeps.length||nt.current.prevDeps.map((rt,ot)=>rt===et[ot]).indexOf(!1)>=0)&&(nt.current={v:_e(),prevDeps:[...et]}),nt.current.v}const defaultMantineEmotionCache=createCache({key:"mantine",prepend:!0});function useEmotionCache(){return useMantineEmotionCache()||defaultMantineEmotionCache}var __defProp$s=Object.defineProperty,__getOwnPropSymbols$t=Object.getOwnPropertySymbols,__hasOwnProp$t=Object.prototype.hasOwnProperty,__propIsEnum$t=Object.prototype.propertyIsEnumerable,__defNormalProp$s=(_e,et,nt)=>et in _e?__defProp$s(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$s=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$t.call(et,nt)&&__defNormalProp$s(_e,nt,et[nt]);if(__getOwnPropSymbols$t)for(var nt of __getOwnPropSymbols$t(et))__propIsEnum$t.call(et,nt)&&__defNormalProp$s(_e,nt,et[nt]);return _e};const refPropertyName="ref";function getRef(_e){let et;if(_e.length!==1)return{args:_e,ref:et};const[nt]=_e;if(!(nt instanceof Object))return{args:_e,ref:et};if(!(refPropertyName in nt))return{args:_e,ref:et};et=nt[refPropertyName];const rt=__spreadValues$s({},nt);return delete rt[refPropertyName],{args:[rt],ref:et}}const{cssFactory}=(()=>{function _e(nt,rt,ot){const it=[],ct=getRegisteredStyles(nt,it,ot);return it.length<2?ot:ct+rt(it)}function et(nt){const{cache:rt}=nt,ot=(...ct)=>{const{ref:lt,args:pt}=getRef(ct),mt=serializeStyles(pt,rt.registered);return insertStyles(rt,mt,!1),`${rt.key}-${mt.name}${lt===void 0?"":` ${lt}`}`};return{css:ot,cx:(...ct)=>_e(rt.registered,ot,clsx(ct))}}return{cssFactory:et}})();function useCss(){const _e=useEmotionCache();return useGuaranteedMemo(()=>cssFactory({cache:_e}),[_e])}function mergeClassNames({cx:_e,classes:et,context:nt,classNames:rt,name:ot,cache:it}){const ct=nt.reduce((lt,pt)=>(Object.keys(pt.classNames).forEach(mt=>{typeof lt[mt]!="string"?lt[mt]=`${pt.classNames[mt]}`:lt[mt]=`${lt[mt]} ${pt.classNames[mt]}`}),lt),{});return Object.keys(et).reduce((lt,pt)=>(lt[pt]=_e(et[pt],ct[pt],rt!=null&&rt[pt],Array.isArray(ot)?ot.filter(Boolean).map(mt=>`${(it==null?void 0:it.key)||"mantine"}-${mt}-${pt}`).join(" "):ot?`${(it==null?void 0:it.key)||"mantine"}-${ot}-${pt}`:null),lt),{})}var __defProp$r=Object.defineProperty,__getOwnPropSymbols$s=Object.getOwnPropertySymbols,__hasOwnProp$s=Object.prototype.hasOwnProperty,__propIsEnum$s=Object.prototype.propertyIsEnumerable,__defNormalProp$r=(_e,et,nt)=>et in _e?__defProp$r(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$r=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$s.call(et,nt)&&__defNormalProp$r(_e,nt,et[nt]);if(__getOwnPropSymbols$s)for(var nt of __getOwnPropSymbols$s(et))__propIsEnum$s.call(et,nt)&&__defNormalProp$r(_e,nt,et[nt]);return _e};function createRef(_e){return`__mantine-ref-${_e||""}`}function getStyles(_e,et,nt){const rt=ot=>typeof ot=="function"?ot(et,nt||{}):ot||{};return Array.isArray(_e)?_e.map(ot=>rt(ot.styles)).reduce((ot,it)=>(Object.keys(it).forEach(ct=>{ot[ct]?ot[ct]=__spreadValues$r(__spreadValues$r({},ot[ct]),it[ct]):ot[ct]=__spreadValues$r({},it[ct])}),ot),{}):rt(_e)}function createStyles(_e){const et=typeof _e=="function"?_e:()=>_e;function nt(rt,ot){const it=useMantineTheme(),ct=useMantineProviderStyles(ot==null?void 0:ot.name),lt=useMantineEmotionCache(),{css:pt,cx:mt}=useCss(),Mt=et(it,rt,createRef),bt=getStyles(ot==null?void 0:ot.styles,it,rt),At=getStyles(ct,it,rt),wt=Object.fromEntries(Object.keys(Mt).map(Tt=>{const Rt=mt({[pt(Mt[Tt])]:!(ot!=null&&ot.unstyled)},pt(At[Tt]),pt(bt[Tt]));return[Tt,Rt]}));return{classes:mergeClassNames({cx:mt,classes:wt,context:ct,classNames:ot==null?void 0:ot.classNames,name:ot==null?void 0:ot.name,cache:lt}),cx:mt,theme:it}}return nt}function useUncontrolled({value:_e,defaultValue:et,finalValue:nt,onChange:rt=()=>{}}){const[ot,it]=reactExports.useState(et!==void 0?et:nt),ct=lt=>{it(lt),rt==null||rt(lt)};return _e!==void 0?[_e,rt,!0]:[ot,ct,!1]}function upperFirst(_e){return typeof _e!="string"?"":_e.charAt(0).toUpperCase()+_e.slice(1)}var __getOwnPropSymbols$r=Object.getOwnPropertySymbols,__hasOwnProp$r=Object.prototype.hasOwnProperty,__propIsEnum$r=Object.prototype.propertyIsEnumerable,__objRest$i=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$r.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$r)for(var rt of __getOwnPropSymbols$r(_e))et.indexOf(rt)<0&&__propIsEnum$r.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function extractSystemStyles(_e){const et=_e,{m:nt,mx:rt,my:ot,mt:it,mb:ct,ml:lt,mr:pt,p:mt,px:Mt,py:bt,pt:At,pb:wt,pl:Tt,pr:Rt,bg:Bt,c:Vt,opacity:$t,ff:Ft,fz:Ht,fw:Qt,lts:_n,ta:hn,lh:Mn,fs:kn,tt:Cn,td:yn,w:Ut,miw:En,maw:vn,h:wn,mih:Ln,mah:Kn,bgsz:Rn,bgp:Tn,bgr:Un,bga:$n,pos:Vn,top:tr,left:Jn,bottom:wr,right:jr,inset:Zt,display:hr}=et,lo=__objRest$i(et,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:filterProps({m:nt,mx:rt,my:ot,mt:it,mb:ct,ml:lt,mr:pt,p:mt,px:Mt,py:bt,pt:At,pb:wt,pl:Tt,pr:Rt,bg:Bt,c:Vt,opacity:$t,ff:Ft,fz:Ht,fw:Qt,lts:_n,ta:hn,lh:Mn,fs:kn,tt:Cn,td:yn,w:Ut,miw:En,maw:vn,h:wn,mih:Ln,mah:Kn,bgsz:Rn,bgp:Tn,bgr:Un,bga:$n,pos:Vn,top:tr,left:Jn,bottom:wr,right:jr,inset:Zt,display:hr}),rest:lo}}function getSortedKeys(_e,et){const nt=Object.keys(_e).filter(rt=>rt!=="base").sort((rt,ot)=>et.fn.size({size:rt,sizes:et.breakpoints})-et.fn.size({size:ot,sizes:et.breakpoints}));return"base"in _e?["base",...nt]:nt}function getResponsiveValue({value:_e,theme:et,getValue:nt,property:rt}){if(_e==null)return;if(typeof _e=="object")return getSortedKeys(_e,et).reduce((ct,lt)=>{if(lt==="base"&&_e.base!==void 0){const mt=nt(_e.base,et);return Array.isArray(rt)?(rt.forEach(Mt=>{ct[Mt]=mt}),ct):(ct[rt]=mt,ct)}const pt=nt(_e[lt],et);return Array.isArray(rt)?(ct[et.fn.largerThan(lt)]={},rt.forEach(mt=>{ct[et.fn.largerThan(lt)][mt]=pt}),ct):(ct[et.fn.largerThan(lt)]={[rt]:pt},ct)},{});const ot=nt(_e,et);return Array.isArray(rt)?rt.reduce((it,ct)=>(it[ct]=ot,it),{}):{[rt]:ot}}function getColorValue(_e,et){return _e==="dimmed"?et.colorScheme==="dark"?et.colors.dark[2]:et.colors.gray[6]:et.fn.variant({variant:"filled",color:_e,primaryFallback:!1}).background}function getDefaultValue(_e){return _e}function getFontSizeValue(_e,et){return et.fn.size({size:_e,sizes:et.fontSizes})}const NEGATIVE_VALUES=["-xs","-sm","-md","-lg","-xl"];function getSpacingValue(_e,et){return NEGATIVE_VALUES.includes(_e)?et.fn.size({size:_e.replace("-",""),sizes:et.spacing})*-1:et.fn.size({size:_e,sizes:et.spacing})}const valueGetters={color:getColorValue,default:getDefaultValue,fontSize:getFontSizeValue,spacing:getSpacingValue},SYSTEM_PROPS={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var __defProp$q=Object.defineProperty,__getOwnPropSymbols$q=Object.getOwnPropertySymbols,__hasOwnProp$q=Object.prototype.hasOwnProperty,__propIsEnum$q=Object.prototype.propertyIsEnumerable,__defNormalProp$q=(_e,et,nt)=>et in _e?__defProp$q(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$q=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$q.call(et,nt)&&__defNormalProp$q(_e,nt,et[nt]);if(__getOwnPropSymbols$q)for(var nt of __getOwnPropSymbols$q(et))__propIsEnum$q.call(et,nt)&&__defNormalProp$q(_e,nt,et[nt]);return _e};function getSystemStyles(_e,et,nt=SYSTEM_PROPS){return Object.keys(nt).reduce((ot,it)=>(it in _e&&_e[it]!==void 0&&ot.push(getResponsiveValue({value:_e[it],getValue:valueGetters[nt[it].type],property:nt[it].property,theme:et})),ot),[]).reduce((ot,it)=>(Object.keys(it).forEach(ct=>{typeof it[ct]=="object"&&it[ct]!==null&&ct in ot?ot[ct]=__spreadValues$q(__spreadValues$q({},ot[ct]),it[ct]):ot[ct]=it[ct]}),ot),{})}function extractSx(_e,et){return typeof _e=="function"?_e(et):_e}function useSx(_e,et,nt){const rt=useMantineTheme(),{css:ot,cx:it}=useCss();return Array.isArray(_e)?it(nt,ot(getSystemStyles(et,rt)),_e.map(ct=>ot(extractSx(ct,rt)))):it(nt,ot(extractSx(_e,rt)),ot(getSystemStyles(et,rt)))}var __defProp$p=Object.defineProperty,__getOwnPropSymbols$p=Object.getOwnPropertySymbols,__hasOwnProp$p=Object.prototype.hasOwnProperty,__propIsEnum$p=Object.prototype.propertyIsEnumerable,__defNormalProp$p=(_e,et,nt)=>et in _e?__defProp$p(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$p=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$p.call(et,nt)&&__defNormalProp$p(_e,nt,et[nt]);if(__getOwnPropSymbols$p)for(var nt of __getOwnPropSymbols$p(et))__propIsEnum$p.call(et,nt)&&__defNormalProp$p(_e,nt,et[nt]);return _e},__objRest$h=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$p.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$p)for(var rt of __getOwnPropSymbols$p(_e))et.indexOf(rt)<0&&__propIsEnum$p.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const _Box=reactExports.forwardRef((_e,et)=>{var nt=_e,{className:rt,component:ot,style:it,sx:ct}=nt,lt=__objRest$h(nt,["className","component","style","sx"]);const{systemStyles:pt,rest:mt}=extractSystemStyles(lt),Mt=ot||"div";return React.createElement(Mt,__spreadValues$p({ref:et,className:useSx(ct,pt,rt),style:it},mt))});_Box.displayName="@mantine/core/Box";const Box=_Box;var __defProp$o=Object.defineProperty,__defProps$9=Object.defineProperties,__getOwnPropDescs$9=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$o=Object.getOwnPropertySymbols,__hasOwnProp$o=Object.prototype.hasOwnProperty,__propIsEnum$o=Object.prototype.propertyIsEnumerable,__defNormalProp$o=(_e,et,nt)=>et in _e?__defProp$o(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$o=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$o.call(et,nt)&&__defNormalProp$o(_e,nt,et[nt]);if(__getOwnPropSymbols$o)for(var nt of __getOwnPropSymbols$o(et))__propIsEnum$o.call(et,nt)&&__defNormalProp$o(_e,nt,et[nt]);return _e},__spreadProps$9=(_e,et)=>__defProps$9(_e,__getOwnPropDescs$9(et)),useStyles$8=createStyles(_e=>({root:__spreadProps$9(__spreadValues$o(__spreadValues$o({},_e.fn.focusStyles()),_e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:_e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:_e.colorScheme==="dark"?_e.colors.dark[0]:_e.black,textDecoration:"none",boxSizing:"border-box"})})),__defProp$n=Object.defineProperty,__getOwnPropSymbols$n=Object.getOwnPropertySymbols,__hasOwnProp$n=Object.prototype.hasOwnProperty,__propIsEnum$n=Object.prototype.propertyIsEnumerable,__defNormalProp$n=(_e,et,nt)=>et in _e?__defProp$n(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$n=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$n.call(et,nt)&&__defNormalProp$n(_e,nt,et[nt]);if(__getOwnPropSymbols$n)for(var nt of __getOwnPropSymbols$n(et))__propIsEnum$n.call(et,nt)&&__defNormalProp$n(_e,nt,et[nt]);return _e},__objRest$g=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$n.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$n)for(var rt of __getOwnPropSymbols$n(_e))et.indexOf(rt)<0&&__propIsEnum$n.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const _UnstyledButton=reactExports.forwardRef((_e,et)=>{const nt=useComponentDefaultProps("UnstyledButton",{},_e),{className:rt,component:ot="button",unstyled:it}=nt,ct=__objRest$g(nt,["className","component","unstyled"]),{classes:lt,cx:pt}=useStyles$8(null,{name:"UnstyledButton",unstyled:it});return React.createElement(Box,__spreadValues$n({component:ot,ref:et,className:pt(lt.root,rt),type:ot==="button"?"button":void 0},ct))});_UnstyledButton.displayName="@mantine/core/UnstyledButton";const UnstyledButton=_UnstyledButton;var __defProp$m=Object.defineProperty,__defProps$8=Object.defineProperties,__getOwnPropDescs$8=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$m=Object.getOwnPropertySymbols,__hasOwnProp$m=Object.prototype.hasOwnProperty,__propIsEnum$m=Object.prototype.propertyIsEnumerable,__defNormalProp$m=(_e,et,nt)=>et in _e?__defProp$m(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$m=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$m.call(et,nt)&&__defNormalProp$m(_e,nt,et[nt]);if(__getOwnPropSymbols$m)for(var nt of __getOwnPropSymbols$m(et))__propIsEnum$m.call(et,nt)&&__defNormalProp$m(_e,nt,et[nt]);return _e},__spreadProps$8=(_e,et)=>__defProps$8(_e,__getOwnPropDescs$8(et));const sizes$5={xs:18,sm:22,md:28,lg:34,xl:44};function getVariantStyles({variant:_e,theme:et,color:nt,gradient:rt}){const ot=et.fn.variant({color:nt,variant:_e,gradient:rt});return _e==="gradient"?{border:0,backgroundImage:ot.background,color:ot.color,"&:hover":et.fn.hover({backgroundSize:"200%"})}:__spreadValues$m({border:`1px solid ${ot.border}`,backgroundColor:ot.background,color:ot.color},et.fn.hover({backgroundColor:ot.hover}))}var useStyles$7=createStyles((_e,{color:et,size:nt,radius:rt,variant:ot,gradient:it})=>({root:__spreadProps$8(__spreadValues$m({},getVariantStyles({variant:ot,theme:_e,color:et,gradient:it})),{position:"relative",height:_e.fn.size({size:nt,sizes:sizes$5}),minHeight:_e.fn.size({size:nt,sizes:sizes$5}),width:_e.fn.size({size:nt,sizes:sizes$5}),minWidth:_e.fn.size({size:nt,sizes:sizes$5}),borderRadius:_e.fn.radius(rt),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":_e.activeStyles,"&:disabled, &[data-disabled]":{color:_e.colors.gray[_e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:ot==="transparent"?void 0:_e.fn.themeColor("gray",_e.colorScheme==="dark"?8:1),borderColor:ot==="transparent"?void 0:_e.fn.themeColor("gray",_e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:_e.colorScheme==="dark"?_e.fn.rgba(_e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:_e.fn.radius(rt),cursor:"not-allowed"}}})})),__defProp$l=Object.defineProperty,__getOwnPropSymbols$l=Object.getOwnPropertySymbols,__hasOwnProp$l=Object.prototype.hasOwnProperty,__propIsEnum$l=Object.prototype.propertyIsEnumerable,__defNormalProp$l=(_e,et,nt)=>et in _e?__defProp$l(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$l=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$l.call(et,nt)&&__defNormalProp$l(_e,nt,et[nt]);if(__getOwnPropSymbols$l)for(var nt of __getOwnPropSymbols$l(et))__propIsEnum$l.call(et,nt)&&__defNormalProp$l(_e,nt,et[nt]);return _e},__objRest$f=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$l.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$l)for(var rt of __getOwnPropSymbols$l(_e))et.indexOf(rt)<0&&__propIsEnum$l.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function Bars(_e){var et=_e,{size:nt,color:rt}=et,ot=__objRest$f(et,["size","color"]);return React.createElement("svg",__spreadValues$l({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:rt,width:`${nt}px`},ot),React.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},React.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),React.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},React.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),React.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},React.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),React.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},React.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),React.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},React.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var __defProp$k=Object.defineProperty,__getOwnPropSymbols$k=Object.getOwnPropertySymbols,__hasOwnProp$k=Object.prototype.hasOwnProperty,__propIsEnum$k=Object.prototype.propertyIsEnumerable,__defNormalProp$k=(_e,et,nt)=>et in _e?__defProp$k(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$k=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$k.call(et,nt)&&__defNormalProp$k(_e,nt,et[nt]);if(__getOwnPropSymbols$k)for(var nt of __getOwnPropSymbols$k(et))__propIsEnum$k.call(et,nt)&&__defNormalProp$k(_e,nt,et[nt]);return _e},__objRest$e=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$k.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$k)for(var rt of __getOwnPropSymbols$k(_e))et.indexOf(rt)<0&&__propIsEnum$k.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function Oval(_e){var et=_e,{size:nt,color:rt}=et,ot=__objRest$e(et,["size","color"]);return React.createElement("svg",__spreadValues$k({width:`${nt}px`,height:`${nt}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:rt},ot),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},React.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),React.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},React.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var __defProp$j=Object.defineProperty,__getOwnPropSymbols$j=Object.getOwnPropertySymbols,__hasOwnProp$j=Object.prototype.hasOwnProperty,__propIsEnum$j=Object.prototype.propertyIsEnumerable,__defNormalProp$j=(_e,et,nt)=>et in _e?__defProp$j(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$j=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$j.call(et,nt)&&__defNormalProp$j(_e,nt,et[nt]);if(__getOwnPropSymbols$j)for(var nt of __getOwnPropSymbols$j(et))__propIsEnum$j.call(et,nt)&&__defNormalProp$j(_e,nt,et[nt]);return _e},__objRest$d=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$j.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$j)for(var rt of __getOwnPropSymbols$j(_e))et.indexOf(rt)<0&&__propIsEnum$j.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function Dots(_e){var et=_e,{size:nt,color:rt}=et,ot=__objRest$d(et,["size","color"]);return React.createElement("svg",__spreadValues$j({width:`${nt}px`,height:`${nt/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:rt},ot),React.createElement("circle",{cx:"15",cy:"15",r:"15"},React.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),React.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},React.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),React.createElement("circle",{cx:"105",cy:"15",r:"15"},React.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var __defProp$i=Object.defineProperty,__getOwnPropSymbols$i=Object.getOwnPropertySymbols,__hasOwnProp$i=Object.prototype.hasOwnProperty,__propIsEnum$i=Object.prototype.propertyIsEnumerable,__defNormalProp$i=(_e,et,nt)=>et in _e?__defProp$i(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$i=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$i.call(et,nt)&&__defNormalProp$i(_e,nt,et[nt]);if(__getOwnPropSymbols$i)for(var nt of __getOwnPropSymbols$i(et))__propIsEnum$i.call(et,nt)&&__defNormalProp$i(_e,nt,et[nt]);return _e},__objRest$c=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$i.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$i)for(var rt of __getOwnPropSymbols$i(_e))et.indexOf(rt)<0&&__propIsEnum$i.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const LOADERS={bars:Bars,oval:Oval,dots:Dots},sizes$4={xs:18,sm:22,md:36,lg:44,xl:58},defaultProps$4={size:"md"};function Loader(_e){const et=useComponentDefaultProps("Loader",defaultProps$4,_e),{size:nt,color:rt,variant:ot}=et,it=__objRest$c(et,["size","color","variant"]),ct=useMantineTheme(),lt=ot in LOADERS?ot:ct.loader;return React.createElement(Box,__spreadValues$i({role:"presentation",component:LOADERS[lt]||LOADERS.bars,size:ct.fn.size({size:nt,sizes:sizes$4}),color:ct.fn.variant({variant:"filled",primaryFallback:!1,color:rt||ct.primaryColor}).background},it))}Loader.displayName="@mantine/core/Loader";var __defProp$h=Object.defineProperty,__getOwnPropSymbols$h=Object.getOwnPropertySymbols,__hasOwnProp$h=Object.prototype.hasOwnProperty,__propIsEnum$h=Object.prototype.propertyIsEnumerable,__defNormalProp$h=(_e,et,nt)=>et in _e?__defProp$h(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$h=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$h.call(et,nt)&&__defNormalProp$h(_e,nt,et[nt]);if(__getOwnPropSymbols$h)for(var nt of __getOwnPropSymbols$h(et))__propIsEnum$h.call(et,nt)&&__defNormalProp$h(_e,nt,et[nt]);return _e},__objRest$b=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$h.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$h)for(var rt of __getOwnPropSymbols$h(_e))et.indexOf(rt)<0&&__propIsEnum$h.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const defaultProps$3={color:"gray",size:"md",variant:"subtle",loading:!1},_ActionIcon=reactExports.forwardRef((_e,et)=>{const nt=useComponentDefaultProps("ActionIcon",defaultProps$3,_e),{className:rt,color:ot,children:it,radius:ct,size:lt,variant:pt,gradient:mt,disabled:Mt,loaderProps:bt,loading:At,unstyled:wt}=nt,Tt=__objRest$b(nt,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:Rt,cx:Bt,theme:Vt}=useStyles$7({size:lt,radius:ct,color:ot,variant:pt,gradient:mt},{name:"ActionIcon",unstyled:wt}),$t=Vt.fn.variant({color:ot,variant:pt}),Ft=React.createElement(Loader,__spreadValues$h({color:$t.color,size:Vt.fn.size({size:lt,sizes:sizes$5})-12},bt));return React.createElement(UnstyledButton,__spreadValues$h({className:Bt(Rt.root,rt),ref:et,disabled:Mt,"data-disabled":Mt||void 0,"data-loading":At||void 0,unstyled:wt},Tt),At?Ft:it)});_ActionIcon.displayName="@mantine/core/ActionIcon";const ActionIcon=_ActionIcon;var __defProp$g=Object.defineProperty,__defProps$7=Object.defineProperties,__getOwnPropDescs$7=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__defNormalProp$g=(_e,et,nt)=>et in _e?__defProp$g(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$g=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$g.call(et,nt)&&__defNormalProp$g(_e,nt,et[nt]);if(__getOwnPropSymbols$g)for(var nt of __getOwnPropSymbols$g(et))__propIsEnum$g.call(et,nt)&&__defNormalProp$g(_e,nt,et[nt]);return _e},__spreadProps$7=(_e,et)=>__defProps$7(_e,__getOwnPropDescs$7(et));function getTextDecoration({underline:_e,strikethrough:et}){const nt=[];return _e&&nt.push("underline"),et&&nt.push("line-through"),nt.length>0?nt.join(" "):"none"}function getTextColor({theme:_e,color:et,variant:nt}){return et==="dimmed"?_e.colorScheme==="dark"?_e.colors.dark[2]:_e.colors.gray[6]:typeof et=="string"&&(et in _e.colors||et.split(".")[0]in _e.colors)?_e.fn.variant({variant:"filled",color:et}).background:nt==="link"?_e.colors[_e.primaryColor][_e.colorScheme==="dark"?4:7]:et||"inherit"}function getLineClamp(_e){return typeof _e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:_e,WebkitBoxOrient:"vertical"}:null}function getTruncate({theme:_e,truncate:et}){return et==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:_e.dir==="ltr"?"rtl":"ltr",textAlign:_e.dir==="ltr"?"right":"left"}:et?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var useStyles$6=createStyles((_e,{color:et,variant:nt,size:rt,lineClamp:ot,truncate:it,inline:ct,inherit:lt,underline:pt,gradient:mt,weight:Mt,transform:bt,align:At,strikethrough:wt,italic:Tt})=>{const Rt=_e.fn.variant({variant:"gradient",gradient:mt});return{root:__spreadValues$g(__spreadProps$7(__spreadValues$g(__spreadValues$g(__spreadValues$g(__spreadValues$g({},_e.fn.fontStyles()),_e.fn.focusStyles()),getLineClamp(ot)),getTruncate({theme:_e,truncate:it})),{color:getTextColor({color:et,theme:_e,variant:nt}),fontFamily:lt?"inherit":_e.fontFamily,fontSize:lt||rt===void 0?"inherit":_e.fn.size({size:rt,sizes:_e.fontSizes}),lineHeight:lt?"inherit":ct?1:_e.lineHeight,textDecoration:getTextDecoration({underline:pt,strikethrough:wt}),WebkitTapHighlightColor:"transparent",fontWeight:lt?"inherit":Mt,textTransform:bt,textAlign:At,fontStyle:Tt?"italic":void 0}),_e.fn.hover(nt==="link"&&pt===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:Rt.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),__defProp$f=Object.defineProperty,__getOwnPropSymbols$f=Object.getOwnPropertySymbols,__hasOwnProp$f=Object.prototype.hasOwnProperty,__propIsEnum$f=Object.prototype.propertyIsEnumerable,__defNormalProp$f=(_e,et,nt)=>et in _e?__defProp$f(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$f=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$f.call(et,nt)&&__defNormalProp$f(_e,nt,et[nt]);if(__getOwnPropSymbols$f)for(var nt of __getOwnPropSymbols$f(et))__propIsEnum$f.call(et,nt)&&__defNormalProp$f(_e,nt,et[nt]);return _e},__objRest$a=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$f.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$f)for(var rt of __getOwnPropSymbols$f(_e))et.indexOf(rt)<0&&__propIsEnum$f.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const defaultProps$2={variant:"text"},_Text=reactExports.forwardRef((_e,et)=>{const nt=useComponentDefaultProps("Text",defaultProps$2,_e),{className:rt,size:ot,weight:it,transform:ct,color:lt,align:pt,variant:mt,lineClamp:Mt,truncate:bt,gradient:At,inline:wt,inherit:Tt,underline:Rt,strikethrough:Bt,italic:Vt,classNames:$t,styles:Ft,unstyled:Ht,span:Qt}=nt,_n=__objRest$a(nt,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:hn,cx:Mn}=useStyles$6({variant:mt,color:lt,size:ot,lineClamp:Mt,truncate:bt,inline:wt,inherit:Tt,underline:Rt,strikethrough:Bt,italic:Vt,weight:it,transform:ct,align:pt,gradient:At},{unstyled:Ht,name:"Text"});return React.createElement(Box,__spreadValues$f({ref:et,className:Mn(hn.root,{[hn.gradient]:mt==="gradient"},rt),component:Qt?"span":"div"},_n))});_Text.displayName="@mantine/core/Text";const Text=_Text;var __defProp$e=Object.defineProperty,__getOwnPropSymbols$e=Object.getOwnPropertySymbols,__hasOwnProp$e=Object.prototype.hasOwnProperty,__propIsEnum$e=Object.prototype.propertyIsEnumerable,__defNormalProp$e=(_e,et,nt)=>et in _e?__defProp$e(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$e=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$e.call(et,nt)&&__defNormalProp$e(_e,nt,et[nt]);if(__getOwnPropSymbols$e)for(var nt of __getOwnPropSymbols$e(et))__propIsEnum$e.call(et,nt)&&__defNormalProp$e(_e,nt,et[nt]);return _e},__objRest$9=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$e.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$e)for(var rt of __getOwnPropSymbols$e(_e))et.indexOf(rt)<0&&__propIsEnum$e.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const iconSizes$1={xs:14,sm:18,md:20,lg:24,xl:28};function ChevronIcon(_e){var et=_e,{size:nt,error:rt,style:ot}=et,it=__objRest$9(et,["size","error","style"]);const ct=useMantineTheme(),lt=ct.fn.size({size:nt,sizes:iconSizes$1});return React.createElement("svg",__spreadValues$e({width:lt,height:lt,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:__spreadValues$e({color:rt?ct.colors.red[6]:ct.colors.gray[6]},ot),"data-chevron":!0},it),React.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function getDecadeRange(_e){const et=_e-_e%10-1,nt=[];for(let rt=0;rt<12;rt+=1){const ot=et+rt;nt.push(ot)}return nt}var __defProp$d=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$d=Object.getOwnPropertySymbols,__hasOwnProp$d=Object.prototype.hasOwnProperty,__propIsEnum$d=Object.prototype.propertyIsEnumerable,__defNormalProp$d=(_e,et,nt)=>et in _e?__defProp$d(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$d=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$d.call(et,nt)&&__defNormalProp$d(_e,nt,et[nt]);if(__getOwnPropSymbols$d)for(var nt of __getOwnPropSymbols$d(et))__propIsEnum$d.call(et,nt)&&__defNormalProp$d(_e,nt,et[nt]);return _e},__spreadProps$6=(_e,et)=>__defProps$6(_e,__getOwnPropDescs$6(et)),__objRest$8=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$d.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$d)for(var rt of __getOwnPropSymbols$d(_e))et.indexOf(rt)<0&&__propIsEnum$d.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function ArrowIcon(_e){var et=_e,{direction:nt,style:rt}=et,ot=__objRest$8(et,["direction","style"]);const it=useMantineTheme();return React.createElement("svg",__spreadValues$d({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:__spreadProps$6(__spreadValues$d({},rt),{transform:nt==="right"&&it.dir==="ltr"||nt==="left"&&it.dir==="rtl"?"rotate(180deg)":"none"})},ot),React.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}ArrowIcon.displayName="@mantine/dates/ArrowIcon";var __defProp$c=Object.defineProperty,__defProps$5=Object.defineProperties,__getOwnPropDescs$5=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$c=Object.getOwnPropertySymbols,__hasOwnProp$c=Object.prototype.hasOwnProperty,__propIsEnum$c=Object.prototype.propertyIsEnumerable,__defNormalProp$c=(_e,et,nt)=>et in _e?__defProp$c(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$c=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$c.call(et,nt)&&__defNormalProp$c(_e,nt,et[nt]);if(__getOwnPropSymbols$c)for(var nt of __getOwnPropSymbols$c(et))__propIsEnum$c.call(et,nt)&&__defNormalProp$c(_e,nt,et[nt]);return _e},__spreadProps$5=(_e,et)=>__defProps$5(_e,__getOwnPropDescs$5(et));const sizes$3={xs:32,sm:40,md:44,lg:50,xl:54};var useStyles$5=createStyles((_e,{size:et})=>({calendarHeader:{display:"flex",justifyContent:"space-between",align:"center",marginBottom:_e.fn.size({size:et,sizes:_e.spacing})},calendarHeaderControl:{width:_e.fn.size({size:et,sizes:sizes$3}),height:_e.fn.size({size:et,sizes:sizes$3}),"&:disabled":{opacity:0,cursor:"default"}},calendarHeaderLevel:__spreadProps$5(__spreadValues$c({display:"flex",alignItems:"center",justifyContent:"center",height:_e.fn.size({size:et,sizes:sizes$3}),fontSize:_e.fn.size({size:et,sizes:_e.fontSizes}),padding:`0 ${_e.fn.size({size:et,sizes:_e.spacing})}px`,borderRadius:_e.radius.sm,fontWeight:500,flex:1,textAlign:"center",color:_e.colorScheme==="dark"?_e.colors.dark[0]:_e.black},_e.fn.hover({backgroundColor:_e.colorScheme==="dark"?_e.colors.dark[8]:_e.colors.gray[0]})),{"&:disabled":_e.fn.hover({backgroundColor:"transparent",cursor:"default"})}),calendarHeaderLevelIcon:{marginLeft:4}})),__defProp$b=Object.defineProperty,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$b=(_e,et,nt)=>et in _e?__defProp$b(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$b=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$b.call(et,nt)&&__defNormalProp$b(_e,nt,et[nt]);if(__getOwnPropSymbols$b)for(var nt of __getOwnPropSymbols$b(et))__propIsEnum$b.call(et,nt)&&__defNormalProp$b(_e,nt,et[nt]);return _e},__objRest$7=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$b.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$b)for(var rt of __getOwnPropSymbols$b(_e))et.indexOf(rt)<0&&__propIsEnum$b.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const iconSizes={xs:12,sm:14,md:18,lg:22,xl:28};function CalendarHeader(_e){var et=_e,{hasNext:nt,hasPrevious:rt,onNext:ot,onPrevious:it,onNextLevel:ct,className:lt,label:pt,nextLevelDisabled:mt,size:Mt,classNames:bt,styles:At,__staticSelector:wt="CalendarHeader",nextLabel:Tt,previousLabel:Rt,preventLevelFocus:Bt=!1,preventFocus:Vt,unstyled:$t,__stopPropagation:Ft}=et,Ht=__objRest$7(et,["hasNext","hasPrevious","onNext","onPrevious","onNextLevel","className","label","nextLevelDisabled","size","classNames","styles","__staticSelector","nextLabel","previousLabel","preventLevelFocus","preventFocus","unstyled","__stopPropagation"]);const{classes:Qt,cx:_n,theme:hn}=useStyles$5({size:Mt},{classNames:bt,styles:At,unstyled:$t,name:wt}),Mn=hn.fn.size({size:Mt,sizes:iconSizes});return React.createElement("div",__spreadValues$b({className:_n(Qt.calendarHeader,lt)},Ht),React.createElement(ActionIcon,{className:Qt.calendarHeaderControl,disabled:!rt,onClick:it,"aria-label":Rt,onMouseDown:kn=>Vt&&kn.preventDefault(),unstyled:$t,"data-mantine-stop-propagation":Ft||void 0},React.createElement(ArrowIcon,{direction:"left",width:Mn,height:Mn})),React.createElement(UnstyledButton,{unstyled:$t,className:Qt.calendarHeaderLevel,disabled:mt,onClick:ct,tabIndex:Bt?-1:0,onMouseDown:kn=>Vt&&kn.preventDefault(),"data-mantine-stop-propagation":Ft||void 0},pt,!mt&&React.createElement(ChevronIcon,{error:!1,size:Mt,className:Qt.calendarHeaderLevelIcon})),React.createElement(ActionIcon,{className:Qt.calendarHeaderControl,disabled:!nt,onClick:ot,"aria-label":Tt,unstyled:$t,onMouseDown:kn=>Vt&&kn.preventDefault(),"data-mantine-stop-propagation":Ft||void 0},React.createElement(ArrowIcon,{direction:"right",width:Mn,height:Mn})))}CalendarHeader.displayName="@mantine/dates/CalendarHeader";function formatYear(_e,et){return dayjs(new Date(_e,1,1)).format(et)}var __defProp$a=Object.defineProperty,__defProps$4=Object.defineProperties,__getOwnPropDescs$4=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$a=Object.getOwnPropertySymbols,__hasOwnProp$a=Object.prototype.hasOwnProperty,__propIsEnum$a=Object.prototype.propertyIsEnumerable,__defNormalProp$a=(_e,et,nt)=>et in _e?__defProp$a(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$a=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$a.call(et,nt)&&__defNormalProp$a(_e,nt,et[nt]);if(__getOwnPropSymbols$a)for(var nt of __getOwnPropSymbols$a(et))__propIsEnum$a.call(et,nt)&&__defNormalProp$a(_e,nt,et[nt]);return _e},__spreadProps$4=(_e,et)=>__defProps$4(_e,__getOwnPropDescs$4(et));const sizes$2={xs:32,sm:40,md:46,lg:52,xl:56};var useStyles$4=createStyles((_e,{size:et})=>{const nt=_e.fn.variant({color:_e.primaryColor,variant:"filled"});return{yearPicker:{width:"100%"},yearPickerControls:{display:"flex",flexWrap:"wrap",justifyContent:"center"},yearPickerControl:__spreadProps$4(__spreadValues$a({flex:"0 0 25%",color:_e.colorScheme==="dark"?_e.colors.dark[0]:_e.black,height:_e.fn.size({size:et,sizes:sizes$2}),textAlign:"center",borderRadius:_e.radius.sm,fontSize:_e.fn.size({size:et,sizes:_e.fontSizes})},_e.fn.hover({backgroundColor:_e.colorScheme==="dark"?_e.colors.dark[8]:_e.colors.gray[0]})),{"&:disabled":__spreadValues$a({color:_e.colorScheme==="dark"?_e.colors.dark[3]:_e.colors.gray[4],cursor:"not-allowed"},_e.fn.hover({backgroundColor:"transparent"}))}),yearPickerControlActive:__spreadValues$a({backgroundColor:nt.background,color:nt.color},_e.fn.hover({backgroundColor:nt.hover}))}}),__defProp$9=Object.defineProperty,__getOwnPropSymbols$9=Object.getOwnPropertySymbols,__hasOwnProp$9=Object.prototype.hasOwnProperty,__propIsEnum$9=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(_e,et,nt)=>et in _e?__defProp$9(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$9=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$9.call(et,nt)&&__defNormalProp$9(_e,nt,et[nt]);if(__getOwnPropSymbols$9)for(var nt of __getOwnPropSymbols$9(et))__propIsEnum$9.call(et,nt)&&__defNormalProp$9(_e,nt,et[nt]);return _e},__objRest$6=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$9.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$9)for(var rt of __getOwnPropSymbols$9(_e))et.indexOf(rt)<0&&__propIsEnum$9.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function YearPicker(_e){var et=_e,{className:nt,styles:rt,classNames:ot,value:it,onChange:ct,size:lt,minYear:pt,maxYear:mt,__staticSelector:Mt="YearPicker",nextDecadeLabel:bt,previousDecadeLabel:At,preventFocus:wt,unstyled:Tt,yearLabelFormat:Rt="YYYY",__stopPropagation:Bt}=et,Vt=__objRest$6(et,["className","styles","classNames","value","onChange","size","minYear","maxYear","__staticSelector","nextDecadeLabel","previousDecadeLabel","preventFocus","unstyled","yearLabelFormat","__stopPropagation"]);const{classes:$t,cx:Ft}=useStyles$4({size:lt},{classNames:ot,styles:rt,unstyled:Tt,name:Mt}),[Ht,Qt]=reactExports.useState(it),_n=getDecadeRange(Ht),hn=_n.map(Mn=>React.createElement(UnstyledButton,{key:Mn,unstyled:Tt,onClick:()=>ct(Mn),disabled:Mn<pt||Mn>mt,onMouseDown:kn=>wt&&kn.preventDefault(),"data-mantine-stop-propagation":Bt||void 0,className:Ft($t.yearPickerControl,{[$t.yearPickerControlActive]:Mn===it})},formatYear(Mn,Rt)));return React.createElement("div",__spreadValues$9({className:Ft($t.yearPicker,nt)},Vt),React.createElement(CalendarHeader,{unstyled:Tt,label:`${formatYear(_n[0],Rt)}  ${formatYear(_n[_n.length-1],Rt)}`,hasPrevious:typeof pt=="number"?pt<_n[0]:!0,hasNext:typeof mt=="number"?mt>_n[_n.length-1]:!0,onNext:()=>Qt(Mn=>Mn+10),onPrevious:()=>Qt(Mn=>Mn-10),nextLevelDisabled:!0,size:lt,nextLabel:bt,previousLabel:At,styles:rt,classNames:ot,__staticSelector:Mt,preventFocus:wt,__stopPropagation:Bt}),React.createElement("div",{className:$t.yearPickerControls},hn))}YearPicker.displayName="@mantine/dates/YearPicker";function isMonthInRange({date:_e,minDate:et,maxDate:nt}){const rt=et instanceof Date,ot=nt instanceof Date;if(!ot&&!rt)return!0;const it=dayjs(_e).endOf("month"),ct=dayjs(_e).startOf("month"),lt=ot?ct.isBefore(nt):!0,pt=rt?it.isAfter(et):!0;return lt&&pt}var __defProp$8=Object.defineProperty,__defProps$3=Object.defineProperties,__getOwnPropDescs$3=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__defNormalProp$8=(_e,et,nt)=>et in _e?__defProp$8(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$8=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$8.call(et,nt)&&__defNormalProp$8(_e,nt,et[nt]);if(__getOwnPropSymbols$8)for(var nt of __getOwnPropSymbols$8(et))__propIsEnum$8.call(et,nt)&&__defNormalProp$8(_e,nt,et[nt]);return _e},__spreadProps$3=(_e,et)=>__defProps$3(_e,__getOwnPropDescs$3(et));const sizes$1={xs:32,sm:40,md:46,lg:52,xl:56};var useStyles$3=createStyles((_e,{size:et})=>{const nt=_e.fn.variant({color:_e.primaryColor,variant:"filled"});return{monthPicker:{width:"100%"},monthPickerControls:{display:"flex",flexWrap:"wrap",justifyContent:"center"},monthPickerControl:__spreadProps$3(__spreadValues$8({flex:"0 0 33.3333%",color:_e.colorScheme==="dark"?_e.colors.dark[0]:_e.black,height:_e.fn.size({size:et,sizes:sizes$1}),textAlign:"center",borderRadius:_e.radius.sm,fontSize:_e.fn.size({size:et,sizes:_e.fontSizes})},_e.fn.hover({backgroundColor:_e.colorScheme==="dark"?_e.colors.dark[8]:_e.colors.gray[0]})),{"&:disabled":__spreadValues$8({color:_e.colorScheme==="dark"?_e.colors.dark[3]:_e.colors.gray[4],cursor:"not-allowed"},_e.fn.hover({backgroundColor:"transparent"}))}),monthPickerControlActive:__spreadValues$8({backgroundColor:nt.background,color:nt.color},_e.fn.hover({backgroundColor:nt.hover}))}}),__defProp$7=Object.defineProperty,__getOwnPropSymbols$7=Object.getOwnPropertySymbols,__hasOwnProp$7=Object.prototype.hasOwnProperty,__propIsEnum$7=Object.prototype.propertyIsEnumerable,__defNormalProp$7=(_e,et,nt)=>et in _e?__defProp$7(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$7=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$7.call(et,nt)&&__defNormalProp$7(_e,nt,et[nt]);if(__getOwnPropSymbols$7)for(var nt of __getOwnPropSymbols$7(et))__propIsEnum$7.call(et,nt)&&__defNormalProp$7(_e,nt,et[nt]);return _e},__objRest$5=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$7.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$7)for(var rt of __getOwnPropSymbols$7(_e))et.indexOf(rt)<0&&__propIsEnum$7.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function MonthPicker(_e){var et=_e,{className:nt,styles:rt,classNames:ot,value:it,onChange:ct,locale:lt,year:pt,onYearChange:mt,onNextLevel:Mt,size:bt,minDate:At,maxDate:wt,__staticSelector:Tt="MonthPicker",nextYearLabel:Rt,previousYearLabel:Bt,preventFocus:Vt,unstyled:$t,yearLabelFormat:Ft="YYYY",__stopPropagation:Ht}=et,Qt=__objRest$5(et,["className","styles","classNames","value","onChange","locale","year","onYearChange","onNextLevel","size","minDate","maxDate","__staticSelector","nextYearLabel","previousYearLabel","preventFocus","unstyled","yearLabelFormat","__stopPropagation"]);const{classes:_n,cx:hn}=useStyles$3({size:bt},{classNames:ot,styles:rt,unstyled:$t,name:Tt}),Mn=getMonthsNames(lt),kn=At instanceof Date?At.getFullYear():void 0,Cn=wt instanceof Date?wt.getFullYear():void 0,yn=Mn.map((Ut,En)=>React.createElement(UnstyledButton,{key:Ut,unstyled:$t,onClick:()=>ct(En),className:hn(_n.monthPickerControl,{[_n.monthPickerControlActive]:En===it.month&&pt===it.year}),disabled:!isMonthInRange({date:new Date(pt,En),minDate:At,maxDate:wt}),onMouseDown:vn=>Vt&&vn.preventDefault(),"data-mantine-stop-propagation":Ht||void 0},Ut));return React.createElement("div",__spreadValues$7({className:hn(_n.monthPicker,nt)},Qt),React.createElement(CalendarHeader,{label:formatYear(pt,Ft),hasNext:typeof Cn=="number"?pt<Cn:!0,hasPrevious:typeof kn=="number"?pt>kn:!0,onNext:()=>mt(pt+1),onPrevious:()=>mt(pt-1),onNextLevel:Mt,size:bt,classNames:ot,styles:rt,__staticSelector:Tt,nextLabel:Rt,previousLabel:Bt,preventFocus:Vt,unstyled:$t,__stopPropagation:Ht}),React.createElement("div",{className:_n.monthPickerControls},yn))}MonthPicker.displayName="@mantine/dates/MonthPicker";function formatMonthLabel({month:_e,locale:et,format:nt}){return upperFirst(dayjs(_e).locale(et).format(nt))}function getDayTabIndex({focusable:_e,hasValue:et,selected:nt,firstInMonth:rt}){return _e?et?nt?0:-1:rt?0:-1:-1}function getDayAutofocus({hasValue:_e,selected:et,firstInMonth:nt}){return _e?et?!0:void 0:nt?!0:void 0}var __defProp$6=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__defNormalProp$6=(_e,et,nt)=>et in _e?__defProp$6(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$6=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$6.call(et,nt)&&__defNormalProp$6(_e,nt,et[nt]);if(__getOwnPropSymbols$6)for(var nt of __getOwnPropSymbols$6(et))__propIsEnum$6.call(et,nt)&&__defNormalProp$6(_e,nt,et[nt]);return _e},__spreadProps$2=(_e,et)=>__defProps$2(_e,__getOwnPropDescs$2(et));const sizes={xs:34,sm:38,md:46,lg:58,xl:66};var useStyles$2=createStyles((_e,{size:et,fullWidth:nt,hideOutsideDates:rt})=>({day:__spreadProps$2(__spreadValues$6(__spreadProps$2(__spreadValues$6(__spreadValues$6({},_e.fn.fontStyles()),_e.fn.focusStyles()),{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",width:nt?"100%":_e.fn.size({size:et,sizes}),height:_e.fn.size({size:et,sizes}),lineHeight:`${_e.fn.size({size:et,sizes})}px`,fontSize:_e.fn.size({size:et,sizes:_e.fontSizes}),padding:0,borderRadius:_e.radius.sm,border:"none",cursor:"pointer",userSelect:"none",color:_e.colorScheme==="dark"?_e.colors.dark[0]:_e.colors.gray[7],"&:disabled":{pointerEvents:"none",color:_e.colorScheme==="dark"?_e.colors.dark[3]:_e.colors.gray[4]}}),_e.fn.hover({backgroundColor:_e.colorScheme==="dark"?_e.colors.dark[5]:_e.colors.gray[0]})),{"&[data-weekend]":{color:_e.colorScheme==="dark"?_e.colors.red[5]:_e.colors.red[7]},"&[data-outside]":{display:rt?"none":void 0,color:`${_e.colorScheme==="dark"?_e.colors.dark[3]:_e.colors.gray[4]}`},"&[data-in-range]":{backgroundColor:_e.fn.variant({variant:"light"}).background,borderRadius:0},"&[data-selected]":{backgroundColor:_e.fn.variant({variant:"filled"}).background,color:_e.white},"&[data-first-in-range]":{borderTopLeftRadius:_e.radius.sm,borderBottomLeftRadius:_e.radius.sm},"&[data-last-in-range]":{borderTopRightRadius:_e.radius.sm,borderBottomRightRadius:_e.radius.sm}})})),__defProp$5=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$5=Object.getOwnPropertySymbols,__hasOwnProp$5=Object.prototype.hasOwnProperty,__propIsEnum$5=Object.prototype.propertyIsEnumerable,__defNormalProp$5=(_e,et,nt)=>et in _e?__defProp$5(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$5=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$5.call(et,nt)&&__defNormalProp$5(_e,nt,et[nt]);if(__getOwnPropSymbols$5)for(var nt of __getOwnPropSymbols$5(et))__propIsEnum$5.call(et,nt)&&__defNormalProp$5(_e,nt,et[nt]);return _e},__spreadProps$1=(_e,et)=>__defProps$1(_e,__getOwnPropDescs$1(et)),__objRest$4=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$5.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$5)for(var rt of __getOwnPropSymbols$5(_e))et.indexOf(rt)<0&&__propIsEnum$5.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const Day=reactExports.forwardRef((_e,et)=>{var nt=_e,{className:rt,value:ot,selected:it,weekend:ct,outside:lt,onMouseEnter:pt,classNames:mt,styles:Mt,hasValue:bt,firstInRange:At,lastInRange:wt,__staticSelector:Tt="Month",inRange:Rt,size:Bt,fullWidth:Vt,firstInMonth:$t,focusable:Ft,hideOutsideDates:Ht,renderDay:Qt,unstyled:_n,disabled:hn,stopPropagation:Mn}=nt,kn=__objRest$4(nt,["className","value","selected","weekend","outside","onMouseEnter","classNames","styles","hasValue","firstInRange","lastInRange","__staticSelector","inRange","size","fullWidth","firstInMonth","focusable","hideOutsideDates","renderDay","unstyled","disabled","stopPropagation"]);const{classes:Cn,cx:yn}=useStyles$2({size:Bt,fullWidth:Vt,hideOutsideDates:Ht},{classNames:mt,styles:Mt,unstyled:_n,name:Tt});return React.createElement("button",__spreadProps$1(__spreadValues$5({},kn),{type:"button",ref:et,disabled:hn,onMouseEnter:Ut=>pt(ot,Ut),tabIndex:getDayTabIndex({focusable:Ft,hasValue:bt,selected:it,firstInMonth:$t}),"data-autofocus":getDayAutofocus({hasValue:bt,selected:it,firstInMonth:$t}),"data-mantine-stop-propagation":Mn||void 0,"data-outside":lt&&!hn||void 0,"data-weekend":ct&&!hn||void 0,"data-selected":it&&!hn||void 0,"data-in-range":Rt&&!hn||void 0,"data-first-in-range":At&&!hn||void 0,"data-last-in-range":wt&&!hn||void 0,className:yn(Cn.day,rt)}),typeof Qt=="function"?Qt(ot):ot.getDate())});Day.displayName="@mantine/core/Day";function isWeekend(_e,et=[0,6]){return et.includes(_e.getDay())}function isOutside(_e,et){return!isSameMonth(_e,et)}function isDisabled({minDate:_e,maxDate:et,excludeDate:nt,disableOutsideEvents:rt,date:ot,outside:it}){const ct=et instanceof Date&&dayjs(et).isBefore(ot,"day"),lt=_e instanceof Date&&dayjs(_e).isAfter(ot,"day"),pt=typeof nt=="function"&&nt(ot);return ct||lt||pt||!!rt&&!!it}function getRangeProps(_e,et){const nt=Array.isArray(et)&&et.every(lt=>lt instanceof Date),rt=nt&&[dayjs(et[0]).subtract(1,"day"),dayjs(et[1]).add(1,"day")],ot=nt&&isSameDate(_e,et[0]),it=nt&&isSameDate(_e,et[1]),ct=nt&&dayjs(_e).isAfter(rt[0],"day")&&dayjs(_e).isBefore(rt[1],"day");return{firstInRange:ot,lastInRange:it,inRange:ct,selectedInRange:ot||it}}function getDayProps({date:_e,month:et,hasValue:nt,minDate:rt,maxDate:ot,value:it,excludeDate:ct,disableOutsideEvents:lt,range:pt,weekendDays:mt}){const Mt=isOutside(_e,et),bt=nt&&(Array.isArray(it)?it.some(Bt=>isSameDate(Bt,_e)):isSameDate(_e,it)),{inRange:At,lastInRange:wt,firstInRange:Tt,selectedInRange:Rt}=getRangeProps(_e,pt);return{disabled:isDisabled({minDate:rt,maxDate:ot,excludeDate:ct,disableOutsideEvents:lt,date:_e,outside:Mt}),weekend:isWeekend(_e,mt),selectedInRange:Rt,selected:bt,inRange:At,firstInRange:Tt,lastInRange:wt,outside:Mt}}var __defProp$4=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$4=Object.getOwnPropertySymbols,__hasOwnProp$4=Object.prototype.hasOwnProperty,__propIsEnum$4=Object.prototype.propertyIsEnumerable,__defNormalProp$4=(_e,et,nt)=>et in _e?__defProp$4(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$4=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$4.call(et,nt)&&__defNormalProp$4(_e,nt,et[nt]);if(__getOwnPropSymbols$4)for(var nt of __getOwnPropSymbols$4(et))__propIsEnum$4.call(et,nt)&&__defNormalProp$4(_e,nt,et[nt]);return _e},__spreadProps=(_e,et)=>__defProps(_e,__getOwnPropDescs(et)),useStyles$1=createStyles((_e,{fullWidth:et})=>({weekday:{color:_e.colorScheme==="dark"?_e.colors.dark[1]:_e.colors.gray[5]},month:__spreadProps(__spreadValues$4({},_e.fn.fontStyles()),{borderCollapse:"collapse",width:et?"100%":"auto",tableLayout:"fixed"}),cell:{boxSizing:"border-box",padding:0,borderTop:"1px solid transparent"},weekdayCell:{boxSizing:"border-box",padding:0,fontWeight:"normal",paddingBottom:`calc(${_e.spacing.xs}px / 2)`,textAlign:"center",cursor:"default",userSelect:"none"}})),__defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(_e,et,nt)=>et in _e?__defProp$3(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$3=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$3.call(et,nt)&&__defNormalProp$3(_e,nt,et[nt]);if(__getOwnPropSymbols$3)for(var nt of __getOwnPropSymbols$3(et))__propIsEnum$3.call(et,nt)&&__defNormalProp$3(_e,nt,et[nt]);return _e},__objRest$3=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$3.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$3)for(var rt of __getOwnPropSymbols$3(_e))et.indexOf(rt)<0&&__propIsEnum$3.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const noop=()=>!1,defaultProps$1={disableOutsideEvents:!1,hideWeekdays:!1,__staticSelector:"Month",size:"sm",fullWidth:!1,preventFocus:!1,focusable:!0,firstDayOfWeek:"monday",hideOutsideDates:!1,weekendDays:[0,6],__stopPropagation:!0},Month=reactExports.forwardRef((_e,et)=>{const nt=useComponentDefaultProps("Month",defaultProps$1,_e),{className:rt,month:ot,value:it,onChange:ct,disableOutsideEvents:lt,locale:pt,dayClassName:mt,dayStyle:Mt,classNames:bt,styles:At,minDate:wt,maxDate:Tt,excludeDate:Rt,onDayMouseEnter:Bt,range:Vt,hideWeekdays:$t,__staticSelector:Ft,size:Ht,fullWidth:Qt,preventFocus:_n,focusable:hn,firstDayOfWeek:Mn,onDayKeyDown:kn,daysRefs:Cn,hideOutsideDates:yn,isDateInRange:Ut=noop,isDateFirstInRange:En=noop,isDateLastInRange:vn=noop,renderDay:wn,weekdayLabelFormat:Ln,unstyled:Kn,weekendDays:Rn,__stopPropagation:Tn}=nt,Un=__objRest$3(nt,["className","month","value","onChange","disableOutsideEvents","locale","dayClassName","dayStyle","classNames","styles","minDate","maxDate","excludeDate","onDayMouseEnter","range","hideWeekdays","__staticSelector","size","fullWidth","preventFocus","focusable","firstDayOfWeek","onDayKeyDown","daysRefs","hideOutsideDates","isDateInRange","isDateFirstInRange","isDateLastInRange","renderDay","weekdayLabelFormat","unstyled","weekendDays","__stopPropagation"]),{classes:$n,cx:Vn,theme:tr}=useStyles$1({fullWidth:Qt},{classNames:bt,styles:At,unstyled:Kn,name:Ft}),Jn=pt||tr.datesLocale,wr=getMonthDays(ot,Mn),jr=getWeekdaysNames(Jn,Mn,Ln).map(bo=>React.createElement("th",{className:$n.weekdayCell,key:bo},React.createElement(Text,{size:Ht,className:$n.weekday},bo.length>=2?upperFirst(bo):bo))),Zt=Array.isArray(it)?it.every(bo=>bo instanceof Date):it instanceof Date,hr=it instanceof Date&&dayjs(it).isAfter(dayjs(ot).startOf("month"))&&dayjs(it).isBefore(dayjs(ot).endOf("month")),lo=reactExports.useMemo(()=>wr.flatMap(bo=>bo).find(bo=>{const Hr=getDayProps({date:bo,month:ot,hasValue:Zt,minDate:wt,maxDate:Tt,value:it,excludeDate:Rt,disableOutsideEvents:lt,range:Vt,weekendDays:Rn});return!Hr.disabled&&!Hr.outside})||dayjs(ot).startOf("month").toDate(),[]),_o=wr.map((bo,Hr)=>{const Do=bo.map((Oo,zo)=>{const qo=getDayProps({date:Oo,month:ot,hasValue:Zt,minDate:wt,maxDate:Tt,value:it,excludeDate:Rt,disableOutsideEvents:lt,range:Vt,weekendDays:Rn}),_i={rowIndex:Hr,cellIndex:zo,date:Oo};return React.createElement("td",{className:$n.cell,key:zo},React.createElement(Day,{unstyled:Kn,ref:na=>{Cn&&(Array.isArray(Cn[Hr])||(Cn[Hr]=[]),Cn[Hr][zo]=na)},onClick:()=>typeof ct=="function"&&ct(Oo),onMouseDown:na=>_n&&na.preventDefault(),value:Oo,outside:qo.outside,weekend:qo.weekend,inRange:qo.inRange||Ut(Oo,qo),firstInRange:qo.firstInRange||En(Oo,qo),lastInRange:qo.lastInRange||vn(Oo,qo),firstInMonth:isSameDate(Oo,lo),selected:qo.selected||qo.selectedInRange,hasValue:hr,onKeyDown:na=>typeof kn=="function"&&kn(_i,na),className:typeof mt=="function"?mt(Oo,qo):null,style:typeof Mt=="function"?Mt(Oo,qo):null,disabled:qo.disabled,onMouseEnter:typeof Bt=="function"?Bt:noop,size:Ht,fullWidth:Qt,focusable:hn,hideOutsideDates:yn,__staticSelector:Ft,styles:At,classNames:bt,renderDay:wn,stopPropagation:Tn}))});return React.createElement("tr",{key:Hr},Do)});return React.createElement(Box,__spreadValues$3({component:"table",className:Vn($n.month,rt),ref:et},Un),!$t&&React.createElement("thead",null,React.createElement("tr",null,jr)),React.createElement("tbody",null,_o))});Month.displayName="@mantine/dates/Month";var __defProp$2=Object.defineProperty,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(_e,et,nt)=>et in _e?__defProp$2(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$2=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$2.call(et,nt)&&__defNormalProp$2(_e,nt,et[nt]);if(__getOwnPropSymbols$2)for(var nt of __getOwnPropSymbols$2(et))__propIsEnum$2.call(et,nt)&&__defNormalProp$2(_e,nt,et[nt]);return _e},__objRest$2=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$2.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$2)for(var rt of __getOwnPropSymbols$2(_e))et.indexOf(rt)<0&&__propIsEnum$2.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};function MonthsList(_e){var et=_e,{amountOfMonths:nt,paginateBy:rt,month:ot,locale:it,minDate:ct,maxDate:lt,allowLevelChange:pt,size:mt,daysRefs:Mt,onMonthChange:bt,onNextLevel:At,onDayKeyDown:wt,classNames:Tt,styles:Rt,__staticSelector:Bt="MonthsList",nextMonthLabel:Vt,previousMonthLabel:$t,labelFormat:Ft,weekdayLabelFormat:Ht,preventFocus:Qt,renderDay:_n,unstyled:hn,__stopPropagation:Mn}=et,kn=__objRest$2(et,["amountOfMonths","paginateBy","month","locale","minDate","maxDate","allowLevelChange","size","daysRefs","onMonthChange","onNextLevel","onDayKeyDown","classNames","styles","__staticSelector","nextMonthLabel","previousMonthLabel","labelFormat","weekdayLabelFormat","preventFocus","renderDay","unstyled","__stopPropagation"]);const Cn=dayjs(ot).add(nt,"months").toDate(),yn=dayjs(ot).subtract(1,"months").toDate(),Ut=Array(nt).fill(0).map((En,vn)=>{const wn=dayjs(ot).add(vn,"months").toDate();return React.createElement("div",{key:vn},React.createElement(CalendarHeader,{hasNext:vn+1===nt&&isMonthInRange({date:Cn,minDate:ct,maxDate:lt}),hasPrevious:vn===0&&isMonthInRange({date:yn,minDate:ct,maxDate:lt}),label:formatMonthLabel({month:wn,locale:it,format:Ft}),onNext:()=>bt(dayjs(ot).add(rt,"months").toDate()),onPrevious:()=>bt(dayjs(ot).subtract(rt,"months").toDate()),onNextLevel:At,nextLevelDisabled:!pt,size:mt,classNames:Tt,styles:Rt,__staticSelector:Bt,nextLabel:Vt,previousLabel:$t,preventLevelFocus:vn>0,preventFocus:Qt,unstyled:hn,__stopPropagation:Mn}),React.createElement(Month,__spreadValues$2({month:wn,daysRefs:Mt.current[vn],onDayKeyDown:(...Ln)=>wt(vn,...Ln),size:mt,minDate:ct,maxDate:lt,classNames:Tt,styles:Rt,__staticSelector:Bt,locale:it,focusable:vn===0,preventFocus:Qt,renderDay:_n,weekdayLabelFormat:Ht,unstyled:hn,__stopPropagation:Mn},kn)))});return React.createElement(React.Fragment,null,Ut)}MonthsList.displayName="@mantine/dates/MonthsList";var useStyles=createStyles((_e,{size:et,amountOfMonths:nt,fullWidth:rt})=>{const ot=_e.fn.size({size:et,sizes})*7,it=nt>1?ot*nt+(nt-1)*_e.spacing.md:ot;return{calendarBase:{boxSizing:"border-box",display:"flex",gap:_e.spacing.md,maxWidth:rt?"100%":it}}}),__defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(_e,et,nt)=>et in _e?__defProp$1(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues$1=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp$1.call(et,nt)&&__defNormalProp$1(_e,nt,et[nt]);if(__getOwnPropSymbols$1)for(var nt of __getOwnPropSymbols$1(et))__propIsEnum$1.call(et,nt)&&__defNormalProp$1(_e,nt,et[nt]);return _e},__objRest$1=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp$1.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols$1)for(var rt of __getOwnPropSymbols$1(_e))et.indexOf(rt)<0&&__propIsEnum$1.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const CalendarBase=reactExports.forwardRef((_e,et)=>{var nt=_e,{className:rt,classNames:ot,styles:it,month:ct,initialMonth:lt,onMonthChange:pt,locale:mt,amountOfMonths:Mt=1,paginateBy:bt=Mt,size:At="sm",allowLevelChange:wt=!0,initialLevel:Tt="date",minDate:Rt,maxDate:Bt,__staticSelector:Vt="CalendarBase",dayClassName:$t,dayStyle:Ft,disableOutsideEvents:Ht,excludeDate:Qt,hideWeekdays:_n,fullWidth:hn,preventFocus:Mn,firstDayOfWeek:kn="monday",value:Cn,onChange:yn,onDayMouseEnter:Ut,range:En,nextDecadeLabel:vn,nextMonthLabel:wn,nextYearLabel:Ln,previousDecadeLabel:Kn,previousMonthLabel:Rn,previousYearLabel:Tn,labelFormat:Un="MMMM YYYY",weekdayLabelFormat:$n,hideOutsideDates:Vn,isDateInRange:tr,isDateFirstInRange:Jn,isDateLastInRange:wr,renderDay:jr,unstyled:Zt,weekendDays:hr,__stopPropagation:lo,yearLabelFormat:_o="YYYY"}=nt,bo=__objRest$1(nt,["className","classNames","styles","month","initialMonth","onMonthChange","locale","amountOfMonths","paginateBy","size","allowLevelChange","initialLevel","minDate","maxDate","__staticSelector","dayClassName","dayStyle","disableOutsideEvents","excludeDate","hideWeekdays","fullWidth","preventFocus","firstDayOfWeek","value","onChange","onDayMouseEnter","range","nextDecadeLabel","nextMonthLabel","nextYearLabel","previousDecadeLabel","previousMonthLabel","previousYearLabel","labelFormat","weekdayLabelFormat","hideOutsideDates","isDateInRange","isDateFirstInRange","isDateLastInRange","renderDay","unstyled","weekendDays","__stopPropagation","yearLabelFormat"]);const[Hr,Do]=reactExports.useState(Tt),{classes:Oo,cx:zo,theme:qo}=useStyles({size:At,fullWidth:hn,amountOfMonths:Hr==="date"?Mt:1},{name:Vt,styles:it,classNames:ot,unstyled:Zt}),_i=mt||qo.datesLocale,na=reactExports.useRef(Array(Mt).fill(0).map(()=>[])),[Qn,sr]=useUncontrolled({value:ct,defaultValue:lt,finalValue:new Date,onChange:pt}),[ar,Or]=reactExports.useState(Qn.getFullYear()),Dr=Rt instanceof Date?Rt.getFullYear():100,lr=Bt instanceof Date?Bt.getFullYear():1e4,cr=6,gr=(Ar,Ir,mo,Ao=1)=>{var jn;const Br=["down","up"].includes(Ar),Pn=Br?mo.rowIndex+(Ar==="down"?Ao:-Ao):mo.rowIndex,Xr=Br?mo.cellIndex:mo.cellIndex+(Ar==="right"?Ao:-Ao),po=(jn=na.current[Ir][Pn])==null?void 0:jn[Xr];po&&(po.disabled?gr(Ar,Ir,mo,Ao+1):po.focus())},Mr=(Ar,Ir,mo)=>{var Ao;switch(mo.key){case"ArrowDown":{mo.preventDefault(),Ir.rowIndex+1<na.current[Ar].length&&gr("down",Ar,Ir);break}case"ArrowUp":{mo.preventDefault(),Ir.rowIndex>0&&gr("up",Ar,Ir);break}case"ArrowRight":{mo.preventDefault(),Ir.cellIndex!==cr?gr("right",Ar,Ir):Ar+1<Mt&&na.current[Ar+1][Ir.rowIndex]&&((Ao=na.current[Ar+1][Ir.rowIndex][0])==null||Ao.focus());break}case"ArrowLeft":mo.preventDefault(),Ir.cellIndex!==0?gr("left",Ar,Ir):Ar>0&&na.current[Ar-1][Ir.rowIndex]&&na.current[Ar-1][Ir.rowIndex][cr].focus()}};return React.createElement(Box,__spreadValues$1({className:zo(Oo.calendarBase,rt),ref:et},bo),Hr==="year"&&React.createElement(YearPicker,{size:At,value:ar,minYear:Dr,maxYear:lr,onChange:Ar=>{Or(Ar),Do("month")},classNames:ot,styles:it,__staticSelector:Vt,__stopPropagation:lo,nextDecadeLabel:vn,previousDecadeLabel:Kn,preventFocus:Mn,unstyled:Zt,yearLabelFormat:_o}),Hr==="month"&&React.createElement(MonthPicker,{size:At,value:{month:Qn.getMonth(),year:Qn.getFullYear()},year:ar,onYearChange:Or,onNextLevel:()=>Do("year"),locale:_i,minDate:Rt,maxDate:Bt,onChange:Ar=>{sr(new Date(ar,Ar,1)),Do("date")},classNames:ot,styles:it,__staticSelector:Vt,__stopPropagation:lo,nextYearLabel:Ln,previousYearLabel:Tn,preventFocus:Mn,unstyled:Zt,yearLabelFormat:_o}),Hr==="date"&&React.createElement(MonthsList,{amountOfMonths:Mt,paginateBy:bt,month:Qn,locale:_i,minDate:Rt,maxDate:Bt,allowLevelChange:wt,size:At,daysRefs:na,onMonthChange:sr,onNextLevel:()=>Do("month"),onDayKeyDown:Mr,classNames:ot,styles:it,__staticSelector:Vt,dayClassName:$t,dayStyle:Ft,disableOutsideEvents:Ht,excludeDate:Qt,hideWeekdays:_n,fullWidth:hn,preventFocus:Mn,firstDayOfWeek:kn,value:Cn,range:En,onChange:yn,nextMonthLabel:wn,previousMonthLabel:Rn,labelFormat:Un,weekdayLabelFormat:$n,onDayMouseEnter:Ut,renderDay:jr,hideOutsideDates:Vn,isDateInRange:tr,isDateFirstInRange:Jn,isDateLastInRange:wr,unstyled:Zt,weekendDays:hr,__stopPropagation:lo}))});CalendarBase.displayName="@mantine/dates/CalendarBase";var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(_e,et,nt)=>et in _e?__defProp(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_e[et]=nt,__spreadValues=(_e,et)=>{for(var nt in et||(et={}))__hasOwnProp.call(et,nt)&&__defNormalProp(_e,nt,et[nt]);if(__getOwnPropSymbols)for(var nt of __getOwnPropSymbols(et))__propIsEnum.call(et,nt)&&__defNormalProp(_e,nt,et[nt]);return _e},__objRest=(_e,et)=>{var nt={};for(var rt in _e)__hasOwnProp.call(_e,rt)&&et.indexOf(rt)<0&&(nt[rt]=_e[rt]);if(_e!=null&&__getOwnPropSymbols)for(var rt of __getOwnPropSymbols(_e))et.indexOf(rt)<0&&__propIsEnum.call(_e,rt)&&(nt[rt]=_e[rt]);return nt};const defaultProps={__staticSelector:"RangeCalendar",allowSingleDateInRange:!1,amountOfMonths:1},RangeCalendar=reactExports.forwardRef((_e,et)=>{const nt=useComponentDefaultProps("RangeCalendar",defaultProps,_e),{value:rt,onChange:ot,dayStyle:it,onMouseLeave:ct,__staticSelector:lt,allowSingleDateInRange:pt,amountOfMonths:mt,paginateBy:Mt}=nt,bt=__objRest(nt,["value","onChange","dayStyle","onMouseLeave","__staticSelector","allowSingleDateInRange","amountOfMonths","paginateBy"]),[At,wt]=reactExports.useState(null),[Tt,Rt]=reactExports.useState(null),Bt=Qt=>{if(Tt instanceof Date){if(isSameDate(Qt,Tt)&&!pt)return Rt(null),wt(null),null;const _n=[Qt,Tt];return _n.sort((hn,Mn)=>hn.getTime()-Mn.getTime()),ot(_n),Rt(null),null}return rt[0]&&isSameDate(Qt,rt[0])&&!pt?(Rt(null),wt(null),ot([null,null]),null):(ot([Qt,null]),Rt(Qt),null)},Vt=Qt=>{typeof ct=="function"&&ct(Qt),wt(null)},$t=(Qt,_n)=>{if(Tt instanceof Date&&At instanceof Date){const hn=[At,Tt];return hn.sort((Mn,kn)=>Mn.getTime()-kn.getTime()),!_n.selected&&dayjs(Qt).subtract(1,"day").isBefore(hn[1])&&dayjs(Qt).add(1,"day").isAfter(hn[0])}return!1},Ft=(Qt,_n)=>{if(Tt instanceof Date&&At instanceof Date){const hn=[At,Tt];return hn.sort((Mn,kn)=>Mn.getTime()-kn.getTime()),_n.selected&&dayjs(Qt).isBefore(hn[1])}return!1},Ht=(Qt,_n)=>{if(Tt instanceof Date&&At instanceof Date){const hn=[At,Tt];return hn.sort((Mn,kn)=>Mn.getTime()-kn.getTime()),_n.selected&&dayjs(Qt).isAfter(hn[0])}return!1};return React.createElement(CalendarBase,__spreadValues({dayStyle:it,onMouseLeave:Vt,onDayMouseEnter:Qt=>wt(Qt),onChange:Bt,value:Tt,range:rt,ref:et,__staticSelector:lt,amountOfMonths:mt,paginateBy:Mt||mt,hideOutsideDates:mt>1,isDateInRange:$t,isDateFirstInRange:Ft,isDateLastInRange:Ht},bt))});RangeCalendar.displayName="@mantine/dates/RangeCalendar";var id={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt(dayjs_minExports)})(commonjsGlobal$1,function(nt){function rt(ct){return ct&&typeof ct=="object"&&"default"in ct?ct:{default:ct}}var ot=rt(nt),it={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(ct){return ct+"."}};return ot.default.locale(it,null,!0),it})})(id);const DateRangePicker=({onChange:_e})=>{const[et,nt]=reactExports.useState(!1),[rt,ot]=reactExports.useState([(()=>{const ct=new Date,lt=new Date;return lt.setDate(ct.getDate()-7),lt})(),new Date]),it=()=>{rt&&rt.length&&rt[0]&&rt[1]&&(_e(rt),nt(!1))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>nt(!0),className:styles$a.dateTrigger,children:[jsxRuntimeExports.jsx(CalendarIcon,{}),rt[0]&&rt[1]?jsxRuntimeExports.jsxs("span",{children:[format(new Date(rt[0]),"dd MMM yy")," - ",format(new Date(rt[1]),"dd MMM yy")]}):jsxRuntimeExports.jsx("span",{})]}),jsxRuntimeExports.jsx(Modal,{onClose:()=>nt(!1),in:et,scrollable:!0,children:jsxRuntimeExports.jsxs(ModalWrapper,{className:styles$a.modalWrapper,children:[jsxRuntimeExports.jsx(ModalHead,{onClose:()=>nt(!1)}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs("div",{className:styles$a.dateRangePicker,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.heading,children:[jsxRuntimeExports.jsx("h3",{children:"Pilih Rentang Tanggal"}),jsxRuntimeExports.jsx("p",{children:"Lihat riwayat skor pada tanggal tertentu"})]}),jsxRuntimeExports.jsx("div",{className:styles$a.calendar,children:jsxRuntimeExports.jsx(RangeCalendar,{value:rt,onChange:ot,locale:"id",maxDate:new Date})}),jsxRuntimeExports.jsxs("div",{className:styles$a.action,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.datePreview,children:[jsxRuntimeExports.jsx(CalendarIcon,{}),rt[0]&&rt[1]?jsxRuntimeExports.jsxs("span",{children:[format(new Date(rt[0]),"dd MMM yy")," - ",format(new Date(rt[1]),"dd MMM yy")]}):jsxRuntimeExports.jsx("span",{})]}),jsxRuntimeExports.jsx(MainButton,{onClick:it,children:"Terapkan Tanggal"})]})]})})]})})]})},formattedDate=_e=>{const et=format(new Date(_e),"dd MMMM yyyy",{locale:id$1}),nt=format(new Date,"dd MMMM yyyy",{locale:id$1}),rt=format(subDays(new Date,1),"dd MMMM yyyy",{locale:id$1});return et===nt?"Hari Ini":et===rt?`Kemarin, ${et}`:et},Score=({})=>{const{getEventByDate:_e,events:et}=useRace(),[nt,rt]=reactExports.useState([]),[ot,it]=reactExports.useState("ALL"),[ct,lt]=reactExports.useState([]),[pt,mt]=reactExports.useState(),Mt=reactExports.useCallback(async()=>{try{const wt={page:1,size:20,start_date:format(startOfDay(ct[0]),"yyyy-MM-dd"),end_date:format(endOfDay(ct[1]),"yyyy-MM-dd"),multiple_days:1,isfinished:1,ishot:1,football_eventids:ot==="ALL"||ot==="FOOTBALL"?pt||0:-1,basketball_eventids:ot==="ALL"||ot==="BASKETBALL"?pt||0:-1,badminton_eventids:ot==="ALL"||ot==="BADMINTON"?pt||0:-1,use_recommend:1},{status:Tt,data:{matchs:Rt}}=await getDateMatchApi(wt),Bt=Rt.map(Vt=>parseMatch(Vt)).filter(Vt=>Vt!==null);Tt===0&&rt(Bt)}catch{rt([])}},[ot,ct,pt]);reactExports.useEffect(()=>{Mt()},[Mt]);const bt=reactExports.useMemo(()=>{let wt=[],Tt=[],Rt;return nt.forEach((Bt,Vt)=>{Rt!==(Bt==null?void 0:Bt.date)&&(Rt=Bt==null?void 0:Bt.date,console.log(Rt,Bt,Vt),Tt.length&&(wt.push(...Tt),Tt=[]),wt.push({...Bt,date:Bt==null?void 0:Bt.date,isDate:!0})),Tt.push(Bt),Vt===nt.length-1&&wt.push(...Tt)}),wt},[nt]);reactExports.useEffect(()=>{(async()=>{await _e()})()},[]);const At=reactExports.useMemo(()=>ot==="FOOTBALL"?et.football.event:ot==="BASKET"?et.basketball.event:ot==="ALL"?[...et.football.event,...et.basketball.event]:[],[ot,et]);return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Skor",rightComponent:jsxRuntimeExports.jsx(DateRangePicker,{onChange:wt=>lt(wt)})}),jsxRuntimeExports.jsx("div",{className:styles$c.score,children:jsxRuntimeExports.jsxs("div",{className:styles$c.wrapper,children:[jsxRuntimeExports.jsx(Tabs,{items:[{title:"Semua",value:"ALL"},{title:"Sepak Bola",value:"FOOTBALL"},{title:"Basket",value:"BASKET"},{title:"Badminton",value:"BADMINTON"}],onChange:wt=>{mt(""),it(wt)}}),jsxRuntimeExports.jsx("div",{className:styles$c.leagueCategory,children:jsxRuntimeExports.jsx(SliderBadge,{onChange:wt=>mt(wt),value:pt,items:[...At.map(wt=>({title:wt.name_en,imgSrc:wt.logo,value:wt.id}))]})}),jsxRuntimeExports.jsx("div",{className:styles$c.scoreList,children:nt!=null&&nt.length?bt==null?void 0:bt.map((wt,Tt)=>jsxRuntimeExports.jsx("div",{children:wt.isDate?jsxRuntimeExports.jsx("div",{className:styles$c.date,children:jsxRuntimeExports.jsx("span",{children:formattedDate(wt==null?void 0:wt.date)})}):jsxRuntimeExports.jsx(ScoreCard,{liveData:wt})},Tt)):jsxRuntimeExports.jsxs("div",{className:styles$c.empty,children:[jsxRuntimeExports.jsx("img",{src:"/assets/no-data.png",alt:""}),jsxRuntimeExports.jsx("h5",{children:"Tidak Ada Skor"}),jsxRuntimeExports.jsx("p",{children:"Skor tidak tersedia"})]})})]})})]})},accountRemoved="_accountRemoved_85tcf_1",wrapper="_wrapper_85tcf_7",icon="_icon_85tcf_14",desc$1="_desc_85tcf_18",actions="_actions_85tcf_32",styles$8={accountRemoved,wrapper,icon,desc:desc$1,actions},AccountRemoved=()=>{const{push:_e}=useHistory(),et=useDispatch();return jsxRuntimeExports.jsxs(HomeLayout,{noFooter:!0,children:[jsxRuntimeExports.jsx(GeneralHeader,{closePath:"/"}),jsxRuntimeExports.jsx("div",{className:styles$8.accountRemoved,children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$8.wrapper,children:[jsxRuntimeExports.jsx("div",{className:styles$8.icon,children:jsxRuntimeExports.jsx("img",{src:"/assets/trash.png",alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles$8.desc,children:[jsxRuntimeExports.jsx("h1",{children:"Akun Berhasil Dihapus"}),jsxRuntimeExports.jsx("p",{children:"Sayang sekali akunmu sudah dihapus. Kamu bisa buat akun kamu lagi jika kamu berubah pikiran"})]}),jsxRuntimeExports.jsx("div",{className:styles$8.actions,children:jsxRuntimeExports.jsx(MainButton,{onClick:()=>{et(authActions.logout()),_e("/")},children:"Kembali ke Home"})})]})})})]})},searchInput="_searchInput_l7l83_1",styles$7={searchInput},SearchInput=({placeholder:_e,value:et,onChange:nt,onKeyDown:rt,onFocus:ot,onBlur:it,autoFocus:ct})=>jsxRuntimeExports.jsxs("div",{className:styles$7.searchInput,children:[jsxRuntimeExports.jsx(SearchIcon,{}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:_e,autoFocus:ct,onBlur:lt=>{typeof it=="function"&&it(lt)},onFocus:lt=>{typeof ot=="function"&&ot(lt)},value:et,onChange:nt,onKeyDown:rt})]}),search="_search_1y0mt_1",head$1="_head_1y0mt_1",recommend="_recommend_1y0mt_9",recommendList="_recommendList_1y0mt_19",recommendItem="_recommendItem_1y0mt_23",result="_result_1y0mt_30",list$1="_list_1y0mt_34",styles$6={search,head:head$1,recommend,recommendList,recommendItem,result,list:list$1},OpenNewIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{fill:"#F7F9F9",fillRule:"evenodd",d:"M8.25 6H18v9.75h-1.5V8.56l-9.219 9.221-1.062-1.062 9.22-9.219H8.25z",clipRule:"evenodd"})}),empty="_empty_el1lh_1",styles$5={empty},SearchEmptyState=_e=>jsxRuntimeExports.jsxs("div",{className:styles$5.empty,children:[jsxRuntimeExports.jsx("img",{src:"/assets/no-data.png",alt:""}),jsxRuntimeExports.jsx("h5",{children:"Hasil Tidak Ditemukan"}),jsxRuntimeExports.jsx("p",{children:"Coba gunakan kata kunci lainnya"})]}),ScheduleResult=({keyword:_e,eventId:et,sportId:nt,teamId:rt})=>{const[ot,it]=reactExports.useState([]),[ct,lt]=reactExports.useState(0),[pt,mt]=reactExports.useState(!1),[Mt,bt]=reactExports.useState(!0),[At,wt]=reactExports.useState(1),[Tt,Rt]=reactExports.useState(!1),Bt=10,Vt=reactExports.useCallback(async({kw:$t,page:Ft})=>{if(pt)return;const Ht=0;try{mt(!0);const{status:Qt,data:_n}=await searchMatchesApi({keyword:$t,sport_id:nt,event_id:et,team_id:rt,page:Ft,size:Bt,isfinished:Ht});if(Qt===0&&_n){const hn=_n;it(Mn=>Ft===1?hn:[...Mn,..._n]),lt(_n.total),bt(_n.length===Bt)}}catch{bt(!1)}finally{mt(!1),Rt(!0)}},[]);return reactExports.useEffect(()=>{it([]),wt(1),bt(!0),Rt(!1),Vt({kw:_e,page:1})},[_e,Vt]),reactExports.useEffect(()=>{At>1&&!pt&&Vt({kw:_e,page:At})},[At,_e,Vt]),reactExports.useEffect(()=>{if(!Tt||!Mt||pt)return;let $t;const Ft=()=>{$t&&clearTimeout($t),$t=setTimeout(()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&wt(Qt=>Qt+1)},150)};return window.addEventListener("scroll",Ft),()=>{window.removeEventListener("scroll",Ft),$t&&clearTimeout($t)}},[Mt,pt,Tt]),reactExports.useEffect(()=>{Mt&&Tt&&!pt&&document.documentElement.scrollHeight<=window.innerHeight&&wt($t=>$t+1)},[Mt,pt,Tt]),jsxRuntimeExports.jsx("div",{className:styles$6.scheduleResult,children:ot.length>0?ot.map(($t,Ft)=>jsxRuntimeExports.jsx(UpcomingLiveCard,{liveData:$t},Ft)):!pt&&jsxRuntimeExports.jsx(SearchEmptyState,{})})},HistoryResult=({keyword:_e})=>{const[et,nt]=reactExports.useState([]),[rt,ot]=reactExports.useState(0),[it,ct]=reactExports.useState(!1),[lt,pt]=reactExports.useState(!0),[mt,Mt]=reactExports.useState(!1),[bt,At]=reactExports.useState(1),wt=reactExports.useRef(0),Tt=reactExports.useRef(0),Rt=reactExports.useRef(0),Bt=10,Vt=reactExports.useCallback(async({kw:$t,page:Ft})=>{try{ct(!0);const{status:Qt,data:_n}=await searchMatchesApi({keyword:$t||_e,sport_id:wt.current,event_id:Tt.current,team_id:Rt.current,page:Ft,isfinished:1,size:Bt});Qt===0&&(nt(hn=>[...hn,..._n.list]),ot(_n.count),_n.list.length<Bt&&pt(!1))}catch{pt(!1)}finally{ct(!1),Mt(!0)}},[]);return reactExports.useEffect(()=>{nt([]),At(1),pt(!0),Mt(!1),Vt({kw:_e,page:1})},[_e,Vt]),reactExports.useEffect(()=>{bt>1&&!it&&Vt({kw:_e,page:bt})},[bt,_e,Vt]),reactExports.useEffect(()=>{if(!mt||!lt||it)return;let $t;const Ft=()=>{$t&&clearTimeout($t),$t=setTimeout(()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&At(Qt=>Qt+1)},150)};return window.addEventListener("scroll",Ft),()=>{window.removeEventListener("scroll",Ft),$t&&clearTimeout($t)}},[lt,it,mt]),reactExports.useEffect(()=>{lt&&mt&&!it&&document.documentElement.scrollHeight<=window.innerHeight&&At($t=>$t+1)},[lt,it,mt]),jsxRuntimeExports.jsxs("div",{className:styles$6.list,children:[jsxRuntimeExports.jsxs("div",{children:["Total Data: ",rt]}),et!=null&&et.length?et.map(($t,Ft)=>jsxRuntimeExports.jsx(ScoreCard,{liveData:$t},Ft)):jsxRuntimeExports.jsx(SearchEmptyState,{})]})},leagueCard="_leagueCard_16nzx_1",avatar$3="_avatar_16nzx_7",styles$4={leagueCard,avatar:avatar$3},LeagueCard=({data:_e})=>{const{replace:et}=useHistory(),nt=()=>{et(`/search?query=${_e.keyword}&event_id=${_e.id}&sport_id=${_e.sport_id}&feature=SCHEDULES`)};return jsxRuntimeExports.jsxs("div",{className:styles$4.leagueCard,onClick:nt,children:[jsxRuntimeExports.jsx("div",{className:styles$4.avatar,children:jsxRuntimeExports.jsx("img",{src:_e.logo,alt:_e.label})}),jsxRuntimeExports.jsx("span",{children:_e.label})]})},LeagueResult=({keyword:_e})=>{const[et,nt]=reactExports.useState([]),[rt,ot]=reactExports.useState(0),[it,ct]=reactExports.useState(!1),[lt,pt]=reactExports.useState(!0),[mt,Mt]=reactExports.useState(1),bt=10,At=reactExports.useCallback(async({kw:wt,page:Tt})=>{if(!it)try{ct(!0);const{status:Rt,data:Bt}=await searchEventsApi({keyword:wt||"",page:Tt,size:bt});Rt===0&&(nt(Vt=>[...Vt,...Bt.list]),ot(Bt.count),Bt.list.length<bt&&pt(!1))}catch{pt(!1)}finally{ct(!1)}},[]);return reactExports.useEffect(()=>{nt([]),Mt(1),pt(!0),At({kw:_e,page:1})},[At,_e]),reactExports.useEffect(()=>{mt>1&&At({kw:_e,page:mt})},[mt,At,_e]),reactExports.useEffect(()=>{const wt=()=>{if(!lt||it)return;window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&Mt(Rt=>Rt+1)};return window.addEventListener("scroll",wt),()=>window.removeEventListener("scroll",wt)},[lt,it]),reactExports.useEffect(()=>{lt&&document.documentElement.scrollHeight<=window.innerHeight&&!it&&Mt(wt=>wt+1)},[et,lt,it]),jsxRuntimeExports.jsxs("div",{className:styles$6.list,children:[jsxRuntimeExports.jsxs("div",{children:["Total Data: ",rt]}),et!=null&&et.length?et.map((wt,Tt)=>jsxRuntimeExports.jsx(LeagueCard,{data:{label:wt.name_en,logo:wt.logo,id:wt.id,sport_id:wt.sport_id,keyword:_e}},Tt)):jsxRuntimeExports.jsx(SearchEmptyState,{})]})},teamCard="_teamCard_1twwh_1",avatar$2="_avatar_1twwh_7",styles$3={teamCard,avatar:avatar$2},TeamCard=({data:_e})=>{const{replace:et}=useHistory(),nt=()=>{et(`/search?query=${_e.keyword}&team_id=${_e.id}&sport_id=${_e.sport_id}&feature=SCHEDULES`)};return jsxRuntimeExports.jsxs("div",{className:styles$3.teamCard,onClick:nt,children:[jsxRuntimeExports.jsx("div",{className:styles$3.avatar,children:jsxRuntimeExports.jsx("img",{src:_e.logo,alt:_e.label})}),jsxRuntimeExports.jsx("span",{children:_e.label})]})},TeamResult=({keyword:_e})=>{const[et,nt]=reactExports.useState([]),[rt,ot]=reactExports.useState(0),[it,ct]=reactExports.useState(!1),[lt,pt]=reactExports.useState(!0),[mt,Mt]=reactExports.useState(1),[bt,At]=reactExports.useState(!1),wt=10,Tt=reactExports.useCallback(async({kw:Rt,page:Bt})=>{if(!it)try{ct(!0);const{status:Vt,data:$t}=await searchTeamsApi({keyword:Rt||"",page:Bt,size:wt});Vt===0&&(nt(Ft=>[...Ft,...$t.list]),ot($t.count),$t.list.length<wt&&pt(!1))}catch{pt(!1)}finally{ct(!1),At(!0)}},[]);return reactExports.useEffect(()=>{nt([]),Mt(1),pt(!0),At(!1),Tt({kw:_e,page:1})},[_e,Tt]),reactExports.useEffect(()=>{mt>1&&!it&&Tt({kw:_e,page:mt})},[mt,_e,Tt]),reactExports.useEffect(()=>{if(!bt||!lt||it)return;let Rt;const Bt=()=>{Rt&&clearTimeout(Rt),Rt=setTimeout(()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&Mt($t=>$t+1)},150)};return window.addEventListener("scroll",Bt),()=>{window.removeEventListener("scroll",Bt),Rt&&clearTimeout(Rt)}},[lt,it,bt]),reactExports.useEffect(()=>{lt&&bt&&!it&&document.documentElement.scrollHeight<=window.innerHeight&&Mt(Rt=>Rt+1)},[lt,it,bt]),jsxRuntimeExports.jsxs("div",{className:styles$6.list,children:[jsxRuntimeExports.jsxs("div",{children:["Total Data: ",rt]}),et!=null&&et.length?et.map((Rt,Bt)=>jsxRuntimeExports.jsx(TeamCard,{data:{label:Rt.name_en,logo:Rt.logo,keyword:_e,id:Rt.id,sport_id:Rt.sport_id}},Bt)):jsxRuntimeExports.jsx(SearchEmptyState,{})]})},hostCard="_hostCard_wqxoz_1",info$1="_info_wqxoz_7",avatar$1="_avatar_wqxoz_11",profile="_profile_wqxoz_29",fansCount$1="_fansCount_wqxoz_36",styles$2={hostCard,info:info$1,avatar:avatar$1,profile,fansCount:fansCount$1},HostCard=({data:_e,onToggleAttent:et})=>{const[nt,rt]=reactExports.useState(_e.isAttent),ot=useHistory(),it=async()=>{await et(_e.id,nt)&&rt(!nt)},ct=()=>{ot.push(`/host/${_e.id}/detail`)};return jsxRuntimeExports.jsxs("div",{className:styles$2.hostCard,onClick:ct,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.info,children:[jsxRuntimeExports.jsx("div",{className:styles$2.avatar,children:jsxRuntimeExports.jsx("img",{src:_e.avatar,alt:_e.name})}),jsxRuntimeExports.jsxs("div",{className:styles$2.profile,children:[jsxRuntimeExports.jsx("h5",{children:_e.name}),jsxRuntimeExports.jsx("div",{className:styles$2.fansCount,children:jsxRuntimeExports.jsx("span",{children:_e.fansCount})})]})]}),jsxRuntimeExports.jsx(MainButton,{size:"small",variant:nt?"following":"follow",onClick:lt=>{lt.stopPropagation(),it()},children:nt?"Diikuti":"Ikuti"})]})},HostResult=({keyword:_e})=>{const[et,nt]=reactExports.useState([]),[rt,ot]=reactExports.useState(!1),[it,ct]=reactExports.useState(!0),[lt,pt]=reactExports.useState(!1),[mt,Mt]=reactExports.useState(1),bt=10,At=async(Tt,Rt)=>{try{const Bt=Rt?0:1,{status:Vt,data:$t}=await attentAnchorApi({anchorid:Tt,type:Bt});return Vt===0?(nt(Ft=>Ft.map(Ht=>Ht.id===Tt?{...Ht,isattent:Rt,fans_count:$t.fans_count}:Ht)),Toast.success({message:Rt?"Host berhasil dihapus":"Host berhasil diikuti"}),!0):!1}catch{return!1}},wt=reactExports.useCallback(async({kw:Tt,page:Rt})=>{if(!rt)try{ot(!0);const{status:Bt,data:Vt}=await searchAnchor({keyword:Tt,page:Rt,size:bt});if(Bt===0&&Vt){const $t=Vt.anchors||[];nt(Ft=>Rt===1?$t:[...Ft,...$t]),ct($t.length>=bt)}}catch{ct(!1)}finally{ot(!1),pt(!0)}},[]);return reactExports.useEffect(()=>{nt([]),Mt(1),ct(!0),pt(!1),wt({kw:_e,page:1})},[_e,wt]),reactExports.useEffect(()=>{mt>1&&!rt&&wt({kw:_e,page:mt})},[mt,_e,wt]),reactExports.useEffect(()=>{if(!lt||!it||rt)return;let Tt;const Rt=()=>{Tt&&clearTimeout(Tt),Tt=setTimeout(()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&Mt(Vt=>Vt+1)},150)};return window.addEventListener("scroll",Rt),()=>{window.removeEventListener("scroll",Rt),Tt&&clearTimeout(Tt)}},[it,rt,lt]),reactExports.useEffect(()=>{it&&lt&&!rt&&document.documentElement.scrollHeight<=window.innerHeight&&Mt(Tt=>Tt+1)},[it,rt,lt]),jsxRuntimeExports.jsx("div",{className:styles$6.list,children:et!=null&&et.length?et.map((Tt,Rt)=>jsxRuntimeExports.jsx(HostCard,{data:{name:Tt.nick_name,avatar:Tt.avatar,fansCount:Tt.fans_count,id:Tt.id,isAttent:Tt.isattent},onToggleAttent:At},Rt)):jsxRuntimeExports.jsx(SearchEmptyState,{})})},Search=()=>{let _e=new URLSearchParams(useLocation().search);const et=_e.get("query"),nt=_e.get("event_id")?Number(_e.get("event_id")):void 0,rt=_e.get("sport_id")?Number(_e.get("sport_id")):void 0,ot=_e.get("team_id")?Number(_e.get("team_id")):void 0,it=_e.get("feature"),[ct,lt]=reactExports.useState({event:[],mixed:[],team:[]}),[pt,mt]=reactExports.useState(""),{goBack:Mt,replace:bt}=useHistory(),[At,wt]=reactExports.useState(!1),[Tt,Rt]=reactExports.useState("SCHEDULES");reactExports.useEffect(()=>{et&&mt(et),it&&Rt(it)},[et,it]);const Bt=Ft=>{Ft.key==="Enter"&&!Ft.shiftKey&&(Ft.preventDefault(),pt&&(bt(`/search?query=${pt}&feature=${Tt}`),wt(!1)))},Vt=reactExports.useMemo(()=>Tt==="SCHEDULES"?jsxRuntimeExports.jsx(ScheduleResult,{keyword:pt,eventId:nt,sportId:rt,teamId:ot}):Tt==="HISTORIES"?jsxRuntimeExports.jsx(HistoryResult,{keyword:pt}):Tt==="LEAGUES"?jsxRuntimeExports.jsx(LeagueResult,{keyword:pt}):Tt==="TEAMS"?jsxRuntimeExports.jsx(TeamResult,{keyword:pt}):Tt==="HOSTS"?jsxRuntimeExports.jsx(HostResult,{keyword:pt}):null,[Tt,pt,nt,rt,ot]);useLifecycles(async()=>{const{status:Ft,data:Ht}=await getRaceTagApi();if(Ft===0){const Qt={...Ht,event:_$2.take(_$2.get(Ht,"event"),10),team:_$2.take(_$2.get(Ht,"team"),10)};lt(Qt)}},()=>{});const $t=reactExports.useMemo(()=>{const Ft=[];return Object.values(ct).forEach(Ht=>{Ht.length>0&&Ht.forEach(Qt=>{if(!Ft.find(({target_category:hn,sport:Mn,target_id:kn})=>hn===Qt.target_category&&Mn===Qt.sport&&kn===Qt.target_id)){const{sport:hn}=Qt;Ft.push({...Qt,sport_id:hn==="football"?SportId.football:hn==="basketball"?SportId.basketball:SportId.none})}})}),Ft},[ct]);return jsxRuntimeExports.jsx(HomeLayout,{noFooter:!0,children:jsxRuntimeExports.jsxs("div",{className:styles$6.search,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.head,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Mt,children:jsxRuntimeExports.jsx(BackIcon,{})}),jsxRuntimeExports.jsx(SearchInput,{placeholder:"Cari Event atau Tim",autoFocus:!0,value:pt,onKeyDown:Bt,onFocus:()=>wt(!0),onChange:Ft=>mt(Ft.target.value)})]}),At||!et?jsxRuntimeExports.jsxs("div",{className:styles$6.recommend,children:[jsxRuntimeExports.jsx("h5",{children:"Rekomendasi Pencarian"}),jsxRuntimeExports.jsx("div",{className:styles$6.recommendList,children:$t.map((Ft,Ht)=>jsxRuntimeExports.jsxs("button",{className:styles$6.recommendItem,onClick:()=>{bt(`/search?query=${Ft.name}&feature=${Tt}`),wt(!1)},children:[jsxRuntimeExports.jsx("span",{children:Ft.name}),jsxRuntimeExports.jsx(OpenNewIcon,{})]},Ht))})]}):jsxRuntimeExports.jsxs("div",{className:styles$6.result,children:[jsxRuntimeExports.jsx(SliderBadge,{onChange:Ft=>{Rt(Ft),bt(`/search?query=${pt}&feature=${Ft}`)},value:Tt,items:[{title:"Jadwal",value:"SCHEDULES"},{title:"Riwayat",value:"HISTORIES"},{title:"Liga",value:"LEAGUES"},{title:"Tim",value:"TEAMS"},{title:"Host",value:"HOSTS"}]}),Vt]})]})})},list="_list_b6lxg_1",styles$1={list},List=()=>{var ot;const[_e,et]=reactExports.useState({list:[]});useLifecycles(async()=>{await nt()},()=>{});const nt=async()=>{try{const{data:it}=await getAttentAnchorsApi({});et({list:it})}catch{}},rt=async(it,ct)=>{try{const lt=ct?0:1,{status:pt}=await attentAnchorApi({anchorid:it,type:lt});return pt===0&&(et(mt=>({list:mt.list.filter(Mt=>Mt.id!==it)})),Toast.success({message:"Host berhasil dihapus"})),!0}catch{return!1}finally{}};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Host Diikuti",withBack:!0}),jsxRuntimeExports.jsx("div",{className:styles$1.list,children:(ot=_e.list)==null?void 0:ot.map((it,ct)=>jsxRuntimeExports.jsx(HostCard,{data:{name:it.nick_name,avatar:it.avatar,fansCount:it.fans_count,id:it.id,isAttent:!0},onToggleAttent:rt},ct))})]})},detail="_detail_1npyr_1",head="_head_1npyr_7",cover="_cover_1npyr_7",info="_info_1npyr_14",avatar="_avatar_1npyr_22",desc="_desc_1npyr_42",nickName="_nickName_1npyr_46",fansCount="_fansCount_1npyr_52",description="_description_1npyr_62",followAction="_followAction_1npyr_68",styles={detail,head,cover,info,avatar,desc,nickName,fansCount,description,followAction},Detail=()=>{const{id:_e}=useParams(),[et,nt]=reactExports.useState({});useLifecycles(async()=>{if(_e)try{const{data:ot}=await getAnchorInfoApi(_e);nt(ot)}catch{}finally{}},()=>{});const rt=async()=>{try{const ot=1-et.isattent,{status:it,data:ct}=await attentAnchorApi({anchorid:et.id,type:ot});if(it===0){const{fans_count:lt}=ct;nt({...et,isattent:ot,fans_count:lt}),Toast.success({message:ot==1?"Host berhasil diikuti":"Host berhasil dihapus"})}}catch{}finally{}};return jsxRuntimeExports.jsxs(HomeLayout,{children:[jsxRuntimeExports.jsx(GeneralHeader,{title:"Host Diikuti",withBack:!0}),jsxRuntimeExports.jsxs("div",{className:styles.detail,children:[jsxRuntimeExports.jsxs("div",{className:styles.head,children:[jsxRuntimeExports.jsx("div",{className:styles.cover,children:jsxRuntimeExports.jsx("img",{src:et==null?void 0:et.avatar,alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles.info,children:[jsxRuntimeExports.jsx("div",{className:styles.avatar,children:jsxRuntimeExports.jsx("img",{src:et==null?void 0:et.avatar,alt:""})}),jsxRuntimeExports.jsxs("div",{className:styles.desc,children:[jsxRuntimeExports.jsxs("span",{className:styles.nickNam,children:[" ",et==null?void 0:et.nick_name]}),jsxRuntimeExports.jsxs("div",{className:styles.fansCount,children:[jsxRuntimeExports.jsx(UserIcon,{}),jsxRuntimeExports.jsx("span",{children:et.fans_count})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:styles.description,children:jsxRuntimeExports.jsx("p",{children:et==null?void 0:et.msg})}),jsxRuntimeExports.jsx("div",{className:styles.followAction,onClick:rt,children:jsxRuntimeExports.jsx(MainButton,{size:"small",variant:et!=null&&et.isattent?"following":"follow",children:et!=null&&et.isattent?"Diikuti":"Ikuti"})})]})]})},HostList=({match:_e})=>jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{path:_e.url,exact:!0,component:List}),jsxRuntimeExports.jsx(Route,{path:`${_e.url}/:id/detail`,component:Detail})]}),MainLayout=()=>{const{token_web:_e,id:et,user:nt}=useSelector(rt=>rt.auth);return nt&&!(nt!=null&&nt.email)?jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{exact:!0,path:"/complete-data",component:CompleteProfile}),jsxRuntimeExports.jsx(Redirect,{from:"/",to:"/complete-data"})]}):jsxRuntimeExports.jsxs(Switch,{children:[jsxRuntimeExports.jsx(Route,{exact:!0,path:"/",component:Home}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/search",component:Search}),jsxRuntimeExports.jsx(Route,{path:"/score/:type/detail/:id",component:Detail$1}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/schedule",component:Schedule}),jsxRuntimeExports.jsx(Route,{path:"/live",component:Live}),jsxRuntimeExports.jsx(Route,{path:"/host",component:HostList}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/score",component:Score}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/account-removed",component:AccountRemoved}),_e&&et?jsxRuntimeExports.jsx(Route,{path:"/profile",component:Profile}):jsxRuntimeExports.jsx(AuthRoutes,{}),jsxRuntimeExports.jsx(Route,{path:"/error",component:NotFound}),jsxRuntimeExports.jsx(Redirect,{from:"*",to:"/"})]})},SkeletonThemeContext=React.createContext({});function SkeletonTheme({children:_e,...et}){return React.createElement(SkeletonThemeContext.Provider,{value:et},_e)}var timJsFriendship={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt()})(commonjsGlobal$1,function(){function nt(Nt,ut){var _t=Object.keys(Nt);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Nt);ut&&(at=at.filter(function(ft){return Object.getOwnPropertyDescriptor(Nt,ft).enumerable})),_t.push.apply(_t,at)}return _t}function rt(Nt){for(var ut=1;ut<arguments.length;ut++){var _t=arguments[ut]!=null?arguments[ut]:{};ut%2?nt(Object(_t),!0).forEach(function(at){pt(Nt,at,_t[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(_t)):nt(Object(_t)).forEach(function(at){Object.defineProperty(Nt,at,Object.getOwnPropertyDescriptor(_t,at))})}return Nt}function ot(Nt){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ut){return typeof ut}:function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut})(Nt)}function it(Nt,ut){if(!(Nt instanceof ut))throw new TypeError("Cannot call a class as a function")}function ct(Nt,ut){for(var _t=0;_t<ut.length;_t++){var at=ut[_t];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(Nt,at.key,at)}}function lt(Nt,ut,_t){return ut&&ct(Nt.prototype,ut),_t&&ct(Nt,_t),Object.defineProperty(Nt,"prototype",{writable:!1}),Nt}function pt(Nt,ut,_t){return ut in Nt?Object.defineProperty(Nt,ut,{value:_t,enumerable:!0,configurable:!0,writable:!0}):Nt[ut]=_t,Nt}function mt(Nt,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(ut&&ut.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),Object.defineProperty(Nt,"prototype",{writable:!1}),ut&&bt(Nt,ut)}function Mt(Nt){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)})(Nt)}function bt(Nt,ut){return(bt=Object.setPrototypeOf||function(_t,at){return _t.__proto__=at,_t})(Nt,ut)}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wt(Nt,ut,_t){return(wt=At()?Reflect.construct:function(at,ft,gt){var Ct=[null];Ct.push.apply(Ct,ft);var St=new(Function.bind.apply(at,Ct));return gt&&bt(St,gt.prototype),St}).apply(null,arguments)}function Tt(Nt){var ut=typeof Map=="function"?new Map:void 0;return(Tt=function(_t){if(_t===null||(at=_t,Function.toString.call(at).indexOf("[native code]")===-1))return _t;var at;if(typeof _t!="function")throw new TypeError("Super expression must either be null or a function");if(ut!==void 0){if(ut.has(_t))return ut.get(_t);ut.set(_t,ft)}function ft(){return wt(_t,arguments,Mt(this).constructor)}return ft.prototype=Object.create(_t.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),bt(ft,_t)})(Nt)}function Rt(Nt,ut){if(Nt==null)return{};var _t,at,ft=function(Ct,St){if(Ct==null)return{};var Dt,Lt,jt={},Kt=Object.keys(Ct);for(Lt=0;Lt<Kt.length;Lt++)Dt=Kt[Lt],St.indexOf(Dt)>=0||(jt[Dt]=Ct[Dt]);return jt}(Nt,ut);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(Nt);for(at=0;at<gt.length;at++)_t=gt[at],ut.indexOf(_t)>=0||Object.prototype.propertyIsEnumerable.call(Nt,_t)&&(ft[_t]=Nt[_t])}return ft}function Bt(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}function Vt(Nt,ut){if(ut&&(typeof ut=="object"||typeof ut=="function"))return ut;if(ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bt(Nt)}function $t(Nt){var ut=At();return function(){var _t,at=Mt(Nt);if(ut){var ft=Mt(this).constructor;_t=Reflect.construct(at,arguments,ft)}else _t=at.apply(this,arguments);return Vt(this,_t)}}function Ft(Nt,ut){return Qt(Nt)||function(_t,at){var ft=_t==null?null:typeof Symbol<"u"&&_t[Symbol.iterator]||_t["@@iterator"];if(ft!=null){var gt,Ct,St=[],Dt=!0,Lt=!1;try{for(ft=ft.call(_t);!(Dt=(gt=ft.next()).done)&&(St.push(gt.value),!at||St.length!==at);Dt=!0);}catch(jt){Lt=!0,Ct=jt}finally{try{Dt||ft.return==null||ft.return()}finally{if(Lt)throw Ct}}return St}}(Nt,ut)||hn(Nt,ut)||kn()}function Ht(Nt){return function(ut){if(Array.isArray(ut))return Mn(ut)}(Nt)||_n(Nt)||hn(Nt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qt(Nt){if(Array.isArray(Nt))return Nt}function _n(Nt){if(typeof Symbol<"u"&&Nt[Symbol.iterator]!=null||Nt["@@iterator"]!=null)return Array.from(Nt)}function hn(Nt,ut){if(Nt){if(typeof Nt=="string")return Mn(Nt,ut);var _t=Object.prototype.toString.call(Nt).slice(8,-1);return _t==="Object"&&Nt.constructor&&(_t=Nt.constructor.name),_t==="Map"||_t==="Set"?Array.from(Nt):_t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_t)?Mn(Nt,ut):void 0}}function Mn(Nt,ut){(ut==null||ut>Nt.length)&&(ut=Nt.length);for(var _t=0,at=new Array(ut);_t<ut;_t++)at[_t]=Nt[_t];return at}function kn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(Nt,ut){var _t=typeof Symbol<"u"&&Nt[Symbol.iterator]||Nt["@@iterator"];if(!_t){if(Array.isArray(Nt)||(_t=hn(Nt))||ut){_t&&(Nt=_t);var at=0,ft=function(){};return{s:ft,n:function(){return at>=Nt.length?{done:!0}:{done:!1,value:Nt[at++]}},e:function(Dt){throw Dt},f:ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gt,Ct=!0,St=!1;return{s:function(){_t=_t.call(Nt)},n:function(){var Dt=_t.next();return Ct=Dt.done,Dt},e:function(Dt){St=!0,gt=Dt},f:function(){try{Ct||_t.return==null||_t.return()}finally{if(St)throw gt}}}}var yn={SDK_READY:"sdkStateReady",SDK_NOT_READY:"sdkStateNotReady",SDK_DESTROY:"sdkDestroy",MESSAGE_RECEIVED:"onMessageReceived",MESSAGE_MODIFIED:"onMessageModified",MESSAGE_REVOKED:"onMessageRevoked",MESSAGE_READ_BY_PEER:"onMessageReadByPeer",MESSAGE_READ_RECEIPT_RECEIVED:"onMessageReadReceiptReceived",MESSAGE_EXTENSIONS_UPDATED:"onMessageExtensionsUpdated",MESSAGE_EXTENSIONS_DELETED:"onMessageExtensionsDeleted",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",TOTAL_UNREAD_MESSAGE_COUNT_UPDATED:"onTotalUnreadMessageCountUpdated",CONVERSATION_GROUP_LIST_UPDATED:"onConversationGroupListUpdated",CONVERSATION_IN_GROUP_UPDATED:"onConversationInGroupUpdated",GROUP_LIST_UPDATED:"onGroupListUpdated",GROUP_SYSTEM_NOTICE_RECEIVED:"receiveGroupSystemNotice",GROUP_ATTRIBUTES_UPDATED:"groupAttributesUpdated",GROUP_COUNTER_UPDATED:"onGroupCounterUpdated",TOPIC_CREATED:"onTopicCreated",TOPIC_DELETED:"onTopicDeleted",TOPIC_UPDATED:"onTopicUpdated",PROFILE_UPDATED:"onProfileUpdated",USER_STATUS_UPDATED:"onUserStatusUpdated",BLACKLIST_UPDATED:"blacklistUpdated",FRIEND_LIST_UPDATED:"onFriendListUpdated",FRIEND_GROUP_LIST_UPDATED:"onFriendGroupListUpdated",FRIEND_APPLICATION_LIST_UPDATED:"onFriendApplicationListUpdated",KICKED_OUT:"kickedOut",ERROR:"error",NET_STATE_CHANGE:"netStateChange",SDK_RELOAD:"sdkReload"},Ut={MSG_TEXT:"TIMTextElem",MSG_IMAGE:"TIMImageElem",MSG_SOUND:"TIMSoundElem",MSG_AUDIO:"TIMSoundElem",MSG_FILE:"TIMFileElem",MSG_FACE:"TIMFaceElem",MSG_VIDEO:"TIMVideoFileElem",MSG_GEO:"TIMLocationElem",MSG_LOCATION:"TIMLocationElem",MSG_GRP_TIP:"TIMGroupTipElem",MSG_GRP_SYS_NOTICE:"TIMGroupSystemNoticeElem",MSG_CUSTOM:"TIMCustomElem",MSG_MERGER:"TIMRelayElem",MSG_PRIORITY_HIGH:"High",MSG_PRIORITY_NORMAL:"Normal",MSG_PRIORITY_LOW:"Low",MSG_PRIORITY_LOWEST:"Lowest",CONV_C2C:"C2C",CONV_GROUP:"GROUP",CONV_TOPIC:"TOPIC",CONV_SYSTEM:"@TIM#SYSTEM",CONV_AT_ME:1,CONV_AT_ALL:2,CONV_AT_ALL_AT_ME:3,CONV_MARK_TYPE_STAR:1,CONV_MARK_TYPE_UNREAD:2,CONV_MARK_TYPE_FOLD:4,CONV_MARK_TYPE_HIDE:8,GRP_PRIVATE:"Private",GRP_WORK:"Private",GRP_PUBLIC:"Public",GRP_CHATROOM:"ChatRoom",GRP_MEETING:"ChatRoom",GRP_AVCHATROOM:"AVChatRoom",GRP_COMMUNITY:"Community",GRP_MBR_ROLE_OWNER:"Owner",GRP_MBR_ROLE_ADMIN:"Admin",GRP_MBR_ROLE_MEMBER:"Member",GRP_MBR_ROLE_CUSTOM:"Custom",GRP_TIP_MBR_JOIN:1,GRP_TIP_MBR_QUIT:2,GRP_TIP_MBR_KICKED_OUT:3,GRP_TIP_MBR_SET_ADMIN:4,GRP_TIP_MBR_CANCELED_ADMIN:5,GRP_TIP_GRP_PROFILE_UPDATED:6,GRP_TIP_MBR_PROFILE_UPDATED:7,GRP_TIP_BAN_AVCHATROOM_MEMBER:10,GRP_TIP_UNBAN_AVCHATROOM_MEMBER:11,MSG_REMIND_ACPT_AND_NOTE:"AcceptAndNotify",MSG_REMIND_ACPT_NOT_NOTE:"AcceptNotNotify",MSG_REMIND_DISCARD:"Discard",GENDER_UNKNOWN:"Gender_Type_Unknown",GENDER_FEMALE:"Gender_Type_Female",GENDER_MALE:"Gender_Type_Male",KICKED_OUT_MULT_ACCOUNT:"multipleAccount",KICKED_OUT_MULT_DEVICE:"multipleDevice",KICKED_OUT_USERSIG_EXPIRED:"userSigExpired",KICKED_OUT_REST_API:"REST_API_Kick",ALLOW_TYPE_ALLOW_ANY:"AllowType_Type_AllowAny",ALLOW_TYPE_NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_TYPE_DENY_ANY:"AllowType_Type_DenyAny",FORBID_TYPE_NONE:"AdminForbid_Type_None",FORBID_TYPE_SEND_OUT:"AdminForbid_Type_SendOut",JOIN_OPTIONS_FREE_ACCESS:"FreeAccess",JOIN_OPTIONS_NEED_PERMISSION:"NeedPermission",JOIN_OPTIONS_DISABLE_APPLY:"DisableApply",JOIN_STATUS_SUCCESS:"JoinedSuccess",JOIN_STATUS_ALREADY_IN_GROUP:"AlreadyInGroup",JOIN_STATUS_WAIT_APPROVAL:"WaitAdminApproval",INVITE_OPTIONS_DISABLE_INVITE:"DisableInvite",INVITE_OPTIONS_NEED_PERMISSION:"NeedPermission",INVITE_OPTIONS_FREE_ACCESS:"FreeAccess",GRP_PROFILE_OWNER_ID:"ownerID",GRP_PROFILE_CREATE_TIME:"createTime",GRP_PROFILE_LAST_INFO_TIME:"lastInfoTime",GRP_PROFILE_MEMBER_NUM:"memberNum",GRP_PROFILE_MAX_MEMBER_NUM:"maxMemberNum",GRP_PROFILE_JOIN_OPTION:"joinOption",GRP_PROFILE_INVITE_OPTION:"inviteOption",GRP_PROFILE_INTRODUCTION:"introduction",GRP_PROFILE_NOTIFICATION:"notification",GRP_PROFILE_MUTE_ALL_MBRS:"muteAllMembers",SNS_ADD_TYPE_SINGLE:"Add_Type_Single",SNS_ADD_TYPE_BOTH:"Add_Type_Both",SNS_DELETE_TYPE_SINGLE:"Delete_Type_Single",SNS_DELETE_TYPE_BOTH:"Delete_Type_Both",SNS_APPLICATION_TYPE_BOTH:"Pendency_Type_Both",SNS_APPLICATION_SENT_TO_ME:"Pendency_Type_ComeIn",SNS_APPLICATION_SENT_BY_ME:"Pendency_Type_SendOut",SNS_APPLICATION_AGREE:"Response_Action_Agree",SNS_APPLICATION_AGREE_AND_ADD:"Response_Action_AgreeAndAdd",SNS_CHECK_TYPE_BOTH:"CheckResult_Type_Both",SNS_CHECK_TYPE_SINGLE:"CheckResult_Type_Single",SNS_TYPE_NO_RELATION:"CheckResult_Type_NoRelation",SNS_TYPE_A_WITH_B:"CheckResult_Type_AWithB",SNS_TYPE_B_WITH_A:"CheckResult_Type_BWithA",SNS_TYPE_BOTH_WAY:"CheckResult_Type_BothWay",NET_STATE_CONNECTED:"connected",NET_STATE_CONNECTING:"connecting",NET_STATE_DISCONNECTED:"disconnected",MSG_AT_ALL:"__kImSDK_MesssageAtALL__",READ_ALL_C2C_MSG:"readAllC2CMessage",READ_ALL_GROUP_MSG:"readAllGroupMessage",READ_ALL_MSG:"readAllMessage",USER_STATUS_UNKNOWN:0,USER_STATUS_ONLINE:1,USER_STATUS_OFFLINE:2,USER_STATUS_UNLOGINED:3},En=function(){function Nt(){it(this,Nt),this.cache=[],this.options=null}return lt(Nt,[{key:"use",value:function(ut){if(typeof ut!="function")throw"middleware must be a function";return this.cache.push(ut),this}},{key:"next",value:function(ut){if(this.middlewares&&this.middlewares.length>0)return this.middlewares.shift().call(this,this.options,this.next.bind(this))}},{key:"run",value:function(ut){return this.middlewares=this.cache.map(function(_t){return _t}),this.options=ut,this.next()}}]),Nt}(),vn=function(){function Nt(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;it(this,Nt),this.high=ut,this.low=_t}return lt(Nt,[{key:"equal",value:function(ut){return ut!==null&&this.low===ut.low&&this.high===ut.high}},{key:"toString",value:function(){var ut=Number(this.high).toString(16),_t=Number(this.low).toString(16);if(_t.length<8)for(var at=8-_t.length;at;)_t="0"+_t,at--;return ut+_t}}]),Nt}(),wn={TEST:{CHINA:{DEFAULT:"wss://wss-dev.tim.qq.com"},OVERSEA:{DEFAULT:"wss://wss-dev.tim.qq.com"},SINGAPORE:{DEFAULT:"wss://wsssgp-dev.im.qcloud.com"},KOREA:{DEFAULT:"wss://wsskr-dev.im.qcloud.com"},GERMANY:{DEFAULT:"wss://wssger-dev.im.qcloud.com"},IND:{DEFAULT:"wss://wssind-dev.im.qcloud.com"},JPN:{DEFAULT:"wss://wssjpn-dev.im.qcloud.com"},USA:{DEFAULT:"wss://wssusa-dev.im.qcloud.com"}},PRODUCTION:{CHINA:{DEFAULT:"wss://wss.im.qcloud.com",BACKUP:"wss://wss.tim.qq.com",STAT:"https://events.im.qcloud.com",ANYCAST:"wss://162.14.13.203"},OVERSEA:{DEFAULT:"wss://wss.im.qcloud.com",BACKUP:"wss://wss.my-imcloud.com",STAT:"https://api.my-imcloud.com"},SINGAPORE:{DEFAULT:"wss://wsssgp.im.qcloud.com",BACKUP:"wss://wsssgp.my-imcloud.com",STAT:"https://apisgp.my-imcloud.com"},KOREA:{DEFAULT:"wss://wsskr.im.qcloud.com",BACKUP:"wss://wsskr.my-imcloud.com",STAT:"https://apikr.my-imcloud.com"},GERMANY:{DEFAULT:"wss://wssger.im.qcloud.com",BACKUP:"wss://wssger.my-imcloud.com",STAT:"https://apiger.my-imcloud.com"},IND:{DEFAULT:"wss://wssind.my-imcloud.com",BACKUP:"wss://wssind.im.qcloud.com",STAT:"https://apiind.my-imcloud.com"},JPN:{DEFAULT:"wss://wssjpn.im.qcloud.com",BACKUP:"wss://wssjpn.my-imcloud.com",STAT:"https://apijpn.my-imcloud.com"},USA:{DEFAULT:"wss://wssusa.im.qcloud.com",BACKUP:"wss://wssusa.my-imcloud.com",STAT:"https://apiusa.my-imcloud.com"}}},Ln={ANDROID:2,IOS:3,MAC:4,WEB:7,WX_MP:8,QQ_MP:9,TT_MP:10,BAIDU_MP:11,ALI_MP:12,IPAD:13,UNI_NATIVE_APP:15},Kn="1.7.3",Rn=537048168,Tn="CHINA",Un="OVERSEA",$n="SINGAPORE",Vn="KOREA",tr="GERMANY",Jn="IND",wr="JPN",jr="USA",Zt={HOST:{CURRENT:{DEFAULT:"wss://wss.im.qcloud.com",STAT:"https://events.im.qcloud.com"},setCurrent:function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tn;this.CURRENT=wn.PRODUCTION[Nt]}},NAME:{OPEN_IM:"openim",OPEN_IM_MSG_EXT:"openim_msg_ext_http_svc",GROUP:"group_open_http_svc",GROUP_AVCHATROOM:"group_open_avchatroom_http_svc",GROUP_COMMUNITY:"million_group_open_http_svc",GROUP_ATTR:"group_open_attr_http_svc",FRIEND:"sns",PROFILE:"profile",RECENT_CONTACT:"recentcontact",PIC:"openpic",BIG_GROUP_NO_AUTH:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING:"group_open_long_polling_http_svc",BIG_GROUP_LONG_POLLING_NO_AUTH:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat",WEB_IM:"webim",IM_COS_SIGN:"im_cos_sign_svr",CUSTOM_UPLOAD:"im_cos_msg",HEARTBEAT:"heartbeat",IM_OPEN_PUSH:"im_open_push",IM_OPEN_STATUS:"im_open_status",IM_LONG_MESSAGE:"im_long_msg",IM_CONFIG_MANAGER:"im_sdk_config_mgr",STAT_SERVICE:"StatSvc",OVERLOAD_PUSH:"OverLoadPush",IM_MSG_AUDIT_MGR:"im_msg_audit_mgr",TUIROOM_SVR:"tui_room_svr",IM_OPEN_TRANSLATE:"im_open_translate"},CMD:{LOGIN:"wslogin",LOGOUT_LONG_POLL:"longpollinglogout",LOGOUT:"wslogout",HELLO:"wshello",STAT_BACKGROUND:"ws_stat_background",STAT_FOREGROUND:"ws_stat_foreground",SET_TOKEN:"ws_stat_settoken",PORTRAIT_GET:"portrait_get_all",PORTRAIT_SET:"portrait_set",GET_LONG_POLL_ID:"getlongpollingid",LONG_POLL:"longpolling",AVCHATROOM_LONG_POLL:"get_msg",ADD_FRIEND:"friend_add",UPDATE_FRIEND:"friend_update",GET_FRIEND_LIST:"friend_get",GET_FRIEND_PROFILE:"friend_get_specified",DELETE_FRIEND:"friend_delete",CHECK_FRIEND:"friend_check",GET_FRIEND_GROUP_LIST:"group_get",RESPOND_FRIEND_APPLICATION:"friend_response",GET_FRIEND_APPLICATION_LIST:"pendency_get",DELETE_FRIEND_APPLICATION:"pendency_delete",REPORT_FRIEND_APPLICATION:"pendency_report",GET_GROUP_APPLICATION:"get_pendency",CREATE_FRIEND_GROUP:"group_add",DELETE_FRIEND_GROUP:"group_delete",UPDATE_FRIEND_GROUP:"group_update",GET_BLACKLIST:"black_list_get",ADD_BLACKLIST:"black_list_add",DELETE_BLACKLIST:"black_list_delete",CREATE_GROUP:"create_group",GET_JOINED_GROUPS:"get_joined_group_list",SET_GROUP_ATTRIBUTES:"set_group_attr",MODIFY_GROUP_ATTRIBUTES:"modify_group_attr",DELETE_GROUP_ATTRIBUTES:"delete_group_attr",CLEAR_GROUP_ATTRIBUTES:"clear_group_attr",GET_GROUP_ATTRIBUTES:"get_group_attr",SEND_MESSAGE:"sendmsg",REVOKE_C2C_MESSAGE:"msgwithdraw",DELETE_C2C_MESSAGE:"delete_c2c_msg_ramble",MODIFY_C2C_MESSAGE:"modify_c2c_msg",MODIFY_C2C_MESSAGE_EXTENSIONS:"set_key_values",GET_C2C_MESSAGE_EXTENSIONS:"get_key_values",SEND_GROUP_MESSAGE:"send_group_msg",REVOKE_GROUP_MESSAGE:"group_msg_recall",DELETE_GROUP_MESSAGE:"delete_group_ramble_msg_by_seq",MODIFY_GROUP_MESSAGE:"modify_group_msg",MODIFY_GROUP_MESSAGE_EXTENSIONS:"group_set_key_values",GET_GROUP_MESSAGE_EXTENSIONS:"group_get_key_values",GET_GROUP_INFO:"get_group_self_member_info",GET_GROUP_MEMBER_INFO:"get_specified_group_member_info",GET_GROUP_MEMBER_LIST:"get_group_member_info",GET_AVCHATROOM_MEMBER_LIST:"get_members",MARK_AVCHATROOM_MEMBER_INFO:"modify_user_info",QUIT_GROUP:"quit_group",CHANGE_GROUP_OWNER:"change_group_owner",DESTROY_GROUP:"destroy_group",ADD_GROUP_MEMBER:"add_group_member",DELETE_GROUP_MEMBER:"delete_group_member",BAN_AVCHATROOM_MEMBER:"ban_group_member",SEARCH_GROUP_BY_ID:"get_group_public_info",APPLY_JOIN_GROUP:"apply_join_group",HANDLE_APPLY_JOIN_GROUP:"handle_apply_join_group",HANDLE_INVITE_JOIN_GROUP:"handle_invite_join_permission_group",HANDLE_GROUP_INVITATION:"handle_invite_join_group",MODIFY_GROUP_INFO:"modify_group_base_info",MODIFY_GROUP_MEMBER_INFO:"modify_group_member_info",DELETE_GROUP_SYSTEM_MESSAGE:"deletemsg",DELETE_GROUP_AT_TIPS:"deletemsg",GET_GROUP_NOTIFY:"get_group_notify",GET_CONVERSATION_LIST:"get",PAGING_GET_CONVERSATION_LIST:"page_get",DELETE_CONVERSATION:"batch_delete",CLEAR_HISTORY_MESSAGE:"clear_msg",PIN_CONVERSATION:"top",SET_CONVERSATION_CUSTOM_DATA:"mark_contact",MARK_CONVERSATION:"mark_contact",CREATE_CONVERSATION_GROUP:"create_contact_group",DELETE_CONVERSATION_GROUP:"del_contact_group",UPDATE_CONVERSATION_GROUP:"update_contact_group",GET_CONVERSATION_GROUP_LIST:"get_contact_group",GET_MESSAGES:"getmsg",GET_C2C_ROAM_MESSAGES:"getroammsg",SET_C2C_PEER_MUTE_NOTIFICATIONS:"set_c2c_peer_mute_notifications",GET_C2C_PEER_MUTE_NOTIFICATIONS:"get_c2c_peer_mute_notifications",GET_GROUP_ROAM_MESSAGES:"group_msg_get",GET_READ_RECEIPT:"get_group_msg_receipt",GET_READ_RECEIPT_DETAIL:"get_group_msg_receipt_detail",SEND_READ_RECEIPT:"group_msg_receipt",SEND_C2C_READ_RECEIPT:"c2c_msg_read_receipt",SET_C2C_MESSAGE_READ:"msgreaded",GET_PEER_READ_TIME:"get_peer_read_time",SET_GROUP_MESSAGE_READ:"msg_read_report",FILE_READ_AND_WRITE_AUTHKEY:"authkey",FILE_UPLOAD:"pic_up",COS_SIGN:"cos",COS_PRE_SIG:"pre_sig",VIDEO_COVER:"video_cover",TIM_WEB_REPORT_V2:"tim_web_report_v2",BIG_DATA_HALLWAY_AUTH_KEY:"authkey",GET_ONLINE_MEMBER_NUM:"get_online_member_num",ALIVE:"alive",MESSAGE_PUSH:"msg_push",MULTI_MESSAGE_PUSH:"multi_msg_push_ws",MESSAGE_PUSH_ACK:"ws_msg_push_ack",STATUS_FORCE_OFFLINE:"stat_forceoffline",DOWNLOAD_MERGER_MESSAGE:"get_relay_json_msg",UPLOAD_MERGER_MESSAGE:"save_relay_json_msg",FETCH_CLOUD_CONTROL_CONFIG:"fetch_config",PUSHED_CLOUD_CONTROL_CONFIG:"push_configv2",FETCH_COMMERCIAL_CONFIG:"fetch_imsdk_purchase_bitsv2",PUSHED_COMMERCIAL_CONFIG:"push_imsdk_purchase_bitsv2",KICK_OTHER:"KickOther",OVERLOAD_NOTIFY:"notify2",SET_ALL_MESSAGE_READ:"read_all_unread_msg",CREATE_TOPIC:"create_topic",DELETE_TOPIC:"destroy_topic",UPDATE_TOPIC_PROFILE:"modify_topic",GET_TOPIC_LIST:"get_topic",SET_SELF_STATUS:"ws_set_custom_status",GET_USER_STATUS:"ws_get_user_status",SUBSCRIBE_USER_STATUS:"ws_status_subscribe",UNSUBSCRIBE_USER_STATUS:"ws_status_unsubscribe",GET_RPOFANITY_LIST:"get_local_words",TRANSLATE_TEXT:"ws_batch_trans_text",UPDATE_GROUP_COUNTER:"update_group_counter",GET_GROUP_COUNTER:"get_group_counter"},CHANNEL:{SOCKET:1,XHR:2,AUTO:0},NAME_VERSION:{openim:"v4",group_open_http_svc:"v4",sns:"v4",profile:"v4",recentcontact:"v4",openpic:"v4",group_open_http_noauth_svc:"v4",group_open_long_polling_http_svc:"v4",group_open_long_polling_http_noauth_svc:"v4",imopenstat:"v4",im_cos_sign_svr:"v4",im_cos_msg:"v4",webim:"v4",im_open_push:"v4",im_open_status:"v4"}},hr={SEARCH_MSG:new vn(0,Math.pow(2,0)).toString(),SEARCH_GRP_SNS:new vn(0,Math.pow(2,1)).toString(),AVCHATROOM_HISTORY_MSG:new vn(0,Math.pow(2,2)).toString(),GRP_COMMUNITY:new vn(0,Math.pow(2,3)).toString(),MSG_TO_SPECIFIED_GRP_MBR:new vn(0,Math.pow(2,4)).toString(),AVCHATROOM_MBR_LIST:new vn(0,Math.pow(2,6)).toString(),USER_STATUS:new vn(0,Math.pow(2,7)).toString(),CONV_MARK:new vn(0,Math.pow(2,9)).toString(),CONV_GROUP:new vn(0,Math.pow(2,10)).toString(),AVCHATROOM_BAN_MBR:new vn(0,Math.pow(2,11)).toString(),MSG_EXT:new vn(0,Math.pow(2,13)).toString(),GRP_COUNTER:new vn(0,Math.pow(2,15)).toString()},lo="c2c_text_message",_o="c2c_custom_message",bo="group_text_message",Hr="group_custom_message",Do="user_profile",Oo="sns",zo="group_profile",qo="group_member_profile";Zt.HOST.setCurrent(Tn);var _i=typeof wx<"u"&&typeof wx.getSystemInfoSync=="function"&&!!wx.getSystemInfoSync().fontSizeSetting,na=_i&&typeof wx.createGamePortal=="function",Qn=typeof qq<"u"&&typeof qq.getSystemInfoSync=="function"&&!!qq.getSystemInfoSync().fontSizeSetting,sr=typeof tt<"u"&&typeof tt.getSystemInfoSync=="function"&&!!tt.getSystemInfoSync().fontSizeSetting,ar=typeof swan<"u"&&typeof swan.getSystemInfoSync=="function"&&!!swan.getSystemInfoSync().fontSizeSetting,Or=typeof my<"u"&&typeof my.getSystemInfoSync=="function"&&!!my.getSystemInfoSync().fontSizeSetting,Dr=typeof jd<"u"&&typeof jd.getSystemInfoSync=="function",lr=typeof uni<"u"&&typeof window>"u"&&typeof uni.requireNativePlugin=="function",cr=typeof uni<"u",gr=_i||Qn||sr||ar||Or||lr||Dr,Mr=(typeof uni<"u"||typeof window<"u")&&!gr,Ar=Qn?qq:sr?tt:ar?swan:Or?my:_i?wx:lr?uni:Dr?jd:{},Ir=Mr&&window&&window.navigator&&window.navigator.userAgent||"",mo=/(micromessenger|webbrowser)/i.test(Ir),Ao=/AppleWebKit\/([\d.]+)/i.exec(Ir);Ao&&parseFloat(Ao.pop());var jn,Br,Pn=(jn="WEB",mo?jn="WEB":Qn?jn="QQ_MP":sr?jn="TT_MP":ar?jn="BAIDU_MP":Or?jn="ALI_MP":_i?jn="WX_MP":lr&&(jn="UNI_NATIVE_APP"),Ln[jn]),Xr=/iPad/i.test(Ir),po=/iPhone/i.test(Ir)&&!Xr,fo=/iPod/i.test(Ir),Us=po||Xr||fo,ao=(Br=Ir.match(/OS (\d+)_/i))&&Br[1]?Br[1]:null,xa=/Android/i.test(Ir),$r=function(){var Nt=Ir.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!Nt)return null;var ut=Nt[1]&&parseFloat(Nt[1]),_t=Nt[2]&&parseFloat(Nt[2]);return ut&&_t?parseFloat(Nt[1]+"."+Nt[2]):ut||null}();(function(){var Nt=Ir.match(/Chrome\/(\d+)/);Nt&&Nt[1]&&parseFloat(Nt[1])})();var Gr=/MSIE/.test(Ir)||Ir.indexOf("Trident")>-1&&Ir.indexOf("rv:11.0")>-1,Ll=function(){var Nt=/MSIE\s(\d+)\.\d/.exec(Ir),ut=Nt&&parseFloat(Nt[1]);return!ut&&/Trident\/7.0/i.test(Ir)&&/rv:11.0/.test(Ir)&&(ut=11),ut}();(function(){var Nt=Ir.match(/TBS\/(\d+)/i);Nt&&Nt[1]&&Nt[1]})();var Ss,Fo,Cp=/Windows/i.test(Ir),Js=/MAC OS X/i.test(Ir),ls=Mr&&typeof Worker<"u"&&!Gr,Zs=xa||Us,ou=Mr&&window.tencent_cloud_im_csig_flutter_for_web_25F_cy!==void 0;Ss=typeof console<"u"?console:typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.console?commonjsGlobal$1.console:typeof window<"u"&&window.console?window.console:{};for(var Mu=function(){},lp=["assert","clear","count","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],Nl=lp.length;Nl--;)Fo=lp[Nl],console[Fo]||(Ss[Fo]=Mu);var Ts=Ss,qs=0,iu=function(){return new Date().getTime()+qs},ds=function(){qs=0},Gs=function(){return Math.floor(iu()/1e3)},ga=0;function Du(){return so()?"%c TIM %c":"TIM"}function pn(){var Nt,ut=((Nt=new Date).setTime(iu()),Nt);return ut.toLocaleTimeString("en-US",{hour12:!1})+"."+function(_t){var at;switch(_t.toString().length){case 1:at="00"+_t;break;case 2:at="0"+_t;break;default:at=_t}return at}(ut.getMilliseconds())}var sn={arguments2String:function(Nt){var ut="";if(Nt.length===1)ut=Nt[0];else for(var _t=0,at=Nt.length;_t<at;_t++)tp(Nt[_t])?_c(Nt[_t])?ut+=Bl(Nt[_t]):ut+=JSON.stringify(Nt[_t]):ut+=Nt[_t],ut+=" ";return ut},_exec:function(Nt,ut){so()?Ts[Nt](Du(),"background:#0abf5b; padding:1px; border-radius:3px; color: #fff","background:transparent",pn(),ut):Ts[Nt]("".concat(Du()," ").concat(pn()," ").concat(ut))},d:function(){if(ga<=-1){var Nt=this.arguments2String(arguments);this._exec("debug",Nt)}},l:function(){if(ga<=0){var Nt=this.arguments2String(arguments);this._exec("log",Nt)}},log:function(){if(ga<=0){var Nt=this.arguments2String(arguments);this._exec("log",Nt)}},i:function(){if(ga<=1){var Nt=this.arguments2String(arguments);this._exec("info",Nt)}},w:function(){if(ga<=2){var Nt=this.arguments2String(arguments);this._exec("warn",Nt)}},e:function(){if(ga<=3){var Nt=this.arguments2String(arguments);this._exec("error",Nt)}},setLevel:function(Nt){Nt<4&&this._exec("log","set level from "+ga+" to "+Nt),ga=Nt},getLevel:function(){return ga}},xs={JPG:1,JPEG:1,GIF:2,PNG:3,BMP:4,UNKNOWN:255},Wo={NICK:"Tag_Profile_IM_Nick",GENDER:"Tag_Profile_IM_Gender",BIRTHDAY:"Tag_Profile_IM_BirthDay",LOCATION:"Tag_Profile_IM_Location",SELFSIGNATURE:"Tag_Profile_IM_SelfSignature",ALLOWTYPE:"Tag_Profile_IM_AllowType",LANGUAGE:"Tag_Profile_IM_Language",AVATAR:"Tag_Profile_IM_Image",MESSAGESETTINGS:"Tag_Profile_IM_MsgSettings",ADMINFORBIDTYPE:"Tag_Profile_IM_AdminForbidType",LEVEL:"Tag_Profile_IM_Level",ROLE:"Tag_Profile_IM_Role"},dm="Tag_SNS_IM_Group",dp="Tag_SNS_IM_Remark",Ql="Tag_SNS_IM_AddSource",_d="Tag_SNS_IM_AddWording",ep="Tag_SNS_IM_AddTime",zu={UNKNOWN:"Gender_Type_Unknown",FEMALE:"Gender_Type_Female",MALE:"Gender_Type_Male"},Fl={NONE:"AdminForbid_Type_None",SEND_OUT:"AdminForbid_Type_SendOut"},Lp={NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_ANY:"AllowType_Type_AllowAny",DENY_ANY:"AllowType_Type_DenyAny"},Qs="JoinedSuccess",Zo="WaitAdminApproval",Po="@TGS#_",Ku="@TOPIC#_",as=["url"],to=function(Nt){return Wu(Nt)==="map"},vr=function(Nt){return Wu(Nt)==="file"},Yo=function(Nt){return Nt!==null&&(typeof Nt=="number"&&!isNaN(Nt-0)||ot(Nt)==="object"&&Nt.constructor===Number)},yo=function(Nt){return typeof Nt=="string"},Ru=function(Nt){return Nt!==null&&ot(Nt)==="object"},ns=function(Nt){if(ot(Nt)!=="object"||Nt===null)return!1;var ut=Object.getPrototypeOf(Nt);if(ut===null)return!0;for(var _t=ut;Object.getPrototypeOf(_t)!==null;)_t=Object.getPrototypeOf(_t);return ut===_t},Zr=function(Nt){return typeof Array.isArray=="function"?Array.isArray(Nt):Wu(Nt)==="array"},fr=function(Nt){return Nt===void 0},tp=function(Nt){return Zr(Nt)||Ru(Nt)},ku=function(Nt){return typeof Nt=="function"},_c=function(Nt){return Nt instanceof Error},Wu=function(Nt){return Object.prototype.toString.call(Nt).match(/^\[object (.*)\]$/)[1].toLowerCase()},Il=function(Nt){if(typeof Nt!="string")return!1;var ut=Nt[0];return!/[^a-zA-Z0-9]/.test(ut)};Date.now||(Date.now=function(){return new Date().getTime()});var Eu=function Nt(ut,_t,at,ft){if(!tp(ut)||!tp(_t))return 0;for(var gt,Ct=0,St=Object.keys(_t),Dt=0,Lt=St.length;Dt<Lt;Dt++)if(gt=St[Dt],!(fr(_t[gt])||at&&at.includes(gt)))if(tp(ut[gt])&&tp(_t[gt]))Ct+=Nt(ut[gt],_t[gt],at,ft);else{if(ft&&ft.includes(_t[gt]))continue;ut[gt]!==_t[gt]&&(ut[gt]=_t[gt],Ct+=1)}return Ct},Bl=function(Nt){return JSON.stringify(Nt,["message","code"])},Fu=function(Nt){if(Nt.length===0)return 0;for(var ut=0,_t=0,at=typeof document<"u"&&document.characterSet!==void 0?document.characterSet:"UTF-8";Nt[ut]!==void 0;)_t+=Nt[ut++].charCodeAt[ut]<=255?1:at===!1?3:2;return _t},Qu=function(Nt){var ut=Nt||99999999;return Math.round(Math.random()*ut)},Ou="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",cu=Ou.length,Vs=function(Nt,ut){for(var _t in Nt)if(Nt[_t]===ut)return!0;return!1},ps={},gu=function(Nt){return Nt.indexOf("http://")===-1||Nt.indexOf("https://")===-1?"https://"+Nt:Nt.replace(/https|http/,"https")},Au=function Nt(ut){if(Object.getOwnPropertyNames(ut).length===0)return Object.create(null);var _t=Array.isArray(ut)?[]:Object.create(null),at="";for(var ft in ut)ut[ft]!==null?ut[ft]!==void 0?(at=ot(ut[ft]),["string","number","function","boolean"].indexOf(at)>=0?_t[ft]=ut[ft]:_t[ft]=Nt(ut[ft])):_t[ft]=void 0:_t[ft]=null;return _t};function zs(Nt,ut){if(!Zr(Nt)||!Zr(ut))return!1;var _t=!1;return ut.forEach(function(at){var ft=at.key,gt=at.value,Ct=Nt.find(function(St){return St.key===ft});Ct?Ct.value!==gt&&(Ct.value=gt,_t=!0):(Nt.push({key:ft,value:gt}),_t=!0)}),_t}var uu=function(Nt){return Nt===Ut.GRP_AVCHATROOM},eu=function(Nt){var ut=Nt.type,_t=Nt.groupID;return ut===Ut.GRP_COMMUNITY||"".concat(_t).startsWith(Po)&&!"".concat(_t).includes(Ku)},lu=function(Nt){return"".concat(Nt).startsWith(Po)&&"".concat(Nt).includes(Ku)},rs=function(Nt){return yo(Nt)&&Nt.slice(0,3)===Ut.CONV_C2C},mu=function(Nt){return yo(Nt)&&Nt.slice(0,5)===Ut.CONV_GROUP},Sp=function(Nt){return yo(Nt)&&Nt===Ut.CONV_SYSTEM};function zp(Nt,ut){var _t={};return Object.keys(Nt).forEach(function(at){_t[at]=ut(Nt[at],at)}),_t}function Tu(Nt){return gr?new Promise(function(ut,_t){Ar.getImageInfo({src:Nt,success:function(at){ut({width:at.width,height:at.height})},fail:function(){ut({width:0,height:0})}})}):Gr&&Ll===9?Promise.resolve({width:0,height:0}):new Promise(function(ut,_t){var at=new Image;at.onload=function(){ut({width:this.width,height:this.height}),at=null},at.onerror=function(){ut({width:0,height:0}),at=null},at.src=Nt})}function Lu(){function Nt(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"".concat(Nt()+Nt()).concat(Nt()).concat(Nt()).concat(Nt()).concat(Nt()).concat(Nt()).concat(Nt())}function np(){var Nt="unknown";if(Js&&(Nt="mac"),Cp&&(Nt="windows"),Us&&(Nt="ios"),xa&&(Nt="android"),gr)try{var ut=Ar.getSystemInfoSync().platform;ut!==void 0&&(Nt=ut)}catch{}return Nt}function pm(Nt,ut){Nt=Nt.split("."),ut=ut.split(".");for(var _t=Math.max(Nt.length,ut.length);Nt.length<_t;)Nt.push("0");for(;ut.length<_t;)ut.push("0");for(var at=0;at<_t;at++){var ft=parseInt(Nt[at]),gt=parseInt(ut[at]);if(ft>gt)return 1;if(ft<gt)return-1}return 0}function tu(Nt){var ut=Nt.originUrl,_t=ut===void 0?void 0:ut,at=Nt.originWidth,ft=Nt.originHeight,gt=Nt.min,Ct=gt===void 0?198:gt,St=parseInt(at),Dt=parseInt(ft),Lt={url:void 0,width:0,height:0};if((St<=Dt?St:Dt)<=Ct)Lt.url=_t,Lt.width=St,Lt.height=Dt;else{Dt<=St?(Lt.width=Math.ceil(St*Ct/Dt),Lt.height=Ct):(Lt.width=Ct,Lt.height=Math.ceil(Dt*Ct/St));var jt=_t&&_t.indexOf("?")>-1?"".concat(_t,"&"):"".concat(_t,"?");Lt.url="".concat(jt,Ct===198?"imageView2/3/w/198/h/198":"imageView2/3/w/720/h/720")}return fr(_t)?(Lt.url,Rt(Lt,as)):Lt}function rp(Nt){var ut=Nt[2];Nt[2]=Nt[1],Nt[1]=ut;for(var _t=0;_t<Nt.length;_t++)Nt[_t].setType(_t)}function Tl(Nt){var ut=Nt.servcmd;return ut.slice(ut.indexOf(".")+1)}function ju(Nt,ut){return Math.round(Number(Nt)*Math.pow(10,ut))/Math.pow(10,ut)}function Kp(Nt,ut){return Nt.includes(ut)}function Ip(Nt,ut){return Nt.includes(ut)}function Es(Nt){return Nt.split(Ku)[0]}var ws=function(Nt,ut,_t){if(fr(ut))return"";switch(Nt){case Ut.MSG_TEXT:return ut.text;case Ut.MSG_IMAGE:return _t?"[Image]":"[]";case Ut.MSG_LOCATION:return _t?"[Location]":"[]";case Ut.MSG_AUDIO:return _t?"[Voice]":"[]";case Ut.MSG_VIDEO:return _t?"[Video]":"[]";case Ut.MSG_FILE:return _t?"[File]":"[]";case Ut.MSG_CUSTOM:return _t?"[Custom Messages]":"[]";case Ut.MSG_GRP_TIP:return _t?"[Group Notification]":"[]";case Ut.MSG_GRP_SYS_NOTICE:return _t?"[Group System Message]":"[]";case Ut.MSG_FACE:return _t?"[Animated Sticker]":"[]";case Ut.MSG_MERGER:return _t?"[Chat Record]":"[]";default:return""}};function dr(Nt){return Nt===Ut.MSG_TEXT||Nt===Ut.MSG_CUSTOM||Nt===Ut.MSG_LOCATION||Nt===Ut.MSG_FACE}function mr(Nt){var ut=[];if(!yo(Nt))return ut;var _t=Nt.length;if(_t===0)return ut;for(var at=_t-1;at>=0;at--)Nt[at]==="1"&&ut.push(Math.pow(2,_t-at-1));return ut}function so(){return!Gr&&!gr}function Mo(Nt){return"the length of userIDList cannot exceed ".concat(Nt)}function Ko(Nt,ut){if(Nt){var _t=Nt;return ut&&(Nt.startsWith("http://")?_t=Nt.replace(/^http:\/\/[^/]+/,ut):Nt.startsWith("https://")&&(_t=Nt.replace(/^https:\/\/[^/]+/,ut))),_t}}var Ds=Object.prototype.hasOwnProperty;function kr(Nt){if(Nt==null)return!0;if(typeof Nt=="boolean")return!1;if(typeof Nt=="number")return Nt===0;if(typeof Nt=="string"||typeof Nt=="function"||Array.isArray(Nt))return Nt.length===0;if(Nt instanceof Error)return Nt.message==="";if(ns(Nt)){for(var ut in Nt)if(Ds.call(Nt,ut))return!1;return!0}return!(!to(Nt)&&(_t=Nt,Wu(_t)!=="set")&&!vr(Nt))&&Nt.size===0;var _t}function Fr(Nt,ut,_t){if(ut===void 0)return!0;var at=!0;if(ns(ut))Object.keys(ut).forEach(function(gt){var Ct=Nt.length===1?Nt[0][gt]:void 0;at=!!_u(Ct,ut[gt],_t,gt)&&at});else if(Zr(ut))for(var ft=0;ft<ut.length;ft++)at=!!_u(Nt[ft],ut[ft],_t,ut[ft].name)&&at;if(at)return at;throw new Error("Params validate failed.")}function _u(Nt,ut,_t,at){if(ut===void 0)return!0;var ft=!0;if(ut.required&&kr(Nt)&&(sn.e("[".concat(_t,'] Missing required params: "').concat(at,'".')),ft=!1),!kr(Nt)){var gt=Wu(Nt),Ct=ut.type.toLowerCase();gt!==Ct&&(gt==="asyncfunction"&&Ct==="function"||(sn.e("[".concat(_t,'] Invalid params: type check failed for "').concat(at,'".Expected ').concat(ut.type,".")),ft=!1))}return ut.validator&&!ut.validator(Nt)&&(sn.e("[".concat(_t,"] Invalid params: custom validator check failed for params.")),ft=!1),ft}var fs,ss={UNSEND:"unSend",SUCCESS:"success",FAIL:"fail"},nu={NOT_START:"notStart",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},Vl=function(Nt){if(!Nt)return!1;if(rs(Nt)||mu(Nt)||Sp(Nt))return!0;var ut=Uo("InvalidConversationID",Nt);return ut&&sn.w(ut),!1},Yr=function(Nt){Nt.desc!==""&&Uo("API_REFER")!==""&&sn.w("[".concat(Nt.api,"] | ").concat(Nt.param," | ").concat(Nt.desc,", ").concat(Uo("API_REFER")).concat(Nt.api))},As=function(){return Uo("StringRequiredLog")},op=function(Nt){return Uo("NonEmptyStringRequiredLog",Nt)},kp=function(){return Uo("NumberRequiredLog")},xm=function(){return Uo("UndefinedNotAllowedLog")},pp=function(){return Uo("FileRequiredLog")},Qm=function(){return Uo("FunctionRequiredLog")},Bu=function(){return Uo("ArrayRequiredLog")},Ks=function(){return Uo("NonEmptyArrayLog")},wm=function(){return Uo("CallbackMissingLog")},Nu=function(){return Uo("PositiveIntegerRequiredLog")},Np=function(Nt,ut){return Uo("StringNotLongerThanLog",Nt,ut)},e_=function(Nt,ut){return Uo("NumberLessThanLog",Nt,ut)},Pl=function(Nt){return Uo("KeyValueStringRequiredLog",Nt)},Jr=function(){return Uo("PlainObjectRequiredLog")},du=function(){return Uo("NonEmptyContentRequiredLog")},Qo=function(){return Uo("FileNotSelectedLog")},_l=function(){return Uo("MessageInstanceRequiredLog")},Wp=function(){return Uo("NonAnonymousFunctionLog")},hs=function(){return Uo("MessageExtensionNotAvailableLog")},uo={type:"String",required:!0},ru={type:"Array",required:!0},Hs={type:"Object",required:!0},Xs={type:"Boolean",required:!0},Yp={type:"number",required:!0},Uo=null,Ws={hookGetAPITips:function(Nt){Uo=Nt},login:{userID:uo,userSig:uo},addToBlacklist:{userIDList:ru},removeFromBlacklist:{userIDList:ru},on:[{name:"eventName",type:"String",validator:function(Nt){return typeof Nt=="string"&&Nt.length!==0||(Yr({api:"on",param:"eventName",desc:op("eventName")}),!1)}},{name:"handler",type:"Function",validator:function(Nt){return typeof Nt!="function"?(Yr({api:"on",param:"handler",desc:Qm()}),!1):(Nt.name===""&&Yr({api:"on",param:"handler",desc:Wp()}),!0)}}],once:[{name:"eventName",type:"String",validator:function(Nt){return typeof Nt=="string"&&Nt.length!==0||(Yr({api:"once",param:"eventName",desc:op("eventName")}),!1)}},{name:"handler",type:"Function",validator:function(Nt){return typeof Nt!="function"?(Yr({api:"once",param:"handler",desc:Qm()}),!1):(Nt.name===""&&Yr({api:"once",param:"handler",desc:Wp()}),!0)}}],off:[{name:"eventName",type:"String",validator:function(Nt){return typeof Nt=="string"&&Nt.length!==0||(Yr({api:"off",param:"eventName",desc:op("eventName")}),!1)}},{name:"handler",type:"Function",validator:function(Nt){return typeof Nt!="function"?(Yr({api:"off",param:"handler",desc:Qm()}),!1):(Nt.name===""&&Yr({api:"off",param:"handler",desc:Wp()}),!0)}}],sendMessage:[rt({name:"message"},Hs)],setMessageExtensions:[rt(rt({name:"message"},Hs),{},{validator:function(Nt){return Nt.status===ss.SUCCESS&&Nt.isSupportExtension===!0||(Yr({api:"setMessageExtensions",param:"message",desc:hs()}),!1)}}),rt({name:"extensions"},ru)],getMessageExtensions:[rt(rt({name:"message"},Hs),{},{validator:function(Nt){return Nt.status===ss.SUCCESS&&Nt.isSupportExtension===!0||(Yr({api:"getMessageExtensions",param:"message",desc:hs()}),!1)}})],deleteMessageExtensions:[rt(rt({name:"message"},Hs),{},{validator:function(Nt){return Nt.status===ss.SUCCESS&&Nt.isSupportExtension===!0||(Yr({api:"deleteMessageExtensions",param:"message",desc:hs()}),!1)}})],getMessageList:{conversationID:rt(rt({},uo),{},{validator:function(Nt){return Vl(Nt)}}),nextReqMessageID:{type:"String"},count:{type:"Number",validator:function(Nt){return!(!fr(Nt)&&!/^[1-9][0-9]*$/.test(Nt))||(Yr({api:"getMessageList",param:"count",desc:Nu()}),!1)}}},getMessageListHopping:{conversationID:rt(rt({},uo),{},{validator:function(Nt){return Vl(Nt)}}),sequence:{type:"Number"},time:{type:"Number"},direction:{type:"Number",validator:function(Nt){return!(!fr(Nt)&&Nt!==0&&Nt!==1)||(Yr({api:"getMessageListHopping",param:"direction",desc:Uo("0Or1RequiredLog")}),!1)}},count:{type:"Number",validator:function(Nt){return!(!fr(Nt)&&!/^[1-9][0-9]*$/.test(Nt))||(Yr({api:"getMessageListHopping",param:"count",desc:Nu}),!1)}}},setMessageRead:{conversationID:rt(rt({},uo),{},{validator:function(Nt){return Vl(Nt)}})},setAllMessageRead:{scope:{type:"String",required:!1,validator:function(Nt){return!Nt||[Ut.READ_ALL_C2C_MSG,Ut.READ_ALL_GROUP_MSG,Ut.READ_ALL_MSG].indexOf(Nt)!==-1||(Yr({api:"setAllMessageRead",param:"scope",desc:"TIM.TYPES.READ_ALL_C2C_MSG or TIM.TYPES.READ_ALL_GROUP_MSG or TIM.TYPES.READ_ALL_MSG required"}),!1)}}},getConversationProfile:[rt(rt({name:"conversationID"},uo),{},{validator:function(Nt){return Vl(Nt)}})],clearHistoryMessage:[rt(rt({name:"conversationID"},uo),{},{validator:function(Nt){return Vl(Nt)}})],pinConversation:{conversationID:rt(rt({},uo),{},{validator:function(Nt){return Vl(Nt)}}),isPinned:rt({},Xs)},setConversationCustomData:{conversationIDList:rt({},ru),customData:{type:"String",validator:function(Nt){return yo(Nt)?!(Nt.length>256)||(Yr({api:"setConversationCustomData",param:"customData",desc:Np("customData",256)}),!1):(Yr({api:"setConversationCustomData",param:"customData",desc:As()}),!1)}}},markConversation:{conversationIDList:rt({},ru),markType:{type:"number",validator:function(Nt){return Yo(Nt)?Nt<=0?(Yr({api:"markConversation",param:"markType",desc:(ut="markType",_t=0,Uo("NumberGreaterThanLog",ut,_t))}),!1):!(Nt>=Math.pow(2,64))||(Yr({api:"markConversation",param:"markType",desc:e_("markType","Math.pow(2,64)")}),!1):(Yr({api:"markConversation",param:"markType",desc:kp()}),!1);var ut,_t}},enableMark:rt({},Xs)},createConversationGroup:{conversationIDList:rt({},ru),groupName:rt(rt({},uo),{},{validator:function(Nt){return!!Nt&&(!(Nt.length>32)||(Yr({api:"createConversationGroup",param:"groupName",desc:Np("groupName",32)}),!1))}})},deleteConversationGroup:[rt({name:"groupName"},uo)],renameConversationGroup:{oldName:rt({},uo),newName:rt(rt({},uo),{},{validator:function(Nt){return!!Nt&&(!(Nt.length>32)||(Yr({api:"renameConversationGroup",param:"newName",desc:Np("newName",32)}),!1))}})},addConversationsToGroup:{conversationIDList:rt({},ru),groupName:rt({},uo)},deleteConversationsFromGroup:{conversationIDList:rt({},ru),groupName:rt({},uo)},getGroupList:{groupProfileFilter:{type:"Array"}},getGroupProfile:{groupID:uo,groupCustomFieldFilter:{type:"Array"},memberCustomFieldFilter:{type:"Array"}},getGroupProfileAdvance:{groupIDList:ru},createGroup:{name:uo},joinGroup:{groupID:uo,type:{type:"String"},applyMessage:{type:"String"}},quitGroup:[rt({name:"groupID"},uo)],handleApplication:{message:Hs,handleAction:uo,handleMessage:{type:"String"}},changeGroupOwner:{groupID:uo,newOwnerID:uo},updateGroupProfile:{groupID:uo,muteAllMembers:{type:"Boolean"}},dismissGroup:[rt({name:"groupID"},uo)],searchGroupByID:[rt({name:"groupID"},uo)],initGroupAttributes:{groupID:uo,groupAttributes:rt(rt({},Hs),{},{validator:function(Nt){var ut=!0;return Object.keys(Nt).forEach(function(_t){if(!yo(Nt[_t]))return Yr({api:"initGroupAttributes",param:"groupAttributes",desc:Pl("value")}),ut=!1}),ut}})},setGroupAttributes:{groupID:uo,groupAttributes:rt(rt({},Hs),{},{validator:function(Nt){var ut=!0;return Object.keys(Nt).forEach(function(_t){if(!yo(Nt[_t]))return Yr({api:"setGroupAttributes",param:"groupAttributes",desc:Pl("value")}),ut=!1}),ut}})},deleteGroupAttributes:{groupID:uo,keyList:{type:"Array",validator:function(Nt){if(fr(Nt)||!Zr(Nt))return Yr({api:"deleteGroupAttributes",param:"keyList",desc:Bu()}),!1;if(!kr(Nt)){var ut=!0;return Nt.forEach(function(_t){if(!yo(_t))return Yr({api:"deleteGroupAttributes",param:"keyList",desc:Uo("StringArrayRequiredLog")}),ut=!1}),ut}return!0}}},getGroupAttributes:{groupID:uo,keyList:{type:"Array",validator:function(Nt){if(fr(Nt)||!Zr(Nt))return Yr({api:"getGroupAttributes",param:"keyList",desc:Bu()}),!1;if(!kr(Nt)){var ut=!0;return Nt.forEach(function(_t){if(!yo(_t))return Yr({api:"getGroupAttributes",param:"keyList",desc:Pl("key")}),ut=!1}),ut}return!0}}},setGroupCounters:{groupID:uo,counters:Hs},increaseGroupCounter:{groupID:uo,key:uo,value:Yp},decreaseGroupCounter:{groupID:uo,key:uo,value:Yp},getGroupCounters:{groupID:uo},getGroupMemberList:{groupID:uo,count:{type:"Number"}},getGroupMemberProfile:{groupID:uo,userIDList:ru,memberCustomFieldFilter:{type:"Array"}},addGroupMember:{groupID:uo,userIDList:ru},setGroupMemberRole:{groupID:uo,userID:uo,role:uo},setGroupMemberMuteTime:{groupID:uo,userID:uo,muteTime:{type:"Number",validator:function(Nt){return Nt>=0}}},setGroupMemberNameCard:{groupID:uo,userID:{type:"String"},nameCard:{type:"String",validator:function(Nt){return yo(Nt)?(Nt.length,!0):(Yr({api:"setGroupMemberNameCard",param:"nameCard",desc:As()}),!1)}}},setGroupMemberCustomField:{groupID:uo,userID:{type:"String"},memberCustomField:ru},deleteGroupMember:{groupID:uo},markGroupMemberList:{groupID:uo,markType:{type:"number",validator:function(Nt){return Yo(Nt)?!(Nt<1e3)||(Yr({api:"markGroupMemberList",param:"markType",desc:(ut="markType",_t=1e3,Uo("NumberGreaterOrEqualLog",ut,_t))}),!1):(Yr({api:"markGroupMemberList",param:"markType",desc:kp()}),!1);var ut,_t}},userIDList:rt({},ru),enableMark:rt({},Xs)},createTextMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){return ns(Nt)?yo(Nt.text)?Nt.text.length!==0||(Yr({api:"createTextMessage",param:"payload.text",desc:du()}),!1):(Yr({api:"createTextMessage",param:"payload.text",desc:As()}),!1):(Yr({api:"createTextMessage",param:"payload",desc:Jr()}),!1)}})},createTextAtMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){return ns(Nt)?yo(Nt.text)?Nt.text.length===0?(Yr({api:"createTextAtMessage",param:"payload.text",desc:du()}),!1):!(Nt.atUserList&&!Zr(Nt.atUserList))||(Yr({api:"createTextAtMessage",param:"payload.atUserList",desc:Bu()}),!1):(Yr({api:"createTextAtMessage",param:"payload.text",desc:As()}),!1):(Yr({api:"createTextAtMessage",param:"payload",desc:Jr()}),!1)}})},createCustomMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){return ns(Nt)?Nt.data&&!yo(Nt.data)?(Yr({api:"createCustomMessage",param:"payload.data",desc:As()}),!1):Nt.description&&!yo(Nt.description)?(Yr({api:"createCustomMessage",param:"payload.description",desc:As()}),!1):!(Nt.extension&&!yo(Nt.extension))||(Yr({api:"createCustomMessage",param:"payload.extension",desc:As()}),!1):(Yr({api:"createCustomMessage",param:"payload",desc:Jr()}),!1)}})},createImageMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){if(!ns(Nt))return Yr({api:"createImageMessage",param:"payload",desc:Jr()}),!1;if(fr(Nt.file))return Yr({api:"createImageMessage",param:"payload.file",desc:xm()}),!1;if(Mr){if(!(Nt.file instanceof HTMLInputElement||vr(Nt.file)))return ns(Nt.file)&&typeof uni<"u"?Nt.file.tempFilePaths.length!==0&&Nt.file.tempFiles.length!==0||(Yr({api:"createImageMessage",param:"payload.file",desc:Qo()}),!1):(Yr({api:"createImageMessage",param:"payload.file",desc:pp()}),!1);if(Nt.file instanceof HTMLInputElement&&Nt.file.files.length===0)return Yr({api:"createImageMessage",param:"payload.file",desc:Qo()}),!1}return!0},onProgress:{type:"Function",required:!1,validator:function(Nt){return fr(Nt)&&Yr({api:"createImageMessage",param:"onProgress",desc:wm()}),!0}}})},createAudioMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){return!!ns(Nt)||(Yr({api:"createAudioMessage",param:"payload",desc:Jr()}),!1)}}),onProgress:{type:"Function",required:!1,validator:function(Nt){return fr(Nt)&&Yr({api:"createAudioMessage",param:"onProgress",desc:wm()}),!0}}},createVideoMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){if(!ns(Nt))return Yr({api:"createVideoMessage",param:"payload",desc:Jr()}),!1;if(fr(Nt.file))return Yr({api:"createVideoMessage",param:"payload.file",desc:xm()}),!1;if(Mr){if(!(Nt.file instanceof HTMLInputElement||vr(Nt.file)))return ns(Nt.file)&&typeof uni<"u"?!!vr(Nt.file.tempFile)||(Yr({api:"createVideoMessage",param:"payload.file",desc:Qo()}),!1):(Yr({api:"createVideoMessage",param:"payload.file",desc:pp()}),!1);if(Nt.file instanceof HTMLInputElement&&Nt.file.files.length===0)return Yr({api:"createVideoMessage",param:"payload.file",desc:Qo()}),!1}return!0}}),onProgress:{type:"Function",required:!1,validator:function(Nt){return fr(Nt)&&Yr({api:"createVideoMessage",param:"onProgress",desc:wm()}),!0}}},createFaceMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){return ns(Nt)?Yo(Nt.index)?!!yo(Nt.data)||(Yr({api:"createFaceMessage",param:"payload.data",desc:As()}),!1):(Yr({api:"createFaceMessage",param:"payload.index",desc:kp()}),!1):(Yr({api:"createFaceMessage",param:"payload",desc:Jr()}),!1)}})},createFileMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){if(!ns(Nt))return Yr({api:"createFileMessage",param:"payload",desc:Jr()}),!1;if(fr(Nt.file))return Yr({api:"createFileMessage",param:"payload.file",desc:xm()}),!1;if(Mr){if(!(Nt.file instanceof HTMLInputElement||vr(Nt.file)))return ns(Nt.file)&&typeof uni<"u"?Nt.file.tempFilePaths.length!==0&&Nt.file.tempFiles.length!==0||(Yr({api:"createFileMessage",param:"payload.file",desc:Qo()}),!1):(Yr({api:"createFileMessage",param:"payload.file",desc:pp()}),!1);if(Nt.file instanceof HTMLInputElement&&Nt.file.files.length===0)return Yr({api:"createFileMessage",param:"payload.file",desc:Qo()}),!1}return!0}}),onProgress:{type:"Function",required:!1,validator:function(Nt){return fr(Nt)&&Yr({api:"createFileMessage",param:"onProgress",desc:wm()}),!0}}},createLocationMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){return ns(Nt)?yo(Nt.description)?Yo(Nt.longitude)?!!Yo(Nt.latitude)||(Yr({api:"createLocationMessage",param:"payload.latitude",desc:kp()}),!1):(Yr({api:"createLocationMessage",param:"payload.longitude",desc:kp()}),!1):(Yr({api:"createLocationMessage",param:"payload.description",desc:As()}),!1):(Yr({api:"createLocationMessage",param:"payload",desc:Jr()}),!1)}})},createMergerMessage:{to:uo,conversationType:uo,payload:rt(rt({},Hs),{},{validator:function(Nt){if(kr(Nt.messageList))return Yr({api:"createMergerMessage",param:"payload.messageList",desc:Ks()}),!1;if(kr(Nt.compatibleText))return Yr({api:"createMergerMessage",param:"payload.compatibleText",desc:op("compatibleText")}),!1;var ut=!1;return Nt.messageList.forEach(function(_t){_t.status===ss.FAIL&&(ut=!0)}),!ut||(Yr({api:"createMergerMessage",param:"payload.messageList",desc:Uo("MergeFailedMessageLog")}),!1)}})},revokeMessage:[rt(rt({name:"message"},Hs),{},{validator:function(Nt){return kr(Nt)?(Yr({api:"revokeMessage",param:"message",desc:_l()}),!1):Nt.conversationType===Ut.CONV_SYSTEM?(Yr({api:"revokeMessage",param:"message",desc:Uo("MessageCanBeRevokedDesc")}),!1):Nt.isRevoked!==!0||(Yr({api:"revokeMessage",param:"message",desc:Uo("MessageRevokedLog")}),!1)}})],deleteMessage:[rt(rt({name:"messageList"},ru),{},{validator:function(Nt){return!kr(Nt)||(Yr({api:"deleteMessage",param:"messageList",desc:Ks()}),!1)}})],translateText:{sourceTextList:ru,sourceLanguage:uo,targetLanguage:uo},modifyMessage:[rt(rt({name:"message"},Hs),{},{validator:function(Nt){return kr(Nt)?(Yr({api:"modifyMessage",param:"message",desc:_l()}),!1):Nt.conversationType===Ut.CONV_SYSTEM?(Yr({api:"modifyMessage",param:"message",desc:Uo("MessageCanBeModifiedLog")}),!1):Nt._onlineOnlyFlag!==!0||(Yr({api:"modifyMessage",param:"message",desc:Uo("OnlineMessageNotSupportLog")}),!1)}})],getUserProfile:{userIDList:{type:"Array",validator:function(Nt){return Zr(Nt)?(Nt.length===0&&Yr({api:"getUserProfile",param:"userIDList",desc:Ks()}),!0):(Yr({api:"getUserProfile",param:"userIDList",desc:Bu()}),!1)}}},updateMyProfile:{profileCustomField:{type:"Array",validator:function(Nt){return!!fr(Nt)||!!Zr(Nt)||(Yr({api:"updateMyProfile",param:"profileCustomField",desc:Bu()}),!1)}}},setSelfStatus:{customStatus:{type:"String",validator:function(Nt){return!!yo(Nt)||(Yr({api:"setSelfStatus",param:"customStatus",desc:As()}),!1)}}},getUserStatus:{userIDList:{type:"Array",validator:function(Nt){return Zr(Nt)?Nt.length!==0||(Yr({api:"getUserStatus",param:"userIDList",desc:Ks()}),!1):(Yr({api:"getUserStatus",param:"userIDList",desc:Bu()}),!1)}}},subscribeUserStatus:{userIDList:{type:"Array",validator:function(Nt){return Zr(Nt)?Nt.length!==0||(Yr({api:"subscribeUserStatus",param:"userIDList",desc:Ks()}),!1):(Yr({api:"subscribeUserStatus",param:"userIDList",desc:Bu()}),!1)}}},unsubscribeUserStatus:{userIDList:{type:"Array",validator:function(Nt){return!Nt||!!Zr(Nt)||(Yr({api:"subscribeUserStatus",param:"userIDList",desc:Bu()}),!1)}}},addFriend:{to:uo,source:{type:"String",required:!0,validator:function(Nt){return!!Nt&&(Nt.startsWith("AddSource_Type_")?!(Nt.replace("AddSource_Type_","").length>8)||(Yr({api:"addFriend",param:"source",desc:Np("keyword",8)}),!1):(Yr({api:"addFriend",param:"source",desc:Uo("SourcePrefixLog")}),!1))}},remark:{type:"String",required:!1,validator:function(Nt){return!(yo(Nt)&&Nt.length>96)||(Yr({api:"addFriend",param:"remark",desc:Np("remark",96)}),!1)}}},deleteFriend:{userIDList:ru},checkFriend:{userIDList:ru},getFriendProfile:{userIDList:ru},updateFriend:{userID:uo,remark:{type:"String",required:!1,validator:function(Nt){return!(yo(Nt)&&Nt.length>96)||(Yr({api:"updateFriend",param:"remark",desc:Np("remark",96)}),!1)}},friendCustomField:{type:"Array",required:!1,validator:function(Nt){if(Nt){if(!Zr(Nt))return Yr({api:"updateFriend",param:"friendCustomField",desc:Bu()}),!1;var ut=!0;return Nt.forEach(function(_t){return yo(_t.key)&&_t.key.indexOf("Tag_SNS_Custom")!==-1?yo(_t.value)?_t.key.replace("Tag_SNS_Custom_","").length>8?(Yr({api:"updateFriend",param:"friendCustomField",desc:Np("keyword",8)}),ut=!1):void 0:(Yr({api:"updateFriend",param:"friendCustomField",desc:Pl("value")}),ut=!1):(Yr({api:"updateFriend",param:"friendCustomField",desc:Uo("FriendCustomFieldPrefixLog")}),ut=!1)}),ut}return!0}}},acceptFriendApplication:{userID:uo},refuseFriendApplication:{userID:uo},deleteFriendApplication:{userID:uo},createFriendGroup:{name:uo},deleteFriendGroup:{name:uo},addToFriendGroup:{name:uo,userIDList:ru},removeFromFriendGroup:{name:uo,userIDList:ru},renameFriendGroup:{oldName:uo,newName:uo},sendMessageReadReceipt:[{name:"messageList",type:"Array",validator:function(Nt){return Zr(Nt)?Nt.length!==0||(Yr({api:"sendMessageReadReceipt",param:"messageList",desc:Ks()}),!1):(Yr({api:"sendMessageReadReceipt",param:"messageList",desc:Bu()}),!1)}}],getMessageReadReceiptList:[{name:"messageList",type:"Array",validator:function(Nt){return Zr(Nt)?Nt.length!==0||(Yr({api:"getMessageReadReceiptList",param:"messageList",desc:Ks()}),!1):(Yr({api:"getMessageReadReceiptList",param:"messageList",desc:Bu()}),!1)}}],createTopicInCommunity:{groupID:uo,topicName:uo},deleteTopicFromCommunity:{groupID:uo,topicIDList:{type:"Array",validator:function(Nt){return!Nt||!!Zr(Nt)||(Yr({api:"deleteTopicFromCommunity",param:"topicIDList",desc:Bu()}),!1)}}},updateTopicProfile:{groupID:uo,topicID:uo},getTopicList:{groupID:uo,topicIDList:{type:"Array",validator:function(Nt){return!Nt||!!Zr(Nt)||(Yr({api:"getTopicList",param:"topicIDList",desc:Bu()}),!1)}}}},So={login:1,logout:1,on:1,once:1,off:1,setLogLevel:1,registerPlugin:1,destroy:1,createTextMessage:1,createTextAtMessage:1,createImageMessage:1,createAudioMessage:1,createVideoMessage:1,createCustomMessage:1,createFaceMessage:1,createFileMessage:1,createLocationMessage:1,createMergerMessage:1,downloadMergerMessage:1,createForwardMessage:1,sendMessage:1,resendMessage:1,revokeMessage:1,deleteMessage:1,translateText:1,modifyMessage:1,sendMessageReadReceipt:1,getGroupMessageReadMemberList:1,getMessageReadReceiptList:1,setMessageExtensions:1,getMessageExtensions:1,deleteMessageExtensions:1,getMessageList:1,findMessage:1,getMessageListHopping:1,setMessageRead:1,setAllMessageRead:1,getConversationList:1,getConversationProfile:1,deleteConversation:1,pinConversation:1,getTotalUnreadMessageCount:1,setConversationCustomData:1,markConversation:1,createConversationGroup:1,getConversationGroupList:1,deleteConversationGroup:1,renameConversationGroup:1,addConversationsToGroup:1,deleteConversationsFromGroup:1,clearHistoryMessage:1,getGroupList:1,getGroupProfile:1,createGroup:1,joinGroup:1,updateGroupProfile:1,quitGroup:1,dismissGroup:1,changeGroupOwner:1,searchGroupByID:1,setMessageRemindType:1,getGroupApplicationList:1,handleGroupApplication:1,initGroupAttributes:1,setGroupAttributes:1,deleteGroupAttributes:1,getGroupAttributes:1,setGroupCounters:1,increaseGroupCounter:1,decreaseGroupCounter:1,getGroupCounters:1,getJoinedCommunityList:1,createTopicInCommunity:1,deleteTopicFromCommunity:1,updateTopicProfile:1,getTopicList:1,getGroupMemberProfile:1,getGroupMemberList:1,addGroupMember:1,deleteGroupMember:1,setGroupMemberNameCard:1,setGroupMemberMuteTime:1,setGroupMemberRole:1,setGroupMemberCustomField:1,getGroupOnlineMemberCount:1,markGroupMemberList:1,getMyProfile:1,getUserProfile:1,updateMyProfile:1,setSelfStatus:1,getUserStatus:1,subscribeUserStatus:1,unsubscribeUserStatus:1,getBlacklist:1,addToBlacklist:1,removeFromBlacklist:1,getFriendList:1,addFriend:1,deleteFriend:1,checkFriend:1,updateFriend:1,getFriendProfile:1,getFriendApplicationList:1,refuseFriendApplication:1,deleteFriendApplication:1,acceptFriendApplication:1,setFriendApplicationRead:1,getFriendGroupList:1,createFriendGroup:1,renameFriendGroup:1,deleteFriendGroup:1,addToFriendGroup:1,removeFromFriendGroup:1,callExperimentalAPI:1},cs=1,ba=2,ys=3,qr=4,To=6,vo=7,Fs=8,Rs=9,gs=10,no=11,jo=12,Yu=13,au=14,Su=15,fp=16,fm=17,Hl=18,t_=19,$s=20,yl=21,Pu=22,zl=23,Jp=24,Dm=25,pu=26,xl=27,Os=28,Ju=29,n_=30,v_=31,Xp=32,Uu=37,Ys=function(){function Nt(ut){it(this,Nt),this._m=ut,this._n=""}return lt(Nt,[{key:"isLoggedIn",value:function(){return this._m.getModule(jo).isLoggedIn()}},{key:"isOversea",value:function(){return this._m.getModule(jo).isOversea()}},{key:"isPrivateNetWork",value:function(){return this._m.getModule(jo).isPrivateNetWork()}},{key:"getFileDownloadProxy",value:function(){return this._m.getModule(jo).getFileDownloadProxy()}},{key:"getMyUserID",value:function(){return this._m.getModule(jo).getUserID()}},{key:"getMyTinyID",value:function(){return this._m.getModule(jo).getTinyID()}},{key:"getSDKAppID",value:function(){return this._m.getModule(jo).getSDKAppID()}},{key:"isIntl",value:function(){return this._m.getModule(jo).isIntl()}},{key:"isDevMode",value:function(){return this._m.getModule(jo).isDevMode()}},{key:"getModule",value:function(ut){return this._m.getModule(ut)}},{key:"getPlatform",value:function(){return Pn}},{key:"getNetworkType",value:function(){return this._m.getModule(Su).getNetworkType()}},{key:"probeNetwork",value:function(ut){return this._m.getModule(Su).probe(ut)}},{key:"getCloudConfig",value:function(ut){return this._m.getModule(zl).getCloudConfig(ut)}},{key:"emitOuterEvent",value:function(ut,_t){this._m.getOuterEmitterInstance().emit(ut,_t)}},{key:"emitInnerEvent",value:function(ut,_t){this._m.getInnerEmitterInstance().emit(ut,_t)}},{key:"getInnerEmitterInstance",value:function(){return this._m.getInnerEmitterInstance()}},{key:"generateTjgID",value:function(ut){return this._m.getModule(jo).getTinyID()+"-"+ut.random}},{key:"filterModifiedMessage",value:function(ut){if(!kr(ut)){var _t=ut.filter(function(at){return at.isModified===!0});_t.length>0&&this.emitOuterEvent(yn.MESSAGE_MODIFIED,_t)}}},{key:"filterUnmodifiedMessage",value:function(ut){return kr(ut)?[]:ut.filter(function(_t){return _t.isModified===!1})}},{key:"request",value:function(ut){return this._m.getModule($s).request(ut)}},{key:"canIUse",value:function(ut){return this._m.getModule(xl).canIUse(ut)}},{key:"getErrorMessage",value:function(ut,_t,at){return this._m.getErrorMessage(ut,_t,at)}},{key:"outputWarning",value:function(ut,_t,at){var ft=this.getErrorMessage(ut,_t,at);ft&&sn.w(ft)}}]),Nt}(),Ul="wslogin",Rm="wslogout",Om="wshello",Y_="KickOther",y_="getmsg",Kl="authkey",_r="sendmsg",Nr="send_group_msg",Rr="portrait_get_all",Co="portrait_set",_a="black_list_get",_s="black_list_add",bu="black_list_delete",bs="friend_get",hm="friend_get_specified",M_="friend_check",wl="friend_delete",hp="friend_add",J_="friend_update",Tp="friend_response",gm="pendency_get",gp="pendency_delete",Ls="pendency_report",E_="group_get",r_="group_add",mm="group_delete",Lm="group_update",Zp="msgwithdraw",o_="msgreaded",_m="set_c2c_peer_mute_notifications",ip="get_c2c_peer_mute_notifications",mp="getroammsg",Nm="get_peer_read_time",ap="delete_c2c_msg_ramble",Pm="modify_c2c_msg",i_="set_key_values",vm="get_key_values",Xt="page_get",dn="get",In="batch_delete",Yt="clear_msg",gn="top",An="deletemsg",Dn="set_conv_custom_data",Hn="mark_contact",zn="create_contact_group",Cr="del_contact_group",Lr="update_contact_group",ho="add_conv_to_group",Eo="del_conv_from_group",xo="get_contact_group",ro="get_joined_group_list",Qr="get_group_self_member_info",Lo="create_group",Jo="destroy_group",vu="modify_group_base_info",fu="apply_join_group",Is="apply_join_group_noauth",Ml="quit_group",sp="get_group_public_info",Gl="change_group_owner",cp="handle_apply_join_group",Pp="handle_invite_join_permission_group",a_="handle_invite_join_group",Qp="group_msg_recall",X_="msg_read_report",Tv="read_all_unread_msg",A_="group_msg_get",xv="get_group_msg_receipt",wv="group_msg_receipt",s_="c2c_msg_read_receipt",Um="get_group_msg_receipt_detail",Z_="get_pendency",Gn="deletemsg",ym="get_msg",c_="get_msg_noauth",Wl="get_online_member_num",ms="delete_group_ramble_msg_by_seq",Q_="modify_group_msg",Dv="set_group_attr",b_="modify_group_attr",Up="delete_group_attr",_y="clear_group_attr",vy="get_group_attr",C_="group_set_key_values",Rv="group_get_key_values",Ov="get_group_notify",xp="update_group_counter",Lv="get_group_counter",yy="get_group_member_info",Nv="get_members",My="get_specified_group_member_info",Ey="add_group_member",wp="delete_group_member",Pv="ban_group_member",Uv="modify_group_member_info",Gv="modify_user_info",$v="cos",Fv="pre_sig",_f="video_cover",S_="tim_web_report_v2",ev="alive",_p="msg_push",Ay="multi_msg_push_ws",tv="ws_msg_push_ack",by="stat_forceoffline",yr="save_relay_json_msg",nv="get_relay_json_msg",I_="fetch_config",Gm="push_configv2",$m="fetch_imsdk_purchase_bitsv2",u_="push_imsdk_purchase_bitsv2",_h="notify2",Gu="create_topic",Gp="destroy_topic",l_="modify_topic",Fm="get_topic",Cy="ws_set_custom_status",$p="ws_get_user_status",k_="ws_status_subscribe",Mm="ws_status_unsubscribe",xr="ws_stat_background",rv="ws_stat_foreground",T_="ws_stat_settoken",x_="get_local_words",Em="ws_batch_trans_text",pr={NO_SDKAPPID:2e3,NO_ACCOUNT_TYPE:2001,NO_IDENTIFIER:2002,NO_USERSIG:2003,NO_TINYID:2022,NO_A2KEY:2023,USER_NOT_LOGGED_IN:2024,REPEAT_LOGIN:2025,COS_UNDETECTED:2040,COS_GET_SIG_FAIL:2041,MESSAGE_SEND_FAIL:2100,MESSAGE_SEND_FAIL_NOT_IN_AVCHATROOM:2101,MESSAGE_SEND_NEED_MESSAGE_INSTANCE:2105,MESSAGE_SEND_INVALID_CONVERSATION_TYPE:2106,MESSAGE_FILE_IS_EMPTY:2108,MESSAGE_ONPROGRESS_FUNCTION_ERROR:2109,MESSAGE_REVOKE_FAIL:2110,MESSAGE_DELETE_FAIL:2111,MESSAGE_UNREAD_ALL_FAIL:2112,READ_RECEIPT_MESSAGE_LIST_EMPTY:2114,MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL:2115,CANNOT_DELETE_GROUP_SYSTEM_NOTICE:2116,TRANSLATE_TEXT_FAIL:2117,MESSAGE_IMAGE_SELECT_FILE_FIRST:2251,MESSAGE_IMAGE_TYPES_LIMIT:2252,MESSAGE_IMAGE_SIZE_LIMIT:2253,MESSAGE_AUDIO_UPLOAD_FAIL:2300,MESSAGE_AUDIO_SIZE_LIMIT:2301,MESSAGE_VIDEO_UPLOAD_FAIL:2350,MESSAGE_VIDEO_SIZE_LIMIT:2351,MESSAGE_VIDEO_TYPES_LIMIT:2352,MESSAGE_FILE_UPLOAD_FAIL:2400,MESSAGE_FILE_SELECT_FILE_FIRST:2401,MESSAGE_FILE_SIZE_LIMIT:2402,MESSAGE_FILE_URL_IS_EMPTY:2403,MESSAGE_MERGER_TYPE_INVALID:2450,MESSAGE_MERGER_KEY_INVALID:2451,MESSAGE_MERGER_DOWNLOAD_FAIL:2452,MESSAGE_FORWARD_TYPE_INVALID:2453,MESSAGE_MODIFY_CONFLICT:2480,MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM:2481,CONVERSATION_NOT_FOUND:2500,USER_OR_GROUP_NOT_FOUND:2501,CONVERSATION_UN_RECORDED_TYPE:2502,INVALID_CONVERSATION_ID:2503,ILLEGAL_GROUP_TYPE:2600,CANNOT_JOIN_WORK:2601,ILLEGAL_GROUP_ID:2602,CANNOT_FIND_GROUP:2603,CANNOT_CHANGE_OWNER_IN_AVCHATROOM:2620,CANNOT_CHANGE_OWNER_TO_SELF:2621,CANNOT_DISMISS_WORK:2622,MEMBER_NOT_IN_GROUP:2623,JOIN_GROUP_FAIL:2660,CANNOT_ADD_MEMBER_IN_AVCHATROOM:2661,CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN:2662,NOT_OWNER:2681,CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM:2682,INVALID_MEMBER_ROLE:2683,CANNOT_SET_SELF_MEMBER_ROLE:2684,CANNOT_MUTE_SELF:2685,BAN_DURATION_INVALID:2686,NOT_MY_FRIEND:2700,ALREADY_MY_FRIEND:2701,FRIEND_GROUP_EXISTED:2710,FRIEND_GROUP_NOT_EXIST:2711,FRIEND_APPLICATION_NOT_EXIST:2716,UPDATE_PROFILE_INVALID_PARAM:2721,UPDATE_PROFILE_NO_KEY:2722,CANNOT_ADD_SELF_TO_BLACKLIST:2742,NETWORK_ERROR:2800,NETWORK_TIMEOUT:2801,NO_NETWORK:2805,UNCAUGHT_ERROR:2903,INVALID_OPERATION:2905,INVALID_TRTC_CMD:2995,OVER_FREQUENCY_LIMIT:2996,CANNOT_FIND_PROTOCOL:2997,CANNOT_FIND_MODULE:2998,SDK_IS_NOT_READY:2999,LOGGING_IN:3e3,LOGIN_FAILED:3001,KICKED_OUT_MULT_DEVICE:3002,KICKED_OUT_MULT_ACCOUNT:3003,KICKED_OUT_USERSIG_EXPIRED:3004,LOGGED_OUT:3005,KICKED_OUT_REST_API:3006,ILLEGAL_TOPIC_ID:3021,CANNOT_USE_COMMERCIAL_ABILITY:3122,PROFANITY_FOUND:3123,MESSAGE_A2KEY_EXPIRED:20002,ACCOUNT_A2KEY_EXPIRED:70001,HELLO_ANSWER_KICKED_OUT:1002,OPEN_SERVICE_OVERLOAD_ERROR:60022},w_="networkRTT",jv="messageE2EDelay",Fp="sendMessageC2C",Am="sendMessageGroup",_g="sendMessageGroupAV",hu="sendMessageRichMedia",qu="cosUpload",bm="messageReceivedGroup",El="messageReceivedGroupAVPush",em="messageReceivedGroupAVPull",yu=(pt(fs={},w_,2),pt(fs,jv,3),pt(fs,Fp,4),pt(fs,Am,5),pt(fs,_g,6),pt(fs,hu,7),pt(fs,bm,8),pt(fs,El,9),pt(fs,em,10),pt(fs,qu,11),fs),go={info:4,warning:5,error:6},Cs={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5,unknown:6,none:7,online:8},xu={login:4},br=function(){function Nt(ut){it(this,Nt),this._n="SSOLogData",this.eventType=xu[ut]||0,this.timestamp=0,this.networkType=8,this.code=0,this.message="",this.moreMessage="",this.extension=ut,this.costTime=0,this.duplicate=!1,this.level=4,this.uiPlatform=void 0,this._sentFlag=!1,this._startts=iu()}return lt(Nt,[{key:"updateTimeStamp",value:function(){this.timestamp=iu()}},{key:"start",value:function(ut){return this._startts=ut,this}},{key:"end",value:function(){var ut=this,_t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this._sentFlag){var at=iu();this.costTime===0&&(this.costTime=at-this._startts),this.setMoreMessage("startts:".concat(this._startts," endts:").concat(at)),_t?(this._sentFlag=!0,this._eventStatModule&&this._eventStatModule.pushIn(this)):setTimeout(function(){ut._sentFlag=!0,ut._eventStatModule&&ut._eventStatModule.pushIn(ut)},0)}}},{key:"setError",value:function(ut,_t,at){if(!(ut instanceof Error))return sn.w("".concat(this._n,".setError value not instanceof Error, please check!")),this;if(this._sentFlag)return this;if(this.setNetworkType(at),_t)ut.code&&this.setCode(ut.code),ut.message&&this.setMoreMessage(ut.message);else{var ft=pr.NO_NETWORK;this.setCode(ft)}return this.setLevel("error"),this}},{key:"setCode",value:function(ut){return fr(ut)||this._sentFlag||(ut==="ECONNABORTED"&&(this.code=103),Yo(ut)?this.code=ut:sn.w("".concat(this._n,".setCode value not a number, please check!"),ut,ot(ut))),this}},{key:"setMessage",value:function(ut){return fr(ut)||this._sentFlag||(Yo(ut)&&(this.message=ut.toString()),yo(ut)&&(this.message=ut)),this}},{key:"setCostTime",value:function(ut){return this.costTime=ut,this}},{key:"setLevel",value:function(ut){return fr(ut)||this._sentFlag||(this.level=go[ut]),this}},{key:"setMoreMessage",value:function(ut){return kr(this.moreMessage)?this.moreMessage="".concat(ut):this.moreMessage+=" ".concat(ut),this}},{key:"setNetworkType",value:function(ut){if(fr(ut))sn.w("".concat(this._n,".setNetworkType value is undefined, please check!"));else{var _t=Cs[ut.toLowerCase()];fr(_t)||(this.networkType=_t)}return this}},{key:"getStartTs",value:function(){return this._startts}},{key:"setUIPlatform",value:function(ut){this.uiPlatform=ut}}],[{key:"bindEventStatModule",value:function(ut){Nt.prototype._eventStatModule=ut}}]),Nt}(),Go=function(){function Nt(ut){it(this,Nt),this.type=Ut.MSG_TEXT,this.content={text:ut.text||""}}return lt(Nt,[{key:"setText",value:function(ut){this.content.text=ut}},{key:"sendable",value:function(){return this.content.text.length!==0}}]),Nt}(),rr=function(){function Nt(ut,_t){it(this,Nt),this._imageMemoryURL="",this._fileDownloadProxy=_t,gr?this.createImageDataASURLInWXMiniApp(ut.file):this.createImageDataASURLInWeb(ut.file),this._initImageInfoModel(),this.type=Ut.MSG_IMAGE,this._percent=0,this.content={imageFormat:ut.imageFormat||xs.UNKNOWN,uuid:ut.uuid,imageInfoArray:[]},this.initImageInfoArray(ut.imageInfoArray),this._autoFixUrl()}return lt(Nt,[{key:"_initImageInfoModel",value:function(){var ut=this;this._ImageInfoModel=function(_t){this.instanceID=Qu(9999999),this.sizeType=_t.type||0,this.type=0,this.size=_t.size||0,this.width=_t.width||0,this.height=_t.height||0,this.imageUrl=_t.url||"",this.url=Ko(_t.url||ut._imageMemoryURL,ut._fileDownloadProxy)},this._ImageInfoModel.prototype={setSizeType:function(_t){this.sizeType=_t},setType:function(_t){this.type=_t},setImageUrl:function(_t){_t&&(this.imageUrl=_t)},getImageUrl:function(){return this.imageUrl}}}},{key:"initImageInfoArray",value:function(ut){for(var _t=0,at=null,ft=null;_t<=2;)ft=fr(ut)||fr(ut[_t])?{type:0,size:0,width:0,height:0,url:""}:ut[_t],(at=new this._ImageInfoModel(ft)).setSizeType(_t+1),at.setType(_t),this.addImageInfo(at),_t++;this.updateAccessSideImageInfoArray()}},{key:"updateImageInfoArray",value:function(ut){for(var _t,at=this.content.imageInfoArray.length,ft=0;ft<at;ft++)_t=this.content.imageInfoArray[ft],ut[ft].size&&(_t.size=ut[ft].size),ut[ft].url&&_t.setImageUrl(ut[ft].url),ut[ft].width&&(_t.width=ut[ft].width),ut[ft].height&&(_t.height=ut[ft].height)}},{key:"_autoFixUrl",value:function(){for(var ut=this.content.imageInfoArray.length,_t="",at="",ft=["http","https"],gt=null,Ct=0;Ct<ut;Ct++)this.content.imageInfoArray[Ct].url&&(gt=this.content.imageInfoArray[Ct]).imageUrl!==""&&(at=gt.imageUrl.slice(0,gt.imageUrl.indexOf("://")+1),_t=gt.imageUrl.slice(gt.imageUrl.indexOf("://")+1),ft.indexOf(at)<0&&(at="https:"),this.content.imageInfoArray[Ct].setImageUrl([at,_t].join("")))}},{key:"updatePercent",value:function(ut){this._percent=ut,this._percent>1&&(this._percent=1)}},{key:"updateImageFormat",value:function(ut){this.content.imageFormat=xs[ut.toUpperCase()]||xs.UNKNOWN}},{key:"createImageDataASURLInWeb",value:function(ut){ut!==void 0&&ut.files.length>0&&(this._imageMemoryURL=window.URL.createObjectURL(ut.files[0]))}},{key:"createImageDataASURLInWXMiniApp",value:function(ut){ut&&ut.url&&(this._imageMemoryURL=ut.url)}},{key:"replaceImageInfo",value:function(ut,_t){this.content.imageInfoArray[_t]instanceof this._ImageInfoModel||(this.content.imageInfoArray[_t]=ut)}},{key:"addImageInfo",value:function(ut){this.content.imageInfoArray.length>=3||this.content.imageInfoArray.push(ut)}},{key:"updateAccessSideImageInfoArray",value:function(){var ut=this.content.imageInfoArray,_t=ut[0],at=_t.width,ft=at===void 0?0:at,gt=_t.height,Ct=gt===void 0?0:gt;ft!==0&&Ct!==0&&(rp(ut),Object.assign(ut[2],tu({originWidth:ft,originHeight:Ct,min:720})))}},{key:"sendable",value:function(){return this.content.imageInfoArray.length!==0&&this.content.imageInfoArray[0].imageUrl!==""&&this.content.imageInfoArray[0].size!==0}}]),Nt}(),Bv=function(){function Nt(ut){it(this,Nt),this.type=Ut.MSG_FACE,this.content=ut||null}return lt(Nt,[{key:"sendable",value:function(){return this.content!==null}}]),Nt}(),D_=function(){function Nt(ut,_t){it(this,Nt),this.type=Ut.MSG_AUDIO,this._percent=0,this.content={downloadFlag:2,second:ut.second,size:ut.size,url:Ko(ut.url,_t),remoteAudioUrl:ut.url||"",uuid:ut.uuid}}return lt(Nt,[{key:"updatePercent",value:function(ut){this._percent=ut,this._percent>1&&(this._percent=1)}},{key:"updateAudioUrl",value:function(ut){this.content.remoteAudioUrl=ut}},{key:"sendable",value:function(){return this.content.remoteAudioUrl!==""}}]),Nt}(),jp={from:!0,groupID:!0,groupName:!0,to:!0},Al=function(){function Nt(ut){it(this,Nt),this.type=Ut.MSG_GRP_TIP,this.content={},this._initContent(ut)}return lt(Nt,[{key:"_initContent",value:function(ut){var _t=this;Object.keys(ut).forEach(function(at){switch(at){case"remarkInfo":break;case"groupProfile":_t.content.groupProfile={},_t._initGroupProfile(ut[at]);break;case"operatorInfo":break;case"memberInfoList":case"msgMemberInfo":_t._updateMemberList(ut[at]);break;case"memberExtraInfo":case"onlineMemberInfo":break;case"memberNum":_t.content[at]=ut[at],_t.content.memberCount=ut[at];break;case"newGroupProfile":_t.content.newGroupProfile={},_t._initNewGroupProfile(ut[at]);break;default:_t.content[at]=ut[at]}}),this.content.userIDList||(this.content.userIDList=[this.content.operatorID])}},{key:"_initGroupProfile",value:function(ut){for(var _t=Object.keys(ut),at=0;at<_t.length;at++){var ft=_t[at];jp[ft]&&(this.content.groupProfile[ft]=ut[ft])}}},{key:"_updateMemberList",value:function(ut){kr(this.content.memberList)?this.content.memberList=ut:this.content.memberList.forEach(function(_t){ut.forEach(function(at){_t.userID===at.userID&&Object.assign(_t,at)})})}},{key:"_initNewGroupProfile",value:function(ut){for(var _t=Object.keys(ut),at=0;at<_t.length;at++){var ft=_t[at];ft!=="muteAllMembers"?this.content.newGroupProfile[ft]=ut[ft]:this.content.newGroupProfile[ft]=ut[ft]===1}}}]),Nt}(),ov={from:!0,groupID:!0,groupName:!0,to:!0},iv=function(){function Nt(ut){it(this,Nt),this.type=Ut.MSG_GRP_SYS_NOTICE,this.content={},this._initContent(ut)}return lt(Nt,[{key:"_initContent",value:function(ut){var _t=this;Object.keys(ut).forEach(function(at){switch(at){case"memberInfoList":break;case"remarkInfo":_t.content.handleMessage=ut[at];break;case"groupProfile":_t.content.groupProfile={},_t._initGroupProfile(ut[at]);break;default:_t.content[at]=ut[at]}})}},{key:"_initGroupProfile",value:function(ut){for(var _t=Object.keys(ut),at=0;at<_t.length;at++){var ft=_t[at];ov[ft]&&(ft==="groupName"?this.content.groupProfile.name=ut[ft]:this.content.groupProfile[ft]=ut[ft])}}}]),Nt}(),qv=function(){function Nt(ut,_t){it(this,Nt),this.type=Ut.MSG_FILE,this._percent=0;var at=this._getFileInfo(ut);this.content={downloadFlag:2,fileUrl:Ko(ut.url,_t)||"",uuid:ut.uuid,fileName:at.name||"",fileSize:at.size||0}}return lt(Nt,[{key:"_getFileInfo",value:function(ut){if(!fr(ut.fileName)&&!fr(ut.fileSize))return{size:ut.fileSize,name:ut.fileName};var _t=ut.file.files[0];if(lr){if(_t.path&&_t.path.indexOf(".")!==-1){var at=_t.path.slice(_t.path.lastIndexOf(".")+1).toLowerCase();_t.type=at,_t.name||(_t.name="".concat(Qu(999999),".").concat(at))}_t.name||(_t.type="",_t.name=_t.path.slice(_t.path.lastIndexOf("/")+1).toLowerCase()),_t.suffix&&(_t.type=_t.suffix),_t.url||(_t.url=_t.path)}return{size:_t.size,name:_t.name}}},{key:"updatePercent",value:function(ut){this._percent=ut,this._percent>1&&(this._percent=1)}},{key:"updateFileUrl",value:function(ut){this.content.fileUrl=ut}},{key:"sendable",value:function(){return this.content.fileUrl!==""&&this.content.fileName!==""&&this.content.fileSize!==0}}]),Nt}(),jm=function(){function Nt(ut){it(this,Nt),this.type=Ut.MSG_CUSTOM,this.content={data:ut.data||"",description:ut.description||"",extension:ut.extension||""}}return lt(Nt,[{key:"setData",value:function(ut){return this.content.data=ut,this}},{key:"setDescription",value:function(ut){return this.content.description=ut,this}},{key:"setExtension",value:function(ut){return this.content.extension=ut,this}},{key:"sendable",value:function(){return this.content.data.length!==0||this.content.description.length!==0||this.content.extension.length!==0}}]),Nt}(),Vv=function(){function Nt(ut,_t){it(this,Nt),this.type=Ut.MSG_VIDEO,this._percent=0,this.content={remoteVideoUrl:ut.remoteVideoUrl||ut.videoUrl||"",videoFormat:ut.videoFormat,videoSecond:parseInt(ut.videoSecond,10),videoSize:ut.videoSize,videoUrl:Ko(ut.videoUrl,_t),videoDownloadFlag:2,videoUUID:ut.videoUUID,thumbUUID:ut.thumbUUID,thumbFormat:ut.thumbFormat,thumbWidth:ut.thumbWidth,snapshotWidth:ut.thumbWidth,thumbHeight:ut.thumbHeight,snapshotHeight:ut.thumbHeight,thumbSize:ut.thumbSize,snapshotSize:ut.thumbSize,thumbDownloadFlag:2,thumbUrl:Ko(ut.thumbUrl,_t),snapshotUrl:Ko(ut.thumbUrl,_t)}}return lt(Nt,[{key:"updatePercent",value:function(ut){this._percent=ut,this._percent>1&&(this._percent=1)}},{key:"updateVideoUrl",value:function(ut){ut&&(this.content.remoteVideoUrl=ut)}},{key:"updateSnapshotInfo",value:function(ut){var _t=ut.snapshotUrl,at=ut.snapshotWidth,ft=ut.snapshotHeight;kr(_t)||(this.content.thumbUrl=this.content.snapshotUrl=_t),kr(at)||(this.content.thumbWidth=this.content.snapshotWidth=Number(at)),kr(ft)||(this.content.thumbHeight=this.content.snapshotHeight=Number(ft))}},{key:"sendable",value:function(){return this.content.remoteVideoUrl!==""}}]),Nt}(),Hv=function(){function Nt(ut){it(this,Nt),this.type=Ut.MSG_LOCATION;var _t=ut.description,at=ut.longitude,ft=ut.latitude;this.content={description:_t,longitude:at,latitude:ft}}return lt(Nt,[{key:"sendable",value:function(){return!0}}]),Nt}(),av=function(){function Nt(ut,_t){if(it(this,Nt),this.from=ut.from,this.messageSender=ut.from,this.time=ut.time,this.messageSequence=ut.sequence,this.clientSequence=ut.clientSequence||ut.sequence,this.messageRandom=ut.random,this.cloudCustomData=ut.cloudCustomData||"",this.clientTime=ut.clientTime||void 0,ut.ID)this.ID=ut.ID||"",this.nick=ut.nick||"",this.avatar=ut.avatar||"",this.messageBody=[{type:ut.type,payload:ut.payload}],ut.conversationType.startsWith(Ut.CONV_C2C)?this.receiverUserID=ut.to:ut.conversationType.startsWith(Ut.CONV_GROUP)&&(this.receiverGroupID=ut.to),this.messageReceiver=ut.to;else{this.nick=ut.nick||"",this.avatar=ut.avatar||"",this.messageBody=[];var at=ut.elements[0].type,ft=ut.elements[0].content;this._patchRichMediaPayload(at,ft),this._updateRichMediaDownloadUrl(at,ft,_t),at===Ut.MSG_MERGER?this.messageBody.push({type:at,payload:new R_(ft).content}):this.messageBody.push({type:at,payload:ft}),ut.groupID&&(this.receiverGroupID=ut.groupID,this.messageReceiver=ut.groupID),ut.to&&(this.receiverUserID=ut.to,this.messageReceiver=ut.to),this.ID="".concat(ut.tinyID,"-").concat(ut.clientTime,"-").concat(ut.random)}}return lt(Nt,[{key:"_patchRichMediaPayload",value:function(ut,_t){ut===Ut.MSG_IMAGE?_t.imageInfoArray.forEach(function(at){!at.imageUrl&&at.url&&(at.imageUrl=at.url,at.sizeType=at.type,at.type===1?at.type=0:at.type===3&&(at.type=1))}):ut===Ut.MSG_VIDEO?!_t.remoteVideoUrl&&_t.videoUrl&&(_t.remoteVideoUrl=_t.videoUrl):ut===Ut.MSG_AUDIO?!_t.remoteAudioUrl&&_t.url&&(_t.remoteAudioUrl=_t.url):ut===Ut.MSG_FILE&&!_t.fileUrl&&_t.url&&(_t.fileUrl=_t.url,_t.url=void 0)}},{key:"_updateRichMediaDownloadUrl",value:function(ut,_t,at){at&&(ut===Ut.MSG_IMAGE?_t.imageInfoArray.forEach(function(ft){ft.url=Ko(ft.url,at)}):ut===Ut.MSG_VIDEO?(_t.videoUrl=Ko(_t.videoUrl,at),_t.snapshotUrl=Ko(_t.thumbUrl,at),_t.snapshotHeight=_t.thumbHeight,_t.snapshotWidth=_t.thumbWidth):ut===Ut.MSG_AUDIO?_t.url=Ko(_t.url,at):ut===Ut.MSG_FILE&&(_t.fileUrl=Ko(_t.fileUrl,at)))}}]),Nt}(),R_=function(){function Nt(ut,_t){if(it(this,Nt),this.type=Ut.MSG_MERGER,this.content={downloadKey:"",pbDownloadKey:"",messageList:[],title:"",abstractList:[],compatibleText:"",version:0,layersOverLimit:!1},ut.downloadKey){var at=ut.downloadKey,ft=ut.pbDownloadKey,gt=ut.title,Ct=ut.abstractList,St=ut.compatibleText,Dt=ut.version;this.content.downloadKey=at,this.content.pbDownloadKey=ft,this.content.title=gt,this.content.abstractList=Ct,this.content.compatibleText=St,this.content.version=Dt||0}else if(kr(ut.messageList))ut.layersOverLimit===1&&(this.content.layersOverLimit=!0);else{var Lt=ut.messageList,jt=ut.title,Kt=ut.abstractList,Jt=ut.compatibleText,cn=ut.version,bn=[];Lt.forEach(function(On){if(!kr(On)){var Fn=new av(On,_t);bn.push(Fn)}}),this.content.messageList=bn,this.content.title=jt,this.content.abstractList=Kt,this.content.compatibleText=Jt,this.content.version=cn||0}}return lt(Nt,[{key:"sendable",value:function(){return!kr(this.content.messageList)||!kr(this.content.downloadKey)}}]),Nt}(),d_={1:Ut.MSG_PRIORITY_HIGH,2:Ut.MSG_PRIORITY_NORMAL,3:Ut.MSG_PRIORITY_LOW,4:Ut.MSG_PRIORITY_LOWEST},wu=function(){function Nt(ut){it(this,Nt),this.ID="",this.conversationID=ut.conversationID||null,this.conversationType=ut.conversationType||Ut.CONV_C2C,this.conversationSubType=ut.conversationSubType,this.time=ut.time||Math.ceil(Date.now()/1e3),this.sequence=ut.sequence||0,this.clientSequence=ut.clientSequence||ut.sequence||0,this.random=ut.random||ut.random===0?ut.random:Qu(),this.priority=this._computePriority(ut.priority),this.nick=ut.nick||"",this.avatar=ut.avatar||"",this.isPeerRead=!1,this.nameCard="",this._elements=[],this.isPlaceMessage=ut.isPlaceMessage||0,this.isRevoked=ut.isPlaceMessage===2||ut.msgFlagBits===8,this.from=ut.from||null,this.to=ut.to||null,this.flow="",this.isSystemMessage=ut.isSystemMessage||!1,this.protocol=ut.protocol||"JSON",this.isResend=!1,this.isRead=!1,this.status=ut.status||ss.SUCCESS,this._onlineOnlyFlag=!1,this._groupAtInfoList=[],this._relayFlag=!1,this.atUserList=[],this.cloudCustomData=ut.cloudCustomData||"",this.isDeleted=!1,this.isModified=!1,this._isExcludedFromUnreadCount=!(!ut.messageControlInfo||ut.messageControlInfo.excludedFromUnreadCount!==1),this._isExcludedFromLastMessage=!(!ut.messageControlInfo||ut.messageControlInfo.excludedFromLastMessage!==1),this.clientTime=ut.clientTime||Gs()||0,this.senderTinyID=ut.senderTinyID||ut.tinyID||"",this.readReceiptInfo=ut.readReceiptInfo||{readCount:void 0,unreadCount:void 0,isPeerRead:void 0},this.needReadReceipt=ut.needReadReceipt===!0||ut.needReadReceipt===1,this.version=ut.messageVersion||0,this.isBroadcastMessage=ut.isBroadcastMessage||!1,this._receiverList=ut.receiverList||void 0,this.isSupportExtension=ut.isSupportExtension===!0||ut.isSupportExtension===1,this.revoker=ut.revokerInfo&&ut.revokerInfo.revoker||null,this.reInitialize(ut.currentUser),this.extractGroupInfo(ut.groupProfile||null),this.handleGroupAtInfo(ut),this.initC2CReadReceiptInfo(ut.readReceiptSentByPeer)}return lt(Nt,[{key:"elements",get:function(){return this._elements}},{key:"getElements",value:function(){return this._elements}},{key:"extractGroupInfo",value:function(ut){if(ut!==null){yo(ut.nick)&&(this.nick=ut.nick),yo(ut.avatar)&&(this.avatar=ut.avatar);var _t=ut.messageFromAccountExtraInformation;ns(_t)&&yo(_t.nameCard)&&(this.nameCard=_t.nameCard)}}},{key:"handleGroupAtInfo",value:function(ut){var _t=this;ut.payload&&ut.payload.atUserList&&ut.payload.atUserList.forEach(function(at){at!==Ut.MSG_AT_ALL?(_t._groupAtInfoList.push({groupAtAllFlag:0,groupAtUserID:at}),_t.atUserList.push(at)):(_t._groupAtInfoList.push({groupAtAllFlag:1}),_t.atUserList.push(Ut.MSG_AT_ALL))}),Zr(ut.groupAtInfo)&&ut.groupAtInfo.forEach(function(at){at.groupAtAllFlag===0?_t.atUserList.push(at.groupAtUserID):at.groupAtAllFlag===1&&_t.atUserList.push(Ut.MSG_AT_ALL)})}},{key:"getGroupAtInfoList",value:function(){return this._groupAtInfoList}},{key:"_initProxy",value:function(){this._elements[0]&&(this.payload=this._elements[0].content,this.type=this._elements[0].type)}},{key:"reInitialize",value:function(ut){ut&&(this.status=this.from?ss.SUCCESS:ss.UNSEND,!this.from&&(this.from=ut)),this._initFlow(ut),this._initSequence(ut),this._concatConversationID(ut),this.generateMessageID()}},{key:"isSendable",value:function(){return this._elements.length!==0&&typeof this._elements[0].sendable=="function"&&this._elements[0].sendable()}},{key:"_initTo",value:function(ut){this.conversationType===Ut.CONV_GROUP&&(this.to=ut.groupID)}},{key:"_initSequence",value:function(ut){this.clientSequence===0&&ut&&(this.clientSequence=function(_t){if(!_t)return!1;if(ps[_t]===void 0){var at=new Date,ft="3".concat(at.getHours()).slice(-2),gt="0".concat(at.getMinutes()).slice(-2),Ct="0".concat(at.getSeconds()).slice(-2);ps[_t]=parseInt([ft,gt,Ct,"0001"].join("")),ft=null,gt=null,Ct=null,sn.l("autoIncrementIndex start index:".concat(ps[_t]))}return ps[_t]++}(ut)),this.sequence===0&&this.conversationType===Ut.CONV_C2C&&(this.sequence=this.clientSequence)}},{key:"generateMessageID",value:function(){this.from===Ut.CONV_SYSTEM&&(this.senderTinyID="144115198244471703"),this.ID="".concat(this.senderTinyID,"-").concat(this.clientTime,"-").concat(this.random)}},{key:"_initFlow",value:function(ut){ut!==""&&(ut===this.from?(this.flow="out",this.isRead=!0):this.flow="in")}},{key:"_concatConversationID",value:function(ut){var _t=this.to,at="",ft=this.conversationType;ft!==Ut.CONV_SYSTEM?(at=ft===Ut.CONV_C2C?ut===this.from?_t:this.from:this.to,this.conversationID=at?"".concat(ft).concat(at):null):this.conversationID=Ut.CONV_SYSTEM}},{key:"isElement",value:function(ut){return ut instanceof Go||ut instanceof rr||ut instanceof Bv||ut instanceof D_||ut instanceof qv||ut instanceof Vv||ut instanceof Al||ut instanceof iv||ut instanceof jm||ut instanceof Hv||ut instanceof R_}},{key:"setElement",value:function(ut,_t){var at=this;if(this.isElement(ut))return this._elements=[ut],void this._initProxy();var ft=function(Ct){if(Ct.type&&Ct.content)switch(Ct.type){case Ut.MSG_TEXT:at.setTextElement(Ct.content);break;case Ut.MSG_IMAGE:at.setImageElement(Ct.content,_t);break;case Ut.MSG_AUDIO:at.setAudioElement(Ct.content,_t);break;case Ut.MSG_FILE:at.setFileElement(Ct.content,_t);break;case Ut.MSG_VIDEO:at.setVideoElement(Ct.content,_t);break;case Ut.MSG_CUSTOM:at.setCustomElement(Ct.content);break;case Ut.MSG_LOCATION:at.setLocationElement(Ct.content);break;case Ut.MSG_GRP_TIP:at.setGroupTipElement(Ct.content);break;case Ut.MSG_GRP_SYS_NOTICE:at.setGroupSystemNoticeElement(Ct.content);break;case Ut.MSG_FACE:at.setFaceElement(Ct.content);break;case Ut.MSG_MERGER:at.setMergerElement(Ct.content,_t)}};if(Zr(ut))for(var gt=0;gt<ut.length;gt++)ft(ut[gt]);else ft(ut);this._initProxy()}},{key:"clearElement",value:function(){this._elements.length=0}},{key:"setTextElement",value:function(ut){var _t=typeof ut=="string"?ut:ut.text,at=new Go({text:_t});this._elements.push(at)}},{key:"setImageElement",value:function(ut,_t){var at=new rr(ut,_t);this._elements.push(at)}},{key:"setAudioElement",value:function(ut,_t){var at=new D_(ut,_t);this._elements.push(at)}},{key:"setFileElement",value:function(ut,_t){var at=new qv(ut,_t);this._elements.push(at)}},{key:"setVideoElement",value:function(ut,_t){var at=new Vv(ut,_t);this._elements.push(at)}},{key:"setLocationElement",value:function(ut){var _t=new Hv(ut);this._elements.push(_t)}},{key:"setCustomElement",value:function(ut){var _t=new jm(ut);this._elements.push(_t)}},{key:"setGroupTipElement",value:function(ut){var _t={},at=ut.operationType;if(kr(ut.memberInfoList)?ut.operatorInfo&&(_t=ut.operatorInfo):at!==Ut.GRP_TIP_MBR_JOIN&&at!==Ut.GRP_TIP_MBR_KICKED_OUT&&at!==Ut.GRP_TIP_MBR_SET_ADMIN&&at!==Ut.GRP_TIP_MBR_CANCELED_ADMIN||(_t=ut.memberInfoList[0]),!kr(ut.memberExtraInfo)){var ft=ut.memberExtraInfo.reason;ut.msgMemberInfo.forEach(function(Lt){Lt.reason=ft})}var gt=_t,Ct=gt.nick,St=gt.avatar;yo(Ct)&&(this.nick=Ct),yo(St)&&(this.avatar=St);var Dt=new Al(ut);this._elements.push(Dt)}},{key:"setGroupSystemNoticeElement",value:function(ut){var _t=new iv(ut);this._elements.push(_t)}},{key:"setFaceElement",value:function(ut){var _t=new Bv(ut);this._elements.push(_t)}},{key:"setMergerElement",value:function(ut,_t){var at=new R_(ut,_t);this._elements.push(at)}},{key:"setIsRead",value:function(ut){this.isRead=ut}},{key:"setRelayFlag",value:function(ut){this._relayFlag=ut}},{key:"getRelayFlag",value:function(){return this._relayFlag}},{key:"_computePriority",value:function(ut){if(fr(ut))return Ut.MSG_PRIORITY_NORMAL;if(yo(ut)&&Object.values(d_).indexOf(ut)!==-1)return ut;if(Yo(ut)){var _t=""+ut;if(Object.keys(d_).indexOf(_t)!==-1)return d_[_t]}return Ut.MSG_PRIORITY_NORMAL}},{key:"setNickAndAvatar",value:function(ut){var _t=ut.nick,at=ut.avatar;yo(_t)&&(this.nick=_t),yo(at)&&(this.avatar=at)}},{key:"setNameCard",value:function(ut){yo(ut)&&(this.nameCard=ut)}},{key:"initC2CReadReceiptInfo",value:function(ut){this.conversationType===Ut.CONV_C2C&&this.needReadReceipt===!0&&(this.readReceiptInfo.isPeerRead=ut===1)}}]),Nt}(),oo=function(Nt){return{code:0,data:Nt||{}}},ks=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;it(this,_t),ft=ut.call(this);var gt=at.code,Ct=at.message,St=at.data;return ft.code=gt,ft.message=Ct||ft._getErrorMessage(ft.code),ft.data=St||{},ft}return lt(_t)}(Tt(Error)),Dl=null,Sy=function(Nt){Dl=Nt},Io=function(Nt){return Promise.resolve(oo(Nt))},Xn=function(Nt){var ut=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Nt instanceof ks)return ut&&Dl!==null&&Dl.emit(yn.ERROR,Nt),Promise.reject(Nt);if(Nt instanceof Error){var _t=new ks({code:pr.UNCAUGHT_ERROR});return ut&&Dl!==null&&Dl.emit(yn.ERROR,_t),Promise.reject(_t)}if(!fr(Nt)&&!fr(Nt.code)){var at=new ks(Nt);return ut&&Dl!==null&&Dl.emit(yn.ERROR,at),Promise.reject(at)}},Iy=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="C2CModule",ft._messageFromUnreadDBMap=new Map,ft._signalingFromUnreadDBList=[],ft}return lt(_t,[{key:"onNewC2CMessage",value:function(at){var ft=at.dataList,gt=at.isInstantMessage,Ct=at.C2CRemainingUnreadList,St=at.C2CPairUnreadList;sn.d("".concat(this._n,".onNewC2CMessage count:").concat(ft.length," isInstantMessage:").concat(gt));var Dt=this._newC2CMessageStoredAndSummary({dataList:ft,C2CRemainingUnreadList:Ct,C2CPairUnreadList:St,isInstantMessage:gt}),Lt=Dt.conversationOptionsList,jt=Dt.messageList,Kt=Dt.isUnreadC2CMessage;this.filterModifiedMessage(jt),Lt.length>0&&this.getModule(no).onNewMessage({conversationOptionsList:Lt,isInstantMessage:gt,isUnreadC2CMessage:Kt});var Jt=this.filterUnmodifiedMessage(jt);gt&&Jt.length>0&&this.emitOuterEvent(yn.MESSAGE_RECEIVED,Jt),jt.length=0}},{key:"_newC2CMessageStoredAndSummary",value:function(at){for(var ft=at.dataList,gt=at.C2CRemainingUnreadList,Ct=at.C2CPairUnreadList,St=at.isInstantMessage,Dt=null,Lt=[],jt=[],Kt={},Jt=this.getModule(fp),cn=this.getModule(pu),bn=!1,On=this.getModule(no),Fn=this.getFileDownloadProxy(),Wn=0,er=ft.length;Wn<er;Wn++)if(this._isSignaling(ft[Wn]))this._signalingFromUnreadDBList.push(ft[Wn].eventArray[0].c2CNotifyMsgArray[0]);else{var ir=ft[Wn];ir.currentUser=this.getMyUserID(),ir.conversationType=Ut.CONV_C2C,ir.isSystemMessage=!!ir.isSystemMessage,(fr(ir.nick)||fr(ir.avatar))&&(bn=!0,sn.d("".concat(this._n,"._newC2CMessageStoredAndSummary nick or avatar missing!"))),Dt=new wu(ir),ir.elements=Jt.parseElements(ir.elements,ir.from),Dt.setElement(ir.elements,Fn),Dt.setNickAndAvatar({nick:ir.nick,avatar:ir.avatar});var Tr=Dt.conversationID;if(St){if(this._messageFromUnreadDBMap.get(Dt.ID)===1)continue;var Ur=!1;if(Dt.from!==this.getMyUserID()){var zr=On.getLatestMessageSentByPeer(Tr);if(zr){var co=zr.nick,$o=zr.avatar;bn?Dt.setNickAndAvatar({nick:co,avatar:$o}):co===Dt.nick&&$o===Dt.avatar||(Ur=!0)}}else{var Ho=On.getLatestMessageSentByMe(Tr);if(Ho){var Ro=Ho.nick,ts=Ho.avatar;Ro===Dt.nick&&ts===Dt.avatar||On.modifyMessageSentByMe({conversationID:Tr,latestNick:Dt.nick,latestAvatar:Dt.avatar})}}var Iu=ft[Wn].isModified===1;if(On.isMessageSentByCurrentInstance(Dt)?Dt.isModified=Iu:Iu=!1,ir.msgLifeTime===0)Dt._onlineOnlyFlag=!0,On.isMessageSentByCurrentInstance(Dt)||jt.push(Dt);else{if(!On.pushIntoMessageList(jt,Dt,Iu))continue;Ur&&(On.modifyMessageSentByPeer({conversationID:Tr,latestNick:Dt.nick,latestAvatar:Dt.avatar}),On.updateUserProfileSpecifiedKey({conversationID:Tr,nick:Dt.nick,avatar:Dt.avatar}))}St&&Dt.clientTime>0&&cn.addMessageDelay(Dt.clientTime)}else this._messageFromUnreadDBMap.set(Dt.ID,1);if(ir.msgLifeTime!==0){if(Dt._onlineOnlyFlag===!1){var Xu=On.getLastMessageTime(Tr);if(Yo(Xu)&&Dt.time<Xu)continue;if(fr(Kt[Tr])){var $u=0;Dt.flow==="in"&&(Dt._isExcludedFromUnreadCount||($u=1)),Kt[Tr]=Lt.push({conversationID:Tr,unreadCount:$u,type:Dt.conversationType,subType:Dt.conversationSubType,lastMessage:Dt._isExcludedFromLastMessage?"":Dt})-1}else{var Vu=Kt[Tr];Lt[Vu].type=Dt.conversationType,Lt[Vu].subType=Dt.conversationSubType,Lt[Vu].lastMessage=Dt._isExcludedFromLastMessage?"":Dt,Dt.flow==="in"&&(Dt._isExcludedFromUnreadCount||Lt[Vu].unreadCount++)}}}else Dt._onlineOnlyFlag=!0}this._handleSignalingFromUnreadDB();var Xl=!1;if(Zr(Ct))for(var sm=function(Jm,G0){if(Ct[Jm].unreadCount>0){Xl=!0;var i0=Lt.find(function($0){return $0.conversationID==="C2C".concat(Ct[Jm].from)});i0?i0.unreadCount=Ct[Jm].unreadCount:Lt.push({conversationID:"C2C".concat(Ct[Jm].from),unreadCount:Ct[Jm].unreadCount,type:Ut.CONV_C2C})}},Sv=0,o0=Ct.length;Sv<o0;Sv++)sm(Sv);if(Zr(gt))for(var Iv=function(Jm,G0){Lt.find(function(i0){return i0.conversationID==="C2C".concat(gt[Jm].from)})||Lt.push({conversationID:"C2C".concat(gt[Jm].from),type:Ut.CONV_C2C,lastMsgTime:gt[Jm].lastMsgTime})},T0=0,U0=gt.length;T0<U0;T0++)Iv(T0);return{conversationOptionsList:Lt,messageList:jt,isUnreadC2CMessage:Xl}}},{key:"_isSignaling",value:function(at){var ft=at.eventArray;return!(!Zr(ft)||ft[0].event!==10)}},{key:"_handleSignalingFromUnreadDB",value:function(){var at=this._signalingFromUnreadDBList.length;if(sn.l("".concat(this._n,"._handleSignalingFromUnreadDB signalingCount:").concat(at)),at!==0){var ft=[];this._signalingFromUnreadDBList.forEach(function(gt){gt.hasOwnProperty("c2cMessageRevokedNotify")&&ft.push(gt)}),this.onC2CMessageRevoked({dataList:ft}),this._signalingFromUnreadDBList.length=0,ft.length=0}}},{key:"onC2CMessageRevoked",value:function(at){var ft=this,gt=this.getModule(no),Ct=[],St=null,Dt=!0;at.dataList.forEach(function(Lt){if(Lt.c2cMessageRevokedNotify){var jt=Lt.c2cMessageRevokedNotify.revokedInfos;fr(jt)||jt.forEach(function(Kt){var Jt=ft.getMyUserID()===Kt.from?"".concat(Ut.CONV_C2C).concat(Kt.to):"".concat(Ut.CONV_C2C).concat(Kt.from);St=gt.revoke(Jt,Kt.sequence,Kt.random);var cn=Kt.revokerInfo&&Kt.revokerInfo.revoker;if(St)St.revoker||(St.revoker=cn,Ct.push(St));else{var bn={conversationID:Jt,sequence:Kt.sequence,time:Kt.time,revoker:cn};gt.isLastMessageRevoked(bn)&&(Ct.push(bn),Dt=!1)}})}}),Ct.length!==0&&(gt.onMessageRevoked(Ct),Dt===!0&&(sn.l("".concat(this._n,".onC2CMessageRevoked count:").concat(Ct.length)),this.emitOuterEvent(yn.MESSAGE_REVOKED,Ct)))}},{key:"onC2CMessageReadReceipt",value:function(at){var ft=this;at.dataList.forEach(function(gt){if(!kr(gt.c2cMessageReadReceipt)){var Ct=gt.c2cMessageReadReceipt.to;gt.c2cMessageReadReceipt.uinPairReadArray.forEach(function(St){var Dt=St.peerReadTime;sn.d("".concat(ft._n,"._onC2CMessageReadReceipt to:").concat(Ct," peerReadTime:").concat(Dt));var Lt="".concat(Ut.CONV_C2C).concat(Ct),jt=ft.getModule(no);jt.recordPeerReadTime(Lt,Dt),jt.updateMessageIsPeerReadProperty(Lt,Dt)})}})}},{key:"onC2CMessageReadNotice",value:function(at){var ft=this;at.dataList.forEach(function(gt){if(!kr(gt.c2cMessageReadNotice)){var Ct=ft.getModule(no);gt.c2cMessageReadNotice.uinPairReadArray.forEach(function(St){var Dt=St.from,Lt=St.peerReadTime;sn.d("".concat(ft._n,".onC2CMessageReadNotice from:").concat(Dt," lastReadTime:").concat(Lt));var jt="".concat(Ut.CONV_C2C).concat(Dt);Ct.updateIsReadAfterReadReport({conversationID:jt,lastMessageTime:Lt}),Ct.updateUnreadCount(jt)})}})}},{key:"onC2CMessageModified",value:function(at){sn.d("".concat(this._n,".onC2CMessageModified options:"),JSON.stringify(at));var ft=this.getModule(no);at.dataList.forEach(function(gt){ft.onMessageModified(rt(rt({},gt),{},{conversationType:Ut.CONV_C2C}))})}},{key:"onReadReceiptList",value:function(at){sn.d("".concat(this._n,".onReadReceiptList options:"),JSON.stringify(at));var ft=at.dataList,gt=ft.userID,Ct=ft.readReceiptList;this.getModule(no).updateReadReceiptInfo({userID:gt,readReceiptList:Ct})}},{key:"sendMessage",value:function(at,ft){var gt=this._createC2CMessagePack(at,ft);return this.request(gt)}},{key:"_createC2CMessagePack",value:function(at,ft){var gt=null;ft&&(ft.offlinePushInfo&&(gt=ft.offlinePushInfo),ft.onlineUserOnly===!0&&(gt?gt.disablePush=!0:gt={disablePush:!0}));var Ct="";yo(at.cloudCustomData)&&at.cloudCustomData.length>0&&(Ct=at.cloudCustomData);var St=[];if(ns(ft)&&ns(ft.messageControlInfo)){var Dt=ft.messageControlInfo,Lt=Dt.excludedFromUnreadCount,jt=Dt.excludedFromLastMessage,Kt=Dt.excludedFromContentModeration;Lt===!0&&St.push("NoUnread"),jt===!0&&St.push("NoLastMsg"),Kt===!0&&St.push("NoMsgCheck")}var Jt=this.isOnlineMessage(at,ft)?0:void 0;return{protocolName:_r,tjgID:this.generateTjgID(at),requestData:{fromAccount:this.getMyUserID(),toAccount:at.to,msgBody:at.getElements(),cloudCustomData:Ct,msgSeq:at.sequence,msgRandom:at.random,msgLifeTime:Jt,nick:at.nick,avatar:at.avatar,offlinePushInfo:gt?{pushFlag:gt.disablePush===!0?1:0,title:gt.title||"",desc:gt.description||"",ext:gt.extension||"",apnsInfo:{badgeMode:gt.ignoreIOSBadge===!0?1:0,isVoipPush:this._isVoipPush(gt)},androidInfo:{OPPOChannelID:gt.androidOPPOChannelID||""}}:void 0,messageControlInfo:Jt!==0?St:void 0,clientTime:at.clientTime,needReadReceipt:at.needReadReceipt===!0?1:0,isSupportExtension:at.isSupportExtension===!0?1:0}}}},{key:"_isVoipPush",value:function(at){var ft=void 0;return fr(at.disableVoipPush)||(ft=at.disableVoipPush===!1?1:0),ft}},{key:"isOnlineMessage",value:function(at,ft){return!(!ft||ft.onlineUserOnly!==!0)}},{key:"revokeMessage",value:function(at){return this.request({protocolName:Zp,requestData:{msgInfo:{fromAccount:at.from,toAccount:at.to,msgSeq:at.sequence,msgRandom:at.random,msgTimeStamp:at.time}}})}},{key:"deleteMessage",value:function(at){var ft=at.to,gt=at.keyList;return sn.l("".concat(this._n,".deleteMessage toAccount:").concat(ft," count:").concat(gt.length)),this.request({protocolName:ap,requestData:{fromAccount:this.getMyUserID(),to:ft,keyList:gt}})}},{key:"modifyRemoteMessage",value:function(at){var ft=at.from,gt=at.to,Ct=at.version,St=Ct===void 0?0:Ct,Dt=at.sequence,Lt=at.random,jt=at.time,Kt=at.payload,Jt=at.type,cn=at.cloudCustomData,bn=void 0;return dr(Jt)&&(bn=[]).push({type:Jt,content:Kt}),this.request({protocolName:Pm,requestData:{from:ft,to:gt,version:St,sequence:Dt,random:Lt,time:jt,elements:bn,cloudCustomData:cn}})}},{key:"setMessageRead",value:function(at){var ft=this,gt=at.conversationID,Ct=at.lastMessageTime,St="".concat(this._n,".setMessageRead");sn.l("".concat(St," conversationID:").concat(gt," lastMessageTime:").concat(Ct)),Yo(Ct)||this.outputWarning("DoNotModifyLastTime");var Dt=new br("setC2CMessageRead");return Dt.setMessage("conversationID:".concat(gt," lastMessageTime:").concat(Ct)),this.request({protocolName:o_,requestData:{C2CMsgReaded:{cookie:"",C2CMsgReadedItem:[{toAccount:gt.replace("C2C",""),lastMessageTime:Ct,receipt:1}]}}}).then(function(){Dt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(St," ok"));var Lt=ft.getModule(no);return Lt.updateIsReadAfterReadReport({conversationID:gt,lastMessageTime:Ct}),Lt.updateUnreadCount(gt),oo()}).catch(function(Lt){return ft.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),sn.l("".concat(St," failed. error:"),Lt),Xn(Lt)})}},{key:"getRoamingMessage",value:function(at){var ft=this,gt="".concat(this._n,".getRoamingMessage"),Ct=at.peerAccount,St=at.conversationID,Dt=at.count,Lt=at.lastMessageTime,jt=at.messageKey,Kt="peerAccount:".concat(Ct," count:").concat(Dt||15," lastMessageTime:").concat(Lt||0," messageKey:").concat(jt);sn.l("".concat(gt," ").concat(Kt));var Jt=new br("getC2CRoamingMessages");return this.request({protocolName:mp,requestData:{peerAccount:Ct,count:Dt||15,lastMessageTime:Lt||0,messageKey:jt}}).then(function(cn){var bn=cn.data,On=bn.complete,Fn=bn.messageList,Wn=bn.messageKey,er=bn.lastMessageTime;fr(Fn)?sn.l("".concat(gt," ok. complete:").concat(On," but messageList is undefined!")):sn.l("".concat(gt," ok. complete:").concat(On," count:").concat(Fn.length)),Jt.setNetworkType(ft.getNetworkType()).setMessage("".concat(Kt," complete:").concat(On," length:").concat(Fn.length)).end();var ir=ft.getModule(no);On===1&&ir.setCompleted(St);var Tr=ir.onRoamingMessage(Fn,St);ir.modifyMessageList(St),ir.updateIsRead(St),ir.updateRoamingMessageKeyAndTime(St,Wn,er);var Ur=ir.getPeerReadTime(St);if(sn.l("".concat(gt," update isPeerRead property. conversationID:").concat(St," peerReadTime:").concat(Ur)),Ur)ir.updateMessageIsPeerReadProperty(St,Ur);else{var zr=St.replace(Ut.CONV_C2C,"");ft.getRemotePeerReadTime([zr]).then(function(){ir.updateMessageIsPeerReadProperty(St,ir.getPeerReadTime(St))})}var co="";if(Tr.length>0)co=Tr[0].ID;else{var $o=ir.getLocalOldestMessage(St);$o&&(co=$o.ID)}return sn.l("".concat(gt," nextReqID:").concat(co," stored message count:").concat(Tr.length)),{nextReqID:co,storedMessageList:Tr}}).catch(function(cn){return ft.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Jt.setMessage(Kt).setError(cn,Fn,Wn).end()}),sn.w("".concat(gt," failed. error:"),cn),Xn(cn)})}},{key:"getRoamingMessagesHopping",value:function(at){var ft=this,gt="".concat(this._n,".getRoamingMessagesHopping"),Ct=at.peerAccount,St=at.time,Dt=St===void 0?0:St,Lt=at.count,jt=at.direction,Kt="".concat(Ut.CONV_C2C).concat(Ct),Jt="peerAccount:".concat(Ct," count:").concat(Lt," time:").concat(Dt," direction:").concat(jt);sn.l("".concat(gt," ").concat(Jt));var cn=new br("getC2CRoamingMessagesHopping");return this.request({protocolName:mp,requestData:{peerAccount:Ct,count:Lt+1,lastMessageTime:Dt,direction:jt}}).then(function(bn){var On=bn.data,Fn=On.complete,Wn=On.messageList,er=Wn===void 0?[]:Wn,ir=On.lastMessageTime;sn.l("".concat(gt," ok. complete:").concat(Fn," count:").concat(er.length)),cn.setNetworkType(ft.getNetworkType()).setMessage("".concat(Jt," complete:").concat(Fn," length:").concat(er.length)).end(),Fn!==1&&(jt===1?er.pop():er.shift());var Tr=ft.getModule(no).onRoamingMessage(er,Kt,!1);ft._modifyMessageList(Kt,Tr);var Ur=ft._computeResult({complete:Fn,lastMessageTime:ir,resultList:Tr});return oo(Ur)}).catch(function(bn){return ft.probeNetwork().then(function(On){var Fn=Ft(On,2),Wn=Fn[0],er=Fn[1];cn.setMessage(Jt).setError(bn,Wn,er).end()}),sn.w("".concat(gt," failed. error:"),bn),Xn(bn)})}},{key:"_computeResult",value:function(at){var ft=at.complete,gt=ft===void 0?0:ft,Ct=at.lastMessageTime,St=at.resultList,Dt={messageList:Ht(St===void 0?[]:St),isCompleted:!1,nextMessageTime:""};return gt===1?(Dt.isCompleted=!0,Dt):(Dt.nextMessageTime=Ct,Dt)}},{key:"_modifyMessageList",value:function(at,ft){var gt=this.getModule(no).getLocalConversation(at);if(gt)for(var Ct=gt.userProfile.nick,St=gt.userProfile.avatar,Dt=this.getModule(qr).getNickAndAvatarByUserID(this.getMyUserID()),Lt=Dt.nick,jt=Dt.avatar,Kt=ft.length-1;Kt>=0;Kt--){var Jt=ft[Kt];Jt.flow==="in"&&(Jt.nick!==Ct&&Jt.setNickAndAvatar({nick:Ct}),Jt.avatar!==St&&Jt.setNickAndAvatar({avatar:St})),Jt.flow==="out"&&(Jt.nick!==Lt&&Jt.setNickAndAvatar({nick:Lt}),Jt.avatar!==jt&&Jt.setNickAndAvatar({avatar:jt}))}}},{key:"getRemotePeerReadTime",value:function(at){var ft=this,gt="".concat(this._n,".getRemotePeerReadTime");if(kr(at))return sn.w("".concat(gt," userIDList is empty!")),Promise.resolve();var Ct=new br("getPeerReadTime");return sn.l("".concat(gt," userIDList:").concat(at)),this.request({protocolName:Nm,requestData:{userIDList:at}}).then(function(St){var Dt=St.data.peerReadTimeList;sn.l("".concat(gt," ok. peerReadTimeList:").concat(Dt));for(var Lt="",jt=ft.getModule(no),Kt=0;Kt<at.length;Kt++)Lt+="".concat(at[Kt],"-").concat(Dt[Kt]," "),Dt[Kt]>0&&jt.recordPeerReadTime("C2C".concat(at[Kt]),Dt[Kt]);Ct.setNetworkType(ft.getNetworkType()).setMessage(Lt).end()}).catch(function(St){ft.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(gt," failed. error:"),St)})}},{key:"sendReadReceipt",value:function(at){var ft=this,gt=at[0].conversationID.replace(Ut.CONV_C2C,""),Ct=new br("sendC2CReadReceipt");Ct.setMessage("peerAccount:".concat(gt));var St=this.getMyUserID(),Dt=at.filter(function(jt){return jt.from!==St&&jt.needReadReceipt===!0}).map(function(jt){return{fromAccount:jt.from,toAccount:jt.to,sequence:jt.sequence,random:jt.random,time:jt.time,clientTime:jt.clientTime}});if(Dt.length===0)return Xn({code:pr.READ_RECEIPT_MESSAGE_LIST_EMPTY});var Lt="".concat(this._n,".sendReadReceipt");return sn.l("".concat(Lt,". peerAccount:").concat(gt," messageInfoList length:").concat(Dt.length)),this.request({protocolName:s_,requestData:{peerAccount:gt,messageInfoList:Dt}}).then(function(jt){return Ct.end(),sn.l("".concat(Lt," ok")),oo()}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Ct.setError(jt,cn,bn).end()}),sn.w("".concat(Lt," failed. error:"),jt),Xn(jt)})}},{key:"getReadReceiptList",value:function(at){var ft="".concat(this._n,".getReadReceiptList"),gt=this.getMyUserID(),Ct=at.filter(function(St){return St.from===gt&&St.needReadReceipt===!0});return sn.l("".concat(ft," userID:").concat(gt," messageList length:").concat(Ct.length)),Io({messageList:Ct})}},{key:"getMessageExtensions",value:function(at,ft){return sn.l("".concat(this._n,".getMessageExtensions startSequence:").concat(ft)),this.request({protocolName:vm,requestData:{from:at.from,to:at.to,messageKey:this._getMessageKey(at),startSequence:ft}})}},{key:"modifyMessageExtensions",value:function(at,ft){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return sn.l("".concat(this._n,".modifyMessageExtensions operateType:").concat(gt)),this.request({protocolName:i_,requestData:{from:at.from,to:at.to,messageKey:this._getMessageKey(at),extensionList:ft,operateType:gt}})}},{key:"_getMessageKey",value:function(at){var ft=at.clientSequence,gt=at.random,Ct=at.time;return"".concat(ft,"_").concat(gt,"_").concat(Ct)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._messageFromUnreadDBMap.clear(),this._signalingFromUnreadDBList.length=0}}]),_t}(Ys),ky=function(){function Nt(){it(this,Nt),this.list=new Map,this._n="MessageListHandler",this._latestMessageSentByPeerMap=new Map,this._latestMessageSentByMeMap=new Map}return lt(Nt,[{key:"getLocalOldestMessageByConversationID",value:function(ut){if(!ut||!this.list.has(ut))return null;var _t=this.list.get(ut).values();return _t?_t.next().value:null}},{key:"pushIn",value:function(ut){var _t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],at=ut.conversationID,ft=!0;this.list.has(at)||this.list.set(at,new Map);var gt=this._getUniqueIDOfMessage(ut),Ct=this.list.get(at).has(gt);if(Ct){var St=this.list.get(at).get(gt);if(!_t||St.isModified===!0)return ft=!1}return this.list.get(at).set(gt,ut),this._setLatestMessageSentByPeer(at,ut),this._setLatestMessageSentByMe(at,ut),ft}},{key:"unshift",value:function(ut,_t){var at;if(Zr(ut)?ut.length>0&&(at=ut[0].conversationID,this._unshiftMultipleMessages(ut,_t)):(at=ut.conversationID,this._unshiftSingleMessage(ut,_t)),at&&at.startsWith(Ut.CONV_C2C)){var ft=Array.from(this.list.get(at).values()),gt=ft.length;if(gt===0)return;for(var Ct=gt-1;Ct>=0;Ct--)if(ft[Ct].flow==="out"){this._setLatestMessageSentByMe(at,ft[Ct]);break}for(var St=gt-1;St>=0;St--)if(ft[St].flow==="in"){this._setLatestMessageSentByPeer(at,ft[St]);break}}}},{key:"_unshiftSingleMessage",value:function(ut,_t){var at=ut.conversationID,ft=this._getUniqueIDOfMessage(ut);if(!this.list.has(at))return this.list.set(at,new Map),this.list.get(at).set(ft,ut),void _t.push(ut);var gt=this.list.get(at),Ct=Array.from(gt);gt.has(ft)||(Ct.unshift([ft,ut]),this.list.set(at,new Map(Ct)),_t.push(ut))}},{key:"_unshiftMultipleMessages",value:function(ut,_t){for(var at=ut.length,ft=[],gt=ut[0].conversationID,Ct=this.list.get(gt),St=this.list.has(gt)?Array.from(Ct):[],Dt=0;Dt<at;Dt++){var Lt=this._getUniqueIDOfMessage(ut[Dt]);Ct&&Ct.has(Lt)||(ft.push([Lt,ut[Dt]]),_t.push(ut[Dt]))}this.list.set(gt,new Map(ft.concat(St)))}},{key:"remove",value:function(ut){var _t=ut.conversationID,at=this._getUniqueIDOfMessage(ut);this.list.has(_t)&&this.list.get(_t).delete(at)}},{key:"revoke",value:function(ut,_t,at){if(sn.d("revoke message",ut,_t,at),this.list.has(ut)){var ft,gt=Cn(this.list.get(ut));try{for(gt.s();!(ft=gt.n()).done;){var Ct=Ft(ft.value,2)[1];if(Ct.sequence===_t&&(fr(at)||Ct.random===at))return Ct.isRevoked||(Ct.isRevoked=!0),Ct}}catch(St){gt.e(St)}finally{gt.f()}}return null}},{key:"removeByConversationID",value:function(ut){this.list.has(ut)&&(this.list.delete(ut),this._latestMessageSentByPeerMap.delete(ut),this._latestMessageSentByMeMap.delete(ut))}},{key:"findMessage",value:function(ut){var _t,at=null,ft=Cn(this.list);try{for(ft.s();!(_t=ft.n()).done;)for(var gt=Ht(Ft(_t.value,2)[1].values()),Ct=gt.length,St=0;St<Ct;St++)if(gt[St].ID===ut){at=gt[St];break}}catch(Dt){ft.e(Dt)}finally{ft.f()}return at}},{key:"updateMessageIsPeerReadProperty",value:function(ut,_t){var at=[];if(this.list.has(ut)){var ft,gt=Cn(this.list.get(ut));try{for(gt.s();!(ft=gt.n()).done;){var Ct=Ft(ft.value,2)[1];Ct.time<=_t&&!Ct.isPeerRead&&Ct.flow==="out"&&(Ct.isPeerRead=!0,at.push(Ct))}}catch(St){gt.e(St)}finally{gt.f()}sn.l("".concat(this._n,".updateMessageIsPeerReadProperty conversationID:").concat(ut," peerReadTime:").concat(_t," count:").concat(at.length))}return at}},{key:"updateMessageIsModifiedProperty",value:function(ut){var _t=ut.conversationID;if(this.list.has(_t)){var at=this._getUniqueIDOfMessage(ut),ft=this.list.get(_t).get(at);ft&&(ft.isModified=!0)}}},{key:"hasLocalMessageList",value:function(ut){return this.list.has(ut)}},{key:"getLocalMessageList",value:function(ut){return this.hasLocalMessageList(ut)?Ht(this.list.get(ut).values()):[]}},{key:"hasLocalMessage",value:function(ut,_t){for(var at=!1,ft=this.getLocalMessageList(ut),gt=ft.length,Ct=0;Ct<gt;Ct++)ft[Ct].ID===_t&&(at=!0);return at}},{key:"getLocalMessage",value:function(ut,_t){for(var at=null,ft=this.getLocalMessageList(ut),gt=ft.length,Ct=0;Ct<gt;Ct++)if(ft[Ct].ID===_t){at=ft[Ct];break}return at}},{key:"getLocalLastMessage",value:function(ut){var _t=this.getLocalMessageList(ut);return _t[_t.length-1]}},{key:"getLocalOldestMessage",value:function(ut){return this.getLocalMessageList(ut)[0]}},{key:"_setLatestMessageSentByPeer",value:function(ut,_t){ut.startsWith(Ut.CONV_C2C)&&_t.flow==="in"&&this._latestMessageSentByPeerMap.set(ut,_t)}},{key:"_setLatestMessageSentByMe",value:function(ut,_t){ut.startsWith(Ut.CONV_C2C)&&_t.flow==="out"&&this._latestMessageSentByMeMap.set(ut,_t)}},{key:"getLatestMessageSentByPeer",value:function(ut){return this._latestMessageSentByPeerMap.get(ut)}},{key:"getLatestMessageSentByMe",value:function(ut){return this._latestMessageSentByMeMap.get(ut)}},{key:"modifyMessageSentByPeer",value:function(ut){var _t=ut.conversationID,at=ut.latestNick,ft=ut.latestAvatar,gt=this.list.get(_t);if(!kr(gt)){var Ct=Array.from(gt.values()),St=Ct.length;if(St!==0){for(var Dt=null,Lt=0,jt=!1,Kt=St-1;Kt>=0;Kt--)Ct[Kt].flow==="in"&&((Dt=Ct[Kt]).nick!==at&&(Dt.setNickAndAvatar({nick:at}),jt=!0),Dt.avatar!==ft&&(Dt.setNickAndAvatar({avatar:ft}),jt=!0),jt&&(Lt+=1));sn.l("".concat(this._n,".modifyMessageSentByPeer conversationID:").concat(_t," count:").concat(Lt))}}}},{key:"modifyMessageSentByMe",value:function(ut){var _t=ut.conversationID,at=ut.latestNick,ft=ut.latestAvatar,gt=this.list.get(_t);if(!kr(gt)){var Ct=Array.from(gt.values()),St=Ct.length;if(St!==0){for(var Dt=null,Lt=0,jt=!1,Kt=St-1;Kt>=0;Kt--)Ct[Kt].flow==="out"&&((Dt=Ct[Kt]).nick!==at&&(Dt.setNickAndAvatar({nick:at}),jt=!0),Dt.avatar!==ft&&(Dt.setNickAndAvatar({avatar:ft}),jt=!0),jt&&(Lt+=1));sn.l("".concat(this._n,".modifyMessageSentByMe conversationID:").concat(_t," count:").concat(Lt))}}}},{key:"getTopicConversationIDList",value:function(ut){return Ht(this.list.keys()).filter(function(_t){return _t.startsWith("".concat(Ut.CONV_GROUP).concat(ut))})}},{key:"traversal",value:function(){if(this.list.size!==0&&sn.getLevel()===-1){console.group("conversationID-messageCount");var ut,_t=Cn(this.list);try{for(_t.s();!(ut=_t.n()).done;){var at=Ft(ut.value,2),ft=at[0],gt=at[1];console.log("".concat(ft,"-").concat(gt.size))}}catch(Ct){_t.e(Ct)}finally{_t.f()}console.groupEnd()}}},{key:"onMessageModified",value:function(ut,_t){if(!this.list.has(ut))return{isUpdated:!1,message:null};var at=this._getUniqueIDOfMessage(_t),ft=this.list.get(ut).has(at);if(sn.d("".concat(this._n,".onMessageModified conversationID:").concat(ut," uniqueID:").concat(at," has:").concat(ft)),ft){var gt=this.list.get(ut).get(at),Ct=_t.messageVersion,St=_t.elements,Dt=_t.cloudCustomData;return gt.version<Ct?(gt.version=Ct,gt._elements=JSON.parse(JSON.stringify(St)),gt.payload=JSON.parse(JSON.stringify(St[0].content)),gt.type=St[0].type,gt.cloudCustomData=Dt,gt.isModified=!0,{isUpdated:!0,message:gt}):{isUpdated:!1,message:gt}}return{isUpdated:!1,message:null}}},{key:"_getUniqueIDOfMessage",value:function(ut){var _t=ut.from,at=ut.to,ft=ut.random,gt=ut.sequence,Ct=ut.time;return"".concat(_t,"-").concat(at,"-").concat(ft,"-").concat(gt,"-").concat(Ct)}},{key:"reset",value:function(){this.list.clear(),this._latestMessageSentByPeerMap.clear(),this._latestMessageSentByMeMap.clear()}}]),Nt}(),Yl="_a2KeyAndTinyIDUpdated",vp="_cloudConfigUpdated",O_="_profileUpdated";function sv(Nt){this.mixin(Nt)}sv.mixin=function(Nt){var ut=Nt.prototype||Nt;ut._isReady=!1,ut.ready=function(_t){var at=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(_t)return this._isReady?void(at?_t.call(this):setTimeout(_t,1)):(this._readyQueue=this._readyQueue||[],void this._readyQueue.push(_t))},ut.triggerReady=function(){var _t=this;this._isReady=!0,setTimeout(function(){var at=_t._readyQueue;_t._readyQueue=[],at&&at.length>0&&at.forEach(function(ft){ft.call(this)},_t)},1)},ut.resetReady=function(){this._isReady=!1,this._readyQueue=[]},ut.isReady=function(){return this._isReady}};var Ty=["jpg","jpeg","gif","png","bmp","image","webp"],zv=["mp4","quicktime","mov"],xy=1,Kv=2,wy=3,Wv=255,L_=function(){function Nt(ut){var _t=this;it(this,Nt),kr(ut)||(this.userID=ut.userID||"",this.nick=ut.nick||"",this.gender=ut.gender||"",this.birthday=ut.birthday||0,this.location=ut.location||"",this.selfSignature=ut.selfSignature||"",this.allowType=ut.allowType||Ut.ALLOW_TYPE_ALLOW_ANY,this.language=ut.language||0,this.avatar=ut.avatar||"",this.messageSettings=ut.messageSettings||0,this.adminForbidType=ut.adminForbidType||Ut.FORBID_TYPE_NONE,this.level=ut.level||0,this.role=ut.role||0,this.lastUpdatedTime=0,this.profileCustomField=[],kr(ut.profileCustomField)||ut.profileCustomField.forEach(function(at){_t.profileCustomField.push({key:at.key,value:at.value})}))}return lt(Nt,[{key:"validate",value:function(ut){var _t=!0,at="";if(kr(ut))return{valid:!1,tips:"empty options"};if(ut.profileCustomField)for(var ft=ut.profileCustomField.length,gt=null,Ct=0;Ct<ft;Ct++){if(gt=ut.profileCustomField[Ct],!yo(gt.key)||gt.key.indexOf("Tag_Profile_Custom")===-1)return{valid:!1,tips:"The prefix of keys of the custom profile key-value pairs (which is profileCustomField) must be Tag_Profile_Custom"};if(!yo(gt.value))return{valid:!1,tips:"The type of values of the custom profile key-value pairs (which is profileCustomField) must be String"}}for(var St in ut)if(Object.prototype.hasOwnProperty.call(ut,St)){if(St==="profileCustomField")continue;if(kr(ut[St])&&!yo(ut[St])&&!Yo(ut[St])){at="key:"+St+", invalid value:"+ut[St],_t=!1;continue}switch(St){case"nick":yo(ut[St])||(at="nick must be a string",_t=!1),Fu(ut[St])>500&&(at="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(Fu(ut[St])," bytes"),_t=!1);break;case"gender":Vs(zu,ut.gender)||(at="key:gender, invalid value:"+ut.gender,_t=!1);break;case"birthday":Yo(ut.birthday)||(at="birthday must be a number",_t=!1);break;case"location":yo(ut.location)||(at="location must be a string",_t=!1);break;case"selfSignature":yo(ut.selfSignature)||(at="selfSignature must be a string",_t=!1);break;case"allowType":Vs(Lp,ut.allowType)||(at="key:allowType, invalid value:"+ut.allowType,_t=!1);break;case"language":Yo(ut.language)||(at="language must be a number",_t=!1);break;case"avatar":yo(ut.avatar)||(at="avatar must be a string",_t=!1);break;case"messageSettings":ut.messageSettings!==0&&ut.messageSettings!==1&&(at="messageSettings must be 0 or 1",_t=!1);break;case"adminForbidType":Vs(Fl,ut.adminForbidType)||(at="key:adminForbidType, invalid value:"+ut.adminForbidType,_t=!1);break;case"level":Yo(ut.level)||(at="level must be a number",_t=!1);break;case"role":Yo(ut.role)||(at="role must be a number",_t=!1);break;default:at="unknown key:"+St+"  "+ut[St],_t=!1}}return{valid:_t,tips:at}}}]),Nt}(),Yv=lt(function Nt(ut){it(this,Nt),this.value=ut,this.next=null}),os=function(){function Nt(ut){it(this,Nt),this.MAX_LENGTH=ut,this.pTail=null,this.pNodeToDel=null,this.map=new Map}return lt(Nt,[{key:"set",value:function(ut){var _t=new Yv(ut);if(this.map.size<this.MAX_LENGTH)this.pTail===null?(this.pTail=_t,this.pNodeToDel=_t):(this.pTail.next=_t,this.pTail=_t),this.map.set(ut,1);else{var at=this.pNodeToDel;this.pNodeToDel=this.pNodeToDel.next,this.map.delete(at.value),at.next=null,at=null,this.pTail.next=_t,this.pTail=_t,this.map.set(ut,1)}}},{key:"has",value:function(ut){return this.map.has(ut)}},{key:"delete",value:function(ut){this.has(ut)&&this.map.delete(ut)}},{key:"tail",value:function(){return this.pTail}},{key:"size",value:function(){return this.map.size}},{key:"data",value:function(){return Array.from(this.map.keys())}},{key:"reset",value:function(){for(var ut;this.pNodeToDel!==null;)ut=this.pNodeToDel,this.pNodeToDel=this.pNodeToDel.next,ut.next=null,ut=null;this.pTail=null,this.map.clear()}}]),Nt}(),Dy=["groupID","name","avatar","type","introduction","notification","ownerID","selfInfo","createTime","infoSequence","lastInfoTime","lastMessage","nextMessageSeq","memberNum","maxMemberNum","memberList","joinOption","groupCustomField","muteAllMembers","isSupportTopic","inviteOption","_lastRevokedTime"],Cm=function(){function Nt(ut){it(this,Nt),this.groupID="",this.name="",this.avatar="",this.type="",this.introduction="",this.notification="",this.ownerID="",this.createTime="",this.infoSequence="",this.lastInfoTime="",this.selfInfo={messageRemindType:"",joinTime:"",nameCard:"",role:"",userID:"",memberCustomField:void 0,readedSequence:0,excludedUnreadSequenceList:void 0},this.lastMessage={lastTime:"",lastSequence:"",fromAccount:"",messageForShow:""},this.nextMessageSeq="",this.memberNum="",this.memberCount="",this.maxMemberNum="",this.maxMemberCount="",this.joinOption="",this.inviteOption="",this.groupCustomField=[],this.muteAllMembers=!1,this.isSupportTopic=!1,this._lastRevokedTime=0,this._initGroup(ut)}return lt(Nt,[{key:"memberNum",get:function(){return this.memberCount},set:function(ut){}},{key:"maxMemberNum",get:function(){return this.maxMemberCount},set:function(ut){}},{key:"_initGroup",value:function(ut){for(var _t in ut)Dy.indexOf(_t)<0||(_t!=="selfInfo"?(_t==="memberNum"&&(this.memberCount=ut[_t]),_t==="maxMemberNum"&&(this.maxMemberCount=ut[_t]),_t!=="isSupportTopic"?this[_t]=ut[_t]:this.isSupportTopic=ut[_t]===1):this.updateSelfInfo(ut[_t]))}},{key:"updateGroup",value:function(ut){var _t=this;ut.appid=void 0,ut.grossTopicNextMsgSeq=void 0,ut.selfInfo&&(ut.selfInfo.grossTopicReadSeq=void 0);var at=JSON.parse(JSON.stringify(ut));at.lastMsgTime&&(this.lastMessage.lastTime=at.lastMsgTime),fr(at.muteAllMembers)||(at.muteAllMembers==="On"?at.muteAllMembers=!0:at.muteAllMembers=!1),at.groupCustomField&&zs(this.groupCustomField,at.groupCustomField),fr(at.memberNum)||(this.memberCount=at.memberNum),fr(at.maxMemberNum)||(this.maxMemberCount=at.maxMemberNum),fr(at.isSupportTopic)||(this.isSupportTopic=Yo(at.isSupportTopic)?at.isSupportTopic===1:at.isSupportTopic),Eu(this,at,["members","errorCode","lastMsgTime","groupCustomField","memberNum","maxMemberNum","isSupportTopic"]),Zr(at.members)&&at.members.length>0&&at.members.forEach(function(ft){ft.userID===_t.selfInfo.userID&&Eu(_t.selfInfo,ft,["sequence"])})}},{key:"updateSelfInfo",value:function(ut){var _t={nameCard:ut.nameCard,joinTime:ut.joinTime,role:ut.role,messageRemindType:ut.messageRemindType,readedSequence:ut.readedSequence,excludedUnreadSequenceList:ut.excludedUnreadSequenceList};Eu(this.selfInfo,rt({},_t),[],["",null,void 0,0,NaN])}},{key:"setSelfNameCard",value:function(ut){this.selfInfo.nameCard=ut}}]),Nt}(),p_=function(Nt,ut){return fr(Nt)?{lastTime:0,lastSequence:0,fromAccount:0,messageForShow:"",payload:null,type:"",isRevoked:!1,cloudCustomData:"",onlineOnlyFlag:!1,nick:"",nameCard:"",version:0,isPeerRead:!1,revoker:null}:Nt instanceof wu?{lastTime:Nt.time||0,lastSequence:Nt.sequence||0,fromAccount:Nt.from||"",messageForShow:ws(Nt.type,Nt.payload,ut),payload:Nt.payload||null,type:Nt.type||null,isRevoked:Nt.isRevoked||!1,cloudCustomData:Nt.cloudCustomData||"",onlineOnlyFlag:Nt._onlineOnlyFlag||!1,nick:Nt.nick||"",nameCard:Nt.nameCard||"",version:Nt.version||0,isPeerRead:Nt.isPeerRead||!1,revoker:Nt.revoker||null}:rt(rt({},Nt),{},{messageForShow:ws(Nt.type,Nt.payload,ut)})},N_=function(){function Nt(ut,_t){it(this,Nt),this.conversationID=ut.conversationID||"",this.unreadCount=ut.unreadCount||0,this.type=ut.type||"",this.lastMessage=p_(ut.lastMessage,_t),ut.lastMsgTime&&(this.lastMessage.lastTime=ut.lastMsgTime),this._isInfoCompleted=!1,this.peerReadTime=ut.peerReadTime||0,this.groupAtInfoList=[],this.remark="",this.isPinned=ut.isPinned||!1,this.messageRemindType="",this.markList=ut.markList||[],this.customData=ut.customData||"",this.conversationGroupList=ut.conversationGroupList||[],this._initProfile(ut)}return lt(Nt,[{key:"toAccount",get:function(){return this.conversationID.startsWith(Ut.CONV_C2C)?this.conversationID.replace(Ut.CONV_C2C,""):this.conversationID.startsWith(Ut.CONV_GROUP)?this.conversationID.replace(Ut.CONV_GROUP,""):""}},{key:"subType",get:function(){return this.groupProfile?this.groupProfile.type:""}},{key:"_initProfile",value:function(ut){var _t=this;Object.keys(ut).forEach(function(at){switch(at){case"userProfile":_t.userProfile=ut.userProfile;break;case"groupProfile":_t.groupProfile=ut.groupProfile}}),fr(this.userProfile)&&this.type===Ut.CONV_C2C?this.userProfile=new L_({userID:ut.conversationID.replace("C2C","")}):fr(this.groupProfile)&&this.type===Ut.CONV_GROUP&&(this.groupProfile=new Cm({groupID:ut.conversationID.replace("GROUP","")}))}},{key:"updateUnreadCount",value:function(ut){var _t=ut.nextUnreadCount,at=ut.isFromGetConversations,ft=ut.isUnreadC2CMessage;fr(_t)||(uu(this.subType)?this.unreadCount=0:at&&this.type===Ut.CONV_GROUP||at&&this.type===Ut.CONV_TOPIC||ft&&this.type===Ut.CONV_C2C?this.unreadCount=_t:this.unreadCount=this.unreadCount+_t)}},{key:"updateLastMessage",value:function(ut){this.lastMessage=p_(ut)}},{key:"updateGroupAtInfoList",value:function(ut){if(!this._isNeedMergeGroupAtInfo(ut)){var _t,at=(Qt(_t=ut.groupAtType)||_n(_t)||hn(_t)||kn()).slice(0);at.indexOf(Ut.CONV_AT_ME)!==-1&&at.indexOf(Ut.CONV_AT_ALL)!==-1&&(at=[Ut.CONV_AT_ALL_AT_ME]);var ft={from:ut.from,groupID:ut.groupID,topicID:ut.topicID,messageSequence:ut.sequence,atTypeArray:at,__random:ut.__random,__sequence:ut.__sequence};this.groupAtInfoList.push(ft)}}},{key:"_isNeedMergeGroupAtInfo",value:function(ut){var _t=ut.groupID,at=ut.sequence;if(!eu({groupID:_t}))return!1;var ft=!1;return this.groupAtInfoList.forEach(function(gt){gt.messageSequence===at&&(gt.atTypeArray.indexOf(Ut.CONV_AT_ME)>-1&&ut.groupAtType.indexOf(Ut.CONV_AT_ALL)>-1&&(gt.atTypeArray=[Ut.CONV_AT_ALL_AT_ME]),gt.atTypeArray.indexOf(Ut.CONV_AT_ALL)>-1&&ut.groupAtType.indexOf(Ut.CONV_AT_ME)>-1&&(gt.atTypeArray=[Ut.CONV_AT_ALL_AT_ME],gt.__random=ut.__random,gt.__sequence=ut.__sequence),ft=!0)}),ft}},{key:"clearGroupAtInfoList",value:function(){this.groupAtInfoList.length=0}},{key:"reduceUnreadCount",value:function(){return this.unreadCount>=1&&(this.unreadCount-=1,!0)}},{key:"isLastMessageRevoked",value:function(ut){var _t=ut.sequence,at=ut.time;return this.type===Ut.CONV_C2C&&_t===this.lastMessage.lastSequence&&at===this.lastMessage.lastTime||this.type===Ut.CONV_GROUP&&_t===this.lastMessage.lastSequence}},{key:"setLastMessageRevoked",value:function(ut){this.lastMessage.isRevoked=ut}},{key:"setLastMessageRevoker",value:function(ut){this.lastMessage.revoker=ut}}]),Nt}(),c0=function(){function Nt(ut){it(this,Nt),this._conversationModule=ut,this._n="MessageRemindHandler",this._updateSequence=0}return lt(Nt,[{key:"getC2CMessageRemindType",value:function(){var ut=this,_t="".concat(this._n,".getC2CMessageRemindType");return this._conversationModule.request({protocolName:ip,updateSequence:this._updateSequence}).then(function(at){sn.l("".concat(_t," ok"));var ft=at.data,gt=ft.updateSequence,Ct=ft.muteFlagList;ut._updateSequence=gt,ut._patchC2CMessageRemindType(Ct)}).catch(function(at){sn.e("".concat(_t," failed. error:"),at)})}},{key:"_patchC2CMessageRemindType",value:function(ut){var _t=this,at=0,ft="";Zr(ut)&&ut.length>0&&ut.forEach(function(gt){var Ct=gt.userID,St=gt.muteFlag;St===0?ft=Ut.MSG_REMIND_ACPT_AND_NOTE:St===1?ft=Ut.MSG_REMIND_DISCARD:St===2&&(ft=Ut.MSG_REMIND_ACPT_NOT_NOTE),_t._conversationModule.patchMessageRemindType({ID:Ct,isC2CConversation:!0,messageRemindType:ft})===!0&&(at+=1)}),sn.l("".concat(this._n,"._patchC2CMessageRemindType count:").concat(at))}},{key:"set",value:function(ut){return ut.groupID?this._setGroupMessageRemindType(ut):Zr(ut.userIDList)?this._setC2CMessageRemindType(ut):void 0}},{key:"_setGroupMessageRemindType",value:function(ut){var _t=this,at="".concat(this._n,"._setGroupMessageRemindType"),ft=ut.groupID,gt=ut.messageRemindType,Ct="groupID:".concat(ft," messageRemindType:").concat(gt),St=new br("setMessageRemindType");return St.setMessage(Ct),this._getModule(Rs).modifyGroupMemberInfo({groupID:ft,messageRemindType:gt,userID:this._conversationModule.getMyUserID()}).then(function(){St.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok. ").concat(Ct));var Dt=_t.onGroupMessageRemindTypeUpdated(ut);return _t._conversationModule.emitTotalUnreadMessageCountUpdate(),oo(Dt)}).catch(function(Dt){return _t._conversationModule.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),sn.e("".concat(at," failed. error:"),Dt),Xn(Dt)})}},{key:"onGroupMessageRemindTypeUpdated",value:function(ut){var _t=ut.groupID,at=ut.messageRemindType,ft=this._getModule(vo).getLocalGroupProfile(_t);if(ft&&(ft.selfInfo.messageRemindType=at),lu(_t)){var gt=_t,Ct=Es(gt),St=this._getModule(gs).getLocalTopic(Ct,gt);return St&&(St.updateSelfInfo({messageRemindType:at}),this._conversationModule.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:Ct,topic:St})),{topic:St}}return this._conversationModule.patchMessageRemindType({ID:_t,isC2CConversation:!1,messageRemindType:at})&&this._emitConversationUpdate(),{group:ft}}},{key:"_setC2CMessageRemindType",value:function(ut){var _t=this,at="".concat(this._n,"._setC2CMessageRemindType"),ft=ut.userIDList,gt=ut.messageRemindType,Ct=ft.slice(0,30),St=0;gt===Ut.MSG_REMIND_DISCARD?St=1:gt===Ut.MSG_REMIND_ACPT_NOT_NOTE&&(St=2);var Dt="userIDList:".concat(Ct," messageRemindType:").concat(gt),Lt=new br("setMessageRemindType");return Lt.setMessage(Dt),this._conversationModule.request({protocolName:_m,requestData:{userIDList:Ct,muteFlag:St}}).then(function(jt){Lt.setNetworkType(_t._conversationModule.getNetworkType()).end();var Kt=jt.data,Jt=Kt.updateSequence,cn=Kt.errorList;_t._updateSequence=Jt;var bn=[],On=[];Zr(cn)&&cn.forEach(function(er){bn.push(er.userID),On.push({userID:er.userID,code:er.errorCode})});var Fn=Ct.filter(function(er){return bn.indexOf(er)===-1});sn.l("".concat(at," ok. successUserIDList:").concat(Fn," failureUserIDList:").concat(JSON.stringify(On)));var Wn=0;return Fn.forEach(function(er){_t._conversationModule.patchMessageRemindType({ID:er,isC2CConversation:!0,messageRemindType:gt})&&(Wn+=1)}),Wn>=1&&_t._emitConversationUpdate(),Ct.length=bn.length=0,_t._conversationModule.emitTotalUnreadMessageCountUpdate(),Io({successUserIDList:Fn.map(function(er){return{userID:er}}),failureUserIDList:On})}).catch(function(jt){return _t._conversationModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Lt.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"_getModule",value:function(ut){return this._conversationModule.getModule(ut)}},{key:"_emitConversationUpdate",value:function(){this._conversationModule.emitConversationUpdate(!0,!1)}},{key:"setUpdateSequence",value:function(ut){this._updateSequence=ut}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._updateSequence=0}}]),Nt}(),u0=function(){function Nt(ut){it(this,Nt),this._conversationModule=ut,this._n="ConvGroupHandler",this._convGroupMap=new Map,this._startIndex=0,this._pagingStatus=nu.NOT_START}return lt(Nt,[{key:"setConvCustomData",value:function(ut){var _t=this,at="".concat(this._n,".").concat("setConvCustomData"),ft=ut.conversationIDList,gt=ut.customData;sn.l("".concat(at," options:"),ut);var Ct=new br("setConvCustomData");Ct.setMessage(JSON.stringify(ut));var St={fromAccount:this._getMyUserID(),itemList:[]},Dt=[],Lt=[];return ft.forEach(function(jt){if(!_t._hasLocalConversation(jt))return _t._onConversationNotFound(Lt,jt),!0;if(!rs(jt)&&!mu(jt))return _t._onConversationIDInvalid(Lt,jt),!0;var Kt={operationType:2,contactItem:void 0,customMark:gt};rs(jt)?Kt.contactItem={type:1,toAccount:jt.replace(Ut.CONV_C2C,"")}:mu(jt)&&(Kt.contactItem={type:2,groupID:jt.replace(Ut.CONV_GROUP,"")}),St.itemList.push(Kt)}),Lt.length===ft.length?Io({successConversationIDList:Dt,failureConversationIDList:Lt}):this._conversationModule.request({protocolName:Dn,requestData:St}).then(function(jt){Ct.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var Kt=jt.data.resultItem;if(Zr(Kt)){var Jt,cn,bn=!1;Kt.forEach(function(On){Jt=_t._concatConversationID(On.contactItem),On.resultCode===0?(Dt.push(Jt),(cn=_t._getLocalConversation(Jt))&&cn.customData!==gt&&(cn.customData=gt,bn=!0)):Lt.push({conversationID:Jt,code:On.resultCode,message:On.resultInfo})}),bn===!0&&_t._emitConversationUpdate()}return oo({successConversationIDList:Dt,failureConversationIDList:Lt})}).catch(function(jt){return _t._conversationModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Ct.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"markConversation",value:function(ut){var _t=this;if(!this._conversationModule.canIUse(hr.CONV_MARK))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".").concat("markConversation"),ft=ut.conversationIDList,gt=ut.markType,Ct=ut.enableMark;sn.l("".concat(at," options:"),ut);var St=new br("markConversation");St.setMessage(JSON.stringify(ut));var Dt=void 0,Lt=void 0,jt=this._getFlagBit(gt);Ct===!0?Lt=[jt]:Dt=[jt];var Kt={fromAccount:this._getMyUserID(),itemList:[]},Jt=[],cn=[];return ft.forEach(function(bn){if(!_t._hasLocalConversation(bn))return _t._onConversationNotFound(cn,bn),!0;if(!rs(bn)&&!mu(bn))return _t._onConversationIDInvalid(cn,bn),!0;var On={operationType:1,contactItem:void 0,clearMark:Dt,setMark:Lt};rs(bn)?On.contactItem={type:1,toAccount:bn.replace(Ut.CONV_C2C,"")}:mu(bn)&&(On.contactItem={type:2,groupID:bn.replace(Ut.CONV_GROUP,"")}),Kt.itemList.push(On)}),cn.length===ft.length?Io({successConversationIDList:Jt,failureConversationIDList:cn}):this._conversationModule.request({protocolName:Hn,requestData:Kt}).then(function(bn){St.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var On=bn.data.resultItem;if(Zr(On)){var Fn,Wn,er=!1;On.forEach(function(ir){if(Fn=_t._concatConversationID(ir.contactItem),ir.resultCode===0){if(Jt.push(Fn),Wn=_t._getLocalConversation(Fn)){var Tr=Wn.markList.indexOf(gt);Ct===!0?Tr===-1&&(Wn.markList.push(gt),er=!0):Tr!==-1&&(Wn.markList.splice(Tr,1),er=!0)}}else cn.push({conversationID:Fn,code:ir.resultCode,message:ir.resultInfo})}),er===!0&&_t._emitConversationUpdate()}return oo({successConversationIDList:Jt,failureConversationIDList:cn})}).catch(function(bn){return _t._conversationModule.probeNetwork().then(function(On){var Fn=Ft(On,2),Wn=Fn[0],er=Fn[1];St.setError(bn,Wn,er).end()}),sn.e("".concat(at," failed. error:"),bn),Xn(bn)})}},{key:"getLocalConvGroupList",value:function(){var ut=this;return sn.l("".concat(this._n,".getLocalConvGroupList pagingStatus:").concat(this._pagingStatus)),this._pagingStatus===nu.REJECTED?this.getRemoteConvGroupList().then(function(){return oo(Ht(ut._convGroupMap.values()))}):Io(Ht(this._convGroupMap.values()))}},{key:"getRemoteConvGroupList",value:function(){var ut=this,_t="".concat(this._n,".getRemoteConvGroupList");return this._pagingStatus=nu.PENDING,this._conversationModule.request({protocolName:xo,requestData:{fromAccount:this._getMyUserID(),startIndex:this._startIndex,startTime:Gs()}}).then(function(at){var ft,gt,Ct=at.data,St=Ct.completeFlag,Dt=Ct.contactItem,Lt=Ct.nextStartIndex,jt=Lt===void 0?0:Lt,Kt=Ct.groupItem;if(ut._startIndex=jt,sn.l("".concat(_t," completeFlag:").concat(St," nextStartIndex:").concat(jt)),Zr(Kt)&&Kt.forEach(function(Jt){var cn=Jt.convGroupID,bn=Jt.groupName;ut._convGroupMap.set(cn,bn)}),Zr(Dt)&&Dt.forEach(function(Jt){var cn=Jt.standardMark,bn=Jt.customData,On=Jt.convGroupIDList;if(ft=ut._concatConversationID(Jt),(gt=ut._getLocalConversation(ft))&&(gt.markList=mr(cn),gt.customData=bn||"",Zr(On))){var Fn=[];On.forEach(function(Wn){ut._convGroupMap.has(Wn)&&Fn.push(ut._convGroupMap.get(Wn))}),gt.conversationGroupList=[].concat(Fn),Fn.length=0}}),St===0)return ut.getRemoteConvGroupList();St===1&&(ut._pagingStatus=nu.RESOLVED,ut._emitConversationUpdate(),ut._emitConvGroupListUpdate())}).catch(function(at){ut._pagingStatus=nu.REJECTED,sn.w("".concat(_t," failed. error:"),at)})}},{key:"createConvGroup",value:function(ut){var _t=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".").concat("createConvGroup");sn.l("".concat(at," options:"),ut);var ft=new br("createConvGroup");ft.setMessage(JSON.stringify(ut));var gt=ut.groupName,Ct=ut.conversationIDList,St={fromAccount:this._getMyUserID(),itemList:[{groupName:gt,contactItem:[]}]},Dt=[],Lt=[];return Ct.forEach(function(jt){return _t._hasLocalConversation(jt)?rs(jt)||mu(jt)?void(rs(jt)?St.itemList[0].contactItem.push({type:1,toAccount:jt.replace(Ut.CONV_C2C,"")}):mu(jt)&&St.itemList[0].contactItem.push({type:2,groupID:jt.replace(Ut.CONV_GROUP,"")})):(_t._onConversationIDInvalid(Lt,jt),!0):(_t._onConversationNotFound(Lt,jt),!0)}),Lt.length===Ct.length?Io({successConversationIDList:Dt,failureConversationIDList:Lt}):this._conversationModule.request({protocolName:zn,requestData:St}).then(function(jt){ft.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var Kt=jt.data.groupResultItem[0],Jt=Kt.groupItem,cn=Kt.resultItem;if(ns(Jt)&&(_t._convGroupMap.set(Jt.convGroupID,Jt.groupName),_t._emitConvGroupListUpdate()),Zr(cn)){var bn,On,Fn=!1;cn.forEach(function(Wn){bn=_t._concatConversationID(Wn.contactItem),Wn.resultCode===0?(Dt.push(bn),(On=_t._getLocalConversation(bn))&&On.conversationGroupList.indexOf(gt)===-1&&(On.conversationGroupList.push(gt),Fn=!0)):Lt.push({conversationID:bn,code:Wn.resultCode,message:Wn.resultInfo})}),Fn===!0&&(_t._emitConversationUpdate(),_t._emitConvGroupListUpdate())}return oo({successConversationIDList:Dt,failureConversationIDList:Lt})}).catch(function(jt){return _t._conversationModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];ft.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"deleteConvGroup",value:function(ut){var _t=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".").concat("deleteConvGroup");sn.l("".concat(at," groupName:").concat(ut));var ft=new br("deleteConvGroup");return ft.setMessage(ut),this._conversationModule.request({protocolName:Cr,requestData:{fromAccount:this._getMyUserID(),groupName:[ut]}}).then(function(gt){ft.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var Ct=gt.data.groupItem;if(Zr(Ct)){var St=!1;Ct.forEach(function(Dt){_t._convGroupMap.has(Dt.convGroupID)&&(_t._convGroupMap.delete(Dt.convGroupID),St=!0)}),St===!0&&_t._emitConvGroupListUpdate()}_t._eraseFromConversationGroupList([ut])}).catch(function(gt){return _t._conversationModule.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];ft.setError(gt,Dt,Lt).end()}),sn.e("".concat(at," failed. error:"),gt),Xn(gt)})}},{key:"renameConvGroup",value:function(ut){var _t=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".").concat("renameConvGroup");sn.l("".concat(at," options:"),ut);var ft=new br("renameConvGroup");ft.setMessage(JSON.stringify(ut));var gt=ut.oldName,Ct=ut.newName;return this._conversationModule.request({protocolName:Lr,requestData:{fromAccount:this._getMyUserID(),updateType:1,updateGroup:{updateGroupType:1,oldName:gt,newName:Ct}}}).then(function(St){ft.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var Dt=St.data.updateGroupResult.convGroupID;_t._convGroupMap.set(Dt,Ct),_t._emitConvGroupListUpdate();var Lt,jt,Kt=_t._conversationModule.getLocalConversationList(),Jt=!1;Kt.forEach(function(cn){Lt=cn.conversationGroupList,(jt=Lt.indexOf(gt))!==-1&&(Lt.splice(jt,1,Ct),Jt=!0)}),Jt===!0&&_t._emitConversationUpdate()}).catch(function(St){return _t._conversationModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];ft.setError(St,jt,Kt).end()}),sn.e("".concat(at," failed. error:"),St),Xn(St)})}},{key:"addConvsToGroup",value:function(ut){var _t=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".").concat("addConvsToGroup");sn.l("".concat(at," options:"),ut);var ft=new br("addConvsToGroup");ft.setMessage(JSON.stringify(ut));var gt=ut.conversationIDList,Ct=ut.groupName,St={fromAccount:this._getMyUserID(),updateType:1,updateGroup:{updateGroupType:2,groupName:Ct,updateItem:[]}},Dt=[],Lt=[];return gt.forEach(function(jt){return _t._hasLocalConversation(jt)?rs(jt)||mu(jt)?void(rs(jt)?St.updateGroup.updateItem.push({operationType:1,contactItem:{type:1,toAccount:jt.replace(Ut.CONV_C2C,"")}}):mu(jt)&&St.updateGroup.updateItem.push({operationType:1,contactItem:{type:2,groupID:jt.replace(Ut.CONV_GROUP,"")}})):(_t._onConversationIDInvalid(Lt,jt),!0):(_t._onConversationNotFound(Lt,jt),!0)}),Lt.length===gt.length?Io({successConversationIDList:Dt,failureConversationIDList:Lt}):this._conversationModule.request({protocolName:ho,requestData:St}).then(function(jt){ft.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var Kt=jt.data.updateGroupResult.contactResultItem;if(Zr(Kt)){var Jt,cn,bn=!1;Kt.forEach(function(On){Jt=_t._concatConversationID(On.contactItem),On.resultCode===0?(cn=_t._getLocalConversation(Jt))&&cn.conversationGroupList.indexOf(Ct)===-1&&(cn.conversationGroupList.push(Ct),Dt.push(Jt),bn=!0):Lt.push({conversationID:Jt,code:On.resultCode,message:On.resultInfo})}),bn===!0&&(_t._emitConversationUpdate(),_t._emitConvInGroupUpdate(Ct))}return oo({successConversationIDList:Dt,failureConversationIDList:Lt})}).catch(function(jt){return _t._conversationModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];ft.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"deleteConvsFromGroup",value:function(ut){var _t=this;if(!this._conversationModule.canIUse(hr.CONV_GROUP))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".").concat("deleteConvsFromGroup");sn.l("".concat(at," options:"),ut);var ft=new br("deleteConvsFromGroup");ft.setMessage(JSON.stringify(ut));var gt=ut.conversationIDList,Ct=ut.groupName,St={fromAccount:this._getMyUserID(),updateType:1,updateGroup:{updateGroupType:2,groupName:Ct,updateItem:[]}},Dt=[],Lt=[];return gt.forEach(function(jt){return _t._hasLocalConversation(jt)?rs(jt)||mu(jt)?void(rs(jt)?St.updateGroup.updateItem.push({operationType:2,contactItem:{type:1,toAccount:jt.replace(Ut.CONV_C2C,"")}}):mu(jt)&&St.updateGroup.updateItem.push({operationType:2,contactItem:{type:2,groupID:jt.replace(Ut.CONV_GROUP,"")}})):(_t._onConversationIDInvalid(Lt,jt),!0):(_t._onConversationNotFound(Lt,jt),!0)}),Lt.length===gt.length?Io({successConversationIDList:Dt,failureConversationIDList:Lt}):this._conversationModule.request({protocolName:Eo,requestData:St}).then(function(jt){ft.setNetworkType(_t._conversationModule.getNetworkType()).end(),sn.l("".concat(at," ok"));var Kt=jt.data.updateGroupResult.contactResultItem;if(Zr(Kt)){var Jt,cn,bn=!1;Kt.forEach(function(On){if(Jt=_t._concatConversationID(On.contactItem),On.resultCode===0){if(cn=_t._getLocalConversation(Jt)){var Fn=cn.conversationGroupList.indexOf(Ct);Fn!==-1&&(cn.conversationGroupList.splice(Fn,1),Dt.push(Jt),bn=!0)}}else Lt.push({conversationID:Jt,code:On.resultCode,message:On.resultInfo})}),bn===!0&&(_t._emitConversationUpdate(),_t._emitConvInGroupUpdate(Ct))}return oo({successConversationIDList:Dt,failureConversationIDList:Lt})}).catch(function(jt){return _t._conversationModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];ft.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"onConvMarkUpdated",value:function(ut){var _t=this;if(!kr(ut)){var at,ft;sn.d("".concat(this._n,".onConvMarkUpdated markItemList:"),ut);var gt=!1;ut.forEach(function(Ct){var St=Ct.recentContactItem,Dt=Ct.optType,Lt=Ct.standardMark,jt=Ct.customMark;if(at=_t._concatConversationID(St),ft=_t._getLocalConversation(at))if(Dt===1){var Kt=mr(Lt);(function(Jt,cn){if(Jt===cn)return!0;if(!Jt||!cn||Jt.length!==cn.length)return!1;for(var bn=0,On=Jt.length;bn<On;bn++)if(Jt[bn]!==cn[bn])return!1;return!0})(ft.markList,Kt)!==!0&&(ft.markList=Kt,gt=!0)}else Dt===2&&ft.customData!==jt&&jt!==void 0&&(ft.customData=jt,gt=!0)}),gt===!0&&this._emitConversationUpdate()}}},{key:"onConvGroupCreated",value:function(ut){var _t=this;sn.d("".concat(this._n,".onConvGroupCreated resultList:"),ut);var at=!1,ft=!1;Zr(ut)&&(ut.forEach(function(gt){var Ct=gt.msgGroupItem,St=Ct.groupID,Dt=Ct.groupName;_t._convGroupMap.get(St)!==Dt&&(_t._convGroupMap.set(St,Dt),ft=!0);var Lt,jt,Kt=gt.msgRecentContactItem;Zr(Kt)&&Kt.forEach(function(Jt){Lt=_t._concatConversationID(Jt),(jt=_t._getLocalConversation(Lt))&&jt.conversationGroupList.indexOf(Dt)===-1&&(jt.conversationGroupList.push(Dt),at=!0)})}),at===!0&&this._emitConversationUpdate(),ft===!0&&this._emitConvGroupListUpdate())}},{key:"onConvGroupDeleted",value:function(ut){var _t=this;sn.d("".concat(this._n,".onConvGroupDeleted groupItemList:"),ut);var at=[];if(Zr(ut)){var ft=!1;ut.forEach(function(gt){var Ct=gt.groupID,St=gt.groupName;_t._convGroupMap.has(Ct)&&(_t._convGroupMap.delete(Ct),ft=!0,at.push(St))}),ft===!0&&this._emitConvGroupListUpdate()}this._eraseFromConversationGroupList(at)}},{key:"_eraseFromConversationGroupList",value:function(ut){kr(ut)||(this._conversationModule.getLocalConversationList().forEach(function(_t){_t.conversationGroupList=_t.conversationGroupList.filter(function(at){return!ut.includes(at)})}),this._emitConversationUpdate())}},{key:"onConvGroupNameUpdated",value:function(ut){sn.d("".concat(this._n,".onConvGroupNameUpdated options:"),ut);var _t=ut.groupID,at=ut.groupName,ft=ut.oldGroupName;if(this._convGroupMap.get(_t)!==at){this._convGroupMap.set(_t,at),this._emitConvGroupListUpdate();var gt,Ct,St=this._conversationModule.getLocalConversationList(),Dt=!1;St.forEach(function(Lt){gt=Lt.conversationGroupList,(Ct=gt.indexOf(ft))!==-1&&(gt.splice(Ct,1,at),Dt=!0)}),Dt===!0&&this._emitConversationUpdate()}}},{key:"onConvInGroupUpdated",value:function(ut){var _t=this;sn.d("".concat(this._n,".onConvInGroupUpdated options:"),ut);var at=ut.oldGroupName,ft=ut.recentContactUpdateGroupItem;if(Zr(ft)){var gt,Ct,St,Dt=!1;ft.forEach(function(Lt){var jt=Lt.contactOptType,Kt=Lt.recentContactItem;gt=_t._concatConversationID(Kt),(Ct=_t._getLocalConversation(gt))&&(St=Ct.conversationGroupList.indexOf(at),jt===1?St===-1&&(Ct.conversationGroupList.push(at),Dt=!0):jt===2&&St!==-1&&(Ct.conversationGroupList.splice(St,1),Dt=!0))}),Dt===!0&&(this._emitConversationUpdate(),this._emitConvInGroupUpdate(at))}}},{key:"onConvAddedToOrDeletedFromGroup",value:function(ut){var _t=this;sn.d("".concat(this._n,".onConvAddedToOrDeletedFromGroup options:"),ut);var at=ut.msgRecentContactItem,ft=ut.msgRecentContactUpdateContactItem,gt=this._concatConversationID(at),Ct=this._getLocalConversation(gt);if(Ct&&Zr(ft)){var St,Dt=!1;ft.forEach(function(Lt){var jt=Lt.groupOptType,Kt=Lt.recentContactGroupItem.groupName;St=Ct.conversationGroupList.indexOf(Kt),jt===1?St===-1&&(Ct.conversationGroupList.push(Kt),Dt=!0):jt===2&&St!==-1&&(Ct.conversationGroupList.splice(St,1),Dt=!0),Dt===!0&&_t._emitConvInGroupUpdate(Kt)}),Dt===!0&&this._emitConversationUpdate()}}},{key:"onConvGroupListSynced",value:function(ut){var _t=this;Zr(ut)&&ut.length!==0&&(sn.l("".concat(this._n,".onConvGroupListSynced groupItemList:"),ut),ut.forEach(function(at){_t._convGroupMap.set(at.convGroupID,at.groupName)}))}},{key:"getConvGroupListByID",value:function(ut){var _t=this;if(!kr(ut)){var at=[];return ut.forEach(function(ft){_t._convGroupMap.has(ft)&&at.push(_t._convGroupMap.get(ft))}),at}}},{key:"_onConversationNotFound",value:function(ut,_t){ut.push({conversationID:_t,code:pr.CONVERSATION_NOT_FOUND,message:this._conversationModule.getErrorMessage(pr.CONVERSATION_NOT_FOUND)})}},{key:"_onConversationIDInvalid",value:function(ut,_t){ut.push({conversationID:_t,code:pr.INVALID_CONVERSATION_ID,message:this._conversationModule.getErrorMessage(pr.INVALID_CONVERSATION_ID)})}},{key:"_getFlagBit",value:function(ut){for(var _t=ut.toString(2),at=_t.length,ft=at-1;ft>=0;ft--)if(_t[ft]==="1")return at-ft-1}},{key:"_concatConversationID",value:function(ut){var _t,at=ut.type,ft=ut.to,gt=ut.groupID,Ct=ut.userID;return at===1?fr(Ct)?fr(ft)||(_t="".concat(Ut.CONV_C2C).concat(ft)):_t="".concat(Ut.CONV_C2C).concat(Ct):at===2&&(_t="".concat(Ut.CONV_GROUP).concat(gt)),_t}},{key:"_getMyUserID",value:function(){return this._conversationModule.getMyUserID()}},{key:"_insertConversationGroup",value:function(ut,_t){var at=this._getLocalConversation(ut);if(at){var ft=at.conversationGroupList;ft.indexOf(_t)===-1&&ft.push(_t)}}},{key:"_getLocalConversation",value:function(ut){return this._conversationModule.getLocalConversation(ut)}},{key:"_hasLocalConversation",value:function(ut){return this._conversationModule.hasLocalConversation(ut)}},{key:"_emitConversationUpdate",value:function(){this._conversationModule.emitConversationUpdate(!0,!1)}},{key:"_emitConvGroupListUpdate",value:function(){this._conversationModule.emitOuterEvent(yn.CONVERSATION_GROUP_LIST_UPDATED,Ht(this._convGroupMap.values()))}},{key:"_emitConvInGroupUpdate",value:function(ut){var _t={groupName:ut,conversationList:[]},at=this._conversationModule.getLocalConversationList();_t.conversationList=at.filter(function(ft){return ft.conversationGroupList.includes(ut)}),this._conversationModule.emitOuterEvent(yn.CONVERSATION_IN_GROUP_UPDATED,_t)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._convGroupMap.clear(),this._startIndex=0,this._pagingStatus=nu.NOT_START}}]),Nt}(),yp=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="ConversationModule",sv.mixin(Bt(ft)),ft._messageListHandler=new ky,ft._messageRemindHandler=new c0(Bt(ft)),ft._convGroupHandler=new u0(Bt(ft)),ft.singlyLinkedList=new os(100),ft._pagingStatus=nu.NOT_START,ft._pagingTimeStamp=0,ft._pagingStartIndex=0,ft._pagingPinnedTimeStamp=0,ft._pagingPinnedStartIndex=0,ft._pagingConvIDMap=new Map,ft._convIDFromUnreadDBMap=new Map,ft._conversationMap=new Map,ft._tmpGroupList=[],ft._tmpGroupAtTipsList=[],ft._peerReadTimeMap=new Map,ft._completedMap=new Map,ft._roamingMessageKeyAndTimeMap=new Map,ft._roamingMessageSequenceMap=new Map,ft._remoteGroupReadSequenceMap=new Map,ft._convTotalUnreadCount=0,ft._pagingGetCostList=[],ft._initListeners(),ft}return lt(_t,[{key:"_initListeners",value:function(){var at=this.getInnerEmitterInstance();at.on(Yl,this._initLocalConversationList,this),at.on(O_,this._onProfileUpdated,this)}},{key:"onCheckTimer",value:function(at){at%60==0&&this._messageListHandler.traversal()}},{key:"_initLocalConversationList",value:function(){var at=this,ft=new br("_initLocalConversationList");sn.l("".concat(this._n,".").concat("_initLocalConversationList"));var gt="",Ct=this._getStorageConversationList(),St=this.isIntl();if(Ct){for(var Dt=Ct.length,Lt=0;Lt<Dt;Lt++){var jt=Ct[Lt];if(jt){if(jt.conversationID==="".concat(Ut.CONV_C2C,"@TLS#ERROR")||jt.conversationID==="".concat(Ut.CONV_C2C,"@TLS#NOT_FOUND"))continue;if(jt.groupProfile){var Kt=jt.groupProfile.type;if(uu(Kt))continue}}this._conversationMap.set(Ct[Lt].conversationID,new N_(Ct[Lt],St))}this.emitConversationUpdate(!0,!1),gt="count:".concat(Dt)}else gt="count:0";ft.setNetworkType(this.getNetworkType()).setMessage(gt).end(),this.getModule(To)||this.triggerReady(),this.ready(function(){at._tmpGroupList.length>0&&(at.updateConversationGroupProfile(at._tmpGroupList),at._tmpGroupList.length=0)}),this.syncConversationList()}},{key:"onMessageSent",value:function(at){this._onSendOrReceiveMessage({conversationOptionsList:at.conversationOptionsList,isInstantMessage:!0})}},{key:"onNewMessage",value:function(at){this._onSendOrReceiveMessage(at)}},{key:"_onSendOrReceiveMessage",value:function(at){var ft=this,gt=at.conversationOptionsList,Ct=at.isInstantMessage,St=Ct===void 0||Ct,Dt=at.isUnreadC2CMessage,Lt=Dt!==void 0&&Dt,jt=at.updateUnreadCount,Kt=jt===void 0||jt;this._isReady?gt.length!==0&&(this._getC2CPeerReadTime(gt),this._updateLocalConversationList({conversationOptionsList:gt,isInstantMessage:St,isUnreadC2CMessage:Lt,isFromGetConversations:!1,updateUnreadCount:Kt}),St||(this._convIDFromUnreadDBMap=new Map([].concat(Ht(this._convIDFromUnreadDBMap),Ht(gt.map(function(Jt){return[Jt.conversationID,1]})))),this._diffAndDeleteConversation()),this._setStorageConversationList(),gt.filter(function(Jt){return Jt.type===Ut.CONV_TOPIC}).length>0||this.emitConversationUpdate()):this.ready(function(){ft._onSendOrReceiveMessage(at)})}},{key:"updateConversationGroupProfile",value:function(at){var ft=this;if(!Zr(at)||at.length!==0)if(this._conversationMap.size!==0){var gt=!1;at.forEach(function(Ct){var St="GROUP".concat(Ct.groupID);if(ft._conversationMap.has(St)){gt=!0;var Dt=ft._conversationMap.get(St);Dt.groupProfile=JSON.parse(JSON.stringify(Ct)),Dt.lastMessage.lastSequence<Ct.nextMessageSeq&&(Dt.lastMessage.lastSequence=Ct.nextMessageSeq-1),Dt.subType||(Dt.subType=Ct.type)}}),gt&&this.emitConversationUpdate(!0,!1)}else this._tmpGroupList=at}},{key:"_updateConversationUserProfile",value:function(at){var ft=this;at.data.forEach(function(gt){var Ct="C2C".concat(gt.userID);ft._conversationMap.has(Ct)&&(ft._conversationMap.get(Ct).userProfile=gt)}),this.emitConversationUpdate(!0,!1)}},{key:"onMessageRevoked",value:function(at){var ft=this;if(at.length!==0){var gt=null,Ct=!1,St=[];at.forEach(function(Dt){(gt=ft._conversationMap.get(Dt.conversationID))&&(gt.type===Ut.CONV_TOPIC?St.push(Dt):(gt.reduceUnreadCount()&&(Ct=!0),gt.isLastMessageRevoked({sequence:Dt.sequence,time:Dt.time})&&(gt.setLastMessageRevoked(!0),gt.setLastMessageRevoker(Dt.revoker),Ct=!0)))}),this.getModule(gs).onMessageRevoked(St),Ct&&(this.emitConversationUpdate(!0,!1),this.emitTotalUnreadMessageCountUpdate())}}},{key:"isLastMessageRevoked",value:function(at){var ft=!1,gt=at.conversationID,Ct=at.sequence,St=at.time,Dt=this._conversationMap.get(gt);return Dt&&(ft=Dt.type===Ut.CONV_TOPIC?this.getModule(gs).isLastMessageRevoked({topicID:gt.replace(Ut.CONV_GROUP,""),sequence:Ct}):Dt.isLastMessageRevoked({sequence:Ct,time:St})),sn.l("".concat(this._n,".isLastMessageRevoked options:").concat(JSON.stringify(at)," ret:").concat(ft)),ft}},{key:"onMessageDeleted",value:function(at){var ft=this;if(at.length!==0){var gt=null;at.forEach(function(Jt){(gt=ft._messageListHandler.getLocalMessage(Jt.conversationID,Jt.ID))&&(gt.isDeleted=!0),Jt!==gt&&(Jt.isDeleted=!0)});for(var Ct=at[0].conversationID,St=this._messageListHandler.getLocalMessageList(Ct),Dt={},Lt=St.length-1;Lt>=0;Lt--)if(!St[Lt].isDeleted){Dt=St[Lt];break}var jt=this._conversationMap.get(Ct);if(jt){var Kt=!1;jt.lastMessage.lastSequence===Dt.sequence&&jt.lastMessage.lastTime===Dt.time||(kr(Dt)&&(Dt=void 0),jt.updateLastMessage(Dt),jt.type!==Ut.CONV_TOPIC&&(Kt=!0),sn.l("".concat(this._n,".onMessageDeleted. update conversationID:").concat(Ct," with lastMessage:"),jt.lastMessage)),Ct.startsWith(Ut.CONV_C2C)&&this.updateUnreadCount(Ct),Kt&&this.emitConversationUpdate(!0,!1)}}}},{key:"onMessageModified",value:function(at){var ft=at.conversationType,gt=at.from,Ct=at.to,St=at.time,Dt=at.sequence,Lt=at.elements,jt=at.cloudCustomData,Kt=at.messageVersion,Jt=this.getMyUserID(),cn="".concat(ft).concat(Ct);Ct===Jt&&ft===Ut.CONV_C2C&&(cn="".concat(ft).concat(gt));var bn=this._messageListHandler.onMessageModified(cn,at),On=bn.isUpdated,Fn=bn.message;On===!0&&this.emitOuterEvent(yn.MESSAGE_MODIFIED,[Fn]);var Wn=this._isTopicConversation(cn);if(sn.l("".concat(this._n,".onMessageModified isUpdated:").concat(On," isTopicMessage:").concat(Wn," from:").concat(gt," to:").concat(Ct)),Wn)this.getModule(gs).onMessageModified(at);else{var er=this._conversationMap.get(cn);if(er){var ir=er.lastMessage;sn.d("".concat(this._n.onMessageModified," lastMessage:"),JSON.stringify(ir),"options:",JSON.stringify(at)),ir&&ir.lastTime===St&&ir.lastSequence===Dt&&ir.version!==Kt&&(ir.type=Lt[0].type,ir.payload=Lt[0].content,ir.messageForShow=ws(ir.type,ir.payload,this.isIntl()),ir.cloudCustomData=jt,ir.version=Kt,this.emitConversationUpdate(!0,!1))}}return Fn}},{key:"onNewGroupAtTips",value:function(at){var ft=this,gt=at.dataList,Ct=null;gt.forEach(function(St){St.groupAtTips?Ct=St.groupAtTips:St.elements?Ct=rt(rt({},St.elements),{},{sync:!0}):St.groupAtType&&(Ct=rt(rt({},St),{},{sync:!0})),Ct.__random=St.random,Ct.__sequence=St.clientSequence,ft._tmpGroupAtTipsList.push(Ct)}),sn.d("".concat(this._n,".onNewGroupAtTips isReady:").concat(this._isReady),this._tmpGroupAtTipsList),this._isReady&&this._handleGroupAtTipsList()}},{key:"_handleGroupAtTipsList",value:function(){var at=this;if(this._tmpGroupAtTipsList.length!==0){var ft=!1;this._tmpGroupAtTipsList.forEach(function(gt){var Ct=gt.groupID,St=gt.from,Dt=gt.topicID,Lt=Dt===void 0?void 0:Dt,jt=gt.sync,Kt=jt!==void 0&&jt;if(St!==at.getMyUserID())if(fr(Lt)){var Jt=at._conversationMap.get("".concat(Ut.CONV_GROUP).concat(Ct));Jt&&(Jt.updateGroupAtInfoList(gt),ft=!0)}else{var cn=at._conversationMap.get("".concat(Ut.CONV_GROUP).concat(Lt));if(cn){cn.updateGroupAtInfoList(gt);var bn=at.getModule(gs),On=cn.groupAtInfoList;bn.onConversationProxy({topicID:Lt,groupAtInfoList:On})}kr(cn)&&Kt&&(at.updateTopicConversation([{conversationID:"".concat(Ut.CONV_GROUP).concat(Lt),type:Ut.CONV_TOPIC}]),at._conversationMap.get("".concat(Ut.CONV_GROUP).concat(Lt)).updateGroupAtInfoList(gt))}}),ft&&this.emitConversationUpdate(!0,!1),this._tmpGroupAtTipsList.length=0}}},{key:"_getC2CPeerReadTime",value:function(at){var ft=this,gt=[];if(at.forEach(function(St){ft._conversationMap.has(St.conversationID)||St.type!==Ut.CONV_C2C||gt.push(St.conversationID.replace(Ut.CONV_C2C,""))}),gt.length>0){sn.d("".concat(this._n,"._getC2CPeerReadTime userIDList:").concat(gt));var Ct=this.getModule(To);Ct&&Ct.getRemotePeerReadTime(gt)}}},{key:"_getStorageConversationList",value:function(){return this.getModule(Yu).getItem("conversationMap")}},{key:"_setStorageConversationList",value:function(){var at=this.getLocalConversationList().filter(function(ft){return ft.type===Ut.CONV_C2C||ft.type===Ut.CONV_GROUP&&ft.lastMessage.type!==Ut.MSG_GRP_TIP}).slice(0,20).map(function(ft){return{conversationID:ft.conversationID,type:ft.type,subType:ft.subType,lastMessage:ft.lastMessage,groupProfile:ft.groupProfile,userProfile:ft.userProfile}});this.getModule(Yu).setItem("conversationMap",at)}},{key:"emitConversationUpdate",value:function(){var at=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ft=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],gt=this.getLocalConversationList();if(ft){var Ct=this.getModule(vo);Ct&&Ct.updateGroupLastMessage(gt)}at&&this.emitOuterEvent(yn.CONVERSATION_LIST_UPDATED)}},{key:"getLocalConversationList",value:function(){return Ht(this._conversationMap.values()).filter(function(at){return at.type!==Ut.CONV_TOPIC})}},{key:"getLocalConversation",value:function(at){return this._conversationMap.get(at)}},{key:"hasLocalConversation",value:function(at){return this._conversationMap.has(at)}},{key:"getLocalOldestMessage",value:function(at){return this._messageListHandler.getLocalOldestMessage(at)}},{key:"syncConversationList",value:function(){var at=this,ft=new br("syncConversationList");return this._pagingStatus===nu.NOT_START&&this._conversationMap.clear(),this._pagingGetConversationList().then(function(gt){var Ct=function(St){if(Zr(St)&&St.length!==0){var Dt=0;return St.forEach(function(Lt){Dt+=Lt}),(Dt/St.length).toFixed(0)}}(at._pagingGetCostList);return sn.l("".concat(at._n,".").concat("syncConversationList",". sum ").concat(function(St){if(Zr(St)&&St.length!==0){var Dt=0;return St.forEach(function(Lt){Dt+=Lt}),Dt.toFixed(0)}}(at._pagingGetCostList)," ms, average ").concat(Ct," ms")),at._pagingGetCostList.length=0,at._pagingStatus=nu.RESOLVED,at._diffAndDeleteConversation(),at.emitConversationUpdate(!0,!1),at._setStorageConversationList(),at._handleC2CPeerReadTime(),at._patchConversationProperties(),ft.setMessage(at._conversationMap.size).setMoreMessage(Ct).setNetworkType(at.getNetworkType()).end(),gt}).catch(function(gt){return at._pagingStatus=nu.REJECTED,ft.setMessage(at._pagingTimeStamp),at.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];ft.setError(gt,Dt,Lt).end()}),Xn(gt)})}},{key:"_diffAndDeleteConversation",value:function(){var at=this;if(this._isSyncCompleted()){var ft=[];this._conversationMap.forEach(function(gt,Ct){!at._pagingConvIDMap.has(Ct)&&at._convIDFromUnreadDBMap.has(Ct)&&(at._conversationMap.delete(Ct),ft.push(Ct))}),sn.l("".concat(this._n,"._diffAndDeleteConversation list:").concat(ft))}}},{key:"_patchConversationProperties",value:function(){var at=this,ft=Date.now(),gt=this.checkAndPatchRemark(),Ct=this._messageRemindHandler.getC2CMessageRemindType(),St=this.getModule(vo).getGroupList();Promise.all([gt,Ct,St]).then(function(){var Dt=Date.now()-ft;sn.l("".concat(at._n,"._patchConversationProperties ok. cost ").concat(Dt," ms")),at.emitConversationUpdate(!0,!1),at.emitTotalUnreadMessageCountUpdate()})}},{key:"_pagingGetConversationList",value:function(){var at=this,ft="".concat(this._n,"._pagingGetConversationList");sn.l("".concat(ft," timeStamp:").concat(this._pagingTimeStamp," startIndex:").concat(this._pagingStartIndex)+" pinnedTimeStamp:".concat(this._pagingPinnedTimeStamp," pinnedStartIndex:").concat(this._pagingPinnedStartIndex));var gt=Date.now();return this._pagingStatus=nu.PENDING,this.request({protocolName:Xt,requestData:{fromAccount:this.getMyUserID(),timeStamp:this._pagingTimeStamp,startIndex:this._pagingStartIndex,pinnedTimeStamp:this._pagingPinnedTimeStamp,pinnedStartIndex:this._pagingPinnedStartIndex,orderType:1}}).then(function(Ct){var St=Ct.data,Dt=St.completeFlag,Lt=St.conversations,jt=Lt===void 0?[]:Lt,Kt=St.timeStamp,Jt=St.startIndex,cn=St.pinnedTimeStamp,bn=St.pinnedStartIndex,On=St.groupItem,Fn=Date.now()-gt;if(at._pagingGetCostList.push(Fn),sn.l("".concat(ft," ok. completeFlag:").concat(Dt," count:").concat(jt.length," cost ").concat(Fn," ms")),at._convGroupHandler.onConvGroupListSynced(On),jt.length>0){var Wn=at._getConversationOptions(jt);at._pagingConvIDMap=new Map([].concat(Ht(at._pagingConvIDMap),Ht(Wn.map(function(er){return[er.conversationID,1]})))),at._updateLocalConversationList({conversationOptionsList:Wn,isFromGetConversations:!0}),at.isLoggedIn()&&at.emitConversationUpdate()}if(!at._isReady){if(!at.isLoggedIn())return Io();at.triggerReady()}return at._pagingTimeStamp=Kt,at._pagingStartIndex=Jt,at._pagingPinnedTimeStamp=cn,at._pagingPinnedStartIndex=bn,Dt!==1?at._pagingGetConversationList():(at._handleGroupAtTipsList(),at._convGroupHandler.getRemoteConvGroupList(),Io())}).catch(function(Ct){throw at.isLoggedIn()&&(at._isReady||(sn.w("".concat(ft," failed. error:"),Ct),at.triggerReady())),Ct})}},{key:"_updateLocalConversationList",value:function(at){var ft,gt=at.isFromGetConversations,Ct=at.isInstantMessage,St=Date.now();ft=this._getTmpConversationListMapping(at),this._conversationMap=new Map(this._sortConversationList([].concat(Ht(ft.toBeUpdatedConversationList),Ht(this._conversationMap)))),gt||(this._updateUserOrGroupProfile(ft.newConversationList),Ct&&this.emitTotalUnreadMessageCountUpdate()),sn.d("".concat(this._n,"._updateLocalConversationList cost ").concat(Date.now()-St," ms"))}},{key:"_getTmpConversationListMapping",value:function(at){for(var ft=at.conversationOptionsList,gt=at.isFromGetConversations,Ct=at.isInstantMessage,St=at.isUnreadC2CMessage,Dt=St!==void 0&&St,Lt=at.updateUnreadCount,jt=[],Kt=[],Jt=this.getModule(vo),cn=this.getModule(Fs),bn=this.isIntl(),On=0,Fn=ft.length;On<Fn;On++){var Wn=new N_(ft[On],bn),er=Wn.conversationID;if(er!=="".concat(Ut.CONV_C2C,"@TLS#ERROR")&&er!=="".concat(Ut.CONV_C2C,"@TLS#NOT_FOUND"))if(this._conversationMap.has(er)){var ir=this._conversationMap.get(er),Tr=["unreadCount","allowType","adminForbidType","payload","isPinned"];Ct===!1&&Tr.push("lastMessage");var Ur=ft[On].lastMessage,zr=!fr(Ur);zr||ft[On].type===Ut.CONV_TOPIC||this._onLastMessageNotExist(ft[On]),fr(Ct)&&zr&&ir.lastMessage.payload===null&&(ir.lastMessage.payload=Ur.payload),kr(ir.lastMessage.revoker)||(ir.lastMessage.revoker=null),Eu(ir,Wn,Tr,[null,void 0,"",0,NaN]),Lt===!0&&ir.updateUnreadCount({nextUnreadCount:Wn.unreadCount,isFromGetConversations:gt,isUnreadC2CMessage:Dt}),Ct&&zr&&(Ur.payload&&(ir.lastMessage.payload=Ur.payload),ir.type===Ut.CONV_GROUP&&(ir.lastMessage.nameCard=Ur.nameCard,ir.lastMessage.nick=Ur.nick)),zr&&ir.lastMessage.cloudCustomData!==Ur.cloudCustomData&&(ir.lastMessage.cloudCustomData=Ur.cloudCustomData||""),this._conversationMap.delete(er),jt.push([er,ir])}else{if(Wn.type===Ut.CONV_GROUP&&Jt){var co=Wn.groupProfile.groupID,$o=Jt.getLocalGroupProfile(co);$o&&(Wn.groupProfile=$o,Lt===!0&&Wn.updateUnreadCount({nextUnreadCount:0}))}else if(Wn.type===Ut.CONV_C2C){var Ho=er.replace(Ut.CONV_C2C,"");cn&&cn.isMyFriend(Ho)&&(Wn.remark=cn.getFriendRemark(Ho))}Kt.push(Wn),jt.push([er,Wn])}}var Ro=this.getModule(gs);return jt.forEach(function(ts){if(ts[1].type===Ut.CONV_TOPIC){var Iu=ts[1],Xu=Iu.conversationID,$u=Iu.unreadCount,Vu=Iu.groupAtInfoList;Ro.onConversationProxy({topicID:Xu.replace(Ut.CONV_GROUP,""),unreadCount:$u,groupAtInfoList:kr(Vu)?void 0:Vu})}}),{toBeUpdatedConversationList:jt,newConversationList:Kt}}},{key:"_onLastMessageNotExist",value:function(at){new br("lastMessageNotExist").setMessage("".concat(JSON.stringify(at))).setNetworkType(this.getNetworkType()).end()}},{key:"_sortConversationList",value:function(at){var ft=[],gt=[],Ct=[],St=[];return at.forEach(function(Dt){Dt[1].isPinned===!0?kr(Dt[1].lastMessage.lastTime)?gt.push(Dt):ft.push(Dt):kr(Dt[1].lastMessage.lastTime)?St.push(Dt):Ct.push(Dt)}),ft.sort(function(Dt,Lt){return Lt[1].lastMessage.lastTime-Dt[1].lastMessage.lastTime}).concat(gt).concat(Ct.sort(function(Dt,Lt){return Lt[1].lastMessage.lastTime-Dt[1].lastMessage.lastTime})).concat(St)}},{key:"_sortConversationListAndEmitEvent",value:function(){this._conversationMap=new Map(this._sortConversationList(Ht(this._conversationMap))),this.emitConversationUpdate(!0,!1)}},{key:"_updateUserOrGroupProfile",value:function(at){var ft=this;if(at.length!==0){var gt=[],Ct=[],St=this.getModule(qr),Dt=this.getModule(vo);at.forEach(function(Lt){if(Lt.type===Ut.CONV_C2C)gt.push(Lt.toAccount);else if(Lt.type===Ut.CONV_GROUP){var jt=Lt.toAccount;Dt.hasLocalGroup(jt)?Lt.groupProfile=Dt.getLocalGroupProfile(jt):Ct.push(jt)}}),sn.l("".concat(this._n,"._updateUserOrGroupProfile c2cUserIDList:").concat(gt," groupIDList:").concat(Ct)),gt.length>0&&St.getUserProfile({userIDList:gt}).then(function(Lt){var jt=Lt.data;Zr(jt)?jt.forEach(function(Kt){ft._doUpdateUserProfile("C2C".concat(Kt.userID),Kt)}):ft._doUpdateUserProfile("C2C".concat(jt.userID),jt)}),Ct.length>0&&Dt.getGroupProfileAdvance({groupIDList:Ct,responseFilter:{groupBaseInfoFilter:["Type","Name","FaceUrl"]}}).then(function(Lt){Lt.data.successGroupList.forEach(function(jt){var Kt="GROUP".concat(jt.groupID);if(ft._conversationMap.has(Kt)){var Jt=ft._conversationMap.get(Kt);Eu(Jt.groupProfile,jt,[],[null,void 0,"",0,NaN]),!Jt.subType&&jt.type&&(Jt.subType=jt.type)}})})}}},{key:"_doUpdateUserProfile",value:function(at,ft){this.hasLocalConversation(at)&&(this.getLocalConversation(at).userProfile=ft)}},{key:"_getConversationOptions",value:function(at){var ft=this,gt=[],Ct=at.filter(function(Lt){var jt=Lt.type,Kt=Lt.userID;return jt===1&&Kt!=="@TLS#NOT_FOUND"&&Kt!=="@TLS#ERROR"||jt===2}),St=this.getMyUserID(),Dt=Ct.map(function(Lt){if(fr(Lt.lastMsg)&&(Lt.lastMsg={elements:[]}),Lt.type===1){var jt={userID:Lt.userID,nick:Lt.peerNick,avatar:Lt.peerAvatar};return gt.push(jt),{conversationID:"C2C".concat(Lt.userID),type:"C2C",lastMessage:{lastTime:Lt.time,lastSequence:Lt.sequence,fromAccount:Lt.lastC2CMsgFromAccount,messageForShow:Lt.messageShow,type:Lt.lastMsg.elements[0]?Lt.lastMsg.elements[0].type:null,payload:Lt.lastMsg.elements[0]?ft._amendLayersOverLimitProperty(Lt.lastMsg.elements[0].content):null,cloudCustomData:Lt.lastMsg.cloudCustomData||"",isRevoked:Lt.lastMessageFlag===8,onlineOnlyFlag:!1,nick:"",nameCard:"",version:0,isPeerRead:Lt.lastC2CMsgFromAccount===St&&Lt.time<=Lt.c2cPeerReadTime,revoker:Lt.lastMsg.revokerInfo?Lt.lastMsg.revokerInfo.revoker:null},userProfile:new L_(jt),peerReadTime:Lt.c2cPeerReadTime,isPinned:Lt.isPinned===1,messageRemindType:"",customData:Lt.customMark||"",markList:mr(Lt.standardMark),conversationGroupList:ft._convGroupHandler.getConvGroupListByID(Lt.contactGroupId)}}return{conversationID:"GROUP".concat(Lt.groupID),type:"GROUP",lastMessage:rt(rt({lastTime:Lt.time,lastSequence:Lt.sequence,fromAccount:Lt.msgGroupFromAccount,messageForShow:Lt.messageShow},ft._patchTypeAndPayload(Lt)),{},{cloudCustomData:Lt.lastMsg.cloudCustomData||"",isRevoked:Lt.lastMessageFlag===2,onlineOnlyFlag:!1,nick:Lt.senderNick||"",nameCard:Lt.senderNameCard||"",revoker:Lt.lastMsg.revokerInfo?Lt.lastMsg.revokerInfo.revoker:null}),groupProfile:new Cm({groupID:Lt.groupID,name:Lt.groupNick,avatar:Lt.groupImage}),unreadCount:Lt.unreadCount,peerReadTime:0,isPinned:Lt.isPinned===1,messageRemindType:"",version:0,customData:Lt.customMark||"",markList:mr(Lt.standardMark),conversationGroupList:ft._convGroupHandler.getConvGroupListByID(Lt.contactGroupId)}});return gt.length>0&&this.getModule(qr).onConversationsProfileUpdated(gt),Dt}},{key:"_patchTypeAndPayload",value:function(at){var ft=at.lastMsg,gt=ft.event,Ct=gt===void 0?void 0:gt,St=ft.elements,Dt=St===void 0?[]:St,Lt=ft.groupTips,jt=Lt===void 0?{}:Lt;if(!fr(Ct)&&!kr(jt)){var Kt=new wu(jt);Kt.setElement({type:Ut.MSG_GRP_TIP,content:rt(rt({},jt.elements),{},{groupProfile:jt.groupProfile})});var Jt=JSON.parse(JSON.stringify(Kt.payload));return Kt=null,{type:Ut.MSG_GRP_TIP,payload:Jt}}return{type:Dt[0]?Dt[0].type:null,payload:Dt[0]?this._amendLayersOverLimitProperty(Dt[0].content):null}}},{key:"_amendLayersOverLimitProperty",value:function(at){var ft=at.layersOverLimit;return ft===0?at.layersOverLimit=!1:ft===1&&(at.layersOverLimit=!0),at}},{key:"getLocalMessageList",value:function(at){return this._messageListHandler.getLocalMessageList(at)}},{key:"deleteLocalMessage",value:function(at){at instanceof wu&&this._messageListHandler.remove(at)}},{key:"onConversationDeleted",value:function(at){if(Zr(at)){var ft=at.map(function(gt){var Ct=gt.type,St=gt.userID,Dt=gt.groupID;return Ct===1?"".concat(Ut.CONV_C2C).concat(St):Ct===2?"".concat(Ut.CONV_GROUP).concat(Dt):void 0});sn.l("".concat(this._n,".onConversationDeleted conversationIDList:").concat(ft)),this.deleteLocalConversationList(ft)}}},{key:"onConversationPinned",value:function(at){var ft=this;if(Zr(at)){var gt=!1;at.forEach(function(Ct){var St,Dt=Ct.type,Lt=Ct.userID,jt=Ct.groupID;Dt===1?St=ft.getLocalConversation("".concat(Ut.CONV_C2C).concat(Lt)):Dt===2&&(St=ft.getLocalConversation("".concat(Ut.CONV_GROUP).concat(jt))),St&&(sn.l("".concat(ft._n,".onConversationPinned conversationID:").concat(St.conversationID," isPinned:").concat(St.isPinned)),St.isPinned||(St.isPinned=!0,gt=!0))}),gt&&this._sortConversationListAndEmitEvent()}}},{key:"onConversationUnpinned",value:function(at){var ft=this;if(Zr(at)){var gt=!1;at.forEach(function(Ct){var St,Dt=Ct.type,Lt=Ct.userID,jt=Ct.groupID;Dt===1?St=ft.getLocalConversation("".concat(Ut.CONV_C2C).concat(Lt)):Dt===2&&(St=ft.getLocalConversation("".concat(Ut.CONV_GROUP).concat(jt))),St&&(sn.l("".concat(ft._n,".onConversationUnpinned conversationID:").concat(St.conversationID," isPinned:").concat(St.isPinned)),St.isPinned&&(St.isPinned=!1,gt=!0))}),gt&&this._sortConversationListAndEmitEvent()}}},{key:"getMessageList",value:function(at){var ft=this,gt=at.conversationID,Ct=at.nextReqMessageID,St=at.count,Dt="".concat(this._n,".getMessageList"),Lt=this.getLocalConversation(gt),jt="";if(Lt&&Lt.groupProfile&&(jt=Lt.groupProfile.type),uu(jt))return sn.l("".concat(Dt," not available in avchatroom. conversationID:").concat(gt)),Io({messageList:[],nextReqMessageID:"",isCompleted:!0});(fr(St)||St>15)&&(St=15),!Ct&&this._isNotInCommunity(gt)&&(this._messageListHandler.removeByConversationID(gt),this._completedMap.delete(gt),this._roamingMessageSequenceMap.delete(gt));var Kt=this._computeRemainingCount({conversationID:gt,nextReqMessageID:Ct}),Jt=this._completedMap.has(gt);if(sn.l("".concat(Dt," conversationID:").concat(gt," nextReqMessageID:").concat(Ct)+" remainingCount:".concat(Kt," count:").concat(St," isCompleted:").concat(Jt)),this._needGetHistory({conversationID:gt,remainingCount:Kt,count:St}))return this.getHistoryMessages({conversationID:gt,nextReqMessageID:Ct,count:20}).then(function(bn){var On=bn.nextReqID,Fn=bn.storedMessageList,Wn=ft._completedMap.has(gt),er=Fn;Kt>0&&(er=ft._messageListHandler.getLocalMessageList(gt).slice(0,Fn.length+Kt));var ir={nextReqMessageID:Wn?"":On,messageList:er,isCompleted:Wn};return sn.l("".concat(Dt," ret.nextReqMessageID:").concat(ir.nextReqMessageID," ret.isCompleted:").concat(ir.isCompleted," ret.length:").concat(er.length)),oo(ir)});this.modifyMessageList(gt);var cn=this._getMessageListFromMemory({conversationID:gt,nextReqMessageID:Ct,count:St});return Io(cn)}},{key:"_getMessageListFromMemory",value:function(at){var ft=at.conversationID,gt=at.nextReqMessageID,Ct=at.count,St="".concat(this._n,"._getMessageListFromMemory"),Dt=this._messageListHandler.getLocalMessageList(ft),Lt=Dt.length,jt=0,Kt={isCompleted:!1,nextReqMessageID:"",messageList:[]};return gt?(jt=Dt.findIndex(function(Jt){return Jt.ID===gt}))>Ct?(Kt.messageList=Dt.slice(jt-Ct,jt),Kt.nextReqMessageID=Dt[jt-Ct].ID):(Kt.messageList=Dt.slice(0,jt),Kt.isCompleted=!0):Lt>Ct?(jt=Lt-Ct,Kt.messageList=Dt.slice(jt,Lt),Kt.nextReqMessageID=Dt[jt].ID):(Kt.messageList=Dt.slice(0,Lt),Kt.isCompleted=!0),sn.l("".concat(St," conversationID:").concat(ft)+" ret.nextReqMessageID:".concat(Kt.nextReqMessageID," ret.isCompleted:").concat(Kt.isCompleted," ret.length:").concat(Kt.messageList.length)),Kt}},{key:"getMessageListHopping",value:function(at){var ft=at.conversationID,gt=at.sequence,Ct=at.time,St=at.count,Dt=at.direction,Lt=Dt===void 0?0:Dt;if((fr(St)||St>15)&&(St=15),ft.startsWith(Ut.CONV_C2C)){var jt=this.getModule(To),Kt=ft.replace(Ut.CONV_C2C,"");return jt.getRoamingMessagesHopping({peerAccount:Kt,time:Ct,count:St,direction:Lt})}if(ft.startsWith(Ut.CONV_GROUP)){var Jt=this.getModule(vo),cn=ft.replace(Ut.CONV_GROUP,"");return Jt.getRoamingMessagesHopping({groupID:cn,sequence:gt,count:St,direction:Lt})}}},{key:"_computeRemainingCount",value:function(at){var ft=at.conversationID,gt=at.nextReqMessageID,Ct=this._messageListHandler.getLocalMessageList(ft),St=Ct.length;if(!gt)return St;var Dt=0;return rs(ft)?Dt=Ct.findIndex(function(Lt){return Lt.ID===gt}):mu(ft)&&(Dt=gt.indexOf("-")!==-1?Ct.findIndex(function(Lt){return Lt.ID===gt}):Ct.findIndex(function(Lt){return Lt.sequence===gt})),Dt===-1&&(Dt=0),Dt}},{key:"_getMessageListSize",value:function(at){return this._messageListHandler.getLocalMessageList(at).length}},{key:"_needGetHistory",value:function(at){var ft=at.conversationID,gt=at.remainingCount,Ct=at.count,St=this.getLocalConversation(ft),Dt="";return St&&St.groupProfile&&(Dt=St.groupProfile.type),!Sp(ft)&&!uu(Dt)&&!(mu(ft)&&this._isPagingGetGroupListCompleted()&&this._getLocalGroupCount()<=4e3&&!this._hasLocalGroup(ft)&&!this._isTopicConversation(ft))&&gt<=Ct&&!this._completedMap.has(ft)}},{key:"_isTopicConversation",value:function(at){var ft=at.replace(Ut.CONV_GROUP,"");return lu(ft)}},{key:"getHistoryMessages",value:function(at){var ft=at.conversationID,gt=at.count;if(ft===Ut.CONV_SYSTEM)return Io();var Ct=15;gt>20&&(Ct=20);var St=null;if(rs(ft)){var Dt=this._roamingMessageKeyAndTimeMap.has(ft);return(St=this.getModule(To))?St.getRoamingMessage({conversationID:ft,peerAccount:ft.replace(Ut.CONV_C2C,""),count:Ct,lastMessageTime:Dt?this._roamingMessageKeyAndTimeMap.get(ft).lastMessageTime:0,messageKey:Dt?this._roamingMessageKeyAndTimeMap.get(ft).messageKey:""}):Xn({code:pr.CANNOT_FIND_MODULE})}if(mu(ft)){if(!(St=this.getModule(vo)))return Xn({code:pr.CANNOT_FIND_MODULE});var Lt=null;this._conversationMap.has(ft)&&(Lt=this._conversationMap.get(ft).lastMessage);var jt=0;Lt&&(jt=Lt.lastSequence);var Kt=this._roamingMessageSequenceMap.get(ft);return St.getRoamingMessage({conversationID:ft,groupID:ft.replace(Ut.CONV_GROUP,""),count:Ct,sequence:Kt||jt})}return Io()}},{key:"patchConversationLastMessage",value:function(at){var ft=this.getLocalConversation(at);if(ft){var gt=ft.lastMessage,Ct=gt.messageForShow,St=gt.payload;if(kr(Ct)||kr(St)){var Dt=this._messageListHandler.getLocalMessageList(at);if(Dt.length===0)return;var Lt=Dt[Dt.length-1];sn.l("".concat(this._n,".patchConversationLastMessage conversationID:").concat(at," payload:"),Lt.payload),ft.updateLastMessage(Lt)}}}},{key:"onRoamingMessage",value:function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ft=arguments.length>1?arguments[1]:void 0,gt=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Ct=ft.startsWith(Ut.CONV_C2C)?Ut.CONV_C2C:Ut.CONV_GROUP,St=null,Dt=[],Lt=[],jt=0,Kt=at.length,Jt=null,cn=Ct===Ut.CONV_GROUP,bn=this.getModule(fp),On=this.getFileDownloadProxy(),Fn=function(){jt=cn?at.length-1:0,Kt=cn?0:at.length},Wn=function(){cn?--jt:++jt},er=function(){return cn?jt>=Kt:jt<Kt};for(Fn();er();Wn())if(cn&&at[jt].sequence===1&&gt&&this.setCompleted(ft),at[jt].isPlaceMessage!==1)if((St=new wu(at[jt])).to=at[jt].to,Ct!==Ut.CONV_GROUP||fr(at[jt].topicID)||(St.to=at[jt].topicID),St.isSystemMessage=!!at[jt].isSystemMessage,St.conversationType=Ct,at[jt].event===4?Jt={type:Ut.MSG_GRP_TIP,content:rt(rt({},at[jt].elements),{},{groupProfile:at[jt].groupProfile})}:(at[jt].elements=bn.parseElements(at[jt].elements,at[jt].from),Jt=at[jt].elements),cn||St.setNickAndAvatar({nick:at[jt].nick,avatar:at[jt].avatar}),kr(Jt)){var ir=new br("emptyMessageBody");ir.setMessage("from:".concat(St.from," to:").concat(St.to," sequence:").concat(St.sequence," event:").concat(at[jt].event)),ir.setNetworkType(this.getNetworkType()).setLevel("warning").end()}else St.setElement(Jt,On),St.reInitialize(this.getMyUserID()),Dt.push(St);return Fn=Wn=er=null,gt?(this._messageListHandler.unshift(Dt,Lt),Dt=null,Lt):(Lt=null,Dt)}},{key:"findMessage",value:function(at){return this._messageListHandler.findMessage(at)}},{key:"_isNotInCommunity",value:function(at){var ft=!1;if(at.startsWith(Ut.CONV_GROUP)&&this._isTopicConversation(at)){var gt=Es(at.replace(Ut.CONV_GROUP,""));this.getModule(vo).hasLocalGroup(gt)||(ft=!0)}return ft}},{key:"deleteTopicRoamingMessageInfo",value:function(at){var ft=this;eu({groupID:at})&&this._messageListHandler.getTopicConversationIDList(at).forEach(function(gt){ft._messageListHandler.removeByConversationID(gt),ft._completedMap.delete(gt),ft._roamingMessageSequenceMap.delete(gt)})}},{key:"deleteGroupRomaingMessageInfo",value:function(at){var ft="".concat(Ut.CONV_GROUP).concat(at);this._messageListHandler.removeByConversationID(ft),this._completedMap.delete(ft),this._roamingMessageSequenceMap.delete(ft)}},{key:"setMessageRead",value:function(at){var ft=at.conversationID,gt=this.getLocalConversation(ft);if(sn.l("".concat(this._n,".setMessageRead conversationID:").concat(ft," unreadCount:").concat(gt?gt.unreadCount:0)),!gt||(gt.type!==Ut.CONV_GROUP&&gt.type!==Ut.CONV_TOPIC||kr(gt.groupAtInfoList)||this.deleteGroupAtTips(ft),gt.unreadCount===0))return Io();if(gt.type===Ut.CONV_GROUP&&!this._hasLocalGroup(ft))return gt.unreadCount!==0&&(gt.unreadCount=0,this.emitConversationUpdate(!0,!1)),Io();var Ct=this._messageListHandler.getLocalLastMessage(ft),St=gt.lastMessage.lastTime;Ct&&St<Ct.time&&(St=Ct.time);var Dt=gt.lastMessage.lastSequence;if(Ct&&Dt<Ct.sequence&&(Dt=Ct.sequence),gt.type===Ut.CONV_TOPIC&&fr(Ct)){var Lt=this.getModule(gs),jt=ft.replace(Ut.CONV_GROUP,""),Kt=Es(jt),Jt=Lt.getLocalTopic(Kt,jt);Jt&&(Dt=Jt.nextMessageSeq-1)}var cn=null;switch(gt.type){case Ut.CONV_C2C:return(cn=this.getModule(To))?cn.setMessageRead({conversationID:ft,lastMessageTime:St}):Xn({code:pr.CANNOT_FIND_MODULE});case Ut.CONV_GROUP:case Ut.CONV_TOPIC:return(cn=this.getModule(vo))?cn.setMessageRead({conversationID:ft,lastMessageSeq:Dt}):Xn({code:pr.CANNOT_FIND_MODULE});case Ut.CONV_SYSTEM:return gt.unreadCount=0,this.emitConversationUpdate(!0,!1),Io();default:return Io()}}},{key:"setAllMessageRead",value:function(){var at=this,ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt="setAllMessageRead",Ct="".concat(this._n,".").concat(gt);ft.scope||(ft.scope=Ut.READ_ALL_MSG),sn.l("".concat(Ct," options:"),ft);var St=this._createSetAllMessageReadPack(ft);if(St.readAllC2CMessage===0&&St.groupMessageReadInfoList.length===0)return Io();var Dt=new br(gt);return this.request({protocolName:Tv,requestData:St}).then(function(Lt){var jt=Lt.data,Kt=at._handleAllMessageRead(jt);return Dt.setMessage("scope:".concat(ft.scope," failureGroups:").concat(JSON.stringify(Kt))).setNetworkType(at.getNetworkType()).end(),Io()}).catch(function(Lt){return at.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),sn.w("".concat(Ct," failed. error:"),Lt),Xn({code:Lt&&Lt.code?Lt.code:pr.MESSAGE_UNREAD_ALL_FAIL,message:Lt&&Lt.message?Lt.message:void 0})})}},{key:"setConversationCustomData",value:function(at){return this._convGroupHandler.setConvCustomData(at)}},{key:"markConversation",value:function(at){return this._convGroupHandler.markConversation(at)}},{key:"getConversationGroupList",value:function(){return this._convGroupHandler.getLocalConvGroupList()}},{key:"createConversationGroup",value:function(at){return this._convGroupHandler.createConvGroup(at)}},{key:"deleteConversationGroup",value:function(at){return this._convGroupHandler.deleteConvGroup(at)}},{key:"renameConversationGroup",value:function(at){return this._convGroupHandler.renameConvGroup(at)}},{key:"addConversationsToGroup",value:function(at){return this._convGroupHandler.addConvsToGroup(at)}},{key:"deleteConversationsFromGroup",value:function(at){return this._convGroupHandler.deleteConvsFromGroup(at)}},{key:"onConversationMarkUpdated",value:function(at){this._convGroupHandler.onConvMarkUpdated(at)}},{key:"onConversationGroupCreated",value:function(at){this._convGroupHandler.onConvGroupCreated(at)}},{key:"onConversationGroupDeleted",value:function(at){this._convGroupHandler.onConvGroupDeleted(at)}},{key:"onConversationGroupNameUpdated",value:function(at){this._convGroupHandler.onConvGroupNameUpdated(at)}},{key:"onConversationInGroupUpdated",value:function(at){this._convGroupHandler.onConvInGroupUpdated(at)}},{key:"onConversationAddedToOrDeletedFromGroup",value:function(at){this._convGroupHandler.onConvAddedToOrDeletedFromGroup(at)}},{key:"_getConversationLastMessageSequence",value:function(at){var ft=this._messageListHandler.getLocalLastMessage(at.conversationID),gt=at.lastMessage.lastSequence;return ft&&gt<ft.sequence&&(gt=ft.sequence),gt}},{key:"_getConversationLastMessageTime",value:function(at){var ft=this._messageListHandler.getLocalLastMessage(at.conversationID),gt=at.lastMessage.lastTime;return ft&&gt<ft.time&&(gt=ft.time),gt}},{key:"_createSetAllMessageReadPack",value:function(at){var ft,gt={readAllC2CMessage:0,groupMessageReadInfoList:[]},Ct=at.scope,St=Cn(this._conversationMap);try{for(St.s();!(ft=St.n()).done;){var Dt=Ft(ft.value,2)[1];if(Dt.unreadCount>0){if(Dt.type===Ut.CONV_C2C&&gt.readAllC2CMessage===0){if(Ct===Ut.READ_ALL_MSG)gt.readAllC2CMessage=1;else if(Ct===Ut.READ_ALL_C2C_MSG){gt.readAllC2CMessage=1;break}}else if(Dt.type===Ut.CONV_GROUP&&(Ct===Ut.READ_ALL_GROUP_MSG||Ct===Ut.READ_ALL_MSG)){var Lt=this._getConversationLastMessageSequence(Dt);gt.groupMessageReadInfoList.push({groupID:Dt.groupProfile.groupID,messageSequence:Lt})}}}}catch(jt){St.e(jt)}finally{St.f()}return gt}},{key:"onPushedAllMessageRead",value:function(at){this._handleAllMessageRead(at)}},{key:"_handleAllMessageRead",value:function(at){var ft=at.groupMessageReadInfoList,gt=at.readAllC2CMessage,Ct=this._parseGroupReadInfo(ft);return this._updateAllConversationUnreadCount({readAllC2CMessage:gt})>=1&&(this.emitConversationUpdate(!0,!1),this.emitTotalUnreadMessageCountUpdate()),Ct}},{key:"_parseGroupReadInfo",value:function(at){var ft=[];if(at&&at.length)for(var gt=0,Ct=at.length;gt<Ct;gt++){var St=at[gt],Dt=St.groupID,Lt=St.sequence,jt=St.retCode,Kt=St.lastMessageSeq;fr(jt)?this._remoteGroupReadSequenceMap.set(Dt,Kt):(this._remoteGroupReadSequenceMap.set(Dt,Lt),jt!==0&&ft.push("".concat(Dt,"-").concat(Lt,"-").concat(jt)))}return ft}},{key:"_updateAllConversationUnreadCount",value:function(at){var ft,gt=at.readAllC2CMessage,Ct=0,St=Cn(this._conversationMap);try{for(St.s();!(ft=St.n()).done;){var Dt=Ft(ft.value,2),Lt=Dt[0],jt=Dt[1];if(jt.unreadCount>=1){if(gt===1&&jt.type===Ut.CONV_C2C){var Kt=this._getConversationLastMessageTime(jt);this.updateIsReadAfterReadReport({conversationID:Lt,lastMessageTime:Kt})}else if(jt.type===Ut.CONV_GROUP){var Jt=Lt.replace(Ut.CONV_GROUP,"");if(this._remoteGroupReadSequenceMap.has(Jt)){var cn=this._remoteGroupReadSequenceMap.get(Jt),bn=this._getConversationLastMessageSequence(jt);this.updateIsReadAfterReadReport({conversationID:Lt,remoteReadSequence:cn}),bn>=cn&&this._remoteGroupReadSequenceMap.delete(Jt)}}this.updateUnreadCount(Lt,!1)&&(Ct+=1)}}}catch(On){St.e(On)}finally{St.f()}return Ct}},{key:"isRemoteRead",value:function(at){var ft=at.conversationID,gt=at.sequence,Ct=ft.replace(Ut.CONV_GROUP,""),St=!1;if(this._remoteGroupReadSequenceMap.has(Ct)){var Dt=this._remoteGroupReadSequenceMap.get(Ct);gt<=Dt&&(St=!0,sn.l("".concat(this._n,".isRemoteRead conversationID:").concat(ft," messageSequence:").concat(gt," remoteReadSequence:").concat(Dt))),gt>=Dt+10&&this._remoteGroupReadSequenceMap.delete(Ct)}return St}},{key:"updateIsReadAfterReadReport",value:function(at){var ft=at.conversationID,gt=at.lastMessageSeq,Ct=at.lastMessageTime,St=this._messageListHandler.getLocalMessageList(ft);if(St.length!==0){for(var Dt,Lt=St.length-1;Lt>=0;Lt--)if(Dt=St[Lt],!(Ct&&Dt.time>Ct||gt&&Dt.sequence>gt)){if(Dt.flow==="in"&&Dt.isRead)break;Dt.setIsRead(!0)}}}},{key:"updateUnreadCount",value:function(at){var ft=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],gt=!1,Ct=this.getLocalConversation(at),St=this._messageListHandler.getLocalMessageList(at);if(Ct){var Dt=Ct.unreadCount,Lt=St.filter(function(cn){return!cn.isRead&&!cn._onlineOnlyFlag&&!cn.isDeleted}).length;if(Dt!==Lt&&(Ct.unreadCount=Lt,gt=!0,sn.l("".concat(this._n,".updateUnreadCount from ").concat(Dt," to ").concat(Lt,", conversationID:").concat(at)),ft===!0&&(this.emitConversationUpdate(!0,!1),this.emitTotalUnreadMessageCountUpdate())),gt&&Ct.type===Ut.CONV_TOPIC){var jt=Ct.unreadCount,Kt=this.getModule(gs),Jt=at.replace(Ut.CONV_GROUP,"");Kt.onConversationProxy({topicID:Jt,unreadCount:jt})}return gt}}},{key:"clearGroupAtInfoList",value:function(at){var ft=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],gt=this.getLocalConversation(at);if(gt&&gt.groupAtInfoList.length>0){if(gt.clearGroupAtInfoList(),sn.l("".concat(this._n,".clearGroupAtInfoList conversationID:").concat(at)),gt.type===Ut.CONV_TOPIC){var Ct=gt.groupAtInfoList,St=this.getModule(gs),Dt=at.replace(Ut.CONV_GROUP,"");St.onConversationProxy({topicID:Dt,groupAtInfoList:Ct})}ft===!0&&this.emitConversationUpdate(!0,!1)}}},{key:"updateReadReceiptInfo",value:function(at){var ft=this,gt=at.userID,Ct=gt===void 0?void 0:gt,St=at.groupID,Dt=St===void 0?void 0:St,Lt=at.readReceiptList;if(!kr(Lt)){var jt=[];if(fr(Ct)){if(!fr(Dt)){var Kt="".concat(Ut.CONV_GROUP).concat(Dt);Lt.forEach(function(cn){var bn=cn.tinyID,On=cn.clientTime,Fn=cn.random,Wn=cn.readCount,er=cn.unreadCount,ir="".concat(bn,"-").concat(On,"-").concat(Fn),Tr=ft._messageListHandler.getLocalMessage(Kt,ir),Ur={groupID:Dt,messageID:ir,readCount:0,unreadCount:0};Tr&&(Yo(Wn)&&(Tr.readReceiptInfo.readCount=Wn,Ur.readCount=Wn),Yo(er)&&(Tr.readReceiptInfo.unreadCount=er,Ur.unreadCount=er),jt.push(Ur))})}}else{var Jt="".concat(Ut.CONV_C2C).concat(Ct);Lt.forEach(function(cn){var bn=cn.tinyID,On=cn.clientTime,Fn=cn.random,Wn="".concat(bn,"-").concat(On,"-").concat(Fn),er=ft._messageListHandler.getLocalMessage(Jt,Wn);if(er){er.readReceiptInfo.isPeerRead=!0;var ir={userID:Ct,messageID:Wn,isPeerRead:!0};jt.push(ir)}})}jt.length>0&&this.emitOuterEvent(yn.MESSAGE_READ_RECEIPT_RECEIVED,jt)}}},{key:"recomputeGroupUnreadCount",value:function(at){var ft=at.conversationID,gt=at.count,Ct=this.getLocalConversation(ft);if(Ct){var St=Ct.unreadCount,Dt=St-gt;Dt<0&&(Dt=0),Ct.unreadCount=Dt,sn.l("".concat(this._n,".recomputeGroupUnreadCount from ").concat(St," to ").concat(Dt,", conversationID:").concat(ft))}}},{key:"updateIsRead",value:function(at){var ft=this.getLocalConversation(at),gt=this.getLocalMessageList(at);if(ft&&gt.length!==0&&!Sp(ft.type)){for(var Ct=[],St=0,Dt=gt.length;St<Dt;St++)gt[St].flow!=="in"?gt[St].flow!=="out"||gt[St].isRead||gt[St].setIsRead(!0):Ct.push(gt[St]);var Lt=0;if(ft.type===Ut.CONV_C2C){var jt=Ct.slice(-ft.unreadCount).filter(function(Jt){return Jt.isRevoked}).length;Lt=Ct.length-ft.unreadCount-jt}else Lt=Ct.length-ft.unreadCount;for(var Kt=0;Kt<Lt&&!Ct[Kt].isRead;Kt++)Ct[Kt].setIsRead(!0)}}},{key:"deleteGroupAtTips",value:function(at){var ft=this,gt="".concat(this._n,".deleteGroupAtTips");sn.l("".concat(gt));var Ct=this._conversationMap.get(at);if(!Ct)return Promise.resolve();var St=Ct.groupAtInfoList;if(St.length===0)return Promise.resolve();var Dt=void 0;at.startsWith(Ut.CONV_GROUP)&&(Dt=at.replace(Ut.CONV_GROUP,""));var Lt=Ht(St);if((eu({groupID:Dt})||lu(Dt))&&(Lt=St.filter(function(Kt){return!Kt.atTypeArray.includes(Ut.CONV_AT_ALL)})).length===0)return this.clearGroupAtInfoList(at,!1),Promise.resolve();var jt=this.getMyUserID();return this.request({protocolName:An,requestData:{messageListToDelete:Lt.map(function(Kt){return{from:Kt.from,to:jt,messageSeq:Kt.__sequence,messageRandom:Kt.__random,groupID:fr(Kt.topicID)?Kt.groupID:Kt.topicID}})}}).then(function(){return sn.l("".concat(gt," ok. count:").concat(St.length)),ft.clearGroupAtInfoList(at,!1),Promise.resolve()}).catch(function(Kt){return sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"appendToMessageList",value:function(at){this._messageListHandler.pushIn(at)}},{key:"setMessageRandom",value:function(at){this.singlyLinkedList.set(at.random)}},{key:"deleteMessageRandom",value:function(at){this.singlyLinkedList.delete(at.random)}},{key:"pushIntoMessageList",value:function(at,ft,gt){return!(!this._messageListHandler.pushIn(ft,gt)||this._isMessageFromCurrentInstance(ft)&&!gt)&&(at.push(ft),!0)}},{key:"_isMessageFromCurrentInstance",value:function(at){return this.singlyLinkedList.has(at.random)}},{key:"revoke",value:function(at,ft,gt){return this._messageListHandler.revoke(at,ft,gt)}},{key:"getPeerReadTime",value:function(at){return this._peerReadTimeMap.get(at)}},{key:"recordPeerReadTime",value:function(at,ft){this._peerReadTimeMap.has(at)?this._peerReadTimeMap.get(at)<ft&&this._peerReadTimeMap.set(at,ft):this._peerReadTimeMap.set(at,ft)}},{key:"updateMessageIsPeerReadProperty",value:function(at,ft){if(at.startsWith(Ut.CONV_C2C)&&ft>0){var gt=this._messageListHandler.updateMessageIsPeerReadProperty(at,ft);if(gt.length>0&&this.emitOuterEvent(yn.MESSAGE_READ_BY_PEER,gt),this._conversationMap.has(at)){var Ct=this._conversationMap.get(at).lastMessage;kr(Ct)||Ct.fromAccount===this.getMyUserID()&&Ct.lastTime<=ft&&!Ct.isPeerRead&&(Ct.isPeerRead=!0,this.emitConversationUpdate(!0,!1))}}}},{key:"updateMessageIsModifiedProperty",value:function(at){this._messageListHandler.updateMessageIsModifiedProperty(at)}},{key:"setCompleted",value:function(at){sn.l("".concat(this._n,".setCompleted. conversationID:").concat(at)),this._completedMap.set(at,!0)}},{key:"updateRoamingMessageKeyAndTime",value:function(at,ft,gt){this._roamingMessageKeyAndTimeMap.set(at,{messageKey:ft,lastMessageTime:gt})}},{key:"updateRoamingMessageSequence",value:function(at,ft){this._roamingMessageSequenceMap.set(at,ft)}},{key:"getConversationList",value:function(at){var ft=this,gt="getConversationList",Ct="".concat(this._n,".").concat(gt),St="pagingStatus:".concat(this._pagingStatus,", local conversation count:").concat(this._conversationMap.size,", options:").concat(at);if(sn.l("".concat(Ct,". ").concat(St)),this._pagingStatus===nu.REJECTED){var Dt=new br(gt);return Dt.setMessage(St),this.syncConversationList().then(function(){Dt.setNetworkType(ft.getNetworkType()).end();var Kt=ft._getConversationList(at);return oo({conversationList:Kt,isSyncCompleted:ft._isSyncCompleted()})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Dt.setError(Kt,bn,On).end()}),sn.e("".concat(Ct," failed. error:"),Kt),Xn(Kt)})}if(this._conversationMap.size===0){var Lt=new br(gt);return Lt.setMessage(St),this.syncConversationList().then(function(){Lt.setNetworkType(ft.getNetworkType()).end();var Kt=ft._getConversationList(at);return oo({conversationList:Kt,isSyncCompleted:ft._isSyncCompleted()})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(Ct," failed. error:"),Kt),Xn(Kt)})}var jt=this._getConversationList(at);return sn.l("".concat(Ct,". returned conversation count:").concat(jt.length)),Io({conversationList:jt,isSyncCompleted:this._isSyncCompleted()})}},{key:"_getConversationList",value:function(at){if(fr(at))return this.getLocalConversationList();if(Zr(at))return at.length===0?[]:this.getLocalConversationList().filter(function(St){return at.includes(St.conversationID)});if(ns(at)){var ft=at.type,gt=at.markType,Ct=at.groupName;return this.getLocalConversationList().filter(function(St){return(ft!==Ut.CONV_C2C&&ft!==Ut.CONV_GROUP||St.type===ft)&&(!yo(Ct)||St.conversationGroupList.includes(Ct))&&(!Yo(gt)||St.markList.includes(gt))})}return[]}},{key:"_handleC2CPeerReadTime",value:function(){var at,ft=Cn(this._conversationMap);try{for(ft.s();!(at=ft.n()).done;){var gt=Ft(at.value,2),Ct=gt[0],St=gt[1];St.type===Ut.CONV_C2C&&(sn.d("".concat(this._n,"._handleC2CPeerReadTime conversationID:").concat(Ct," peerReadTime:").concat(St.peerReadTime)),this.recordPeerReadTime(Ct,St.peerReadTime))}}catch(Dt){ft.e(Dt)}finally{ft.f()}}},{key:"_isPagingGetGroupListCompleted",value:function(){return this.getModule(vo).isPagingGetCompleted()}},{key:"_getLocalGroupCount",value:function(){return this.getModule(vo).getLocalGroupList().length}},{key:"_hasLocalGroup",value:function(at){return this.getModule(vo).hasLocalGroup(at.replace(Ut.CONV_GROUP,""))}},{key:"getConversationProfile",value:function(at){var ft,gt=this;if((ft=this._conversationMap.has(at)?this._conversationMap.get(at):new N_({conversationID:at,type:at.slice(0,3)===Ut.CONV_C2C?Ut.CONV_C2C:Ut.CONV_GROUP},this.isIntl()))._isInfoCompleted||ft.type===Ut.CONV_SYSTEM)return Io({conversation:ft});if(mu(at)&&!this._hasLocalGroup(at))return Io({conversation:ft});var Ct="".concat(this._n,".").concat("getConversationProfile"),St=new br("getConversationProfile");return sn.l("".concat(Ct,". conversationID:").concat(at," remark:").concat(ft.remark," lastMessage:"),ft.lastMessage),this._updateUserOrGroupProfileCompletely(ft).then(function(Dt){St.setNetworkType(gt.getNetworkType()).setMessage("conversationID:".concat(at," unreadCount:").concat(Dt.data.conversation.unreadCount)).end();var Lt=gt.getModule(Fs);if(Lt&&ft.type===Ut.CONV_C2C){var jt=at.replace(Ut.CONV_C2C,"");if(Lt.isMyFriend(jt)){var Kt=Lt.getFriendRemark(jt);ft.remark!==Kt&&(ft.remark=Kt,sn.l("".concat(Ct,". conversationID:").concat(at," patch remark:").concat(ft.remark)))}}return sn.l("".concat(Ct," ok. conversationID:").concat(at)),Dt}).catch(function(Dt){return gt.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).setMessage("conversationID:".concat(at)).end()}),sn.e("".concat(Ct," failed. error:"),Dt),Xn(Dt)})}},{key:"_updateUserOrGroupProfileCompletely",value:function(at){var ft=this;return at.type===Ut.CONV_C2C?this.getModule(qr).getUserProfile({userIDList:[at.toAccount]}).then(function(gt){var Ct=gt.data;return Ct.length===0?Xn(new ks({code:pr.USER_OR_GROUP_NOT_FOUND})):(at.userProfile=Ct[0],at._isInfoCompleted=!0,ft._unshiftConversation(at),Io({conversation:at}))}):this.getModule(vo).getGroupProfile({groupID:at.toAccount}).then(function(gt){return at.groupProfile=gt.data.group,at._isInfoCompleted=!0,ft._unshiftConversation(at),Io({conversation:at})})}},{key:"_unshiftConversation",value:function(at){at instanceof N_&&!this._conversationMap.has(at.conversationID)&&(this._conversationMap=new Map([[at.conversationID,at]].concat(Ht(this._conversationMap))),this._setStorageConversationList(),this.emitConversationUpdate(!0,!1))}},{key:"_onProfileUpdated",value:function(at){var ft=this;at.data.forEach(function(gt){var Ct=gt.userID;if(Ct===ft.getMyUserID())ft._onMyProfileModified({latestNick:gt.nick,latestAvatar:gt.avatar});else{var St=ft._conversationMap.get("".concat(Ut.CONV_C2C).concat(Ct));St&&(St.userProfile=gt)}})}},{key:"_isSyncCompleted",value:function(){return this._pagingStatus===nu.RESOLVED}},{key:"_errorLog",value:function(at,ft,gt,Ct){var St=new Error("Params validate failed."),Dt="".concat(this.getErrorMessage("API_REFER")).concat(at);throw sn.w("[".concat(at,"] | ").concat(ft," | ").concat(this.getErrorMessage(gt,Ct),", ").concat(Dt)),sn.e("[".concat(at,"] Invalid ").concat(ft,": type check failed for ").concat(ft,".")),St}},{key:"_isValidConversationID",value:function(at){return rs(at)||mu(at)||Sp(at)}},{key:"deleteConversation",value:function(at){var ft=this,gt="deleteConversation";return yo(at)||Ru(at)||this._errorLog(gt,"options","StringOrObjectRequiredLog"),yo(at)?(this._isValidConversationID(at)||this._errorLog(gt,"options","InvalidConversationID",at),sn.l("".concat(this._n,".").concat(gt," conversationID:").concat(at)),this.deleteConversationList({conversationIDList:[at],flag:1})):(Zr(at.conversationIDList)||this._errorLog(gt,"conversationIDList","ArrayRequiredLog"),at.conversationIDList.length===0&&this._errorLog(gt,"conversationIDList","NonEmptyArrayLog"),at.conversationIDList.forEach(function(Ct){ft._isValidConversationID(Ct)||ft._errorLog(gt,"conversationIDList","InvalidConversationID",Ct)}),"clearHistoryMessage"in at&&typeof at.clearHistoryMessage!="boolean"&&this._errorLog(gt,"clearHistoryMessage","BooleanRequiredLog"),at.conversationIDList.length>100&&(at.conversationIDList=at.conversationIDList.slice(0,100)),this.deleteConversationList(at))}},{key:"deleteConversationList",value:function(at){var ft=this,gt=at.conversationIDList,Ct=gt===void 0?[]:gt,St=at.clearHistoryMessage,Dt=St===void 0||St,Lt=at.flag,jt=Lt===void 0?0:Lt,Kt="".concat(this._n,".").concat("deleteConversationList");sn.l("".concat(Kt," conversationIDList.length:").concat(Ct.length," clearHistoryMessage:").concat(Dt));var Jt=new br("deleteConversationList");return Jt.setMessage("conversationIDList:".concat(Ct)),Promise.all([this.rmLocalOnlyConversationList(Ct),this.rmLocalAndRemoteConversationList(Ct,Dt)]).then(function(cn){Jt.setNetworkType(ft.getNetworkType()).end();var bn=[].concat(Ht(cn[0]),Ht(cn[1]));return bn.length===0?Xn(new ks({code:pr.CONVERSATION_NOT_FOUND})):(sn.l("".concat(Kt," ok")),Io(jt===1?{conversationID:bn[0]}:{conversationIDList:bn}))}).catch(function(cn){return ft.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Jt.setError(cn,Fn,Wn).end()}),sn.e("".concat(Kt," failed. error:"),cn),Xn(cn)})}},{key:"rmLocalOnlyConversationList",value:function(at){var ft=this;return at.filter(function(gt){if(!ft._conversationMap.has(gt))return!1;var Ct=ft.getLocalConversation(gt).type;return Ct!==Ut.CONV_GROUP||ft._hasLocalGroup(gt)?Ct===Ut.CONV_SYSTEM&&(ft.getModule(vo).deleteGroupSystemNotice({messageList:ft._messageListHandler.getLocalMessageList(gt)}),ft.deleteLocalConversation(gt),!0):(ft.deleteLocalConversation(gt),!0)})}},{key:"rmLocalAndRemoteConversationList",value:function(at,ft){var gt=this,Ct={fromAccount:this.getMyUserID(),conversationList:[],clearHistoryMessage:ft?1:0};return at.forEach(function(St){if(gt._conversationMap.has(St)){var Dt=gt.getLocalConversation(St).type;Dt===Ut.CONV_C2C?Ct.conversationList.push({toAccount:St.replace(Dt,""),type:1}):Dt===Ut.CONV_GROUP&&gt._hasLocalGroup(St)&&Ct.conversationList.push({toGroupID:St.replace(Dt,""),type:2})}}),Ct.conversationList.length===0?[]:this.request({protocolName:In,requestData:Ct}).then(function(St){var Dt=[];return St.data.resultList.length>0&&St.data.resultList.map(function(Lt){if(Lt.code===0){var jt=Lt.type===1?"".concat(Ut.CONV_C2C).concat(Lt.to):"".concat(Ut.CONV_GROUP).concat(Lt.groupID);Dt.push(jt)}}),gt.deleteLocalConversationList(Dt),Dt})}},{key:"clearHistoryMessage",value:function(at){var ft=this,gt={fromAccount:this.getMyUserID(),toAccount:void 0,type:void 0,toGroupID:void 0};if(!this._conversationMap.has(at))return Xn({code:pr.CONVERSATION_NOT_FOUND});var Ct=this._conversationMap.get(at).type;if(Ct===Ut.CONV_C2C)gt.type=1,gt.toAccount=at.replace(Ut.CONV_C2C,"");else{if(Ct!==Ut.CONV_GROUP)return Ct===Ut.CONV_SYSTEM?(this.getModule(vo).deleteGroupSystemNotice({messageList:this._messageListHandler.getLocalMessageList(at)}),Io({conversationID:at})):Xn({code:pr.CONVERSATION_UN_RECORDED_TYPE});gt.type=2,gt.toGroupID=at.replace(Ut.CONV_GROUP,"")}var St="".concat(this._n,".").concat("clearHistoryMessage"),Dt=new br("clearHistoryMessage");return Dt.setMessage("conversationID:".concat(at)),sn.l("".concat(St,". conversationID:").concat(at)),this.setMessageRead({conversationID:at}).then(function(){return ft.request({protocolName:Yt,requestData:gt})}).then(function(){Dt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(St," ok")),ft._messageListHandler.removeByConversationID(at),ft.setCompleted(at);var Lt=ft.getLocalConversation(at);return Lt&&(Lt.updateLastMessage(),ft._sortConversationListAndEmitEvent()),Io({conversationID:at})}).catch(function(Lt){return ft.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),sn.e("".concat(St," failed. error:"),Lt),Xn(Lt)})}},{key:"pinConversation",value:function(at){var ft=this,gt=at.conversationID,Ct=at.isPinned;if(!this._conversationMap.has(gt))return Xn({code:pr.CONVERSATION_NOT_FOUND});var St=this.getLocalConversation(gt);if(St.isPinned===Ct)return Io({conversationID:gt});var Dt="".concat(this._n,".").concat("pinConversation"),Lt=new br("pinConversation");Lt.setMessage("conversationID:".concat(gt," isPinned:").concat(Ct)),sn.l("".concat(Dt,". conversationID:").concat(gt," isPinned:").concat(Ct));var jt=null;return rs(gt)?jt={type:1,toAccount:gt.replace(Ut.CONV_C2C,"")}:mu(gt)&&(jt={type:2,groupID:gt.replace(Ut.CONV_GROUP,"")}),this.request({protocolName:gn,requestData:{fromAccount:this.getMyUserID(),operationType:Ct===!0?1:2,itemList:[jt]}}).then(function(){return Lt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(Dt," ok")),St.isPinned!==Ct&&(St.isPinned=Ct,ft._sortConversationListAndEmitEvent()),oo({conversationID:gt})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(Dt," failed. error:"),Kt),Xn(Kt)})}},{key:"setMessageRemindType",value:function(at){return this._messageRemindHandler.set(at)}},{key:"patchMessageRemindType",value:function(at){var ft=at.ID,gt=at.isC2CConversation,Ct=at.messageRemindType,St=!1,Dt=this.getLocalConversation(gt?"".concat(Ut.CONV_C2C).concat(ft):"".concat(Ut.CONV_GROUP).concat(ft));return Dt&&Dt.messageRemindType!==Ct&&(Dt.messageRemindType=Ct,St=!0),sn.d("".concat(this._n,".patchMessageRemindType options:"),at,"ret:".concat(St)),St}},{key:"onC2CMessageRemindTypeSynced",value:function(at){var ft=this,gt="".concat(this._n,".onC2CMessageRemindTypeSynced");sn.d(gt,at),at.dataList.forEach(function(Ct){if(!kr(Ct.muteNotificationsSync)){var St,Dt=Ct.muteNotificationsSync,Lt=Dt.to,jt=Dt.updateSequence,Kt=Dt.muteFlag;ft._messageRemindHandler.setUpdateSequence(jt),Kt===0?St=Ut.MSG_REMIND_ACPT_AND_NOTE:Kt===1?St=Ut.MSG_REMIND_DISCARD:Kt===2&&(St=Ut.MSG_REMIND_ACPT_NOT_NOTE);var Jt=0;ft.patchMessageRemindType({ID:Lt,isC2CConversation:!0,messageRemindType:St})&&(Jt+=1),sn.l("".concat(gt," updateCount:").concat(Jt)),Jt>=1&&ft.emitConversationUpdate(!0,!1)}})}},{key:"onGroupMessageRemindTypeSynced",value:function(at){sn.d("".concat(this._n,".onGroupMessageRemindTypeSynced options:"),at),this._messageRemindHandler.onGroupMessageRemindTypeUpdated(at)}},{key:"deleteLocalConversation",value:function(at){var ft=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],gt=this._conversationMap.has(at);if(sn.d("".concat(this._n,".deleteLocalConversation conversationID:").concat(at," has:").concat(gt)),gt&&(this._conversationMap.delete(at),this._roamingMessageKeyAndTimeMap.has(at)&&this._roamingMessageKeyAndTimeMap.delete(at),this._roamingMessageSequenceMap.has(at)&&this._roamingMessageSequenceMap.delete(at),this._setStorageConversationList(),this._messageListHandler.removeByConversationID(at),this._completedMap.delete(at),ft)){var Ct=!this._isTopicConversation(at);this.emitConversationUpdate(Ct,!1)}}},{key:"deleteLocalConversationList",value:function(at){var ft=this,gt=0,Ct=!1;at.forEach(function(St){ft._conversationMap.has(St)&&(gt+=ft._conversationMap.get(St).unreadCount||0,ft.deleteLocalConversation(St,!1),Ct=!0)}),sn.l("".concat(this._n,".deleteLocalConversationList conversationIDList.length:").concat(at.length," isConvIDExisted:").concat(Ct)),Ct&&(this.emitConversationUpdate(!0,!1),gt>0&&this.emitTotalUnreadMessageCountUpdate())}},{key:"isMessageSentByCurrentInstance",value:function(at){return!(!this._messageListHandler.hasLocalMessage(at.conversationID,at.ID)&&!this.singlyLinkedList.has(at.random))}},{key:"modifyMessageList",value:function(at){if(at.startsWith(Ut.CONV_C2C)&&this._conversationMap.has(at)){var ft=this._conversationMap.get(at),gt=Date.now();this._messageListHandler.modifyMessageSentByPeer({conversationID:at,latestNick:ft.userProfile.nick,latestAvatar:ft.userProfile.avatar});var Ct=this.getModule(qr).getNickAndAvatarByUserID(this.getMyUserID());this._messageListHandler.modifyMessageSentByMe({conversationID:at,latestNick:Ct.nick,latestAvatar:Ct.avatar}),sn.l("".concat(this._n,".modifyMessageList conversationID:").concat(at," cost ").concat(Date.now()-gt," ms"))}}},{key:"updateUserProfileSpecifiedKey",value:function(at){sn.l("".concat(this._n,".updateUserProfileSpecifiedKey options:"),at);var ft=at.conversationID,gt=at.nick,Ct=at.avatar;if(this._conversationMap.has(ft)){var St=this._conversationMap.get(ft).userProfile;yo(gt)&&St.nick!==gt&&(St.nick=gt),yo(Ct)&&St.avatar!==Ct&&(St.avatar=Ct),this.emitConversationUpdate(!0,!1)}}},{key:"_onMyProfileModified",value:function(at){var ft=this,gt=this.getLocalConversationList(),Ct=Date.now();gt.forEach(function(St){ft.modifyMessageSentByMe(rt({conversationID:St.conversationID},at))}),sn.l("".concat(this._n,"._onMyProfileModified. modify all messages sent by me, cost ").concat(Date.now()-Ct," ms"))}},{key:"modifyMessageSentByMe",value:function(at){this._messageListHandler.modifyMessageSentByMe(at)}},{key:"getLatestMessageSentByMe",value:function(at){return this._messageListHandler.getLatestMessageSentByMe(at)}},{key:"modifyMessageSentByPeer",value:function(at){this._messageListHandler.modifyMessageSentByPeer(at)}},{key:"getLatestMessageSentByPeer",value:function(at){return this._messageListHandler.getLatestMessageSentByPeer(at)}},{key:"pushIntoNoticeResult",value:function(at,ft){return!(!this._messageListHandler.pushIn(ft)||this.singlyLinkedList.has(ft.random))&&(at.push(ft),!0)}},{key:"getLocalLastMessage",value:function(at){return this._messageListHandler.getLocalLastMessage(at)}},{key:"checkAndPatchRemark",value:function(){var at=Promise.resolve();if(this._conversationMap.size===0)return at;var ft=this.getModule(Fs);if(!ft)return at;var gt=Ht(this._conversationMap.values()).filter(function(St){return St.type===Ut.CONV_C2C});if(gt.length===0)return at;var Ct=0;return gt.forEach(function(St){var Dt=St.conversationID.replace(Ut.CONV_C2C,"");if(ft.isMyFriend(Dt)){var Lt=ft.getFriendRemark(Dt);St.remark!==Lt&&(St.remark=Lt,Ct+=1)}}),sn.l("".concat(this._n,".checkAndPatchRemark. c2c conversation count:").concat(gt.length,", patched count:").concat(Ct)),at}},{key:"updateTopicConversation",value:function(at){this._updateLocalConversationList({conversationOptionsList:at,isFromGetConversations:!0})}},{key:"sendReadReceipt",value:function(at){var ft=at[0],gt=null;return ft.conversationType===Ut.CONV_C2C?gt=this._m.getModule(To):ft.conversationType===Ut.CONV_GROUP&&(gt=this._m.getModule(vo)),gt?gt.sendReadReceipt(at):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"getReadReceiptList",value:function(at){var ft=at[0],gt=null;return ft.conversationType===Ut.CONV_C2C?gt=this._m.getModule(To):ft.conversationType===Ut.CONV_GROUP&&(gt=this._m.getModule(vo)),gt?gt.getReadReceiptList(at):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"getLastMessageTime",value:function(at){var ft=this.getLocalConversation(at);return ft?ft.lastMessage.lastTime:0}},{key:"getTotalUnreadMessageCount",value:function(){var at=this.getLocalConversationList(),ft=0;return at.forEach(function(gt){gt.type!==Ut.CONV_SYSTEM&&(gt.messageRemindType!==""&&gt.messageRemindType!==Ut.MSG_REMIND_ACPT_AND_NOTE||(ft+=gt.unreadCount))}),ft}},{key:"emitTotalUnreadMessageCountUpdate",value:function(){var at=this.getTotalUnreadMessageCount();this._convTotalUnreadCount!==at&&(sn.l("".concat(this._n,".emitTotalUnreadMessageCountUpdate from ").concat(this._convTotalUnreadCount," to ").concat(at)),this._convTotalUnreadCount=at,this.emitOuterEvent(yn.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED))}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._pagingStatus=nu.NOT_START,this._messageListHandler.reset(),this._messageRemindHandler.reset(),this._roamingMessageKeyAndTimeMap.clear(),this._roamingMessageSequenceMap.clear(),this.singlyLinkedList.reset(),this._peerReadTimeMap.clear(),this._completedMap.clear(),this._conversationMap.clear(),this._pagingTimeStamp=0,this._pagingStartIndex=0,this._pagingPinnedTimeStamp=0,this._pagingPinnedStartIndex=0,this._remoteGroupReadSequenceMap.clear(),this._convTotalUnreadCount=0,this._pagingGetCostList.length=0,this.resetReady()}}]),_t}(Ys),l0=function(){function Nt(ut){it(this,Nt),this._groupModule=ut,this._n="GroupTipsHandler",this._cachedGroupTipsMap=new Map,this._checkCountMap=new Map,this.MAX_CHECK_COUNT=4,this._getTopicPendingMap=new Map}return lt(Nt,[{key:"onCheckTimer",value:function(ut){ut%1==0&&this._cachedGroupTipsMap.size>0&&this._checkCachedGroupTips()}},{key:"_checkCachedGroupTips",value:function(){var ut=this;this._cachedGroupTipsMap.forEach(function(_t,at){var ft=ut._checkCountMap.get(at),gt=ut._groupModule.hasLocalGroup(at);sn.l("".concat(ut._n,"._checkCachedGroupTips groupID:").concat(at," hasLocalGroup:").concat(gt," checkCount:").concat(ft)),gt?(ut._notifyCachedGroupTips(at),ut._checkCountMap.delete(at),ut._groupModule.deleteUnjoinedAVChatRoom(at)):ft>=ut.MAX_CHECK_COUNT?(ut._deleteCachedGroupTips(at),ut._checkCountMap.delete(at)):(ft++,ut._checkCountMap.set(at,ft))})}},{key:"onNewGroupTips",value:function(ut){sn.d("".concat(this._n,".onReceiveGroupTips count:").concat(ut.dataList.length));var _t=this.newGroupTipsStoredAndSummary(ut),at=_t.eventDataList,ft=_t.result,gt=_t.AVChatRoomMessageList;gt.length>0&&this._groupModule.onAVChatRoomMessage(gt),at.length>0&&(this._groupModule.updateNextMessageSeq(at),this._groupModule.getModule(no).onNewMessage({conversationOptionsList:at,isInstantMessage:!0})),ft.length>0&&(this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,ft),this.handleMessageList(ft))}},{key:"newGroupTipsStoredAndSummary",value:function(ut){for(var _t=this,at=ut.event,ft=ut.dataList,gt=null,Ct=[],St=[],Dt={},Lt=[],jt=function(cn,bn){var On=Au(ft[cn]);if(at===6&&(_t._groupModule.isGroupAttributesUpdatedNotice(On)||_t._groupModule.isGroupCountersNotice(On)))return"continue";var Fn=On.groupProfile,Wn=Fn.groupID,er=Fn.communityType,ir=er===void 0?0:er,Tr=Fn.topicID,Ur=Tr===void 0?void 0:Tr,zr=Fn.invisible,co=void 0,$o=_t._groupModule.isMessageFromTopic(ir,Ur);if($o){co=Ut.CONV_TOPIC,On.to=Ur;var Ho=_t._groupModule.getModule(gs);Ho.hasLocalTopic(Wn,Ur)||_t._getTopicPendingMap.has(Ur)||(_t._getTopicPendingMap.set(Ur,1),Ho.getTopicList({groupID:Wn,topicIDList:[Ur]}).finally(function(){_t._getTopicPendingMap.delete(Ur)}))}var Ro=_t._groupModule.hasLocalGroup(Wn);if(!Ro&&_t._groupModule.isUnjoinedAVChatRoom(Wn))return"continue";if(!Ro&&!$o)return _t._cacheGroupTipsAndProbe({groupID:Wn,event:at,item:On}),"continue";if(_t._groupModule.isMessageFromOrToAVChatroom(Wn))return On.event=at,Lt.push(On),"continue";if(On.currentUser=_t._groupModule.getMyUserID(),On.conversationType=Ut.CONV_GROUP,(gt=new wu(On)).setElement({type:Ut.MSG_GRP_TIP,content:rt(rt({},On.elements),{},{groupProfile:On.groupProfile})}),gt.isSystemMessage=!1,zr===1)return _t._qualityStat(gt),"continue";var ts=_t._groupModule.getModule(no),Iu=gt,Xu=Iu.conversationID,$u=Iu.sequence;if(at===6)gt._onlineOnlyFlag=!0,St.push(gt);else if(!ts.pushIntoNoticeResult(St,gt))return"continue";if(_t._groupModule.isMessageFromCommunityOfTopic(ir,Ur)||at===6&&ts.getLocalConversation(Xu))return"continue";at!==6&&_t._qualityStat(gt);var Vu=ts.isRemoteRead({conversationID:Xu,sequence:$u});if(fr(Dt[Xu])){var Xl=0;gt.flow==="in"&&(gt._isExcludedFromUnreadCount||gt._onlineOnlyFlag||Vu||(Xl=1)),Dt[Xu]=Ct.push({conversationID:Xu,unreadCount:Xl,type:fr(co)?gt.conversationType:co,subType:gt.conversationSubType,lastMessage:gt._isExcludedFromLastMessage?"":gt})-1}else{var sm=Dt[Xu];Ct[sm].type=gt.conversationType,Ct[sm].subType=gt.conversationSubType,Ct[sm].lastMessage=gt._isExcludedFromLastMessage?"":gt,gt.flow==="in"&&(gt._isExcludedFromUnreadCount||gt._onlineOnlyFlag||Vu||Ct[sm].unreadCount++)}},Kt=0,Jt=ft.length;Kt<Jt;Kt++)jt(Kt);return{eventDataList:Ct,result:St,AVChatRoomMessageList:Lt}}},{key:"_qualityStat",value:function(ut){this._groupModule.getModule(pu).addMessageSequence({key:bm,message:ut})}},{key:"handleMessageList",value:function(ut){var _t=this;ut.forEach(function(at){switch(at.payload.operationType){case 1:_t._onNewMemberComeIn(at);break;case 2:_t._onMemberQuit(at);break;case 3:_t._onMemberKickedOut(at);break;case 4:_t._onMemberSetAdmin(at);break;case 5:_t._onMemberCancelledAdmin(at);break;case 6:_t._onGroupProfileModified(at);break;case 7:_t._onMemberInfoModified(at);break;case 8:_t._onTopicProfileUpdated(at);break;default:sn.w("".concat(_t._n,".handleMessageList unknown operationType:").concat(at.payload.operationType))}})}},{key:"_onNewMemberComeIn",value:function(ut){var _t=ut.payload,at=_t.memberNum,ft=_t.groupProfile.groupID,gt=this._groupModule.getLocalGroupProfile(ft);gt&&Yo(at)&&gt.memberCount!==at&&(gt.memberCount=at,this._updateConversationGroupProfile(gt))}},{key:"_onMemberQuit",value:function(ut){var _t=ut.payload,at=_t.memberNum,ft=_t.groupProfile.groupID,gt=this._groupModule.getLocalGroupProfile(ft);gt&&Yo(at)&&gt.memberCount!==at&&(gt.memberCount=at,this._updateConversationGroupProfile(gt)),this._groupModule.getModule(Rs).deleteLocalGroupMembers(ft,ut.payload.userIDList)}},{key:"_onMemberKickedOut",value:function(ut){var _t=ut.payload,at=_t.memberNum,ft=_t.groupProfile.groupID,gt=this._groupModule.getLocalGroupProfile(ft);gt&&Yo(at)&&gt.memberCount!==at&&(gt.memberCount=at,this._updateConversationGroupProfile(gt)),this._groupModule.getModule(Rs).deleteLocalGroupMembers(ft,ut.payload.userIDList)}},{key:"_updateConversationGroupProfile",value:function(ut){this._groupModule.getModule(no).updateConversationGroupProfile([ut])}},{key:"_onMemberSetAdmin",value:function(ut){var _t=ut.payload.groupProfile.groupID,at=ut.payload.userIDList,ft=this._groupModule.getModule(Rs);at.forEach(function(gt){var Ct=ft.getLocalGroupMemberInfo(_t,gt);Ct&&Ct.updateRole(Ut.GRP_MBR_ROLE_ADMIN)})}},{key:"_onMemberCancelledAdmin",value:function(ut){var _t=ut.payload.groupProfile.groupID,at=ut.payload.userIDList,ft=this._groupModule.getModule(Rs);at.forEach(function(gt){var Ct=ft.getLocalGroupMemberInfo(_t,gt);Ct&&Ct.updateRole(Ut.GRP_MBR_ROLE_MEMBER)})}},{key:"_onGroupProfileModified",value:function(ut){var _t=this,at=ut.payload,ft=at.newGroupProfile,gt=at.groupProfile.groupID,Ct=this._groupModule.getLocalGroupProfile(gt);Object.keys(ft).forEach(function(Dt){switch(Dt){case"ownerID":_t._ownerChanged(Ct,ft);break;case"groupName":Ct.name=ft[Dt];break;default:Ct[Dt]=ft[Dt]}});var St=!Ct.isSupportTopic;this._groupModule.emitGroupListUpdate(!0,St)}},{key:"_ownerChanged",value:function(ut,_t){var at=ut.groupID,ft=this._groupModule.getLocalGroupProfile(at),gt=this._groupModule.getMyUserID();if(gt===_t.ownerID){ft.updateGroup({selfInfo:{role:Ut.GRP_MBR_ROLE_OWNER}});var Ct=this._groupModule.getModule(Rs),St=Ct.getLocalGroupMemberInfo(at,gt),Dt=this._groupModule.getLocalGroupProfile(at).ownerID,Lt=Ct.getLocalGroupMemberInfo(at,Dt);St&&St.updateRole(Ut.GRP_MBR_ROLE_OWNER),Lt&&Lt.updateRole(Ut.GRP_MBR_ROLE_MEMBER)}}},{key:"_onMemberInfoModified",value:function(ut){var _t=ut.to,at=ut.payload,ft=at.groupProfile,gt=at.memberList,Ct=ft.groupID;lu(_t)&&this._updateTopicMuteTime(ut);var St=this._groupModule.getModule(Rs);gt.forEach(function(Dt){var Lt=St.getLocalGroupMemberInfo(Ct,Dt.userID);Lt&&Yo(Dt.muteTime)&&Lt.updateMuteUntil(Dt.muteTime)})}},{key:"_updateTopicMuteTime",value:function(ut){var _t=ut.to,at=ut.payload,ft=at.groupProfile,gt=at.memberList,Ct=gt===void 0?[]:gt,St=this._groupModule.getModule(gs),Dt=ft.groupID,Lt=St.getLocalTopic(Dt,_t);if(Lt){for(var jt=!1,Kt=0;Kt<Ct.length;Kt++){var Jt=Ct[Kt];if(Jt.userID===this._groupModule.getMyUserID()&&Jt.muteTime>=0){Lt.updateSelfInfo({muteTime:Jt.muteTime}),jt=!0;break}}jt&&this._groupModule.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:Dt,topic:Lt})}}},{key:"_onTopicProfileUpdated",value:function(ut){var _t=ut.payload,at=_t.groupProfile.groupID,ft=_t.newTopicInfo;this._groupModule.getModule(gs).onTopicProfileUpdated(rt({groupID:at,topicID:ut.to},ft))}},{key:"_cacheGroupTips",value:function(ut,_t){this._cachedGroupTipsMap.has(ut)||this._cachedGroupTipsMap.set(ut,[]),this._cachedGroupTipsMap.get(ut).push(_t)}},{key:"_deleteCachedGroupTips",value:function(ut){this._cachedGroupTipsMap.has(ut)&&this._cachedGroupTipsMap.delete(ut)}},{key:"_notifyCachedGroupTips",value:function(ut){var _t=this,at=this._cachedGroupTipsMap.get(ut)||[];at.forEach(function(ft){_t.onNewGroupTips(ft)}),this._deleteCachedGroupTips(ut),sn.l("".concat(this._n,"._notifyCachedGroupTips groupID:").concat(ut," count:").concat(at.length))}},{key:"_cacheGroupTipsAndProbe",value:function(ut){var _t=this,at=ut.groupID,ft=ut.event,gt=ut.item;this._cacheGroupTips(at,{event:ft,dataList:[gt]}),this._groupModule.getGroupSimplifiedInfo(at).then(function(Ct){Ct.type===Ut.GRP_AVCHATROOM?_t._groupModule.hasLocalGroup(at)?_t._notifyCachedGroupTips(at):_t._groupModule.setUnjoinedAVChatRoom(at):(_t._groupModule.updateGroupMap([Ct]),_t._notifyCachedGroupTips(at))}),this._checkCountMap.has(at)||this._checkCountMap.set(at,0),sn.l("".concat(this._n,"._cacheGroupTipsAndProbe groupID:").concat(at))}},{key:"reset",value:function(){this._cachedGroupTipsMap.clear(),this._checkCountMap.clear(),this._getTopicPendingMap.clear()}}]),Nt}(),cv=function(){function Nt(ut){it(this,Nt),this._groupModule=ut,this._n="CommonGroupHandler",this.tempConversationList=null,this._cachedGroupMessageMap=new Map,this._checkCountMap=new Map,this.MAX_CHECK_COUNT=4,this._getTopicPendingMap=new Map,this._isPagingGetCompleted=!1,ut.getInnerEmitterInstance().once(Yl,this._initGroupList,this)}return lt(Nt,[{key:"onCheckTimer",value:function(ut){ut%1==0&&this._cachedGroupMessageMap.size>0&&this._checkCachedGroupMessage()}},{key:"_checkCachedGroupMessage",value:function(){var ut=this;this._cachedGroupMessageMap.forEach(function(_t,at){var ft=ut._checkCountMap.get(at),gt=ut._groupModule.hasLocalGroup(at);sn.l("".concat(ut._n,"._checkCachedGroupMessage groupID:").concat(at," hasLocalGroup:").concat(gt," checkCount:").concat(ft)),gt?(ut._notifyCachedGroupMessage(at),ut._checkCountMap.delete(at),ut._groupModule.deleteUnjoinedAVChatRoom(at)):ft>=ut.MAX_CHECK_COUNT?(ut._deleteCachedGroupMessage(at),ut._checkCountMap.delete(at)):(ft++,ut._checkCountMap.set(at,ft))})}},{key:"_initGroupList",value:function(){var ut=this;sn.l("".concat(this._n,"._initGroupList"));var _t=new br("getGroupListInStorage"),at=this._groupModule.getStorageGroupList();if(Zr(at)&&at.length>0){at.forEach(function(gt){ut._groupModule.initGroupMap(gt)}),this._groupModule.emitGroupListUpdate(!0,!1);var ft=this._groupModule.getLocalGroupList().length;_t.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:".concat(ft)).end()}else _t.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:0").end();sn.l("".concat(this._n,"._initGroupList ok"))}},{key:"handleUpdateGroupLastMessage",value:function(ut){var _t="".concat(this._n,".handleUpdateGroupLastMessage");if(sn.l("".concat(_t," conversation count:").concat(ut.length,", local group count:").concat(this._groupModule.getLocalGroupList().length)),this._groupModule.getGroupMap().size!==0){for(var at,ft,gt,Ct=!1,St=0,Dt=ut.length;St<Dt;St++)(at=ut[St]).type===Ut.CONV_GROUP&&(ft=at.conversationID.split(/^GROUP/)[1],(gt=this._groupModule.getLocalGroupProfile(ft))&&(gt.lastMessage=rt({},at.lastMessage),Ct=!0));Ct&&(this._groupModule.sortLocalGroupList(),this._groupModule.emitGroupListUpdate(!0,!1))}else this.tempConversationList=ut}},{key:"onNewGroupMessage",value:function(ut){sn.d("".concat(this._n,".onNewGroupMessage count:").concat(ut.dataList.length));var _t=this._newGroupMessageStoredAndSummary(ut),at=_t.conversationOptionsList,ft=_t.messageList,gt=_t.AVChatRoomMessageList;gt.length>0&&this._groupModule.onAVChatRoomMessage(gt),this._groupModule.filterModifiedMessage(ft),at.length>0&&(this._groupModule.updateNextMessageSeq(at),this._groupModule.getModule(no).onNewMessage({conversationOptionsList:at,isInstantMessage:ut.isInstantMessage||!0,updateUnreadCount:ut.updateUnreadCount||!0}));var Ct=this._groupModule.filterUnmodifiedMessage(ft);Ct.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,Ct),ft.length=0}},{key:"_newGroupMessageStoredAndSummary",value:function(ut){var _t=this,at=ut.dataList,ft=ut.event,gt=ut.isInstantMessage,Ct=null,St=[],Dt=[],Lt=[],jt={},Kt=this._groupModule.getModule(fp),Jt=this._groupModule.getFileDownloadProxy(),cn=at.length;cn>1&&at.sort(function(Fn,Wn){return Fn.sequence-Wn.sequence});for(var bn=function(Fn){var Wn=Au(at[Fn]),er=Wn.groupProfile,ir=er.groupID,Tr=er.communityType,Ur=Tr===void 0?0:Tr,zr=er.topicID,co=zr===void 0?void 0:zr,$o=er.invisible,Ho=void 0,Ro=_t._groupModule.isMessageFromTopic(Ur,co);if(Ro){Ho=Ut.CONV_TOPIC,Wn.to=co;var ts=_t._groupModule.getModule(gs);ts.hasLocalTopic(ir,co)||_t._getTopicPendingMap.has(co)||(_t._getTopicPendingMap.set(co,1),ts.getTopicList({groupID:ir,topicIDList:[co]}).finally(function(){_t._getTopicPendingMap.delete(co)}))}var Iu=_t._groupModule.hasLocalGroup(ir);if(!Iu&&_t._groupModule.isUnjoinedAVChatRoom(ir))return"continue";if(!Iu&&!Ro)return _t._cacheGroupMessageAndProbe({groupID:ir,event:ft,item:Wn}),"continue";if(_t._groupModule.isMessageFromOrToAVChatroom(ir))return Wn.event=ft,Lt.push(Wn),"continue";if(Wn.currentUser=_t._groupModule.getMyUserID(),Wn.conversationType=Ut.CONV_GROUP,Wn.isSystemMessage=!!Wn.isSystemMessage,Ct=new wu(Wn),Wn.elements=Kt.parseElements(Wn.elements,Wn.from),Ct.setElement(Wn.elements,Jt),$o===1)return _t._qualityStat(gt,Ct),"continue";var Xu=at[Fn].isModified===1,$u=_t._groupModule.getModule(no);if($u.isMessageSentByCurrentInstance(Ct)?Ct.isModified=Xu:Xu=!1,Wn.onlineOnlyFlag===1)Ct._onlineOnlyFlag=!0,$u.isMessageSentByCurrentInstance(Ct)||Dt.push(Ct);else{if(_t._groupModule.isMessageFromCommunityOfTopic(Ur,co))return Dt.push(Ct),"continue";if(!$u.pushIntoMessageList(Dt,Ct,Xu))return"continue";_t._qualityStat(gt,Ct);var Vu=Ct,Xl=Vu.conversationID,sm=Vu.sequence,Sv=$u.isRemoteRead({conversationID:Xl,sequence:sm});if(fr(jt[Xl])){var o0=0;Ct.flow==="in"&&(Ct._isExcludedFromUnreadCount||Sv||(o0=1)),jt[Xl]=St.push({conversationID:Xl,unreadCount:o0,type:fr(Ho)?Ct.conversationType:Ho,subType:Ct.conversationSubType,lastMessage:Ct._isExcludedFromLastMessage?"":Ct})-1}else{var Iv=jt[Xl];St[Iv].type=fr(Ho)?Ct.conversationType:Ho,St[Iv].subType=Ct.conversationSubType,St[Iv].lastMessage=Ct._isExcludedFromLastMessage?"":Ct,Ct.flow==="in"&&(Ct._isExcludedFromUnreadCount||Sv||St[Iv].unreadCount++)}}},On=0;On<cn;On++)bn(On);return{conversationOptionsList:St,messageList:Dt,AVChatRoomMessageList:Lt}}},{key:"_qualityStat",value:function(ut,_t){var at=this._groupModule.getModule(pu);at.addMessageSequence({key:bm,message:_t}),ut&&_t.clientTime>0&&at.addMessageDelay(_t.clientTime)}},{key:"onGroupMessageRevoked",value:function(ut){var _t=this._groupModule.getModule(no),at=[],ft=null,gt=!0;ut.dataList.forEach(function(Ct){var St=Ct.elements.revokedInfos;fr(St)||St.forEach(function(Dt){var Lt=kr(Dt.topicID)?"GROUP".concat(Dt.groupID):"GROUP".concat(Dt.topicID);ft=_t.revoke(Lt,Dt.sequence,Dt.random);var jt=Dt.revokerInfo&&Dt.revokerInfo.revoker;if(ft)ft.revoker=jt,at.push(ft);else{var Kt={conversationID:Lt,to:Dt.topicID||"",sequence:Dt.sequence,time:Dt.time,revoker:jt};_t.isLastMessageRevoked(Kt)&&(at.push(Kt),gt=!1)}})}),at.length!==0&&(_t.onMessageRevoked(at),gt===!0&&(sn.l("".concat(this._n,".onGroupMessageRevoked count:").concat(at.length)),this._groupModule.emitOuterEvent(yn.MESSAGE_REVOKED,at)))}},{key:"_groupListTreeShaking",value:function(ut){for(var _t=new Map(Ht(this._groupModule.getGroupMap())),at=0,ft=ut.length;at<ft;at++)_t.delete(ut[at].groupID);this._groupModule.hasJoinedAVChatRoom()&&this._groupModule.getJoinedAVChatRoom().forEach(function(Dt){_t.delete(Dt)}),this._groupModule.getGroupMap().forEach(function(Dt,Lt){Dt.isSupportTopic&&_t.delete(Lt)});for(var gt=Ht(_t.keys()),Ct=0,St=gt.length;Ct<St;Ct++)this._groupModule.deleteGroup(gt[Ct])}},{key:"getGroupList",value:function(ut){var _t=this,at="".concat(this._n,".").concat("getGroupList"),ft=new br("getGroupList");sn.l("".concat(at));var gt={introduction:"Introduction",notification:"Notification",createTime:"CreateTime",ownerID:"Owner_Account",lastInfoTime:"LastInfoTime",memberNum:"MemberNum",maxMemberNum:"MaxMemberNum",joinOption:"ApplyJoinOption",inviteOption:"InviteJoinOption",muteAllMembers:"ShutUpAllMember"},Ct=["Type","Name","FaceUrl","NextMsgSeq","LastMsgTime","AtInfoList","LastRecallTime"],St=[];ut&&ut.groupProfileFilter&&ut.groupProfileFilter.forEach(function(jt){gt[jt]&&Ct.push(gt[jt])});var Dt=(ut||{}).isGroupWithTopicOnly,Lt=Dt!==void 0&&Dt;return this._pagingGetGroupList({limit:50,offset:0,groupBaseInfoFilter:Ct,groupList:St,isGroupWithTopicOnly:Lt}).then(function(){sn.l("".concat(at," ok. count:").concat(St.length," isGroupWithTopicOnly:").concat(Lt)),Lt||_t._groupListTreeShaking(St),_t._groupModule.updateGroupMap(St);var jt=_t._groupModule.getLocalGroupList().length;ft.setNetworkType(_t._groupModule.getNetworkType()).setMessage("remote count:".concat(St.length,", after tree shaking, local count:").concat(jt,", isGroupWithTopicOnly:").concat(Lt)).end(),_t.tempConversationList&&(_t.handleUpdateGroupLastMessage(_t.tempConversationList),_t.tempConversationList=null),_t._groupModule.patchGroupMessageRemindType(),_t._groupModule.recomputeUnreadCount(),_t._groupModule.emitGroupListUpdate(!0,!Lt);var Kt=_t._groupModule.getLocalGroupList();if(Lt){var Jt=Kt.filter(function(cn){return cn.isSupportTopic===!0});return oo({groupList:Jt})}return _t._isPagingGetCompleted=!0,oo({groupList:Kt})}).catch(function(jt){return _t._groupModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];ft.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"isPagingGetCompleted",value:function(){return this._isPagingGetCompleted}},{key:"_pagingGetGroupList",value:function(ut){var _t=this,at="".concat(this._n,".").concat("_pagingGetGroupList"),ft=ut.isCommunityRelay,gt=ft!==void 0&&ft,Ct=ut.isGroupWithTopicOnly,St=Ct!==void 0&&Ct,Dt=ut.limit,Lt=ut.offset,jt=ut.groupBaseInfoFilter,Kt=ut.groupList;if(St)return this._pagingGetGroupListWithTopic({limit:Dt,offset:Lt,groupBaseInfoFilter:jt,groupList:Kt});var Jt=new br("_pagingGetGroupList");return this._groupModule.request({protocolName:ro,requestData:{type:gt?Ut.GRP_COMMUNITY:void 0,memberAccount:this._groupModule.getMyUserID(),limit:Dt,offset:Lt,responseFilter:{groupBaseInfoFilter:jt,selfInfoFilter:["Role","JoinTime","MsgFlag","MsgSeq"]}}}).then(function(cn){var bn=cn.data,On=bn.groups,Fn=On===void 0?[]:On,Wn=bn.totalCount;Kt.push.apply(Kt,Ht(Fn)),_t._handleGroupAtInfoWithoutTopic(gt,Fn);var er=Lt+Dt,ir=!(Wn>er),Tr="offset:".concat(Lt," totalCount:").concat(Wn," isCompleted:").concat(ir," ")+"currentCount:".concat(Kt.length," isCommunityRelay:").concat(gt);return Jt.setNetworkType(_t._groupModule.getNetworkType()).setMessage("".concat(Tr)).end(),gt||ir?!gt&&ir?(sn.l("".concat(at," start to get community list")),Lt=0,_t._pagingGetGroupList({limit:Dt,offset:Lt,groupBaseInfoFilter:jt,groupList:Kt,isCommunityRelay:!0})):gt&&!ir?(Lt=er,_t._pagingGetGroupList({limit:Dt,offset:Lt,groupBaseInfoFilter:jt,groupList:Kt,isCommunityRelay:!0})):(sn.l("".concat(at," ok. totalCount:").concat(Kt.length)),oo({groupList:Kt})):(Lt=er,_t._pagingGetGroupList({limit:Dt,offset:Lt,groupBaseInfoFilter:jt,groupList:Kt}))}).catch(function(cn){return cn.code!==11e3&&_t._groupModule.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Jt.setMessage("isCommunityRelay:".concat(gt)).setError(cn,Fn,Wn).end()}),gt?(cn.code===11e3&&(Jt=null,sn.l("".concat(at," ok. community unavailable"))),Io({groupList:Kt})):Xn(cn)})}},{key:"_pagingGetGroupListWithTopic",value:function(ut){var _t=this,at="".concat(this._n,"._pagingGetGroupListWithTopic"),ft=ut.limit,gt=ut.offset,Ct=ut.groupBaseInfoFilter,St=ut.groupList,Dt=new br("pagingGetGroupListWithTopic");return this._groupModule.request({protocolName:ro,requestData:{type:Ut.GRP_COMMUNITY,memberAccount:this._groupModule.getMyUserID(),limit:ft,offset:gt,responseFilter:{groupBaseInfoFilter:Ct,selfInfoFilter:["Role","JoinTime","MsgFlag","MsgSeq"]},isSupportTopic:1}}).then(function(Lt){var jt=Lt.data,Kt=jt.groups,Jt=Kt===void 0?[]:Kt,cn=jt.totalCount;St.push.apply(St,Ht(Jt));var bn=gt+ft,On=!(cn>bn),Fn="offset:".concat(gt," totalCount:").concat(cn," isCompleted:").concat(On," ")+"currentCount:".concat(St.length);return Dt.setNetworkType(_t._groupModule.getNetworkType()).setMessage("".concat(Fn)).end(),On?(sn.l("".concat(at," ok. totalCount:").concat(St.length)),oo({groupList:St})):(gt=bn,_t._pagingGetGroupListWithTopic({limit:ft,offset:gt,groupBaseInfoFilter:Ct,groupList:St}))}).catch(function(Lt){return _t._groupModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),Xn(Lt)})}},{key:"_cacheGroupMessage",value:function(ut,_t){this._cachedGroupMessageMap.has(ut)||this._cachedGroupMessageMap.set(ut,[]),this._cachedGroupMessageMap.get(ut).push(_t)}},{key:"_deleteCachedGroupMessage",value:function(ut){this._cachedGroupMessageMap.has(ut)&&this._cachedGroupMessageMap.delete(ut)}},{key:"_notifyCachedGroupMessage",value:function(ut){var _t=this,at=this._cachedGroupMessageMap.get(ut)||[];at.forEach(function(ft){_t.onNewGroupMessage(ft)}),this._deleteCachedGroupMessage(ut),sn.l("".concat(this._n,"._notifyCachedGroupMessage groupID:").concat(ut," count:").concat(at.length))}},{key:"_cacheGroupMessageAndProbe",value:function(ut){var _t=this,at=ut.groupID,ft=ut.event,gt=ut.item;this._cacheGroupMessage(at,{event:ft,dataList:[gt]}),this._groupModule.getGroupSimplifiedInfo(at).then(function(Ct){Ct.type===Ut.GRP_AVCHATROOM?_t._groupModule.hasLocalGroup(at)?_t._notifyCachedGroupMessage(at):_t._groupModule.setUnjoinedAVChatRoom(at):(_t._groupModule.updateGroupMap([Ct]),_t._notifyCachedGroupMessage(at))}),this._checkCountMap.has(at)||this._checkCountMap.set(at,0),sn.l("".concat(this._n,"._cacheGroupMessageAndProbe groupID:").concat(at))}},{key:"_handleGroupAtInfoWithoutTopic",value:function(ut,_t){var at=this;ut&&_t.length!==0&&_t.forEach(function(ft){var gt=ft.groupID,Ct=ft.groupAtInfoList,St=[];fr(Ct)||(Ct.forEach(function(Dt){St.push(rt(rt({},Dt),{},{groupID:gt}))}),at._groupModule.getModule(no).onNewGroupAtTips({dataList:St}))})}},{key:"reset",value:function(){this._cachedGroupMessageMap.clear(),this._checkCountMap.clear(),this._getTopicPendingMap.clear(),this._isPagingGetCompleted=!1,this._groupModule.getInnerEmitterInstance().once(Yl,this._initGroupList,this)}}]),Nt}(),uv=1,Jv=2,Xv=3,Jl=4,tm=5,lv=function(){function Nt(ut){it(this,Nt),this._groupModule=ut,this._n="GroupAttributesHandler",this._groupAttributesMap=new Map,this._groupAttributesCopy={},this.CACHE_EXPIRE_TIME=3e4,this._groupModule.getInnerEmitterInstance().on(vp,this._onCloudConfigUpdated,this)}return lt(Nt,[{key:"_onCloudConfigUpdated",value:function(){var ut=this._groupModule.getCloudConfig("grp_attr_cache_time");fr(ut)||(this.CACHE_EXPIRE_TIME=Number(ut))}},{key:"updateLocalMainSequenceOnReconnected",value:function(){this._groupAttributesMap.forEach(function(ut){ut.localMainSequence=0})}},{key:"isGroupAttributesUpdatedNotice",value:function(ut){var _t=ut.to,at=ut.elements.newGroupProfile,ft=!fr(at)&&!kr(at.groupAttributeOption);return ft&&this._onGroupAttributesUpdated({groupID:_t,groupAttributeOption:at.groupAttributeOption}),ft}},{key:"_onGroupAttributesUpdated",value:function(ut){var _t=this,at=ut.groupID,ft=ut.groupAttributeOption,gt=ft.mainSequence,Ct=ft.isWithChangedAttributeInfo,St=ft.groupAttributeList,Dt=St===void 0?[]:St,Lt=ft.operationType;if(sn.l("".concat(this._n,".onGroupAttributesUpdated. ")+"groupID:".concat(at," isWithChangedAttributeInfo:").concat(Ct," operationType:").concat(Lt)),!fr(Lt)){this._groupAttributesCopy=this._getCachedAttributes({groupID:at});var jt=gt-this._getLocalGroupAttributes(at).localMainSequence;if(jt!==0){if(Ct===1&&jt===1)return this._refreshCachedGroupAttributes({groupID:at,remoteMainSequence:gt,groupAttributeList:Dt,operationType:Lt}),void this._emitGroupAttributesUpdated(at);if(this._hasLocalGroupAttributes(at)){var Kt=this._getLocalGroupAttributes(at).avChatRoomKey;this._getGroupAttributes({groupID:at,avChatRoomKey:Kt}).then(function(){_t._emitGroupAttributesUpdated(at)})}}}}},{key:"initGroupAttributesCache",value:function(ut){var _t=ut.groupID,at=ut.avChatRoomKey,ft=at===void 0?void 0:at;this._groupAttributesMap.set(_t,{lastUpdateTime:0,localMainSequence:0,remoteMainSequence:0,attributes:new Map,avChatRoomKey:ft}),sn.l("".concat(this._n,".initGroupAttributesCache groupID:").concat(_t," avChatRoomKey:").concat(ft))}},{key:"initGroupAttributes",value:function(ut){var _t=this,at=ut.groupID,ft=ut.groupAttributes,gt=this._getLocalGroupAttributes(at),Ct=gt.remoteMainSequence,St=gt.avChatRoomKey,Dt=new br("initGroupAttributes");return Dt.setMessage("groupID:".concat(at," avChatRoomKey:").concat(St," mainSequence:").concat(Ct)),this._groupModule.request({protocolName:Dv,requestData:{groupID:at,avChatRoomKey:St,mainSequence:Ct,groupAttributeList:this._transformGroupAttributes(ft)}}).then(function(Lt){sn.l("".concat(_t._n,".").concat("initGroupAttributes"," ok. groupID:").concat(at));var jt=Lt.data,Kt=jt.mainSequence,Jt=Ht(jt.groupAttributeList);return Jt.forEach(function(cn){cn.value=ft[cn.key]}),_t._groupAttributesCopy=_t._getCachedAttributes({groupID:at}),_t._refreshCachedGroupAttributes({groupID:at,remoteMainSequence:Kt,groupAttributeList:Jt,operationType:uv}),_t._emitGroupAttributesUpdated(at),Dt.setNetworkType(_t._groupModule.getNetworkType()).end(),oo({groupAttributes:ft})}).catch(function(Lt){return _t._groupModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),Xn(Lt)})}},{key:"setGroupAttributes",value:function(ut){var _t=this,at="".concat(this._n,".").concat("setGroupAttributes"),ft=ut.groupID,gt=ut.groupAttributes,Ct=this._getLocalGroupAttributes(ft),St=Ct.remoteMainSequence,Dt=Ct.avChatRoomKey,Lt=Ct.attributes,jt=this._transformGroupAttributes(gt);jt.forEach(function(Jt){var cn=Jt.key;Jt.sequence=0,Lt.has(cn)&&(Jt.sequence=Lt.get(cn).sequence)});var Kt=new br("setGroupAttributes");return Kt.setMessage("groupID:".concat(ft," groupAttributes:").concat(JSON.stringify(gt))),sn.l("".concat(at,". groupID:").concat(ft," mainSequence:").concat(St)),this._groupModule.request({protocolName:b_,requestData:{groupID:ft,avChatRoomKey:Dt,mainSequence:St,groupAttributeList:jt}}).then(function(Jt){sn.l("".concat(at," ok."));var cn=Jt.data,bn=cn.mainSequence,On=Ht(cn.groupAttributeList);return On.forEach(function(Fn){Fn.value=gt[Fn.key]}),_t._groupAttributesCopy=_t._getCachedAttributes({groupID:ft}),_t._refreshCachedGroupAttributes({groupID:ft,remoteMainSequence:bn,groupAttributeList:On,operationType:Jv}),_t._emitGroupAttributesUpdated(ft),Kt.setNetworkType(_t._groupModule.getNetworkType()).end(),oo({groupAttributes:gt})}).catch(function(Jt){return _t._groupModule.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Kt.setError(Jt,On,Fn).end()}),Xn(Jt)})}},{key:"deleteGroupAttributes",value:function(ut){var _t=this,at=ut.groupID,ft=ut.keyList,gt=ft===void 0?[]:ft,Ct=this._getLocalGroupAttributes(at),St=Ct.remoteMainSequence,Dt=Ct.avChatRoomKey,Lt=Ct.attributes,jt=Ht(Lt.keys()),Kt=_y,Jt=Xv,cn={groupID:at,avChatRoomKey:Dt,mainSequence:St},bn=[];gt.length>0&&(jt=[],Kt=Up,Jt=Jl,gt.forEach(function(Fn){var Wn=0;Lt.has(Fn)&&(Wn=Lt.get(Fn).sequence,jt.push(Fn)),bn.push({key:Fn,sequence:Wn})}),cn.groupAttributeList=bn);var On=new br("deleteGroupAttributes");return On.setMessage("groupID:".concat(at," mainSequence:").concat(St," keyList:").concat(gt," protocolName:").concat(Kt)),this._groupModule.request({protocolName:Kt,requestData:cn}).then(function(Fn){sn.l("".concat(_t._n,".").concat("deleteGroupAttributes"," ok. groupID:").concat(at));var Wn=Fn.data.mainSequence;return _t._groupAttributesCopy=_t._getCachedAttributes({groupID:at}),_t._refreshCachedGroupAttributes({groupID:at,remoteMainSequence:Wn,groupAttributeList:bn,operationType:Jt}),_t._emitGroupAttributesUpdated(at),On.setNetworkType(_t._groupModule.getNetworkType()).end(),oo({keyList:jt})}).catch(function(Fn){return _t._groupModule.probeNetwork().then(function(Wn){var er=Ft(Wn,2),ir=er[0],Tr=er[1];On.setError(Fn,ir,Tr).end()}),Xn(Fn)})}},{key:"getGroupAttributes",value:function(ut){var _t=this,at="".concat(this._n,".").concat("getGroupAttributes"),ft=ut.groupID,gt=this._getLocalGroupAttributes(ft),Ct=gt.avChatRoomKey,St=gt.lastUpdateTime,Dt=gt.localMainSequence,Lt=gt.remoteMainSequence,jt=new br("getGroupAttributes");if(jt.setMessage("groupID:".concat(ft," localMainSequence:").concat(Dt," remoteMainSequence:").concat(Lt," keyList:").concat(ut.keyList)),Date.now()-St>=this.CACHE_EXPIRE_TIME||Dt<Lt)return this._getGroupAttributes({groupID:ft,avChatRoomKey:Ct}).then(function(Jt){jt.setMoreMessage("get attributes from remote. count:".concat(Jt.length)).setNetworkType(_t._groupModule.getNetworkType()).end(),sn.l("".concat(at," from remote. groupID:").concat(ft));var cn=_t._getCachedAttributes(ut);return oo({groupAttributes:cn})}).catch(function(Jt){return _t._groupModule.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];jt.setError(Jt,On,Fn).end()}),Xn(Jt)});jt.setMoreMessage("get attributes from cache").setNetworkType(this._groupModule.getNetworkType()).end(),sn.l("".concat(at," from cache. groupID:").concat(ft));var Kt=this._getCachedAttributes(ut);return Io({groupAttributes:Kt})}},{key:"_getGroupAttributes",value:function(ut){var _t=this,at=0;return fr(ut.avChatRoomKey)||(at=1),this._groupModule.request({protocolName:vy,requestData:rt(rt({},ut),{},{groupType:at})}).then(function(ft){sn.l("".concat(_t._n,"._getGroupAttributes ok. groupID:").concat(ut.groupID));var gt=ft.data,Ct=gt.mainSequence,St=gt.groupAttributeList,Dt=Ht(St);return fr(Ct)||_t._refreshCachedGroupAttributes({groupID:ut.groupID,remoteMainSequence:Ct,groupAttributeList:Dt,operationType:tm}),St}).catch(function(ft){return Xn(ft)})}},{key:"_refreshCachedGroupAttributes",value:function(ut){var _t=ut.groupID,at=ut.remoteMainSequence,ft=ut.groupAttributeList,gt=ut.operationType;if(this._hasLocalGroupAttributes(_t)){var Ct=this._getLocalGroupAttributes(_t),St=Ct.localMainSequence;if(gt===tm||at-St==1)Ct.remoteMainSequence=at,Ct.localMainSequence=at,Ct.lastUpdateTime=Date.now(),this._updateCachedAttributes({groupAttributes:Ct,groupAttributeList:ft,operationType:gt});else{if(St===at)return;Ct.remoteMainSequence=at}this._groupAttributesMap.set(_t,Ct);var Dt="operationType:".concat(gt," localMainSequence:").concat(St," remoteMainSequence:").concat(at);sn.l("".concat(this._n,"._refreshCachedGroupAttributes. ").concat(Dt))}}},{key:"_getCachedAttributes",value:function(ut){var _t=ut.groupID,at=ut.keyList,ft=at===void 0?[]:at,gt={};if(this._hasLocalGroupAttributes(_t)){var Ct=this._getLocalGroupAttributes(_t).attributes;if(ft.length>0)ft.forEach(function(jt){Ct.has(jt)&&(gt[jt]=Ct.get(jt).value)});else{var St,Dt=Cn(Ct.keys());try{for(Dt.s();!(St=Dt.n()).done;){var Lt=St.value;gt[Lt]=Ct.get(Lt).value}}catch(jt){Dt.e(jt)}finally{Dt.f()}}}return gt}},{key:"_updateCachedAttributes",value:function(ut){var _t=ut.groupAttributes,at=ut.groupAttributeList,ft=ut.operationType;ft!==Xv?ft!==Jl?(ft===uv&&_t.attributes.clear(),at.forEach(function(gt){var Ct=gt.key,St=gt.value,Dt=gt.sequence;_t.attributes.set(Ct,{value:St,sequence:Dt})})):at.forEach(function(gt){_t.attributes.delete(gt.key)}):_t.attributes.clear()}},{key:"_hasLocalGroupAttributes",value:function(ut){return this._groupAttributesMap.has(ut)}},{key:"_getLocalGroupAttributes",value:function(ut){return this._hasLocalGroupAttributes(ut)||this.initGroupAttributesCache({groupID:ut}),this._groupAttributesMap.get(ut)}},{key:"_transformGroupAttributes",value:function(ut){var _t=[];return Object.keys(ut).forEach(function(at){_t.push({key:at,value:ut[at]})}),_t}},{key:"_emitGroupAttributesUpdated",value:function(ut){var _t=this._getCachedAttributes({groupID:ut}),at=this._computeAttrChangedInfo(_t),ft=at.updatedKeyList,gt=at.deletedKeyList;sn.l("".concat(this._n,"._emitGroupAttributesUpdated update:").concat(ft.length,", delete:").concat(gt.length)),ft.length===0&&gt.length===0||this._groupModule.emitOuterEvent(yn.GROUP_ATTRIBUTES_UPDATED,{groupID:ut,groupAttributes:_t,updatedKeyList:ft,deletedKeyList:gt})}},{key:"_computeAttrChangedInfo",value:function(ut){var _t=this,at=[],ft=[];return Object.keys(ut).forEach(function(gt){ut[gt]!==_t._groupAttributesCopy[gt]&&at.push(gt)}),Object.keys(this._groupAttributesCopy).forEach(function(gt){fr(ut[gt])&&ft.push(gt)}),this._groupAttributesCopy={},{updatedKeyList:at,deletedKeyList:ft}}},{key:"deleteLocalGroupAttributes",value:function(ut){this._hasLocalGroupAttributes(ut)&&this._groupAttributesMap.delete(ut)}},{key:"reset",value:function(){this._groupAttributesMap.clear(),this._groupAttributesCopy={},this.CACHE_EXPIRE_TIME=3e4}}]),Nt}(),Ry="Set",f_="Increase",Oy="Decrease",Zv=function(){function Nt(ut){it(this,Nt),this._groupModule=ut,this._n="GroupCountersHandler",this._groupCountersMap=new Map,this.EXPIRE_TIME=3e4,this._groupModule.getInnerEmitterInstance().on(vp,this._onCloudConfigUpdated,this)}return lt(Nt,[{key:"_onCloudConfigUpdated",value:function(){var ut=this._groupModule.getCloudConfig("grp_counter_expire_time");fr(ut)||(this.EXPIRE_TIME=Number(ut))}},{key:"isGroupCountersNotice",value:function(ut){var _t=ut.to,at=ut.elements.groupCounterInfo,ft=!1;return kr(at)||(this._onGroupCountersUpdated({groupID:_t,groupCounterInfo:at}),ft=!0),ft}},{key:"_onGroupCountersUpdated",value:function(ut){var _t=this,at=ut.groupID;ut.groupCounterInfo.forEach(function(ft){var gt=ft.type,Ct=ft.groupCounterSeq,St=ft.counterList,Dt=St===void 0?[]:St;gt!==0&&gt!==2||(_t._updateLocalGroupCounters({groupID:at,groupCounterSeq:Ct,counterList:Dt}),Dt.forEach(function(Lt){_t._groupModule.emitOuterEvent(yn.GROUP_COUNTER_UPDATED,{groupID:at,key:Lt.key,value:Lt.value})})),gt===1&&_t._deleteLocalGroupCounters({groupID:at,groupCounterSeq:Ct,counterList:Dt})}),sn.l("".concat(this._n,"._onGroupCountersUpdated groupID:").concat(at))}},{key:"initGroupCountersCache",value:function(ut){var _t=ut.groupID,at=ut.avChatRoomKey;this._groupCountersMap.set(_t,{lastUpdateTime:0,groupCounterSeq:0,counters:new Map,avChatRoomKey:at}),sn.l("".concat(this._n,".initGroupCountersCache groupID:").concat(_t," avChatRoomKey:").concat(at))}},{key:"setGroupCounters",value:function(ut){var _t=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".setGroupCounters"),ft=ut.groupID,gt=ut.counters,Ct=this._convertObjectToList(gt),St=this._getLocalGroupCounters(ft).avChatRoomKey,Dt="groupID:".concat(ft," count:").concat(Ct.length),Lt=new br("setGroupCounters");return Lt.setMessage("".concat(Dt)),sn.l("".concat(at,". ").concat(Dt)),this._updateGroupCounters({groupID:ft,counterList:Ct,avChatRoomKey:St,mode:Ry}).then(function(jt){return Lt.end(),sn.l("".concat(at," ok.")),oo({counters:jt})}).catch(function(jt){return _t._groupModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Lt.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"increaseGroupCounter",value:function(ut){var _t=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".increaseGroupCounters"),ft=ut.groupID,gt=ut.key,Ct=ut.value,St=this._getLocalGroupCounters(ft).avChatRoomKey,Dt="groupID:".concat(ft," key:").concat(gt," value:").concat(Ct),Lt=new br("increaseGroupCounter");Lt.setMessage("".concat(Dt)),sn.l("".concat(at,". ").concat(Dt));var jt=[{key:gt,value:Ct}];return this._updateGroupCounters({groupID:ft,counterList:jt,avChatRoomKey:St,mode:f_}).then(function(Kt){return Lt.end(),sn.l("".concat(at," ok.")),oo({counters:Kt})}).catch(function(Kt){return _t._groupModule.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(at," failed. error:"),Kt),Xn(Kt)})}},{key:"decreaseGroupCounter",value:function(ut){var _t=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".decreaseGroupCounter"),ft=ut.groupID,gt=ut.key,Ct=ut.value,St=this._getLocalGroupCounters(ft).avChatRoomKey,Dt="groupID:".concat(ft," key:").concat(gt," value:").concat(Ct),Lt=new br("decreaseGroupCounter");Lt.setMessage("".concat(Dt)),sn.l("".concat(at,". ").concat(Dt));var jt=[{key:gt,value:Ct}];return this._updateGroupCounters({groupID:ft,counterList:jt,avChatRoomKey:St,mode:Oy}).then(function(Kt){return Lt.end(),sn.l("".concat(at," ok.")),oo({counters:Kt})}).catch(function(Kt){return _t._groupModule.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(at," failed. error:"),Kt),Xn(Kt)})}},{key:"getGroupCounters",value:function(ut){var _t=this;if(!this._groupModule.canIUse(hr.GRP_COUNTER))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".getGroupCounters"),ft=ut.groupID,gt=ut.keyList,Ct=gt===void 0?[]:gt,St=this._getLocalGroupCounters(ft),Dt=St.avChatRoomKey,Lt=St.lastUpdateTime,jt=new br("getGroupCounters");if(jt.setMessage("groupID:".concat(ft)),Date.now()-Lt>=this.EXPIRE_TIME)return this._getRemoteGroupCounters({groupID:ft,avChatRoomKey:Dt}).then(function(Jt){jt.setMoreMessage("from remote. count:".concat(Jt.length)).end(),sn.l("".concat(at," from remote. groupID:").concat(ft));var cn=_t._getLocalCounters(ft,Ct);return oo({counters:cn})}).catch(function(Jt){return _t._groupModule.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];jt.setError(Jt,On,Fn).end()}),Xn(Jt)});jt.setMoreMessage("from cache").end(),sn.l("".concat(at," from cache. groupID:").concat(ft));var Kt=this._getLocalCounters(ft,Ct);return Io({counters:Kt})}},{key:"_getRemoteGroupCounters",value:function(ut){var _t=this;return this._groupModule.request({protocolName:Lv,requestData:rt({},ut)}).then(function(at){var ft=at.data,gt=ft.counterList,Ct=gt===void 0?[]:gt,St=ft.groupCounterSeq;return _t._updateLocalGroupCounters({groupID:ut.groupID,counterList:Ct,groupCounterSeq:St}),sn.l("".concat(_t._n,"._getRemoteGroupCounters ok. groupID:").concat(ut.groupID)),Ct}).catch(function(at){return Xn(at)})}},{key:"_convertObjectToList",value:function(ut){var _t=[];return Object.keys(ut).forEach(function(at){_t.push({key:at,value:ut[at]})}),_t}},{key:"_updateGroupCounters",value:function(ut){var _t="".concat(this._n,"._updateGroupCounters"),at=ut.groupID,ft=ut.avChatRoomKey,gt=ut.mode;return sn.l("".concat(_t,". groupID:").concat(at," avChatRoomKey:").concat(ft," mode:").concat(gt)),this._groupModule.request({protocolName:xp,requestData:rt({},ut)}).then(function(Ct){sn.l("".concat(_t," ok."));var St=Ct.data.counterList,Dt={};return(St===void 0?[]:St).forEach(function(Lt){var jt=Lt.key,Kt=Lt.value;Dt[jt]=Kt}),Dt}).catch(function(Ct){return Xn(Ct)})}},{key:"_hasLocalGroupCounters",value:function(ut){return this._groupCountersMap.has(ut)}},{key:"_getLocalGroupCounters",value:function(ut){return this._hasLocalGroupCounters(ut)||this.initGroupCountersCache({groupID:ut}),this._groupCountersMap.get(ut)}},{key:"_updateLocalGroupCounters",value:function(ut){var _t=ut.groupID,at=ut.counterList,ft=at===void 0?[]:at,gt=ut.groupCounterSeq;if(this._hasLocalGroupCounters(_t)){var Ct=this._getLocalGroupCounters(_t),St=Ct.counters,Dt=Ct.avChatRoomKey,Lt=Ct.groupCounterSeq;if(gt>0&&gt<Lt)return;ft.forEach(function(jt){var Kt=jt.key,Jt=jt.value;St.set(Kt,Jt)}),this._groupCountersMap.set(_t,{lastUpdateTime:Date.now(),groupCounterSeq:gt,counters:St,avChatRoomKey:Dt})}}},{key:"_deleteLocalGroupCounters",value:function(ut){var _t=ut.groupID,at=ut.counterList,ft=at===void 0?[]:at,gt=ut.groupCounterSeq;if(this._hasLocalGroupCounters(_t)){var Ct=this._getLocalGroupCounters(_t),St=Ct.counters,Dt=Ct.avChatRoomKey;ft.forEach(function(Lt){St.delete(Lt.key)}),this._groupCountersMap.set(_t,{lastUpdateTime:Date.now(),groupCounterSeq:gt,counters:St,avChatRoomKey:Dt})}}},{key:"_getLocalCounters",value:function(ut,_t){var at={};if(!this._hasLocalGroupCounters(ut))return at;var ft=this._getLocalGroupCounters(ut).counters;if(_t.length>0)_t.forEach(function(Dt){ft.has(Dt)&&(at[Dt]=ft.get(Dt))});else{var gt,Ct=Cn(ft.keys());try{for(Ct.s();!(gt=Ct.n()).done;){var St=gt.value;at[St]=ft.get(St)}}catch(Dt){Ct.e(Dt)}finally{Ct.f()}}return at}},{key:"reset",value:function(){this._groupCountersMap.clear(),this.EXPIRE_TIME=3e4}}]),Nt}(),Ly=function(){function Nt(ut){it(this,Nt);var _t=ut.manager,at=ut.groupID,ft=ut.onInit,gt=ut.onSuccess,Ct=ut.onFail;this._n="Polling",this._manager=_t,this._groupModule=_t._groupModule,this._onInit=ft,this._onSuccess=gt,this._onFail=Ct,this._groupID=at,this._timeoutID=-1,this._isRunning=!1,this._protocolName=ym}return lt(Nt,[{key:"start",value:function(){var ut=this._groupModule.isLoggedIn();ut||(this._protocolName=c_),sn.l("".concat(this._n,".start pollingInterval:").concat(this._manager.getPollingInterval()," isLoggedIn:").concat(ut)),this._isRunning=!0,this._request()}},{key:"isRunning",value:function(){return this._isRunning}},{key:"_request",value:function(){var ut=this,_t=this._onInit(this._groupID);this._groupModule.request({protocolName:this._protocolName,requestData:_t}).then(function(at){ut._onSuccess(ut._groupID,at),ut.isRunning()&&(clearTimeout(ut._timeoutID),ut._timeoutID=setTimeout(ut._request.bind(ut),ut._manager.getPollingInterval()))}).catch(function(at){ut._onFail(ut._groupID,at),ut.isRunning()&&(clearTimeout(ut._timeoutID),ut._timeoutID=setTimeout(ut._request.bind(ut),ut._manager.MAX_POLLING_INTERVAL))})}},{key:"stop",value:function(){sn.l("".concat(this._n,".stop")),this._timeoutID>0&&(clearTimeout(this._timeoutID),this._timeoutID=-1),this._isRunning=!1}},{key:"getPollingTimerID",value:function(){return this._timeoutID}}]),Nt}(),dv={3:!0,4:!0,5:!0,6:!0,17:!0},h_=function(){function Nt(ut){it(this,Nt),this._groupModule=ut,this._n="AVChatRoomHandler",this._joinedGroupMap=new Map,this._pollingRequestInfoMap=new Map,this._pollingInstanceMap=new Map,this.sequencesLinkedList=new os(200),this.messageIDLinkedList=new os(100),this.receivedMessageCount=0,this._reportMessageStackedCount=0,this._onlineMemberCountMap=new Map,this.DEFAULT_EXPIRE_TIME=60,this.DEFAULT_POLLING_INTERVAL=300,this.MAX_POLLING_INTERVAL=2e3,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL,this.DEFAULT_POLLING_NO_MESSAGE_COUNT=20,this.DEFAULT_POLLING_INTERVAL_PLUS=2e3,this._pollingNoMessageCount=0,this._startBroadcastSeq=1,this._broadcastMessageIDMap=new Map,this.DEFAULT_POLLING_SIMPLIFIED_MSG=0}return lt(Nt,[{key:"hasJoinedAVChatRoom",value:function(){return this._joinedGroupMap.size>0}},{key:"checkJoinedAVChatRoomByID",value:function(ut){return this._joinedGroupMap.has(ut)}},{key:"getJoinedAVChatRoom",value:function(){return this._joinedGroupMap.size>0?Ht(this._joinedGroupMap.keys()):null}},{key:"_updateRequestData",value:function(ut){var _t=this._pollingRequestInfoMap.get(ut);return ut===Ht(this._pollingInstanceMap.keys())[0]?rt(rt({},_t),{},{startBroadcastSeq:this._startBroadcastSeq,simplifiedMessage:this.DEFAULT_POLLING_SIMPLIFIED_MSG}):rt(rt({},_t),{},{simplifiedMessage:this.DEFAULT_POLLING_SIMPLIFIED_MSG})}},{key:"_handleSuccess",value:function(ut,_t){var at=_t.data,ft=at.key,gt=at.nextSeq,Ct=at.rspMsgList,St=at.errorCode,Dt=at.nextBroadcastSeq,Lt=at.broadcastMessageList;if(St!==0){var jt=this._pollingRequestInfoMap.get(ut),Kt=new br("longPollingAVError"),Jt=jt?"".concat(jt.key,"-").concat(jt.startSeq):"requestInfo is undefined";Kt.setMessage("".concat(ut,"-").concat(Jt,"-").concat(_t.errorInfo)).setCode(_t.errorCode).setNetworkType(this._groupModule.getNetworkType()).end(!0)}else{if(!this.checkJoinedAVChatRoomByID(ut))return;yo(ft)&&Yo(gt)&&this._pollingRequestInfoMap.set(ut,{key:ft,startSeq:gt}),Yo(Dt)&&Dt>this._startBroadcastSeq&&(this._startBroadcastSeq=Dt),Zr(Ct)&&Ct.length>0?(Ct.forEach(function(cn){cn.to=cn.groupID}),this.onMessage(Ct)):(this._pollingNoMessageCount+=1,this._pollingNoMessageCount===this.DEFAULT_POLLING_NO_MESSAGE_COUNT&&(this._pollingInterval=this.DEFAULT_POLLING_INTERVAL+this.DEFAULT_POLLING_INTERVAL_PLUS)),this._onBroadcastMessage(Lt)}}},{key:"_handleFailure",value:function(ut,_t){}},{key:"onMessage",value:function(ut){if(Zr(ut)&&ut.length!==0){this._pollingNoMessageCount!==0&&(this._pollingNoMessageCount=0,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL);var _t=null,at=[],ft=this._getModule(no),gt=this._getModule(pu),Ct=ut.length;Ct>1&&ut.sort(function(ir,Tr){return ir.sequence-Tr.sequence});for(var St=this._getModule(jo),Dt=0;Dt<Ct;Dt++){var Lt=this.restoreMessageFromSimplified(ut[Dt]);if(dv[Lt.event]){if(Lt.event===6&&(this._groupModule.isGroupAttributesUpdatedNotice(Lt)||this._groupModule.isGroupCountersNotice(Lt)))continue;this.receivedMessageCount+=1,_t=this.packMessage(Lt,Lt.event);var jt=Lt.isModified===1,Kt=Lt.isHistoryMessage===1;if((St.isUnlimitedAVChatRoom()||!this.sequencesLinkedList.has(_t.sequence))&&!this.messageIDLinkedList.has(_t.ID)){var Jt=_t.conversationID;if(this.receivedMessageCount%50==0?this._getModule(Pu).detectFirstRound(Jt,this.sequencesLinkedList.data()):this.receivedMessageCount%80==0&&this._getModule(Pu).detectSecondRound(Jt,this.sequencesLinkedList.data()),this.sequencesLinkedList.tail()!==null){var cn=this.sequencesLinkedList.tail().value,bn=_t.sequence-cn;bn>1&&bn<=20?this._getModule(Pu).onMessageMaybeLost(Jt,cn+1,bn-1):bn<-1&&bn>=-20&&this._getModule(Pu).onMessageMaybeLost(Jt,_t.sequence+1,Math.abs(bn)-1)}this.sequencesLinkedList.set(_t.sequence),this.messageIDLinkedList.set(_t.ID);var On=!1;if(this._isMessageSentByCurrentInstance(_t)?jt&&(On=!0,_t.isModified=jt,ft.updateMessageIsModifiedProperty(_t)):On=!0,On){if(_t.conversationType===Ut.CONV_SYSTEM&&_t.payload.operationType===5&&this._onGroupDismissed(_t.payload.groupProfile.groupID),!Kt&&_t.conversationType!==Ut.CONV_SYSTEM){var Fn=_t.conversationID.replace(Ut.CONV_GROUP,"");this._pollingInstanceMap.has(Fn)?this._groupModule.isLoggedIn()&&gt.addMessageSequence({key:em,message:_t}):(_t.type!==Ut.MSG_GRP_TIP&&_t.clientTime>0&&gt.addMessageDelay(_t.clientTime),gt.addMessageSequence({key:El,message:_t}))}at.push(_t)}}}else sn.w("".concat(this._n,".onMessage unknown event:").concat(Lt.event))}if(at.length!==0){this._groupModule.filterModifiedMessage(at);var Wn=this.packConversationOption(at);Wn.length>0&&this._getModule(no).onNewMessage({conversationOptionsList:Wn,isInstantMessage:!0}),sn.d("".concat(this._n,".onMessage count:").concat(at.length)),this._checkMessageStacked(at);var er=this._groupModule.filterUnmodifiedMessage(at);er.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,er),at.length=0}}}},{key:"isBroadcastOrNormal",value:function(ut){return ut===3||ut===17}},{key:"isGroupTip",value:function(ut){return ut===4||ut===6}},{key:"isGroupSystemNotice",value:function(ut){return ut===5}},{key:"restoreGroupTipElements",value:function(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ut.groupJoinType||(ut.groupJoinType=1);var _t=ut.operatorInfo,at=_t===void 0?{}:_t,ft=ut.operatorID,gt=ut.userIDList,Ct=gt===void 0?[]:gt,St=at.userID,Dt=St===void 0?ft:St,Lt=at.avatar,jt=Lt===void 0?"":Lt,Kt=at.nick,Jt=Kt===void 0?"":Kt;ut.operatorInfo={userID:Dt,avatar:jt,nick:Jt};var cn=Ct.map(function(bn){return{userID:bn}});return ut.memberInfoList=ut.memberInfoList||cn,ut}},{key:"restoreMessageFromSimplified",value:function(ut){var _t=ut.event;if(this.isBroadcastOrNormal(_t)&&(ut.cloudCustomData=ut.cloudCustomData||"",ut.elements=ut.elements.map(function(Jt){if(Jt.type===Ut.MSG_CUSTOM){var cn=Jt.content,bn=cn===void 0?{}:cn;Jt.content=rt({data:"",description:"",extension:""},bn)}return Jt})),(this.isGroupTip(_t)||this.isGroupSystemNotice(_t))&&(ut.from=ut.from||"@TIM#SYSTEM"),this.isGroupTip(_t)){ut.elements=this.restoreGroupTipElements(ut.elements);var at=ut.elements,ft=at===void 0?{}:at,gt=ft.operationType,Ct=ft.operatorInfo;if(gt===1){var St=[{userID:(Ct===void 0?{}:Ct).userID}];ft.memberInfoList=ft.memberInfoList||St}}if(this.isGroupSystemNotice(_t)){var Dt=ut.elements,Lt=Dt.memberInfoList,jt=Dt.operatorInfo;Lt||(Lt=jt===void 0?{}:jt),ut.elements.memberInfoList=rt({userID:ut.elements.operatorID,avatar:"",nick:""},Lt),ut.elements=rt({authentication:"",remarkInfo:"",messageKey:1e3*ut.time},ut.elements);var Kt=Object.keys(ut.elements).filter(function(Jt){return Jt!=="operatorInfo"}).reduce(function(Jt,cn){return rt(rt({},Jt),{},pt({},cn,ut.elements[cn]))},{});ut.elements=Kt}return ut}},{key:"_onGroupDismissed",value:function(ut){sn.l("".concat(this._n,"._onGroupDismissed groupID:").concat(ut)),this._groupModule.deleteLocalGroupAndConversation(ut),this.reset(ut)}},{key:"_checkMessageStacked",value:function(ut){var _t="MessageStacked",at=ut.length;at>=100&&(this._groupModule.outputWarning(_t,at),this._reportMessageStackedCount<5&&(new br(_t).setNetworkType(this._groupModule.getNetworkType()).setMessage("count:".concat(at," groupID:").concat(Ht(this._joinedGroupMap.keys()))).setLevel("warning").end(),this._reportMessageStackedCount+=1))}},{key:"_isMessageSentByCurrentInstance",value:function(ut){return!!this._getModule(no).isMessageSentByCurrentInstance(ut)}},{key:"packMessage",value:function(ut,_t){ut.currentUser=this._groupModule.getMyUserID(),ut.conversationType=_t===5?Ut.CONV_SYSTEM:Ut.CONV_GROUP,ut.isSystemMessage=!!ut.isSystemMessage;var at=new wu(ut),ft=this.packElements(ut,_t);return at.setElement(ft,this._groupModule.getFileDownloadProxy()),at}},{key:"packElements",value:function(ut,_t){return _t===4||_t===6?(this._updateMemberCountByGroupTips(ut),{type:Ut.MSG_GRP_TIP,content:rt(rt({},ut.elements),{},{groupProfile:ut.groupProfile})}):_t===5?{type:Ut.MSG_GRP_SYS_NOTICE,content:rt(rt({},ut.elements),{},{groupProfile:rt(rt({},ut.groupProfile),{},{groupID:ut.groupID})})}:this._getModule(fp).parseElements(ut.elements,ut.from)}},{key:"packConversationOption",value:function(ut){for(var _t=new Map,at=0;at<ut.length;at++){var ft=ut[at],gt=ft.conversationID;if(_t.has(gt)){var Ct=_t.get(gt);Ct.lastMessage=ft,ft.flow==="in"&&Ct.unreadCount++}else _t.set(gt,{conversationID:ft.conversationID,unreadCount:ft.flow==="out"?0:1,type:ft.conversationType,subType:ft.conversationSubType,lastMessage:ft})}return Ht(_t.values())}},{key:"_updateMemberCountByGroupTips",value:function(ut){var _t=ut.groupProfile.groupID,at=ut.elements.onlineMemberInfo,ft=at===void 0?void 0:at;if(!kr(ft)){var gt=ft.onlineMemberNum,Ct=gt===void 0?0:gt,St=ft.expireTime,Dt=St===void 0?this.DEFAULT_EXPIRE_TIME:St,Lt=this._onlineMemberCountMap.get(_t)||{},jt=Date.now();kr(Lt)?Object.assign(Lt,{lastReqTime:0,lastSyncTime:0,latestUpdateTime:jt,memberCount:Ct,expireTime:Dt}):(Lt.latestUpdateTime=jt,Lt.memberCount=Ct),sn.d("".concat(this._n,"._updateMemberCountByGroupTips info:"),Lt),this._onlineMemberCountMap.set(_t,Lt)}}},{key:"_onBroadcastMessage",value:function(ut){if(!kr(ut)){for(var _t=[],at=ut.length,ft=null,gt=0;gt<at;gt++){var Ct=this.restoreMessageFromSimplified(ut[gt]);dv[Ct.event]?((ft=this.packMessage(Ct,Ct.event)).isBroadcastMessage=!0,this._broadcastMessageIDMap.has(ft.ID)||(_t.push(ft),this._broadcastMessageIDMap.set(ft.ID,1))):sn.w("".concat(this._n,"._onBroadcastMessage unknown event:").concat(Ct.event))}_t.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,_t)}}},{key:"start",value:function(ut){if(this._pollingInstanceMap.has(ut)){var _t=this._pollingInstanceMap.get(ut);_t.isRunning()||_t.start()}else{var at=new Ly({manager:this,groupID:ut,onInit:this._updateRequestData.bind(this),onSuccess:this._handleSuccess.bind(this),onFail:this._handleFailure.bind(this)});at.start(),this._pollingInstanceMap.set(ut,at),sn.l("".concat(this._n,".start groupID:").concat(ut))}}},{key:"handleJoinResult",value:function(ut){var _t=this;return this._preCheck().then(function(){var at=ut.longPollingKey,ft=ut.group,gt=ft.groupID;return _t._joinedGroupMap.set(gt,ft),_t._groupModule.updateGroupMap([ft]),_t._groupModule.deleteUnjoinedAVChatRoom(gt),_t._groupModule.emitGroupListUpdate(!0,!1),fr(at)?Io({status:Qs,group:ft}):Promise.resolve()})}},{key:"startRunLoop",value:function(ut){var _t=this;return this.handleJoinResult(ut).then(function(){var at=ut.longPollingKey,ft=ut.group,gt=ut.startSeq,Ct=gt===void 0?0:gt,St=ft.groupID;return _t._pollingRequestInfoMap.set(St,{key:at,startSeq:Ct}),_t.start(St),_t._groupModule.isLoggedIn()?Io({status:Qs,group:ft}):Io({status:Qs})})}},{key:"_preCheck",value:function(){if(this._getModule(jo).isUnlimitedAVChatRoom()||!this.hasJoinedAVChatRoom())return Promise.resolve();var ut=Ft(this._joinedGroupMap.entries().next().value,2),_t=ut[0],at=ut[1];if(this._groupModule.isLoggedIn()){if(!(at.selfInfo.role===Ut.GRP_MBR_ROLE_OWNER||at.ownerID===this._groupModule.getMyUserID()))return this._groupModule.quitGroup(_t);this._groupModule.deleteLocalGroupAndConversation(_t)}else this._groupModule.deleteLocalGroupAndConversation(_t);return this.reset(_t),Promise.resolve()}},{key:"joinWithoutAuth",value:function(ut){var _t=this,at=ut.groupID,ft="".concat(this._n,".").concat("joinWithoutAuth"),gt=new br("joinWithoutAuth");return this._groupModule.request({protocolName:Is,requestData:ut}).then(function(Ct){var St=Ct.data.longPollingKey;if(_t._groupModule.probeNetwork().then(function(Lt){var jt=Ft(Lt,2);jt[0];var Kt=jt[1];gt.setNetworkType(Kt).setMessage("groupID:".concat(at," longPollingKey:").concat(St)).end(!0)}),fr(St))return Xn({code:pr.CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN});sn.l("".concat(ft," ok. groupID:").concat(at)),_t._getModule(no).setCompleted("".concat(Ut.CONV_GROUP).concat(at));var Dt=new Cm({groupID:at});return _t.startRunLoop({group:Dt,longPollingKey:St}),oo({status:Qs})}).catch(function(Ct){return sn.e("".concat(ft," failed. groupID:").concat(at," error:"),Ct),_t._groupModule.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];gt.setError(Ct,Lt,jt).setMessage("groupID:".concat(at)).end(!0)}),Xn(Ct)}).finally(function(){_t._groupModule.getModule(au).reportAtOnce()})}},{key:"getGroupOnlineMemberCount",value:function(ut){var _t=this._onlineMemberCountMap.get(ut)||{},at=Date.now();return kr(_t)||at-_t.lastSyncTime>1e3*_t.expireTime&&at-_t.latestUpdateTime>1e4&&at-_t.lastReqTime>3e3?(_t.lastReqTime=at,this._onlineMemberCountMap.set(ut,_t),this._getGroupOnlineMemberCount(ut).then(function(ft){return oo({memberCount:ft.memberCount})}).catch(function(ft){return Xn(ft)})):Io({memberCount:_t.memberCount})}},{key:"_getGroupOnlineMemberCount",value:function(ut){var _t=this,at="".concat(this._n,".").concat("_getGroupOnlineMemberCount");return this._groupModule.request({protocolName:Wl,requestData:{groupID:ut}}).then(function(ft){var gt=_t._onlineMemberCountMap.get(ut)||{},Ct=ft.data,St=Ct.onlineMemberNum,Dt=St===void 0?0:St,Lt=Ct.expireTime,jt=Lt===void 0?_t.DEFAULT_EXPIRE_TIME:Lt;sn.l("".concat(at," ok. groupID:").concat(ut," memberCount:").concat(Dt," expireTime:").concat(jt));var Kt=Date.now();return kr(gt)&&(gt.lastReqTime=Kt),_t._onlineMemberCountMap.set(ut,Object.assign(gt,{lastSyncTime:Kt,latestUpdateTime:Kt,memberCount:Dt,expireTime:jt})),{memberCount:Dt}}).catch(function(ft){return sn.w("".concat(at," failed. error:"),ft),new br("_getGroupOnlineMemberCount").setCode(ft.code).setMessage("groupID:".concat(ut," error:").concat(JSON.stringify(ft))).setNetworkType(_t._groupModule.getNetworkType()).end(),Promise.reject(ft)})}},{key:"_getModule",value:function(ut){return this._groupModule.getModule(ut)}},{key:"setPollingInterval",value:function(ut){fr(ut)||(Yo(ut)?this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=ut:this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=parseInt(ut,10))}},{key:"setPollingIntervalPlus",value:function(ut){fr(ut)||(Yo(ut)?this.DEFAULT_POLLING_INTERVAL_PLUS=ut:this.DEFAULT_POLLING_INTERVAL_PLUS=parseInt(ut,10))}},{key:"setPollingNoMessageCount",value:function(ut){fr(ut)||(Yo(ut)?this.DEFAULT_POLLING_NO_MESSAGE_COUNT=ut:this.DEFAULT_POLLING_NO_MESSAGE_COUNT=parseInt(ut,10))}},{key:"setPollingSimplifiedMessage",value:function(ut){fr(ut)||ut!=="0"&&ut!=="1"||(this.DEFAULT_POLLING_SIMPLIFIED_MSG=parseInt(ut,10))}},{key:"getPollingInterval",value:function(){return this._pollingInterval}},{key:"onAVChatRoomMemberBanned",value:function(ut){var _t=ut.payload.groupProfile.groupID;sn.l("".concat(this._n,".onAVChatRoomMemberBanned groupID:").concat(_t)),this._groupModule.deleteLocalGroupAndConversation(_t),this.reset(_t)}},{key:"restartPolling",value:function(){sn.l("".concat(this._n,".restartPolling count:").concat(this._pollingInstanceMap.size));var ut,_t=Cn(this._pollingInstanceMap.values());try{for(_t.s();!(ut=_t.n()).done;){var at=ut.value;at.stop(),at.start()}}catch(ft){_t.e(ft)}finally{_t.f()}}},{key:"getPollingTimerID",value:function(ut){if(!this._pollingInstanceMap.has(ut))return-1;var _t=this._pollingInstanceMap.get(ut).getPollingTimerID();return sn.l("".concat(this._n,".getPollingTimerID groupID:").concat(ut," timerID:").concat(_t)),_t}},{key:"reset",value:function(ut){if(ut){sn.l("".concat(this._n,".reset groupID:").concat(ut));var _t=this._pollingInstanceMap.get(ut);_t&&_t.stop(),this._pollingInstanceMap.delete(ut),this._joinedGroupMap.delete(ut),this._pollingRequestInfoMap.delete(ut),this._onlineMemberCountMap.delete(ut)}else{sn.l("".concat(this._n,".reset all"));var at,ft=Cn(this._pollingInstanceMap.values());try{for(ft.s();!(at=ft.n()).done;)at.value.stop()}catch(gt){ft.e(gt)}finally{ft.f()}this._pollingInstanceMap.clear(),this._joinedGroupMap.clear(),this._pollingRequestInfoMap.clear(),this._onlineMemberCountMap.clear(),this._broadcastMessageIDMap.clear()}this.sequencesLinkedList.reset(),this.messageIDLinkedList.reset(),this.receivedMessageCount=0,this._reportMessageStackedCount=0,this._pollingInterval=this.DEFAULT_POLLING_INTERVAL=300,this.DEFAULT_POLLING_NO_MESSAGE_COUNT=20,this.DEFAULT_POLLING_INTERVAL_PLUS=2e3,this._pollingNoMessageCount=0}}]),Nt}(),Sm=1,d0=15,nm=function(){function Nt(ut){it(this,Nt),this._groupModule=ut,this._n="GroupSystemNoticeHandler",this.pendencyMap=new Map}return lt(Nt,[{key:"onNewGroupSystemNotice",value:function(ut){var _t=ut.dataList,at=ut.isSyncingEnded,ft=ut.isInstantMessage;sn.d("".concat(this._n,".onReceiveSystemNotice count:").concat(_t.length));var gt=this.newSystemNoticeStoredAndSummary({notifiesList:_t,isInstantMessage:ft}),Ct=gt.eventDataList,St=gt.result;Ct.length>0&&(this._groupModule.getModule(no).onNewMessage({conversationOptionsList:Ct,isInstantMessage:ft}),this._onReceivedGroupSystemNotice({result:St,isInstantMessage:ft})),ft?St.length>0&&this._groupModule.emitOuterEvent(yn.MESSAGE_RECEIVED,St):at===!0&&this._clearGroupSystemNotice()}},{key:"newSystemNoticeStoredAndSummary",value:function(ut){var _t=ut.notifiesList,at=ut.isInstantMessage,ft=null,gt=_t.length,Ct=0,St=[],Dt={conversationID:Ut.CONV_SYSTEM,unreadCount:0,type:Ut.CONV_SYSTEM,subType:null,lastMessage:null};for(Ct=0;Ct<gt;Ct++){var Lt=_t[Ct],jt=Lt.groupProfile,Kt=jt.communityType,Jt=Kt===void 0?0:Kt,cn=jt.topicID,bn=cn===void 0?void 0:cn,On=Lt.elements,Fn=On.topicIDList,Wn=Fn===void 0?void 0:Fn,er=On.operationType;if(!(Jt!==2||kr(bn)&&kr(Wn))){if([17,18,20].includes(er)){this._handleTopicSystemNotice(Lt);continue}kr(bn)||(Lt.to=bn)}Lt.elements.operationType!==d0&&(Lt.currentUser=this._groupModule.getMyUserID(),Lt.conversationType=Ut.CONV_SYSTEM,Lt.conversationID=Ut.CONV_SYSTEM,(ft=new wu(Lt)).setElement({type:Ut.MSG_GRP_SYS_NOTICE,content:rt(rt({},Lt.elements),{},{groupProfile:rt({},Lt.groupProfile)})}),ft.isSystemMessage=!0,(ft.sequence===1&&ft.random===1||ft.sequence===2&&ft.random===2)&&(ft.sequence=Qu(),ft.random=Qu(),ft.generateMessageID(),sn.l("".concat(this._n,".newSystemNoticeStoredAndSummary sequence and random maybe duplicated, regenerate. ID:").concat(ft.ID))),this._groupModule.getModule(no).pushIntoNoticeResult(St,ft)&&(at?Dt.unreadCount++:ft.setIsRead(!0),Dt.subType=ft.conversationSubType))}return Dt.lastMessage=St[St.length-1],{eventDataList:St.length>0?[Dt]:[],result:St}}},{key:"_clearGroupSystemNotice",value:function(){var ut=this;this._getPendencyList().then(function(_t){_t.forEach(function(gt){ut.pendencyMap.set("".concat(gt.from,"_").concat(gt.groupID,"_").concat(gt.to),gt)});var at=ut._groupModule.getModule(no).getLocalMessageList(Ut.CONV_SYSTEM),ft=[];at.forEach(function(gt){var Ct=gt.payload,St=Ct.operatorID,Dt=Ct.operationType,Lt=Ct.groupProfile;if(Dt===Sm){var jt="".concat(St,"_").concat(Lt.groupID,"_").concat(Lt.to),Kt=ut.pendencyMap.get(jt);Kt&&Yo(Kt.handled)&&Kt.handled!==0&&ft.push(gt)}}),ut.deleteGroupSystemNotice({messageList:ft})})}},{key:"deleteGroupSystemNotice",value:function(ut){var _t=this,at="".concat(this._n,".deleteGroupSystemNotice");return Zr(ut.messageList)&&ut.messageList.length!==0?(sn.l("".concat(at," ")+ut.messageList.map(function(ft){return ft.ID})),this._groupModule.request({protocolName:Gn,requestData:{messageListToDelete:ut.messageList.map(function(ft){return{from:Ut.CONV_SYSTEM,messageSeq:ft.clientSequence,messageRandom:ft.random}})}}).then(function(){sn.l("".concat(at," ok"));var ft=_t._groupModule.getModule(no);return ut.messageList.forEach(function(gt){ft.deleteLocalMessage(gt)}),oo()}).catch(function(ft){return sn.e("".concat(at," error:"),ft),Xn(ft)})):Io()}},{key:"_getPendencyList",value:function(){var ut=this,_t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=_t.type,ft=at===void 0?void 0:at,gt=_t.startTime,Ct=gt===void 0?0:gt,St=_t.limit,Dt=St===void 0?20:St;return this._groupModule.request({protocolName:Z_,requestData:{type:ft,startTime:Ct,limit:Dt,handleAccount:this._groupModule.getMyUserID()}}).then(function(Lt){var jt=Lt.data.pendencyList;return Lt.data.nextStartTime!==0?ut._getPendencyList({startTime:Lt.data.nextStartTime}).then(function(Kt){return[].concat(Ht(jt),Ht(Kt))}):jt})}},{key:"getGroupApplicationList",value:function(){var ut=this;return this._getPendencyList().then(function(_t){return ut._getPendencyList({type:Ut.GRP_COMMUNITY}).then(function(at){return _t.push.apply(_t,Ht(at)),ut._handlePendencyResult(_t)}).catch(function(at){return ut._handlePendencyResult(_t)})})}},{key:"_handlePendencyResult",value:function(ut){var _t=this,at=[];return ut.forEach(function(ft){_t.pendencyMap.set("".concat(ft.from,"_").concat(ft.groupID,"_").concat(ft.to),ft),ft.handled===0&&at.push({applicant:ft.from,applicantNick:ft.fromUserNickName,groupName:ft.groupName,groupID:ft.groupID,authentication:ft.authentication,messageKey:ft.time,applicationType:ft.applicationType,userID:ft.userID})}),Io({applicationList:at})}},{key:"_onReceivedGroupSystemNotice",value:function(ut){var _t=this,at=ut.result;ut.isInstantMessage&&at.forEach(function(ft){switch(ft.payload.operationType){case 1:break;case 2:_t._onApplyGroupRequestAgreed(ft);break;case 3:break;case 4:_t._onMemberKicked(ft);break;case 5:_t._onGroupDismissed(ft);break;case 6:break;case 7:_t._onInviteGroup(ft);break;case 8:_t._onQuitGroup(ft);break;case 9:_t._onSetManager(ft);break;case 10:_t._onDeleteManager(ft);break;case 11:case 12:case 15:break;case 20:_t._onMessageRemindTypeSynced(ft);break;case 21:_t._groupModule.onAVChatRoomMemberBanned(ft)}})}},{key:"_onApplyGroupRequestAgreed",value:function(ut){var _t=this,at=ut.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(at)||this._groupModule.getGroupProfile({groupID:at}).then(function(ft){var gt=ft.data.group;if(gt){_t._groupModule.updateGroupMap([gt]);var Ct=!gt.isSupportTopic;_t._groupModule.emitGroupListUpdate(!0,Ct)}})}},{key:"_onMemberKicked",value:function(ut){var _t=ut.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(_t)&&this._groupModule.deleteLocalGroupAndConversation(_t)}},{key:"_onGroupDismissed",value:function(ut){var _t=ut.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(_t)&&this._groupModule.deleteLocalGroupAndConversation(_t);var at=this._groupModule._AVChatRoomHandler;at&&at.checkJoinedAVChatRoomByID(_t)&&at.reset(_t)}},{key:"_onInviteGroup",value:function(ut){var _t=this,at=ut.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(at)||this._groupModule.getGroupProfile({groupID:at}).then(function(ft){var gt=ft.data.group;gt&&(_t._groupModule.updateGroupMap([gt]),_t._groupModule.emitGroupListUpdate())})}},{key:"_onQuitGroup",value:function(ut){var _t=ut.payload.groupProfile.groupID;this._groupModule.hasLocalGroup(_t)&&this._groupModule.deleteLocalGroupAndConversation(_t)}},{key:"_onSetManager",value:function(ut){var _t=ut.payload.groupProfile,at=_t.to,ft=_t.groupID,gt=this._groupModule.getModule(Rs).getLocalGroupMemberInfo(ft,at);gt&&gt.updateRole(Ut.GRP_MBR_ROLE_ADMIN)}},{key:"_onDeleteManager",value:function(ut){var _t=ut.payload.groupProfile,at=_t.to,ft=_t.groupID,gt=this._groupModule.getModule(Rs).getLocalGroupMemberInfo(ft,at);gt&&gt.updateRole(Ut.GRP_MBR_ROLE_MEMBER)}},{key:"_onMessageRemindTypeSynced",value:function(ut){var _t=ut.payload.groupProfile.groupID,at=ut.payload.messageRemindType;this._groupModule.getModule(no).onGroupMessageRemindTypeSynced({groupID:_t,messageRemindType:at})}},{key:"_handleTopicSystemNotice",value:function(ut){var _t=ut.groupProfile,at=_t.groupID,ft=_t.topicID,gt=ut.elements,Ct=gt.operationType,St=gt.topicIDList,Dt=gt.messageRemindType,Lt=this._groupModule.getModule(gs);Ct===17?Lt.onTopicCreated({groupID:at,topicID:ft}):Ct===18?Lt.onTopicDeleted({groupID:at,topicIDList:St}):Ct===20&&Lt.onTopicMessageRemindTypeUpdated({groupID:at,topicID:ft,messageRemindType:Dt})}},{key:"reset",value:function(){this.pendencyMap.clear()}}]),Nt}(),Ny=["relayFlag"],g_=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="GroupModule",ft._commonGroupHandler=null,ft._AVChatRoomHandler=null,ft._groupSystemNoticeHandler=null,ft._commonGroupHandler=new cv(Bt(ft)),ft._groupAttributesHandler=new lv(Bt(ft)),ft._groupCountersHandler=new Zv(Bt(ft)),ft._AVChatRoomHandler=new h_(Bt(ft)),ft._groupTipsHandler=new l0(Bt(ft)),ft._groupSystemNoticeHandler=new nm(Bt(ft)),ft.groupMap=new Map,ft._unjoinedAVChatRoomList=new Map,ft._receiptDetailCompleteMap=new Map,ft.getInnerEmitterInstance().on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"_onCloudConfigUpdated",value:function(){var at=this.getCloudConfig("polling_interval"),ft=this.getCloudConfig("polling_interval_plus"),gt=this.getCloudConfig("polling_no_msg_count"),Ct=this.getCloudConfig("polling_simplified_msg");this._AVChatRoomHandler&&(sn.l("".concat(this._n,"._onCloudConfigUpdated pollingInterval:").concat(at)+" pollingIntervalPlus:".concat(ft," pollingNoMessageCount:").concat(gt)+" pollingSimplifiedMessage:".concat(Ct)),this._AVChatRoomHandler.setPollingInterval(at),this._AVChatRoomHandler.setPollingIntervalPlus(ft),this._AVChatRoomHandler.setPollingNoMessageCount(gt),this._AVChatRoomHandler.setPollingSimplifiedMessage(Ct))}},{key:"onCheckTimer",value:function(at){this.isLoggedIn()&&(this._commonGroupHandler.onCheckTimer(at),this._groupTipsHandler.onCheckTimer(at))}},{key:"guardForAVChatRoom",value:function(at){var ft=this;if(at.conversationType===Ut.CONV_GROUP){var gt=lu(at.to)?Es(at.to):at.to;return this.hasLocalGroup(gt)?Io():this.getGroupProfile({groupID:gt}).then(function(Ct){var St=Ct.data.group.type;if(sn.l("".concat(ft._n,".guardForAVChatRoom. groupID:").concat(gt," type:").concat(St)),St===Ut.GRP_AVCHATROOM){var Dt=pr.MESSAGE_SEND_FAIL_NOT_IN_AVCHATROOM;return Xn(new ks({code:Dt,message:ft.getErrorMessage(Dt,at.from,gt),data:{message:at}}))}return Io()})}return Io()}},{key:"checkJoinedAVChatRoomByID",value:function(at){return!!this._AVChatRoomHandler&&this._AVChatRoomHandler.checkJoinedAVChatRoomByID(at)}},{key:"onNewGroupMessage",value:function(at){this._commonGroupHandler&&this._commonGroupHandler.onNewGroupMessage(at)}},{key:"updateNextMessageSeq",value:function(at){var ft=this;if(Zr(at)){var gt=this.getModule(gs);at.forEach(function(Ct){var St=Ct.conversationID.replace(Ut.CONV_GROUP,"");lu(St)&&gt.updateLastMessage(St,Ct.lastMessage),ft.groupMap.has(St)&&(ft.groupMap.get(St).nextMessageSeq=Ct.lastMessage.sequence+1)})}}},{key:"onNewGroupTips",value:function(at){this._groupTipsHandler&&this._groupTipsHandler.onNewGroupTips(at)}},{key:"onGroupMessageRevoked",value:function(at){this._commonGroupHandler&&this._commonGroupHandler.onGroupMessageRevoked(at)}},{key:"onNewGroupSystemNotice",value:function(at){this._groupSystemNoticeHandler&&this._groupSystemNoticeHandler.onNewGroupSystemNotice(at)}},{key:"onGroupMessageReadNotice",value:function(at){var ft=this;at.dataList.forEach(function(gt){var Ct=gt.elements.groupMessageReadNotice;if(!fr(Ct)){var St=ft.getModule(no);Ct.forEach(function(Dt){var Lt=Dt.groupID,jt=Dt.topicID,Kt=jt===void 0?void 0:jt,Jt=Dt.lastMessageSeq;sn.d("".concat(ft._n,".onGroupMessageReadNotice groupID:").concat(Lt," lastMessageSeq:").concat(Jt));var cn="".concat(Ut.CONV_GROUP).concat(Lt),bn=!0;kr(Kt)||(cn="".concat(Ut.CONV_GROUP).concat(Kt),bn=!1),St.updateIsReadAfterReadReport({conversationID:cn,lastMessageSeq:Jt}),St.updateUnreadCount(cn,bn),St.clearGroupAtInfoList(cn,bn)})}})}},{key:"onReadReceiptList",value:function(at){var ft=this;sn.d("".concat(this._n,".onReadReceiptList options:"),JSON.stringify(at)),at.dataList.forEach(function(gt){var Ct=gt.groupProfile,St=gt.elements,Dt=Ct.groupID,Lt=ft.getModule(no),jt=St.readReceiptList;Lt.updateReadReceiptInfo({groupID:Dt,readReceiptList:jt})})}},{key:"onGroupMessageModified",value:function(at){sn.d("".concat(this._n,".onGroupMessageModified options:"),JSON.stringify(at));var ft=this.getModule(no);at.dataList.forEach(function(gt){ft.onMessageModified(rt(rt({},gt),{},{conversationType:Ut.CONV_GROUP,to:gt.topicID?gt.topicID:gt.groupID}))})}},{key:"deleteGroupSystemNotice",value:function(at){this._groupSystemNoticeHandler&&this._groupSystemNoticeHandler.deleteGroupSystemNotice(at)}},{key:"initGroupMap",value:function(at){this.groupMap.set(at.groupID,new Cm(at))}},{key:"deleteGroup",value:function(at){this.groupMap.delete(at)}},{key:"updateGroupMap",value:function(at){var ft,gt=this,Ct=this.getModule(no);at.forEach(function(Kt){ft=Kt.groupID,gt.groupMap.has(ft)?gt.groupMap.get(ft).updateGroup(Kt):(gt.groupMap.set(ft,new Cm(Kt)),Ct.deleteGroupRomaingMessageInfo(ft))});var St,Dt=this.getMyUserID(),Lt=Cn(this.groupMap);try{for(Lt.s();!(St=Lt.n()).done;){var jt=Ft(St.value,2)[1];jt.selfInfo.userID=Dt,jt.selfInfo.role==="Owner"&&(jt.ownerID=Dt)}}catch(Kt){Lt.e(Kt)}finally{Lt.f()}this._setStorageGroupList()}},{key:"getStorageGroupList",value:function(){return this.getModule(Yu).getItem("groupMap")}},{key:"_setStorageGroupList",value:function(){var at=this.getLocalGroupList().filter(function(ft){var gt=ft.type;return!uu(gt)}).filter(function(ft){return!ft.isSupportTopic}).slice(0,20).map(function(ft){return{groupID:ft.groupID,name:ft.name,avatar:ft.avatar,type:ft.type}});this.getModule(Yu).setItem("groupMap",at)}},{key:"getGroupMap",value:function(){return this.groupMap}},{key:"getLocalGroupList",value:function(){return Ht(this.groupMap.values())}},{key:"getLocalGroupProfile",value:function(at){return this.groupMap.get(at)}},{key:"sortLocalGroupList",value:function(){var at=Ht(this.groupMap).filter(function(ft){var gt=Ft(ft,2);return gt[0],!kr(gt[1].lastMessage)});at.sort(function(ft,gt){return gt[1].lastMessage.lastTime-ft[1].lastMessage.lastTime}),this.groupMap=new Map(Ht(at))}},{key:"updateGroupLastMessage",value:function(at){this._commonGroupHandler&&this._commonGroupHandler.handleUpdateGroupLastMessage(at)}},{key:"emitGroupListUpdate",value:function(){var at=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ft=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],gt=this.getLocalGroupList();if(at&&this.emitOuterEvent(yn.GROUP_LIST_UPDATED),ft){var Ct=JSON.parse(JSON.stringify(gt)),St=this.getModule(no);St.updateConversationGroupProfile(Ct)}}},{key:"patchGroupMessageRemindType",value:function(){var at=this.getLocalGroupList(),ft=this.getModule(no),gt=0;at.forEach(function(Ct){ft.patchMessageRemindType({ID:Ct.groupID,isC2CConversation:!1,messageRemindType:Ct.selfInfo.messageRemindType})===!0&&(gt+=1)}),sn.l("".concat(this._n,".patchGroupMessageRemindType count:").concat(gt))}},{key:"recomputeUnreadCount",value:function(){var at=this.getLocalGroupList(),ft=this.getModule(no);at.forEach(function(gt){var Ct=gt.groupID,St=gt.selfInfo,Dt=St.excludedUnreadSequenceList,Lt=St.readedSequence;if(Zr(Dt)){var jt=0;Dt.forEach(function(Kt){Kt>=Lt&&Kt<=gt.nextMessageSeq-1&&(jt+=1)}),jt>=1&&ft.recomputeGroupUnreadCount({conversationID:"".concat(Ut.CONV_GROUP).concat(Ct),count:jt})}})}},{key:"getMyNameCardByGroupID",value:function(at){var ft=this.getLocalGroupProfile(at);return ft?ft.selfInfo.nameCard:""}},{key:"isPagingGetCompleted",value:function(){return!!this._commonGroupHandler&&this._commonGroupHandler.isPagingGetCompleted()}},{key:"getGroupList",value:function(at){return this._commonGroupHandler?this._commonGroupHandler.getGroupList(at):Io()}},{key:"getGroupProfile",value:function(at){var ft=this,gt="".concat(this._n,".").concat("getGroupProfile"),Ct=new br("getGroupProfile"),St=at.groupID,Dt=at.groupCustomFieldFilter;sn.l("".concat(gt," groupID:").concat(St));var Lt={groupIDList:[St],responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq","ShutUpAllMember","InviteJoinOption"],groupCustomFieldFilter:Dt,memberInfoFilter:["Role","JoinTime","MsgSeq","MsgFlag","NameCard"]}};return this.getGroupProfileAdvance(Lt).then(function(jt){var Kt,Jt=jt.data,cn=Jt.successGroupList,bn=Jt.failureGroupList;return sn.l("".concat(gt," ok")),bn.length>0?Xn(bn[0]):(uu(cn[0].type)&&!ft.hasLocalGroup(St)?Kt=new Cm(cn[0]):(ft.updateGroupMap(cn),Kt=ft.getLocalGroupProfile(St)),Kt.isSupportTopic||ft.getModule(no).updateConversationGroupProfile([Kt]),Ct.setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(St," type:").concat(Kt.type," muteAllMembers:").concat(Kt.muteAllMembers," ownerID:").concat(Kt.ownerID)).end(),oo({group:Kt}))}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Ct.setError(jt,cn,bn).setMessage("groupID:".concat(at.groupID)).end()}),sn.e("".concat(gt," failed. error:"),jt),Xn(jt)})}},{key:"getGroupProfileAdvance",value:function(at){var ft="".concat(this._n,".getGroupProfileAdvance"),gt=at.groupIDList;Zr(gt)&&gt.length>50&&(this.outputWarning("GetGroupProfileLimit"),gt.length=50);var Ct=[],St=[];gt.forEach(function(Kt){eu({groupID:Kt})?St.push(Kt):Ct.push(Kt)});var Dt=[];if(Ct.length>0){var Lt=this._getGroupProfileAdvance(rt(rt({},at),{},{groupIDList:Ct}));Dt.push(Lt)}if(St.length>0){var jt=this._getGroupProfileAdvance(rt(rt({},at),{},{groupIDList:St,relayFlag:Ct.length>0}));Dt.push(jt)}return Promise.all(Dt).then(function(Kt){var Jt=[],cn=[];return Kt.forEach(function(bn){Jt.push.apply(Jt,Ht(bn.successGroupList)),cn.push.apply(cn,Ht(bn.failureGroupList))}),oo({successGroupList:Jt,failureGroupList:cn})}).catch(function(Kt){return sn.e("".concat(ft," failed. error:"),Kt),Xn(Kt)})}},{key:"_getGroupProfileAdvance",value:function(at){var ft=this,gt=at.relayFlag,Ct=gt!==void 0&&gt,St=Rt(at,Ny);return this.request({protocolName:Qr,requestData:St}).then(function(Dt){sn.l("".concat(ft._n,"._getGroupProfileAdvance ok."));var Lt=Dt.data.groups;return{successGroupList:Lt.filter(function(jt){return fr(jt.errorCode)||jt.errorCode===0}),failureGroupList:Lt.filter(function(jt){return jt.errorCode&&jt.errorCode!==0}).map(function(jt){return new ks({code:jt.errorCode,message:jt.errorInfo,data:{groupID:jt.groupID}})})}}).catch(function(Dt){return Ct&&eu({groupID:at.groupIDList[0]})?{successGroupList:[],failureGroupList:[]}:Xn(Dt)})}},{key:"createGroup",value:function(at){var ft=this,gt="".concat(this._n,".").concat("createGroup"),Ct=at.type,St=at.groupID;if(at.name&&this._filterProfanity("name",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.introduction&&this._filterProfanity("introduction",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.notification&&this._filterProfanity("notification",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(!["Public","Private","ChatRoom","AVChatRoom","Community"].includes(Ct))return Xn({code:pr.ILLEGAL_GROUP_TYPE});if(!eu({type:Ct})){if(!kr(St)&&eu({groupID:St}))return Xn({code:pr.ILLEGAL_GROUP_ID});at.isSupportTopic=void 0}if(uu(Ct)&&!fr(at.memberList)&&at.memberList.length>0&&(at.memberList=void 0),this._canIUseJoinOption(Ct)||fr(at.joinOption)||(at.joinOption=void 0),eu({type:Ct})){if(!kr(St)&&!eu({groupID:St}))return Xn({code:pr.ILLEGAL_GROUP_ID});at.isSupportTopic=at.isSupportTopic===!0?1:0}var Dt=new br("createGroup");sn.l("".concat(gt," options:"),at);var Lt=null,jt=[];return this.request({protocolName:Lo,requestData:rt(rt({},at),{},{ownerID:this.getMyUserID(),webPushFlag:1})}).then(function(Kt){var Jt=Kt.data,cn=Jt.groupID,bn=Jt.overLimitUserIDList,On=bn===void 0?[]:bn;if(Lt=cn,jt=On,Dt.setNetworkType(ft.getNetworkType()).setMessage("groupType:".concat(at.type," groupID:").concat(cn," overLimitUserIDList=").concat(On)).end(),sn.l("".concat(gt," ok groupID:").concat(cn," overLimitUserIDList:"),On),at.type===Ut.GRP_AVCHATROOM)return ft.getGroupProfile({groupID:cn});if(at.type===Ut.GRP_COMMUNITY&&at.isSupportTopic===1)return ft.getGroupProfile({groupID:cn});kr(at.memberList)||kr(On)||(at.memberList=at.memberList.filter(function(er){return On.indexOf(er.userID)===-1})),ft.updateGroupMap([rt(rt({},at),{},{groupID:cn})]);var Fn=ft.getModule(ba),Wn=Fn.createCustomMessage({to:cn,conversationType:Ut.CONV_GROUP,payload:{data:"group_create",extension:ft.isIntl()?"".concat(ft.getMyUserID()," created a group"):"".concat(ft.getMyUserID(),"")}});return Fn.sendMessageInstance(Wn),ft.emitGroupListUpdate(),ft.getGroupProfile({groupID:cn})}).then(function(Kt){var Jt=Kt.data.group,cn=Jt.selfInfo,bn=cn.nameCard,On=cn.joinTime;return Jt.updateSelfInfo({nameCard:bn,joinTime:On,messageRemindType:Ut.MSG_REMIND_ACPT_AND_NOTE,role:Ut.GRP_MBR_ROLE_OWNER}),oo({group:Jt,overLimitUserIDList:jt})}).catch(function(Kt){if(Dt.setMessage("groupType:".concat(at.type)),ft.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Dt.setError(Kt,On,Fn).end()}),Kt.code===10010||Kt.code===10007){ft.updateGroupMap([rt(rt({},at),{},{groupID:Lt})]);var Jt=ft.getLocalGroupProfile(Lt);return sn.l("".concat(gt," success, but failed to get group profile.")),oo({group:Jt,overLimitUserIDList:jt})}return sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"dismissGroup",value:function(at){var ft=this,gt="".concat(this._n,".").concat("dismissGroup");if(this.hasLocalGroup(at)&&this.getLocalGroupProfile(at).type===Ut.GRP_WORK)return Xn(new ks({code:pr.CANNOT_DISMISS_WORK}));var Ct=new br("dismissGroup");return Ct.setMessage("groupID:".concat(at)),sn.l("".concat(gt," groupID:").concat(at)),this.request({protocolName:Jo,requestData:{groupID:at}}).then(function(){return Ct.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft.deleteLocalGroupAndConversation(at),ft.checkJoinedAVChatRoomByID(at)&&ft._AVChatRoomHandler.reset(at),ft._groupAttributesHandler.deleteLocalGroupAttributes(at),oo({groupID:at})}).catch(function(St){return ft.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.e("".concat(gt," failed. error:"),St),Xn(St)})}},{key:"updateGroupProfile",value:function(at){var ft=this,gt="".concat(this._n,".").concat("updateGroupProfile");if(this.hasLocalGroup(at.groupID)){var Ct=this.getLocalGroupProfile(at.groupID).type;this._canIUseJoinOption(Ct)||fr(at.joinOption)||(sn.w("".concat(gt," joinOption is unavailable for Work/Meeting/AVChatRoom")),at.joinOption=void 0)}if(fr(at.muteAllMembers)||(at.muteAllMembers?at.muteAllMembers="On":at.muteAllMembers="Off"),at.name&&this._filterProfanity("name",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.introduction&&this._filterProfanity("introduction",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.notification&&this._filterProfanity("notification",at)===!1)return Xn({code:pr.PROFANITY_FOUND});var St=new br("updateGroupProfile");return St.setMessage(JSON.stringify(at)),sn.l("".concat(gt," groupID:").concat(at.groupID)),this.request({protocolName:vu,requestData:at}).then(function(){return St.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft.hasLocalGroup(at.groupID)&&(ft.groupMap.get(at.groupID).updateGroup(at),ft._setStorageGroupList()),oo({group:ft.groupMap.get(at.groupID)})}).catch(function(Dt){return ft.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),sn.l("".concat(gt," failed. error:"),Dt),Xn(Dt)})}},{key:"_filterProfanity",value:function(at,ft){var gt=this.getModule(Ju);if(!gt)return!0;var Ct=gt.filterText(ft[at],zo),St=Ct.isAllowedToSend,Dt=Ct.modifiedText;return St===!0&&(ft[at]=Dt,!0)}},{key:"joinGroup",value:function(at){var ft=this,gt=at.groupID,Ct=at.type,St="".concat(this._n,".joinGroup");if(Ct===Ut.GRP_WORK)return Xn({code:pr.CANNOT_JOIN_WORK});if(this.deleteUnjoinedAVChatRoom(gt),this.hasLocalGroup(gt)){if(!this.isLoggedIn())return Io({status:Ut.JOIN_STATUS_ALREADY_IN_GROUP});var Dt=new br("applyJoinGroup");return this.getGroupProfile({groupID:gt}).then(function(){return Dt.setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(gt," joinedStatus:").concat(Ut.JOIN_STATUS_ALREADY_IN_GROUP)).end(),Io({status:Ut.JOIN_STATUS_ALREADY_IN_GROUP})}).catch(function(Lt){return Dt.setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(gt," unjoined")).end(),sn.w("".concat(St," ").concat(gt," was unjoined, now join!")),ft.groupMap.delete(gt),ft.applyJoinGroup(at)})}return sn.l("".concat(St," groupID:").concat(gt)),this.isLoggedIn()?this.applyJoinGroup(at):this._AVChatRoomHandler.joinWithoutAuth(at)}},{key:"applyJoinGroup",value:function(at){var ft=this,gt="".concat(this._n,".").concat("applyJoinGroup"),Ct=at.groupID;if(!kr(at.applyMessage)&&this._filterProfanity("applyMessage",at)===!1)return Xn({code:pr.PROFANITY_FOUND});var St=new br("applyJoinGroup"),Dt=rt({},at),Lt=this.canIUse(hr.AVCHATROOM_HISTORY_MSG);return Lt&&(Dt.historyMessageFlag=1),this.getModule(no).deleteTopicRoamingMessageInfo(Ct),this.request({protocolName:fu,requestData:Dt}).then(function(jt){var Kt=jt.data,Jt=Kt.joinedStatus,cn=Kt.longPollingKey,bn=Kt.startSeq,On=Kt.avChatRoomFlag,Fn=Kt.avChatRoomKey,Wn=Kt.messageList,er="groupID:".concat(Ct," joinedStatus:").concat(Jt," longPollingKey:").concat(cn," startSeq:").concat(bn)+" avChatRoomFlag:".concat(On," canGetAVChatRoomHistoryMessage:").concat(Lt,",")+" history message count:".concat(kr(Wn)?0:Wn.length);switch(St.setNetworkType(ft.getNetworkType()).setMessage("".concat(er)).end(),sn.l("".concat(gt," ok. ").concat(er)),Jt){case Zo:return oo({status:Zo});case Qs:return ft.getGroupProfile({groupID:Ct}).then(function(Tr){var Ur=Tr.data.group;return ft._handleJoinResult({group:Ur,avChatRoomFlag:On,longPollingKey:cn,startSeq:bn,avChatRoomKey:Fn,messageList:Wn})}).catch(function(){var Tr=new Cm({groupID:Ct});return ft._handleJoinResult({group:Tr,avChatRoomFlag:On,longPollingKey:cn,startSeq:bn,avChatRoomKey:Fn,messageList:Wn})});default:var ir=new ks({code:pr.JOIN_GROUP_FAIL});return sn.e("".concat(gt," failed. error:"),ir),Xn(ir)}}).catch(function(jt){return St.setMessage("groupID:".concat(Ct)),ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];St.setError(jt,cn,bn).end()}),sn.e("".concat(gt," failed. error:"),jt),Xn(jt)})}},{key:"_handleJoinResult",value:function(at){var ft,gt=this,Ct=at.group,St=at.avChatRoomFlag,Dt=at.longPollingKey,Lt=at.startSeq,jt=at.avChatRoomKey,Kt=at.messageList,Jt=Ct.groupID;return St===1?(this.getModule(no).setCompleted("".concat(Ut.CONV_GROUP).concat(Jt)),this._groupAttributesHandler.initGroupAttributesCache({groupID:Jt,avChatRoomKey:jt}),this._groupCountersHandler.initGroupCountersCache({groupID:Jt,avChatRoomKey:jt}),(ft=fr(Dt)?this._AVChatRoomHandler.handleJoinResult({group:Ct}):this._AVChatRoomHandler.startRunLoop({group:Ct,longPollingKey:Dt,startSeq:Lt})).then(function(){gt._onAVChatRoomHistoryMessage(Kt)}),ft):(this.emitGroupListUpdate(!0,!1),oo({status:Qs,group:Ct}))}},{key:"quitGroup",value:function(at){var ft=this,gt="".concat(this._n,".").concat("quitGroup");sn.l("".concat(gt," groupID:").concat(at));var Ct=this.checkJoinedAVChatRoomByID(at);if(!Ct&&!this.hasLocalGroup(at))return Xn({code:pr.MEMBER_NOT_IN_GROUP});if(Ct&&!this.isLoggedIn())return sn.l("".concat(gt," anonymously ok. groupID:").concat(at)),this.deleteLocalGroupAndConversation(at),this._AVChatRoomHandler.reset(at),Io({groupID:at});var St=new br("quitGroup");return St.setMessage("groupID:".concat(at)),this.request({protocolName:Ml,requestData:{groupID:at}}).then(function(){return St.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft.deleteLocalGroupAndConversation(at),Ct&&ft._AVChatRoomHandler.reset(at),ft._groupAttributesHandler.deleteLocalGroupAttributes(at),oo({groupID:at})}).catch(function(Dt){return ft.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),sn.e("".concat(gt," failed. error:"),Dt),Xn(Dt)})}},{key:"searchGroupByID",value:function(at){var ft=this,gt="".concat(this._n,".").concat("searchGroupByID"),Ct={groupIDList:[at]},St=new br("searchGroupByID");return St.setMessage("groupID:".concat(at)),sn.l("".concat(gt," groupID:").concat(at)),this.request({protocolName:sp,requestData:Ct}).then(function(Dt){var Lt=Dt.data.groupProfile;if(Lt[0].errorCode!==0)throw new ks({code:Lt[0].errorCode,message:Lt[0].errorInfo});return St.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),oo({group:new Cm(Lt[0])})}).catch(function(Dt){return ft.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),sn.w("".concat(gt," failed. error:"),Dt),Xn(Dt)})}},{key:"changeGroupOwner",value:function(at){var ft=this,gt="".concat(this._n,".").concat("changeGroupOwner");if(this.hasLocalGroup(at.groupID)&&this.getLocalGroupProfile(at.groupID).type===Ut.GRP_AVCHATROOM)return Xn({code:pr.CANNOT_CHANGE_OWNER_IN_AVCHATROOM});if(at.newOwnerID===this.getMyUserID())return Xn({code:pr.CANNOT_CHANGE_OWNER_TO_SELF});var Ct=new br("changeGroupOwner");return Ct.setMessage("groupID:".concat(at.groupID," newOwnerID:").concat(at.newOwnerID)),sn.l("".concat(gt," groupID:").concat(at.groupID)),this.request({protocolName:Gl,requestData:at}).then(function(){Ct.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok"));var St=at.groupID,Dt=at.newOwnerID;ft.groupMap.get(St).ownerID=Dt;var Lt=ft.getModule(Rs).getLocalGroupMemberList(St);if(Lt instanceof Map){var jt=Lt.get(ft.getMyUserID());fr(jt)||(jt.updateRole("Member"),ft.groupMap.get(St).selfInfo.role="Member");var Kt=Lt.get(Dt);fr(Kt)||Kt.updateRole("Owner")}return ft.emitGroupListUpdate(!0,!1),oo({group:ft.groupMap.get(St)})}).catch(function(St){return ft.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.e("".concat(gt," failed. error:"),St),Xn(St)})}},{key:"getGroupApplicationList",value:function(){return this._groupSystemNoticeHandler.getGroupApplicationList()}},{key:"handleGroupApplication",value:function(at){var ft,gt,Ct,St,Dt,Lt=this,jt="".concat(this._n,".").concat("handleGroupApplication"),Kt=at.handleAction,Jt=at.handleMessage,cn=at.message,bn=at.application;cn?(ft=cn.payload.operatorID,gt=cn.payload.groupProfile.groupID,Ct=cn.payload.authentication,St=cn.payload.messageKey):bn&&(ft=bn.applicant,gt=bn.groupID,Ct=bn.authentication,St=bn.messageKey);var On=cp;bn&&bn.applicationType===2&&(On=Pp,Dt=bn.userID);var Fn=new br("handleGroupApplication");return Fn.setMessage("groupID:".concat(gt)),sn.l("".concat(jt," groupID:").concat(gt)),this.request({protocolName:On,requestData:{handleAction:Kt,handleMessage:Jt,applicant:ft,invitee:Dt,groupID:gt,authentication:Ct,messageKey:St}}).then(function(){return Fn.setNetworkType(Lt.getNetworkType()).end(),sn.l("".concat(jt," ok")),cn&&Lt._groupSystemNoticeHandler.deleteGroupSystemNotice({messageList:[at.message]}),oo({group:Lt.getLocalGroupProfile(gt)})}).catch(function(Wn){return Lt.probeNetwork().then(function(er){var ir=Ft(er,2),Tr=ir[0],Ur=ir[1];Fn.setError(Wn,Tr,Ur).end()}),sn.e("".concat(jt," failed. error"),Wn),Xn(Wn)})}},{key:"handleGroupInvitation",value:function(at){var ft=this,gt="".concat(this._n,".").concat("handleGroupInvitation"),Ct=at.message.payload,St=Ct.groupProfile.groupID,Dt=Ct.authentication,Lt=Ct.messageKey,jt=Ct.operatorID,Kt=at.handleAction,Jt=new br("handleGroupInvitation");return Jt.setMessage("groupID:".concat(St," inviter:").concat(jt," handleAction:").concat(Kt)),sn.l("".concat(gt," groupID:").concat(St," inviter:").concat(jt," handleAction:").concat(Kt)),this.request({protocolName:a_,requestData:rt(rt({},at),{},{inviter:jt,groupID:St,authentication:Dt,messageKey:Lt})}).then(function(){return Jt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft._groupSystemNoticeHandler.deleteGroupSystemNotice({messageList:[at.message]}),oo({group:ft.getLocalGroupProfile(St)})}).catch(function(cn){return ft.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Jt.setError(cn,Fn,Wn).end()}),sn.e("".concat(gt," failed. error"),cn),Xn(cn)})}},{key:"getGroupOnlineMemberCount",value:function(at){return this._AVChatRoomHandler?this._AVChatRoomHandler.checkJoinedAVChatRoomByID(at)?this._AVChatRoomHandler.getGroupOnlineMemberCount(at):Io({memberCount:0}):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"hasLocalGroup",value:function(at){return this.groupMap.has(at)}},{key:"deleteLocalGroupAndConversation",value:function(at){var ft=this.checkJoinedAVChatRoomByID(at);if(sn.l("".concat(this._n,".deleteLocalGroupAndConversation isJoinedAVChatRoom:").concat(ft)),ft&&this.getModule(no).deleteLocalConversation("".concat(Ut.CONV_GROUP).concat(at)),eu({groupID:at})){var gt=this.getLocalGroupProfile(at);gt&&gt.isSupportTopic===!0&&this.getModule(gs).deleteTopicListInCommunity(at)}this._deleteLocalGroup(at),this.emitGroupListUpdate(!0,!1)}},{key:"_deleteLocalGroup",value:function(at){this.groupMap.delete(at),this.getModule(Rs).deleteGroupMemberList(at),this._setStorageGroupList()}},{key:"sendMessage",value:function(at,ft){if(Zr(at._receiverList)&&at._receiverList.length>0&&!this.canIUse(hr.MSG_TO_SPECIFIED_GRP_MBR))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var gt=this.createGroupMessagePack(at,ft);return this.request(gt)}},{key:"createGroupMessagePack",value:function(at,ft){var gt=null;ft&&ft.offlinePushInfo&&(gt=ft.offlinePushInfo);var Ct="";yo(at.cloudCustomData)&&at.cloudCustomData.length>0&&(Ct=at.cloudCustomData);var St=[];if(ns(ft)&&ns(ft.messageControlInfo)){var Dt=ft.messageControlInfo,Lt=Dt.excludedFromUnreadCount,jt=Dt.excludedFromLastMessage,Kt=Dt.excludedFromContentModeration;Lt===!0&&St.push("NoUnread"),jt===!0&&St.push("NoLastMsg"),Kt===!0&&St.push("NoMsgCheck")}var Jt=void 0;Zr(at._receiverList)&&at._receiverList.length>0&&(Jt=at._receiverList,at._receiverList.length>50&&(Jt=at._receiverList.slice(0,50),this.outputWarning("ReceiverListLimit")));var cn=this.isOnlineMessage(at,ft)?1:0,bn=at.getGroupAtInfoList(),On={fromAccount:this.getMyUserID(),groupID:at.to,msgBody:at.getElements(),cloudCustomData:Ct,random:at.random,priority:at.priority,clientSequence:at.clientSequence,groupAtInfo:at.type!==Ut.MSG_TEXT||kr(bn)?void 0:bn,onlineOnlyFlag:cn,clientTime:at.clientTime,offlinePushInfo:gt?{pushFlag:gt.disablePush===!0?1:0,title:gt.title||"",desc:gt.description||"",ext:gt.extension||"",apnsInfo:{badgeMode:gt.ignoreIOSBadge===!0?1:0,isVoipPush:this._isVoipPush(gt)},androidInfo:{OPPOChannelID:gt.androidOPPOChannelID||""}}:void 0,messageControlInfo:cn===0?St:void 0,needReadReceipt:at.needReadReceipt!==!0||this.isMessageFromOrToAVChatroom(at.to)?0:1,receiverList:Jt,isSupportExtension:at.isSupportExtension===!0?1:0};return lu(at.to)&&(On.groupID=Es(at.to),On.topicID=at.to),{protocolName:Nr,tjgID:this.generateTjgID(at),requestData:On}}},{key:"_isVoipPush",value:function(at){var ft=void 0;return fr(at.disableVoipPush)||(ft=at.disableVoipPush===!1?1:0),ft}},{key:"revokeMessage",value:function(at){var ft={groupID:at.to,msgSeqList:[{msgSeq:at.sequence}]};return lu(at.to)&&(ft.groupID=Es(at.to),ft.topicID=at.to),this.request({protocolName:Qp,requestData:ft})}},{key:"deleteMessage",value:function(at){var ft=at.to,gt=at.keyList;sn.l("".concat(this._n,".deleteMessage groupID:").concat(ft," count:").concat(gt.length));var Ct={groupID:ft,deleter:this.getMyUserID(),keyList:gt};return lu(ft)&&(Ct.groupID=Es(ft),Ct.topicID=ft),this.request({protocolName:ms,requestData:Ct})}},{key:"modifyRemoteMessage",value:function(at){var ft=at.to,gt=at.sequence,Ct=at.payload,St=at.type,Dt=at.version,Lt=Dt===void 0?0:Dt,jt=at.cloudCustomData,Kt=ft,Jt=void 0;lu(ft)&&(Kt=Es(ft),Jt=ft);var cn=void 0;return dr(St)&&(cn=[]).push({type:St,content:Ct}),this.request({protocolName:Q_,requestData:{groupID:Kt,topicID:Jt,sequence:gt,version:Lt,elements:cn,cloudCustomData:jt}})}},{key:"getRoamingMessage",value:function(at){var ft=this,gt="".concat(this._n,".getRoamingMessage"),Ct=at.conversationID,St=at.groupID,Dt=at.sequence,Lt=new br("getGroupRoamingMessages"),jt=0,Kt=void 0;return lu(St)&&(St=Es(Kt=St)),this._computeLastSequence({groupID:St,topicID:Kt,sequence:Dt}).then(function(Jt){return jt=Jt,sn.l("".concat(gt," groupID:").concat(St," startSequence:").concat(jt)),ft.request({protocolName:A_,requestData:{groupID:St,count:21,sequence:jt,topicID:Kt}})}).then(function(Jt){var cn=Jt.data,bn=cn.messageList,On=cn.complete,Fn=cn.invisibleSequenceList,Wn=Fn===void 0?[]:Fn;fr(bn)?sn.l("".concat(gt," ok. complete:").concat(On," but messageList is undefined!")):sn.l("".concat(gt," ok. complete:").concat(On," count:").concat(bn.length));var er=ft._getMinSequence(Wn,bn)-1;Lt.setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(St," topicID:").concat(Kt," startSequence:").concat(jt," complete:").concat(On," nextSequence:").concat(er)).end();var ir=ft.getModule(no),Tr=[];return kr(bn)||(ir.updateRoamingMessageSequence(Ct,er),Tr=ir.onRoamingMessage(bn,Ct),ir.updateIsRead(Ct),ir.patchConversationLastMessage(Ct)),(On===2||er<=1)&&(ir.setCompleted(Ct),er=""),sn.l("".concat(gt," nextReqID:").concat(er,", stored message count:").concat(Tr.length,", invisible sequence count:").concat(Wn.length)),{nextReqID:er+"",storedMessageList:Tr}}).catch(function(Jt){return ft.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Lt.setError(Jt,On,Fn).setMessage("groupID:".concat(St," topicID:").concat(Kt," startSequence:").concat(jt)).end()}),sn.w("".concat(gt," failed. error:"),Jt),Xn(Jt)})}},{key:"_getGroupIDOfMessage",value:function(at){return at.conversationID.replace(Ut.CONV_GROUP,"")}},{key:"_getMinSequence",value:function(at,ft){var gt=0;kr(ft)||(gt=ft[ft.length-1].sequence);var Ct=0;return kr(at)||(Ct=at[at.length-1]),sn.l("".concat(this._n,"._getMinSequence minVisibleSequence:").concat(gt," minInvisibleSequence:").concat(Ct)),Ct>0&&Ct<gt?Ct:gt}},{key:"getReadReceiptList",value:function(at){var ft=this,gt="".concat(this._n,".").concat("getReadReceiptList"),Ct=this._getGroupIDOfMessage(at[0]),St=this.getMyUserID(),Dt=at.filter(function(jt){return jt.from===St&&jt.needReadReceipt===!0}).map(function(jt){return{sequence:jt.sequence}});if(sn.l("".concat(gt," groupID:").concat(Ct," sequenceList:").concat(JSON.stringify(Dt))),Dt.length===0)return Io({messageList:at});var Lt=new br("getReadReceiptList");return Lt.setMessage("groupID:".concat(Ct)),this.request({protocolName:xv,requestData:{groupID:Ct,sequenceList:Dt}}).then(function(jt){Lt.end(),sn.l("".concat(gt," ok"));var Kt=jt.data.readReceiptList;return Zr(Kt)&&Kt.forEach(function(Jt){at.forEach(function(cn){Jt.code===0&&Jt.sequence===cn.sequence&&(cn.readReceiptInfo.readCount=Jt.readCount,cn.readReceiptInfo.unreadCount=Jt.unreadCount)})}),oo({messageList:at})}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Lt.setError(jt,cn,bn).end()}),sn.w("".concat(gt," failed. error:"),jt),Xn(jt)})}},{key:"sendReadReceipt",value:function(at){var ft=this,gt="".concat(this._n,".").concat("sendReadReceipt"),Ct=this._getGroupIDOfMessage(at[0]),St=new br("sendReadReceipt");St.setMessage("groupID:".concat(Ct));var Dt=this.getMyUserID(),Lt=at.filter(function(jt){return jt.from!==Dt&&jt.needReadReceipt===!0}).map(function(jt){return{sequence:jt.sequence}});return Lt.length===0?Xn({code:pr.READ_RECEIPT_MESSAGE_LIST_EMPTY}):(sn.l("".concat(gt,". sequenceList:").concat(JSON.stringify(Lt))),this.request({protocolName:wv,requestData:{groupID:Ct,sequenceList:Lt}}).then(function(jt){return St.end(),sn.l("".concat(gt," ok")),oo()}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];St.setError(jt,cn,bn).end()}),sn.w("".concat(gt," failed. error:"),jt),Xn(jt)}))}},{key:"getReadReceiptDetail",value:function(at){var ft=this,gt=at.message,Ct=at.filter,St=at.cursor,Dt=at.count,Lt=this._getGroupIDOfMessage(gt),jt=gt.ID,Kt=gt.sequence,Jt="".concat(this._n,".").concat("getReadReceiptDetail"),cn=this._receiptDetailCompleteMap.get(jt)||!1,bn=Ct!==0&&Ct!==1?0:Ct,On=yo(St)?St:"",Fn=!Yo(Dt)||Dt<=0||Dt>=100?100:Dt,Wn="groupID:".concat(Lt," sequence:").concat(Kt," cursor:").concat(On," filter:").concat(bn," completeFlag:").concat(cn);sn.l("".concat(Jt," ").concat(Wn));var er={cursor:"",isCompleted:!1,messageID:jt,unreadUserIDList:[],readUserIDList:[]},ir=new br("getReadReceiptDetail");return ir.setMessage(Wn),this.request({protocolName:Um,requestData:{groupID:Lt,sequence:Kt,flag:bn,cursor:On,count:Fn}}).then(function(Tr){ir.end();var Ur=Tr.data,zr=Ur.cursor,co=Ur.isCompleted,$o=Ur.unreadUserIDList,Ho=Ur.readUserIDList;return er.cursor=zr,co===1&&(er.isCompleted=!0,ft._receiptDetailCompleteMap.set(jt,!0)),bn===0?er.readUserIDList=Ho.map(function(Ro){return Ro.userID}):bn===1&&(er.unreadUserIDList=$o.map(function(Ro){return Ro.userID})),sn.l("".concat(Jt," ok")),oo(er)}).catch(function(Tr){return ft.probeNetwork().then(function(Ur){var zr=Ft(Ur,2),co=zr[0],$o=zr[1];ir.setError(Tr,co,$o).end()}),sn.w("".concat(Jt," failed. error:"),Tr),Xn(Tr)})}},{key:"getRoamingMessagesHopping",value:function(at){var ft=this,gt="".concat(this._n,".getRoamingMessagesHopping"),Ct=new br("getGroupRoamingMessagesHopping"),St=at.groupID,Dt=at.count,Lt=at.sequence,jt=at.direction,Kt=Lt;jt===1&&(Kt=Lt+Dt-1);var Jt=void 0;lu(St)&&(St=Es(Jt=St));var cn="".concat(Jt?"topicID:".concat(Jt):"groupID:".concat(St)," sequence:").concat(Lt," direction:").concat(jt);return sn.l("".concat(gt," ").concat(cn)),this.request({protocolName:A_,requestData:{groupID:St,topicID:Jt,count:Dt,sequence:Kt}}).then(function(bn){var On=bn.data,Fn=On.messageList,Wn=On.complete,er="complete:".concat(Wn," count:").concat(Fn?Fn.length:0);if(sn.l("".concat(gt," ok. ").concat(er)),Ct.setNetworkType(ft.getNetworkType()).setMessage("".concat(cn," ").concat(er)).end(),Wn===2||kr(Fn)){var ir=ft._computeResult();return oo(ir)}var Tr="".concat(Ut.CONV_GROUP).concat(at.groupID),Ur=ft.getModule(no).onRoamingMessage(Fn,Tr,!1),zr=ft._computeResult({direction:jt,sequence:Lt,remoteMessageList:Fn,processedMessageList:Ur});return oo(zr)}).catch(function(bn){return ft.probeNetwork().then(function(On){var Fn=Ft(On,2),Wn=Fn[0],er=Fn[1];Ct.setError(bn,Wn,er).setMessage("groupID:".concat(St," sequence:").concat(Lt," count:").concat(Dt)).end()}),sn.w("".concat(gt," failed. error:"),bn),Xn(bn)})}},{key:"_computeResult",value:function(at){var ft={messageList:[],isCompleted:!1,nextMessageSeq:""};if(fr(at))return ft.isCompleted=!0,ft;var gt=at.direction,Ct=at.sequence,St=at.remoteMessageList,Dt=St===void 0?[]:St,Lt=at.processedMessageList,jt=Lt===void 0?[]:Lt,Kt=Dt.length;return gt===1?(ft.nextMessageSeq=Dt[0].sequence+1,jt.forEach(function(Jt){Jt.sequence>=Ct&&ft.messageList.push(Jt)}),ft.messageList.length===0&&Dt[0].sequence<Ct&&(ft.isCompleted=!0,ft.nextMessageSeq=""),ft):(ft.nextMessageSeq=Dt[Kt-1].sequence-1,ft.messageList=Ht(jt),ft.nextMessageSeq===0&&(ft.isCompleted=!0,ft.nextMessageSeq=""),ft)}},{key:"setMessageRead",value:function(at){var ft=this,gt=at.conversationID,Ct=at.lastMessageSeq,St="".concat(this._n,".setMessageRead");sn.l("".concat(St," conversationID:").concat(gt," lastMessageSeq:").concat(Ct)),Yo(Ct)||this.outputWarning("DoNotModifyLastSeq");var Dt=new br("setGroupMessageRead");Dt.setMessage("".concat(gt,"-").concat(Ct));var Lt=gt.replace(Ut.CONV_GROUP,""),jt=void 0;return lu(Lt)&&(Lt=Es(jt=Lt)),this.request({protocolName:X_,requestData:{groupID:Lt,topicID:jt,messageReadSeq:Ct}}).then(function(){Dt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(St," ok."));var Kt=ft.getModule(no);Kt.updateIsReadAfterReadReport({conversationID:gt,lastMessageSeq:Ct});var Jt=!0;if(!fr(jt)){Jt=!1;var cn=ft.getModule(gs).getLocalTopic(Lt,jt);cn&&cn.updateSelfInfo({readedSequence:Ct})}return Kt.updateUnreadCount(gt,Jt),oo()}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Dt.setError(Kt,bn,On).end()}),sn.l("".concat(St," failed. error:"),Kt),Xn(Kt)})}},{key:"_computeLastSequence",value:function(at){var ft=at.groupID,gt=at.topicID,Ct=gt===void 0?void 0:gt,St=at.sequence;return St>0?Promise.resolve(St):fr(Ct)||this.hasLocalGroup(ft)?fr(Ct)?this.getGroupLastSequence(ft):this.getTopicLastSequence({groupID:ft,topicID:Ct}):Promise.resolve(0)}},{key:"getGroupLastSequence",value:function(at){var ft=this,gt="".concat(this._n,".").concat("getGroupLastSequence"),Ct=new br("getGroupLastSequence"),St=0,Dt="";if(this.hasLocalGroup(at)){var Lt=this.getLocalGroupProfile(at),jt=Lt.lastMessage;if(jt.lastSequence>0&&jt.onlineOnlyFlag===!1)return St=jt.lastSequence,Dt="got lastSequence:".concat(St," from local group profile[lastMessage.lastSequence]. groupID:").concat(at),sn.l("".concat(gt," ").concat(Dt)),Ct.setNetworkType(this.getNetworkType()).setMessage("".concat(Dt)).end(),Promise.resolve(St);if(Lt.nextMessageSeq>1)return St=Lt.nextMessageSeq-1,Dt="got lastSequence:".concat(St," from local group profile[nextMessageSeq]. groupID:").concat(at),sn.l("".concat(gt," ").concat(Dt)),Ct.setNetworkType(this.getNetworkType()).setMessage("".concat(Dt)).end(),Promise.resolve(St)}var Kt="GROUP".concat(at),Jt=this.getModule(no).getLocalConversation(Kt);if(Jt&&Jt.lastMessage.lastSequence&&Jt.lastMessage.onlineOnlyFlag===!1)return St=Jt.lastMessage.lastSequence,Dt="got lastSequence:".concat(St," from local conversation profile[lastMessage.lastSequence]. groupID:").concat(at),sn.l("".concat(gt," ").concat(Dt)),Ct.setNetworkType(this.getNetworkType()).setMessage("".concat(Dt)).end(),Promise.resolve(St);var cn={groupIDList:[at],responseFilter:{groupBaseInfoFilter:["NextMsgSeq"]}};return this.getGroupProfileAdvance(cn).then(function(bn){var On=bn.data.successGroupList;return kr(On)?sn.l("".concat(gt," successGroupList is empty. groupID:").concat(at)):(St=On[0].nextMessageSeq-1,Dt="got lastSequence:".concat(St," from getGroupProfileAdvance. groupID:").concat(at),sn.l("".concat(gt," ").concat(Dt))),Ct.setNetworkType(ft.getNetworkType()).setMessage("".concat(Dt)).end(),St}).catch(function(bn){return ft.probeNetwork().then(function(On){var Fn=Ft(On,2),Wn=Fn[0],er=Fn[1];Ct.setError(bn,Wn,er).setMessage("get lastSequence failed from getGroupProfileAdvance. groupID:".concat(at)).end()}),sn.w("".concat(gt," failed. error:"),bn),Xn(bn)})}},{key:"getTopicLastSequence",value:function(at){var ft=this,gt=at.groupID,Ct=at.topicID,St="".concat(this._n,".").concat("getTopicLastSequence"),Dt=new br("getTopicLastSequence"),Lt=0,jt="",Kt=this.getModule(gs);return Kt.hasLocalTopic(gt,Ct)?(Lt=Kt.getLocalTopic(gt,Ct).nextMessageSeq-1,jt="get lastSequence:".concat(Lt," from local topic info[nextMessageSeq]. topicID:").concat(Ct),sn.l("".concat(St," ").concat(jt)),Dt.setNetworkType(this.getNetworkType()).setMessage("".concat(jt)).end(),Promise.resolve(Lt)):Kt.getTopicList({groupID:gt,topicIDList:[Ct]}).then(function(Jt){var cn=Jt.data.successTopicList;return kr(cn)?sn.l("".concat(St," successTopicList is empty. topicID:").concat(Ct)):(Lt=cn[0].nextMessageSeq-1,jt="get lastSequence:".concat(Lt," from getTopicList. topicID:").concat(Ct),sn.l("".concat(St," ").concat(jt))),Dt.setNetworkType(ft.getNetworkType()).setMessage("".concat(jt)).end(),Lt}).catch(function(Jt){return ft.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Dt.setError(Jt,On,Fn).setMessage("get lastSequence failed from getTopicList. topicID:".concat(Ct)).end()}),sn.w("".concat(St," failed. error:"),Jt),Xn(Jt)})}},{key:"isMessageFromOrToAVChatroom",value:function(at){return!!this._AVChatRoomHandler&&this._AVChatRoomHandler.checkJoinedAVChatRoomByID(at)}},{key:"hasJoinedAVChatRoom",value:function(){return this._AVChatRoomHandler?this._AVChatRoomHandler.hasJoinedAVChatRoom():0}},{key:"getJoinedAVChatRoom",value:function(){return this._AVChatRoomHandler?this._AVChatRoomHandler.getJoinedAVChatRoom():[]}},{key:"isOnlineMessage",value:function(at,ft){return!(!this._canIUseOnlineOnlyFlag(at)||!ft||ft.onlineUserOnly!==!0)}},{key:"_canIUseOnlineOnlyFlag",value:function(at){var ft=this.getJoinedAVChatRoom();return!ft||!ft.includes(at.to)||at.conversationType!==Ut.CONV_GROUP}},{key:"_onAVChatRoomHistoryMessage",value:function(at){if(!kr(at)){sn.l("".concat(this._n,"._onAVChatRoomHistoryMessage count:").concat(at.length));var ft=[];at.forEach(function(gt){ft.push(rt(rt({},gt),{},{isHistoryMessage:1}))}),this.onAVChatRoomMessage(ft)}}},{key:"onAVChatRoomMessage",value:function(at){this._AVChatRoomHandler&&this._AVChatRoomHandler.onMessage(at)}},{key:"onAVChatRoomMemberBanned",value:function(at){this._AVChatRoomHandler&&this._AVChatRoomHandler.onAVChatRoomMemberBanned(at)}},{key:"getGroupSimplifiedInfo",value:function(at){var ft=this,gt=new br("getGroupSimplifiedInfo"),Ct={groupIDList:[at],responseFilter:{groupBaseInfoFilter:["Type","Name"]}};return this.getGroupProfileAdvance(Ct).then(function(St){var Dt=St.data.successGroupList;return gt.setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(at," type:").concat(Dt[0].type)).end(),Dt[0]}).catch(function(St){ft.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];gt.setError(St,jt,Kt).setMessage("groupID:".concat(at)).end()})})}},{key:"setUnjoinedAVChatRoom",value:function(at){this._unjoinedAVChatRoomList.set(at,1)}},{key:"deleteUnjoinedAVChatRoom",value:function(at){this._unjoinedAVChatRoomList.has(at)&&this._unjoinedAVChatRoomList.delete(at)}},{key:"isUnjoinedAVChatRoom",value:function(at){return this._unjoinedAVChatRoomList.has(at)}},{key:"isGroupAttributesUpdatedNotice",value:function(at){return this._groupAttributesHandler.isGroupAttributesUpdatedNotice(at)}},{key:"updateLocalMainSequenceOnReconnected",value:function(){this._groupAttributesHandler.updateLocalMainSequenceOnReconnected()}},{key:"initGroupAttributes",value:function(at){return this._groupAttributesHandler.initGroupAttributes(at)}},{key:"setGroupAttributes",value:function(at){return this._groupAttributesHandler.setGroupAttributes(at)}},{key:"deleteGroupAttributes",value:function(at){return this._groupAttributesHandler.deleteGroupAttributes(at)}},{key:"getGroupAttributes",value:function(at){return this._groupAttributesHandler.getGroupAttributes(at)}},{key:"isMessageFromTopic",value:function(at,ft){return at===2&&!kr(ft)}},{key:"isMessageFromCommunityOfTopic",value:function(at,ft){return at===2&&kr(ft)}},{key:"getMessageExtensions",value:function(at,ft){return sn.l("".concat(this._n,".getMessageExtensions startSequence:").concat(ft)),this.request({protocolName:Rv,requestData:{groupID:at.to,messageSequence:at.sequence,startSequence:ft}})}},{key:"modifyMessageExtensions",value:function(at,ft){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return sn.l("".concat(this._n,".modifyMessageExtensions operateType:").concat(gt)),this.request({protocolName:C_,requestData:{groupID:at.to,messageSequence:at.sequence,extensionList:ft,operateType:gt}})}},{key:"getGroupNotify",value:function(at){var ft=this;if(this.hasLocalGroup(at)){var gt=this.getLocalGroupProfile(at),Ct=gt.type,St=gt.isSupportTopic;if(!uu(Ct)&&!St){var Dt="".concat(this._n,".getGroupNotify"),Lt=this._getGroupLastRevokedTime(at),jt=1e3*iu();sn.l("".concat(Dt," groupID:").concat(at," type:").concat(Ct," beginTime:").concat(Lt," endTime:").concat(jt)),this.request({protocolName:Ov,requestData:{type:eu({type:Ct,groupID:at})?Ut.GRP_COMMUNITY:void 0,groupID:at,beginTime:Lt,endTime:jt}}).then(function(Kt){var Jt=Kt.data,cn=Jt.nextRevokedTime,bn=Jt.notifyList;sn.l("".concat(Dt," ok. groupID:").concat(at," nextRevokedTime:").concat(cn));var On={dataList:[{elements:{revokedInfos:[]}}]};Zr(bn)&&bn.forEach(function(Fn){On.dataList[0].elements.revokedInfos.push({groupID:at,sequence:Fn.sequence,random:Fn.random,revokerInfo:rt({},Fn.revokerInfo)})}),ft.onGroupMessageRevoked(On),cn!==0?(ft._setGroupLastRevokedTime(at,cn),ft.getGroupNotify(at)):ft._setGroupLastRevokedTime(at,1e3*iu())}).catch(function(Kt){sn.e("".concat(Dt," failed. error:"),Kt)})}}}},{key:"_getGroupLastRevokedTime",value:function(at){return this.hasLocalGroup(at)?this.getLocalGroupProfile(at)._lastRevokedTime:0}},{key:"_setGroupLastRevokedTime",value:function(at,ft){this.hasLocalGroup(at)&&(this.getLocalGroupProfile(at)._lastRevokedTime=ft)}},{key:"isGroupCountersNotice",value:function(at){return this._groupCountersHandler.isGroupCountersNotice(at)}},{key:"setGroupCounters",value:function(at){return this._groupCountersHandler.setGroupCounters(at)}},{key:"increaseGroupCounter",value:function(at){return this._groupCountersHandler.increaseGroupCounter(at)}},{key:"decreaseGroupCounter",value:function(at){return this._groupCountersHandler.decreaseGroupCounter(at)}},{key:"getGroupCounters",value:function(at){return this._groupCountersHandler.getGroupCounters(at)}},{key:"restartPolling",value:function(){this._AVChatRoomHandler&&this._AVChatRoomHandler.restartPolling()}},{key:"getPollingTimerID",value:function(at){if(!at)return-1;var ft=this.getLocalGroupProfile(at);return ft&&uu(ft.type)?this._AVChatRoomHandler.getPollingTimerID(at):-1}},{key:"_canIUseJoinOption",value:function(at){return function(ft){return ft===Ut.GRP_PUBLIC}(at)||eu({type:at})}},{key:"reset",value:function(){this.groupMap.clear(),this._unjoinedAVChatRoomList.clear(),this._receiptDetailCompleteMap.clear(),this._commonGroupHandler.reset(),this._groupSystemNoticeHandler.reset(),this._groupTipsHandler.reset(),this._groupAttributesHandler.reset(),this._groupCountersHandler.reset(),this._AVChatRoomHandler&&this._AVChatRoomHandler.reset()}}]),_t}(Ys),P_=function(){function Nt(ut){it(this,Nt),this.userID="",this.avatar="",this.nick="",this.role="",this.joinTime="",this.lastSendMsgTime="",this.nameCard="",this.muteUntil=0,this.memberCustomField=[],this._initMember(ut)}return lt(Nt,[{key:"_initMember",value:function(ut){this.updateMember(ut)}},{key:"updateMember",value:function(ut){var _t=[null,void 0,"",0,NaN];ut.memberCustomField&&zs(this.memberCustomField,ut.memberCustomField),Eu(this,ut,["memberCustomField","marks"],_t)}},{key:"updateRole",value:function(ut){["Owner","Admin","Member"].indexOf(ut)<0||(this.role=ut)}},{key:"updateMuteUntil",value:function(ut){fr(ut)||(this.muteUntil=Math.floor((Date.now()+1e3*ut)/1e3))}},{key:"updateNameCard",value:function(ut){fr(ut)||(this.nameCard=ut)}},{key:"updateMemberCustomField",value:function(ut){ut&&zs(this.memberCustomField,ut)}}]),Nt}(),p0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="GroupMemberModule",ft.groupMemberListMap=new Map,ft.getInnerEmitterInstance().on(O_,ft._onProfileUpdated,Bt(ft)),ft}return lt(_t,[{key:"_onProfileUpdated",value:function(at){for(var ft=this,gt=at.data,Ct=function(Dt){var Lt=gt[Dt];ft.groupMemberListMap.forEach(function(jt){jt.has(Lt.userID)&&jt.get(Lt.userID).updateMember({nick:Lt.nick,avatar:Lt.avatar})})},St=0;St<gt.length;St++)Ct(St)}},{key:"deleteGroupMemberList",value:function(at){this.groupMemberListMap.delete(at)}},{key:"getGroupMemberList",value:function(at){var ft=this,gt=at.groupID,Ct=at.offset,St=Ct===void 0?0:Ct,Dt=at.count,Lt=Dt===void 0?15:Dt,jt=at.filter,Kt=jt===void 0?void 0:jt,Jt="".concat(this._n,".").concat("getGroupMemberList"),cn=this.getModule(vo),bn=cn.hasLocalGroup(gt);if(sn.l("".concat(Jt," groupID:").concat(gt," offset:").concat(St," count:").concat(Lt," hasLocalGroup:").concat(bn)),!bn)return Io({memberList:[],offset:0});if(cn.getLocalGroupProfile(gt).type===Ut.GRP_AVCHATROOM){if(this.canIUse(hr.AVCHATROOM_MBR_LIST))return this._getAVChatRoomMemberList({groupID:gt,offset:St,filter:Kt});this.outputWarning("LiveOnlineMember")}var On=new br("getGroupMemberList"),Fn=0,Wn={groupID:gt,limit:Lt>100?100:Lt};eu({groupID:gt})?Wn.next="".concat(St):(Wn.offset=St,Fn=St+Lt);var er=[];return this.request({protocolName:yy,requestData:Wn}).then(function(ir){var Tr=ir.data,Ur=Tr.members,zr=Tr.memberNum,co=Tr.next,$o=co===void 0?void 0:co;if(fr($o)||(Fn=kr($o)?0:$o),!Zr(Ur)||Ur.length===0)return Fn=0,Promise.resolve([]);var Ho=ft.getModule(vo);return Ho.hasLocalGroup(gt)&&(Ho.getLocalGroupProfile(gt).memberNum=zr),er=ft._updateLocalGroupMemberMap(gt,Ur),ft.getModule(qr).getUserProfile({userIDList:Ur.map(function(Ro){return Ro.userID}),tagList:[Wo.NICK,Wo.AVATAR]})}).then(function(ir){var Tr=ir.data;if(!Zr(Tr)||Tr.length===0)return Io({memberList:[],offset:Fn});var Ur=Tr.map(function(zr){return{userID:zr.userID,nick:zr.nick,avatar:zr.avatar}});return ft._updateLocalGroupMemberMap(gt,Ur),er.length<Lt&&(Fn=0),On.setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(gt," offset:").concat(St," count:").concat(Lt)).end(),sn.l("".concat(Jt," ok.")),oo({memberList:er,offset:Fn})}).catch(function(ir){return ft.probeNetwork().then(function(Tr){var Ur=Ft(Tr,2),zr=Ur[0],co=Ur[1];On.setError(ir,zr,co).end()}),sn.e("".concat(Jt," failed. error:"),ir),Xn(ir)})}},{key:"_getAVChatRoomMemberList",value:function(at){var ft=this,gt=at.groupID,Ct=at.offset,St=at.filter,Dt="".concat(this._n,".").concat("_getAVChatRoomMemberList"),Lt=new br("_getAVChatRoomMemberList");return Lt.setMessage("groupID:".concat(gt," offset:").concat(Ct," filter:").concat(St)),this.request({protocolName:Nv,requestData:{groupID:gt,offset:Ct,filter:St}}).then(function(jt){var Kt=jt.data,Jt=Kt.memberList,cn=Jt===void 0?[]:Jt,bn=Kt.offset,On=bn===void 0?0:bn;Lt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(Dt," ok. member count:").concat(cn.length,", next request timestamp:").concat(On));var Fn=ft._updateLocalGroupMemberMap(gt,cn);return oo({memberList:Fn,offset:On})}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Lt.setError(jt,cn,bn).end()}),sn.e("".concat(Dt," failed. error:"),jt),Xn(jt)})}},{key:"getGroupMemberProfile",value:function(at){var ft=this,gt="".concat(this._n,".").concat("getGroupMemberProfile"),Ct=new br("getGroupMemberProfile");Ct.setMessage(at.userIDList.length>5?"userIDList.length:".concat(at.userIDList.length):"userIDList:".concat(at.userIDList)),sn.l("".concat(gt," groupID:").concat(at.groupID," userIDList:").concat(at.userIDList.join(","))),at.userIDList.length>50&&(at.userIDList=at.userIDList.slice(0,50));var St=at.groupID,Dt=at.userIDList;return this._getGroupMemberProfileAdvance(rt(rt({},at),{},{userIDList:Dt})).then(function(Lt){var jt=Lt.data.members;return Zr(jt)&&jt.length!==0?(ft._updateLocalGroupMemberMap(St,jt),ft.getModule(qr).getUserProfile({userIDList:jt.map(function(Kt){return Kt.userID}),tagList:[Wo.NICK,Wo.AVATAR]})):Io([])}).then(function(Lt){var jt=Lt.data.map(function(Jt){return{userID:Jt.userID,nick:Jt.nick,avatar:Jt.avatar}});ft._updateLocalGroupMemberMap(St,jt);var Kt=Dt.filter(function(Jt){return ft.hasLocalGroupMember(St,Jt)}).map(function(Jt){return ft.getLocalGroupMemberInfo(St,Jt)});return Ct.setNetworkType(ft.getNetworkType()).end(),oo({memberList:Kt})})}},{key:"addGroupMember",value:function(at){var ft=this,gt="".concat(this._n,".").concat("addGroupMember"),Ct=at.groupID,St=this.getModule(vo).getLocalGroupProfile(Ct),Dt=St.type,Lt=new br("addGroupMember");if(Lt.setMessage("groupID:".concat(Ct," groupType:").concat(Dt)),uu(Dt)){var jt=new ks({code:pr.CANNOT_ADD_MEMBER_IN_AVCHATROOM});return Lt.setError(jt,!0,this.getNetworkType()).end(),Xn(jt)}return at.userIDList=at.userIDList.map(function(Kt){return{userID:Kt}}),sn.l("".concat(gt," groupID:").concat(Ct)),this.request({protocolName:Ey,requestData:at}).then(function(Kt){var Jt=Kt.data.members;sn.l("".concat(gt," ok"));var cn=Jt.filter(function(er){return er.result===1}).map(function(er){return er.userID}),bn=Jt.filter(function(er){return er.result===0}).map(function(er){return er.userID}),On=Jt.filter(function(er){return er.result===2}).map(function(er){return er.userID}),Fn=Jt.filter(function(er){return er.result===4}).map(function(er){return er.userID}),Wn="groupID:".concat(at.groupID,", ")+"successUserIDList:".concat(cn,", ")+"failureUserIDList:".concat(bn,", ")+"existedUserIDList:".concat(On,", ")+"overLimitUserIDList:".concat(Fn);return Lt.setNetworkType(ft.getNetworkType()).setMoreMessage(Wn).end(),cn.length===0?oo({successUserIDList:cn,failureUserIDList:bn,existedUserIDList:On,overLimitUserIDList:Fn}):(St.memberCount+=cn.length,ft._updateConversationGroupProfile(St),oo({successUserIDList:cn,failureUserIDList:bn,existedUserIDList:On,overLimitUserIDList:Fn,group:St}))}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"deleteGroupMember",value:function(at){var ft=this,gt="".concat(this._n,".").concat("deleteGroupMember"),Ct=at.groupID,St=at.userIDList,Dt=this.getModule(vo).getLocalGroupProfile(Ct);if(fr(Dt))return Xn({code:pr.CANNOT_FIND_GROUP});if(uu(Dt.type))return this.canIUse(hr.AVCHATROOM_BAN_MBR)?this._banAVChatRoomMember(at):Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var Lt=new br("deleteGroupMember"),jt="groupID:".concat(Ct," ").concat(St.length>5?"userIDList.length:".concat(St.length):"userIDList:".concat(St));return Lt.setMessage(jt),sn.l("".concat(gt," groupID:").concat(Ct," userIDList:"),St),this.request({protocolName:wp,requestData:at}).then(function(){return Lt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),Dt.memberCount-=1,ft._updateConversationGroupProfile(Dt),ft.deleteLocalGroupMembers(Ct,St),oo({group:Dt,userIDList:St})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"_updateConversationGroupProfile",value:function(at){this.getModule(no).updateConversationGroupProfile([at])}},{key:"_banAVChatRoomMember",value:function(at){var ft=this,gt="".concat(this._n,".").concat("deleteGroupMember"),Ct=at.groupID,St=at.userIDList,Dt="groupID:".concat(Ct," ").concat(St.length>5?"userIDList.length:".concat(St.length):"userIDList:".concat(St)),Lt=new br("deleteGroupMember");Lt.setMessage(Dt),sn.l("".concat(gt," groupID:").concat(Ct," userIDList:"),St);var jt=this.getModule(vo).getLocalGroupProfile(Ct);return fr(at.duration)||at.duration===0?Xn({code:pr.BAN_DURATION_INVALID}):this.request({protocolName:Pv,requestData:at}).then(function(){return Lt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft.deleteLocalGroupMembers(Ct,St),oo({group:jt,userIDList:St})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];Lt.setError(Kt,bn,On).end()}),sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"setGroupMemberMuteTime",value:function(at){var ft=this,gt=at.groupID,Ct=at.userID,St=at.muteTime,Dt="".concat(this._n,".").concat("setGroupMemberMuteTime");if(Ct===this.getMyUserID())return Xn(new ks({code:pr.CANNOT_MUTE_SELF}));sn.l("".concat(Dt," groupID:").concat(gt," userID:").concat(Ct));var Lt=new br("setGroupMemberMuteTime");return Lt.setMessage("groupID:".concat(gt," userID:").concat(Ct," muteTime:").concat(St)),this.modifyGroupMemberInfo({groupID:gt,userID:Ct,muteTime:St}).then(function(jt){Lt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(Dt," ok"));var Kt=ft.getModule(vo);return oo({group:Kt.getLocalGroupProfile(gt),member:jt})}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Lt.setError(jt,cn,bn).end()}),sn.e("".concat(Dt," failed. error:"),jt),Xn(jt)})}},{key:"setGroupMemberRole",value:function(at){var ft=this,gt="".concat(this._n,".").concat("setGroupMemberRole"),Ct=at.groupID,St=at.userID,Dt=at.role,Lt=this.getModule(vo).getLocalGroupProfile(Ct);if(Lt.selfInfo.role!==Ut.GRP_MBR_ROLE_OWNER)return Xn({code:pr.NOT_OWNER});if([Ut.GRP_WORK,Ut.GRP_AVCHATROOM].includes(Lt.type))return Xn({code:pr.CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM});var jt=[Ut.GRP_MBR_ROLE_ADMIN,Ut.GRP_MBR_ROLE_MEMBER];if(eu({groupID:Ct})&&jt.push(Ut.GRP_MBR_ROLE_CUSTOM),jt.indexOf(Dt)<0)return Xn({code:pr.INVALID_MEMBER_ROLE});if(St===this.getMyUserID())return Xn({code:pr.CANNOT_SET_SELF_MEMBER_ROLE});var Kt=new br("setGroupMemberRole");return Kt.setMessage("groupID:".concat(Ct," userID:").concat(St," role:").concat(Dt)),sn.l("".concat(gt," groupID:").concat(Ct," userID:").concat(St)),this.modifyGroupMemberInfo({groupID:Ct,userID:St,role:Dt}).then(function(Jt){return Kt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),oo({group:Lt,member:Jt})}).catch(function(Jt){return ft.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Kt.setError(Jt,On,Fn).end()}),sn.e("".concat(gt," failed. error:"),Jt),Xn(Jt)})}},{key:"_filterProfanity",value:function(at,ft){var gt=this.getModule(Ju);if(!gt)return!0;var Ct=gt.filterText(ft[at],qo),St=Ct.isAllowedToSend,Dt=Ct.modifiedText;return St===!0&&(ft[at]=Dt,!0)}},{key:"setGroupMemberNameCard",value:function(at){var ft=this,gt="".concat(this._n,".").concat("setGroupMemberNameCard");if(at.nameCard&&this._filterProfanity("nameCard",at)===!1)return Xn({code:pr.PROFANITY_FOUND});var Ct=at.groupID,St=at.userID,Dt=St===void 0?this.getMyUserID():St,Lt=at.nameCard;sn.l("".concat(gt," groupID:").concat(Ct," userID:").concat(Dt));var jt=new br("setGroupMemberNameCard");return jt.setMessage("groupID:".concat(Ct," userID:").concat(Dt," nameCard:").concat(Lt)),this.modifyGroupMemberInfo({groupID:Ct,userID:Dt,nameCard:Lt}).then(function(Kt){sn.l("".concat(gt," ok")),jt.setNetworkType(ft.getNetworkType()).end();var Jt=ft.getModule(vo).getLocalGroupProfile(Ct);return Dt===ft.getMyUserID()&&Jt&&Jt.setSelfNameCard(Lt),oo({group:Jt,member:Kt})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];jt.setError(Kt,bn,On).end()}),sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"setGroupMemberCustomField",value:function(at){var ft=this,gt="".concat(this._n,".").concat("setGroupMemberCustomField"),Ct=at.groupID,St=at.userID,Dt=St===void 0?this.getMyUserID():St,Lt=at.memberCustomField;sn.l("".concat(gt," groupID:").concat(Ct," userID:").concat(Dt));var jt=new br("setGroupMemberCustomField");return jt.setMessage("groupID:".concat(Ct," userID:").concat(Dt," memberCustomField:").concat(JSON.stringify(Lt))),this.modifyGroupMemberInfo({groupID:Ct,userID:Dt,memberCustomField:Lt}).then(function(Kt){jt.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok"));var Jt=ft.getModule(vo).getLocalGroupProfile(Ct);return oo({group:Jt,member:Kt})}).catch(function(Kt){return ft.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];jt.setError(Kt,bn,On).end()}),sn.e("".concat(gt," failed. error:"),Kt),Xn(Kt)})}},{key:"modifyGroupMemberInfo",value:function(at){var ft=this,gt=at.groupID,Ct=at.userID,St=void 0;return lu(gt)&&(gt=Es(St=gt)),this.request({protocolName:Uv,requestData:rt(rt({},at),{},{groupID:gt,topicID:St})}).then(function(){if(ft.hasLocalGroupMember(gt,Ct)){var Dt=ft.getLocalGroupMemberInfo(gt,Ct);return fr(at.muteTime)||Dt.updateMuteUntil(at.muteTime),fr(at.role)||Dt.updateRole(at.role),fr(at.nameCard)||Dt.updateNameCard(at.nameCard),fr(at.memberCustomField)||Dt.updateMemberCustomField(at.memberCustomField),Dt}return ft.getGroupMemberProfile({groupID:gt,userIDList:[Ct]}).then(function(Lt){return Ft(Lt.data.memberList,1)[0]})})}},{key:"markGroupMemberList",value:function(at){var ft=this,gt="".concat(this._n,".").concat("markGroupMemberList"),Ct=at.groupID,St=at.markType,Dt=at.enableMark,Lt=at.userIDList,jt=Lt===void 0?[]:Lt,Kt="groupID:".concat(Ct," markType:").concat(St," enableMark:").concat(Dt," userIDList count: ").concat(jt.length);sn.l("".concat(gt," ").concat(Kt));var Jt=2,cn=[];Dt===!0&&(Jt=1);var bn=Ht(jt);jt.length>500&&(bn=jt.slice(0,500),sn.w("".concat(gt," ").concat(Mo(500)))),bn.forEach(function(Fn){cn.push({userID:Fn,markType:[St]})}),bn=null;var On=new br("markGroupMemberList");return On.setMessage("".concat(Kt)),this.request({protocolName:Gv,requestData:{groupID:Ct,operationType:Jt,memberList:cn}}).then(function(Fn){var Wn=Fn.data.memberList,er=Wn===void 0?[]:Wn,ir=[],Tr=[];er.length===jt.length?ir.push.apply(ir,Ht(jt)):(er.forEach(function(zr){ir.push(zr.userID)}),jt.forEach(function(zr){ir.includes(zr)||Tr.push(zr)}));var Ur="success count:".concat(ir.length," fail count:").concat(Tr.length);return On.setNetworkType(ft.getNetworkType()).setMessage(Ur).end(),sn.l("".concat(gt," ok. ").concat(Ur)),oo({successUserIDList:ir,failureUserIDList:Tr})}).catch(function(Fn){return ft.probeNetwork().then(function(Wn){var er=Ft(Wn,2),ir=er[0],Tr=er[1];On.setError(Fn,ir,Tr).end()}),sn.e("".concat(gt," failed. error:"),Fn),Xn(Fn)})}},{key:"_getGroupMemberProfileAdvance",value:function(at){return this.request({protocolName:My,requestData:rt(rt({},at),{},{memberInfoFilter:at.memberInfoFilter?at.memberInfoFilter:["Role","JoinTime","NameCard","ShutUpUntil"]})})}},{key:"_updateLocalGroupMemberMap",value:function(at,ft){var gt=this;return Zr(ft)&&ft.length!==0?ft.map(function(Ct){return gt.hasLocalGroupMember(at,Ct.userID)?gt.getLocalGroupMemberInfo(at,Ct.userID).updateMember(Ct):gt.setLocalGroupMember(at,new P_(Ct)),gt.getLocalGroupMemberInfo(at,Ct.userID)}):[]}},{key:"deleteLocalGroupMembers",value:function(at,ft){var gt=this.groupMemberListMap.get(at);gt&&ft.forEach(function(Ct){gt.delete(Ct)})}},{key:"getLocalGroupMemberInfo",value:function(at,ft){return this.groupMemberListMap.has(at)?this.groupMemberListMap.get(at).get(ft):null}},{key:"setLocalGroupMember",value:function(at,ft){if(this.groupMemberListMap.has(at))this.groupMemberListMap.get(at).set(ft.userID,ft);else{var gt=new Map().set(ft.userID,ft);this.groupMemberListMap.set(at,gt)}}},{key:"getLocalGroupMemberList",value:function(at){return this.groupMemberListMap.get(at)}},{key:"hasLocalGroupMember",value:function(at,ft){return this.groupMemberListMap.has(at)&&this.groupMemberListMap.get(at).has(ft)}},{key:"hasLocalGroupMemberMap",value:function(at){return this.groupMemberListMap.has(at)}},{key:"reset",value:function(){this.groupMemberListMap.clear()}}]),_t}(Ys),f0=["topicID","topicName","avatar","introduction","notification","unreadCount","muteAllMembers","customData","groupAtInfoList","nextMessageSeq","selfInfo"],Qv=function(Nt,ut){return kr(Nt)?{lastTime:0,lastSequence:0,fromAccount:"",payload:null,type:"",messageForShow:"",nick:"",version:0,cloudCustomData:"",isRevoked:!1,revoker:null}:{lastTime:Nt.time||0,lastSequence:Nt.sequence||0,fromAccount:Nt.from||"",payload:Nt.payload||null,type:Nt.type||"",messageForShow:ws(Nt.type,Nt.payload,ut),nick:Nt.nick||"",version:Nt.version||0,cloudCustomData:Nt.cloudCustomData||"",isRevoked:Nt.isRevoked||!1,revoker:Nt.revoker||null}},ey=function(){function Nt(ut,_t){it(this,Nt),this.topicID="",this.topicName="",this.avatar="",this.introduction="",this.notification="",this.unreadCount=0,this.muteAllMembers=!1,this.customData="",this.groupAtInfoList=[],this.nextMessageSeq=0,this.lastMessage=Qv(ut.lastMessage,_t),this.selfInfo={muteTime:0,readedSequence:0,messageRemindType:"",excludedUnreadSequenceList:void 0},this._initTopic(ut)}return lt(Nt,[{key:"_initTopic",value:function(ut){for(var _t in ut)f0.indexOf(_t)<0||(_t==="selfInfo"?this.updateSelfInfo(ut[_t]):this[_t]=_t==="muteAllMembers"?ut[_t]===1:ut[_t])}},{key:"updateUnreadCount",value:function(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.unreadCount=ut}},{key:"updateNextMessageSeq",value:function(ut){this.nextMessageSeq=ut}},{key:"updateLastMessage",value:function(ut){this.lastMessage=Qv(ut)}},{key:"updateGroupAtInfoList",value:function(ut){this.groupAtInfoList=JSON.parse(JSON.stringify(ut))}},{key:"updateTopic",value:function(ut){fr(ut.selfInfo)||this.updateSelfInfo(ut.selfInfo),fr(ut.muteAllMembers)||(this.muteAllMembers=ut.muteAllMembers===1),Eu(this,ut,["groupID","lastMessageTime","selfInfo","muteAllMembers","lastMsg"])}},{key:"updateSelfInfo",value:function(ut){return Eu(this.selfInfo,ut,[],[""])!==0}},{key:"reduceUnreadCount",value:function(){return this.unreadCount>=1&&(this.unreadCount-=1,!0)}},{key:"isLastMessageRevoked",value:function(ut){return ut.sequence===this.lastMessage.lastSequence}},{key:"setLastMessageRevoked",value:function(ut){this.lastMessage.isRevoked=ut}},{key:"setLastMessageRevoker",value:function(ut){this.lastMessage.revoker=ut}}]),Nt}(),Py=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="TopicModule",ft._topicMap=new Map,ft._getTopicTimeMap=new Map,ft.TOPIC_CACHE_TIME=300,ft.TOPIC_LAST_ACTIVE_TIME=3600,ft.getInnerEmitterInstance().on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"_onCloudConfigUpdated",value:function(){var at=this.getCloudConfig("topic_cache_time"),ft=this.getCloudConfig("topic_last_active_time");fr(at)||(this.TOPIC_CACHE_TIME=Number(at)),fr(ft)||(this.TOPIC_LAST_ACTIVE_TIME=Number(ft))}},{key:"onTopicCreated",value:function(at){var ft=at.groupID;this.resetGetTopicTime(ft),this.emitOuterEvent(yn.TOPIC_CREATED,at)}},{key:"onTopicDeleted",value:function(at){var ft=this,gt=at.groupID,Ct=at.topicIDList;(Ct===void 0?[]:Ct).forEach(function(St){ft._deleteLocalTopic(gt,St)}),this.emitOuterEvent(yn.TOPIC_DELETED,at)}},{key:"onTopicMessageRemindTypeUpdated",value:function(at){var ft=at.groupID,gt=at.topicID,Ct=at.messageRemindType,St=this.getLocalTopic(ft,gt);if(St){var Dt=St.updateSelfInfo({messageRemindType:Ct});Dt&&this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:ft,topic:St}),sn.d("".concat(this._n,".onTopicMessageRemindTypeUpdated topicID:").concat(gt)+" messageRemindType:".concat(Ct," isTopicUpdated:").concat(Dt))}}},{key:"onTopicProfileUpdated",value:function(at){var ft=at.groupID,gt=at.topicID,Ct=this.getLocalTopic(ft,gt);Ct&&(Ct.updateTopic(at),this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:ft,topic:Ct}))}},{key:"onConversationProxy",value:function(at){var ft=at.topicID,gt=at.unreadCount,Ct=at.groupAtInfoList,St=Es(ft),Dt=this.getLocalTopic(St,ft),Lt=!1;Dt&&(fr(gt)||Dt.unreadCount===gt||(Dt.updateUnreadCount(gt),Lt=!0),fr(Ct)||(Dt.updateGroupAtInfoList(Ct),Lt=!0)),Lt&&this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:St,topic:Dt})}},{key:"onMessageSent",value:function(at){var ft=at.groupID,gt=at.topicID,Ct=at.lastMessage,St=this.getLocalTopic(ft,gt);St&&(St.nextMessageSeq+=1,St.updateLastMessage(Ct),this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:ft,topic:St}))}},{key:"onMessageModified",value:function(at){var ft=at.to,gt=at.time,Ct=at.sequence,St=at.elements,Dt=at.cloudCustomData,Lt=at.messageVersion,jt=Es(ft),Kt=this.getLocalTopic(jt,ft);if(Kt){var Jt=Kt.lastMessage;sn.d("".concat(this._n,".onMessageModified topicID:").concat(ft," lastMessage:"),JSON.stringify(Jt),"options:",JSON.stringify(at)),Jt&&(Jt.payload===null||Jt.lastTime===gt&&Jt.lastSequence===Ct&&Jt.version!==Lt)&&(Jt.type=St[0].type,Jt.payload=St[0].content,Jt.messageForShow=ws(Jt.type,Jt.payload,this.isIntl()),Jt.cloudCustomData=Dt,Jt.version=Lt,Jt.lastSequence=Ct,Jt.lastTime=gt,this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:jt,topic:Kt}))}}},{key:"onMessageRevoked",value:function(at){var ft=this;if(at.length!==0){var gt=null,Ct=null,St=!1;at.forEach(function(Dt){var Lt=Dt.to;Ct=Es(Lt),(gt=ft.getLocalTopic(Ct,Lt))&&(gt.reduceUnreadCount()&&(St=!0),gt.isLastMessageRevoked(Dt)&&(gt.setLastMessageRevoked(!0),gt.setLastMessageRevoker(Dt.revoker),St=!0))}),St&&this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:Ct,topic:gt})}}},{key:"isLastMessageRevoked",value:function(at){var ft=at.topicID,gt=at.sequence,Ct=Es(ft),St=this.getLocalTopic(Ct,ft),Dt=!1;return St&&(Dt=St.isLastMessageRevoked({sequence:gt})),Dt}},{key:"getJoinedCommunityList",value:function(){return this.getModule(vo).getGroupList({isGroupWithTopicOnly:!0}).then(function(at){var ft=at.data.groupList;return oo({groupList:ft===void 0?[]:ft})}).catch(function(at){return Xn(at)})}},{key:"createTopicInCommunity",value:function(at){var ft=this,gt="".concat(this._n,".").concat("createTopicInCommunity"),Ct=at.topicID;if(!fr(Ct)&&!lu(Ct))return Xn({code:pr.ILLEGAL_TOPIC_ID});if(at.topicName&&this._filterProfanity("topicName",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.introduction&&this._filterProfanity("introduction",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.notification&&this._filterProfanity("notification",at)===!1)return Xn({code:pr.PROFANITY_FOUND});var St=new br("createTopicInCommunity");return this.request({protocolName:Gu,requestData:rt({},at)}).then(function(Dt){var Lt=Dt.data.topicID;return St.setMessage("topicID:".concat(Lt)).setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft._updateTopicMap([rt(rt({},at),{},{topicID:Lt})]),oo({topicID:Lt})}).catch(function(Dt){return ft.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),sn.e("".concat(gt," failed. error:"),Dt),Xn(Dt)})}},{key:"deleteTopicFromCommunity",value:function(at){var ft=this,gt="".concat(this._n,".").concat("deleteTopicFromCommunity"),Ct=at.groupID,St=at.topicIDList,Dt=St===void 0?[]:St,Lt=new br("deleteTopicFromCommunity");return Lt.setMessage("groupID:".concat(Ct," topicIDList:").concat(Dt)),this.request({protocolName:Gp,requestData:{groupID:Ct,topicIDList:Dt}}).then(function(jt){var Kt=jt.data.resultList,Jt=[],cn=[];(Kt===void 0?[]:Kt).forEach(function(On){var Fn=On.topicID,Wn=On.errorCode,er=On.errorInfo;Wn===0?Jt.push({topicID:Fn}):cn.push({topicID:Fn,code:Wn,message:er})});var bn="success count:".concat(Jt.length,", fail count:").concat(cn.length);return Lt.setMoreMessage("".concat(bn)).setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(bn)),Jt.forEach(function(On){ft._deleteLocalTopic(Ct,On.topicID)}),oo({successTopicList:Jt,failureTopicList:cn})}).catch(function(jt){return ft.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];Lt.setError(jt,cn,bn).end()}),sn.e("".concat(gt," failed. error:"),jt),Xn(jt)})}},{key:"updateTopicProfile",value:function(at){var ft=this,gt="".concat(this._n,".").concat("updateTopicProfile");if(sn.l("".concat(gt," options:"),at),at.topicName&&this._filterProfanity("topicName",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.introduction&&this._filterProfanity("introduction",at)===!1)return Xn({code:pr.PROFANITY_FOUND});if(at.notification&&this._filterProfanity("notification",at)===!1)return Xn({code:pr.PROFANITY_FOUND});var Ct=new br("updateTopicProfile");return Ct.setMessage("groupID:".concat(at.groupID," topicID:").concat(at.topicID)),fr(at.muteAllMembers)||(at.muteAllMembers=at.muteAllMembers===!0?"On":"Off"),this.request({protocolName:l_,requestData:rt({},at)}).then(function(){return Ct.setNetworkType(ft.getNetworkType()).end(),sn.l("".concat(gt," ok")),ft._updateTopicMap([at]),oo({topic:ft.getLocalTopic(at.groupID,at.topicID)})}).catch(function(St){return ft.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.e("".concat(gt," failed. error:"),St),Xn(St)})}},{key:"getTopicList",value:function(at){var ft=this,gt="".concat(this._n,".").concat("getTopicList"),Ct=at.groupID,St=at.topicIDList,Dt=St===void 0?[]:St,Lt=Dt.length===0,jt=new br("getTopicList");if(jt.setMessage("groupID:".concat(Ct)),this._getTopicTimeMap.has(Ct)){var Kt=this._getTopicTimeMap.get(Ct),Jt=Kt.isGetAll,cn=Kt.time;if((Jt||!Jt&&!Lt)&&Date.now()-cn<1e3*this.TOPIC_CACHE_TIME){var bn=this._getLocalTopicList(Ct,Dt);if(Lt||bn.length===Dt.length)return jt.setNetworkType(this.getNetworkType()).setMoreMessage("from cache, topic count:".concat(bn.length)).end(),sn.l("".concat(gt," groupID:").concat(Ct," from cache, topic count:").concat(bn.length)),Io({successTopicList:bn,failureTopicList:[]})}}return this.request({protocolName:Fm,requestData:{groupID:Ct,topicIDList:Dt}}).then(function(On){var Fn=On.data.topicInfoList,Wn=[],er=[],ir=[];(Fn===void 0?[]:Fn).forEach(function(zr){var co=zr.topic,$o=zr.selfInfo,Ho=zr.errorCode,Ro=zr.errorInfo,ts=co.topicID;Ho===0?(Wn.push(rt(rt({},co),{},{selfInfo:$o})),er.push(ts)):ir.push({topicID:ts,code:Ho,message:Ro})}),ft._updateTopicMap(Wn),ft._handleTopicAtInfo(Wn);var Tr="success count:".concat(er.length,", fail count:").concat(ir.length);jt.setNetworkType(ft.getNetworkType()).setMoreMessage("".concat(Tr)).end(),sn.l("".concat(gt," groupID:").concat(Ct," from remote, ").concat(Tr));var Ur=[];return kr(er)||(ft._getTopicTimeMap.set(Ct,{time:Date.now(),isGetAll:Lt}),Ur=ft._getLocalTopicList(Ct,er)),oo({successTopicList:Ur,failureTopicList:ir})}).catch(function(On){return ft.probeNetwork(On).then(function(Fn){var Wn=Ft(Fn,2),er=Wn[0],ir=Wn[1];jt.setError(On,er,ir).end()}),sn.e("".concat(gt," failed. error:"),On),Xn(On)})}},{key:"hasLocalTopic",value:function(at,ft){return!!this._topicMap.has(at)&&this._topicMap.get(at).has(ft)}},{key:"getLocalTopic",value:function(at,ft){var gt=null;return this._topicMap.has(at)&&(gt=this._topicMap.get(at).get(ft)),gt}},{key:"_getLocalTopicList",value:function(at){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],gt=this._topicMap.get(at),Ct=[];return gt&&(Ct=Ht(gt.values())),ft.length===0?Ct:Ct.filter(function(St){return ft.includes(St.topicID)})}},{key:"_deleteLocalTopic",value:function(at,ft){this._topicMap.has(at)&&(this._topicMap.get(at).delete(ft),sn.l("".concat(this._n,"._deleteLocalTopic groupID:").concat(at," topicID:").concat(ft)))}},{key:"_updateTopicMap",value:function(at){var ft=this,gt=[];at.forEach(function(Ct){var St=Ct.groupID,Dt=Ct.topicID,Lt=null;ft._topicMap.has(St)||ft._topicMap.set(St,new Map),ft._topicMap.get(St).has(Dt)?(Lt=ft._topicMap.get(St).get(Dt)).updateTopic(Ct):(ft._getTopicLastMessage(Ct),Lt=new ey(Ct,ft.isIntl()),ft._topicMap.get(St).set(Dt,Lt));var jt=ft._computeUnreadCount(Lt);Lt.updateUnreadCount(jt),gt.push({conversationID:"".concat(Ut.CONV_GROUP).concat(Dt),type:Ut.CONV_TOPIC,unreadCount:jt})}),gt.length>0&&this.getModule(no).updateTopicConversation(gt)}},{key:"resetGetTopicTime",value:function(at){var ft=this;fr(at)?Ht(this._getTopicTimeMap.keys()).forEach(function(gt){ft._getTopicTimeMap.set(gt,0)}):this._getTopicTimeMap.set(at,0)}},{key:"getTopicListOnReconnected",value:function(){var at=this,ft=Ht(this._topicMap.keys()),gt=[];ft.forEach(function(Ct){var St=[];at._getLocalTopicList(Ct).forEach(function(Dt){var Lt=Dt.lastMessage.lastTime,jt=Lt===void 0?0:Lt;Date.now()-1e3*jt<1e3*at.TOPIC_LAST_ACTIVE_TIME&&St.push(Dt.topicID)}),St.length>0&&gt.push({groupID:Ct,topicIDList:St})}),sn.l("".concat(this._n,".getTopicListOnReconnected. active community count:").concat(gt.length)),this._relayGetTopicList(gt)}},{key:"_relayGetTopicList",value:function(at){var ft=this;if(at.length!==0){var gt=at.shift(),Ct=gt.topicIDList.length>5?"topicIDList.length:".concat(gt.topicIDList.length):"topicIDList:".concat(gt.topicIDList),St=new br("relayGetTopicList");St.setMessage(Ct),sn.l("".concat(this._n,"._relayGetTopicList. ").concat(Ct)),this.getTopicList(gt).then(function(){St.setNetworkType(ft.getNetworkType()).end(),ft._relayGetTopicList(at)}).catch(function(Dt){ft.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),ft._relayGetTopicList(at)})}}},{key:"_handleTopicAtInfo",value:function(at){var ft=this;at.length!==0&&at.forEach(function(gt){var Ct=gt.groupID,St=gt.topicID,Dt=gt.groupAtInfoList,Lt=[];fr(Dt)||(Dt.forEach(function(jt){Lt.push(rt(rt({},jt),{},{groupID:Ct,topicID:St}))}),ft.getModule(no).onNewGroupAtTips({dataList:Lt}))})}},{key:"_getTopicLastMessage",value:function(at){if(!fr(at.lastMsg)){var ft={time:at.lastMsg.time,sequence:at.lastMsg.sequence,from:at.lastMsg.from,payload:at.lastMsg.elements[0]?at.lastMsg.elements[0].content:null,type:at.lastMsg.elements[0]?at.lastMsg.elements[0].type:"",nick:at.lastMsg.nick,version:at.lastMsg.messageVersion,cloudCustomData:at.lastMsg.cloudCustomData,isRevoked:at.lastMsg.isPlaceMessage===2,revoker:kr(at.lastMsg.revokerInfo)?null:at.lastMsg.revokerInfo.revoker};at.lastMessage=ft}}},{key:"deleteTopicListInCommunity",value:function(at){var ft=this,gt=this._getLocalTopicList(at),Ct=this.getModule(no);gt.forEach(function(St){var Dt=St.topicID;ft._deleteLocalTopic(at,Dt),ft._getTopicTimeMap.delete(at),Ct.deleteLocalConversation("".concat(Ut.CONV_GROUP).concat(Dt))})}},{key:"_computeUnreadCount",value:function(at){var ft=at.selfInfo,gt=ft.excludedUnreadSequenceList,Ct=ft.readedSequence,St=at.nextMessageSeq-at.selfInfo.readedSequence-1;if(Zr(gt)){var Dt=0;gt.forEach(function(Lt){Lt>=Ct&&Lt<=at.nextMessageSeq-1&&(Dt+=1)}),Dt>=1&&(St-=Dt)}return St<0?0:St}},{key:"_filterProfanity",value:function(at,ft){var gt=this.getModule(Ju);if(!gt)return!0;var Ct=gt.filterText(ft[at],zo),St=Ct.isAllowedToSend,Dt=Ct.modifiedText;return St===!0&&(ft[at]=Dt,!0)}},{key:"updateLastMessage",value:function(at,ft){var gt=Es(at),Ct=this.getLocalTopic(gt,at);if(Ct){var St=ft.sequence+1;Ct.updateNextMessageSeq(St),Ct.updateLastMessage(ft),this.emitOuterEvent(yn.TOPIC_UPDATED,{groupID:gt,topic:Ct})}}},{key:"getMessageExtensions",value:function(at,ft){sn.l("".concat(this._n,".getMessageExtensions startSequence:").concat(ft));var gt=Es(at.to);return this.request({protocolName:Rv,requestData:{groupID:gt,topicID:at.to,messageSequence:at.sequence,startSequence:ft}})}},{key:"modifyMessageExtensions",value:function(at,ft){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;sn.l("".concat(this._n,".modifyMessageExtensions operateType:").concat(gt));var Ct=Es(at.to);return this.request({protocolName:C_,requestData:{groupID:Ct,topicID:at.to,messageSequence:at.sequence,extensionList:ft,operateType:gt}})}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._topicMap.clear(),this._getTopicTimeMap.clear(),this.TOPIC_CACHE_TIME=300,this.TOPIC_LAST_ACTIVE_TIME=3600}}]),_t}(Ys),h0=function(){function Nt(ut){it(this,Nt),this._userModule=ut,this._n="ProfileHandler",this.TAG="profile",this.accountProfileMap=new Map,this.expirationTime=864e5}return lt(Nt,[{key:"setExpirationTime",value:function(ut){this.expirationTime=ut}},{key:"getUserProfile",value:function(ut){var _t=this,at="".concat(this._n,".").concat("getUserProfile"),ft=ut.userIDList;ut.fromAccount=this._userModule.getMyAccount(),ft.length>100&&(sn.w("".concat(at," ").concat(Mo(100))),ft.length=100);for(var gt,Ct=[],St=[],Dt=0,Lt=ft.length;Dt<Lt;Dt++)gt=ft[Dt],this._userModule.isMyFriend(gt)&&this._contains(gt)?St.push(this._getProfileFromMap(gt)):Ct.push(gt);if(Ct.length===0)return Io(St);ut.toAccount=Ct;var jt=ut.bFromGetMyProfile||!1,Kt=[];ut.toAccount.forEach(function(cn){Kt.push({toAccount:cn,standardSequence:0,customSequence:0})}),ut.userItem=Kt;var Jt=new br("getUserProfile");return Jt.setMessage(ft.length>5?"userIDList.length:".concat(ft.length):"userIDList:".concat(ft)),this._userModule.request({protocolName:Rr,requestData:ut}).then(function(cn){Jt.setNetworkType(_t._userModule.getNetworkType()).end(),sn.i("".concat(at," ok"));var bn=_t._handleResponse(cn).concat(St);return oo(jt?bn[0]:bn)}).catch(function(cn){return _t._userModule.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Jt.setError(cn,Fn,Wn).end()}),sn.e("".concat(at," failed. error:"),cn),Xn(cn)})}},{key:"getMyProfile",value:function(){var ut=this._userModule.getMyAccount(),_t="".concat(this._n,".getMyProfile");if(sn.l("".concat(_t," myAccount:").concat(ut)),this._fill(),this._contains(ut)){var at=this._getProfileFromMap(ut);return sn.d("".concat(_t," from cache, myProfile:").concat(JSON.stringify(at))),Io(at)}return this.getUserProfile({fromAccount:ut,userIDList:[ut],bFromGetMyProfile:!0})}},{key:"_handleResponse",value:function(ut){var _t=ut.data.userProfileItem;if(!Zr(_t))return[];for(var at=[],ft=Date.now(),gt=0,Ct=_t.length;gt<Ct;gt++){var St=_t[gt],Dt=St.to,Lt=St.profileItem;if(Dt!=="@TLS#NOT_FOUND"&&Dt!==""){var jt=this._update(Dt,this._getLatestProfileFromResponse(Dt,Lt)).latestProfile;at.push(jt)}}return sn.l("".concat(this._n,"._handleResponse cost ").concat(Date.now()-ft," ms")),at}},{key:"_getLatestProfileFromResponse",value:function(ut,_t){var at={userID:ut,profileCustomField:[]};if(!kr(_t))for(var ft=0,gt=_t.length;ft<gt;ft++)if(_t[ft].tag.indexOf("Tag_Profile_Custom")>-1)at.profileCustomField.push({key:_t[ft].tag,value:_t[ft].value});else switch(_t[ft].tag){case Wo.NICK:at.nick=_t[ft].value;break;case Wo.GENDER:at.gender=_t[ft].value;break;case Wo.BIRTHDAY:at.birthday=_t[ft].value;break;case Wo.LOCATION:at.location=_t[ft].value;break;case Wo.SELFSIGNATURE:at.selfSignature=_t[ft].value;break;case Wo.ALLOWTYPE:at.allowType=_t[ft].value;break;case Wo.LANGUAGE:at.language=_t[ft].value;break;case Wo.AVATAR:at.avatar=_t[ft].value;break;case Wo.MESSAGESETTINGS:at.messageSettings=_t[ft].value;break;case Wo.ADMINFORBIDTYPE:at.adminForbidType=_t[ft].value;break;case Wo.LEVEL:at.level=_t[ft].value;break;case Wo.ROLE:at.role=_t[ft].value;break;default:sn.w("".concat(this._n,"._getLatestProfileFromResponse unknown tag:"),_t[ft].tag,_t[ft].value)}return at}},{key:"updateMyProfile",value:function(ut){var _t=this,at="".concat(this._n,".").concat("updateMyProfile");if(ut.nick&&this._userModule.filterProfanity("nick",ut)===!1)return Xn({code:pr.PROFANITY_FOUND});if(ut.selfSignature&&this._userModule.filterProfanity("selfSignature",ut)===!1)return Xn({code:pr.PROFANITY_FOUND});var ft=new br("updateMyProfile");ft.setMessage(JSON.stringify(ut));var gt=new L_().validate(ut);if(!gt.valid)return ft.setCode(pr.UPDATE_PROFILE_INVALID_PARAM).setMoreMessage("info:".concat(gt.tips)).setNetworkType(this._userModule.getNetworkType()).end(),sn.e("".concat(at," info:").concat(gt.tips)),Xn({code:pr.UPDATE_PROFILE_INVALID_PARAM});var Ct=[];for(var St in ut)Object.prototype.hasOwnProperty.call(ut,St)&&(St==="profileCustomField"?ut.profileCustomField.forEach(function(jt){Ct.push({tag:jt.key,value:jt.value})}):Ct.push({tag:Wo[St.toUpperCase()],value:ut[St]}));if(Ct.length===0){var Dt=new ks({code:pr.UPDATE_PROFILE_NO_KEY});return ft.setError(Dt,!0,this._userModule.getNetworkType()).end(),sn.e("".concat(at," failed. error:"),Dt),Xn(Dt)}var Lt=this._userModule.getMyAccount();return this._userModule.request({protocolName:Co,requestData:{fromAccount:Lt,profileItem:Ct}}).then(function(jt){ft.setNetworkType(_t._userModule.getNetworkType()).end(),sn.i("".concat(at," ok"));var Kt=_t._update(Lt,ut),Jt=Kt.isProfileUpdated,cn=Kt.latestProfile;return Jt===!0&&_t._userModule.emitOuterEvent(yn.PROFILE_UPDATED,[cn]),Io(cn)}).catch(function(jt){return _t._userModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];ft.setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"onProfileModified",value:function(ut){var _t=ut.dataList;if(!kr(_t)){var at,ft=_t.length;sn.d("".concat(this._n,".onProfileModified count:").concat(ft," dataList:"),ut.dataList);for(var gt=[],Ct=0;Ct<ft;Ct++){at=_t[Ct].userID;var St=this._update(at,this._getLatestProfileFromResponse(at,_t[Ct].profileList)),Dt=St.isProfileUpdated,Lt=St.latestProfile;Dt===!0&&gt.push(Lt)}gt.length>0&&(this._userModule.emitInnerEvent(O_,gt),this._userModule.emitOuterEvent(yn.PROFILE_UPDATED,gt))}}},{key:"_fill",value:function(){if(this.accountProfileMap.size===0){for(var ut=this._getCachedProfiles(),_t=Date.now(),at=0,ft=ut.length;at<ft;at++)_t-ut[at].lastUpdatedTime<this.expirationTime&&this.accountProfileMap.set(ut[at].userID,ut[at]);sn.l("".concat(this._n,"._fill from cache, size:").concat(this.accountProfileMap.size))}}},{key:"_update",value:function(ut,_t){var at,ft=!1,gt=Date.now();return this._contains(ut)?(at=this._getProfileFromMap(ut),_t.profileCustomField&&zs(at.profileCustomField,_t.profileCustomField)===!0&&(at.lastUpdatedTime=gt,ft=!0),Eu(at,_t,["profileCustomField"])>0&&(at.lastUpdatedTime=gt,ft=!0)):(at=new L_(_t),(this._userModule.isMyFriend(ut)||ut===this._userModule.getMyAccount())&&(at.lastUpdatedTime=gt,ft=!0,this.accountProfileMap.set(ut,at))),this._flush(ut===this._userModule.getMyAccount()),sn.l("".concat(this._n,"._update account:").concat(ut," isProfileUpdated:").concat(ft)),{isProfileUpdated:ft,latestProfile:at}}},{key:"_flush",value:function(ut){var _t=Ht(this.accountProfileMap.values()),at=this._userModule.getStorageModule();sn.d("".concat(this._n,"._flush length:").concat(_t.length," flushAtOnce:").concat(ut)),at.setItem(this.TAG,_t,ut)}},{key:"_contains",value:function(ut){return this.accountProfileMap.has(ut)}},{key:"_getProfileFromMap",value:function(ut){return this.accountProfileMap.get(ut)}},{key:"_getCachedProfiles",value:function(){var ut=this._userModule.getStorageModule().getItem(this.TAG);return kr(ut)?[]:ut}},{key:"onConversationsProfileUpdated",value:function(ut){for(var _t,at,ft,gt=[],Ct=0,St=ut.length;Ct<St;Ct++)at=(_t=ut[Ct]).userID,this._userModule.isMyFriend(at)&&(this._contains(at)?(ft=this._getProfileFromMap(at),Eu(ft,_t)>0&&gt.push(at)):gt.push(_t.userID));gt.length!==0&&(sn.i("".concat(this._n,".onConversationsProfileUpdated toAccountList:").concat(gt)),this.getUserProfile({userIDList:gt}))}},{key:"getNickAndAvatarByUserID",value:function(ut){if(this._contains(ut)){var _t=this._getProfileFromMap(ut);return{nick:_t.nick,avatar:_t.avatar}}return{nick:"",avatar:""}}},{key:"reset",value:function(){this._flush(!0),this.accountProfileMap.clear()}}]),Nt}(),ty=lt(function Nt(ut){it(this,Nt),kr||(this.userID=ut.userID||"",this.timeStamp=ut.timeStamp||0)}),Uy=function(){function Nt(ut){it(this,Nt),this._userModule=ut,this._n="BlacklistHandler",this._blacklistMap=new Map,this.startIndex=0,this.maxLimited=100,this.currentSequence=0}return lt(Nt,[{key:"getLocalBlacklist",value:function(){return Ht(this._blacklistMap.keys())}},{key:"getBlacklist",value:function(){var ut=this,_t="".concat(this._n,".getBlacklist"),at={fromAccount:this._userModule.getMyAccount(),maxLimited:this.maxLimited,startIndex:0,lastSequence:this.currentSequence},ft=new br("getBlacklist");return this._userModule.request({protocolName:_a,requestData:at}).then(function(gt){var Ct=gt.data,St=Ct.blackListItem,Dt=Ct.currentSequence,Lt=kr(St)?0:St.length;ft.setNetworkType(ut._userModule.getNetworkType()).setMessage("count:".concat(Lt)).end(),sn.i("".concat(_t," ok")),ut.currentSequence=Dt,ut._handleResponse(St,!0),ut._userModule.emitOuterEvent(yn.BLACKLIST_UPDATED,Ht(ut._blacklistMap.keys()))}).catch(function(gt){return ut._userModule.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];ft.setError(gt,Dt,Lt).end()}),sn.e("".concat(_t," failed. error:"),gt),Xn(gt)})}},{key:"addBlacklist",value:function(ut){var _t=this,at=new br("addToBlacklist"),ft="".concat(this._n,".addBlacklist"),gt=this._userModule.getMyAccount();if(ut.userIDList.length===1&&ut.userIDList[0]===gt){var Ct=pr.CANNOT_ADD_SELF_TO_BLACKLIST,St=this._userModule.getErrorMessage(Ct);at.setCode(Ct).setMessage(St).setNetworkType(this._userModule.getNetworkType()).end();var Dt=new ks({code:Ct});return sn.e("".concat(ft," failed. error:"),Dt),Xn(Dt)}return ut.userIDList.includes(gt)&&(ut.userIDList=ut.userIDList.filter(function(Lt){return Lt!==gt})),ut.fromAccount=this._userModule.getMyAccount(),ut.toAccount=ut.userIDList,this._userModule.request({protocolName:_s,requestData:ut}).then(function(Lt){return at.setNetworkType(_t._userModule.getNetworkType()).setMessage(ut.userIDList.length>5?"userIDList.length:".concat(ut.userIDList.length):"userIDList:".concat(ut.userIDList)).end(),sn.i("".concat(ft," ok")),_t._handleResponse(Lt.resultItem,!0),oo(Ht(_t._blacklistMap.keys()))}).catch(function(Lt){return _t._userModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];at.setError(Lt,Jt,cn).end()}),sn.e("".concat(ft," failed. error:"),Lt),Xn(Lt)})}},{key:"_handleResponse",value:function(ut,_t){if(!kr(ut))for(var at,ft,gt,Ct=0,St=ut.length;Ct<St;Ct++)ft=ut[Ct].to,gt=ut[Ct].resultCode,(fr(gt)||gt===0)&&(_t?((at=this._blacklistMap.has(ft)?this._blacklistMap.get(ft):new ty).userID=ft,!kr(ut[Ct].addBlackTimeStamp)&&(at.timeStamp=ut[Ct].addBlackTimeStamp),this._blacklistMap.set(ft,at)):this._blacklistMap.has(ft)&&(at=this._blacklistMap.get(ft),this._blacklistMap.delete(ft)));sn.l("".concat(this._n,"._handleResponse total:").concat(this._blacklistMap.size," bAdd:").concat(_t))}},{key:"deleteBlacklist",value:function(ut){var _t=this,at="".concat(this._n,".deleteBlacklist"),ft=new br("removeFromBlacklist");return ut.fromAccount=this._userModule.getMyAccount(),ut.toAccount=ut.userIDList,this._userModule.request({protocolName:bu,requestData:ut}).then(function(gt){return ft.setNetworkType(_t._userModule.getNetworkType()).setMessage(ut.userIDList.length>5?"userIDList.length:".concat(ut.userIDList.length):"userIDList:".concat(ut.userIDList)).end(),sn.i("".concat(at," ok")),_t._handleResponse(gt.data.resultItem,!1),oo(Ht(_t._blacklistMap.keys()))}).catch(function(gt){return _t._userModule.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];ft.setError(gt,Dt,Lt).end()}),sn.e("".concat(at," failed. error:"),gt),Xn(gt)})}},{key:"onAccountDeleted",value:function(ut){for(var _t,at=[],ft=0,gt=ut.length;ft<gt;ft++)_t=ut[ft],this._blacklistMap.has(_t)&&(this._blacklistMap.delete(_t),at.push(_t));at.length>0&&(sn.l("".concat(this._n,".onAccountDeleted count:").concat(at.length," userIDList:"),at),this._userModule.emitOuterEvent(yn.BLACKLIST_UPDATED,Ht(this._blacklistMap.keys())))}},{key:"onAccountAdded",value:function(ut){for(var _t,at=[],ft=0,gt=ut.length;ft<gt;ft++)_t=ut[ft],this._blacklistMap.has(_t)||(this._blacklistMap.set(_t,new ty({userID:_t})),at.push(_t));at.length>0&&(sn.l("".concat(this._n,".onAccountAdded count:").concat(at.length," userIDList:"),at),this._userModule.emitOuterEvent(yn.BLACKLIST_UPDATED,Ht(this._blacklistMap.keys())))}},{key:"reset",value:function(){this._blacklistMap.clear(),this.startIndex=0,this.maxLimited=100,this.currentSequence=0}}]),Nt}(),Rl=function(Nt){var ut=String(Nt).replace(/[=]+$/,""),_t="";if(ut.length%4==1)return"";for(var at,ft,gt=0,Ct=0;ft=ut.charAt(Ct++);~ft&&(at=gt%4?64*at+ft:ft,gt++%4)?_t+=String.fromCharCode(255&at>>(-2*gt&6)):0)ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ft);try{return decodeURIComponent(escape(_t))}catch{return""}},Bp=function(){function Nt(ut){it(this,Nt),this._userModule=ut,this._n="UserStatusHandler",this.MAX_QUERY_USER_COUNT=500,this.MAX_SUBSCRIBE_USER_COUNT=100,this.MAX_UNSUBSCRIBE_USER_COUNT=100,this._userModule.getInnerEmitterInstance().on(vp,this._onCloudConfigUpdated,this)}return lt(Nt,[{key:"_onCloudConfigUpdated",value:function(){var ut=this._userModule.getCloudConfig("status_query_count"),_t=this._userModule.getCloudConfig("status_sub_count"),at=this._userModule.getCloudConfig("status_unsub_count");sn.l("".concat(this._n,"._onCloudConfigUpdated statusQueryCount:").concat(ut," statusSubscribeCount:").concat(_t)+" statusUnsubscribeCount:".concat(at)),fr(ut)||(this.MAX_QUERY_USER_COUNT=parseInt(ut,10)),fr(ut)||(this.MAX_SUBSCRIBE_USER_COUNT=parseInt(_t,10)),fr(ut)||(this.MAX_UNSUBSCRIBE_USER_COUNT=parseInt(at,10))}},{key:"onUserStatusUpdated",value:function(ut){var _t=ut.dataList,at=this._userModule.getMyUserID(),ft=this._userModule.getModule(jo),gt=_t.map(function(Ct){var St=Ct.to,Dt=Ct.statusType,Lt=Ct.customStatus,jt=Rl(Lt);return St===at&&ft.setCustomStatus(jt),{userID:St,statusType:Dt,customStatus:jt}});this._userModule.emitOuterEvent(yn.USER_STATUS_UPDATED,gt)}},{key:"setSelfStatus",value:function(ut){var _t=this,at="".concat(this._n,".setSelfStatus");if(this._userModule.filterProfanity("customStatus",ut)===!1)return Xn({code:pr.PROFANITY_FOUND});var ft=new br("setSelfStatus"),gt=ut.customStatus;return this._userModule.request({protocolName:Cy,requestData:{customStatus:gt}}).then(function(Ct){return ft.setNetworkType(_t._userModule.getNetworkType()).setMessage("customStatus:".concat(gt)).end(),sn.l("".concat(at," ok. customStatus:").concat(gt)),_t._userModule.getModule(jo).setCustomStatus(gt),oo({userID:_t._userModule.getMyUserID(),statusType:1,customStatus:gt})}).catch(function(Ct){return _t._userModule.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];ft.setError(Ct,Lt,jt).end()}),sn.e("".concat(at," failed. error:"),Ct),Xn(Ct)})}},{key:"getUserStatus",value:function(ut){var _t=this,at="".concat(this._n,".getUserStatus"),ft=ut.userIDList,gt=ft===void 0?[]:ft,Ct=this._userModule.getMyUserID(),St=Ht(gt),Dt=void 0,Lt=St.indexOf(Ct);if(Lt>-1){St.splice(Lt,1);var jt=this._userModule.getModule(jo).getCustomStatus();Dt={userID:Ct,statusType:1,customStatus:jt}}if(St.length===0)return Io({successUserList:[Dt],failureUserList:[]});if(!this._userModule.canIUse(hr.USER_STATUS))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});St.length>this.MAX_QUERY_USER_COUNT&&(sn.w("".concat(at," ").concat(Mo(this.MAX_QUERY_USER_COUNT))),St=gt.slice(0,this.MAX_QUERY_USER_COUNT));var Kt=new br("getUserStatus");return this._userModule.request({protocolName:$p,requestData:{userIDList:St}}).then(function(Jt){var cn=Jt.data,bn=cn.successUserList,On=bn===void 0?[]:bn,Fn=cn.failureUserList,Wn=Fn===void 0?[]:Fn,er=On.map(function(Ur){var zr=Ur.userID,co=Ur.statusType,$o=Ur.customStatus;return{userID:zr,statusType:co,customStatus:Rl($o)}}),ir=Wn.map(function(Ur){var zr=Ur.userID,co=Ur.invalidUserID,$o=Ur.errorCode,Ho=Ur.errorInfo;return{userID:kr(co)?zr:co,code:$o,message:Ho}});fr(Dt)||er.unshift(Dt);var Tr="userID count:".concat(gt.length,", success count:").concat(er.length,", fail count:").concat(ir.length);return Kt.setNetworkType(_t._userModule.getNetworkType()).setMessage("".concat(Tr)).end(),sn.l("".concat(at," ok. ").concat(Tr,".")),oo({successUserList:er,failureUserList:ir})}).catch(function(Jt){return _t._userModule.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Kt.setMessage("userID count:".concat(gt.length)).setError(Jt,On,Fn).end()}),sn.e("".concat(at," failed. error:"),Jt),Xn(Jt)})}},{key:"subscribeUserStatus",value:function(ut){var _t=this;if(!this._userModule.canIUse(hr.USER_STATUS))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".subscribeUserStatus"),ft=ut.userIDList,gt=ft===void 0?[]:ft,Ct=Ht(gt);Ct.length>this.MAX_SUBSCRIBE_USER_COUNT&&(sn.w("".concat(at," ").concat(Mo(this.MAX_SUBSCRIBE_USER_COUNT))),Ct=gt.slice(0,this.MAX_SUBSCRIBE_USER_COUNT));var St=new br("subscribeUserStatus"),Dt="userID count:".concat(gt.length);return sn.l("".concat(at," ").concat(Dt)),this._userModule.request({protocolName:k_,requestData:{userIDList:Ct}}).then(function(Lt){var jt=Lt.data.failureUserList,Kt=(jt===void 0?[]:jt).map(function(Jt){var cn=Jt.userID,bn=Jt.invalidUserID,On=Jt.errorCode,Fn=Jt.errorInfo;return{userID:kr(bn)?cn:bn,code:On,message:Fn}});return St.setNetworkType(_t._userModule.getNetworkType()).setMessage("".concat(Dt," fail count:").concat(Kt.length)).end(),sn.l("".concat(at," ok. fail count:").concat(Kt.length,".")),oo({failureUserList:Kt})}).catch(function(Lt){return _t._userModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];St.setMessage("".concat(Dt)).setError(Lt,Jt,cn).end()}),sn.e("".concat(at," failed. error:"),Lt),Xn(Lt)})}},{key:"unsubscribeUserStatus",value:function(ut){var _t=this;if(!this._userModule.canIUse(hr.USER_STATUS))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var at="".concat(this._n,".unsubscribeUserStatus"),ft=(ut||{}).userIDList,gt=ft===void 0?[]:ft,Ct=Ht(gt);gt.length>this.MAX_UNSUBSCRIBE_USER_COUNT&&(sn.w("".concat(at," ").concat(Mo(this.MAX_UNSUBSCRIBE_USER_COUNT))),Ct=gt.slice(0,this.MAX_UNSUBSCRIBE_USER_COUNT));var St=new br("unsubscribeUserStatus"),Dt="userID count:".concat(gt.length);sn.l("".concat(at," ").concat(Dt));var Lt={userIDList:Ct};return Ct.length===0&&(Lt.userIDList=void 0,Lt.unsubscribeAll=1),this._userModule.request({protocolName:Mm,requestData:Lt}).then(function(jt){var Kt=jt.data.failureUserList,Jt=(Kt===void 0?[]:Kt).map(function(cn){var bn=cn.userID,On=cn.invalidUserID,Fn=cn.errorCode,Wn=cn.errorInfo;return{userID:kr(On)?bn:On,code:Fn,message:Wn}});return St.setNetworkType(_t._userModule.getNetworkType()).setMessage("".concat(Dt," fail count:").concat(Jt.length)).end(),sn.l("".concat(at," ok. fail count:").concat(Jt.length,".")),oo({failureUserList:Jt})}).catch(function(jt){return _t._userModule.probeNetwork().then(function(Kt){var Jt=Ft(Kt,2),cn=Jt[0],bn=Jt[1];St.setMessage("".concat(Dt)).setError(jt,cn,bn).end()}),sn.e("".concat(at," failed. error:"),jt),Xn(jt)})}},{key:"reset",value:function(){this.MAX_QUERY_USER_COUNT=500,this.MAX_SUBSCRIBE_USER_COUNT=100,this.MAX_UNSUBSCRIBE_USER_COUNT=100}}]),Nt}(),g0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="UserModule",ft._profileHandler=new h0(Bt(ft)),ft._blacklistHandler=new Uy(Bt(ft)),ft._userStatusHandler=new Bp(Bt(ft)),ft.getInnerEmitterInstance().on(Yl,ft.onContextUpdated,Bt(ft)),ft}return lt(_t,[{key:"onContextUpdated",value:function(at){this._profileHandler.getMyProfile(),this._blacklistHandler.getBlacklist()}},{key:"onProfileModified",value:function(at){this._profileHandler.onProfileModified(at)}},{key:"onRelationChainModified",value:function(at){var ft=at.dataList;if(!kr(ft)){var gt=[];ft.forEach(function(St){St.blackListDelAccount&&gt.push.apply(gt,Ht(St.blackListDelAccount))}),gt.length>0&&this._blacklistHandler.onAccountDeleted(gt);var Ct=[];ft.forEach(function(St){St.blackListAddAccount&&Ct.push.apply(Ct,Ht(St.blackListAddAccount))}),Ct.length>0&&this._blacklistHandler.onAccountAdded(Ct)}}},{key:"onConversationsProfileUpdated",value:function(at){this._profileHandler.onConversationsProfileUpdated(at)}},{key:"getMyAccount",value:function(){return this.getMyUserID()}},{key:"getMyProfile",value:function(){return this._profileHandler.getMyProfile()}},{key:"getStorageModule",value:function(){return this.getModule(Yu)}},{key:"filterProfanity",value:function(at,ft){var gt=this.getModule(Ju);if(!gt)return!0;var Ct=gt.filterText(ft[at],Do),St=Ct.isAllowedToSend,Dt=Ct.modifiedText;return St===!0&&(ft[at]=Dt,!0)}},{key:"isMyFriend",value:function(at){var ft=this.getModule(Fs);return!!ft&&ft.isMyFriend(at)}},{key:"getUserProfile",value:function(at){return this._profileHandler.getUserProfile(at)}},{key:"updateMyProfile",value:function(at){return this._profileHandler.updateMyProfile(at)}},{key:"getNickAndAvatarByUserID",value:function(at){return this._profileHandler.getNickAndAvatarByUserID(at)}},{key:"getLocalBlacklist",value:function(){var at=this._blacklistHandler.getLocalBlacklist();return Io(at)}},{key:"addBlacklist",value:function(at){return this._blacklistHandler.addBlacklist(at)}},{key:"deleteBlacklist",value:function(at){return this._blacklistHandler.deleteBlacklist(at)}},{key:"onUserStatusUpdated",value:function(at){this._userStatusHandler.onUserStatusUpdated(at)}},{key:"setSelfStatus",value:function(at){return this._userStatusHandler.setSelfStatus(at)}},{key:"getUserStatus",value:function(at){return this._userStatusHandler.getUserStatus(at)}},{key:"subscribeUserStatus",value:function(at){return this._userStatusHandler.subscribeUserStatus(at)}},{key:"unsubscribeUserStatus",value:function(at){return this._userStatusHandler.unsubscribeUserStatus(at)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._profileHandler.reset(),this._blacklistHandler.reset(),this._userStatusHandler.reset()}}]),_t}(Ys),Gy=function(){function Nt(ut,_t){it(this,Nt),this._m=ut,this._isLoggedIn=!1,this._SDKAppID=_t.SDKAppID,this._userID=_t.userID||"",this._userSig=_t.userSig||"",this._version="2.27.6",this._a2Key="",this._tinyID="",this._customStatus="",this._contentType="json",this._unlimitedAVChatRoom=_t.unlimitedAVChatRoom,this._scene=_t.scene||"",this._oversea=_t.oversea,this._instanceID=_t.instanceID,this._statusInstanceID=0,this._isDevMode=_t.devMode,this._proxyServer=_t.proxyServer,this._fileUploadProxy=_t.fileUploadProxy,this._fileDownloadProxy=_t.fileDownloadProxy}return lt(Nt,[{key:"isLoggedIn",value:function(){return this._isLoggedIn}},{key:"isOversea",value:function(){return this._oversea}},{key:"isPrivateNetWork",value:function(){return this._proxyServer}},{key:"isDevMode",value:function(){return this._isDevMode}},{key:"isSingaporeSite",value:function(){return this._SDKAppID>=2e7&&this._SDKAppID<3e7||this._SDKAppID>=172e7&&this._SDKAppID<173e7}},{key:"isKoreaSite",value:function(){return this._SDKAppID>=3e7&&this._SDKAppID<4e7||this._SDKAppID>=173e7&&this._SDKAppID<174e7}},{key:"isGermanySite",value:function(){return this._SDKAppID>=4e7&&this._SDKAppID<5e7||this._SDKAppID>=174e7&&this._SDKAppID<175e7}},{key:"isIndiaSite",value:function(){return this._SDKAppID>=5e7&&this._SDKAppID<6e7||this._SDKAppID>=175e7&&this._SDKAppID<176e7}},{key:"isJapanSite",value:function(){return this._SDKAppID>=6e7&&this._SDKAppID<7e7||this._SDKAppID>=176e7&&this._SDKAppID<177e7}},{key:"isUSASite",value:function(){return this._SDKAppID>=7e7&&this._SDKAppID<8e7||this._SDKAppID>=177e7&&this._SDKAppID<178e7}},{key:"isIntl",value:function(){return(ut=this._SDKAppID)===0||ut>=2e7&&ut<8e7||ut>=172e7&&ut<178e7;var ut}},{key:"isUnlimitedAVChatRoom",value:function(){return this._unlimitedAVChatRoom}},{key:"setUserID",value:function(ut){this._userID=ut}},{key:"getUserID",value:function(){return this._userID}},{key:"setUserSig",value:function(ut){this._userSig=ut}},{key:"getUserSig",value:function(){return this._userSig}},{key:"getSDKAppID",value:function(){return this._SDKAppID}},{key:"setTinyID",value:function(ut){this._tinyID=ut,this._isLoggedIn=!0}},{key:"getTinyID",value:function(){return this._tinyID}},{key:"setCustomStatus",value:function(ut){this._customStatus=ut}},{key:"getCustomStatus",value:function(){return this._customStatus}},{key:"getScene",value:function(){return ou?window.tencent_cloud_im_csig_flutter_for_web_25F_cy:this._isTUIKit()?"tuikit":this._scene}},{key:"getInstanceID",value:function(){return this._instanceID}},{key:"getStatusInstanceID",value:function(){return this._statusInstanceID}},{key:"setStatusInstanceID",value:function(ut){this._statusInstanceID=ut}},{key:"getVersion",value:function(){return this._version}},{key:"getA2Key",value:function(){return this._a2Key}},{key:"setA2Key",value:function(ut){this._a2Key=ut}},{key:"getContentType",value:function(){return this._contentType}},{key:"getProxyServer",value:function(){return this._proxyServer}},{key:"getFileUploadProxy",value:function(){return this._fileUploadProxy}},{key:"getFileDownloadProxy",value:function(){return this._fileDownloadProxy}},{key:"_isTUIKit",value:function(){var ut=!1,_t=!1,at=!1,ft=!1,gt=[];gr&&(gt=Object.keys(Ar)),Mr&&(gt=Object.keys(cr?uni:window));for(var Ct=0,St=gt.length;Ct<St;Ct++)if(gt[Ct].toLowerCase().includes("uikit")){ut=!0;break}if(gt=null,gr&&!ku(Ar.createGamePortal)&&ku(getApp)&&!fr(getApp())){var Dt=getApp().globalData;ns(Dt)&&Dt.isTUIKit===!0&&(_t=!0)}this._m.getModule(Yu).getStorageSync("TIM_".concat(this._SDKAppID,"_isTUIKit"))===!0&&(at=!0);var Lt=null;if(_i&&!sr&&typeof uni>"u"&&__wxConfig&&(Lt=__wxConfig.pages),Qn&&typeof uni>"u"&&__qqConfig&&(Lt=__qqConfig.pages),Zr(Lt)&&Lt.length>0){for(var jt=0,Kt=Lt.length;jt<Kt;jt++)if(Lt[jt].toLowerCase().includes("tui")){ft=!0;break}Lt=null}return ut||_t||at||ft}},{key:"reset",value:function(){this._isLoggedIn=!1,this._userSig="",this._a2Key="",this._tinyID="",this._customStatus="",this._statusInstanceID=0}}]),Nt}(),pv=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="SignModule",ft._helloInterval=120,ft._lastLoginTs=0,ft._lastWsHelloTs=0,ft._isWebUniapp=0,sv.mixin(Bt(ft)),ft}return lt(_t,[{key:"onCheckTimer",value:function(at){this.isLoggedIn()&&at%this._helloInterval==0&&this._hello()}},{key:"login",value:function(at){var ft="";if(this.isLoggedIn()){var gt=this.getMyUserID();return(ft=this.getErrorMessage("RepeatLogin",gt))&&sn.w(ft),Io({actionStatus:"OK",errorCode:0,errorInfo:ft,repeatLogin:!0})}if(Date.now()-this._lastLoginTs<=15e3)return this.outputWarning("LoggingIn",at.userID),Xn({code:pr.REPEAT_LOGIN});sn.l("".concat(this._n,".login userID:").concat(at.userID));var Ct=this._checkLoginInfo(at);if(Ct.code!==0)return Xn(Ct);var St=this.getModule(jo),Dt=at.userID,Lt=at.userSig;return St.setUserID(Dt),St.setUserSig(Lt),this.getModule($s).updateProtocolConfig(),this._login()}},{key:"_login",value:function(){var at=this,ft=this.getModule(jo),gt=ft.getScene(),Ct=0,St=new br("login");St.setMessage("".concat(gt)).setMoreMessage("identifier:".concat(this.getMyUserID())),cr?gt==="tuikit"?St.setUIPlatform(4):St.setUIPlatform(3):gr?gt==="tuikit"?St.setUIPlatform(12):St.setUIPlatform(11):Mr&&(ou?gt==="flutter_web_uikit"?St.setUIPlatform(21):St.setUIPlatform(20):this._isReactUIKit()?Zs?St.setUIPlatform(25):St.setUIPlatform(24):Zs?gt==="tuikit"?St.setUIPlatform(17):St.setUIPlatform(16):gt==="tuikit"?St.setUIPlatform(14):St.setUIPlatform(13));var Dt=this.getModule(Os);if(Dt.canIUseOfflinePush()){this._isWebUniapp=Dt.getUniAppPlatform();var Lt=this._getStatusInstanceID();ft.setStatusInstanceID(Lt),this.getModule($s).updateProtocolConfig(),Ct=Dt.getDeviceBrand()}var jt="".concat(this._n,"._login");return this._lastLoginTs=Date.now(),this.request({protocolName:Ul,requestData:{deviceBrand:Ct,isWebUniapp:this._isWebUniapp}}).then(function(Kt){at._lastLoginTs=0;var Jt=Date.now(),cn=null,bn=Kt.data,On=bn.a2Key,Fn=bn.tinyID,Wn=bn.helloInterval,er=bn.instanceID,ir=bn.timeStamp,Tr=bn.customStatus,Ur=Tr===void 0?"":Tr,zr=bn.purchaseBits;sn.l("".concat(jt," ok. scene:").concat(gt," helloInterval:").concat(Wn," instanceID:").concat(er," timeStamp:").concat(ir));var co=1e3*ir,$o=Jt-St.getStartTs(),Ho=co+parseInt($o/2)-Jt,Ro=St.getStartTs()+Ho;if(St.start(Ro),function(Xu,$u){qs=$u;var Vu=new Date;Vu.setTime(Xu),sn.i("baseTime from server:".concat(Vu," offset:").concat(qs))}(co,Ho),!Fn)throw cn=new ks({code:pr.NO_TINYID}),St.setError(cn,!0,at.getNetworkType()).end(),cn;if(!On)throw cn=new ks({code:pr.NO_A2KEY}),St.setError(cn,!0,at.getNetworkType()).end(),cn;var ts=Rl(Ur);St.setNetworkType(at.getNetworkType()).setMoreMessage("helloInterval:".concat(Wn," instanceID:").concat(er," offset:").concat(Ho," customStatus:").concat(ts)).end(),ft.setA2Key(On),ft.setTinyID(Fn),ft.setStatusInstanceID(er),ft.setCustomStatus(ts),zr&&at.getModule(xl).onPushedConfig({errorCode:0,expiredTime:0,purchaseBits:zr}),at.getModule($s).updateProtocolConfig(),at.emitInnerEvent(Yl),at._helloInterval=Wn,at.triggerReady();var Iu=at.getModule(Os);return Iu.canIUseOfflinePush()&&(uni.setStorageSync("timUniAppInstanceID",er),Iu.init()),at._fetchCloudControlConfig(),at.getModule(Ju).init(),Kt}).catch(function(Kt){return at.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];St.setError(Kt,bn,On).end(!0)}),at._m.setNotReadyReason(pr.LOGIN_FAILED),sn.e("".concat(jt," failed. error:"),Kt),at._lastLoginTs=0,at._m.onLoginFailed(),Xn(Kt)})}},{key:"logout",value:function(){var at=this,ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!this.isLoggedIn())return Xn({code:pr.USER_NOT_LOGGED_IN});var gt=new br("logout");gt.setNetworkType(this.getNetworkType()).setMessage("identifier:".concat(this.getMyUserID())).end(!0);var Ct="".concat(this._n,".logout");return sn.i("".concat(Ct," type:").concat(ft)),ft===0&&this._m.setNotReadyReason(pr.LOGGED_OUT),this.request({protocolName:Rm,requestData:{type:ft}}).then(function(){return at.resetReady(),Io({})}).catch(function(St){return sn.e("".concat(Ct," error:"),St),at.resetReady(),Io({})})}},{key:"_fetchCloudControlConfig",value:function(){this.getModule(zl).fetchConfig()}},{key:"_getStatusInstanceID",value:function(){return uni.getStorageSync("timUniAppInstanceID")}},{key:"_hello",value:function(){var at=this;this._lastWsHelloTs=Date.now(),this.request({protocolName:Om,requestData:{isWebUniapp:this._isWebUniapp}}).catch(function(ft){sn.w("".concat(at._n,"._hello error:"),ft)})}},{key:"getLastWsHelloTs",value:function(){return this._lastWsHelloTs}},{key:"_checkLoginInfo",value:function(at){var ft=0;return kr(this.getModule(jo).getSDKAppID())?ft=pr.NO_SDKAPPID:kr(at.userID)?ft=pr.NO_IDENTIFIER:kr(at.userSig)&&(ft=pr.NO_USERSIG),{code:ft}}},{key:"_isReactUIKit",value:function(){return Mr&&window.tencent_cloud_im_csig_react_uikit_23F_xa!==void 0}},{key:"onMultipleAccountKickedOut",value:function(at){var ft=this;new br("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(Ut.KICKED_OUT_MULT_ACCOUNT," newInstanceInfo:").concat(JSON.stringify(at))).end(!0),sn.w("".concat(this._n,".onMultipleAccountKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),at),this.logout(1).then(function(){ft.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_MULT_ACCOUNT}),ft._m.setNotReadyReason(pr.KICKED_OUT_MULT_ACCOUNT),ft._m.reset()})}},{key:"onMultipleDeviceKickedOut",value:function(at){var ft=this;new br("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(Ut.KICKED_OUT_MULT_DEVICE," newInstanceInfo:").concat(JSON.stringify(at))).end(!0),sn.w("".concat(this._n,".onMultipleDeviceKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),at),this.logout(1).then(function(){ft.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_MULT_DEVICE}),ft._m.setNotReadyReason(pr.KICKED_OUT_MULT_DEVICE),ft._m.reset()})}},{key:"onUserSigExpired",value:function(){new br("kickedOut").setNetworkType(this.getNetworkType()).setMessage(Ut.KICKED_OUT_USERSIG_EXPIRED).end(!0),sn.w("".concat(this._n,".onUserSigExpired: userSig expired")),this.getModule(jo).getStatusInstanceID()!==0&&(this.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_USERSIG_EXPIRED}),this._m.setNotReadyReason(pr.KICKED_OUT_USERSIG_EXPIRED),this._m.reset())}},{key:"onRestApiKickedOut",value:function(at){new br("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(Ut.KICKED_OUT_REST_API," newInstanceInfo:").concat(JSON.stringify(at))).end(!0),sn.w("".concat(this._n,".onRestApiKickedOut userID:").concat(this.getMyUserID()," newInstanceInfo:"),at),this.getModule(jo).getStatusInstanceID()!==0&&(this.emitOuterEvent(yn.KICKED_OUT,{type:Ut.KICKED_OUT_REST_API}),this._m.setNotReadyReason(pr.KICKED_OUT_REST_API),this._m.reset(),this.getModule(yl).onRestApiKickedOut())}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this.resetReady(),this._helloInterval=120,this._lastLoginTs=0,this._lastWsHelloTs=0,this._isWebUniapp=0}}]),_t}(Ys);function rm(){return null}var $y=function(){function Nt(ut){it(this,Nt),this._m=ut,this._n="StorageModule",this._storageQueue=new Map,this._errorTolerantHandle()}return lt(Nt,[{key:"_errorTolerantHandle",value:function(){gr||!fr(window)&&this._canIUseCookies()||(this.getItem=rm,this.setItem=rm,this.removeItem=rm,this.clear=rm)}},{key:"onCheckTimer",value:function(ut){if(ut%20==0){if(this._storageQueue.size===0)return;this._doFlush()}}},{key:"_doFlush",value:function(){try{var ut,_t=Cn(this._storageQueue);try{for(_t.s();!(ut=_t.n()).done;){var at=Ft(ut.value,2),ft=at[0],gt=at[1];this._setStorageSync(this._getKey(ft),gt)}}catch(Ct){_t.e(Ct)}finally{_t.f()}this._storageQueue.clear()}catch(Ct){sn.w("".concat(this._n,"._doFlush error:"),Ct)}}},{key:"_getPrefix",value:function(){var ut=this._m.getModule(jo);return"TIM_".concat(ut.getSDKAppID(),"_").concat(ut.getUserID(),"_")}},{key:"_getKey",value:function(ut){return"".concat(this._getPrefix()).concat(ut)}},{key:"getItem",value:function(ut){var _t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{var at=_t?this._getKey(ut):ut;return this.getStorageSync(at)}catch(ft){return sn.w("".concat(this._n,".getItem error:"),ft),{}}}},{key:"setItem",value:function(ut,_t){var at=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ft=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(at){var gt=ft?this._getKey(ut):ut;this._setStorageSync(gt,_t)}else this._storageQueue.set(ut,_t)}},{key:"clear",value:function(){try{gr?Ar.clearStorageSync():this._canIUseCookies()&&localStorage.clear()}catch(ut){sn.w("".concat(this._n,".clear error:"),ut)}}},{key:"removeItem",value:function(ut){var _t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{var at=_t?this._getKey(ut):ut;this._removeStorageSync(at)}catch(ft){sn.w("".concat(this._n,".removeItem error:"),ft)}}},{key:"getSize",value:function(ut){var _t=this,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"b";try{var ft={size:0,limitSize:5242880,unit:at};if(Object.defineProperty(ft,"leftSize",{enumerable:!0,get:function(){return ft.limitSize-ft.size}}),gr&&(ft.limitSize=1024*Ar.getStorageInfoSync().limitSize),ut)ft.size=JSON.stringify(this.getItem(ut)).length+this._getKey(ut).length;else if(gr){var gt=Ar.getStorageInfoSync(),Ct=gt.keys;Ct.forEach(function(Dt){ft.size+=JSON.stringify(_t.getStorageSync(Dt)).length+_t._getKey(Dt).length})}else if(this._canIUseCookies())for(var St in localStorage)localStorage.hasOwnProperty(St)&&(ft.size+=localStorage.getItem(St).length+St.length);return this._convertUnit(ft)}catch(Dt){sn.w("".concat(this._n," error:"),Dt)}}},{key:"_convertUnit",value:function(ut){var _t={},at=ut.unit;for(var ft in _t.unit=at,ut)typeof ut[ft]=="number"&&(at.toLowerCase()==="kb"?_t[ft]=Math.round(ut[ft]/1024):at.toLowerCase()==="mb"?_t[ft]=Math.round(ut[ft]/1024/1024):_t[ft]=ut[ft]);return _t}},{key:"_setStorageSync",value:function(ut,_t){gr?Or?my.setStorageSync({key:ut,data:_t}):Ar.setStorageSync(ut,_t):this._canIUseCookies()&&localStorage.setItem(ut,JSON.stringify(_t))}},{key:"getStorageSync",value:function(ut){return gr?Or?my.getStorageSync({key:ut}).data:Ar.getStorageSync(ut):this._canIUseCookies()?JSON.parse(localStorage.getItem(ut)):{}}},{key:"_removeStorageSync",value:function(ut){gr?Or?my.removeStorageSync({key:ut}):Ar.removeStorageSync(ut):this._canIUseCookies()&&localStorage.removeItem(ut)}},{key:"_canIUseCookies",value:function(){return navigator&&navigator.cookieEnabled&&localStorage}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._doFlush()}}]),Nt}(),Fy=function(){function Nt(ut){it(this,Nt),this._n="SSOLogBody",this._report=[]}return lt(Nt,[{key:"pushIn",value:function(ut){sn.d("".concat(this._n,".pushIn"),this._report.length,ut),this._report.push(ut)}},{key:"backfill",value:function(ut){var _t;Zr(ut)&&ut.length!==0&&(sn.d("".concat(this._n,".backfill"),this._report.length,ut.length),(_t=this._report).unshift.apply(_t,Ht(ut)))}},{key:"getLogsNumInMemory",value:function(){return this._report.length}},{key:"isEmpty",value:function(){return this._report.length===0}},{key:"_reset",value:function(){this._report.length=0,this._report=[]}},{key:"getLogsInMemory",value:function(){var ut=this._report.slice();return this._reset(),ut}}]),Nt}(),jy=function(Nt){var ut=Nt.getModule(jo);return{SDKType:10,SDKAppID:ut.getSDKAppID(),SDKVersion:ut.getVersion(),tinyID:Number(ut.getTinyID()),userID:ut.getUserID(),platform:Nt.getPlatform(),instanceID:ut.getInstanceID(),traceID:iu()}},U_=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;it(this,_t),(ft=ut.call(this,at))._n="EventStatModule",ft.TAG="im-ssolog-event",ft._reportBody=new Fy,ft.MIN_THRESHOLD=20,ft.MAX_THRESHOLD=100,ft.WAITING_TIME=6e4,ft.REPORT_LEVEL=[4,5,6],ft.REPORT_SDKAPPID_BLACKLIST=[],ft.REPORT_TINYID_WHITELIST=[],ft._lastReportTime=Date.now();var gt=ft.getInnerEmitterInstance();return gt.on(Yl,ft._onLoginSuccess,Bt(ft)),gt.on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"reportAtOnce",value:function(){sn.d("".concat(this._n,".reportAtOnce")),this._report()}},{key:"_onLoginSuccess",value:function(){var at=this,ft=this.getModule(Yu),gt=ft.getItem(this.TAG,!1);!kr(gt)&&ku(gt.forEach)&&(sn.l("".concat(this._n,"._onLoginSuccess get ssolog in storage, count:").concat(gt.length)),gt.forEach(function(Ct){at._reportBody.pushIn(Ct)}),ft.removeItem(this.TAG,!1))}},{key:"_onCloudConfigUpdated",value:function(){var at=this.getCloudConfig("evt_rpt_threshold"),ft=this.getCloudConfig("evt_rpt_waiting"),gt=this.getCloudConfig("evt_rpt_level"),Ct=this.getCloudConfig("evt_rpt_sdkappid_bl"),St=this.getCloudConfig("evt_rpt_tinyid_wl");fr(at)||(this.MIN_THRESHOLD=Number(at)),fr(ft)||(this.WAITING_TIME=Number(ft)),fr(gt)||(this.REPORT_LEVEL=gt.split(",").map(function(Dt){return Number(Dt)})),fr(Ct)||(this.REPORT_SDKAPPID_BLACKLIST=Ct.split(",").map(function(Dt){return Number(Dt)})),fr(St)||(this.REPORT_TINYID_WHITELIST=St.split(","))}},{key:"pushIn",value:function(at){at instanceof br&&(at.updateTimeStamp(),this._reportBody.pushIn(at),this._reportBody.getLogsNumInMemory()>=this.MIN_THRESHOLD&&this._report())}},{key:"onCheckTimer",value:function(){Date.now()<this._lastReportTime+this.WAITING_TIME||this._reportBody.isEmpty()||this._report()}},{key:"_filterLogs",value:function(at){var ft=this,gt=this.getModule(jo),Ct=gt.getSDKAppID(),St=gt.getTinyID();return Kp(this.REPORT_SDKAPPID_BLACKLIST,Ct)&&!Ip(this.REPORT_TINYID_WHITELIST,St)?[]:at.filter(function(Dt){return ft.REPORT_LEVEL.includes(Dt.level)})}},{key:"_report",value:function(){var at=this;if(!this._reportBody.isEmpty()){var ft=this._reportBody.getLogsInMemory(),gt=this._filterLogs(ft);if(gt.length!==0){var Ct={header:jy(this),event:gt};this.request({protocolName:S_,requestData:rt({},Ct)}).then(function(){at._lastReportTime=Date.now()}).catch(function(St){sn.w("".concat(at._n,".report failed. networkType:").concat(at.getNetworkType()," error:"),St),at._reportBody.backfill(ft),at._reportBody.getLogsNumInMemory()>at.MAX_THRESHOLD&&at._flushAtOnce()})}else this._lastReportTime=Date.now()}}},{key:"_flushAtOnce",value:function(){var at=this.getModule(Yu),ft=at.getItem(this.TAG,!1),gt=this._reportBody.getLogsInMemory(),Ct="".concat(this._n,"._flushAtOnce");if(kr(ft))sn.l("".concat(Ct," count:").concat(gt.length)),at.setItem(this.TAG,gt,!0,!1);else{var St=gt.concat(ft);St.length>this.MAX_THRESHOLD&&(St=St.slice(0,this.MAX_THRESHOLD)),sn.l("".concat(Ct," count:").concat(St.length)),at.setItem(this.TAG,St,!0,!1)}}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._lastReportTime=0,this._report(),this.REPORT_SDKAPPID_BLACKLIST=[],this.REPORT_TINYID_WHITELIST=[]}}]),_t}(Ys),Mp="none",Bm="online",m0=[pr.OVER_FREQUENCY_LIMIT,pr.OPEN_SERVICE_OVERLOAD_ERROR],fv=function(){function Nt(ut){it(this,Nt),this._m=ut,this._networkType="",this._n="NetMonitorModule",this.MAX_WAIT_TIME=3e3,this._mpNetworkStatusCallback=null,this._webOnlineCallback=null,this._webOfflineCallback=null}return lt(Nt,[{key:"start",value:function(){var ut=this;gr?(Ar.getNetworkType({success:function(_t){ut._networkType=_t.networkType||_t.subtype||"",_t.networkType===Mp?sn.w("".concat(ut._n,".start no network, please check!")):sn.i("".concat(ut._n,".start networkType:").concat(_t.networkType))}}),this._mpNetworkStatusCallback=this._onNetworkStatusChange.bind(this),Ar.onNetworkStatusChange(this._mpNetworkStatusCallback)):(this._networkType=Bm,this._webOnlineCallback=this._onWebOnline.bind(this),this._webOfflineCallback=this._onWebOffline.bind(this),window&&(window.addEventListener("online",this._webOnlineCallback),window.addEventListener("offline",this._webOfflineCallback)))}},{key:"_onWebOnline",value:function(){this._onNetworkStatusChange({isConnected:!0,networkType:Bm})}},{key:"_onWebOffline",value:function(){this._onNetworkStatusChange({isConnected:!1,networkType:Mp})}},{key:"_onNetworkStatusChange",value:function(ut){var _t=ut.isConnected,at=ut.networkType,ft="".concat(this._n,"._onNetworkStatusChange"),gt=!1;_t?(sn.i("".concat(ft," previous:").concat(this._networkType," current:").concat(at)),this._networkType!==at&&(gt=!0,this._m.getModule(yl).reConnect(!0))):this._networkType!==at&&(gt=!0,sn.w("".concat(ft," no network, please check!")),this._m.getModule(yl).offline()),gt&&(new br("networkChange").setMessage("isConnected:".concat(_t," previousNetworkType:").concat(this._networkType," networkType:").concat(at)).end(),this._networkType=at)}},{key:"probe",value:function(ut){var _t=this;if(!fr(ut)&&m0.includes(ut.code))return Promise.resolve([!0,this._networkType]);var at="".concat(this._n,".probe");return new Promise(function(ft,gt){gr?Ar.getNetworkType({success:function(Ct){_t._networkType=Ct.networkType,Ct.networkType===Mp?(sn.w("".concat(at," no network, please check!")),ft([!1,Ct.networkType])):(sn.i("".concat(at," networkType:").concat(Ct.networkType)),ft([!0,Ct.networkType]))}}):_t._networkType===Mp?ft([!1,Mp]):ft([!0,Bm])})}},{key:"getNetworkType",value:function(){return this._networkType}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),gr?this._mpNetworkStatusCallback!==null&&(Ar.offNetworkStatusChange&&(lr||sr?Ar.offNetworkStatusChange(this._mpNetworkStatusCallback):Ar.offNetworkStatusChange()),this._mpNetworkStatusCallback=null):window&&(this._webOnlineCallback!==null&&(window.removeEventListener("online",this._webOnlineCallback),this._webOnlineCallback=null),this._onWebOffline!==null&&(window.removeEventListener("offline",this._webOfflineCallback),this._webOfflineCallback=null))}}]),Nt}();function G_(Nt,ut){return Nt(ut={exports:{}},ut.exports),ut.exports}var $_=G_(function(Nt){var ut=Object.prototype.hasOwnProperty,_t="~";function at(){}function ft(Dt,Lt,jt){this.fn=Dt,this.context=Lt,this.once=jt||!1}function gt(Dt,Lt,jt,Kt,Jt){if(typeof jt!="function")throw new TypeError("The listener must be a function");var cn=new ft(jt,Kt||Dt,Jt),bn=_t?_t+Lt:Lt;return Dt._events[bn]?Dt._events[bn].fn?Dt._events[bn]=[Dt._events[bn],cn]:Dt._events[bn].push(cn):(Dt._events[bn]=cn,Dt._eventsCount++),Dt}function Ct(Dt,Lt){--Dt._eventsCount==0?Dt._events=new at:delete Dt._events[Lt]}function St(){this._events=new at,this._eventsCount=0}Object.create&&(at.prototype=Object.create(null),new at().__proto__||(_t=!1)),St.prototype.eventNames=function(){var Dt,Lt,jt=[];if(this._eventsCount===0)return jt;for(Lt in Dt=this._events)ut.call(Dt,Lt)&&jt.push(_t?Lt.slice(1):Lt);return Object.getOwnPropertySymbols?jt.concat(Object.getOwnPropertySymbols(Dt)):jt},St.prototype.listeners=function(Dt){var Lt=_t?_t+Dt:Dt,jt=this._events[Lt];if(!jt)return[];if(jt.fn)return[jt.fn];for(var Kt=0,Jt=jt.length,cn=new Array(Jt);Kt<Jt;Kt++)cn[Kt]=jt[Kt].fn;return cn},St.prototype.listenerCount=function(Dt){var Lt=_t?_t+Dt:Dt,jt=this._events[Lt];return jt?jt.fn?1:jt.length:0},St.prototype.emit=function(Dt,Lt,jt,Kt,Jt,cn){var bn=_t?_t+Dt:Dt;if(!this._events[bn])return!1;var On,Fn,Wn=this._events[bn],er=arguments.length;if(Wn.fn){switch(Wn.once&&this.removeListener(Dt,Wn.fn,void 0,!0),er){case 1:return Wn.fn.call(Wn.context),!0;case 2:return Wn.fn.call(Wn.context,Lt),!0;case 3:return Wn.fn.call(Wn.context,Lt,jt),!0;case 4:return Wn.fn.call(Wn.context,Lt,jt,Kt),!0;case 5:return Wn.fn.call(Wn.context,Lt,jt,Kt,Jt),!0;case 6:return Wn.fn.call(Wn.context,Lt,jt,Kt,Jt,cn),!0}for(Fn=1,On=new Array(er-1);Fn<er;Fn++)On[Fn-1]=arguments[Fn];Wn.fn.apply(Wn.context,On)}else{var ir,Tr=Wn.length;for(Fn=0;Fn<Tr;Fn++)switch(Wn[Fn].once&&this.removeListener(Dt,Wn[Fn].fn,void 0,!0),er){case 1:Wn[Fn].fn.call(Wn[Fn].context);break;case 2:Wn[Fn].fn.call(Wn[Fn].context,Lt);break;case 3:Wn[Fn].fn.call(Wn[Fn].context,Lt,jt);break;case 4:Wn[Fn].fn.call(Wn[Fn].context,Lt,jt,Kt);break;default:if(!On)for(ir=1,On=new Array(er-1);ir<er;ir++)On[ir-1]=arguments[ir];Wn[Fn].fn.apply(Wn[Fn].context,On)}}return!0},St.prototype.on=function(Dt,Lt,jt){return gt(this,Dt,Lt,jt,!1)},St.prototype.once=function(Dt,Lt,jt){return gt(this,Dt,Lt,jt,!0)},St.prototype.removeListener=function(Dt,Lt,jt,Kt){var Jt=_t?_t+Dt:Dt;if(!this._events[Jt])return this;if(!Lt)return Ct(this,Jt),this;var cn=this._events[Jt];if(cn.fn)cn.fn!==Lt||Kt&&!cn.once||jt&&cn.context!==jt||Ct(this,Jt);else{for(var bn=0,On=[],Fn=cn.length;bn<Fn;bn++)(cn[bn].fn!==Lt||Kt&&!cn[bn].once||jt&&cn[bn].context!==jt)&&On.push(cn[bn]);On.length?this._events[Jt]=On.length===1?On[0]:On:Ct(this,Jt)}return this},St.prototype.removeAllListeners=function(Dt){var Lt;return Dt?(Lt=_t?_t+Dt:Dt,this._events[Lt]&&Ct(this,Lt)):(this._events=new at,this._eventsCount=0),this},St.prototype.off=St.prototype.removeListener,St.prototype.addListener=St.prototype.on,St.prefixed=_t,St.EventEmitter=St,Nt.exports=St}),hv=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="BigDataChannelModule",ft.FILETYPE={SOUND:2106,FILE:2107,VIDEO:2113},ft._bdh_download_server="grouptalk.c2c.qq.com",ft._BDHBizID=10001,ft._authKey="",ft._expireTime=0,ft.getInnerEmitterInstance().on(Yl,ft._getAuthKey,Bt(ft)),ft}return lt(_t,[{key:"_getAuthKey",value:function(){var at=this;this.isIntl()||this.request({protocolName:Kl}).then(function(ft){ft.data.authKey&&(at._authKey=ft.data.authKey,at._expireTime=parseInt(ft.data.expireTime))})}},{key:"_isFromOlderVersion",value:function(at){return!(!at.content||at.content.downloadFlag===2)}},{key:"parseElements",value:function(at,ft){if(!Zr(at)||!ft)return[];for(var gt=[],Ct=null,St=0;St<at.length;St++)Ct=at[St],this._needParse(Ct)?gt.push(this._parseElement(Ct,ft)):gt.push(at[St]);return gt}},{key:"_needParse",value:function(at){return!at.cloudCustomData&&!(!this._isFromOlderVersion(at)||at.type!==Ut.MSG_AUDIO&&at.type!==Ut.MSG_FILE&&at.type!==Ut.MSG_VIDEO)}},{key:"_parseElement",value:function(at,ft){switch(at.type){case Ut.MSG_AUDIO:return this._parseAudioElement(at,ft);case Ut.MSG_FILE:return this._parseFileElement(at,ft);case Ut.MSG_VIDEO:return this._parseVideoElement(at,ft)}}},{key:"_parseAudioElement",value:function(at,ft){return at.content.url=this._genAudioUrl(at.content.uuid,ft),at}},{key:"_parseFileElement",value:function(at,ft){return at.content.url=this._genFileUrl(at.content.uuid,ft,at.content.fileName),at}},{key:"_parseVideoElement",value:function(at,ft){return at.content.url=this._genVideoUrl(at.content.uuid,ft),at}},{key:"_genAudioUrl",value:function(at,ft){if(this._authKey==="")return"";var gt=this.getModule(jo).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(gt,"&fileid=").concat(at,"&filetype=").concat(this.FILETYPE.SOUND,"&openid=").concat(ft,"&ver=0")}},{key:"_genFileUrl",value:function(at,ft,gt){if(this._authKey==="")return"";gt||(gt="".concat(Math.floor(1e5*Math.random()),"-").concat(Date.now()));var Ct=this.getModule(jo).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(Ct,"&fileid=").concat(at,"&filetype=").concat(this.FILETYPE.FILE,"&openid=").concat(ft,"&ver=0&filename=").concat(encodeURIComponent(gt))}},{key:"_genVideoUrl",value:function(at,ft){if(this._authKey==="")return"";var gt=this.getModule(jo).getSDKAppID();return"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(gt,"&fileid=").concat(at,"&filetype=").concat(this.FILETYPE.VIDEO,"&openid=").concat(ft,"&ver=0")}},{key:"reset",value:function(){this._authKey="",this.expireTime=0}}]),_t}(Ys),gv=["requestSnapshotUrl"],ny=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;it(this,_t),(ft=ut.call(this,at))._n="UploadModule",ft.TIMUploadPlugin=null,ft.timUploadPlugin=null,ft.COSSDK=null,ft._cosUploadMethod=null,ft.expiredTimeLimit=600,ft.appid=0,ft.bucketName="",ft.ciUrl="",ft.directory="",ft.downloadUrl="",ft.uploadUrl="",ft.region="ap-shanghai",ft.cos=null,ft.cosOptions={secretId:"",secretKey:"",sessionToken:"",expiredTime:0},ft.uploadFileType="",ft.duration=900,ft.tryCount=0,ft.UPLOAD_SIZE_LIMIT={AUDIO:20971520,FILE:104857600,IMAGE:20971520,VIDEO:104857600};var gt=ft.getInnerEmitterInstance();return gt.on(Yl,ft._init,Bt(ft)),gt.on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"_init",value:function(){var at=this.getModule(Hl);if(this.TIMUploadPlugin=at.getPlugin("tim-upload-plugin"),this.TIMUploadPlugin)this._initUploaderMethod();else{var ft=gr?"cos-wx-sdk":"cos-js-sdk";this.COSSDK=at.getPlugin(ft),this.COSSDK?(this._getAuthorizationKey(),this.outputWarning("CosReplacement",ft)):this.outputWarning("PluginUndetected")}}},{key:"_onCloudConfigUpdated",value:function(){var at="".concat(this._n,"._onCloudConfigUpdated"),ft=this.getCloudConfig("upload_size_limit");if(sn.l("".concat(at," uploadSizeLimit:").concat(ft)),!fr(ft))try{var gt=JSON.parse(ft);this.UPLOAD_SIZE_LIMIT={AUDIO:gt.a?1048576*parseInt(gt.a):this.UPLOAD_SIZE_LIMIT.AUDIO,FILE:gt.f?1048576*parseInt(gt.f):this.UPLOAD_SIZE_LIMIT.FILE,IMAGE:gt.i?1048576*parseInt(gt.i):this.UPLOAD_SIZE_LIMIT.IMAGE,VIDEO:gt.v?1048576*parseInt(gt.v):this.UPLOAD_SIZE_LIMIT.VIDEO}}catch{sn.e("".concat(at," JSON parse error. uploadSizeLimit:"),ft)}}},{key:"_getAuthorizationKey",value:function(){var at=this,ft="".concat(this._n,".").concat("_getAuthorizationKey"),gt=new br("_getAuthorizationKey"),Ct=Math.ceil(Date.now()/1e3);this.request({protocolName:$v,requestData:{duration:this.expiredTimeLimit}}).then(function(St){var Dt=St.data;sn.l("".concat(ft," ok. data:"),Dt);var Lt=Dt.expiredTime-Ct;gt.setMessage("requestId:".concat(Dt.requestId," requestTime:").concat(Ct," expiredTime:").concat(Dt.expiredTime," diff:").concat(Lt,"s")).setNetworkType(at.getNetworkType()).end(),!gr&&Dt.region&&(at.region=Dt.region),at.appid=Dt.appid,at.bucketName=Dt.bucketName,at.ciUrl=Dt.ciUrl,at.directory=Dt.directory,at.downloadUrl=Dt.downloadUrl,at.uploadUrl=Dt.uploadUrl,at.cosOptions={secretId:Dt.secretId,secretKey:Dt.secretKey,sessionToken:Dt.sessionToken,expiredTime:Dt.expiredTime},sn.l("".concat(ft," ok. region:").concat(at.region," bucketName:").concat(at.bucketName)),at._initUploaderMethod()}).catch(function(St){at.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];gt.setError(St,jt,Kt).end()}),sn.w("".concat(ft," failed. error:"),St)})}},{key:"_getCosPreSigUrl",value:function(at){var ft=this,gt="".concat(this._n,".").concat("_getCosPreSigUrl"),Ct=Math.ceil(Date.now()/1e3),St=new br("_getCosPreSigUrl");return this.request({protocolName:Fv,requestData:{fileType:at.fileType,fileName:at.fileName,uploadMethod:at.uploadMethod,duration:at.duration}}).then(function(Dt){ft.tryCount=0;var Lt=Dt.data||{},jt=Lt.expiredTime-Ct;return sn.l("".concat(gt," ok. data:"),Lt),St.setMessage("requestId:".concat(Lt.requestId," expiredTime:").concat(Lt.expiredTime," diff:").concat(jt,"s")).setNetworkType(ft.getNetworkType()).end(),Lt}).catch(function(Dt){return Dt.code===-1&&(Dt.code=pr.COS_GET_SIG_FAIL),ft.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),sn.w("".concat(gt," failed. error:"),Dt),ft.tryCount<1?(ft.tryCount++,ft._getCosPreSigUrl(at)):(ft.tryCount=0,Xn({code:pr.COS_GET_SIG_FAIL}))})}},{key:"_initUploaderMethod",value:function(){var at=this;if(this.TIMUploadPlugin)return this.timUploadPlugin=new this.TIMUploadPlugin,void(this._cosUploadMethod=function(ft,gt){at.timUploadPlugin.uploadFile(ft,gt)});this.appid&&(this.cos=gr?new this.COSSDK({ForcePathStyle:!0,getAuthorization:this._getAuthorization.bind(this)}):new this.COSSDK({getAuthorization:this._getAuthorization.bind(this)}),this._cosUploadMethod=gr?function(ft,gt){at.cos.postObject(ft,gt)}:function(ft,gt){at.cos.uploadFiles(ft,gt)})}},{key:"onCheckTimer",value:function(at){this.COSSDK&&(this.TIMUploadPlugin||this.isLoggedIn()&&at%60==0&&Math.ceil(Date.now()/1e3)>=this.cosOptions.expiredTime-120&&this._getAuthorizationKey())}},{key:"_getAuthorization",value:function(at,ft){ft({TmpSecretId:this.cosOptions.secretId,TmpSecretKey:this.cosOptions.secretKey,XCosSecurityToken:this.cosOptions.sessionToken,ExpiredTime:this.cosOptions.expiredTime})}},{key:"upload",value:function(at){if(at.getRelayFlag()===!0)return Promise.resolve();var ft=this.getModule(pu);switch(at.type){case Ut.MSG_IMAGE:return ft.addTotalCount(qu),this._uploadImage(at);case Ut.MSG_FILE:return ft.addTotalCount(qu),this._uploadFile(at);case Ut.MSG_AUDIO:return ft.addTotalCount(qu),this._uploadAudio(at);case Ut.MSG_VIDEO:return ft.addTotalCount(qu),this._uploadVideo(at);default:return Promise.resolve()}}},{key:"_uploadImage",value:function(at){var ft=this,gt=this.getModule(ba),Ct=at.getElements()[0],St=gt.getMessageOption(at.clientSequence);return this.doUploadImage({file:St.payload.file,to:St.to,onProgress:function(Dt){if(Ct.updatePercent(Dt),ku(St.onProgress))try{St.onProgress(Dt)}catch{return Xn({code:pr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Dt){var Lt,jt,Kt=Dt.location,Jt=Dt.fileType,cn=Dt.fileSize,bn=Dt.width,On=Dt.height,Fn=Dt.smallImageUrl,Wn=Dt.smallImageWidth,er=Dt.smallImageHeight,ir=Dt.largeImageUrl,Tr=Dt.largeImageWidth,Ur=Dt.largeImageHeight,zr=ft.isPrivateNetWork()?Kt:gu(Kt);return Ct.updateImageFormat(Jt),Fn&&ir?(Lt={url:Fn,width:Wn,height:er},jt={url:ir,width:Tr,height:Ur}):(Lt=tu({originUrl:zr,originWidth:bn,originHeight:On,min:198}),jt=tu({originUrl:zr,originWidth:bn,originHeight:On,min:720})),Ct.updateImageInfoArray([{size:cn,url:zr,width:bn,height:On},rt({},jt),rt({},Lt)]),at})}},{key:"_uploadFile",value:function(at){var ft=this,gt=this.getModule(ba),Ct=at.getElements()[0],St=gt.getMessageOption(at.clientSequence);return this.doUploadFile({file:St.payload.file,to:St.to,onProgress:function(Dt){if(Ct.updatePercent(Dt),ku(St.onProgress))try{St.onProgress(Dt)}catch{return Xn({code:pr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Dt){var Lt=Dt.location,jt=ft.isPrivateNetWork()?Lt:gu(Lt);return Ct.updateFileUrl(jt),at})}},{key:"_uploadAudio",value:function(at){var ft=this,gt=this.getModule(ba),Ct=at.getElements()[0],St=gt.getMessageOption(at.clientSequence);return this.doUploadAudio({file:St.payload.file,to:St.to,onProgress:function(Dt){if(Ct.updatePercent(Dt),ku(St.onProgress))try{St.onProgress(Dt)}catch{return Xn({code:pr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Dt){var Lt=Dt.location,jt=ft.isPrivateNetWork()?Lt:gu(Lt);return Ct.updateAudioUrl(jt),at})}},{key:"_uploadVideo",value:function(at){var ft=this,gt=this.getModule(ba),Ct=at.getElements()[0],St=gt.getMessageOption(at.clientSequence);return this.doUploadVideo({file:St.payload.file,to:St.to,onProgress:function(Dt){if(Ct.updatePercent(Dt),ku(St.onProgress))try{St.onProgress(Dt)}catch{return Xn({code:pr.MESSAGE_ONPROGRESS_FUNCTION_ERROR})}}}).then(function(Dt){var Lt=Dt.location,jt=Dt.snapshotInfo,Kt=ft.isPrivateNetWork()?Lt:gu(Lt);return Ct.updateVideoUrl(Kt),kr(jt)||Ct.updateSnapshotInfo(jt),at})}},{key:"_checkSizeError",value:function(at){return Xn({code:pr["MESSAGE_".concat(at,"_SIZE_LIMIT")],message:this.getErrorMessage("UploadSizeLimit",at.toLowerCase(),"".concat(this.UPLOAD_SIZE_LIMIT[at]/1048576," MB"))})}},{key:"doUploadImage",value:function(at){var ft=this;if(!at.file)return Xn({code:pr.MESSAGE_IMAGE_SELECT_FILE_FIRST});var gt=this._checkImageType(at.file);if(gt!==!0)return gt;var Ct=this._checkImageSize(at.file);if(Ct!==!0)return Ct;var St=null;return this._setUploadFileType(xy),this.uploadByCOS(at).then(function(Dt){return St=Dt,ft.isPrivateNetWork()?Tu(Dt.location):Tu("https://".concat(Dt.location))}).then(function(Dt){return St.width=Dt.width,St.height=Dt.height,Promise.resolve(St)})}},{key:"_checkImageType",value:function(at){var ft="";return ft=gr?at.url.slice(at.url.lastIndexOf(".")+1):at.files[0].name.slice(at.files[0].name.lastIndexOf(".")+1),Ty.indexOf(ft.toLowerCase())>=0||Xn({code:pr.MESSAGE_IMAGE_TYPES_LIMIT})}},{key:"_checkImageSize",value:function(at){var ft=0;return(ft=gr?at.size:at.files[0].size)===0?Xn({code:pr.MESSAGE_FILE_IS_EMPTY}):ft<this.UPLOAD_SIZE_LIMIT.IMAGE||this._checkSizeError("IMAGE")}},{key:"doUploadFile",value:function(at){return at.file?at.file.files[0].size>this.UPLOAD_SIZE_LIMIT.FILE?this._checkSizeError("FILE"):at.file.files[0].size===0?Xn({code:pr.MESSAGE_FILE_IS_EMPTY}):(this._setUploadFileType(Wv),this.uploadByCOS(at)):Xn({code:pr.MESSAGE_FILE_SELECT_FILE_FIRST})}},{key:"doUploadVideo",value:function(at){return at.file.videoFile.size>this.UPLOAD_SIZE_LIMIT.VIDEO?this._checkSizeError("VIDEO"):at.file.videoFile.size===0?Xn({code:pr.MESSAGE_FILE_IS_EMPTY}):zv.indexOf(at.file.videoFile.type)===-1?Xn({code:pr.MESSAGE_VIDEO_TYPES_LIMIT}):(this._setUploadFileType(Kv),gr?this.handleVideoUpload({file:at.file.videoFile,onProgress:at.onProgress}):Mr?this.handleVideoUpload(at):void 0)}},{key:"handleVideoUpload",value:function(at){var ft=this;return new Promise(function(gt,Ct){ft.uploadByCOS(at).then(function(St){gt(St)}).catch(function(){ft.uploadByCOS(at).then(function(St){gt(St)}).catch(function(){Ct(new ks({code:pr.MESSAGE_VIDEO_UPLOAD_FAIL}))})})})}},{key:"doUploadAudio",value:function(at){return at.file?at.file.size>this.UPLOAD_SIZE_LIMIT.AUDIO?this._checkSizeError("AUDIO"):at.file.size===0?Xn({code:pr.MESSAGE_FILE_IS_EMPTY}):(this._setUploadFileType(wy),this.uploadByCOS(at)):Xn({code:pr.MESSAGE_AUDIO_UPLOAD_FAIL})}},{key:"uploadByCOS",value:function(at){var ft=this;if(!ku(this._cosUploadMethod))return this.outputWarning("PluginUndetected"),Xn({code:pr.COS_UNDETECTED});if(this.timUploadPlugin)return this._uploadWithPreSigUrl(at);var gt=new br("upload"),Ct="".concat(this._n,".uploadByCOS"),St=Date.now(),Dt=this._getFile(at);return new Promise(function(Lt,jt){var Kt=gr?ft._createCosOptionsWXMiniApp(at):ft._createCosOptionsWeb(at),Jt=ft;ft._cosUploadMethod(Kt,function(cn,bn){var On=Object.create(null);if(bn){if(cn||Zr(bn.files)&&bn.files[0].error){var Fn=new ks({code:pr.MESSAGE_FILE_UPLOAD_FAIL});return gt.setError(Fn,!0,ft.getNetworkType()).end(),sn.l("".concat(Ct," failed. error:"),bn.files[0].error),bn.files[0].error.statusCode===403&&(sn.w("".concat(Ct," failed. cos AccessKeyId was invalid, regain auth key!")),ft._getAuthorizationKey()),void jt(Fn)}On.fileName=Dt.name,On.fileSize=Dt.size,On.fileType=Dt.type.slice(Dt.type.indexOf("/")+1).toLowerCase(),On.location=gr?bn.Location:bn.files[0].data.Location;var Wn=Date.now()-St,er=Jt._formatFileSize(Dt.size),ir=Jt._formatSpeed(1e3*Dt.size/Wn),Tr="size:".concat(er," time:").concat(Wn,"ms speed:").concat(ir);sn.l("".concat(Ct," success. name:").concat(Dt.name," ").concat(Tr)),Lt(On);var Ur=ft.getModule(pu);return Ur.addCost(qu,Wn),Ur.addFileSize(qu,Dt.size),void gt.setNetworkType(ft.getNetworkType()).setMessage(Tr).end()}var zr=new ks({code:pr.MESSAGE_FILE_UPLOAD_FAIL});gt.setError(zr,!0,Jt.getNetworkType()).end(),sn.w("".concat(Ct," failed. error:"),cn),cn.statusCode===403&&(sn.w("".concat(Ct," failed. cos AccessKeyId was invalid, regain auth key!")),ft._getAuthorizationKey()),jt(zr)})})}},{key:"_uploadWithPreSigUrl",value:function(at){var ft=this,gt="".concat(this._n,"._uploadWithPreSigUrl"),Ct=this._getFile(at);return this._createCosOptionsPreSigUrl(at).then(function(St){return new Promise(function(Dt,Lt){var jt=new br("upload"),Kt=St.requestSnapshotUrl,Jt=Kt===void 0?void 0:Kt,cn=Rt(St,gv),bn=Date.now();ft._cosUploadMethod(cn,function(On,Fn){if(On||Fn.statusCode===403)return jt.setError(new ks(On),!0,ft.getNetworkType()).end(),sn.l("".concat(gt," failed, error:"),On),void Lt(new ks({code:pr.MESSAGE_FILE_UPLOAD_FAIL}));var Wn=Object.create(null),er=Fn.data.location||"";ft.isPrivateNetWork()||er.indexOf("https://")!==0&&er.indexOf("http://")!==0||(er=er.split("//")[1]),Wn.fileName=Ct.name,Wn.fileSize=Ct.size,Wn.fileType=Ct.type.slice(Ct.type.indexOf("/")+1).toLowerCase(),Wn.location=er;var ir=Date.now()-bn,Tr=ft._formatFileSize(Ct.size),Ur=ft._formatSpeed(1e3*Ct.size/ir),zr="size:".concat(Tr,",time:").concat(ir,"ms,speed:").concat(Ur," res:").concat(JSON.stringify(Fn.data));sn.l("".concat(gt," success name:").concat(Ct.name,",").concat(zr)),jt.setNetworkType(ft.getNetworkType()).setMessage(zr).end();var co=ft.getModule(pu);co.addCost(qu,ir),co.addFileSize(qu,Ct.size);var $o=[];if(cn.thumbUrl&&cn.largeUrl&&($o=[ft._getSmallImageInfoByUrl(cn.thumbUrl,Wn),ft._getLargeImageInfoByUrl(cn.largeUrl,Wn)]),Jt&&$o.push(ft._getSnapshotInfoByUrl(Jt,Wn)),$o.length>0)return Promise.all($o).then(function(){Dt(Wn)});Dt(Wn)})})})}},{key:"_getRawOrUploadProxyUrl",value:function(at){var ft=this.getModule(jo).getFileUploadProxy(),gt=at;return ft&&(gt=at.replace(/^https:\/\/[^/]+/,ft)),gt}},{key:"_getFile",value:function(at){var ft;return Zr(at.file.files)||(ft=at.file.files,Wu(ft)==="filelist")?at.file.files[0]:at.file}},{key:"_formatFileSize",value:function(at){return at<1024?at+"B":at<1048576?Math.floor(at/1024)+"KB":Math.floor(at/1048576)+"MB"}},{key:"_formatSpeed",value:function(at){return at<=1048576?ju(at/1024,1)+"KB/s":ju(at/1048576,1)+"MB/s"}},{key:"_createCosOptionsWeb",value:function(at){var ft=this._getFile(at),gt=ft.name,Ct=gt.slice(gt.lastIndexOf(".")),St=this._genFileName("".concat(Qu(999999)).concat(Ct));return{files:[{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(St),Body:ft}],SliceSize:1048576,onProgress:function(Dt){if(typeof at.onProgress=="function")try{at.onProgress(Dt.percent)}catch(Lt){sn.w("onProgress callback error:",Lt)}},onFileFinish:function(Dt,Lt,jt){}}}},{key:"_createCosOptionsWXMiniApp",value:function(at){var ft=this._getFile(at),gt=this._genFileName(ft.name),Ct=ft.url;return{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(gt),FilePath:Ct,onProgress:function(St){if(sn.l(JSON.stringify(St)),typeof at.onProgress=="function")try{at.onProgress(St.percent)}catch(Dt){sn.w("onProgress callback error:",Dt)}}}}},{key:"_createCosOptionsPreSigUrl",value:function(at){var ft=this,gt="",Ct="",St=0,Dt=this._getFile(at);if(gr)gt=this._genFileName(Dt.name),Ct=Dt.url,St=1;else{var Lt=Dt.name,jt=Lt.slice(Lt.lastIndexOf("."));gt=this._genFileName("".concat(Qu(999999)).concat(jt)),Ct=Dt,St=0}return this._getCosPreSigUrl({fileType:this.uploadFileType,fileName:gt,uploadMethod:St,duration:this.duration}).then(function(Kt){var Jt=Kt.uploadUrl,cn=Kt.downloadUrl,bn=Kt.requestSnapshotUrl,On=bn===void 0?void 0:bn,Fn=Kt.thumbUrl,Wn=Kt.largeUrl;return{url:ft._getRawOrUploadProxyUrl(Jt),fileType:ft.uploadFileType,fileName:gt,resources:Ct,downloadUrl:cn,requestSnapshotUrl:On,thumbUrl:Fn,largeUrl:Wn,onProgress:function(er){if(typeof at.onProgress=="function")try{at.onProgress(er.percent)}catch(ir){sn.w("onProgress callback error:",ir),sn.e(ir)}}}})}},{key:"_genFileName",value:function(at){return"".concat(Lu(),"-").concat(at)}},{key:"_setUploadFileType",value:function(at){this.uploadFileType=at}},{key:"_getSnapshotInfoByUrl",value:function(at,ft){var gt=this,Ct=new br("getSnapshotInfo");return this.request({protocolName:_f,requestData:{platform:this.getPlatform(),coverName:this._genFileName(Qu(99999)),requestSnapshotUrl:at}}).then(function(St){var Dt=(St.data||{}).snapshotUrl;return Ct.setMessage("snapshotUrl:".concat(Dt)).end(),kr(Dt)?{}:Tu(Dt).then(function(Lt){ft.snapshotInfo={snapshotUrl:Dt,snapshotWidth:Lt.width,snapshotHeight:Lt.height}})}).catch(function(St){return sn.w("".concat(gt._n,"._getSnapshotInfoByUrl failed. error:"),St),Ct.setCode(St.errorCode).setMessage(St.errorInfo).end(),{}})}},{key:"_getSmallImageInfoByUrl",value:function(at,ft){return Tu(at).then(function(gt){ft.smallImageUrl=at,ft.smallImageWidth=gt.width,ft.smallImageHeight=gt.height})}},{key:"_getLargeImageInfoByUrl",value:function(at,ft){return Tu(at).then(function(gt){ft.largeImageUrl=at,ft.largeImageWidth=gt.width,ft.largeImageHeight=gt.height})}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset"))}}]),_t}(Ys),F_=["downloadKey","pbDownloadKey","messageList"],_0=function(){function Nt(ut){it(this,Nt),this._n="MergerMessageHandler",this._messageModule=ut}return lt(Nt,[{key:"uploadMergerMessage",value:function(ut,_t){var at=this,ft="".concat(this._n,".").concat("uploadMergerMessage");sn.d("".concat(ft," message:"),ut,"messageBytes:".concat(_t));var gt=ut.payload.messageList,Ct=gt.length,St=new br("uploadMergerMessage");return this._messageModule.request({protocolName:yr,requestData:{messageList:gt}}).then(function(Dt){sn.d("".concat(ft," ok. response:"),Dt.data);var Lt=Dt.data,jt=Lt.pbDownloadKey,Kt=Lt.downloadKey,Jt={pbDownloadKey:jt,downloadKey:Kt,messageNumber:Ct};return St.setNetworkType(at._messageModule.getNetworkType()).setMessage("".concat(Ct,"-").concat(_t,"-").concat(Kt)).end(),Jt}).catch(function(Dt){throw sn.w("".concat(ft," failed. error:"),Dt),at._messageModule.probeNetwork().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];St.setError(Dt,Kt,Jt).end()}),Dt})}},{key:"downloadMergerMessage",value:function(ut){var _t=this,at="".concat(this._n,".").concat("downloadMergerMessage");sn.d("".concat(at," message:"),ut);var ft=ut.payload.downloadKey,gt=this._messageModule.getFileDownloadProxy(),Ct=new br("downloadMergerMessage");return Ct.setMessage("downloadKey:".concat(ft)),this._messageModule.request({protocolName:nv,requestData:{downloadKey:ft}}).then(function(St){if(sn.d("".concat(at," ok. response:"),St.data),ku(ut.clearElement)){var Dt=ut.payload;Dt.downloadKey,Dt.pbDownloadKey,Dt.messageList;var Lt=Rt(Dt,F_);ut.clearElement(),ut.setElement({type:ut.type,content:rt({messageList:St.data.messageList},Lt)},gt)}else{var jt=[];St.data.messageList.forEach(function(Kt){if(!kr(Kt)){var Jt=new av(Kt,gt);jt.push(Jt)}}),ut.payload.messageList=jt,ut.payload.downloadKey="",ut.payload.pbDownloadKey=""}return Ct.setNetworkType(_t._messageModule.getNetworkType()).end(),ut}).catch(function(St){throw sn.w("".concat(at," failed. key:").concat(ft," error:"),St),_t._messageModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),St})}},{key:"createMergerMessagePack",value:function(ut,_t,at){return ut.conversationType===Ut.CONV_C2C?this._createC2CMergerMessagePack(ut,_t,at):this._createGroupMergerMessagePack(ut,_t,at)}},{key:"_createC2CMergerMessagePack",value:function(ut,_t,at){var ft=null;_t&&(_t.offlinePushInfo&&(ft=_t.offlinePushInfo),_t.onlineUserOnly===!0&&(ft?ft.disablePush=!0:ft={disablePush:!0}));var gt=[];if(ns(_t)&&ns(_t.messageControlInfo)){var Ct=_t.messageControlInfo,St=Ct.excludedFromUnreadCount,Dt=Ct.excludedFromLastMessage,Lt=Ct.excludedFromContentModeration;St===!0&&gt.push("NoUnread"),Dt===!0&&gt.push("NoLastMsg"),Lt===!0&&gt.push("NoMsgCheck")}var jt="";yo(ut.cloudCustomData)&&ut.cloudCustomData.length>0&&(jt=ut.cloudCustomData);var Kt=at.pbDownloadKey,Jt=at.downloadKey,cn=at.messageNumber,bn=ut.payload,On=bn.title,Fn=bn.abstractList,Wn=bn.compatibleText,er=this._messageModule.getModule(To),ir=er&&er.isOnlineMessage(ut,_t)?0:void 0;return{protocolName:_r,tjgID:this._messageModule.generateTjgID(ut),requestData:{fromAccount:this._messageModule.getMyUserID(),toAccount:ut.to,msgBody:[{msgType:ut.type,msgContent:{pbDownloadKey:Kt,downloadKey:Jt,title:On,abstractList:Fn,compatibleText:Wn,messageNumber:cn}}],cloudCustomData:jt,clientTime:ut.clientTime,msgSeq:ut.sequence,msgRandom:ut.random,msgLifeTime:ir,offlinePushInfo:ft?{pushFlag:ft.disablePush===!0?1:0,title:ft.title||"",desc:ft.description||"",ext:ft.extension||"",apnsInfo:{badgeMode:ft.ignoreIOSBadge===!0?1:0},androidInfo:{OPPOChannelID:ft.androidOPPOChannelID||""}}:void 0,messageControlInfo:ir!==0?gt:void 0,isSupportExtension:ut.isSupportExtension===!0?1:0}}}},{key:"_createGroupMergerMessagePack",value:function(ut,_t,at){var ft=null;_t&&_t.offlinePushInfo&&(ft=_t.offlinePushInfo);var gt=[];if(ns(_t)&&ns(_t.messageControlInfo)){var Ct=_t.messageControlInfo,St=Ct.excludedFromUnreadCount,Dt=Ct.excludedFromLastMessage,Lt=Ct.excludedFromContentModeration;St===!0&&gt.push("NoUnread"),Dt===!0&&gt.push("NoLastMsg"),Lt===!0&&gt.push("NoMsgCheck")}var jt="";yo(ut.cloudCustomData)&&ut.cloudCustomData.length>0&&(jt=ut.cloudCustomData);var Kt=at.pbDownloadKey,Jt=at.downloadKey,cn=at.messageNumber,bn=ut.payload,On=bn.title,Fn=bn.abstractList,Wn=bn.compatibleText,er=this._messageModule.getModule(vo),ir=er&&er.isOnlineMessage(ut,_t)?1:0;return{protocolName:Nr,tjgID:this._messageModule.generateTjgID(ut),requestData:{fromAccount:this._messageModule.getMyUserID(),groupID:ut.to,msgBody:[{msgType:ut.type,msgContent:{pbDownloadKey:Kt,downloadKey:Jt,title:On,abstractList:Fn,compatibleText:Wn,messageNumber:cn}}],random:ut.random,priority:ut.priority,clientSequence:ut.clientSequence,groupAtInfo:void 0,cloudCustomData:jt,onlineOnlyFlag:ir,offlinePushInfo:ft?{pushFlag:ft.disablePush===!0?1:0,title:ft.title||"",desc:ft.description||"",ext:ft.extension||"",apnsInfo:{badgeMode:ft.ignoreIOSBadge===!0?1:0},androidInfo:{OPPOChannelID:ft.androidOPPOChannelID||""}}:void 0,clientTime:ut.clientTime,needReadReceipt:ut.needReadReceipt!==!0||er.isMessageFromOrToAVChatroom(ut.to)?0:1,messageControlInfo:ir===0?gt:void 0,isSupportExtension:ut.isSupportExtension===!0?1:0}}}}]),Nt}(),By={ERR_SVR_COMM_SENSITIVE_TEXT:80001,ERR_SVR_COMM_BODY_SIZE_LIMIT:80002,OPEN_SERVICE_OVERLOAD_ERROR:60022,ERR_SVR_MSG_PKG_PARSE_FAILED:20001,ERR_SVR_MSG_INTERNAL_AUTH_FAILED:20002,ERR_SVR_MSG_INVALID_ID:20003,ERR_SVR_MSG_PUSH_DENY:20006,ERR_SVR_MSG_IN_PEER_BLACKLIST:20007,ERR_SVR_MSG_BOTH_NOT_FRIEND:20009,ERR_SVR_MSG_NOT_PEER_FRIEND:20010,ERR_SVR_MSG_NOT_SELF_FRIEND:20011,ERR_SVR_MSG_SHUTUP_DENY:20012,ERR_SVR_GROUP_INVALID_PARAMETERS:10004,ERR_SVR_GROUP_PERMISSION_DENY:10007,ERR_SVR_GROUP_NOT_FOUND:10010,ERR_SVR_GROUP_INVALID_GROUPID:10015,ERR_SVR_GROUP_REJECT_FROM_THIRDPARTY:10016,ERR_SVR_GROUP_SHUTUP_DENY:10017,MESSAGE_SEND_FAIL:2100,OVER_FREQUENCY_LIMIT:2996},Im=[pr.MESSAGE_ONPROGRESS_FUNCTION_ERROR,pr.MESSAGE_IMAGE_SELECT_FILE_FIRST,pr.MESSAGE_IMAGE_TYPES_LIMIT,pr.MESSAGE_FILE_IS_EMPTY,pr.MESSAGE_IMAGE_SIZE_LIMIT,pr.MESSAGE_FILE_SELECT_FILE_FIRST,pr.MESSAGE_FILE_SIZE_LIMIT,pr.MESSAGE_VIDEO_SIZE_LIMIT,pr.MESSAGE_VIDEO_TYPES_LIMIT,pr.MESSAGE_AUDIO_UPLOAD_FAIL,pr.MESSAGE_AUDIO_SIZE_LIMIT,pr.COS_UNDETECTED];function mv(Nt){var ut=!1;return Object.values(By).includes(Nt)&&(ut=!0),(Nt>=120001&&Nt<=13e4||Nt>=10100&&Nt<=10200)&&(ut=!0),ut}var m_=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="MessageModule",ft._messageOptionsMap=new Map,ft._mergerMessageHandler=new _0(Bt(ft)),ft}return lt(_t,[{key:"createTextMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID();var gt=new wu(at),Ct=typeof at.payload=="string"?at.payload:at.payload.text,St=new Go({text:Ct}),Dt=this._getNickAndAvatarByUserID(ft);return gt.setElement(St),gt.setNickAndAvatar(Dt),gt.setNameCard(this._getNameCardByGroupID(gt)),gt}},{key:"createImageMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID();var gt=new wu(at);if(gr){var Ct=at.payload.file;if(vr(Ct))return void this.outputWarning("FileUnsupportedInMP","createImageMessage");var St=Ct.tempFiles[0].path||Ct.tempFiles[0].tempFilePath,Dt={url:St,name:St.slice(St.lastIndexOf("/")+1),size:Ct.tempFiles&&Ct.tempFiles[0].size||1,type:St.slice(St.lastIndexOf(".")+1).toLowerCase()};at.payload.file=Dt}else if(Mr){if(vr(at.payload.file)){var Lt=at.payload.file;at.payload.file={files:[Lt]}}else if(ns(at.payload.file)&&typeof uni<"u"){var jt=at.payload.file.tempFiles[0];at.payload.file={files:[jt]}}}var Kt=new rr({imageFormat:xs.UNKNOWN,uuid:this._generateUUID(at.payload.file),file:at.payload.file}),Jt=this._getNickAndAvatarByUserID(ft);return gt.setElement(Kt),gt.setNickAndAvatar(Jt),gt.setNameCard(this._getNameCardByGroupID(gt)),this._messageOptionsMap.set(gt.clientSequence,at),gt}},{key:"createAudioMessage",value:function(at){var ft=at.payload.file;if(gr){var gt={url:ft.tempFilePath,name:ft.tempFilePath.slice(ft.tempFilePath.lastIndexOf("/")+1),size:ft.fileSize,second:parseInt(ft.duration)/1e3,type:ft.tempFilePath.slice(ft.tempFilePath.lastIndexOf(".")+1).toLowerCase()};at.payload.file=gt}var Ct=this.getMyUserID();at.currentUser=Ct,at.senderTinyID=this.getMyTinyID();var St=new wu(at),Dt=new D_({second:Math.floor(ft.duration/1e3),size:ft.fileSize||ft.size,url:ft.tempFilePath,uuid:this._generateUUID(at.payload.file)}),Lt=this._getNickAndAvatarByUserID(Ct);return St.setElement(Dt),St.setNickAndAvatar(Lt),St.setNameCard(this._getNameCardByGroupID(St)),this._messageOptionsMap.set(St.clientSequence,at),St}},{key:"createVideoMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID(),at.payload.file.thumbUrl="",at.payload.file.thumbSize=0;var gt={};if(gr){if(Or)return void this.outputWarning("VideoUnsupportedInAlipay");if(vr(at.payload.file))return void this.outputWarning("FileUnsupportedInMP","createVideoMessage");var Ct=at.payload.file;Zr(Ct.tempFiles)&&(Ct=Ct.tempFiles[0]),gt.url=Ct.tempFilePath,gt.name=Ct.tempFilePath.slice(Ct.tempFilePath.lastIndexOf("/")+1),gt.size=Ct.size||1,gt.second=Ct.duration||0,gt.type=Ct.tempFilePath.slice(Ct.tempFilePath.lastIndexOf(".")+1).toLowerCase()}else if(Mr){if(vr(at.payload.file)){var St=at.payload.file;at.payload.file.files=[St]}else if(ns(at.payload.file)&&typeof uni<"u"){var Dt=at.payload.file.tempFile;at.payload.file.files=[Dt]}var Lt=at.payload.file;gt.url=window.URL.createObjectURL(Lt.files[0]),gt.name=Lt.files[0].name,gt.size=Lt.files[0].size||1,gt.second=Lt.files[0].duration||0,gt.type=Lt.files[0].type.split("/")[1]}at.payload.file.videoFile=gt;var jt=new wu(at),Kt=new Vv({videoFormat:gt.type,videoSecond:ju(gt.second,0),videoSize:gt.size,remoteVideoUrl:"",videoUrl:gt.url,videoUUID:this._generateUUID(at.payload.file.videoFile),thumbUUID:this._generateUUID(at.payload.file.videoFile),thumbWidth:at.payload.file.width||200,thumbHeight:at.payload.file.height||200,thumbUrl:at.payload.file.thumbUrl,thumbSize:at.payload.file.thumbSize,thumbFormat:at.payload.file.thumbUrl.slice(at.payload.file.thumbUrl.lastIndexOf(".")+1).toLowerCase()}),Jt=this._getNickAndAvatarByUserID(ft);return jt.setElement(Kt),jt.setNickAndAvatar(Jt),jt.setNameCard(this._getNameCardByGroupID(jt)),this._messageOptionsMap.set(jt.clientSequence,at),jt}},{key:"createCustomMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID();var gt=new wu(at),Ct=new jm({data:at.payload.data,description:at.payload.description,extension:at.payload.extension}),St=this._getNickAndAvatarByUserID(ft);return gt.setElement(Ct),gt.setNickAndAvatar(St),gt.setNameCard(this._getNameCardByGroupID(gt)),gt}},{key:"createFaceMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID();var gt=new wu(at),Ct=new Bv(at.payload),St=this._getNickAndAvatarByUserID(ft);return gt.setElement(Ct),gt.setNickAndAvatar(St),gt.setNameCard(this._getNameCardByGroupID(gt)),gt}},{key:"createMergerMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID();var gt=this._getNickAndAvatarByUserID(ft),Ct=new wu(at),St=new R_(at.payload);return Ct.setElement(St),Ct.setNickAndAvatar(gt),Ct.setNameCard(this._getNameCardByGroupID(Ct)),Ct.setRelayFlag(!0),Ct}},{key:"createForwardMessage",value:function(at){var ft=at.to,gt=at.conversationType,Ct=at.priority,St=at.payload,Dt=at.needReadReceipt,Lt=at.receiverList,jt=this.getMyUserID(),Kt=this._getNickAndAvatarByUserID(jt);if(St.type===Ut.MSG_GRP_TIP)return Xn({code:pr.MESSAGE_FORWARD_TYPE_INVALID});var Jt={to:ft,conversationType:gt,conversationID:"".concat(gt).concat(ft),priority:Ct,isPlaceMessage:0,status:ss.UNSEND,currentUser:jt,senderTinyID:this.getMyTinyID(),cloudCustomData:at.cloudCustomData||St.cloudCustomData||"",needReadReceipt:Dt,receiverList:Lt,isSupportExtension:at.isSupportExtension||!1},cn=new wu(Jt);return cn.setElement(St.getElements()[0]),cn.setNickAndAvatar(Kt),cn.setNameCard(this._getNameCardByGroupID(St)),cn.setRelayFlag(!0),cn}},{key:"downloadMergerMessage",value:function(at){return this._mergerMessageHandler.downloadMergerMessage(at)}},{key:"createFileMessage",value:function(at){if(gr){if(!_i&&!Qn&&!lr)return;var ft=Ar.getSystemInfoSync().SDKVersion;if(_i&&pm(ft,"2.5.0")<0)return void this.outputWarning("WXChooseMessageFile");if(Qn&&pm(ft,"1.18.0")<0)return void this.outputWarning("QQChooseMessageFile")}if(Mr||lr){if(vr(at.payload.file)){var gt=at.payload.file;at.payload.file={files:[gt]}}else if(ns(at.payload.file)&&typeof uni<"u"){var Ct=at.payload.file,St=Ct.tempFiles,Dt=Ct.files,Lt=null;Zr(St)?Lt=St[0]:Zr(Dt)&&(Lt=Dt[0]),at.payload.file={files:[Lt]}}}else if(_i||Qn){var jt=at.payload.file.tempFiles,Kt=rt(rt({},jt[0]),{},{url:jt[0].path});at.payload.file={files:[Kt]}}var Jt=this.getMyUserID();at.currentUser=Jt,at.senderTinyID=this.getMyTinyID();var cn=new wu(at),bn=new qv({uuid:this._generateUUID(at.payload.file),file:at.payload.file}),On=this._getNickAndAvatarByUserID(Jt);return cn.setElement(bn),cn.setNickAndAvatar(On),cn.setNameCard(this._getNameCardByGroupID(cn)),this._messageOptionsMap.set(cn.clientSequence,at),cn}},{key:"createLocationMessage",value:function(at){var ft=this.getMyUserID();at.currentUser=ft,at.senderTinyID=this.getMyTinyID();var gt=new wu(at),Ct=new Hv(at.payload),St=this._getNickAndAvatarByUserID(ft);return gt.setElement(Ct),gt.setNickAndAvatar(St),gt.setNameCard(this._getNameCardByGroupID(gt)),gt}},{key:"_onCannotFindModule",value:function(){return Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"sendMessageInstance",value:function(at,ft){var gt=this;if(this.getModule(Ju).filterMessage(at,ft)===!1)return this._onSendMessageFailed(at,new ks({code:pr.PROFANITY_FOUND}));var Ct,St=null;switch(at.conversationType){case Ut.CONV_C2C:if(!(St=this.getModule(To)))return this._onCannotFindModule();break;case Ut.CONV_GROUP:if(!(St=this.getModule(vo)))return this._onCannotFindModule();if(eu({groupID:at.to})){var Dt=St.getLocalGroupProfile(at.to);if(Dt&&Dt.isSupportTopic)return Xn({code:pr.MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL})}break;default:return Xn({code:pr.MESSAGE_SEND_INVALID_CONVERSATION_TYPE})}var Lt=this.getModule(fm),jt=this.getModule(vo);return Lt.upload(at).then(function(){return gt._getSendMessageSpecifiedKey(at)===hu&&gt.getModule(pu).addSuccessCount(qu),jt.guardForAVChatRoom(at).then(function(){if(!at.isSendable())return Xn({code:pr.MESSAGE_FILE_URL_IS_EMPTY});gt._addSendMessageTotalCount(at),Ct=Date.now();var Kt=function(Jt){var cn="utf-8";Mr&&document&&(cn=document.charset.toLowerCase());var bn,On,Fn=0;if(On=Jt.length,cn==="utf-8"||cn==="utf8")for(var Wn=0;Wn<On;Wn++)(bn=Jt.codePointAt(Wn))<=127?Fn+=1:bn<=2047?Fn+=2:bn<=65535?Fn+=3:(Fn+=4,Wn++);else if(cn==="utf-16"||cn==="utf16")for(var er=0;er<On;er++)(bn=Jt.codePointAt(er))<=65535?Fn+=2:(Fn+=4,er++);else Fn=Jt.replace(/[^\x00-\xff]/g,"aa").length;return Fn}(JSON.stringify(at));return at.type===Ut.MSG_MERGER&&Kt>11264?gt._mergerMessageHandler.uploadMergerMessage(at,Kt).then(function(Jt){var cn=gt._mergerMessageHandler.createMergerMessagePack(at,ft,Jt);return gt.request(cn)}):(gt.getModule(no).setMessageRandom(at),at.conversationType===Ut.CONV_C2C||at.conversationType===Ut.CONV_GROUP?St.sendMessage(at,ft):void 0)}).then(function(Kt){var Jt=Kt.data,cn=Jt.time,bn=Jt.sequence,On=Jt.readReceiptCode;Yo(On)&&On!==0&&(new br("sendMessageWithReceipt").setMessage("from:".concat(at.from," to:").concat(at.to," sequence:").concat(bn," readReceiptCode:").concat(On)).end(),sn.w("".concat(gt._n,".sendMessageInstance readReceiptCode:").concat(On," message:").concat(gt.getErrorMessage(On)))),gt._addSendMessageSuccessCount(at,Ct),gt._messageOptionsMap.delete(at.clientSequence);var Fn=gt.getModule(no);at.status=ss.SUCCESS,at.time=cn;var Wn=!1;if(at.conversationType===Ut.CONV_GROUP)at.sequence=bn;else if(at.conversationType===Ut.CONV_C2C){var er=Fn.getLatestMessageSentByMe(at.conversationID);if(er){var ir=er.nick,Tr=er.avatar;ir===at.nick&&Tr===at.avatar||(Wn=!0)}}if(Wn&&Fn.modifyMessageSentByMe({conversationID:at.conversationID,latestNick:at.nick,latestAvatar:at.avatar}),St.isOnlineMessage(at,ft))at._onlineOnlyFlag=!0;else{Fn.appendToMessageList(at);var Ur=at;ns(ft)&&ns(ft.messageControlInfo)&&(ft.messageControlInfo.excludedFromLastMessage===!0&&(at._isExcludedFromLastMessage=!0,Ur=""),ft.messageControlInfo.excludedFromUnreadCount===!0&&(at._isExcludedFromUnreadCount=!0));var zr=at.conversationType;lu(at.to)&&(zr=Ut.CONV_TOPIC,gt.getModule(gs).onMessageSent({groupID:Es(at.to),topicID:at.to,lastMessage:Ur})),Fn.onMessageSent({conversationOptionsList:[{conversationID:at.conversationID,unreadCount:0,type:zr,subType:at.conversationSubType,lastMessage:Ur}]})}return at.getRelayFlag()||at.type!=="TIMImageElem"||rp(at.payload.imageInfoArray),oo({message:at})})}).catch(function(Kt){return gt._onSendMessageFailed(at,Kt)})}},{key:"_onSendMessageFailed",value:function(at,ft){at.status=ss.FAIL,this.getModule(no).deleteMessageRandom(at),this._addSendMessageFailCountOnUser(at,ft);var gt=new br("sendMessage");return gt.setMessage("tjg_id:".concat(this.generateTjgID(at)," type:").concat(at.type," from:").concat(at.from," to:").concat(at.to)),this.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];gt.setError(ft,Dt,Lt).end()}),sn.e("".concat(this._n,"._onSendMessageFailed error:"),ft),Xn(new ks({code:ft&&ft.code?ft.code:pr.MESSAGE_SEND_FAIL,message:ft&&ft.message?ft.message:void 0,data:{message:at}}))}},{key:"_getSendMessageSpecifiedKey",value:function(at){if([Ut.MSG_IMAGE,Ut.MSG_AUDIO,Ut.MSG_VIDEO,Ut.MSG_FILE].includes(at.type))return hu;if(at.conversationType===Ut.CONV_C2C)return Fp;if(at.conversationType===Ut.CONV_GROUP){var ft=this.getModule(vo).getLocalGroupProfile(at.to);if(!ft)return;var gt=ft.type;return uu(gt)?_g:Am}}},{key:"_addSendMessageTotalCount",value:function(at){var ft=this._getSendMessageSpecifiedKey(at);ft&&this.getModule(pu).addTotalCount(ft)}},{key:"_addSendMessageSuccessCount",value:function(at,ft){var gt=Math.abs(Date.now()-ft),Ct=this._getSendMessageSpecifiedKey(at);if(Ct){var St=this.getModule(pu);St.addSuccessCount(Ct),St.addCost(Ct,gt)}}},{key:"_addSendMessageFailCountOnUser",value:function(at,ft){var gt,Ct,St=ft.code,Dt=St===void 0?-1:St,Lt=this.getModule(pu),jt=this._getSendMessageSpecifiedKey(at);jt===hu&&(gt=Dt,Ct=!1,Im.includes(gt)&&(Ct=!0),Ct)?Lt.addFailedCountOfUserSide(qu):mv(Dt)&&jt&&Lt.addFailedCountOfUserSide(jt)}},{key:"resendMessage",value:function(at){return at.isResend=!0,at.status=ss.UNSEND,this.sendMessageInstance(at)}},{key:"revokeMessage",value:function(at){var ft=this,gt=null;if(at.conversationType===Ut.CONV_C2C?gt=this.getModule(To):at.conversationType===Ut.CONV_GROUP&&(gt=this.getModule(vo)),!gt)return this._onCannotFindModule();var Ct=new br("revokeMessage");Ct.setMessage("tjg_id:".concat(this.generateTjgID(at)," type:").concat(at.type," from:").concat(at.from," to:").concat(at.to));var St="".concat(this._n,".").concat("revokeMessage");return gt.revokeMessage(at).then(function(Dt){var Lt=Dt.data.recallRetList;if(!kr(Lt)&&Lt[0].retCode!==0){var jt=new ks({code:Lt[0].retCode,data:{message:at}});return Ct.setCode(jt.code).setMoreMessage(jt.message).end(),Xn(jt)}return sn.i("".concat(St," ok. ID:").concat(at.ID)),at.isRevoked=!0,Ct.end(),ft.getModule(no).onMessageRevoked([at]),oo({message:at})}).catch(function(Dt){ft.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Ct.setError(Dt,Jt,cn).end()});var Lt=new ks({code:Dt&&Dt.code?Dt.code:pr.MESSAGE_REVOKE_FAIL,message:Dt&&Dt.message?Dt.message:void 0,data:{message:at}});return sn.w("".concat(St," failed. error:"),Dt),Xn(Lt)})}},{key:"deleteMessage",value:function(at){var ft=this,gt=null,Ct=at[0],St=Ct.conversationID,Dt="",Lt=[],jt=[];if(Ct.conversationType===Ut.CONV_C2C)gt=this.getModule(To),Dt=St.replace(Ut.CONV_C2C,""),at.forEach(function(cn){cn&&cn.status===ss.SUCCESS&&cn.conversationID===St&&(cn._onlineOnlyFlag||Lt.push("".concat(cn.sequence,"_").concat(cn.random,"_").concat(cn.time)),jt.push(cn))});else if(Ct.conversationType===Ut.CONV_GROUP)gt=this.getModule(vo),Dt=St.replace(Ut.CONV_GROUP,""),at.forEach(function(cn){cn&&cn.status===ss.SUCCESS&&cn.conversationID===St&&(cn._onlineOnlyFlag||Lt.push("".concat(cn.sequence)),jt.push(cn))});else if(Ct.conversationType===Ut.CONV_SYSTEM)return Xn({code:pr.CANNOT_DELETE_GROUP_SYSTEM_NOTICE});if(!gt)return this._onCannotFindModule();if(Lt.length===0)return this._onMessageDeleted(jt);Lt.length>30&&(Lt=Lt.slice(0,30),jt=jt.slice(0,30));var Kt=new br("deleteMessage");Kt.setMessage("to:".concat(Dt," count:").concat(Lt.length));var Jt="".concat(this._n,".").concat("deleteMessage");return gt.deleteMessage({to:Dt,keyList:Lt}).then(function(cn){return Kt.end(),sn.i("".concat(Jt," ok")),ft._onMessageDeleted(jt)}).catch(function(cn){ft.probeNetwork().then(function(On){var Fn=Ft(On,2),Wn=Fn[0],er=Fn[1];Kt.setError(cn,Wn,er).end()}),sn.w("".concat(Jt," failed. error:"),cn);var bn=new ks({code:cn&&cn.code?cn.code:pr.MESSAGE_DELETE_FAIL,message:cn&&cn.message?cn.message:void 0});return Xn(bn)})}},{key:"_onMessageDeleted",value:function(at){return this.getModule(no).onMessageDeleted(at),Io({messageList:at})}},{key:"translateText",value:function(at){var ft="".concat(this._n,".").concat("translateText"),gt=at.sourceTextList,Ct=at.sourceLanguage,St=at.targetLanguage,Dt=new br("translateText");return Dt.setMessage("sourceLanguage:".concat(Ct," targetLanguage:").concat(St)),this.request({protocolName:Em,requestData:{sourceTextList:gt,source:Ct||"auto",target:St,from:this.getMyTinyID(),SDKAppID:this.getSDKAppID()}}).then(function(Lt){var jt=Lt.data,Kt=jt.error,Jt=jt.requestID,cn=jt.translatedTextList;if(Kt.code===0)return Dt.end(),sn.i("".concat(ft," ok. requestID:").concat(Jt)),oo({translatedTextList:cn});throw rt(rt({},Kt),{},{requestID:Jt})}).catch(function(Lt){return Dt.setCode(Lt.code).setMoreMessage(Lt.requestID).end(),sn.w("".concat(ft," failed. error:"),Lt),Xn({code:pr.TRANSLATE_TEXT_FAIL})})}},{key:"modifyRemoteMessage",value:function(at){var ft=this,gt=null,Ct=at.conversationType,St=at.to;if(this.getModule(vo).isMessageFromOrToAVChatroom(St))return Xn({code:pr.MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM,data:{message:at}});if(this.getModule(Ju).filterMessage(at)===!1)return Xn({code:pr.PROFANITY_FOUND,data:{message:at}});Ct===Ut.CONV_C2C?gt=this.getModule(To):Ct===Ut.CONV_GROUP&&(gt=this.getModule(vo));var Dt=new br("modifyMessage");Dt.setMessage("to:".concat(St));var Lt="".concat(this._n,".modifyRemoteMessage");return gt.modifyRemoteMessage(at).then(function(jt){Dt.end(),sn.i("".concat(Lt," ok"));var Kt=ft._onModifyRemoteMessageResp(at,jt.data);return oo({message:Kt})}).catch(function(jt){if(Dt.setCode(jt.code).setMoreMessage(jt.message).end(),sn.w("".concat(Lt," failed. error:"),jt),jt.code===20027){var Kt=ft._onModifyRemoteMessageResp(at,jt.data);return Xn({code:pr.MESSAGE_MODIFY_CONFLICT,data:{message:Kt}})}return Xn({code:jt.code,message:jt.message,data:{message:at}})})}},{key:"_onModifyRemoteMessageResp",value:function(at,ft){sn.d("".concat(this._n,"._onModifyRemoteMessageResp options:"),ft);var gt=at.conversationType,Ct=at.from,St=at.to,Dt=at.random,Lt=at.sequence,jt=at.time,Kt=ft.elements,Jt=ft.messageVersion,cn=ft.cloudCustomData,bn=cn===void 0?"":cn;return this.getModule(no).onMessageModified({conversationType:gt,from:Ct,to:St,time:jt,random:Dt,sequence:Lt,elements:Kt,cloudCustomData:bn,messageVersion:Jt})}},{key:"_generateUUID",value:function(at){var ft=this.getModule(jo),gt="".concat(ft.getSDKAppID(),"-").concat(ft.getUserID(),"-").concat(function(){for(var Dt="",Lt=32;Lt>0;--Lt)Dt+=Ou[Math.floor(Math.random()*cu)];return Dt}()),Ct=at.name||at.value||at.url||at.tempFilePath,St=Ct&&Ct.slice(Ct.lastIndexOf(".")+1);return St&&(gt="".concat(gt,".").concat(St)),gt}},{key:"getMessageOption",value:function(at){return this._messageOptionsMap.get(at)}},{key:"_getNickAndAvatarByUserID",value:function(at){return this.getModule(qr).getNickAndAvatarByUserID(at)}},{key:"_getNameCardByGroupID",value:function(at){if(at.conversationType===Ut.CONV_GROUP){var ft=this.getModule(vo);if(ft)return ft.getMyNameCardByGroupID(at.to)}return""}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._messageOptionsMap.clear()}}]),_t}(Ys),v0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="MessageExtensionModule",ft.messageExtensionMap=new Map,ft.globalSeqMap=new Map,ft.getMessageExtensionsMap=new Map,ft}return lt(_t,[{key:"onMessageExtensionNotify",value:function(at){var ft=this,gt=at.dataList,Ct=gt.messageInfo,St=gt.operateType,Dt=gt.operateResultList,Lt=gt.tinyID,jt=gt.globalSequence,Kt=Ct.clientTime,Jt=Ct.random,cn="".concat(Lt,"-").concat(Kt,"-").concat(Jt),bn=[],On=[];sn.l("".concat(this._n,".onMessageExtensionNotify messageID:").concat(cn," operateType:").concat(St," globalSequence:").concat(jt)),this._updateGlobalSequence(cn,jt);var Fn=!1,Wn=!1;Dt.forEach(function(er){var ir=er.extensions,Tr=ir===void 0?[]:ir,Ur=er.clearSequence;St===1?(Fn=!0,Tr.forEach(function(zr){bn.push({key:zr.key,value:zr.value})}),ft._updateLocalExtension(cn,Tr)):St===2?(Wn=!0,Tr.forEach(function(zr){On.push(zr.key)}),ft._updateLocalExtension(cn,Tr)):St===3&&(Wn=!0,ft._hasLocalExtension(cn)&&ft._getLocalExtension(cn).forEach(function(zr,co){zr.seq<=Ur&&!kr(zr.value)&&On.push(co)}),ft._clearLocalExtension(cn,Ur))}),Fn&&this.emitOuterEvent(yn.MESSAGE_EXTENSIONS_UPDATED,{messageID:cn,extensions:bn}),Wn&&this.emitOuterEvent(yn.MESSAGE_EXTENSIONS_DELETED,{messageID:cn,keyList:On})}},{key:"setMessageExtensions",value:function(at,ft){var gt=this;if(!this.canIUse(hr.MSG_EXT))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var Ct="".concat(this._n,".").concat("setMessageExtensions"),St=at.ID,Dt=at.conversationID,Lt=at.sequence,jt=at.time,Kt=Ht(ft);ft.length>20&&(Kt=ft.slice(0,20),sn.w("".concat(Ct,". the length of extensions cannot exceed 20.")));var Jt="conversationID:".concat(Dt," messageID:").concat(St," sequence:").concat(Lt," time:").concat(jt," count:").concat(Kt.length),cn=new br("setMessageExtensions");return cn.setMessage(Jt),sn.l("".concat(Ct," ").concat(Jt)),this._modifyMessageExtensions(at,Kt).then(function(bn){var On=bn.resultList,Fn=bn.successCount,Wn=bn.failureCount,er="success count:".concat(Fn," fail count:").concat(Wn);return cn.setMoreMessage(er).end(),sn.l("".concat(Ct," ok. ").concat(er)),oo({extensions:On})}).catch(function(bn){return gt.probeNetwork().then(function(On){var Fn=Ft(On,2),Wn=Fn[0],er=Fn[1];cn.setError(bn,Wn,er).end()}),sn.e("".concat(Ct," failed. error:"),bn),Xn(bn)})}},{key:"getMessageExtensions",value:function(at){var ft=this;if(!this.canIUse(hr.MSG_EXT))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var gt="".concat(this._n,".").concat("getMessageExtensions"),Ct=at.ID,St=at.conversationID,Dt=at.sequence,Lt=at.time,jt="conversationID:".concat(St," messageID:").concat(Ct," sequence:").concat(Dt," time:").concat(Lt),Kt=new br("getMessageExtensions");Kt.setMessage(jt),sn.l("".concat(gt," ").concat(jt));var Jt=void 0;return this.getMessageExtensionsMap.has(Ct)&&(Jt=this._getGlobalSequence(Ct)),this._getMessageExtensions(at,Jt).then(function(cn){return Kt.end(),sn.l("".concat(gt," ok. total count:").concat(cn.length)),fr(Jt)&&cn.length>0&&ft.getMessageExtensionsMap.set(Ct,1),oo({extensions:cn})}).catch(function(cn){return ft.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Kt.setError(cn,Fn,Wn).end()}),sn.e("".concat(gt," failed. error:"),cn),Xn(cn)})}},{key:"deleteMessageExtensions",value:function(at,ft){var gt=this;if(!this.canIUse(hr.MSG_EXT))return Xn({code:pr.CANNOT_USE_COMMERCIAL_ABILITY});var Ct="".concat(this._n,".").concat("deleteMessageExtensions"),St=[],Dt=3;kr(ft)||(Dt=2,ft.forEach(function(On){St.push({key:On,value:"",seq:0})}));var Lt=at.ID,jt=at.conversationID,Kt=at.sequence,Jt=at.time,cn="conversationID:".concat(jt," messageID:").concat(Lt," sequence:").concat(Kt," time:").concat(Jt," operateType:").concat(Dt),bn=new br("deleteMessageExtensions");return bn.setMessage(cn),sn.l("".concat(Ct," ").concat(cn)),this._modifyMessageExtensions(at,St,Dt).then(function(On){var Fn=On.resultList,Wn=On.successCount,er=On.failureCount,ir="";return Dt===2&&(ir="success count:".concat(Wn," fail count:").concat(er)),bn.setMoreMessage("".concat(ir)).end(),sn.l("".concat(Ct," ok. ").concat(ir)),oo({extensions:Fn})}).catch(function(On){return gt.probeNetwork().then(function(Fn){var Wn=Ft(Fn,2),er=Wn[0],ir=Wn[1];bn.setError(On,er,ir).end()}),sn.e("".concat(Ct," failed. error:"),On),Xn(On)})}},{key:"_modifyMessageExtensions",value:function(at,ft){var gt=this,Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,St=lu(at.to)?Ut.CONV_TOPIC:at.conversationType,Dt=void 0;Ct!==3&&(Dt=this._getRequestExtensions(at,ft));var Lt=null;switch(St){case Ut.CONV_C2C:Lt=this.getModule(To);break;case Ut.CONV_GROUP:Lt=this.getModule(vo);break;case Ut.CONV_TOPIC:Lt=this.getModule(gs);break;default:return Xn({code:pr.CANNOT_FIND_MODULE})}return Lt.modifyMessageExtensions(at,Dt,Ct).then(function(jt){var Kt=jt.data,Jt=Kt.extensions,cn=Kt.seq,bn=[],On=0,Fn=0,Wn=[];return(Jt=kr(Jt)?[]:Jt).forEach(function(er){var ir=er.errorCode,Tr=er.extension,Ur=Tr.key,zr=Tr.value,co=Tr.seq;bn.push({code:ir,key:Ur,value:zr}),ir===0?On++:Fn++,Wn.push({key:Ur,value:zr,seq:co})}),gt._updateGlobalSequence(at.ID,cn),Wn.length>0&&(gt._updateLocalExtension(at.ID,Wn),Wn=null),{resultList:bn,successCount:On,failureCount:Fn}}).catch(function(jt){return Xn(jt)})}},{key:"_getRequestExtensions",value:function(at,ft){var gt=[];if(this._hasLocalExtension(at.ID)){var Ct=this._getLocalExtension(at.ID);return ft.forEach(function(St){var Dt=St.key,Lt=St.value,jt=0;Ct.has(Dt)&&(jt=Ct.get(Dt).seq),gt.push({key:Dt,value:Lt,seq:jt})}),gt}return ft.forEach(function(St){var Dt=St.key,Lt=St.value;gt.push({key:Dt,value:Lt,seq:0})}),gt}},{key:"_getMessageExtensions",value:function(at,ft){var gt=this,Ct="".concat(this._n,"._getMessageExtensions"),St=at.ID,Dt=at.to,Lt=null;switch(lu(Dt)?Ut.CONV_TOPIC:at.conversationType){case Ut.CONV_C2C:Lt=this.getModule(To);break;case Ut.CONV_GROUP:Lt=this.getModule(vo);break;case Ut.CONV_TOPIC:Lt=this.getModule(gs);break;default:return Xn({code:pr.CANNOT_FIND_MODULE})}return Lt.getMessageExtensions(at,ft).then(function(jt){var Kt=jt.data,Jt=Kt.extensions,cn=Kt.completeFlag,bn=Kt.globalSequence,On=Kt.clearSequence;if(Jt=kr(Jt)?[]:Jt,sn.l("".concat(Ct," ok. completeFlag:").concat(cn," globalSequence:").concat(bn," clearSequence:").concat(On," count:").concat(Jt.length)),gt._updateLocalExtension(St,Jt),gt._clearLocalExtension(St,On),gt._updateGlobalSequence(St,bn),cn!==1){var Fn=Jt.slice(-1)[0].seq+1;return gt._getMessageExtensions(at,Fn)}return gt._getLocalExtensions(St)}).catch(function(jt){return Xn(jt)})}},{key:"_hasLocalExtension",value:function(at){return this.messageExtensionMap.has(at)}},{key:"_getLocalExtension",value:function(at){return this.messageExtensionMap.get(at)}},{key:"_updateLocalExtension",value:function(at,ft){this._hasLocalExtension(at)||this.messageExtensionMap.set(at,new Map);var gt=this._getLocalExtension(at);ft.forEach(function(Ct){var St=Ct.key,Dt=Ct.value,Lt=Dt===void 0?"":Dt,jt=Ct.seq;gt.set(St,{value:Lt,seq:jt})})}},{key:"_clearLocalExtension",value:function(at,ft){if(!(ft<=0)&&this._hasLocalExtension(at)){var gt=this._getLocalExtension(at);gt.forEach(function(Ct,St){Ct.seq<=ft&&gt.delete(St)})}}},{key:"_getLocalExtensions",value:function(at){var ft=[];return this._hasLocalExtension(at)&&this._getLocalExtension(at).forEach(function(gt,Ct){var St=gt.value;kr(St)||ft.push({key:Ct,value:St})}),ft}},{key:"_getGlobalSequence",value:function(at){return this.globalSeqMap.get(at)}},{key:"_updateGlobalSequence",value:function(at,ft){this.globalSeqMap.set(at,ft)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this.messageExtensionMap.clear(),this.globalSeqMap.clear(),this.getMessageExtensionsMap.clear()}}]),_t}(Ys),qy=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="ComboMessageModule",ft}return lt(_t,[{key:"sendMessage",value:function(at){var ft=this,gt=this._constructMessageInstance(at);if(gt===null)return Xn({code:pr.MESSAGE_SEND_FAIL});this._addSendMessageTotalCount(gt);var Ct=Date.now();return this.getModule(no).setMessageRandom(gt),this._sendComboMessage(gt,at).then(function(St){var Dt=St.data,Lt=Dt.time,jt=Dt.sequence,Kt=Dt.readReceiptCode;Yo(Kt)&&Kt!==0&&(new br("sendMessageWithReceipt").setMessage("from:".concat(gt.from," to:").concat(gt.to," sequence:").concat(jt," readReceiptCode:").concat(Kt)).end(),sn.w("".concat(ft._n,".sendMessage readReceiptCode:").concat(Kt," message:").concat(ft.getErrorMessage(Kt)))),ft._addSendMessageSuccessCount(gt,Ct);var Jt=ft.getModule(no);gt.status=ss.SUCCESS,gt.time=Lt,gt.conversationType===Ut.CONV_GROUP&&(gt.sequence=jt),Jt.appendToMessageList(gt);var cn=gt;return gt._isExcludedFromLastMessage===!0&&(cn=""),Jt.onMessageSent({conversationOptionsList:[{conversationID:gt.conversationID,unreadCount:0,type:gt.conversationType,subType:gt.conversationSubType,lastMessage:cn}]}),oo({message:gt})}).catch(function(St){return ft._onSendMessageFailed(gt,St)})}},{key:"_sendComboMessage",value:function(at,ft){var gt=this._m.getModule($s),Ct="";return at.conversationType===Ut.CONV_C2C&&(Ct="".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SEND_MESSAGE)),at.conversationType===Ut.CONV_GROUP&&(Ct="".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEND_GROUP_MESSAGE)),gt.sendComboMessage({servcmd:Ct,data:ft})}},{key:"_constructMessageInstance",value:function(at){var ft="".concat(this._n,"._constructMessageInstance"),gt=null;try{var Ct=this.getMyUserID(),St={};if(St.senderTinyID=this.getMyTinyID(),St.currentUser=Ct,St.from=at.From_Account||Ct,at.GroupId?(St.conversationID="".concat(Ut.CONV_GROUP).concat(at.GroupId),St.conversationType=Ut.CONV_GROUP,St.to=at.GroupId):at.To_Account&&(St.conversationID="".concat(Ut.CONV_C2C).concat(at.To_Account),St.conversationType=Ut.CONV_C2C,St.to=at.To_Account),St.time=at.MsgTimeStamp||0,St.random=at.Random||at.MsgRandom||0,St.priority=at.MsgPriority,yo(at.CloudCustomData)&&at.CloudCustomData.length>0&&(St.cloudCustomData=at.CloudCustomData),Zr(at.SendMsgControl)&&(St.messageControlInfo={},at.SendMsgControl.includes("NoUnread")&&(St.messageControlInfo.excludedFromUnreadCount=1),at.SendMsgControl.includes("NoLastMsg")&&(St.messageControlInfo.excludedFromLastMessage=1)),St.conversationType===Ut.CONV_GROUP&&Zr(at.To_Account)&&at.To_Account.length>0){var Dt=at.To_Account;at.To_Account.length>50&&(Dt=at.To_Account.slice(0,50),sn.w("".concat(ft," To_Account must be less than or equal to 50."))),St.receiverList=Ht(Dt),at.To_Account=Ht(Dt)}at.IsNeedReadReceipt!==1&&at.NeedReadReceipt!==1||(St.needReadReceipt=!0),at.SupportMessageExtension===1&&(St.isSupportExtension=!0),(gt=new wu(St)).status=ss.UNSEND,at.MsgClientTime=gt.clientTime,gt.conversationType===Ut.CONV_C2C&&(at.MsgSeq=gt.sequence);for(var Lt,jt=at.MsgBody.length,Kt=0;Kt<jt;Kt++)(Lt=at.MsgBody[Kt]).MsgType==="TIMTextElem"?gt.setTextElement(Lt.MsgContent.Text):Lt.MsgType==="TIMCustomElem"?gt.setCustomElement({data:Lt.MsgContent.Data||"",description:Lt.MsgContent.Desc||"",extension:Lt.MsgContent.Ext||""}):Lt.MsgType==="TIMFaceElem"&&gt.setFaceElement({index:Lt.MsgContent.Index,data:Lt.MsgContent.Data});var Jt=gt.getElements();gt.payload=Jt[0].content,gt.type=Jt[0].type}catch(cn){gt=null,sn.e("".concat(ft," failed. error:"),cn)}return gt}},{key:"_onSendMessageFailed",value:function(at,ft){at.status=ss.FAIL,this.getModule(no).deleteMessageRandom(at),this._addSendMessageFailCountOnUser(at,ft);var gt=new br("sendMessage");return gt.setMessage("tjg_id:".concat(this.generateTjgID(at)," type:").concat(at.type," from:").concat(at.from," to:").concat(at.to)),this.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];gt.setError(ft,Dt,Lt).end()}),sn.e("".concat(this._n,"._onSendMessageFailed error:"),ft),Xn(new ks({code:ft&&ft.code?ft.code:pr.MESSAGE_SEND_FAIL,message:ft&&ft.message?ft.message:void 0,data:{message:at}}))}},{key:"_getSendMessageSpecifiedKey",value:function(at){if(at.conversationType===Ut.CONV_C2C)return Fp;if(at.conversationType===Ut.CONV_GROUP){var ft=this.getModule(vo).getLocalGroupProfile(at.to);if(!ft)return;var gt=ft.type;return uu(gt)?_g:Am}}},{key:"_addSendMessageTotalCount",value:function(at){var ft=this._getSendMessageSpecifiedKey(at);ft&&this.getModule(pu).addTotalCount(ft)}},{key:"_addSendMessageSuccessCount",value:function(at,ft){var gt=Math.abs(Date.now()-ft),Ct=this._getSendMessageSpecifiedKey(at);if(Ct){var St=this.getModule(pu);St.addSuccessCount(Ct),St.addCost(Ct,gt)}}},{key:"_addSendMessageFailCountOnUser",value:function(at,ft){var gt=ft.code,Ct=gt===void 0?-1:gt,St=this.getModule(pu),Dt=this._getSendMessageSpecifiedKey(at);mv(Ct)&&Dt&&St.addFailedCountOfUserSide(Dt)}}]),_t}(Ys),om=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="PluginModule",ft.plugins={},ft}return lt(_t,[{key:"registerPlugin",value:function(at){var ft=this;Object.keys(at).forEach(function(gt){ft.plugins[gt]=at[gt]}),new br("registerPlugin").setMessage("".concat(Object.keys(at))).end()}},{key:"getPlugin",value:function(at){return this.plugins[at]}},{key:"reset",value:function(){}}]),_t}(Ys),Vy=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="SyncUnreadMessageModule",ft._cookie="",ft._onlineSyncFlag=!1,ft.getInnerEmitterInstance().on(Yl,ft._onLoginSuccess,Bt(ft)),ft}return lt(_t,[{key:"_onLoginSuccess",value:function(at){this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:0})}},{key:"_startSync",value:function(at){var ft=this,gt=at.cookie,Ct=at.syncFlag,St=at.isOnlineSync,Dt="".concat(this._n,"._startSync");sn.l("".concat(Dt," cookie:").concat(gt," syncFlag:").concat(Ct," isOnlineSync:").concat(St)),this.request({protocolName:y_,requestData:{cookie:gt,syncFlag:Ct,isOnlineSync:St}}).then(function(Lt){var jt=Lt.data,Kt=jt.cookie,Jt=jt.syncFlag;ft._cookie=Kt,kr(Kt)||(Jt===0||Jt===1?(ft._dispatchUnreadMessage(rt(rt({},Lt.data),{},{isSyncingEnded:!1})),ft._startSync({cookie:Kt,syncFlag:Jt,isOnlineSync:0})):Jt===2&&ft._dispatchUnreadMessage(rt(rt({},Lt.data),{},{isSyncingEnded:!0})))}).catch(function(Lt){sn.e("".concat(Dt," failed. error:"),Lt)})}},{key:"_dispatchUnreadMessage",value:function(at){at.eventArray&&this.getModule($s).onMessage({head:{},body:{eventArray:at.eventArray,isInstantMessage:this._onlineSyncFlag,isSyncingEnded:at.isSyncingEnded}}),this.getModule(To).onNewC2CMessage({dataList:at.messageList,isInstantMessage:!!at.isSyncingEnded&&this._onlineSyncFlag,C2CRemainingUnreadList:at.C2CRemainingUnreadList,C2CPairUnreadList:at.C2CPairUnreadList})}},{key:"startOnlineSync",value:function(){sn.l("".concat(this._n,".startOnlineSync")),this._onlineSyncFlag=!0,this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:1})}},{key:"startSyncOnReconnected",value:function(){sn.l("".concat(this._n,".startSyncOnReconnected.")),this._onlineSyncFlag=!0,this._startSync({cookie:this._cookie,syncFlag:0,isOnlineSync:0})}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._onlineSyncFlag=!1,this._cookie=""}}]),_t}(Ys),j_={request:{toAccount:"To_Account",fromAccount:"From_Account",to:"To_Account",from:"From_Account",groupID:"GroupId",groupAtUserID:"GroupAt_Account",extension:"Ext",data:"Data",description:"Desc",elements:"MsgBody",sizeType:"Type",downloadFlag:"Download_Flag",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",videoUrl:"",imageUrl:"URL",fileUrl:"Url",uuid:"UUID",priority:"MsgPriority",receiverUserID:"To_Account",receiverGroupID:"GroupId",messageSender:"SenderId",messageReceiver:"ReceiverId",nick:"From_AccountNick",avatar:"From_AccountHeadurl",messageNumber:"MsgNum",pbDownloadKey:"PbMsgKey",downloadKey:"JsonMsgKey",applicationType:"PendencyType",userIDList:"To_Account",groupNameList:"GroupName",userID:"To_Account",groupAttributeList:"GroupAttr",mainSequence:"AttrMainSeq",avChatRoomKey:"BytesKey",attributeControl:"AttrControl",sequence:"seq",messageControlInfo:"SendMsgControl",updateSequence:"UpdateSeq",clientTime:"MsgClientTime",sequenceList:"MsgSeqList",topicID:"TopicId",customData:"CustomString",isSupportTopic:"SupportTopic",isWebUniapp:"is_web_uniapp",isSupportExtension:"SupportMessageExtension",messageSequence:"MsgSeq",messageKey:"MsgKey",startSequence:"startSeq",simplifiedMessage:"DownsizeFlag"},response:{MsgPriority:"priority",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID",Download_Flag:"downloadFlag",GroupId:"groupID",Member_Account:"userID",MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",MsgSeq:"sequence",MsgRandom:"random",MsgTime:"time",MsgTimeStamp:"time",MsgContent:"content",MsgBody:"elements",From_AccountNick:"nick",From_AccountHeadurl:"avatar",GroupWithdrawInfoArray:"revokedInfos",GroupReadInfoArray:"groupMessageReadNotice",LastReadMsgSeq:"lastMessageSeq",WithdrawC2cMsgNotify:"c2cMessageRevokedNotify",C2cWithdrawInfoArray:"revokedInfos",C2cReadedReceipt:"c2cMessageReadReceipt",ReadC2cMsgNotify:"c2cMessageReadNotice",LastReadTime:"peerReadTime",MsgRand:"random",MsgType:"type",MsgShow:"messageShow",NextMsgSeq:"nextMessageSeq",FaceUrl:"avatar",ProfileDataMod:"profileModify",Profile_Account:"userID",ValueBytes:"value",ValueNum:"value",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgFrom_AccountExtraInfo:"messageFromAccountExtraInformation",Operator_Account:"operatorID",OpType:"operationType",ReportType:"operationType",UserId:"userID",User_Account:"userID",List_Account:"userIDList",MsgOperatorMemberExtraInfo:"operatorInfo",MsgMemberExtraInfo:"memberInfoList",ImageUrl:"avatar",NickName:"nick",MsgGroupNewInfo:"newGroupProfile",MsgAppDefinedData:"groupCustomField",Owner_Account:"ownerID",GroupFaceUrl:"avatar",GroupIntroduction:"introduction",GroupNotification:"notification",GroupApplyJoinOption:"joinOption",MsgKey:"messageKey",GroupInfo:"groupProfile",ShutupTime:"muteTime",Desc:"description",Ext:"extension",GroupAt_Account:"groupAtUserID",MsgNum:"messageNumber",PbMsgKey:"pbDownloadKey",JsonMsgKey:"downloadKey",MsgModifiedFlag:"isModified",PendencyItem:"applicationItem",PendencyType:"applicationType",AddTime:"time",AddSource:"source",AddWording:"wording",ProfileImImage:"avatar",PendencyAdd:"friendApplicationAdded",FrienPencydDel_Account:"friendApplicationDeletedUserIDList",Peer_Account:"userID",GroupAttr:"groupAttributeList",GroupAttrAry:"groupAttributeList",AttrMainSeq:"mainSequence",seq:"sequence",GroupAttrOption:"groupAttributeOption",BytesChangedKeys:"changedKeyList",GroupAttrInfo:"groupAttributeList",GroupAttrSeq:"mainSequence",PushChangedAttrValFlag:"isWithChangedAttributeInfo",SubKeySeq:"sequence",Val:"value",MsgGroupFromCardName:"senderNameCard",MsgGroupFromNickName:"senderNick",C2cNick:"peerNick",C2cImage:"peerAvatar",SendMsgControl:"messageControlInfo",NoLastMsg:"excludedFromLastMessage",NoUnread:"excludedFromUnreadCount",UpdateSeq:"updateSequence",MuteNotifications:"muteFlag",MsgClientTime:"clientTime",TinyId:"tinyID",GroupMsgReceiptList:"readReceiptList",ReadNum:"readCount",UnreadNum:"unreadCount",TopicId:"topicID",MillionGroupFlag:"communityType",SupportTopic:"isSupportTopic",MsgTopicNewInfo:"newTopicInfo",ShutupAll:"muteAllMembers",CustomString:"customData",TopicFaceUrl:"avatar",TopicIntroduction:"introduction",TopicNotification:"notification",TopicIdArray:"topicIDList",MsgVersion:"messageVersion",C2cMsgModNotifys:"c2cMessageModified",GroupMsgModNotifys:"groupMessageModified",ApplyJoinOption:"joinOption",MsgFlag:"messageRemindType",AtInfoList:"groupAtInfoList",AtFlagList:"groupAtType",AtMsgSeq:"sequence",BanDuration:"duration",BanDescription:"reason",NotVisible:"invisible",BytesTag:"tag",BytesValue:"value",RptBytesValue:"value",LatestSeq:"globalSequence",ClearSeq:"clearSequence",SupportMessageExtension:"isSupportExtension",ExtensionList:"extensions",GroupCounter:"counterList",Revoker_Account:"revoker",MsgExtensionNotify:"messageExtensionNotify",ExtensionC2cMsgInfo:"messageInfo",ExtensionGroupMsgInfo:"messageInfo",MsgOptType:"operateType",SetKVInfo:"operateResultList",DeleteKVInfo:"operateResultList",ClearKVInfo:"operateResultList",MsgKeyValue:"extensions",ClearMsgSeq:"clearSequence",MsgLastSeq:"globalSequence",InviteJoinOption:"inviteOption",MemberList_Account:"inviteeList",MsgMemberExtraInfoList:"inviteeInfoList",E:"event",GInf:"groupProfile",MCT:"clientTime",MR:"random",MP:"priority",MTS:"time",GId:"groupID",MS:"sequence",CCD:"cloudCustomData",F_Account:"from",F_Hd:"avatar",F_NN:"nick",GN:"groupName",GT:"groupType",IsSys:"isSystemMessage",OpInf:"operatorInfo",Img:"avatar",NN:"nick",OnlineInf:"onlineMemberInfo",ET:"expireTime",Num:"onlineMemberNum",Opt:"operationType",O_Account:"operatorID",RT:"operationType",UDF:"userDefinedField",L_Account:"userIDList"},ignoreKeyWord:["C2C","ID","USP"]};function ry(Nt,ut){if(typeof Nt!="string"&&!Array.isArray(Nt))throw new TypeError("Expected the input to be `string | string[]`");ut=Object.assign({pascalCase:!1},ut);var _t;return(Nt=Array.isArray(Nt)?Nt.map(function(at){return at.trim()}).filter(function(at){return at.length}).join("-"):Nt.trim()).length===0?"":Nt.length===1?ut.pascalCase?Nt.toUpperCase():Nt.toLowerCase():(Nt!==Nt.toLowerCase()&&(Nt=Hy(Nt)),Nt=Nt.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(at,ft){return ft.toUpperCase()}).replace(/\d+(\w|$)/g,function(at){return at.toUpperCase()}),_t=Nt,ut.pascalCase?_t.charAt(0).toUpperCase()+_t.slice(1):_t)}var Hy=function(Nt){for(var ut=!1,_t=!1,at=!1,ft=0;ft<Nt.length;ft++){var gt=Nt[ft];ut&&/[a-zA-Z]/.test(gt)&&gt.toUpperCase()===gt?(Nt=Nt.slice(0,ft)+"-"+Nt.slice(ft),ut=!1,at=_t,_t=!0,ft++):_t&&at&&/[a-zA-Z]/.test(gt)&&gt.toLowerCase()===gt?(Nt=Nt.slice(0,ft-1)+"-"+Nt.slice(ft-1),at=_t,_t=!1,ut=!0):(ut=gt.toLowerCase()===gt&&gt.toUpperCase()!==gt,at=_t,_t=gt.toUpperCase()===gt&&gt.toLowerCase()!==gt)}return Nt};function zy(Nt,ut){var _t=0;return function at(ft,gt){if(++_t>100)return _t--,ft;if(Zr(ft)){var Ct=ft.map(function(Kt){return Ru(Kt)?at(Kt,gt):Kt});return _t--,Ct}if(Ru(ft)){var St=(Dt=ft,Lt=function(Kt,Jt){if(!Il(Jt))return!1;if((bn=Jt)!==ry(bn))for(var cn=0;cn<j_.ignoreKeyWord.length&&!Jt.includes(j_.ignoreKeyWord[cn]);cn++);var bn;return fr(gt[Jt])?function(On){return On==="OPPOChannelID"?On:On[0].toUpperCase()+ry(On).slice(1)}(Jt):gt[Jt]},jt=Object.create(null),Object.keys(Dt).forEach(function(Kt){var Jt=Lt(Dt[Kt],Kt);Jt&&(jt[Jt]=Dt[Kt])}),jt);return St=zp(St,function(Kt,Jt){return Zr(Kt)||Ru(Kt)?at(Kt,gt):Kt}),_t--,St}var Dt,Lt,jt}(Nt,ut)}function oy(Nt,ut){if(Zr(Nt))return Nt.map(function(Ct){return Ru(Ct)?oy(Ct,ut):Ct});if(Ru(Nt)){var _t=(at=Nt,ft=function(Ct,St){return fr(ut[St])?ry(St):ut[St]},gt={},Object.keys(at).forEach(function(Ct){gt[ft(at[Ct],Ct)]=at[Ct]}),gt);return _t=zp(_t,function(Ct){return Zr(Ct)||Ru(Ct)?oy(Ct,ut):Ct})}var at,ft,gt}var Dp=String.fromCharCode,iy=function(Nt){var ut=0|Nt.charCodeAt(0);if(55296<=ut)if(ut<56320){var _t=0|Nt.charCodeAt(1);if(56320<=_t&&_t<=57343){if((ut=(ut<<10)+_t-56613888|0)>65535)return Dp(240|ut>>>18,128|ut>>>12&63,128|ut>>>6&63,128|63&ut)}else ut=65533}else ut<=57343&&(ut=65533);return ut<=2047?Dp(192|ut>>>6,128|63&ut):Dp(224|ut>>>12,128|ut>>>6&63,128|63&ut)},B_=function(Nt){for(var ut=Nt===void 0?"":(""+Nt).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,iy),_t=0|ut.length,at=new Uint8Array(_t),ft=0;ft<_t;ft=ft+1|0)at[ft]=0|ut.charCodeAt(ft);return at},ay=function(){function Nt(ut){it(this,Nt),this._handler=ut;var _t=ut.getURL();if(this._socket=null,this._workerSocket=null,this._id=Qu(),this._handler.getIsWorkerEnabled()){var at=URL.createObjectURL(new Blob([';let _socket = null;onmessage = function(event) {  if (event.data.cmd === "start") {    const url = event.data.url;    _socket = new WebSocket(url);    _socket.binaryType = "arraybuffer";    _socket.onopen = function() {      postMessage({ callback: "onOpen", extensions: _socket.extensions });    };    _socket.onclose = function(e) {      postMessage({ callback: "onOpen", e: { code: e.code, reason: e.reason } });    };    _socket.onmessage = function(e) {      postMessage({ callback: "onMessage", data: e.data });    };    _socket.onerror = function(e) {      postMessage({ callback: "onError", e: { isTrusted: "true" } });    };  } else if (event.data.cmd === "sendMessage") {    if (_socket !== null) {      _socket.send(event.data.data);    }  } else if (event.data.cmd === "stop") {    if (_socket !== null) {      _socket.close(event.data.code);      _socket = null;    }  }};'],{type:"application/javascript; charset=utf-8"}));this._workerSocket=new Worker(at);var ft=this;this._workerSocket.onmessage=function(gt){var Ct=gt.data,St=Ct.callback,Dt=Ct.e,Lt=Ct.extensions;St==="onOpen"?ft._onOpen(Lt):St==="onClose"?ft._onClose(Dt):St==="onError"?ft._onError(Dt):St==="onMessage"&&ft._onMessage(gt.data)},this._workerSocket.postMessage({cmd:"start",id:this._id,url:_t})}else gr?Or?(Ar.connectSocket({url:_t,header:{"content-type":"application/json"}}),Ar.onSocketClose(this._onClose.bind(this)),Ar.onSocketOpen(this._onOpen.bind(this)),Ar.onSocketMessage(this._onMessage.bind(this)),Ar.onSocketError(this._onError.bind(this))):(this._socket=Ar.connectSocket({url:_t,header:{"content-type":"application/json"},complete:function(){}}),this._socket.onClose(this._onClose.bind(this)),this._socket.onOpen(this._onOpen.bind(this)),this._socket.onMessage(this._onMessage.bind(this)),this._socket.onError(this._onError.bind(this))):Mr&&(this._socket=new WebSocket(_t),this._socket.binaryType="arraybuffer",this._socket.onopen=this._onOpen.bind(this,this._socket.extensions),this._socket.onmessage=this._onMessage.bind(this),this._socket.onclose=this._onClose.bind(this),this._socket.onerror=this._onError.bind(this));this._canIUseBinaryFrame=ut.canIUseBinaryFrame()}return lt(Nt,[{key:"getID",value:function(){return this._id}},{key:"_onOpen",value:function(ut){this._handler.onOpen({id:this._id,res:JSON.stringify(ut)})}},{key:"_onClose",value:function(ut){this._handler.onClose({id:this._id,e:ut})}},{key:"_onMessage",value:function(ut){var _t;_t=this._canIUseBinaryFrame?this._isAppCompressedData(ut.data)?this._handler.inflate(ut.data):function(at){for(var ft=new Uint8Array(at),gt="",Ct=0,St=ft.length;Ct<St;){var Dt=ft[Ct],Lt=0,jt=0;if(Dt<=127?(Lt=0,jt=255&Dt):Dt<=223?(Lt=1,jt=31&Dt):Dt<=239?(Lt=2,jt=15&Dt):Dt<=244&&(Lt=3,jt=7&Dt),St-Ct-Lt>0)for(var Kt=0;Kt<Lt;)jt=jt<<6|63&(Dt=ft[Ct+Kt+1]),Kt+=1;else jt=65533,Lt=St-Ct;gt+=String.fromCodePoint(jt),Ct+=Lt+1}return gt}(ut.data):ut.data,this._handler.onMessage({data:_t})}},{key:"_isAppCompressedData",value:function(ut){var _t=new Uint8Array(ut);return _t[0]===67&&_t[1]===79&&_t[2]===77&&_t[3]===80}},{key:"_onError",value:function(ut){this._handler.onError({id:this._id,e:ut})}},{key:"setIsWorkerEnabled",value:function(ut){this._isWorkerEnabled=!0}},{key:"close",value:function(ut){if(this._workerSocket&&(this._workerSocket.postMessage({cmd:"stop",code:ut}),this._workerSocket.terminate(),this._workerSocket=null),Or)return Ar.offSocketClose(),Ar.offSocketMessage(),Ar.offSocketOpen(),Ar.offSocketError(),void Ar.closeSocket();this._socket&&(gr?(this._socket.onClose(function(){}),this._socket.onOpen(function(){}),this._socket.onMessage(function(){}),this._socket.onError(function(){})):Mr&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null),ar?this._socket.close({code:ut}):this._socket.close(ut),this._socket=null)}},{key:"send",value:function(ut){if(this._workerSocket)this._workerSocket.postMessage({cmd:"sendMessage",data:this._canIUseBinaryFrame?B_(ut.data).buffer:ut.data});else{if(Or)return void Ar.sendSocketMessage({data:ut.data,fail:function(){ut.fail&&ut.requestID&&ut.fail(ut.requestID)}});this._socket&&(gr?this._socket.send({data:this._canIUseBinaryFrame?B_(ut.data).buffer:ut.data,fail:function(){ut.fail&&ut.requestID&&ut.fail(ut.requestID)}}):Mr&&this._socket.send(this._canIUseBinaryFrame?B_(ut.data):ut.data))}}}]),Nt}(),_v=4e3,qm=4001,Xo=["keyMap"],vv=["keyMap"],Vm="connected",km="connecting",yv="disconnected",sy=function(){function Nt(ut){it(this,Nt),this._channelModule=ut,this._n="SocketHandler",this._promiseMap=new Map,this._readyState=yv,this._simpleRequestMap=new Map,this.MAX_SIZE=100,this._startSequence=Qu(),this._startTs=0,this._reConnectFlag=!1,this._nextPingTs=0,this._reConnectCount=0,this.MAX_RECONNECT_COUNT=3,this._socketID=-1,this._random=0,this._socket=null,this._url="",this._onOpenTs=0,this._canIUseBinaryFrame=!0,this._isWorkerEnabled=!0,this._setWebsocketHost(),this._initConnection()}return lt(Nt,[{key:"_setWebsocketHost",value:function(){var ut=this._channelModule.getModule(jo),_t=Tn;this._channelModule.isOversea()&&(_t=Un),ut.isSingaporeSite()?_t=$n:ut.isKoreaSite()?_t=Vn:ut.isGermanySite()?_t=tr:ut.isIndiaSite()?_t=Jn:ut.isJapanSite()?_t=wr:ut.isUSASite()&&(_t=jr),Zt.HOST.setCurrent(_t)}},{key:"_initConnection",value:function(){fr(Zt.HOST.CURRENT.BACKUP)||this._url===""?this._url=Zt.HOST.CURRENT.DEFAULT:this._url===Zt.HOST.CURRENT.DEFAULT?this._url=Zt.HOST.CURRENT.BACKUP:this._url===Zt.HOST.CURRENT.BACKUP?this._url=this._canIUseAnyCast()?Zt.HOST.CURRENT.ANYCAST:Zt.HOST.CURRENT.DEFAULT:this._url===Zt.HOST.CURRENT.ANYCAST&&(Zt.HOST.CURRENT.ANYCAST="",this._url=Zt.HOST.CURRENT.DEFAULT);var ut=this._channelModule.getModule(jo).getProxyServer();kr(ut)||(this._url=ut),this._connect(),this._nextPingTs=0}},{key:"_canIUseAnyCast",value:function(){return Mr&&Zt.HOST.CURRENT.ANYCAST}},{key:"onCheckTimer",value:function(ut){ut%1==0&&this._checkPromiseMap()}},{key:"_checkPromiseMap",value:function(){var ut=this;this._promiseMap.size!==0&&this._promiseMap.forEach(function(_t,at){var ft=_t.reject,gt=_t.timestamp,Ct=15e3;at.indexOf(Ul)!==-1?Ct=9e4:at.indexOf(ev)!==-1&&(Ct=3e3),Date.now()-gt>=Ct&&(sn.l("".concat(ut._n,"._checkPromiseMap request timeout, delete requestID:").concat(at)),ut._promiseMap.delete(at),ft(new ks({code:pr.NETWORK_TIMEOUT})),ut._channelModule.onRequestTimeout(at))})}},{key:"onOpen",value:function(ut){if(this._readyState!==""){this._onOpenTs=Date.now();var _t=ut.id,at=ut.res;this._socketID=_t;var ft=Date.now()-this._startTs,gt="socketID:".concat(_t," res:").concat(at);sn.l("".concat(this._n,"._onOpen cost:").concat(ft," ms. ").concat(gt)),new br("wsOnOpen").setMessage(ft).setCostTime(ft).setMoreMessage(gt).end(),ut.id===this._socketID&&(this._readyState=Vm,this._reConnectCount=0,this._resend(),this._reConnectFlag===!0&&(this._channelModule.onReconnected(),this._reConnectFlag=!1),this._channelModule.onOpen())}}},{key:"onClose",value:function(ut){var _t=new br("wsOnClose"),at=ut.id,ft=ut.e,gt="sourceSocketID:".concat(at," currentSocketID:").concat(this._socketID," code:").concat(ft.code," reason:").concat(ft.reason),Ct=0;this._onOpenTs!==0&&(Ct=Date.now()-this._onOpenTs),_t.setMessage(Ct).setCostTime(Ct).setMoreMessage(gt).setCode(ft.code).end(),sn.l("".concat(this._n,"._onClose ").concat(gt," onlineTime:").concat(Ct)),at===this._socketID&&(this._readyState=yv,Ct<1e3?this._channelModule.onReconnectFailed():this._channelModule.onClose())}},{key:"onError",value:function(ut){var _t=ut.id,at=ut.e,ft="sourceSocketID:".concat(_t," currentSocketID:").concat(this._socketID);new br("wsOnError").setMessage(at.errMsg||Bl(at)).setMoreMessage(ft).setLevel("error").end(),sn.w("".concat(this._n,"._onError"),at,ft),_t===this._socketID&&(this._readyState="",this._channelModule.onError())}},{key:"onMessage",value:function(ut){var _t;try{_t=JSON.parse(ut.data)}catch{new br("jsonParseError").setMessage(ut.data).end()}if(_t&&_t.head){var at=this._getRequestIDFromHead(_t.head),ft=_t.body;if(!this._isTRTCCommand(at)){var gt=Tl(_t.head);ft=oy(_t.body,this._getResponseKeyMap(gt))}if(sn.d("".concat(this._n,".onMessage ret:").concat(JSON.stringify(ft)," requestID:").concat(at," has:").concat(this._promiseMap.has(at))),this._setNextPingTs(),this._promiseMap.has(at)){var Ct=this._promiseMap.get(at),St=Ct.resolve,Dt=Ct.reject,Lt=Ct.timestamp;return this._promiseMap.delete(at),this._calcRTT(Lt),void(ft.errorCode&&ft.errorCode!==0?(this._channelModule.onErrorCodeNotZero(ft),Dt(new ks({code:ft.errorCode,message:ft.errorInfo||"",data:at.includes(Pm)||at.includes(Q_)?{elements:ft.elements,messageVersion:ft.messageVersion,cloudCustomData:ft.cloudCustomData}:void 0}))):St(oo(ft)))}this._channelModule.onMessage({head:_t.head,body:ft})}}},{key:"_isTRTCCommand",value:function(ut){for(var _t=this._channelModule.getModule(n_).getCommandList(),at=!1,ft=0;ft<_t.length;ft++)if(ut.startsWith(_t[ft])){at=!0;break}return at}},{key:"_calcRTT",value:function(ut){var _t=Date.now()-ut;this._channelModule.getModule(pu).addRTT(_t)}},{key:"_connect",value:function(){this._startTs=Date.now(),this._onOpenTs=0,this._socket=new ay(this),this._socketID=this._socket.getID(),this._readyState=km,sn.l("".concat(this._n,"._connect isWorkerEnabled:").concat(this.getIsWorkerEnabled()," socketID:").concat(this._socketID," url:").concat(this.getURL())),new br("wsConnect").setMessage("socketID:".concat(this._socketID," url:").concat(this.getURL())).end()}},{key:"getURL",value:function(){this._channelModule.isDevMode()&&(this._canIUseBinaryFrame=!1);var ut=np();(Or||_i&&ut==="windows"||lr)&&(this._canIUseBinaryFrame=!1);var _t=-1;ut==="ios"?_t=ao||-1:ut==="android"&&(_t=$r||-1);var at=this._channelModule.getModule(jo),ft=this._channelModule.getPlatform(),gt=at.getSDKAppID(),Ct=at.getInstanceID(),St="sdkappid=".concat(gt,"&instanceid=").concat(Ct,"&random=").concat(this._getRandom(),"&platform=").concat(ft,"&host=").concat(ut)+"&version=".concat(_t,"&sdkversion=").concat("2.27.6");return na&&(St+="&isminigame=1"),this._channelModule.canIUseInflate()&&(St+="&compress=gzip"),this._canIUseBinaryFrame?"".concat(this._url,"/binfo?").concat(St):"".concat(this._url,"/info?").concat(St)}},{key:"_closeConnection",value:function(ut){sn.l("".concat(this._n,"._closeConnection socketID:").concat(this._socketID)),this._socket&&(this._socket.close(ut),this._socketID=-1,this._socket=null,this._readyState=yv)}},{key:"_resend",value:function(){var ut=this;if(sn.l("".concat(this._n,"._resend reConnectFlag:").concat(this._reConnectFlag),"promiseMap.size:".concat(this._promiseMap.size," simpleRequestMap.size:").concat(this._simpleRequestMap.size)),this._promiseMap.size>0&&this._promiseMap.forEach(function(St,Dt){var Lt=St.uplinkData,jt=St.resolve,Kt=St.reject;ut._promiseMap.set(Dt,{resolve:jt,reject:Kt,timestamp:Date.now(),uplinkData:Lt}),ut._execute(Dt,Lt)}),this._simpleRequestMap.size>0){var _t,at=Cn(this._simpleRequestMap);try{for(at.s();!(_t=at.n()).done;){var ft=Ft(_t.value,2),gt=ft[0],Ct=ft[1];this._execute(gt,Ct)}}catch(St){at.e(St)}finally{at.f()}this._simpleRequestMap.clear()}}},{key:"send",value:function(ut){var _t=this;ut.head.seq=this._getSequence(),ut.head.reqtime=Math.floor(Date.now()/1e3),ut.keyMap;var at=Rt(ut,Xo),ft=this._getRequestIDFromHead(ut.head),gt=JSON.stringify(at);return new Promise(function(Ct,St){_t._promiseMap.set(ft,{resolve:Ct,reject:St,timestamp:Date.now(),uplinkData:gt}),sn.d("".concat(_t._n,".send uplinkData:").concat(JSON.stringify(at)," requestID:").concat(ft," readyState:").concat(_t._readyState)),_t._readyState!==Vm?_t._reConnect():(_t._execute(ft,gt),_t._channelModule.getModule(pu).addRequestCount())})}},{key:"simplySend",value:function(ut){ut.head.seq=this._getSequence(),ut.head.reqtime=Math.floor(Date.now()/1e3),ut.keyMap;var _t=Rt(ut,vv),at=this._getRequestIDFromHead(ut.head),ft=JSON.stringify(_t);this._readyState!==Vm?(this._simpleRequestMap.size<this.MAX_SIZE?this._simpleRequestMap.set(at,ft):sn.l("".concat(this._n,".simplySend. simpleRequestMap is full, drop request!")),this._reConnect()):this._execute(at,ft)}},{key:"_execute",value:function(ut,_t){this._socket.send({data:_t,fail:gr?this._onSendFail.bind(this):void 0,requestID:ut})}},{key:"_onSendFail",value:function(ut){sn.l("".concat(this._n,"._onSendFail requestID:").concat(ut))}},{key:"_getSequence",value:function(){var ut;if(this._startSequence<2415919103)return ut=this._startSequence,this._startSequence+=1,this._startSequence===2415919103&&(this._startSequence=Qu()),ut}},{key:"_getRequestIDFromHead",value:function(ut){return ut.servcmd+ut.seq}},{key:"_getResponseKeyMap",value:function(ut){var _t=this._channelModule.getKeyMap(ut);return rt(rt({},j_.response),_t.response)}},{key:"_reConnect",value:function(){this._readyState!==Vm&&this._readyState!==km&&this.forcedReconnect()}},{key:"forcedReconnect",value:function(){var ut=this,_t="".concat(this._n,".forcedReconnect");sn.l("".concat(_t," count:").concat(this._reConnectCount," readyState:").concat(this._readyState)),this._reConnectFlag=!0,this._resetRandom(),this._reConnectCount<this.MAX_RECONNECT_COUNT?(this._reConnectCount+=1,this._closeConnection(qm),this._initConnection()):(this._reConnectCount=0,this._channelModule.probeNetwork().then(function(at){var ft=Ft(at,2),gt=ft[0];ft[1],gt?(sn.w("".concat(_t," disconnected from wsserver but network is ok, continue...")),ut._closeConnection(qm),ut._initConnection()):ut._channelModule.onReconnectFailed()}))}},{key:"getReconnectFlag",value:function(){return this._reConnectFlag}},{key:"_setNextPingTs",value:function(){this._nextPingTs=Date.now()+1e4}},{key:"getNextPingTs",value:function(){return this._nextPingTs}},{key:"isConnected",value:function(){return this._readyState===Vm}},{key:"canIUseBinaryFrame",value:function(){return this._canIUseBinaryFrame}},{key:"inflate",value:function(ut){if(this._channelModule.canIUseInflate())return this._channelModule.getModule(Uu).inflate(ut)}},{key:"setIsWorkerEnabled",value:function(ut){sn.l("".concat(this._n,".setIsWorkerEnabled flag:").concat(ut)),this._isWorkerEnabled=ut}},{key:"getIsWorkerEnabled",value:function(){return this._isWorkerEnabled&&ls}},{key:"_getRandom",value:function(){return this._random===0&&(this._random=Math.random()),this._random}},{key:"_resetRandom",value:function(){this._random=0}},{key:"close",value:function(){sn.l("".concat(this._n,".close")),this._closeConnection(_v),this._promiseMap.clear(),this._startSequence=Qu(),this._readyState=yv,this._simpleRequestMap.clear(),this._reConnectFlag=!1,this._reConnectCount=0,this._onOpenTs=0,this._url="",this._random=0,this._canIUseBinaryFrame=!0,this._isWorkerEnabled=!0}}]),Nt}(),Ky=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;if(it(this,_t),(ft=ut.call(this,at))._n="ChannelModule",ft._socketHandler=new sy(Bt(ft)),ft._probing=!1,ft._isAppShowing=!0,ft._previousState=Ut.NET_STATE_CONNECTED,gr&&typeof Ar.onAppShow=="function"&&typeof Ar.onAppHide=="function"){var gt=ft._onAppHide.bind(Bt(ft)),Ct=ft._onAppShow.bind(Bt(ft));typeof Ar.offAppHide=="function"&&Ar.offAppHide(gt),typeof Ar.offAppShow=="function"&&Ar.offAppShow(Ct),Ar.onAppHide(gt),Ar.onAppShow(Ct)}return ft._timerForNotLoggedIn=-1,ft._timerForNotLoggedIn=setInterval(ft.onCheckTimer.bind(Bt(ft)),1e3),ft._fatalErrorFlag=!1,ft}return lt(_t,[{key:"onCheckTimer",value:function(at){this._socketHandler&&(this.isLoggedIn()?(this._timerForNotLoggedIn>0&&(clearInterval(this._timerForNotLoggedIn),this._timerForNotLoggedIn=-1),this._socketHandler.onCheckTimer(at)):this._socketHandler.onCheckTimer(1),this._checkNextPing())}},{key:"onErrorCodeNotZero",value:function(at){this.getModule($s).onErrorCodeNotZero(at)}},{key:"onMessage",value:function(at){this.getModule($s).onMessage(at)}},{key:"send",value:function(at){return this._socketHandler?this._previousState!==Ut.NET_STATE_CONNECTED&&at.head.servcmd.includes(S_)?(this.reConnect(),this._sendLogViaHTTP(at)):this._socketHandler.send(at):Promise.reject()}},{key:"_sendLogViaHTTP",value:function(at){var ft=Zt.HOST.CURRENT.STAT;return new Promise(function(gt,Ct){var St="".concat(ft,"/v4/imopenstat/tim_web_report_v2?sdkappid=").concat(at.head.sdkappid,"&reqtime=").concat(Date.now()),Dt=JSON.stringify(at.body),Lt="application/x-www-form-urlencoded;charset=UTF-8";if(gr)Ar.request({url:St,data:Dt,method:"POST",timeout:3e3,header:{"content-type":Lt},success:function(){gt()},fail:function(){Ct(new ks({code:pr.NETWORK_ERROR}))}});else{var jt=new XMLHttpRequest,Kt=setTimeout(function(){jt.abort(),Ct(new ks({code:pr.NETWORK_TIMEOUT}))},3e3);jt.onreadystatechange=function(){jt.readyState===4&&(clearTimeout(Kt),jt.status===200||jt.status===304?gt():Ct(new ks({code:pr.NETWORK_ERROR})))},jt.open("POST",St,!0),jt.setRequestHeader("Content-type",Lt),jt.send(Dt)}})}},{key:"simplySend",value:function(at){return this._socketHandler?this._socketHandler.simplySend(at):Promise.reject()}},{key:"onOpen",value:function(){this._ping()}},{key:"onClose",value:function(){this._socketHandler&&this._socketHandler.getReconnectFlag()&&this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED),this.reConnect()}},{key:"onError",value:function(){gr&&!lr&&this.outputWarning("DomainNameInMP"),this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)}},{key:"getKeyMap",value:function(at){return this.getModule($s).getKeyMap(at)}},{key:"_onAppHide",value:function(){this._isAppShowing=!1}},{key:"_onAppShow",value:function(){this._isAppShowing=!0}},{key:"onRequestTimeout",value:function(at){}},{key:"onReconnected",value:function(){sn.l("".concat(this._n,".onReconnected")),this._m.restartTimer(),this.getModule($s).onReconnected(),this._emitNetStateChangeEvent(Ut.NET_STATE_CONNECTED)}},{key:"onReconnectFailed",value:function(){sn.l("".concat(this._n,".onReconnectFailed")),this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)}},{key:"setIsWorkerEnabled",value:function(at){this._socketHandler&&this._socketHandler.setIsWorkerEnabled(!1)}},{key:"offline",value:function(){this._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)}},{key:"reConnect",value:function(){var at=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ft=!1;this._socketHandler&&(ft=this._socketHandler.getReconnectFlag());var gt="forcedFlag:".concat(at," fatalErrorFlag:").concat(this._fatalErrorFlag," previousState:").concat(this._previousState," reconnectFlag:").concat(ft);if(sn.l("".concat(this._n,".reConnect ").concat(gt)),!this._fatalErrorFlag&&this._socketHandler){if(at===!0)this._socketHandler.forcedReconnect();else{if(this._previousState===Ut.NET_STATE_CONNECTING&&ft)return;this._socketHandler.forcedReconnect()}this._emitNetStateChangeEvent(Ut.NET_STATE_CONNECTING)}}},{key:"_emitNetStateChangeEvent",value:function(at){this._previousState!==at&&(sn.l("".concat(this._n,"._emitNetStateChangeEvent from ").concat(this._previousState," to ").concat(at)),this._previousState=at,this.emitOuterEvent(yn.NET_STATE_CHANGE,{state:at}))}},{key:"_ping",value:function(){var at=this;if(this._probing!==!0){this._probing=!0;var ft=this.getModule($s).getProtocolData({protocolName:ev});this.send(ft).then(function(){at._probing=!1}).catch(function(gt){if(sn.w("".concat(at._n,"._ping failed. error:"),gt),at._probing=!1,gt&&gt.code===60002)return new br("error").setMessage("code:".concat(gt.code," message:").concat(gt.message)).setNetworkType(at.getModule(Su).getNetworkType()).end(),at._fatalErrorFlag=!0,void at._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED);at.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];sn.l("".concat(at._n,"._ping failed. probe network, isAppShowing:").concat(at._isAppShowing," online:").concat(Dt," networkType:").concat(Lt)),Dt?at.reConnect():at._emitNetStateChangeEvent(Ut.NET_STATE_DISCONNECTED)})})}}},{key:"_checkNextPing",value:function(){this._socketHandler&&this._socketHandler.isConnected()&&Date.now()>=this._socketHandler.getNextPingTs()&&this._ping()}},{key:"canIUseInflate",value:function(){return this._m.canIUseInflate()}},{key:"dealloc",value:function(){this._socketHandler&&(this._socketHandler.close(),this._socketHandler=null),this._timerForNotLoggedIn>-1&&clearInterval(this._timerForNotLoggedIn)}},{key:"onRestApiKickedOut",value:function(){this._socketHandler&&(this._socketHandler.close(),this.reConnect(!0))}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._previousState=Ut.NET_STATE_CONNECTED,this._probing=!1,this._fatalErrorFlag=!1,this._timerForNotLoggedIn=setInterval(this.onCheckTimer.bind(this),1e3)}}]),_t}(Ys),Ol=["a2","tinyid"],y0=["a2","tinyid"],js=function(){function Nt(ut){it(this,Nt),this._n="ProtocolHandler",this._sessionModule=ut,this._configMap=new Map,this._fillConfigMap()}return lt(Nt,[{key:"_fillConfigMap",value:function(){this._configMap.clear();var ut=this._sessionModule.genCommonHead(),_t=this._sessionModule.genCosSpecifiedHead(),at=this._sessionModule.genSSOReportHead(),ft=this._sessionModule.isIntl();this._configMap.set(Ul,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.LOGIN)}),body:{state:"Online",isWebUniapp:0,deviceBrand:0},keyMap:{request:{deviceBrand:"InstType"},response:{InstId:"instanceID",HelloInterval:"helloInterval"}}}}(ut)),this._configMap.set(Rm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.LOGOUT)}),body:{type:0},keyMap:{request:{type:"wslogout_type"}}}}(ut)),this._configMap.set(Om,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.HELLO)}),body:{isWebUniapp:0},keyMap:{response:{NewInstInfo:"newInstanceInfo"}}}}(ut)),this._configMap.set(Y_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.STAT_SERVICE,".").concat(Zt.CMD.KICK_OTHER)}),body:{}}}(ut)),this._configMap.set($v,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_COS_SIGN,".").concat(Zt.CMD.COS_SIGN)}),body:{cmd:"open_im_cos_svc",subCmd:"get_cos_token",duration:300,version:2},keyMap:{request:{userSig:"usersig",subCmd:"sub_cmd",cmd:"cmd",duration:"duration",version:"version"},response:{expired_time:"expiredTime",bucket_name:"bucketName",session_token:"sessionToken",tmp_secret_id:"secretId",tmp_secret_key:"secretKey"}}}}(_t)),this._configMap.set(Fv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.CUSTOM_UPLOAD,".").concat(Zt.CMD.COS_PRE_SIG)}),body:{fileType:void 0,fileName:void 0,uploadMethod:0,duration:900},keyMap:{request:{userSig:"usersig",fileType:"file_type",fileName:"file_name",uploadMethod:"upload_method"},response:{expired_time:"expiredTime",request_id:"requestId",head_url:"headUrl",upload_url:"uploadUrl",download_url:"downloadUrl",ci_url:"ciUrl",snapshot_url:"requestSnapshotUrl"}}}}(_t)),this._configMap.set(_f,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.CUSTOM_UPLOAD,".").concat(Zt.CMD.VIDEO_COVER)}),body:{version:1,platform:void 0,coverName:void 0,requestSnapshotUrl:void 0},keyMap:{request:{version:"version",platform:"platform",coverName:"cover_name",requestSnapshotUrl:"snapshot_url"},response:{error_code:"errorCode",error_msg:"errorInfo",download_url:"snapshotUrl"}}}}(_t)),this._configMap.set($m,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.FETCH_COMMERCIAL_CONFIG)}),body:{SDKAppID:0},keyMap:{request:{SDKAppID:"uint32_sdkappid"},response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_purchase_bits:"purchaseBits",uint32_expired_time:"expiredTime"}}}}(ut)),this._configMap.set(u_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.PUSHED_COMMERCIAL_CONFIG)}),body:{},keyMap:{response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_purchase_bits:"purchaseBits",uint32_expired_time:"expiredTime"}}}}(ut)),this._configMap.set(I_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.FETCH_CLOUD_CONTROL_CONFIG)}),body:{SDKAppID:0,version:0},keyMap:{request:{SDKAppID:"uint32_sdkappid",version:"uint64_version"},response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_json_config:"cloudControlConfig",uint32_expired_time:"expiredTime",uint32_sdkappid:"SDKAppID",uint64_version:"version"}}}}(ut)),this._configMap.set(Gm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_CONFIG_MANAGER,".").concat(Zt.CMD.PUSHED_CLOUD_CONTROL_CONFIG)}),body:{},keyMap:{response:{int32_error_code:"errorCode",str_error_message:"errorMessage",str_json_config:"cloudControlConfig",uint32_expired_time:"expiredTime",uint32_sdkappid:"SDKAppID",uint64_version:"version"}}}}(ut)),this._configMap.set(_h,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OVERLOAD_PUSH,".").concat(Zt.CMD.OVERLOAD_NOTIFY)}),body:{},keyMap:{response:{OverLoadServCmd:"overloadCommand",DelaySecs:"waitingTime"}}}}(ut)),this._configMap.set(y_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_MESSAGES)}),body:{cookie:"",syncFlag:0,needAbstract:1,isOnlineSync:0,needSignaling:1},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",from:"From_Account",to:"To_Account",time:"MsgTimeStamp",sequence:"MsgSeq",random:"MsgRandom",elements:"MsgBody"},response:{MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",ClientSeq:"clientSequence",MsgSeq:"sequence",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",ToGroupId:"to",MsgKey:"messageKey",GroupTips:"groupTips",MsgBody:"elements",MsgType:"type",C2CRemainingUnreadCount:"C2CRemainingUnreadList",C2CPairUnreadCount:"C2CPairUnreadList"}}}}(ut)),ft||(this._configMap.set(Kl,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.BIG_DATA_HALLWAY_AUTH_KEY)}),body:{}}}(ut)),this._configMap.set(x_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_MSG_AUDIT_MGR,".").concat(Zt.CMD.GET_RPOFANITY_LIST)}),body:{version:0,deviceID:"",startIndex:void 0},keyMap:{request:{version:"uint64_version",deviceID:"str_device_id",startIndex:"uint64_start_index"},response:{msg_cmd_error_code:"errorInfo",str_err_msg:"errorMessage",uint32_code:"errorCode",msg_scene_ctl_config:"filterConfig",uint64_c2c_custom_msg_flag:"c2c_custom_message",uint64_c2c_text_msg_flag:"c2c_text_message",uint64_group_custom_msg_flag:"group_custom_message",uint64_group_text_msg_flag:"group_text_message",uint64_group_info_flag:"group_profile",uint64_group_member_info_flag:"group_member_profile",uint64_relation_chain_flag:"sns",uint64_user_info_flag:"user_profile",rpt_msg_dirty_word:"lexicon",str_dirty_word:"profanity",str_replaced_content:"replacement",uint64_filter_type:"filterType",uint64_id:"id",uint64_word_type:"profanityType",uint64_complete_flag:"completeFlag",uint64_next_start_index:"nextStartIndex",uint64_version:"version",uint64_expired_time:"expiredTime"}}}}(ut))),this._configMap.set(_r,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SEND_MESSAGE)}),body:{fromAccount:"",toAccount:"",msgSeq:0,msgRandom:0,msgBody:[],cloudCustomData:void 0,nick:"",avatar:"",msgLifeTime:void 0,offlinePushInfo:{pushFlag:0,title:"",desc:"",ext:"",apnsInfo:{badgeMode:0,isVoipPush:void 0},androidInfo:{OPPOChannelID:""}},messageControlInfo:void 0,clientTime:void 0,needReadReceipt:0,isSupportExtension:0},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",count:"MaxCnt",lastMessageTime:"LastMsgTime",messageKey:"MsgKey",peerAccount:"Peer_Account",data:"Data",description:"Desc",extension:"Ext",type:"MsgType",content:"MsgContent",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",nick:"From_AccountNick",avatar:"From_AccountHeadurl",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",elements:"MsgBody",clientSequence:"ClientSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody",needReadReceipt:"IsNeedReadReceipt"}}}}(ut)),this._configMap.set(Nr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEND_GROUP_MESSAGE)}),body:{fromAccount:"",groupID:"",random:0,clientSequence:0,priority:"",msgBody:[],cloudCustomData:void 0,onlineOnlyFlag:0,offlinePushInfo:{pushFlag:0,title:"",desc:"",ext:"",apnsInfo:{badgeMode:0,isVoipPush:void 0},androidInfo:{OPPOChannelID:""}},groupAtInfo:[],messageControlInfo:void 0,clientTime:void 0,needReadReceipt:0,topicID:void 0,receiverList:void 0,isSupportExtension:0},keyMap:{request:{to:"GroupId",extension:"Ext",data:"Data",description:"Desc",random:"Random",sequence:"ReqMsgSeq",count:"ReqMsgNumber",type:"MsgType",priority:"MsgPriority",content:"MsgContent",elements:"MsgBody",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",clientSequence:"ClientSeq",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody",needReadReceipt:"NeedReadReceipt",receiverList:"To_Account"},response:{MsgTime:"time",MsgSeq:"sequence"}}}}(ut)),this._configMap.set(Zp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.REVOKE_C2C_MESSAGE)}),body:{msgInfo:{fromAccount:"",toAccount:"",msgTimeStamp:0,msgSeq:0,msgRandom:0}},keyMap:{request:{msgInfo:"MsgInfo",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom"}}}}(ut)),this._configMap.set(Qp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.REVOKE_GROUP_MESSAGE)}),body:{groupID:"",msgSeqList:void 0,topicID:""},keyMap:{request:{msgSeqList:"MsgSeqList",msgSeq:"MsgSeq"}}}}(ut)),this._configMap.set(mp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_C2C_ROAM_MESSAGES)}),body:{peerAccount:"",count:15,lastMessageTime:0,messageKey:"",withRecalledMessage:1,direction:0},keyMap:{request:{messageKey:"MsgKey",peerAccount:"Peer_Account",count:"MaxCnt",lastMessageTime:"LastMsgTime",withRecalledMessage:"WithRecalledMsg",direction:"GetDirection"},response:{LastMsgTime:"lastMessageTime",IsNeedReadReceipt:"needReadReceipt",IsPeerRead:"readReceiptSentByPeer"}}}}(ut)),this._configMap.set(Pm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.MODIFY_C2C_MESSAGE)}),body:{from:"",to:"",sequence:0,random:0,time:0,version:0,elements:void 0,cloudCustomData:void 0},keyMap:{request:{sequence:"MsgSeq",random:"MsgRandom",time:"MsgTime",version:"MsgVersion",type:"MsgType",content:"MsgContent"}}}}(ut)),this._configMap.set(A_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_ROAM_MESSAGES)}),body:{withRecalledMsg:1,groupID:"",count:15,sequence:"",topicID:void 0},keyMap:{request:{sequence:"ReqMsgSeq",count:"ReqMsgNumber",withRecalledMessage:"WithRecalledMsg"},response:{Random:"random",MsgTime:"time",MsgSeq:"sequence",ReqMsgSeq:"sequence",RspMsgList:"messageList",IsPlaceMsg:"isPlaceMessage",IsSystemMsg:"isSystemMessage",ToGroupId:"to",EnumFrom_AccountType:"fromAccountType",EnumTo_AccountType:"toAccountType",GroupCode:"groupCode",MsgPriority:"priority",MsgBody:"elements",MsgType:"type",MsgContent:"content",IsFinished:"complete",Download_Flag:"downloadFlag",ClientSeq:"clientSequence",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID",ToTopicId:"topicID",InvisibleMsgSeq:"invisibleSequenceList"}}}}(ut)),this._configMap.set(o_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SET_C2C_MESSAGE_READ)}),body:{C2CMsgReaded:void 0},keyMap:{request:{lastMessageTime:"LastedMsgTime"}}}}(ut)),this._configMap.set(_m,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SET_C2C_PEER_MUTE_NOTIFICATIONS)}),body:{userIDList:void 0,muteFlag:0},keyMap:{request:{userIDList:"Peer_Account",muteFlag:"Mute_Notifications"}}}}(ut)),this._configMap.set(ip,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_C2C_PEER_MUTE_NOTIFICATIONS)}),body:{updateSequence:0},keyMap:{response:{MuteNotificationsList:"muteFlagList"}}}}(ut)),this._configMap.set(X_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SET_GROUP_MESSAGE_READ)}),body:{groupID:void 0,messageReadSeq:void 0,topicID:void 0},keyMap:{request:{messageReadSeq:"MsgReadedSeq"}}}}(ut)),this._configMap.set(Tv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SET_ALL_MESSAGE_READ)}),body:{readAllC2CMessage:0,groupMessageReadInfoList:[]},keyMap:{request:{readAllC2CMessage:"C2CReadAllMsg",groupMessageReadInfoList:"GroupReadInfo",messageSequence:"MsgSeq"},response:{C2CReadAllMsg:"readAllC2CMessage",GroupReadInfoArray:"groupMessageReadInfoList"}}}}(ut)),this._configMap.set(ap,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.DELETE_C2C_MESSAGE)}),body:{fromAccount:"",to:"",keyList:void 0},keyMap:{request:{keyList:"MsgKeyList"}}}}(ut)),this._configMap.set(ms,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DELETE_GROUP_MESSAGE)}),body:{groupID:"",deleter:"",keyList:void 0,topicID:void 0},keyMap:{request:{deleter:"Deleter_Account",keyList:"Seqs"}}}}(ut)),this._configMap.set(Em,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_TRANSLATE,".").concat(Zt.CMD.TRANSLATE_TEXT)}),body:{sourceTextList:void 0,SDKAppID:0,from:0,source:"",target:""},keyMap:{request:{sourceTextList:"SourceText",SDKAppID:"SdkAppId",from:"FromAccount"},response:{TargetText:"translatedTextList",RequestId:"requestID",CmdErrorCode:"error",ErrorCode:"code",ErrorInfo:"message"}}}}(ut)),this._configMap.set(Q_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.MODIFY_GROUP_MESSAGE)}),body:{groupID:"",topicID:void 0,sequence:0,version:0,elements:void 0,cloudCustomData:void 0},keyMap:{request:{sequence:"MsgSeq",version:"MsgVersion",type:"MsgType",content:"MsgContent"}}}}(ut)),this._configMap.set(xv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_READ_RECEIPT)}),body:{groupID:"",sequenceList:void 0},keyMap:{request:{sequence:"MsgSeq"}}}}(ut)),this._configMap.set(s_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.SEND_C2C_READ_RECEIPT)}),body:{peerAccount:"",messageInfoList:void 0},keyMap:{request:{peerAccount:"Peer_Account",messageInfoList:"C2CMsgInfo",fromAccount:"From_Account",toAccount:"To_Account",sequence:"MsgSeq",random:"MsgRandom",time:"MsgTime",clientTime:"MsgClientTime"}}}}(ut)),this._configMap.set(wv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEND_READ_RECEIPT)}),body:{groupID:"",sequenceList:void 0},keyMap:{request:{sequenceList:"MsgSeqList",sequence:"MsgSeq"}}}}(ut)),this._configMap.set(Um,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_READ_RECEIPT_DETAIL)}),body:{groupID:"",sequence:void 0,flag:0,cursor:0,count:0},keyMap:{request:{sequence:"MsgSeq",count:"Num"},response:{ReadList:"readUserIDList",Read_Account:"userID",UnreadList:"unreadUserIDList",Unread_Account:"userID",IsFinish:"isCompleted"}}}}(ut)),this._configMap.set(i_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.MODIFY_C2C_MESSAGE_EXTENSIONS)}),body:{from:void 0,to:void 0,messageKey:void 0,operateType:void 0,extensionList:void 0}}}(ut)),this._configMap.set(vm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.GET_C2C_MESSAGE_EXTENSIONS)}),body:{from:void 0,to:void 0,messageKey:void 0,startSequence:void 0}}}(ut)),this._configMap.set(C_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.MODIFY_GROUP_MESSAGE_EXTENSIONS)}),body:{groupID:void 0,topicID:void 0,messageSequence:void 0,operateType:void 0,extensionList:void 0}}}(ut)),this._configMap.set(Rv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM_MSG_EXT,".").concat(Zt.CMD.GET_GROUP_MESSAGE_EXTENSIONS)}),body:{groupID:void 0,topicID:void 0,messageSequence:void 0,startSequence:void 0}}}(ut)),this._configMap.set(Nm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.GET_PEER_READ_TIME)}),body:{userIDList:void 0},keyMap:{request:{userIDList:"To_Account"},response:{ReadTime:"peerReadTimeList"}}}}(ut)),this._configMap.set(dn,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.GET_CONVERSATION_LIST)}),body:{fromAccount:void 0,count:0},keyMap:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq",C2cPeerReadTime:"c2cPeerReadTime"}}}}(ut)),this._configMap.set(Xt,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.PAGING_GET_CONVERSATION_LIST)}),body:{fromAccount:void 0,timeStamp:void 0,startIndex:void 0,pinnedTimeStamp:void 0,pinnedStartIndex:void 0,orderType:void 0,messageAssistFlag:4,assistFlag:15},keyMap:{request:{messageAssistFlag:"MsgAssistFlags",assistFlag:"AssistFlags",pinnedTimeStamp:"TopTimeStamp",pinnedStartIndex:"TopStartIndex"},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq",C2cPeerReadTime:"c2cPeerReadTime",LastMsgFlags:"lastMessageFlag",TopFlags:"isPinned",TopTimeStamp:"pinnedTimeStamp",TopStartIndex:"pinnedStartIndex",GroupId:"convGroupID"}}}}(ut)),this._configMap.set(In,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.DELETE_CONVERSATION)}),body:{fromAccount:"",conversationList:void 0,clearHistoryMessage:void 0},keyMap:{request:{toGroupID:"ToGroupid",clearHistoryMessage:"ClearRamble",conversationList:"ContactItem"},response:{ResultItem:"resultList",ToGroupid:"groupID",ResultCode:"code",ResultInfo:"info"}}}}(ut)),this._configMap.set(Yt,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.CLEAR_HISTORY_MESSAGE)}),body:{fromAccount:"",toAccount:void 0,type:1,toGroupID:void 0},keyMap:{request:{toGroupID:"ToGroupid"}}}}(ut)),this._configMap.set(gn,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.PIN_CONVERSATION)}),body:{fromAccount:"",operationType:1,itemList:void 0},keyMap:{request:{itemList:"RecentContactItem"}}}}(ut)),this._configMap.set(An,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.DELETE_GROUP_AT_TIPS)}),body:{messageListToDelete:void 0},keyMap:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}}}(ut)),this._configMap.set(Dn,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.MARK_CONVERSATION)}),body:{fromAccount:"",itemList:void 0},keyMap:{request:{itemList:"MarkItem",operationType:"OptType",groupID:"ToGroupId"},response:{ToGroupId:"groupID",OptType:"operationType"}}}}(ut)),this._configMap.set(Hn,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.MARK_CONVERSATION)}),body:{fromAccount:"",itemList:void 0},keyMap:{request:{itemList:"MarkItem",operationType:"OptType",groupID:"ToGroupId"},response:{ToGroupId:"groupID",OptType:"operationType"}}}}(ut)),this._configMap.set(zn,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.CREATE_CONVERSATION_GROUP)}),body:{fromAccount:"",itemList:void 0},keyMap:{request:{itemList:"GroupContactItem",groupID:"ToGroupId"},response:{GroupId:"convGroupID",ToGroupId:"groupID",OptType:"operationType"}}}}(ut)),this._configMap.set(Cr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.DELETE_CONVERSATION_GROUP)}),body:{fromAccount:"",groupName:void 0},keyMap:{request:{},response:{GroupId:"convGroupID"}}}}(ut)),this._configMap.set(Lr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.UPDATE_CONVERSATION_GROUP)}),body:{fromAccount:"",updateType:void 0,updateGroup:void 0},keyMap:{request:{oldName:"OldGroupName",newName:"NewGroupName",groupID:"ToGroupId",operationType:"ContactOptType",groupName:"OldGroupName",updateItem:"ContactUpdateItem"},response:{ContactOptType:"operationType",ToGroupId:"groupID",GroupId:"convGroupID"}}}}(ut)),this._configMap.set(ho,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.UPDATE_CONVERSATION_GROUP)}),body:{fromAccount:"",updateType:void 0,updateGroup:{groupName:void 0,updateGroupType:void 0,updateItem:void 0}},keyMap:{request:{},response:{}}}}(ut)),this._configMap.set(Eo,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.UPDATE_CONVERSATION_GROUP)}),body:{fromAccount:"",updateType:void 0,updateGroup:void 0},keyMap:{request:{},response:{}}}}(ut)),this._configMap.set(xo,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.RECENT_CONTACT,".").concat(Zt.CMD.GET_CONVERSATION_GROUP_LIST)}),body:{fromAccount:"",startTime:void 0,startIndex:void 0},keyMap:{request:{},response:{GroupId:"convGroupID",ToGroupId:"groupID",OptType:"operationType",CustomMark:"customData",ContactGroupId:"convGroupIDList"}}}}(ut)),this._configMap.set(Rr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.PROFILE,".").concat(Zt.CMD.PORTRAIT_GET)}),body:{fromAccount:"",userItem:[]},keyMap:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}}}(ut)),this._configMap.set(Co,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.PROFILE,".").concat(Zt.CMD.PORTRAIT_SET)}),body:{fromAccount:"",profileItem:[{tag:Wo.NICK,value:""},{tag:Wo.GENDER,value:""},{tag:Wo.ALLOWTYPE,value:""},{tag:Wo.AVATAR,value:""}]},keyMap:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}}}(ut)),this._configMap.set(_a,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.GET_BLACKLIST)}),body:{fromAccount:"",startIndex:0,maxLimited:30,lastSequence:0},keyMap:{response:{CurruentSequence:"currentSequence"}}}}(ut)),this._configMap.set(_s,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.ADD_BLACKLIST)}),body:{fromAccount:"",toAccount:[]}}}(ut)),this._configMap.set(bu,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.DELETE_BLACKLIST)}),body:{fromAccount:"",toAccount:[]}}}(ut)),this._configMap.set(Cy,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.SET_SELF_STATUS)}),body:{customStatus:""},keyMap:{}}}(ut)),this._configMap.set($p,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.GET_USER_STATUS)}),body:{userIDList:void 0},keyMap:{response:{UserStatusList:"successUserList",ErrorList:"failureUserList",To_Account:"userID",Invalid_Account:"invalidUserID",Status:"statusType"}}}}(ut)),this._configMap.set(k_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.SUBSCRIBE_USER_STATUS)}),body:{userIDList:void 0},keyMap:{response:{ErrorList:"failureUserList",To_Account:"userID",Invalid_Account:"invalidUserID"}}}}(ut)),this._configMap.set(Mm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.UNSUBSCRIBE_USER_STATUS)}),body:{userIDList:void 0,unsubscribeAll:void 0},keyMap:{response:{ErrorList:"failureUserList",To_Account:"userID",Invalid_Account:"invalidUserID"}}}}(ut)),this._configMap.set(bs,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.GET_FRIEND_LIST)}),body:{fromAccount:"",startIndex:0,standardSequence:0,customSequence:0},keyMap:{response:{FriendNum:"friendCount",UserDataItem:"resultList",ValueItem:"tagValueList"}}}}(ut)),this._configMap.set(hp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.ADD_FRIEND)}),body:{fromAccount:"",addFriendItem:[],type:""},keyMap:{request:{source:"AddSource",wording:"AddWording",type:"AddType"},response:{ResultItem:"resultList"}}}}(ut)),this._configMap.set(J_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.UPDATE_FRIEND)}),body:{fromAccount:"",updateItem:void 0},keyMap:{request:{snsItem:"SnsItem"},response:{ResultItem:"resultList"}}}}(ut)),this._configMap.set(wl,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.DELETE_FRIEND)}),body:{fromAccount:"",userIDList:[],type:""},keyMap:{request:{type:"DeleteType"},response:{ResultItem:"resultList"}}}}(ut)),this._configMap.set(hm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.GET_FRIEND_PROFILE)}),body:{fromAccount:"",userIDList:void 0},keyMap:{response:{InfoItem:"resultList",SnsProfileItem:"tagValueList"}}}}(ut)),this._configMap.set(M_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.CHECK_FRIEND)}),body:{fromAccount:"",userIDList:[],type:""},keyMap:{request:{type:"CheckType"},response:{InfoItem:"resultList"}}}}(ut)),this._configMap.set(gm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.GET_FRIEND_APPLICATION_LIST)}),body:{fromAccount:"",applicationType:"",startTime:0,maxLimited:0,lastSequence:0},keyMap:{response:{PendencyItem:"resultList",AddSource:"source",AddTime:"time",AddWording:"wording",Image:"avatar",UnreadPendencyCount:"unreadCount",To_Account:"userID",PendencyType:"type"}}}}(ut)),this._configMap.set(Tp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.RESPOND_FRIEND_APPLICATION)}),body:{fromAccount:"",responseFriendItem:[]},keyMap:{request:{tag:"TagName",action:"ResponseAction"},response:{ResultItem:"resultList"}}}}(ut)),this._configMap.set(gp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.DELETE_FRIEND_APPLICATION)}),body:{fromAccount:"",type:"",userIDList:void 0},keyMap:{request:{type:"PendencyType",userIDList:"To_Account"},response:{ResultItem:"resultList"}}}}(ut)),this._configMap.set(Ls,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.REPORT_FRIEND_APPLICATION)}),body:{fromAccount:"",latestTimeStamp:""},keyMap:{request:{latestTimeStamp:"LatestPendencyTimeStamp"}}}}(ut)),this._configMap.set(r_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.CREATE_FRIEND_GROUP)}),body:{fromAccount:"",groupName:void 0,userIDList:void 0},keyMap:{request:{groupName:"GroupName",userIDList:"To_Account"},response:{ResultItem:"resultList"}}}}(ut)),this._configMap.set(mm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.DELETE_FRIEND_GROUP)}),body:{fromAccount:"",nameList:void 0},keyMap:{request:{nameList:"GroupName"}}}}(ut)),this._configMap.set(E_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.GET_FRIEND_GROUP_LIST)}),body:{fromAccount:"",lastSequence:0,needFriend:"Need_Friend_Type_Yes"},keyMap:{response:{ResultItem:"resultList",GroupName:"name",FriendNumber:"friendCount",To_Account:"userIDList"}}}}(ut)),this._configMap.set(Lm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.FRIEND,".").concat(Zt.CMD.UPDATE_FRIEND_GROUP)}),body:{fromAccount:"",oldName:"",newName:void 0,updateGroupItem:void 0},keyMap:{request:{oldName:"GroupOldName",newName:"GroupNewName"},response:{UpdateType:"type",ResultItem:"resultList"}}}}(ut)),this._configMap.set(ro,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_JOINED_GROUPS)}),body:{memberAccount:"",limit:void 0,offset:void 0,groupType:void 0,responseFilter:{groupBaseInfoFilter:void 0,selfInfoFilter:void 0},isSupportTopic:0},keyMap:{request:{memberAccount:"Member_Account"},response:{GroupIdList:"groups",NoUnreadSeqList:"excludedUnreadSequenceList",MsgSeq:"readedSequence",LastRecallTime:"_lastRevokedTime"}}}}(ut)),this._configMap.set(Qr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_INFO)}),body:{groupIDList:void 0,responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq","ShutUpAllMember"],groupCustomFieldFilter:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0}},keyMap:{request:{groupIDList:"GroupIdList",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",groupCustomFieldFilter:"AppDefinedDataFilter_Group",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{GroupIdList:"groups",AppDefinedData:"groupCustomField",AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_Group:"groupCustomFieldFilter",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",InfoSeq:"infoSequence",MemberList:"members",GroupInfo:"groups",ShutUpUntil:"muteUntil",ShutUpAllMember:"muteAllMembers"}}}}(ut)),this._configMap.set(Lo,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.CREATE_GROUP)}),body:{type:void 0,name:void 0,groupID:void 0,ownerID:void 0,introduction:void 0,notification:void 0,maxMemberNum:void 0,joinOption:void 0,memberList:void 0,groupCustomField:void 0,memberCustomField:void 0,webPushFlag:1,avatar:"",isSupportTopic:void 0,inviteOption:void 0},keyMap:{request:{ownerID:"Owner_Account",userID:"Member_Account",avatar:"FaceUrl",maxMemberNum:"MaxMemberCount",joinOption:"ApplyJoinOption",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",inviteOption:"InviteJoinOption"},response:{HugeGroupFlag:"avChatRoomFlag",OverJoinedGroupLimit_Account:"overLimitUserIDList"}}}}(ut)),this._configMap.set(Jo,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DESTROY_GROUP)}),body:{groupID:void 0}}}(ut)),this._configMap.set(vu,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.MODIFY_GROUP_INFO)}),body:{groupID:void 0,name:void 0,introduction:void 0,notification:void 0,avatar:void 0,joinOption:void 0,groupCustomField:void 0,muteAllMembers:void 0,inviteOption:void 0},keyMap:{request:{groupCustomField:"AppDefinedData",muteAllMembers:"ShutUpAllMember",joinOption:"ApplyJoinOption",avatar:"FaceUrl",inviteOption:"InviteJoinOption"},response:{AppDefinedData:"groupCustomField",ShutUpAllMember:"muteAllMembers"}}}}(ut)),this._configMap.set(fu,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.APPLY_JOIN_GROUP)}),body:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0,webPushFlag:1,historyMessageFlag:void 0},keyMap:{request:{applyMessage:"ApplyMsg",historyMessageFlag:"HugeGroupHistoryMsgFlag"},response:{HugeGroupFlag:"avChatRoomFlag",AVChatRoomKey:"avChatRoomKey",RspMsgList:"messageList",ToGroupId:"to"}}}}(ut)),this._configMap.set(Is,function(gt){return gt.a2,gt.tinyid,{head:rt(rt({},Rt(gt,Ol)),{},{servcmd:"".concat(Zt.NAME.BIG_GROUP_NO_AUTH,".").concat(Zt.CMD.APPLY_JOIN_GROUP)}),body:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0,webPushFlag:1},keyMap:{request:{applyMessage:"ApplyMsg"},response:{HugeGroupFlag:"avChatRoomFlag"}}}}(ut)),this._configMap.set(Ml,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.QUIT_GROUP)}),body:{groupID:void 0}}}(ut)),this._configMap.set(sp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SEARCH_GROUP_BY_ID)}),body:{groupIDList:void 0,responseFilter:{groupBasePublicInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption","InviteJoinOption"]}},keyMap:{response:{}}}}(ut)),this._configMap.set(Gl,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.CHANGE_GROUP_OWNER)}),body:{groupID:void 0,newOwnerID:void 0},keyMap:{request:{newOwnerID:"NewOwner_Account"}}}}(ut)),this._configMap.set(cp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.HANDLE_APPLY_JOIN_GROUP)}),body:{groupID:void 0,applicant:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMap:{request:{applicant:"Applicant_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"}}}}(ut)),this._configMap.set(Pp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.HANDLE_INVITE_JOIN_GROUP)}),body:{groupID:void 0,applicant:void 0,invitee:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,userDefinedField:void 0},keyMap:{request:{applicant:"Applicant_Account",invitee:"Invited_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg"}}}}(ut)),this._configMap.set(a_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.HANDLE_GROUP_INVITATION)}),body:{groupID:void 0,inviter:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMap:{request:{inviter:"Inviter_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"}}}}(ut)),this._configMap.set(Z_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_APPLICATION)}),body:{startTime:void 0,limit:void 0,handleAccount:void 0},keyMap:{request:{handleAccount:"Handle_Account"},response:{To_Account:"userID"}}}}(ut)),this._configMap.set(Gn,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.DELETE_GROUP_SYSTEM_MESSAGE)}),body:{messageListToDelete:void 0},keyMap:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}}}(ut)),this._configMap.set(ym,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.BIG_GROUP_LONG_POLLING,".").concat(Zt.CMD.AVCHATROOM_LONG_POLL)}),body:{USP:1,startSeq:1,startBroadcastSeq:void 0,holdTime:90,key:void 0,simplifiedMessage:void 0},keyMap:{request:{USP:"USP"},response:{ToGroupId:"groupID",RspBroadcastMsgList:"broadcastMessageList",IsSystemMsg:"isSystemMessage"}}}}(ut)),this._configMap.set(c_,function(gt){return gt.a2,gt.tinyid,{head:rt(rt({},Rt(gt,y0)),{},{servcmd:"".concat(Zt.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH,".").concat(Zt.CMD.AVCHATROOM_LONG_POLL)}),body:{USP:1,startSeq:1,holdTime:90,key:void 0,simplifiedMessage:void 0},keyMap:{request:{USP:"USP"},response:{ToGroupId:"groupID",RspBroadcastMsgList:"broadcastMessageList",IsSystemMsg:"isSystemMessage"}}}}(ut)),this._configMap.set(Wl,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_ONLINE_MEMBER_NUM)}),body:{groupID:void 0}}}(ut)),this._configMap.set(Dv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.SET_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key",value:"value"}}}}(ut)),this._configMap.set(b_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.MODIFY_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key",value:"value"}}}}(ut)),this._configMap.set(Up,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DELETE_GROUP_ATTRIBUTES)}),body:{groupID:void 0,groupAttributeList:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]},keyMap:{request:{key:"key"}}}}(ut)),this._configMap.set(_y,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.CLEAR_GROUP_ATTRIBUTES)}),body:{groupID:void 0,mainSequence:void 0,avChatRoomKey:void 0,attributeControl:["RaceConflict"]}}}(ut)),this._configMap.set(vy,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_ATTR,".").concat(Zt.CMD.GET_GROUP_ATTRIBUTES)}),body:{groupID:void 0,avChatRoomKey:void 0,groupType:1},keyMap:{request:{avChatRoomKey:"Key",groupType:"GroupType"}}}}(ut)),this._configMap.set(Ov,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_NOTIFY)}),body:{notifyType:1,groupID:"",beginTime:0,endTime:0,limit:20},keyMap:{request:{},response:{NextMsgTime:"nextRevokedTime",NotifyMsgList:"notifyList"}}}}(ut)),this._configMap.set(xp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.UPDATE_GROUP_COUNTER)}),body:{groupID:void 0,counterList:void 0,avChatRoomKey:void 0,mode:void 0},keyMap:{request:{counterList:"GroupCounter"}}}}(ut)),this._configMap.set(Lv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_COUNTER)}),body:{groupID:void 0,keyList:[],avChatRoomKey:void 0},keyMap:{request:{keyList:"GroupCounterKeys"}}}}(ut)),this._configMap.set(Gu,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.CREATE_TOPIC)}),body:{groupID:void 0,topicName:void 0,avatar:void 0,customData:void 0,topicID:void 0,notification:void 0,introduction:void 0},keyMap:{request:{avatar:"FaceUrl"}}}}(ut)),this._configMap.set(Gp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.DELETE_TOPIC)}),body:{groupID:void 0,topicIDList:void 0},keyMap:{request:{topicIDList:"TopicIdList"},response:{DestroyResultItem:"resultList"}}}}(ut)),this._configMap.set(l_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.UPDATE_TOPIC_PROFILE)}),body:{groupID:void 0,topicID:void 0,avatar:void 0,customData:void 0,notification:void 0,introduction:void 0,muteAllMembers:void 0,topicName:void 0},keyMap:{request:{avatar:"FaceUrl",muteAllMembers:"ShutUpAllMember"}}}}(ut)),this._configMap.set(Fm,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(Zt.CMD.GET_TOPIC_LIST)}),body:{groupID:void 0,topicIDList:void 0,MemberInfoFilter:["NoUnreadSeqList"]},keyMap:{request:{topicIDList:"TopicIdList"},response:{TopicAndSelfInfo:"topicInfoList",TopicInfo:"topic",GroupID:"groupID",ShutUpTime:"muteTime",ShutUpAllFlag:"muteAllMembers",LastMsgTime:"lastMessageTime",MsgSeq:"readedSequence",LastMsgSeq:"sequence",NoUnreadSeqList:"excludedUnreadSequenceList"}}}}(ut)),this._configMap.set(yy,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_MEMBER_LIST)}),body:{groupID:void 0,limit:0,offset:void 0,next:void 0,memberRoleFilter:void 0,memberInfoFilter:["Role","NameCard","ShutUpUntil","JoinTime"],memberCustomFieldFilter:void 0},keyMap:{request:{memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",MemberList:"members",ShutUpUntil:"muteUntil"}}}}(ut)),this._configMap.set(Nv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_AVCHATROOM,".").concat(Zt.CMD.GET_AVCHATROOM_MEMBER_LIST)}),body:{groupID:void 0,offset:void 0,filter:void 0},keyMap:{request:{offset:"Timestamp",filter:"Mark"},response:{NextTimestamp:"offset"}}}}(ut)),this._configMap.set(My,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.GET_GROUP_MEMBER_INFO)}),body:{groupID:void 0,userIDList:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0},keyMap:{request:{userIDList:"Member_List_Account",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember"},response:{MemberList:"members",ShutUpUntil:"muteUntil",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",AppMemberDefinedData:"memberCustomField"}}}}(ut)),this._configMap.set(Ey,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.ADD_GROUP_MEMBER)}),body:{groupID:void 0,silence:void 0,userIDList:void 0},keyMap:{request:{userID:"Member_Account",userIDList:"MemberList"},response:{MemberList:"members"}}}}(ut)),this._configMap.set(wp,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.DELETE_GROUP_MEMBER)}),body:{groupID:void 0,userIDList:void 0,reason:void 0},keyMap:{request:{userIDList:"MemberToDel_Account"}}}}(ut)),this._configMap.set(Pv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.BAN_AVCHATROOM_MEMBER)}),body:{groupID:void 0,userIDList:void 0,duration:void 0,reason:""},keyMap:{request:{userIDList:"Members_Account",duration:"Duration",reason:"Description"}}}}(ut)),this._configMap.set(Uv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP,".").concat(Zt.CMD.MODIFY_GROUP_MEMBER_INFO)}),body:{groupID:void 0,topicID:void 0,userID:void 0,messageRemindType:void 0,nameCard:void 0,role:void 0,memberCustomField:void 0,muteTime:void 0},keyMap:{request:{userID:"Member_Account",memberCustomField:"AppMemberDefinedData",muteTime:"ShutUpTime",messageRemindType:"MsgFlag"}}}}(ut)),this._configMap.set(Gv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.GROUP_AVCHATROOM,".").concat(Zt.CMD.MARK_AVCHATROOM_MEMBER_INFO)}),body:{groupID:void 0,operationType:1,memberList:[]},keyMap:{request:{operationType:"CommandType",memberList:"MemberList",markType:"Marks",userID:"Member_Account"},response:{CommandType:"operationType",Marks:"markType",Member_Account:"userID"}}}}(ut)),this._configMap.set(S_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STAT,".").concat(Zt.CMD.TIM_WEB_REPORT_V2)}),body:{header:{},event:[],quality:[]},keyMap:{request:{SDKType:"sdk_type",SDKVersion:"sdk_version",deviceType:"device_type",platform:"platform",instanceID:"instance_id",traceID:"trace_id",SDKAppID:"sdk_app_id",userID:"user_id",tinyID:"tiny_id",extension:"extension",timestamp:"timestamp",networkType:"network_type",eventType:"event_type",code:"error_code",message:"error_message",moreMessage:"more_message",duplicate:"duplicate",costTime:"cost_time",level:"level",qualityType:"quality_type",reportIndex:"report_index",wholePeriod:"whole_period",totalCount:"total_count",rttCount:"success_count_business",successRateOfRequest:"percent_business",countLessThan1Second:"success_count_business",percentOfCountLessThan1Second:"percent_business",countLessThan3Second:"success_count_platform",percentOfCountLessThan3Second:"percent_platform",successCountOfBusiness:"success_count_business",successRateOfBusiness:"percent_business",successCountOfPlatform:"success_count_platform",successRateOfPlatform:"percent_platform",successCountOfMessageReceived:"success_count_business",successRateOfMessageReceived:"percent_business",avgRTT:"average_value",avgDelay:"average_value",avgValue:"average_value",uiPlatform:"ui_platform"}}}}(at)),this._configMap.set(ev,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.HEARTBEAT,".").concat(Zt.CMD.ALIVE)}),body:{}}}(ut)),this._configMap.set(_p,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_PUSH,".").concat(Zt.CMD.MESSAGE_PUSH)}),body:{},keyMap:{response:{C2cMsgArray:"C2CMessageArray",GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",C2cNotifyMsgArray:"C2CNotifyMessageArray",C2cMsgInfo:"C2CReadReceiptArray",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension",IsSyncMsg:"isSyncMessage",Flag:"needSync",NeedAck:"needAck",PendencyAdd_Account:"userID",ProfileImNick:"nick",PendencyType:"applicationType",C2CReadAllMsg:"readAllC2CMessage",IsNeedReadReceipt:"needReadReceipt",Status:"statusType"}}}}(ut)),this._configMap.set(Ay,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_PUSH,".").concat(Zt.CMD.MULTI_MESSAGE_PUSH)}),body:{},keyMap:{response:{GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension",IsSyncMsg:"isSyncMessage",Flag:"needSync",NeedAck:"needAck",PendencyType:"applicationType"}}}}(ut)),this._configMap.set(tv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.OPEN_IM,".").concat(Zt.CMD.MESSAGE_PUSH_ACK)}),body:{sessionData:void 0},keyMap:{request:{sessionData:"SessionData"}}}}(ut)),this._configMap.set(by,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.STATUS_FORCE_OFFLINE)}),body:{},keyMap:{response:{C2cNotifyMsgArray:"C2CNotifyMessageArray",NoticeSeq:"noticeSequence",KickoutMsgNotify:"kickoutMsgNotify",NewInstInfo:"newInstanceInfo"}}}}(ut)),this._configMap.set(nv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_LONG_MESSAGE,".").concat(Zt.CMD.DOWNLOAD_MERGER_MESSAGE)}),body:{downloadKey:""},keyMap:{response:{Data:"data",Desc:"description",Ext:"extension",Download_Flag:"downloadFlag",ThumbUUID:"thumbUUID",VideoUUID:"videoUUID"}}}}(ut)),this._configMap.set(yr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_LONG_MESSAGE,".").concat(Zt.CMD.UPLOAD_MERGER_MESSAGE)}),body:{messageList:[]},keyMap:{request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",type:"MsgType",content:"MsgContent",data:"Data",description:"Desc",extension:"Ext",sizeType:"Type",uuid:"UUID",url:"",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",from:"From_Account",time:"MsgTimeStamp",messageRandom:"MsgRandom",messageSequence:"MsgSeq",elements:"MsgBody",clientSequence:"ClientSeq",payload:"MsgContent",messageList:"MsgList",messageNumber:"MsgNum",abstractList:"AbstractList",messageBody:"MsgBody"}}}}(ut)),this._configMap.set(T_,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.SET_TOKEN)}),body:{tokenID:"",pushMsg:0,sdkAppID:0,businessID:"",deviceBrand:"",deviceToken:"",isTpns:0,isWebUniapp:0},keyMap:{request:{tokenID:"TokenID",pushMsg:"PushMsg",sdkAppID:"EnterVersion",businessID:"BusiID",deviceBrand:"InstType",deviceToken:"VarToken",isTpns:"IsTpns"}}}}(ut)),this._configMap.set(rv,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.STAT_FOREGROUND)}),body:{isWebUniapp:0}}}(ut)),this._configMap.set(xr,function(gt){return{head:rt(rt({},gt),{},{servcmd:"".concat(Zt.NAME.IM_OPEN_STATUS,".").concat(Zt.CMD.STAT_BACKGROUND)}),body:{C2CUnread:0,GroupUnread:0,isWebUniapp:0},keyMap:{request:{c2cUnreadCount:"C2cUnread",groupUnreadCount:"GrpUnread"}}}}(ut))}},{key:"has",value:function(ut){return this._configMap.has(ut)}},{key:"get",value:function(ut){return this._configMap.get(ut)}},{key:"update",value:function(){this._fillConfigMap()}},{key:"getKeyMap",value:function(ut){return this.has(ut)?this.get(ut).keyMap||{}:(sn.w("".concat(this._n,".getKeyMap unknown protocolName:").concat(ut)),{})}},{key:"getProtocolData",value:function(ut){var _t=ut.protocolName,at=ut.requestData,ft=this.get(_t),gt=null;if(at){var Ct=this._simpleDeepCopy(ft),St=this._updateService(at,Ct),Dt=St.body,Lt=Object.create(null);for(var jt in Dt)if(Object.prototype.hasOwnProperty.call(Dt,jt)){if(Lt[jt]=Dt[jt],at[jt]===void 0)continue;Lt[jt]=at[jt]}St.body=Lt,gt=this._getUplinkData(St)}else gt=this._getUplinkData(ft);return gt}},{key:"_getUplinkData",value:function(ut){var _t=this._requestDataCleaner(ut),at=Tl(_t.head),ft=zy(_t.body,this._getRequestKeyMap(at));return _t.body=ft,_t}},{key:"_updateService",value:function(ut,_t){var at=Tl(_t.head);if(this._isFromGroupRequest(_t)){var ft=ut.type,gt=ut.groupID,Ct=gt===void 0?void 0:gt,St=ut.groupIDList,Dt=St===void 0?[]:St;fr(Ct)&&(Ct=Dt[0]||""),eu({type:ft,groupID:Ct})&&(_t.head.servcmd="".concat(Zt.NAME.GROUP_COMMUNITY,".").concat(at))}return _t}},{key:"_isFromGroupRequest",value:function(ut){return ut.head.servcmd.includes(Zt.NAME.GROUP)||ut.head.servcmd.includes(Zt.NAME.GROUP_ATTR)}},{key:"_getRequestKeyMap",value:function(ut){var _t=this.getKeyMap(ut);return rt(rt({},j_.request),_t.request)}},{key:"_requestDataCleaner",value:function(ut){var _t=Array.isArray(ut)?[]:Object.create(null);for(var at in ut)Object.prototype.hasOwnProperty.call(ut,at)&&Il(at)&&ut[at]!==null&&ut[at]!==void 0&&(ot(ut[at])!=="object"?_t[at]=ut[at]:_t[at]=this._requestDataCleaner.bind(this)(ut[at]));return _t}},{key:"_simpleDeepCopy",value:function(ut){for(var _t,at=Object.keys(ut),ft={},gt=0,Ct=at.length;gt<Ct;gt++)_t=at[gt],Zr(ut[_t])?ft[_t]=Array.from(ut[_t]):Ru(ut[_t])?ft[_t]=this._simpleDeepCopy(ut[_t]):ft[_t]=ut[_t];return ft}}]),Nt}(),Mv=[tv],M0=function(){function Nt(ut){it(this,Nt),this._sessionModule=ut,this._n="DownlinkHandler",this._eventHandlerMap=new Map,this._eventHandlerMap.set("C2CMessageArray",this._c2cMessageArrayHandler.bind(this)),this._eventHandlerMap.set("groupMessageArray",this._groupMessageArrayHandler.bind(this)),this._eventHandlerMap.set("groupTips",this._groupTipsHandler.bind(this)),this._eventHandlerMap.set("C2CNotifyMessageArray",this._C2CNotifyMessageArrayHandler.bind(this)),this._eventHandlerMap.set("C2CReadReceiptArray",this._C2CReadReceiptArrayHandler.bind(this)),this._eventHandlerMap.set("profileModify",this._profileHandler.bind(this)),this._eventHandlerMap.set("friendListMod",this._relationChainHandler.bind(this)),this._eventHandlerMap.set("recentContactMod",this._recentContactHandler.bind(this)),this._eventHandlerMap.set("readAllC2CMessage",this._allMessageReadHandler.bind(this)),this._eventHandlerMap.set("c2cMessageModified",this._c2cMessageModifiedHandler.bind(this)),this._eventHandlerMap.set("groupMessageModified",this._groupMessageModifiedHandler.bind(this)),this._eventHandlerMap.set("userStatusList",this._userStatusListHandler.bind(this)),this._eventHandlerMap.set("messageExtensionNotify",this._messageExtensionNotifyHandler.bind(this)),this._keys=Ht(this._eventHandlerMap.keys())}return lt(Nt,[{key:"_c2cMessageArrayHandler",value:function(ut){var _t=this._sessionModule.getModule(To);_t&&(ut.dataList.forEach(function(at){if(at.isSyncMessage===1){var ft=at.from;at.from=at.to,at.to=ft}}),ut.needSync===1&&this._sessionModule.getModule(t_).startOnlineSync(),_t.onNewC2CMessage({dataList:ut.dataList,isInstantMessage:!0}))}},{key:"_c2cMessageModifiedHandler",value:function(ut){var _t=this._sessionModule.getModule(To);_t&&_t.onC2CMessageModified(ut)}},{key:"_groupMessageArrayHandler",value:function(ut){var _t=this._sessionModule.getModule(vo);_t&&_t.onNewGroupMessage({event:ut.event,dataList:ut.dataList,isInstantMessage:!0})}},{key:"_groupMessageModifiedHandler",value:function(ut){var _t=this._sessionModule.getModule(vo);_t&&_t.onGroupMessageModified(ut)}},{key:"_groupTipsHandler",value:function(ut){var _t=this._sessionModule.getModule(vo);if(_t){var at=ut.event,ft=ut.dataList,gt=ut.isInstantMessage,Ct=gt===void 0||gt,St=ut.isSyncingEnded;switch(at){case 4:case 6:_t.onNewGroupTips({event:at,dataList:ft});break;case 5:for(var Dt=0;Dt<ft.length;Dt++)if(Zr(ft[Dt].elements.revokedInfos))_t.onGroupMessageRevoked({dataList:ft});else if(Zr(ft[Dt].elements.groupMessageReadNotice))_t.onGroupMessageReadNotice({dataList:ft});else{if(!Zr(ft[Dt].elements.readReceiptList)){_t.onNewGroupSystemNotice({dataList:ft,isInstantMessage:Ct,isSyncingEnded:St});break}_t.onReadReceiptList({dataList:ft})}break;case 12:this._sessionModule.getModule(no).onNewGroupAtTips({dataList:ft});break;default:sn.l("".concat(this._n,"._groupTipsHandler unknown event:").concat(at," dataList:"),ft)}}}},{key:"_C2CNotifyMessageArrayHandler",value:function(ut){var _t=this,at=ut.dataList;if(Zr(at)){var ft=this._sessionModule.getModule(To);at.forEach(function(gt){if(ns(gt))if(gt.hasOwnProperty("kickoutMsgNotify")){var Ct=gt.kickoutMsgNotify,St=Ct.kickType,Dt=Ct.newInstanceInfo,Lt=Dt===void 0?{}:Dt;St===1?_t._sessionModule.onMultipleAccountKickedOut(Lt):St===2?_t._sessionModule.onMultipleDeviceKickedOut(Lt):St===3&&_t._sessionModule.onRestApiKickedOut(Lt)}else gt.hasOwnProperty("c2cMessageRevokedNotify")?ft&&ft.onC2CMessageRevoked({dataList:at}):gt.hasOwnProperty("c2cMessageReadReceipt")?ft&&ft.onC2CMessageReadReceipt({dataList:at}):gt.hasOwnProperty("c2cMessageReadNotice")?ft&&ft.onC2CMessageReadNotice({dataList:at}):gt.hasOwnProperty("muteNotificationsSync")&&_t._sessionModule.getModule(no).onC2CMessageRemindTypeSynced({dataList:at})})}}},{key:"_C2CReadReceiptArrayHandler",value:function(ut){this._sessionModule.getModule(To).onReadReceiptList(ut)}},{key:"_profileHandler",value:function(ut){this._sessionModule.getModule(qr).onProfileModified({dataList:ut.dataList});var _t=this._sessionModule.getModule(Fs);_t&&_t.onFriendProfileModified({dataList:ut.dataList})}},{key:"_relationChainHandler",value:function(ut){this._sessionModule.getModule(qr).onRelationChainModified({dataList:ut.dataList});var _t=this._sessionModule.getModule(Fs);_t&&_t.onRelationChainModified({dataList:ut.dataList})}},{key:"_recentContactHandler",value:function(ut){var _t=ut.dataList;if(Zr(_t)){var at=this._sessionModule.getModule(no);at&&_t.forEach(function(ft){var gt=ft.pushType;if(gt===1){var Ct=ft.recentContactDeleteItem;at.onConversationDeleted(Ct.recentContactList)}else if(gt===2){var St=ft.recentContactTopItem;at.onConversationPinned(St.recentContactList)}else if(gt===3){var Dt=ft.recentContactTopItem;at.onConversationUnpinned(Dt.recentContactList)}else if(gt===4){var Lt=ft.recentContactMarkContact;at.onConversationMarkUpdated(Lt.recentContactMarkContactItem)}else if(gt===5){var jt=ft.recentContactCreateContactGroup;at.onConversationGroupCreated(jt.msgContactGroupContactItem)}else if(gt===6){var Kt=ft.recentContactDelContactGroup;at.onConversationGroupDeleted(Kt.msgGroupItem)}else if(gt===7){var Jt=ft.recentContactUpdateContactGroup,cn=Jt.updateType,bn=Jt.msgUpdateGroup,On=Jt.msgUpdateContact;if(cn===1){var Fn=bn.updateGroupType;Fn===1?at.onConversationGroupNameUpdated(bn):Fn===2&&at.onConversationInGroupUpdated(bn)}else cn===2&&at.onConversationAddedToOrDeletedFromGroup(On)}})}}},{key:"_allMessageReadHandler",value:function(ut){var _t=ut.dataList,at=this._sessionModule.getModule(no);at&&at.onPushedAllMessageRead(_t)}},{key:"_userStatusListHandler",value:function(ut){this._sessionModule.getModule(qr).onUserStatusUpdated(ut)}},{key:"_messageExtensionNotifyHandler",value:function(ut){this._sessionModule.getModule(ys).onMessageExtensionNotify(ut)}},{key:"onMessage",value:function(ut){var _t=this,at=ut.body;if(this._filterMessageFromIMOpenPush(ut)){var ft=at.eventArray,gt=at.isInstantMessage,Ct=at.isSyncingEnded,St=at.needSync;if(Zr(ft))for(var Dt=null,Lt=null,jt=0,Kt=0,Jt=ft.length;Kt<Jt;Kt++){jt=(Dt=ft[Kt]).event;var cn=Object.keys(Dt).find(function(bn){return _t._keys.indexOf(bn)!==-1});cn?(Lt=jt===14?{readAllC2CMessage:Dt[cn],groupMessageReadInfoList:Dt.groupMessageReadNotice||[]}:jt===16?{userID:Dt.userID,readReceiptList:Dt[cn]}:Dt[cn],this._eventHandlerMap.get(cn)({event:jt,dataList:Lt,isInstantMessage:gt,isSyncingEnded:Ct,needSync:St})):sn.l("".concat(this._n,".onMessage unknown eventItem:").concat(Dt))}}}},{key:"_filterMessageFromIMOpenPush",value:function(ut){var _t=ut.head,at=ut.body,ft=_t.servcmd,gt=!1;if(fr(ft)||(gt=ft.includes(Zt.NAME.IM_CONFIG_MANAGER)||ft.includes(Zt.NAME.OVERLOAD_PUSH)||ft.includes(Zt.NAME.STAT_SERVICE)),!gt)return!0;if(ft.includes(Zt.CMD.PUSHED_CLOUD_CONTROL_CONFIG))this._sessionModule.getModule(zl).onPushedCloudControlConfig(at);else if(ft.includes(Zt.CMD.PUSHED_COMMERCIAL_CONFIG))this._sessionModule.getModule(xl).onPushedConfig(at);else if(ft.includes(Zt.CMD.OVERLOAD_NOTIFY))this._sessionModule.onPushedServerOverload(at);else if(ft.includes(Zt.CMD.KICK_OTHER)){var Ct=Date.now();this._sessionModule.reLoginOnKickOther();var St=new br("kickOther"),Dt=this._sessionModule.getModule(cs).getLastWsHelloTs(),Lt=Ct-Dt;St.setMessage("last wshello time:".concat(Dt," diff:").concat(Lt,"ms")).setNetworkType(this._sessionModule.getNetworkType()).end()}return!1}}]),Nt}(),Ep=[{cmd:Zt.CMD.GET_GROUP_INFO,interval:1,count:20},{cmd:Zt.CMD.GET_AVCHATROOM_MEMBER_LIST,interval:3,count:1},{cmd:Zt.CMD.GET_GROUP_APPLICATION,interval:1,count:15},{cmd:Zt.CMD.GET_TOPIC_LIST,interval:1,count:10},{cmd:Zt.CMD.SET_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.MODIFY_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.DELETE_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.CLEAR_GROUP_ATTRIBUTES,interval:5,count:10},{cmd:Zt.CMD.GET_GROUP_ATTRIBUTES,interval:5,count:20},{cmd:Zt.CMD.UPDATE_GROUP_COUNTER,interval:5,count:20},{cmd:Zt.CMD.GET_GROUP_COUNTER,interval:5,count:20},{cmd:Zt.CMD.SET_ALL_MESSAGE_READ,interval:1,count:1},{cmd:Zt.CMD.GET_USER_STATUS,interval:5,count:20},{cmd:Zt.CMD.SUBSCRIBE_USER_STATUS,interval:5,count:20},{cmd:Zt.CMD.UNSUBSCRIBE_USER_STATUS,interval:5,count:20}],E0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="SessionModule",ft._platform=ft.getPlatform(),ft._protocolHandler=new js(Bt(ft)),ft._messageDispatcher=new M0(Bt(ft)),ft._commandFrequencyLimitMap=new Map,ft._commandRequestInfoMap=new Map,ft._serverOverloadInfoMap=new Map,ft._init(),ft.getInnerEmitterInstance().on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"_init",value:function(){this._updateCommandFrequencyLimitMap(Ep)}},{key:"_onCloudConfigUpdated",value:function(){var at=this.getCloudConfig("cmd_frequency_limit");fr(at)||(at=JSON.parse(at),this._updateCommandFrequencyLimitMap(at))}},{key:"_updateCommandFrequencyLimitMap",value:function(at){var ft=this;at.forEach(function(gt){ft._commandFrequencyLimitMap.set(gt.cmd,{interval:gt.interval,count:gt.count})})}},{key:"updateProtocolConfig",value:function(){this._protocolHandler.update()}},{key:"request",value:function(at){sn.d("".concat(this._n,".request options:"),at);var ft=at.protocolName,gt=at.tjgID;if(!this._protocolHandler.has(ft))return sn.w("".concat(this._n,".request unknown protocol:").concat(ft)),Xn({code:pr.CANNOT_FIND_PROTOCOL});var Ct=this.getProtocolData(at),St=Ct.head.servcmd;if(this._isFrequencyOverLimit(St))return Xn({code:pr.OVER_FREQUENCY_LIMIT});if(this._isServerOverload(St))return Xn({code:pr.OPEN_SERVICE_OVERLOAD_ERROR});kr(gt)||(Ct.head.tjgID=gt);var Dt=this.getModule(yl);return Mv.includes(ft)?Dt.simplySend(Ct):Dt.send(Ct)}},{key:"getKeyMap",value:function(at){return this._protocolHandler.getKeyMap(at)}},{key:"genCommonHead",value:function(){var at=this.getModule(jo);return{ver:"v4",platform:this._platform,websdkappid:Rn,websdkversion:Kn,a2:at.getA2Key()||void 0,tinyid:at.getTinyID()||void 0,status_instid:at.getStatusInstanceID(),sdkappid:at.getSDKAppID(),contenttype:at.getContentType(),reqtime:0,identifier:at.getA2Key()?void 0:at.getUserID(),usersig:at.getA2Key()?void 0:at.getUserSig(),sdkability:192371,tjgID:""}}},{key:"genCosSpecifiedHead",value:function(){var at=this.getModule(jo);return{ver:"v4",platform:this._platform,websdkappid:Rn,websdkversion:Kn,sdkappid:at.getSDKAppID(),contenttype:at.getContentType(),reqtime:0,identifier:at.getUserID(),usersig:at.getUserSig(),status_instid:at.getStatusInstanceID(),sdkability:192371}}},{key:"genSSOReportHead",value:function(){var at=this.getModule(jo);return{ver:"v4",platform:this._platform,websdkappid:Rn,websdkversion:Kn,sdkappid:at.getSDKAppID(),contenttype:"",reqtime:0,identifier:"",usersig:"",status_instid:at.getStatusInstanceID(),sdkability:192371}}},{key:"getProtocolData",value:function(at){return this._protocolHandler.getProtocolData(at)}},{key:"trans",value:function(at){var ft=at.servcmd,gt=at.data,Ct={head:rt(rt({},this.genCommonHead()),{},{servcmd:ft}),body:gt};return this.getModule(yl).send(Ct)}},{key:"sendComboMessage",value:function(at){var ft=at.servcmd,gt=at.data,Ct={head:rt(rt({},this.genCommonHead()),{},{servcmd:ft}),body:gt};return this.getModule(yl).send(Ct)}},{key:"onErrorCodeNotZero",value:function(at){var ft=at.errorCode;if(ft===pr.HELLO_ANSWER_KICKED_OUT){var gt=at.kickType,Ct=at.newInstanceInfo,St=Ct===void 0?{}:Ct;gt===1?this.onMultipleAccountKickedOut(St):gt===2?this.onMultipleDeviceKickedOut(St):gt===3&&this.onRestApiKickedOut(St)}ft!==pr.MESSAGE_A2KEY_EXPIRED&&ft!==pr.ACCOUNT_A2KEY_EXPIRED||(this._onUserSigExpired(),this.getModule(yl).reConnect())}},{key:"onMessage",value:function(at){var ft=at.body,gt=ft.needAck,Ct=gt===void 0?0:gt,St=ft.sessionData;Ct===1&&this._sendACK(St),this._messageDispatcher.onMessage(at)}},{key:"onReconnected",value:function(){this._reLoginOnReconnected()}},{key:"reLoginOnKickOther",value:function(){sn.l("".concat(this._n,".reLoginOnKickOther")),this._reLogin()}},{key:"_reLoginOnReconnected",value:function(){sn.l("".concat(this._n,"._reLoginOnReconnected")),this._reLogin()}},{key:"_reLogin",value:function(){var at=this;if(this.isLoggedIn()){var ft=0,gt=this.getModule(Os);gt.canIUseOfflinePush()&&(ft=gt.getUniAppPlatform()),this.request({protocolName:Ul,requestData:{isWebUniapp:ft}}).then(function(Ct){var St=Ct.data.instanceID;at.getModule(jo).setStatusInstanceID(St),sn.l("".concat(at._n,"._reLogin ok.")),at.getModule(no).syncConversationList().then(function(){sn.l("".concat(at._n,"._reLogin, sync conversation list ok.")),at.getModule(Dm).start()}),at.getModule(vo).updateLocalMainSequenceOnReconnected();var Dt=at.getModule(gs);Dt.resetGetTopicTime(),Dt.getTopicListOnReconnected()})}}},{key:"onMultipleAccountKickedOut",value:function(at){this.getModule(cs).onMultipleAccountKickedOut(at)}},{key:"onMultipleDeviceKickedOut",value:function(at){this.getModule(cs).onMultipleDeviceKickedOut(at)}},{key:"_onUserSigExpired",value:function(){this.getModule(cs).onUserSigExpired()}},{key:"onRestApiKickedOut",value:function(at){this.getModule(cs).onRestApiKickedOut(at)}},{key:"_sendACK",value:function(at){this.request({protocolName:tv,requestData:{sessionData:at}})}},{key:"_isFrequencyOverLimit",value:function(at){var ft=at.split(".")[1];if(!this._commandFrequencyLimitMap.has(ft))return!1;if(!this._commandRequestInfoMap.has(ft))return this._commandRequestInfoMap.set(ft,{startTime:Date.now(),requestCount:1}),!1;var gt=this._commandFrequencyLimitMap.get(ft),Ct=gt.count,St=gt.interval,Dt=this._commandRequestInfoMap.get(ft),Lt=Dt.startTime,jt=Dt.requestCount;if(Date.now()-Lt>1e3*St)return this._commandRequestInfoMap.set(ft,{startTime:Date.now(),requestCount:1}),!1;jt+=1,this._commandRequestInfoMap.set(ft,{startTime:Lt,requestCount:jt});var Kt=!1;return jt>Ct&&(Kt=!0),Kt}},{key:"_isServerOverload",value:function(at){if(!this._serverOverloadInfoMap.has(at))return!1;var ft=this._serverOverloadInfoMap.get(at),gt=ft.overloadTime,Ct=ft.waitingTime,St=!1;return Date.now()-gt<=1e3*Ct?St=!0:(this._serverOverloadInfoMap.delete(at),St=!1),St}},{key:"onPushedServerOverload",value:function(at){var ft=at.overloadCommand,gt=at.waitingTime;this._serverOverloadInfoMap.set(ft,{overloadTime:Date.now(),waitingTime:gt}),sn.w("".concat(this._n,".onPushedServerOverload waitingTime:").concat(gt,"s"))}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._updateCommandFrequencyLimitMap(Ep),this._commandRequestInfoMap.clear(),this._serverOverloadInfoMap.clear()}}]),_t}(Ys),A0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="MessageLossDetectionModule",ft._maybeLostSequencesMap=new Map,ft._firstRoundRet=[],ft}return lt(_t,[{key:"onMessageMaybeLost",value:function(at,ft,gt){this._maybeLostSequencesMap.has(at)||this._maybeLostSequencesMap.set(at,[]);for(var Ct=this._maybeLostSequencesMap.get(at),St=0;St<gt;St++)Ct.indexOf(ft+St)===-1&&Ct.push(ft+St)}},{key:"detectFirstRound",value:function(at,ft){var gt=this._maybeLostSequencesMap.get(at);if(!kr(gt)&&!kr(ft)){var Ct=gt.filter(function(St){return ft.indexOf(St)===-1});Ct.length===0?sn.i("".concat(this._n,".detectFirstRound no message loss. conversationID:").concat(at)):this._firstRoundRet=this._firstRoundRet.concat(Ct),gt.length=0}}},{key:"detectSecondRound",value:function(at,ft){if(!kr(this._firstRoundRet)&&!kr(ft)){var gt=this._firstRoundRet.filter(function(Dt){return ft.indexOf(Dt)===-1});this._firstRoundRet.length=0;var Ct,St=gt.length;St!==0&&(St<=5?Ct=at+"-"+gt.join("-"):(gt.sort(function(Dt,Lt){return Dt-Lt}),Ct=at+" start:"+gt[0]+" end:"+gt[St-1]+" count:"+St),new br("messageLoss").setMessage(Ct).setNetworkType(this.getNetworkType()).setLevel("warning").end(),sn.i("".concat(this._n,".detectSecondRound message loss detected. conversationID:").concat(at," lostSequences:").concat(gt)))}}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._maybeLostSequencesMap.clear(),this._firstRoundRet.length=0}}]),_t}(Ys),b0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="CloudControlModule",ft._cloudConfig=new Map,ft._expiredTime=0,ft._version=0,ft._isFetching=!1,ft}return lt(_t,[{key:"getCloudConfig",value:function(at){return fr(at)?this._cloudConfig:this._cloudConfig.has(at)?this._cloudConfig.get(at):void 0}},{key:"_canFetchConfig",value:function(){return this.isLoggedIn()&&!this._isFetching&&Date.now()>=this._expiredTime}},{key:"fetchConfig",value:function(){var at=this,ft=this._canFetchConfig();if(sn.l("".concat(this._n,".fetchConfig canFetchConfig:").concat(ft)),ft){var gt=new br("fetchCloudControlConfig"),Ct=this.getModule(jo).getSDKAppID();this._isFetching=!0,this.request({protocolName:I_,requestData:{SDKAppID:Ct,version:this._version}}).then(function(St){at._isFetching=!1,gt.setMessage("version:".concat(at._version," newVersion:").concat(St.data.version," config:").concat(St.data.cloudControlConfig)).setNetworkType(at.getNetworkType()).end(),sn.l("".concat(at._n,".fetchConfig ok")),at._parseCloudControlConfig(St.data)}).catch(function(St){at._isFetching=!1,at.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];gt.setError(St,jt,Kt).end()}),sn.l("".concat(at._n,".fetchConfig failed. error:"),St),at._setExpiredTimeOnResponseError(12e4)})}}},{key:"onPushedCloudControlConfig",value:function(at){sn.l("".concat(this._n,".onPushedCloudControlConfig")),new br("pushedCloudControlConfig").setNetworkType(this.getNetworkType()).setMessage("newVersion:".concat(at.version," config:").concat(at.cloudControlConfig)).end(),this._parseCloudControlConfig(at)}},{key:"onCheckTimer",value:function(at){this._canFetchConfig()&&this.fetchConfig()}},{key:"_parseCloudControlConfig",value:function(at){var ft=this,gt="".concat(this._n,"._parseCloudControlConfig"),Ct=at.errorCode,St=at.errorMessage,Dt=at.cloudControlConfig,Lt=at.version,jt=at.expiredTime;if(Ct===0){if(this._version!==Lt){var Kt=null;try{Kt=JSON.parse(Dt)}catch{this.isPrivateNetWork()||sn.e("".concat(gt," JSON parse error. cloudControlConfig:"),Dt)}Kt&&(this._cloudConfig.clear(),Object.keys(Kt).forEach(function(Jt){ft._cloudConfig.set(Jt,Kt[Jt])}),this._version=Lt,this.emitInnerEvent(vp))}this._expiredTime=Date.now()+1e3*jt}else fr(Ct)?(sn.l("".concat(gt," failed. Invalid message format:"),at),this._setExpiredTimeOnResponseError(36e5)):(sn.e("".concat(gt," errorCode:").concat(Ct," errorMessage:").concat(St)),this._setExpiredTimeOnResponseError(12e4))}},{key:"_setExpiredTimeOnResponseError",value:function(at){this._expiredTime=Date.now()+at}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._cloudConfig.clear(),this._expiredTime=0,this._version=0,this._isFetching=!1}}]),_t}(Ys),im=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="RecoverMessageModule",ft.PULL_LIMIT_COUNT=15,ft}return lt(_t,[{key:"start",value:function(){this._recoverGroupChat(),this._recoverC2CChat()}},{key:"_recoverGroupChat",value:function(){var at,ft,gt=this,Ct=this._getLocalConversationList().filter(function(Kt){return Kt.type===Ut.CONV_GROUP&&Kt.groupProfile.type!==Ut.GRP_AVCHATROOM}),St=this.getModule(no),Dt=0,Lt=0,jt=0;Ct.forEach(function(Kt){var Jt=Kt.conversationID,cn=Kt.lastMessage;ft=Jt.replace(Ut.CONV_GROUP,""),at=St.getLocalLastMessage(Jt),cn&&cn.lastSequence!==0&&at?(Lt=cn.lastSequence,Dt=at.sequence,jt=Lt-Dt,Dt>0&&jt>=1&&jt<300?gt._recoverGroupMessage({groupID:ft,localLastMessageSequence:Dt,remoteLastMessageSequence:Lt}):gt._getGroupNotify(ft)):gt._getGroupNotify(ft)})}},{key:"_recoverC2CChat",value:function(){var at,ft=this,gt=this._getLocalConversationList().filter(function(Kt){return Kt.type===Ut.CONV_C2C}),Ct=this.getModule(no),St=0,Dt=0,Lt=0,jt=[Promise.resolve()];gt.forEach(function(Kt){var Jt=Kt.conversationID,cn=Kt.lastMessage;at=Ct.getLocalLastMessage(Jt),cn&&cn.lastTime!==0&&at&&(Dt=cn.lastTime,St=at.time,Lt=Dt-St,St>0&&Lt>=1&&Lt<=600&&jt.push(ft._recoverC2CMessage({conversationID:Jt,localLastMessageTime:St,remoteLastMessageTime:Dt})))}),Promise.all(jt).then(function(){sn.l("".concat(ft._n,"._recoverC2CChat all promise fulfilled, start to sync unread messages")),ft.getModule(t_).startSyncOnReconnected()})}},{key:"_getLocalConversationList",value:function(){return this.getModule(no).getLocalConversationList()}},{key:"_recoverGroupMessage",value:function(at){var ft=this,gt="".concat(this._n,"._recoverGroupMessage");sn.l("".concat(gt," options:"),at);var Ct=at.groupID,St=at.localLastMessageSequence,Dt=at.remoteLastMessageSequence;this._getGroupRomaingMessage({groupID:Ct,sequence:St}).then(function(Lt){var jt=Lt.data,Kt=jt.complete,Jt=jt.messageList;if(!fr(Jt)){var cn=Jt[0].sequence;sn.l("".concat(gt," pkgLastMessageSequence:").concat(cn," complete:").concat(Kt)),cn<Dt&&Kt!==2&&ft._recoverGroupMessage({groupID:Ct,localLastMessageSequence:cn,remoteLastMessageSequence:Dt}),new br("recoverMessage").setNetworkType(ft.getNetworkType()).setMessage("groupID:".concat(Ct," complete:").concat(Kt," messageList length:").concat(Jt.length)).end();var bn=ft.getModule(vo);Jt.length>1&&Jt.sort(function(Wn,er){return Wn.sequence-er.sequence});for(var On=0;On<Jt.length;On++){var Fn=Jt[On];Fn.from!==Ut.CONV_SYSTEM?bn.onNewGroupMessage({dataList:[Fn],isInstantMessage:!1,updateUnreadCount:!1}):bn.onNewGroupTips({event:Fn.event,dataList:[Fn]})}ft._getGroupNotify(Ct)}})}},{key:"_getGroupNotify",value:function(at){this.getModule(vo).getGroupNotify(at)}},{key:"_getGroupRomaingMessage",value:function(at){var ft=at.groupID,gt=at.sequence;return this.request({protocolName:A_,requestData:{groupID:ft,count:this.PULL_LIMIT_COUNT,sequence:gt+this.PULL_LIMIT_COUNT-1}})}},{key:"_recoverC2CMessage",value:function(at){var ft=this,gt="".concat(this._n,"._recoverC2CMessage");sn.l("".concat(this._n,"._recoverC2CMessage options:"),at);var Ct=at.conversationID,St=at.localLastMessageTime,Dt=at.remoteLastMessageTime;return this._getC2CRoamingMessage({conversationID:Ct,time:St}).then(function(Lt){var jt=Lt.data,Kt=jt.complete,Jt=jt.messageList;if(!fr(Jt)){var cn=Jt.length;new br("recoverMessage").setNetworkType(ft.getNetworkType()).setMessage("".concat(Ct," complete:").concat(Kt," messageList length:").concat(cn)).end(),ft.getModule(To).onNewC2CMessage({dataList:Jt,isInstantMessage:!0});var bn=Jt[cn-1].time;if(sn.l("".concat(gt," pkgLastMessageTime:").concat(bn," complete:").concat(Kt)),bn<Dt&&Kt!==1)return ft._recoverC2CMessage({conversationID:Ct,localLastMessageTime:bn,remoteLastMessageTime:Dt})}})}},{key:"_getC2CRoamingMessage",value:function(at){var ft=at.conversationID,gt=at.time;return this.request({protocolName:mp,requestData:{peerAccount:ft.replace(Ut.CONV_C2C,""),count:this.PULL_LIMIT_COUNT+1,lastMessageTime:gt,direction:1}})}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset"))}}]),_t}(Ys),$l=function(){function Nt(){it(this,Nt),this._n="AvgE2EDelay",this._e2eDelayArray=[]}return lt(Nt,[{key:"addMessageDelay",value:function(ut){var _t=Gs()-ut;_t>=0&&this._e2eDelayArray.push(_t)}},{key:"_calcAvg",value:function(ut,_t){if(_t===0)return 0;var at=0;return ut.forEach(function(ft){at+=ft}),ju(at/_t,1)}},{key:"_calcCountWithLimit",value:function(ut){var _t=ut.e2eDelayArray,at=ut.min,ft=ut.max;return _t.filter(function(gt){return at<=gt&&gt<ft}).length}},{key:"_calcPercent",value:function(ut,_t){var at=ju(ut/_t*100,2);return at>100&&(at=100),at}},{key:"_checkE2EDelayException",value:function(ut,_t){var at=ut.filter(function(Lt){return Lt>_t});if(at.length>0){var ft=at.length,gt=Math.min.apply(Math,Ht(at)),Ct=Math.max.apply(Math,Ht(at)),St=this._calcAvg(at,ft),Dt=ju(ft/ut.length*100,2);Dt>50&&new br("messageE2EDelayException").setMessage("count:".concat(ft," min:").concat(gt," max:").concat(Ct," avg:").concat(St," percent:").concat(Dt)).setLevel("warning").end()}}},{key:"getStatResult",value:function(){var ut=this._e2eDelayArray.length;if(ut===0)return null;var _t=Ht(this._e2eDelayArray),at=this._calcCountWithLimit({e2eDelayArray:_t,min:0,max:1}),ft=this._calcCountWithLimit({e2eDelayArray:_t,min:1,max:3}),gt=this._calcPercent(at,ut),Ct=this._calcPercent(ft,ut),St=this._calcAvg(_t,ut);return this._checkE2EDelayException(_t,3),_t.length=0,this.reset(),{totalCount:ut,countLessThan1Second:at,percentOfCountLessThan1Second:gt,countLessThan3Second:ft,percentOfCountLessThan3Second:Ct,avgDelay:St}}},{key:"reset",value:function(){this._e2eDelayArray.length=0}}]),Nt}(),Hm=function(){function Nt(){it(this,Nt),this._n="AvgRTT",this._requestCount=0,this._rttArray=[]}return lt(Nt,[{key:"addRequestCount",value:function(){this._requestCount+=1}},{key:"addRTT",value:function(ut){this._rttArray.push(ut)}},{key:"_calcTotalCount",value:function(){return this._requestCount}},{key:"_calcRTTCount",value:function(ut){return ut.length}},{key:"_calcSuccessRateOfRequest",value:function(ut,_t){if(_t===0)return 0;var at=ju(ut/_t*100,2);return at>100&&(at=100),at}},{key:"_calcAvg",value:function(ut,_t){if(_t===0)return 0;var at=0;return ut.forEach(function(ft){at+=ft}),parseInt(at/_t)}},{key:"_calcMax",value:function(){return Math.max.apply(Math,Ht(this._rttArray))}},{key:"_calcMin",value:function(){return Math.min.apply(Math,Ht(this._rttArray))}},{key:"getStatResult",value:function(){var ut=this._calcTotalCount(),_t=Ht(this._rttArray);if(ut===0)return null;var at=this._calcRTTCount(_t),ft=this._calcSuccessRateOfRequest(at,ut),gt=this._calcAvg(_t,at);return sn.l("".concat(this._n,".getStatResult max:").concat(this._calcMax()," min:").concat(this._calcMin()," avg:").concat(gt)),this.reset(),{totalCount:ut,rttCount:at,successRateOfRequest:ft,avgRTT:gt}}},{key:"reset",value:function(){this._requestCount=0,this._rttArray.length=0}}]),Nt}(),Wy=function(){function Nt(){it(this,Nt),this._map=new Map}return lt(Nt,[{key:"initMap",value:function(ut){var _t=this;ut.forEach(function(at){_t._map.set(at,{totalCount:0,successCount:0,failedCountOfUserSide:0,costArray:[],fileSizeArray:[]})})}},{key:"addTotalCount",value:function(ut){return!(fr(ut)||!this._map.has(ut))&&(this._map.get(ut).totalCount+=1,!0)}},{key:"addSuccessCount",value:function(ut){return!(fr(ut)||!this._map.has(ut))&&(this._map.get(ut).successCount+=1,!0)}},{key:"addFailedCountOfUserSide",value:function(ut){return!(fr(ut)||!this._map.has(ut))&&(this._map.get(ut).failedCountOfUserSide+=1,!0)}},{key:"addCost",value:function(ut,_t){return!(fr(ut)||!this._map.has(ut))&&(this._map.get(ut).costArray.push(_t),!0)}},{key:"addFileSize",value:function(ut,_t){return!(fr(ut)||!this._map.has(ut))&&(this._map.get(ut).fileSizeArray.push(_t),!0)}},{key:"_calcSuccessRateOfBusiness",value:function(ut){if(fr(ut)||!this._map.has(ut))return-1;var _t=this._map.get(ut),at=ju(_t.successCount/_t.totalCount*100,2);return at>100&&(at=100),at}},{key:"_calcSuccessRateOfPlatform",value:function(ut){if(fr(ut)||!this._map.has(ut))return-1;var _t=this._map.get(ut),at=this._calcSuccessCountOfPlatform(ut)/_t.totalCount*100;return(at=ju(at,2))>100&&(at=100),at}},{key:"_calcTotalCount",value:function(ut){return fr(ut)||!this._map.has(ut)?-1:this._map.get(ut).totalCount}},{key:"_calcSuccessCountOfBusiness",value:function(ut){return fr(ut)||!this._map.has(ut)?-1:this._map.get(ut).successCount}},{key:"_calcSuccessCountOfPlatform",value:function(ut){if(fr(ut)||!this._map.has(ut))return-1;var _t=this._map.get(ut);return _t.successCount+_t.failedCountOfUserSide}},{key:"_calcAvg",value:function(ut){return fr(ut)||!this._map.has(ut)?-1:ut===qu?this._calcAvgSpeed(ut):this._calcAvgCost(ut)}},{key:"_calcAvgCost",value:function(ut){var _t=this._map.get(ut).costArray.length;if(_t===0)return 0;var at=0;return this._map.get(ut).costArray.forEach(function(ft){at+=ft}),parseInt(at/_t)}},{key:"_calcAvgSpeed",value:function(ut){var _t=0,at=0;return this._map.get(ut).costArray.forEach(function(ft){_t+=ft}),this._map.get(ut).fileSizeArray.forEach(function(ft){at+=ft}),parseInt(1e3*at/_t)}},{key:"getStatResult",value:function(ut){var _t=this._calcTotalCount(ut);if(_t===0)return null;var at=this._calcSuccessCountOfBusiness(ut),ft=this._calcSuccessRateOfBusiness(ut),gt=this._calcSuccessCountOfPlatform(ut),Ct=this._calcSuccessRateOfPlatform(ut),St=this._calcAvg(ut);return this.reset(ut),{totalCount:_t,successCountOfBusiness:at,successRateOfBusiness:ft,successCountOfPlatform:gt,successRateOfPlatform:Ct,avgValue:St}}},{key:"reset",value:function(ut){fr(ut)?this._map.clear():this._map.set(ut,{totalCount:0,successCount:0,failedCountOfUserSide:0,costArray:[],fileSizeArray:[]})}}]),Nt}(),cy=function(){function Nt(){it(this,Nt),this._lastMap=new Map,this._currentMap=new Map}return lt(Nt,[{key:"initMap",value:function(ut){var _t=this;ut.forEach(function(at){_t._lastMap.set(at,new Map),_t._currentMap.set(at,new Map)})}},{key:"addMessageSequence",value:function(ut){var _t=ut.key,at=ut.message;if(fr(_t)||!this._lastMap.has(_t)||!this._currentMap.has(_t))return!1;var ft=at.conversationID,gt=at.sequence,Ct=ft.replace(Ut.CONV_GROUP,"");if(this._lastMap.get(_t).size===0)this._addCurrentMap(ut);else if(this._lastMap.get(_t).has(Ct)){var St=this._lastMap.get(_t).get(Ct),Dt=St.length-1;gt>St[0]&&gt<St[Dt]?(St.push(gt),St.sort(),this._lastMap.get(_t).set(Ct,St)):this._addCurrentMap(ut)}else this._addCurrentMap(ut);return!0}},{key:"_addCurrentMap",value:function(ut){var _t=ut.key,at=ut.message,ft=at.conversationID,gt=at.sequence,Ct=ft.replace(Ut.CONV_GROUP,"");this._currentMap.get(_t).has(Ct)||this._currentMap.get(_t).set(Ct,[]),this._currentMap.get(_t).get(Ct).push(gt)}},{key:"_copyData",value:function(ut){if(!fr(ut)){this._lastMap.set(ut,new Map);var _t,at=this._lastMap.get(ut),ft=Cn(this._currentMap.get(ut));try{for(ft.s();!(_t=ft.n()).done;){var gt=Ft(_t.value,2),Ct=gt[0],St=gt[1];at.set(Ct,St)}}catch(Dt){ft.e(Dt)}finally{ft.f()}at=null,this._currentMap.set(ut,new Map)}}},{key:"getStatResult",value:function(ut){if(fr(this._currentMap.get(ut))||fr(this._lastMap.get(ut)))return null;if(this._lastMap.get(ut).size===0)return this._copyData(ut),null;var _t=0,at=0;if(this._lastMap.get(ut).forEach(function(gt,Ct){var St=Ht(gt.values()),Dt=St.length,Lt=St[Dt-1]-St[0]+1;_t+=Lt,at+=Dt}),_t===0)return null;var ft=ju(at/_t*100,2);return ft>100&&(ft=100),this._copyData(ut),{totalCount:_t,successCountOfMessageReceived:at,successRateOfMessageReceived:ft}}},{key:"reset",value:function(){this._currentMap.clear(),this._lastMap.clear()}}]),Nt}(),Yy=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;it(this,_t),(ft=ut.call(this,at))._n="QualityStatModule",ft.TAG="im-ssolog-quality-stat",ft.reportIndex=0,ft.wholePeriod=!1,ft._qualityItems=[w_,jv,Fp,Am,_g,hu,qu,bm,El,em],ft._messageSentItems=[Fp,Am,_g,hu,qu],ft._messageReceivedItems=[bm,El,em],ft.REPORT_INTERVAL=120,ft.REPORT_SDKAPPID_BLACKLIST=[],ft.REPORT_TINYID_WHITELIST=[],ft._statInfoArr=[],ft._avgRTT=new Hm,ft._avgE2EDelay=new $l,ft._rateMessageSent=new Wy,ft._rateMessageReceived=new cy;var gt=ft.getInnerEmitterInstance();return gt.on(Yl,ft._onLoginSuccess,Bt(ft)),gt.on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"_onLoginSuccess",value:function(){var at=this;this._rateMessageSent.initMap(this._messageSentItems),this._rateMessageReceived.initMap(this._messageReceivedItems);var ft=this.getModule(Yu),gt=ft.getItem(this.TAG,!1);!kr(gt)&&ku(gt.forEach)&&(sn.l("".concat(this._n,"._onLoginSuccess get quality stat logs from local storage, count:").concat(gt.length)),gt.forEach(function(Ct){at._statInfoArr.push(Ct)}),ft.removeItem(this.TAG,!1))}},{key:"_onCloudConfigUpdated",value:function(){var at=this.getCloudConfig("q_rpt_interval"),ft=this.getCloudConfig("q_rpt_sdkappid_bl"),gt=this.getCloudConfig("q_rpt_tinyid_wl");fr(at)||(this.REPORT_INTERVAL=Number(at)),fr(ft)||(this.REPORT_SDKAPPID_BLACKLIST=ft.split(",").map(function(Ct){return Number(Ct)})),fr(gt)||(this.REPORT_TINYID_WHITELIST=gt.split(","))}},{key:"onCheckTimer",value:function(at){this.isLoggedIn()&&at%this.REPORT_INTERVAL==0&&(this.wholePeriod=!0,this._report())}},{key:"addRequestCount",value:function(){this._avgRTT.addRequestCount()}},{key:"addRTT",value:function(at){this._avgRTT.addRTT(at)}},{key:"addMessageDelay",value:function(at){this._avgE2EDelay.addMessageDelay(at)}},{key:"addTotalCount",value:function(at){this._rateMessageSent.addTotalCount(at)||sn.w("".concat(this._n,".addTotalCount invalid key:"),at)}},{key:"addSuccessCount",value:function(at){this._rateMessageSent.addSuccessCount(at)||sn.w("".concat(this._n,".addSuccessCount invalid key:"),at)}},{key:"addFailedCountOfUserSide",value:function(at){this._rateMessageSent.addFailedCountOfUserSide(at)||sn.w("".concat(this._n,".addFailedCountOfUserSide invalid key:"),at)}},{key:"addCost",value:function(at,ft){this._rateMessageSent.addCost(at,ft)||sn.w("".concat(this._n,".addCost invalid key or cost:"),at,ft)}},{key:"addFileSize",value:function(at,ft){this._rateMessageSent.addFileSize(at,ft)||sn.w("".concat(this._n,".addFileSize invalid key or size:"),at,ft)}},{key:"addMessageSequence",value:function(at){this._rateMessageReceived.addMessageSequence(at)||sn.w("".concat(this._n,".addMessageSequence invalid key:"),at.key)}},{key:"_getQualityItem",value:function(at){var ft={},gt=Cs[this.getNetworkType()];fr(gt)&&(gt=8);var Ct={qualityType:yu[at],timestamp:iu(),networkType:gt,extension:""};switch(at){case w_:ft=this._avgRTT.getStatResult();break;case jv:ft=this._avgE2EDelay.getStatResult();break;case Fp:case Am:case _g:case hu:case qu:ft=this._rateMessageSent.getStatResult(at);break;case bm:case El:case em:ft=this._rateMessageReceived.getStatResult(at)}return ft===null?null:rt(rt({},Ct),ft)}},{key:"_report",value:function(at){var ft=this,gt=[],Ct=null;fr(at)?this._qualityItems.forEach(function(jt){(Ct=ft._getQualityItem(jt))!==null&&(Ct.reportIndex=ft.reportIndex,Ct.wholePeriod=ft.wholePeriod,gt.push(Ct))}):(Ct=this._getQualityItem(at))!==null&&(Ct.reportIndex=this.reportIndex,Ct.wholePeriod=this.wholePeriod,gt.push(Ct)),sn.d("".concat(this._n,"._report"),gt),this._statInfoArr.length>0&&(gt=gt.concat(this._statInfoArr),this._statInfoArr=[]);var St=this.getModule(jo),Dt=St.getSDKAppID(),Lt=St.getTinyID();Kp(this.REPORT_SDKAPPID_BLACKLIST,Dt)&&!Ip(this.REPORT_TINYID_WHITELIST,Lt)&&(gt=[]),gt.length>0&&this._doReport(gt)}},{key:"_doReport",value:function(at){var ft=this,gt={header:jy(this),quality:at};this.request({protocolName:S_,requestData:rt({},gt)}).then(function(){ft.reportIndex++,ft.wholePeriod=!1}).catch(function(Ct){sn.w("".concat(ft._n,"._doReport, online:").concat(ft.getNetworkType()," error:"),Ct),ft._statInfoArr=ft._statInfoArr.concat(at),ft._flushAtOnce()})}},{key:"_flushAtOnce",value:function(){var at=this.getModule(Yu),ft=at.getItem(this.TAG,!1),gt=this._statInfoArr,Ct="".concat(this._n,"._flushAtOnce");if(kr(ft))sn.l("".concat(Ct," count:").concat(gt.length)),at.setItem(this.TAG,gt,!0,!1);else{var St=gt.concat(ft);St.length>10&&(St=St.slice(0,10)),sn.l("".concat(Ct," count:").concat(St.length)),at.setItem(this.TAG,St,!0,!1)}this._statInfoArr=[]}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._report(),this.reportIndex=0,this.wholePeriod=!1,this.REPORT_SDKAPPID_BLACKLIST=[],this.REPORT_TINYID_WHITELIST=[],this._avgRTT.reset(),this._avgE2EDelay.reset(),this._rateMessageSent.reset(),this._rateMessageReceived.reset()}}]),_t}(Ys),uy=lt(function Nt(ut){it(this,Nt),kr(ut)||(this.userID=ut.userID||"",this.nick=ut.nick||"",this.avatar=ut.avatar||"",this.time=ut.time||0,this.source=ut.source||"",this.wording=ut.wording||"",this.type=ut.type||"")}),__=function(){function Nt(ut){it(this,Nt),this._snsModule=ut,this._n="FriendApplicationHandler",this._startTime=0,this._maxLimited=100,this._currentSequence=0,this._friendApplicationMap=new Map,this._unreadCount=0}return lt(Nt,[{key:"getLocalFriendApplicationList",value:function(){return{friendApplicationList:Ht(this._friendApplicationMap.values()),unreadCount:this._unreadCount}}},{key:"_onFriendApplicationListUpdated",value:function(){this._snsModule.emitOuterEvent(yn.FRIEND_APPLICATION_LIST_UPDATED,{friendApplicationList:Ht(this._friendApplicationMap.values()),unreadCount:this._unreadCount})}},{key:"onFriendApplicationRead",value:function(){this._unreadCount=0,this._onFriendApplicationListUpdated()}},{key:"onFriendApplicationAdded",value:function(ut,_t){var at=this;if(!kr(ut)){var ft="";ft=_t===this._snsModule.getMyUserID()?Ut.SNS_APPLICATION_SENT_BY_ME:Ut.SNS_APPLICATION_SENT_TO_ME;var gt=!1;ut.forEach(function(Ct){var St="".concat(Ct.userID,"_").concat(ft);ft!==Ut.SNS_APPLICATION_SENT_TO_ME||at._friendApplicationMap.has(St)||(at._unreadCount+=1),at._friendApplicationMap.set(St,new uy(rt(rt({},Ct),{},{type:ft}))),gt=!0}),gt&&this._onFriendApplicationListUpdated()}}},{key:"onFriendApplicationDeleted",value:function(ut){kr(ut)||this.getFriendApplicationList()}},{key:"getFriendApplicationList",value:function(){var ut=this,_t="".concat(this._n,".").concat("getFriendApplicationList"),at=new br("getFriendApplicationList");return this._snsModule.request({protocolName:gm,requestData:{applicationType:Ut.SNS_APPLICATION_TYPE_BOTH,fromAccount:this._snsModule.getMyUserID(),maxLimited:this._maxLimited,startTime:this._startTime,lastSequence:this._currentSequence}}).then(function(ft){var gt=ft.data,Ct=gt.resultList,St=gt.unreadCount,Dt=gt.startTime,Lt=gt.currentSequence;ut._startTime=Dt,ut._currentSequence=Lt,ut._unreadCount=St;var jt=Zr(Ct)?Ct.length:0;at.setNetworkType(ut._snsModule.getNetworkType()).setMessage("applicationCount:".concat(jt," unreadCount:").concat(St)).end(),sn.i("".concat(_t," ok. applicationCount:").concat(jt," unreadCount:").concat(St)),ut._friendApplicationMap.clear(),Zr(Ct)&&Ct.forEach(function(Kt){var Jt=Kt.userID,cn=Kt.type,bn=new uy(Kt);ut._friendApplicationMap.set("".concat(Jt,"_").concat(cn),bn)}),ut._onFriendApplicationListUpdated()}).catch(function(ft){return ut._snsModule.probeNetwork().then(function(gt){var Ct=Ft(gt,2),St=Ct[0],Dt=Ct[1];at.setError(ft,St,Dt).end()}),sn.w("".concat(_t," failed. error:"),ft),Xn(ft)})}},{key:"deleteFriendApplication",value:function(ut){var _t=this,at="".concat(this._n,".").concat("deleteFriendApplication"),ft=ut.userID,gt=ut.type;if((!gt||gt!==Ut.SNS_APPLICATION_SENT_BY_ME&&gt!==Ut.SNS_APPLICATION_SENT_TO_ME)&&(gt=Ut.SNS_APPLICATION_SENT_TO_ME),!this._friendApplicationMap.has("".concat(ft,"_").concat(gt)))return Xn({code:pr.FRIEND_APPLICATION_NOT_EXIST});var Ct=new br("deleteFriendApplication");return Ct.setMessage("userID:".concat(ft," type:").concat(gt)),this._snsModule.request({protocolName:gp,requestData:{fromAccount:this._snsModule.getMyUserID(),userIDList:[ft],type:gt}}).then(function(St){var Dt=St.data.resultList,Lt=Dt[0],jt=Lt.to,Kt=Lt.resultCode,Jt=Lt.resultInfo;return Ct.setNetworkType(_t._snsModule.getNetworkType()).setMoreMessage("resultList:".concat(JSON.stringify(Dt))).end(),sn.i("".concat(at," ok. userID:").concat(ft," type:").concat(gt)),Kt===0?oo():Xn({userID:jt,code:Kt,message:Jt})}).catch(function(St){return _t._snsModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(at," failed. error:"),St),Xn(St)})}},{key:"acceptFriendApplication",value:function(ut){var _t=this,at="".concat(this._n,".").concat("acceptFriendApplication"),ft=ut.userID,gt=ut.remark,Ct=ut.tag,St=ut.type;(!St||St!==Ut.SNS_APPLICATION_AGREE&&St!==Ut.SNS_APPLICATION_AGREE_AND_ADD)&&(St=Ut.SNS_APPLICATION_AGREE_AND_ADD);var Dt=new br("acceptFriendApplication");return Dt.setMessage("userID:".concat(ft," type:").concat(St)),this._snsModule.request({protocolName:Tp,requestData:{fromAccount:this._snsModule.getMyUserID(),responseFriendItem:[{userID:ft,remark:gt,tag:Ct,action:St}]}}).then(function(Lt){Dt.setNetworkType(_t._snsModule.getNetworkType()).end();var jt=Lt.data.resultList[0],Kt=jt.resultCode,Jt=jt.resultInfo;if(Kt!==0)return Xn({code:Kt,message:Jt});sn.i("".concat(at," ok. userID:").concat(ft," type:").concat(St))}).catch(function(Lt){return _t._snsModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),sn.w("".concat(at," failed. error:"),Lt),Xn(Lt)})}},{key:"refuseFriendApplication",value:function(ut){var _t=this,at="".concat(this._n,".").concat("refuseFriendApplication"),ft=ut.userID,gt=new br("refuseFriendApplication");return gt.setMessage("userID:".concat(ft)),this._snsModule.request({protocolName:Tp,requestData:{fromAccount:this._snsModule.getMyUserID(),responseFriendItem:[{userID:ft,action:"Response_Action_Reject"}]}}).then(function(Ct){gt.setNetworkType(_t._snsModule.getNetworkType()).end();var St=Ct.data.resultList[0],Dt=St.resultCode,Lt=St.resultInfo;if(Dt!==0)return Xn({code:Dt,message:Lt});sn.i("".concat(at," ok. userID:").concat(ft))}).catch(function(Ct){return _t._snsModule.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];gt.setError(Ct,Lt,jt).end()}),sn.w("".concat(at," failed. error:"),Ct),Xn(Ct)})}},{key:"_onFriendApplicationProcessed",value:function(ut){var _t=this;if(ut.length!==0){var at=!1;ut.forEach(function(ft){var gt="".concat(ft.to,"_").concat(Ut.SNS_APPLICATION_SENT_TO_ME);_t._friendApplicationMap.has(gt)&&(_t._friendApplicationMap.delete(gt),_t._unreadCount-=1,at=!0)}),this._unreadCount<0&&(this._unreadCount=0),at&&this._onFriendApplicationListUpdated()}}},{key:"setFriendApplicationRead",value:function(){var ut=this,_t="".concat(this._n,".").concat("setFriendApplicationRead"),at=new br("setFriendApplicationRead");return this._snsModule.request({protocolName:Ls,requestData:{fromAccount:this._snsModule.getMyUserID(),latestTimeStamp:ju(iu()/1e3,0)}}).then(function(ft){at.setNetworkType(ut._snsModule.getNetworkType()).end(),sn.i("".concat(_t," ok")),ut._unreadCount=0}).catch(function(ft){return ut._snsModule.probeNetwork().then(function(gt){var Ct=Ft(gt,2),St=Ct[0],Dt=Ct[1];at.setError(ft,St,Dt).end()}),sn.w("".concat(_t," failed. error:"),ft),Xn(ft)})}},{key:"reset",value:function(){this._startIndex=0,this._maxLimited=100,this._currentSequence=0,this._unreadCount=0,this._friendApplicationMap.clear()}}]),Nt}(),q_=function(){function Nt(ut,_t){it(this,Nt),this.userID=ut,this.remark="",this.groupList=[],this.source="",this.addTime=0,this.friendCustomField=[],this.timestamp=0;var at={},ft=[];if(at.userID=ut,!kr(_t))for(var gt="",Ct="",St=0,Dt=_t.length;St<Dt;St++)if(gt=_t[St].tag,Ct=_t[St].value,gt.indexOf("Tag_SNS_Custom")>-1)this.friendCustomField.push({key:gt,value:Ct});else if(gt.indexOf("Tag_Profile_Custom")>-1)ft.push({key:gt,value:Ct});else switch(gt){case Wo.NICK:at.nick=Ct;break;case Wo.GENDER:at.gender=Ct;break;case Wo.BIRTHDAY:at.birthday=Ct;break;case Wo.LOCATION:at.location=Ct;break;case Wo.SELFSIGNATURE:at.selfSignature=Ct;break;case Wo.ALLOWTYPE:at.allowType=Ct;break;case Wo.LANGUAGE:at.language=Ct;break;case Wo.AVATAR:at.avatar=Ct;break;case Wo.MESSAGESETTINGS:at.messageSettings=Ct;break;case Wo.ADMINFORBIDTYPE:at.adminForbidType=Ct;break;case Wo.LEVEL:at.level=Ct;break;case Wo.ROLE:at.role=Ct;break;case dp:this.remark=Ct;break;case ep:this.addTime=Ct;break;case dm:this.groupList=JSON.parse(JSON.stringify(Ct));break;case Ql:this.source=Ct;break;case _d:break;default:sn.l("snsProfileItem unknown tag->",_t[St].tag)}this.profile=new L_(rt(rt({},at),{},{profileCustomField:ft}))}return lt(Nt,[{key:"validate",value:function(ut){var _t=!0,at="";if(kr(ut))return{valid:!1,tips:"empty options"};if(ut.profileCustomField)for(var ft=ut.profileCustomField.length,gt=null,Ct=0;Ct<ft;Ct++){if(gt=ut.profileCustomField[Ct],!yo(gt.key)||gt.key.indexOf("Tag_Profile_Custom")===-1)return{valid:!1,tips:"The prefix of keys of the custom profile key-value pairs (which is profileCustomField) must be Tag_Profile_Custom"};if(!yo(gt.value))return{valid:!1,tips:"The type of values of the custom profile key-value pairs (which is profileCustomField) must be String"}}for(var St in ut)if(Object.prototype.hasOwnProperty.call(ut,St)){if(St==="profileCustomField")continue;if(kr(ut[St])&&!yo(ut[St])&&!Yo(ut[St])){at="key:"+St+", invalid value:"+ut[St],_t=!1;continue}switch(St){case"nick":yo(ut[St])||(at="nick must be a string",_t=!1),Fu(ut[St])>500&&(at="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(Fu(ut[St])," bytes"),_t=!1);break;case"gender":Vs(zu,ut.gender)||(at="key:gender, invalid value:"+ut.gender,_t=!1);break;case"birthday":Yo(ut.birthday)||(at="birthday must be a number",_t=!1);break;case"location":yo(ut.location)||(at="location must be a string",_t=!1);break;case"selfSignature":yo(ut.selfSignature)||(at="selfSignature must be a string",_t=!1);break;case"allowType":Vs(Lp,ut.allowType)||(at="key:allowType, invalid value:"+ut.allowType,_t=!1);break;case"language":Yo(ut.language)||(at="language must be a number",_t=!1);break;case"avatar":yo(ut.avatar)||(at="avatar must be a string",_t=!1);break;case"messageSettings":ut.messageSettings!==0&&ut.messageSettings!==1&&(at="messageSettings must be 0 or 1",_t=!1);break;case"adminForbidType":Vs(Fl,ut.adminForbidType)||(at="key:adminForbidType, invalid value:"+ut.adminForbidType,_t=!1);break;case"level":Yo(ut.level)||(at="level must be a number",_t=!1);break;case"role":Yo(ut.role)||(at="role must be a number",_t=!1);break;default:at="unknown key:"+St+"  "+ut[St],_t=!1}}return{valid:_t,tips:at}}},{key:"update",value:function(ut){var _t="",at="",ft=[];this.friendCustomField.forEach(function(Dt){ft.push(Dt.key)});for(var gt=0,Ct=ut.length;gt<Ct;gt++)if(_t=ut[gt].tag,at=ut[gt].value,_t.indexOf("Tag_SNS_Custom")>-1)ft.indexOf(_t)>-1?this.friendCustomField.forEach(function(Dt){Dt.key===_t&&(Dt.value=at)}):this.friendCustomField.push({key:_t,value:at});else if(_t.indexOf("Tag_Profile_Custom")>-1){var St=!1;this.profile.profileCustomField.forEach(function(Dt){Dt.key===_t&&(Dt.value=at,St=!0)}),St||this.profile.profileCustomField.push({key:_t,value:at})}else switch(_t){case Wo.NICK:this.profile.nick=at;break;case Wo.GENDER:this.profile.gender=at;break;case Wo.BIRTHDAY:this.profile.birthday=at;break;case Wo.LOCATION:this.profile.location=at;break;case Wo.SELFSIGNATURE:this.profile.selfSignature=at;break;case Wo.ALLOWTYPE:this.profile.allowType=at;break;case Wo.LANGUAGE:this.profile.language=at;break;case Wo.AVATAR:this.profile.avatar=at;break;case Wo.MESSAGESETTINGS:this.profile.messageSettings=at;break;case Wo.ADMINFORBIDTYPE:this.profile.adminForbidType=at;break;case Wo.LEVEL:this.profile.level=at;break;case Wo.ROLE:this.profile.role=at;break;case dp:this.remark=at;break;case ep:this.addTime=at;break;case dm:this.groupList=JSON.parse(JSON.stringify(at));break;case Ql:this.source=at;break;case _d:break;default:sn.d("snsProfileItem unkown tag->",ut[gt].tag)}this.timestamp=Date.now(),ft.length=0}},{key:"updateProfile",value:function(ut){this.profile=JSON.parse(JSON.stringify(ut)),this.timestamp=Date.now()}},{key:"addToGroupList",value:function(ut){this.groupList.indexOf(ut)===-1&&(this.groupList.push(ut),this.count=this.groupList.length)}},{key:"removeFromGroupList",value:function(ut){var _t=this.groupList.indexOf(ut);_t>-1&&(this.groupList.splice(_t,1),this.count=this.groupList.length)}}]),Nt}(),Ev=function(){function Nt(ut){it(this,Nt),this._snsModule=ut,this._n="FriendHandler",this._friendMap=new Map,this._startIndex=0,this._standardSequence=0,this._customSequence=0,this._expirationTime=18e4}return lt(Nt,[{key:"getLocalFriendList",value:function(){return Ht(this._friendMap.values())}},{key:"getFriendRemark",value:function(ut){return this._friendMap.has(ut)?this._friendMap.get(ut).remark:""}},{key:"onFriendProfileModified",value:function(ut){var _t=this,at=ut.dataList;if(!kr(at)){var ft=this._snsModule.getModule(no);at.forEach(function(gt){var Ct=gt.userID,St=gt.profileList;if(_t.isMyFriend(Ct)){sn.l("".concat(_t._n,".onFriendProfileModified. friend account:").concat(Ct,", profileList:").concat(JSON.stringify(St)));var Dt=_t._friendMap.get(Ct);Dt.update(St),ft.modifyMessageSentByPeer({conversationID:"".concat(Ut.CONV_C2C).concat(Ct),latestNick:Dt.profile.nick,latestAvatar:Dt.profile.avatar})}}),this._onFriendListUpdated()}}},{key:"onFriendAdded",value:function(ut){var _t=this;ut.length!==0&&(sn.l("".concat(this._n,".onFriendAdded userIDList:").concat(ut)),ut.forEach(function(at){_t._friendMap.set(at,new q_(at))}),this.getFriendProfile({userIDList:ut}).then(function(at){ut.forEach(function(ft){var gt=_t._friendMap.get(ft);gt.groupList.length>0&&_t._snsModule.updateWhenFriendAdded({nameList:gt.groupList,userID:ft})}),_t._onFriendListUpdated()}))}},{key:"onFriendDeleted",value:function(ut){var _t=this;ut.length!==0&&(sn.l("".concat(this._n,".onFriendDeleted userIDList:").concat(ut)),ut.forEach(function(at){var ft=_t._friendMap.get(at);ft.groupList.length>0&&_t._snsModule.updateWhenFriendDeleted({nameList:ft.groupList,userID:at}),_t._friendMap.delete(at)}),this._onFriendListUpdated())}},{key:"_onFriendListUpdated",value:function(){this._snsModule.emitOuterEvent(yn.FRIEND_LIST_UPDATED),this._snsModule.getModule(no).checkAndPatchRemark()}},{key:"getFriendProfile",value:function(ut){var _t=this,at="".concat(this._n,".").concat("getFriendProfile"),ft=ut.userIDList,gt=[],Ct=[],St=[];if(ft.forEach(function(Lt){if(_t._friendMap.has(Lt)){var jt=_t._friendMap.get(Lt);Date.now()-jt.timestamp<_t._expirationTime?Ct.push(jt):St.push(Lt)}else gt.push({userID:Lt,code:pr.NOT_MY_FRIEND,message:_t._snsModule.getErrorMessage(pr.NOT_MY_FRIEND)})}),St.length===0)return sn.i("".concat(at," newUserIDList is empty")),Io({friendList:Ct,failureUserIDList:gt});var Dt=new br("getFriendProfile");return Dt.setMessage("userIDList:".concat(St)),sn.i("".concat(at," userIDList:").concat(St)),this._snsModule.request({protocolName:hm,requestData:{fromAccount:this._snsModule.getMyUserID(),userIDList:St}}).then(function(Lt){return Dt.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.i("".concat(at," ok")),Lt.data.resultList.forEach(function(jt){var Kt,Jt=jt.to,cn=jt.resultCode,bn=jt.resultInfo,On=jt.tagValueList;fr(cn)||cn===0?(_t._friendMap.has(Jt)?(Kt=_t._friendMap.get(Jt)).update(On):(Kt=new q_(Jt,On),_t._friendMap.set(Jt,Kt)),Ct.push(Kt)):gt.push({userID:Jt,code:cn,message:bn})}),oo({friendList:Ct,failureUserIDList:gt})}).catch(function(Lt){return _t._snsModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];Dt.setError(Lt,Jt,cn).end()}),sn.w("".concat(at," failed. error:"),Lt),Xn(Lt)})}},{key:"isMyFriend",value:function(ut){return this._friendMap.has(ut)}},{key:"pagingGetFriendList",value:function(){var ut=this,_t="".concat(this._n,".").concat("getFriendList"),at=new br("getFriendList"),ft=Date.now();this._snsModule.request({protocolName:bs,requestData:{fromAccount:this._snsModule.getMyUserID(),startIndex:this._startIndex,standardSequence:this._standardSequence,customSequence:this._customSequence}}).then(function(gt){var Ct=gt.data,St=Ct.friendCount,Dt=Ct.resultList,Lt=Ct.nextStartIndex,jt=Ct.standardSequence,Kt=Ct.customSequence,Jt=Ct.completeFlag;ut._startIndex=Lt,ut._standardSequence=jt,ut._customSequence=Kt;var cn=Date.now()-ft,bn="friendCount:".concat(St," nextStartIndex:").concat(Lt," standardSequence:").concat(jt," ")+"customSequence:".concat(Kt," completeFlag:").concat(Jt," cost ").concat(cn," ms");at.setNetworkType(ut._snsModule.getNetworkType()).setMessage(bn).end(),sn.i("".concat(_t," ok."),bn),kr(Dt)||Dt.forEach(function(On){var Fn=On.to,Wn=On.tagValueList;ut._friendMap.set(Fn,new q_(Fn,Wn))}),Jt===0?ut.pagingGetFriendList():(ut._snsModule.emitOuterEvent(yn.FRIEND_LIST_UPDATED),ut._pagingGetFriendProfile())}).catch(function(gt){return ut._snsModule.probeNetwork().then(function(Ct){var St=Ft(Ct,2),Dt=St[0],Lt=St[1];at.setError(gt,Dt,Lt).end()}),sn.w("".concat(_t," failed. error:"),gt),Xn(gt)})}},{key:"_pagingGetFriendProfile",value:function(){var ut=this,_t=Ht(this._friendMap.keys()),at=this._snsModule.getModule(qr),ft=_t.length,gt=ft<=100?1:Math.ceil(ft/100);sn.l("".concat(this._n,"._pagingGetFriendProfile friendCount:").concat(ft," pageCount:").concat(gt));for(var Ct=0;Ct<gt;Ct++)at.getUserProfile({userIDList:_t.slice(100*Ct,100*(Ct+1))}).then(function(St){St.data.forEach(function(Dt){var Lt=ut._friendMap.get(Dt.userID);Lt&&Lt.updateProfile(Dt)}),ut._onFriendListUpdated()})}},{key:"addFriend",value:function(ut){var _t=this,at="".concat(this._n,".").concat("addFriend");if(this._friendMap.has(ut.to))return Xn({code:pr.ALREADY_MY_FRIEND});if(ut.wording&&this._snsModule.filterProfanity("wording",ut)===!1)return Xn({code:pr.PROFANITY_FOUND});var ft=ut.to,gt=ut.source,Ct=ut.type,St=ut.wording,Dt=ut.remark,Lt=ut.groupName,jt=Ct;(!jt||jt!==Ut.SNS_ADD_TYPE_SINGLE&&jt!==Ut.SNS_ADD_TYPE_BOTH)&&(jt=Ut.SNS_ADD_TYPE_BOTH);var Kt=new br("addFriend");return Kt.setMessage("to:".concat(ft," source:").concat(gt," type:").concat(jt)),this._snsModule.request({protocolName:hp,requestData:{fromAccount:this._snsModule.getMyUserID(),addFriendItem:[{to:ft,source:gt,wording:St,remark:Dt,groupName:Lt}],type:jt}}).then(function(Jt){var cn=Jt.data.resultList;Kt.setNetworkType(_t._snsModule.getNetworkType()).setMoreMessage("resultList:".concat(JSON.stringify(cn))).end();var bn=cn[0],On=bn.to,Fn=bn.resultCode,Wn=bn.resultInfo;return sn.i("".concat(at," ok. to:").concat(On," type:").concat(jt," code:").concat(Fn)),fr(Fn)||Fn===0?oo({userID:On,code:0}):Fn===30539?oo({userID:On,code:Fn,message:_t._snsModule.getErrorMessage(Fn)}):Xn({userID:On,code:Fn,message:_t._snsModule.getErrorMessage(Fn)||Wn})}).catch(function(Jt){return _t._snsModule.probeNetwork().then(function(cn){var bn=Ft(cn,2),On=bn[0],Fn=bn[1];Kt.setError(Jt,On,Fn).end()}),sn.w("".concat(at," failed. error:"),Jt),Xn(Jt)})}},{key:"deleteFriend",value:function(ut){var _t=this,at="".concat(this._n,".").concat("deleteFriend"),ft=ut.userIDList,gt=ut.type;ft.length>1e3&&(sn.w("".concat(at," ").concat(Mo(1e3))),ft.length=1e3);var Ct=[],St=[],Dt=[];if(ft.forEach(function(Kt){_t._friendMap.has(Kt)?Dt.push(Kt):Ct.push({userID:Kt,code:pr.NOT_MY_FRIEND,message:_t._snsModule.getErrorMessage(pr.NOT_MY_FRIEND)})}),Dt.length===0)return Io({successUserIDList:St,failureUserIDList:Ct});var Lt=gt;(!Lt||Lt!==Ut.SNS_DELETE_TYPE_SINGLE&&Lt!==Ut.SNS_DELETE_TYPE_BOTH)&&(Lt=Ut.SNS_DELETE_TYPE_BOTH);var jt=new br("deleteFriend");return jt.setMessage("userIDList:".concat(Dt," type:").concat(Lt)),this._snsModule.request({protocolName:wl,requestData:{fromAccount:this._snsModule.getMyUserID(),userIDList:Dt,type:Lt}}).then(function(Kt){jt.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.i("".concat(at," ok"));var Jt=Kt.data.resultList;return kr(Jt)||Jt.forEach(function(cn){var bn=cn.to,On=cn.resultCode,Fn=cn.resultInfo;fr(On)||On===0?St.push({userID:bn}):Ct.push({userID:bn,code:On,message:Fn})}),oo({successUserIDList:St,failureUserIDList:Ct})}).catch(function(Kt){return _t._snsModule.probeNetwork().then(function(Jt){var cn=Ft(Jt,2),bn=cn[0],On=cn[1];jt.setError(Kt,bn,On).end()}),sn.w("".concat(at," error:"),Kt),Xn(Kt)})}},{key:"updateFriend",value:function(ut){var _t=this,at=ut.userID,ft=ut.remark,gt=ut.friendCustomField;if(!this._friendMap.has(at))return Xn({code:pr.NOT_MY_FRIEND});var Ct="".concat(this._n,".").concat("updateFriend"),St=new br("updateFriend");St.setMessage("userID:".concat(at," remark:").concat(ft," friendCustomField:").concat(gt));var Dt=[];return fr(ft)||Dt.push({tag:dp,value:ft}),Zr(gt)&&gt.length>0&&gt.forEach(function(Lt){Dt.push({tag:Lt.key,value:Lt.value})}),this._snsModule.request({protocolName:J_,requestData:{fromAccount:this._snsModule.getMyUserID(),updateItem:[{to:at,snsItem:Dt}]}}).then(function(Lt){St.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.i("".concat(Ct," ok"));var jt=Lt.data.resultList[0],Kt=jt.to,Jt=jt.resultCode,cn=jt.resultInfo;if(fr(Jt)||Jt===0){var bn=_t._friendMap.get(Kt);return bn&&(fr(ft)||(bn.remark=ft),Zr(gt)&&gt.length>0&&zs(bn.friendCustomField,gt),_t._onFriendListUpdated()),oo(bn)}return Xn({code:Jt,message:cn})}).catch(function(Lt){return _t._snsModule.probeNetwork().then(function(jt){var Kt=Ft(jt,2),Jt=Kt[0],cn=Kt[1];St.setError(Lt,Jt,cn).end()}),sn.w("".concat(Ct," failed. error:"),Lt),Xn(Lt)})}},{key:"checkFriend",value:function(ut){var _t=this,at="".concat(this._n,".").concat("checkFriend"),ft=ut.userIDList,gt=ut.type;(!gt||gt!==Ut.SNS_CHECK_TYPE_SINGLE&&gt!==Ut.SNS_CHECK_TYPE_BOTH)&&(gt=Ut.SNS_CHECK_TYPE_BOTH);var Ct=new br("checkFriend");return Ct.setMessage("userIDList:".concat(ft," type:").concat(gt)),this._snsModule.request({protocolName:M_,requestData:{fromAccount:this._snsModule.getMyUserID(),userIDList:ft,type:gt}}).then(function(St){Ct.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.i("".concat(at," ok. userIDList:").concat(ft," type:").concat(gt));var Dt=[],Lt=[],jt=St.data.resultList;return Zr(jt)&&jt.forEach(function(Kt){var Jt=Kt.to,cn=Kt.relation,bn=Kt.resultCode,On=Kt.resultInfo;fr(bn)||bn===0?Dt.push({userID:Jt,code:0,relation:cn}):Lt.push({userID:Jt,code:bn,message:On})}),oo({successUserIDList:Dt,failureUserIDList:Lt})}).catch(function(St){return _t._snsModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(at," failed. error:"),St),Xn(St)})}},{key:"updateWhenAddedToFriendGroup",value:function(ut){var _t=this,at=ut.name,ft=ut.userIDList;sn.l("".concat(this._n,".updateWhenAddedToFriendGroup groupName:").concat(at," userIDList:").concat(ft)),at&&!kr(ft)&&ft.forEach(function(gt){_t._friendMap.has(gt)&&_t._friendMap.get(gt).addToGroupList(at)})}},{key:"updateWhenRemovedFromFriendGroup",value:function(ut){var _t=this,at=ut.name,ft=ut.userIDList;sn.l("".concat(this._n,".updateWhenRemovedFromFriendGroup groupName:").concat(at," userIDList:").concat(ft)),at&&!kr(ft)&&ft.forEach(function(gt){_t._friendMap.has(gt)&&_t._friendMap.get(gt).removeFromGroupList(at)})}},{key:"reset",value:function(){this._friendMap.clear(),this._startIndex=0,this._standardSequence=0,this._customSequence=0}}]),Nt}(),Av=function(){function Nt(ut){it(this,Nt),kr(ut)||(this.name=ut.name||"",this.userIDList=ut.userIDList||[],this.count=this.userIDList.length||0)}return lt(Nt,[{key:"addToUserIDList",value:function(ut){this.userIDList.indexOf(ut)===-1&&(this.userIDList.push(ut),this.count=this.userIDList.length)}},{key:"removeFromUserIDList",value:function(ut){var _t=this.userIDList.indexOf(ut);_t>-1&&(this.userIDList.splice(_t,1),this.count=this.userIDList.length)}}]),Nt}(),Jy=function(){function Nt(ut){it(this,Nt),this._snsModule=ut,this._n="FriendGroupHandler",this._friendGroupMap=new Map}return lt(Nt,[{key:"getLocalFriendGroupList",value:function(){return Ht(this._friendGroupMap.values())}},{key:"_emitFriendGroupListUpdated",value:function(){var ut=Ht(this._friendGroupMap.values());this._snsModule.emitOuterEvent(yn.FRIEND_GROUP_LIST_UPDATED,ut)}},{key:"getFriendGroupList",value:function(){var ut=this,_t="".concat(this._n,".").concat("getFriendGroupList"),at=new br("getFriendGroupList");return this._snsModule.request({protocolName:E_,requestData:{fromAccount:this._snsModule.getMyUserID()}}).then(function(ft){at.setNetworkType(ut._snsModule.getNetworkType()).end();var gt=ft.data.resultList;kr(gt)?sn.i("".concat(_t," ok. friend group count:0")):(sn.i("".concat(_t," ok. friend group count:").concat(gt.length)),ut._friendGroupMap.clear(),gt.forEach(function(Ct){var St=new Av(Ct);ut._friendGroupMap.set(Ct.name,St)}),ut._emitFriendGroupListUpdated())}).catch(function(ft){return ut._snsModule.probeNetwork().then(function(gt){var Ct=Ft(gt,2),St=Ct[0],Dt=Ct[1];at.setError(ft,St,Dt).end()}),sn.w("".concat(_t," error:"),ft),Xn(ft)})}},{key:"createFriendGroup",value:function(ut){var _t=this,at="".concat(this._n,".").concat("createFriendGroup"),ft=ut.name,gt=ut.userIDList;if(this._friendGroupMap.has(ft))return Xn({code:pr.FRIEND_GROUP_EXISTED});var Ct=new br("createFriendGroup");return Ct.setMessage("name:".concat(ft," userIDList:").concat(gt)),this._snsModule.request({protocolName:r_,requestData:{fromAccount:this._snsModule.getMyUserID(),groupName:[ft],userIDList:Zr(gt)?gt:void 0}}).then(function(St){Ct.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.l("".concat(at," ok. name:").concat(ft," userIDList:").concat(gt));var Dt=St.data.resultList,Lt=[],jt=[];Dt&&Dt.forEach(function(Jt){var cn=Jt.to,bn=Jt.resultCode,On=Jt.resultInfo;if(fr(bn)||bn===0)Lt.push(cn);else{var Fn={userID:Jt.to,code:bn,message:On};jt.push(Fn)}});var Kt=new Av({name:ft,userIDList:Lt});return _t._friendGroupMap.set(ft,Kt),_t._snsModule.updateWhenAddedToFriendGroup({name:ft,userIDList:Lt}),_t._emitFriendGroupListUpdated(),oo({friendGroup:Kt,failureUserIDList:jt})}).catch(function(St){return _t._snsModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(at," failed. error:"),St),Xn(St)})}},{key:"deleteFriendGroup",value:function(ut){var _t=this,at="".concat(this._n,".").concat("deleteFriendGroup"),ft=ut.name;if(!this._friendGroupMap.has(ft))return Xn({code:pr.FRIEND_GROUP_NOT_EXIST});var gt=new br("deleteFriendGroup");return gt.setMessage("name:".concat(ft)),this._snsModule.request({protocolName:mm,requestData:{fromAccount:this._snsModule.getMyUserID(),nameList:[ft]}}).then(function(Ct){gt.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.l("".concat(at," ok. name:").concat(ft));var St=_t._friendGroupMap.get(ft);return St&&(_t._snsModule.updateWhenRemovedFromFriendGroup({name:ft,userIDList:St.userIDList}),_t._friendGroupMap.delete(ft),St.userIDList.length=0),_t._emitFriendGroupListUpdated(),oo(St)}).catch(function(Ct){return _t._snsModule.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];gt.setError(Ct,Lt,jt).end()}),sn.w("".concat(at," failed. error:"),Ct),Xn(Ct)})}},{key:"renameFriendGroup",value:function(ut){var _t=this,at="".concat(this._n,".").concat("renameFriendGroup"),ft=ut.oldName,gt=ut.newName;if(!this._friendGroupMap.has(ft))return Xn({code:pr.FRIEND_GROUP_NOT_EXIST});var Ct=new br("renameFriendGroup");return Ct.setMessage("oldName:".concat(ft," newName:").concat(gt)),this._snsModule.request({protocolName:Lm,requestData:{fromAccount:this._snsModule.getMyUserID(),oldName:ft,newName:gt}}).then(function(){if(Ct.setNetworkType(_t._snsModule.getNetworkType()).end(),sn.l("".concat(at," ok. oldName:").concat(ft," newName:").concat(gt)),_t._friendGroupMap.has(ft)){var St=_t._friendGroupMap.get(ft);return St.name=gt,_t._friendGroupMap.delete(ft),_t._friendGroupMap.set(gt,St),_t._snsModule.updateWhenRemovedFromFriendGroup({name:ft,userIDList:St.userIDList}),_t._snsModule.updateWhenAddedToFriendGroup({name:gt,userIDList:St.userIDList}),_t._emitFriendGroupListUpdated(),oo(St)}return oo()}).catch(function(St){return _t._snsModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(at," failed. error:"),St),Xn(St)})}},{key:"addToFriendGroup",value:function(ut){var _t=this,at="".concat(this._n,".").concat("addToFriendGroup"),ft=ut.name,gt=ut.userIDList;if(!this._friendGroupMap.has(ft))return this._onFriendGroupNotExist(ft);var Ct=new br("addToFriendGroup");return Ct.setMessage("name:".concat(ft," userIDList:").concat(gt)),sn.l("".concat(at," name:").concat(ft," userIDList:").concat(gt)),this._snsModule.request({protocolName:Lm,requestData:{fromAccount:this._snsModule.getMyUserID(),oldName:ft,updateGroupItem:gt.filter(function(St){return _t._snsModule.isMyFriend(St)}).map(function(St){return{to:St,updateType:"Update_Type_Add"}})}}).then(function(St){return Ct.setNetworkType(_t._snsModule.getNetworkType()).end(),_t._onFriendGroupUpdated(ft,St)}).catch(function(St){return _t._snsModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(at," failed. error:"),St),Xn(St)})}},{key:"removeFromFriendGroup",value:function(ut){var _t=this,at="".concat(this._n,".").concat("removeFromFriendGroup"),ft=ut.name,gt=ut.userIDList;if(!this._friendGroupMap.has(ft))return this._onFriendGroupNotExist(ft);var Ct=new br("removeFromFriendGroup");return Ct.setMessage("name:".concat(ft," userIDList:").concat(gt)),sn.l("".concat(at," name:").concat(ft," userIDList:").concat(gt)),this._snsModule.request({protocolName:Lm,requestData:{fromAccount:this._snsModule.getMyUserID(),oldName:ft,updateGroupItem:gt.filter(function(St){return _t._snsModule.isMyFriend(St)}).map(function(St){return{to:St,updateType:"Update_Type_Delete"}})}}).then(function(St){return Ct.setNetworkType(_t._snsModule.getNetworkType()).end(),_t._onFriendGroupUpdated(ft,St)}).catch(function(St){return _t._snsModule.probeNetwork().then(function(Dt){var Lt=Ft(Dt,2),jt=Lt[0],Kt=Lt[1];Ct.setError(St,jt,Kt).end()}),sn.w("".concat(at," failed. error:"),St),Xn(St)})}},{key:"_onFriendGroupUpdated",value:function(ut,_t){var at=_t.data.resultList,ft=this._friendGroupMap.get(ut),gt=[],Ct=[],St=[];return Zr(at)&&at.forEach(function(Dt){var Lt=Dt.to,jt=Dt.resultCode,Kt=Dt.resultInfo,Jt=Dt.type;jt===0?Jt==="Update_Type_Add"?ft&&(ft.addToUserIDList(Lt),Ct.push(Lt)):Jt==="Update_Type_Delete"&&ft&&(ft.removeFromUserIDList(Lt),St.push(Lt)):gt.push({to:Dt.to,code:jt,message:Kt})}),sn.l("".concat(this._n,"._onFriendGroupUpdated name:").concat(ut," userIDList:").concat(ft.userIDList)),Ct.length>0&&this._snsModule.updateWhenAddedToFriendGroup({name:ut,userIDList:Ct}),St.length>0&&this._snsModule.updateWhenRemovedFromFriendGroup({name:ut,userIDList:St}),oo({friendGroup:ft,failureUserIDList:gt})}},{key:"updateWhenFriendAdded",value:function(ut){var _t=this,at=ut.nameList,ft=ut.userID;sn.l("".concat(this._n,".updateWhenFriendAdded userID:").concat(ft," nameList:").concat(at)),kr(at)||at.forEach(function(gt){_t._friendGroupMap.has(gt)&&_t._friendGroupMap.get(gt).addToUserIDList(ft)})}},{key:"updateWhenFriendDeleted",value:function(ut){var _t=this,at=ut.nameList,ft=ut.userID;sn.l("".concat(this._n,".updateWhenFriendDeleted userID:").concat(ft," nameList:").concat(at)),kr(at)||at.forEach(function(gt){_t._friendGroupMap.has(gt)&&_t._friendGroupMap.get(gt).removeFromUserIDList(ft)})}},{key:"reset",value:function(){this._friendGroupMap.clear()}}]),Nt}(),C0=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="SnsModule",ft._friendHandler=new Ev(Bt(ft)),ft._friendApplicationHandler=new __(Bt(ft)),ft._friendGroupHandler=new Jy(Bt(ft)),ft.getInnerEmitterInstance().on(Yl,ft.onContextUpdated,Bt(ft)),ft}return lt(_t,[{key:"onContextUpdated",value:function(at){this._friendHandler.pagingGetFriendList(),this._friendGroupHandler.getFriendGroupList(),this._friendApplicationHandler.getFriendApplicationList()}},{key:"onRelationChainModified",value:function(at){var ft=this,gt=at.dataList;if(!kr(gt)){var Ct=[],St=[],Dt=[],Lt=[],jt=!1,Kt="";gt.forEach(function(Jt){if(Jt.pushType!==3&&Jt.pushType!==4||!Jt.from||(Kt=Jt.from),Jt.friendAddAccount&&(Ct.push.apply(Ct,Ht(Jt.friendAddAccount)),Lt.push.apply(Lt,Ht(Jt.friendAddAccount))),Jt.friendDelAccount&&St.push.apply(St,Ht(Jt.friendDelAccount)),Jt.friendApplicationAdded&&Dt.push.apply(Dt,Ht(Jt.friendApplicationAdded)),Jt.friendApplicationDeletedUserIDList&&Lt.push.apply(Lt,Ht(Jt.friendApplicationDeletedUserIDList)),Jt.reportTime&&Jt.pushType===7&&(jt=!0),Jt.friendUpInfo){var cn={dataList:[]};Jt.friendUpInfo.forEach(function(bn){cn.dataList.push({userID:bn.friendAccount,profileList:Ht(bn.sns)})}),ft.onFriendProfileModified(cn)}}),jt&&this._friendApplicationHandler.onFriendApplicationRead(),this._friendApplicationHandler.onFriendApplicationAdded(Dt,Kt),this._friendApplicationHandler.onFriendApplicationDeleted(Lt),this._friendHandler.onFriendAdded(Ct),this._friendHandler.onFriendDeleted(St)}}},{key:"isMyFriend",value:function(at){return this._friendHandler.isMyFriend(at)}},{key:"filterProfanity",value:function(at,ft){var gt=this.getModule(Ju);if(!gt)return!0;var Ct=gt.filterText(ft[at],Oo),St=Ct.isAllowedToSend,Dt=Ct.modifiedText;return St===!0&&(ft[at]=Dt,!0)}},{key:"onFriendProfileModified",value:function(at){this._friendHandler.onFriendProfileModified(at)}},{key:"getLocalFriendList",value:function(){var at=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ft=this._friendHandler.getLocalFriendList();return at?Io(ft):ft}},{key:"getFriendRemark",value:function(at){return this._friendHandler.getFriendRemark(at)}},{key:"getFriendList",value:function(){return this._friendHandler.pagingGetFriendList()}},{key:"addFriend",value:function(at){return this._friendHandler.addFriend(at)}},{key:"deleteFriend",value:function(at){return this._friendHandler.deleteFriend(at)}},{key:"checkFriend",value:function(at){return this._friendHandler.checkFriend(at)}},{key:"getFriendProfile",value:function(at){return this._friendHandler.getFriendProfile(at)}},{key:"updateFriend",value:function(at){return this._friendHandler.updateFriend(at)}},{key:"updateWhenAddedToFriendGroup",value:function(at){this._friendHandler.updateWhenAddedToFriendGroup(at)}},{key:"updateWhenRemovedFromFriendGroup",value:function(at){this._friendHandler.updateWhenRemovedFromFriendGroup(at)}},{key:"getLocalFriendApplicationList",value:function(){var at=this._friendApplicationHandler.getLocalFriendApplicationList();return Io(at)}},{key:"deleteFriendApplication",value:function(at){return this._friendApplicationHandler.deleteFriendApplication(at)}},{key:"refuseFriendApplication",value:function(at){return this._friendApplicationHandler.refuseFriendApplication(at)}},{key:"acceptFriendApplication",value:function(at){return this._friendApplicationHandler.acceptFriendApplication(at)}},{key:"setFriendApplicationRead",value:function(at){return this._friendApplicationHandler.setFriendApplicationRead(at)}},{key:"getLocalFriendGroupList",value:function(){var at=this._friendGroupHandler.getLocalFriendGroupList();return Io(at)}},{key:"createFriendGroup",value:function(at){return this._friendGroupHandler.createFriendGroup(at)}},{key:"deleteFriendGroup",value:function(at){return this._friendGroupHandler.deleteFriendGroup(at)}},{key:"addToFriendGroup",value:function(at){return this._friendGroupHandler.addToFriendGroup(at)}},{key:"removeFromFriendGroup",value:function(at){return this._friendGroupHandler.removeFromFriendGroup(at)}},{key:"renameFriendGroup",value:function(at){return this._friendGroupHandler.renameFriendGroup(at)}},{key:"onAddToFriendGroup",value:function(at){return this._friendGroupHandler.onAddToFriendGroup(at)}},{key:"updateWhenFriendAdded",value:function(at){this._friendGroupHandler.updateWhenFriendAdded(at)}},{key:"updateWhenFriendDeleted",value:function(at){this._friendGroupHandler.updateWhenFriendDeleted(at)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._friendHandler.reset(),this._friendGroupHandler.reset(),this._friendApplicationHandler.reset()}}]),_t}(Ys),Xy=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="WorkerTimerModule",ft._isWorkerEnabled=!0,ft._workerTimer=null,ft._timerID=-1,ft._init(),ft.getInnerEmitterInstance().on(vp,ft._onCloudConfigUpdated,Bt(ft)),ft}return lt(_t,[{key:"isWorkerEnabled",value:function(){return this._isWorkerEnabled&&ls}},{key:"startWorkerTimer",value:function(){sn.l("".concat(this._n,".startWorkerTimer")),this._workerTimer&&this._workerTimer.postMessage("start")}},{key:"stopWorkerTimer",value:function(){sn.l("".concat(this._n,".stopWorkerTimer")),this._workerTimer&&this._workerTimer.postMessage("stop")}},{key:"_init",value:function(){if(ls){var at=URL.createObjectURL(new Blob(['let interval = -1;onmessage = function(event) {  if (event.data === "start") {    if (interval > 0) {      clearInterval(interval);    }    interval = setInterval(() => {      postMessage("");    }, 1000);    postMessage(interval);  } else if (event.data === "stop") {    clearInterval(interval);    interval = -1;  }};'],{type:"application/javascript; charset=utf-8"}));this._workerTimer=new Worker(at);var ft=this;this._workerTimer.onmessage=function(gt){gt.data?(ft._timerID=gt.data,sn.l("".concat(ft._n,"._init seed:").concat(ft._timerID))):ft._m.onCheckTimer()}}}},{key:"_onCloudConfigUpdated",value:function(){var at=this.getCloudConfig("enable_worker");sn.l("".concat(this._n,"._onCloudConfigUpdated enableWorker:").concat(at)),fr(at)||at==="1"?!this._isWorkerEnabled&&ls&&(this._isWorkerEnabled=!0,this.startWorkerTimer(),this._m.onWorkerTimerEnabled()):this._isWorkerEnabled&&ls&&(this._isWorkerEnabled=!1,this.stopWorkerTimer(),this._m.onWorkerTimerDisabled())}},{key:"terminate",value:function(){sn.l("".concat(this._n,".terminate")),this._workerTimer&&(this._workerTimer.terminate(),this._workerTimer=null,this._timerID=-1)}},{key:"getTimerID",value:function(){return this._timerID}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset"))}}]),_t}(Ys),zm=function(){function Nt(){it(this,Nt),this._n="PurchasedFeatureHandler",this._purchasedFeatureMap=new Map}return lt(Nt,[{key:"isValidPurchaseBits",value:function(ut){return ut&&typeof ut=="string"&&ut.length>=1&&ut.length<=64&&/[01]{1,64}/.test(ut)}},{key:"parsePurchaseBits",value:function(ut){if(this.isValidPurchaseBits(ut)){this._purchasedFeatureMap.clear();for(var _t=null,at=ut.length-1,ft=0;at>=0;at--,ft++)_t=ft<32?new vn(0,Math.pow(2,ft)).toString():new vn(Math.pow(2,ft-32),0).toString(),ut[at]==="1"?this._purchasedFeatureMap.set(_t,!0):this._purchasedFeatureMap.set(_t,!1)}else sn.w("".concat(this._n,".parsePurchaseBits invalid purchasebits:").concat(ut))}},{key:"hasPurchasedFeature",value:function(ut){return!!this._purchasedFeatureMap.get(ut)}},{key:"isFeatureEnabled",value:function(ut){for(var _t=parseInt(ut).toString(2),at=void 0,ft=!0,gt=_t.length-1,Ct=0;gt>=0;gt--,Ct++)if(_t.charAt(gt)==="1"&&(at=Ct<32?new vn(0,Math.pow(2,Ct)).toString():new vn(Math.pow(2,Ct-32),0).toString(),!this._purchasedFeatureMap.get(at))){ft=!1;break}return sn.l("".concat(this._n,".isFeatureEnabled decimalNumber:").concat(ut," binaryString:").concat(_t," ret:").concat(ft)),Io({enabled:ft})}},{key:"clear",value:function(){this._purchasedFeatureMap.clear()}}]),Nt}(),ly=function(){function Nt(ut){it(this,Nt),this._m=ut,this._n="CommercialConfigModule",this._expiredTime=0,this._isFetching=!1,this._purchasedFeatureHandler=new zm}return lt(Nt,[{key:"_canFetch",value:function(){return this._getModule(jo).isLoggedIn()?!this._isFetching&&Date.now()>=this._expiredTime:(this._expiredTime=Date.now()+2e3,!1)}},{key:"onCheckTimer",value:function(ut){this._canFetch()&&this.fetchConfig()}},{key:"fetchConfig",value:function(){var ut=this,_t=this._canFetch(),at="".concat(this._n,".fetchConfig");if(sn.l("".concat(at," canFetch:").concat(_t)),_t){var ft=this._getModule(Su),gt=new br("fetchCommercialConfig");gt.setNetworkType(ft.getNetworkType());var Ct=this._getModule(jo).getSDKAppID(),St=this._getModule($s);this._isFetching=!0,St.request({protocolName:$m,requestData:{SDKAppID:Ct}}).then(function(Dt){gt.setMessage("purchaseBits:".concat(Dt.data.purchaseBits)).end(),sn.l("".concat(at," ok.")),ut._parseConfig(Dt.data),ut._isFetching=!1}).catch(function(Dt){ft.probe().then(function(Lt){var jt=Ft(Lt,2),Kt=jt[0],Jt=jt[1];gt.setError(Dt,Kt,Jt).end()}),ut._isFetching=!1})}}},{key:"onPushedConfig",value:function(ut){var _t="".concat(this._n,".onPushedConfig data:").concat(JSON.stringify(ut));sn.l("".concat(_t)),new br("pushedCommercialConfig").setNetworkType(this._getModule(Su).getNetworkType()).setMessage("purchaseBits:".concat(ut.purchaseBits)).end(),this._parseConfig(ut)}},{key:"_parseConfig",value:function(ut){var _t="".concat(this._n,"._parseConfig"),at=ut.errorCode,ft=ut.errorMessage,gt=ut.purchaseBits,Ct=ut.expiredTime;at===0?(this._purchasedFeatureHandler.parsePurchaseBits(gt),this._expiredTime=Date.now()+1e3*Ct):fr(at)?(sn.l("".concat(_t," failed. Invalid message format:"),ut),this._setExpiredTimeOnResponseError(36e5)):(sn.e("".concat(_t," errorCode:").concat(at," errorMessage:").concat(ft)),this._setExpiredTimeOnResponseError(12e4))}},{key:"_setExpiredTimeOnResponseError",value:function(ut){this._expiredTime=Date.now()+ut}},{key:"canIUse",value:function(ut){return this._purchasedFeatureHandler.hasPurchasedFeature(ut)}},{key:"isFeatureEnabled",value:function(ut){return this._purchasedFeatureHandler.isFeatureEnabled(ut)}},{key:"_getModule",value:function(ut){return this._m.getModule(ut)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._expiredTime=0,this._isFetching=!1,this._purchasedFeatureHandler.clear()}}]),Nt}(),Zy=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._m=at,ft._n="OfflinePushModule",ft._offlinePushPlugin=void 0,ft._androidPushConfig={huaweiPushBussinessId:"",xiaomiPushBussinessId:"",xiaomiPushAppId:"",xiaomiPushAppKey:"",meizuPushBussinessId:"",meizuPushAppId:"",meizuPushAppKey:"",vivoPushBussinessId:"",fcmPushBussinessId:"",oppoPushBussinessId:"",oppoPushAppKey:"",oppoPushAppSecret:"",honorPushBussinessId:""},ft._deviceToken="",ft._businessID=0,ft._iosBusinessID=0,ft._c2cUnreadCount=0,ft._groupUnreadCount=0,ft._isWebUniapp=0,ft}return lt(_t,[{key:"registerPlugin",value:function(at){if(lr){this._offlinePushPlugin=at["tim-offline-push-plugin"];var ft=at.offlinePushConfig||{},gt=ft.huaweiBusinessID,Ct=ft.xiaomiBusinessID,St=ft.xiaomiAppID,Dt=ft.xiaomiAppKey,Lt=ft.meizuBusinessID,jt=ft.meizuAppID,Kt=ft.meizuAppKey,Jt=ft.vivoBusinessID,cn=ft.oppoBusinessID,bn=ft.oppoAppKey,On=ft.oppoAppSecret,Fn=ft.honorBusinessID,Wn=ft.iosBusinessID;this._androidPushConfig.huaweiPushBussinessId=gt,this._androidPushConfig.xiaomiPushBussinessId=Ct,this._androidPushConfig.xiaomiPushAppId=St,this._androidPushConfig.xiaomiPushAppKey=Dt,this._androidPushConfig.meizuPushBussinessId=Lt,this._androidPushConfig.meizuPushAppId=jt,this._androidPushConfig.meizuPushAppKey=Kt,this._androidPushConfig.vivoPushBussinessId=Jt,this._androidPushConfig.oppoPushBussinessId=cn,this._androidPushConfig.oppoPushAppKey=bn,this._androidPushConfig.oppoPushAppSecret=On,this._androidPushConfig.honorPushBussinessId=Fn,new br("registerPlugin").setMessage("tim-offline-push-plugin").setMoreMessage("isExist:".concat(!fr(this._offlinePushPlugin))).end(!0),sn.l("".concat(this._n,".").concat("registerPlugin"," ok. offlinePushConfig:").concat(JSON.stringify(at.offlinePushConfig))),this._iosBusinessID=Wn,this._setAppShowListener()}else this.outputWarning("OfflinePushInUniapp")}},{key:"init",value:function(){this._isWebUniapp=this.getUniAppPlatform(),this._getDeviceToken()}},{key:"_getDeviceToken",value:function(){var at=this,ft="".concat(this._n,".").concat("_getDeviceToken");if(ku(this._offlinePushPlugin.getDeviceToken)){var gt="androidPushConfig:".concat(JSON.stringify(this._androidPushConfig),", iosBusinessID:").concat(this._iosBusinessID);sn.l("".concat(ft," start. ").concat(gt)),new br("_getDeviceToken").setMessage("".concat(gt)).end(!0),this._offlinePushPlugin.getDeviceToken(this._androidPushConfig,function(Ct){var St=new br("getDeviceTokenRes"),Dt=Ct.code,Lt=Ct.msg;if(Dt===0){var jt=Ct.data,Kt=jt.deviceToken,Jt=jt.deviceBrand,cn=jt.deviceType,bn=jt.bussinessId;at._deviceToken=Kt,at._businessID=bn||at._iosBusinessID,gt="deviceToken:".concat(Kt,", deviceBrand:").concat(Jt||cn,", businessID:").concat(at._businessID),sn.l("".concat(ft," ok. ").concat(gt)),St.setMessage(gt).end(!0),at._setToken()}else St.setMessage("code:".concat(Dt,", msg:").concat(Lt)).end(!0),sn.e("".concat(ft," failed. error:"),Ct)})}else sn.e("".concat(ft," getDeviceToken is not a function"))}},{key:"canIUseOfflinePush",value:function(){return lr&&!fr(this._offlinePushPlugin)}},{key:"_setAppShowListener",value:function(){var at=this,ft="".concat(this._n,".").concat("_setAppShowListener");fr(this._offlinePushPlugin)?sn.e("".concat(ft," offlinePushPlugin is undefined")):ku(this._offlinePushPlugin.setAppShowListener)?(new br("_setAppShowListener").end(!0),sn.l("".concat(ft," start")),this._offlinePushPlugin.setAppShowListener(function(gt){var Ct=(gt||{}).appShow;new br("setAppShowListenerRes").setMessage("appShow:".concat(Ct)).end(!0),sn.l("".concat(ft," ok. appShow:").concat(Ct)),at._m.isReady()&&(Ct===0?(at._getConvUnreadCount(),at._onBackground()):Ct===1&&at._onForeground())})):sn.e("".concat(ft," setAppShowListener is not a function"))}},{key:"getDeviceBrand",value:function(){if(!fr(this._offlinePushPlugin)&&ku(this._offlinePushPlugin.getDeviceType)){var at=(this._offlinePushPlugin.getDeviceType()||{}).deviceType;return sn.l("".concat(this._n,".getDeviceBrand ok. deviceType:").concat(at)),at}}},{key:"_setToken",value:function(){var at,ft=this,gt="".concat(this._n,"._setToken"),Ct=this.getModule(jo),St=1,Dt="",Lt="";kr(this._deviceToken)&&(St=0);var jt=this.getUniAppPlatform(),Kt=this.getDeviceBrand();jt===Ln.IOS||jt===Ln.IPAD||jt===Ln.MAC?Lt=this._deviceToken:jt===Ln.ANDROID&&(Dt=this._deviceToken);var Jt=new br("offlinePushSetToken");return at="deviceToken:".concat(Lt||Dt,", businessID:").concat(this._businessID,", ")+"deviceBrand:".concat(Kt,", isWebUniapp:").concat(this._isWebUniapp,", pushMsg:").concat(St,", platform:").concat(jt),Jt.setMessage("".concat(at)),sn.l("".concat(gt," ").concat(at)),this.request({protocolName:T_,requestData:{tokenID:Dt,pushMsg:St,sdkAppID:Ct.getSDKAppID(),businessID:parseInt(this._businessID),deviceBrand:Kt,deviceToken:Lt,isWebUniapp:this._isWebUniapp}}).then(function(cn){return Jt.end(),sn.l("".concat(gt," ok")),cn}).catch(function(cn){return ft.probeNetwork().then(function(bn){var On=Ft(bn,2),Fn=On[0],Wn=On[1];Jt.setError(cn,Fn,Wn).end()}),sn.e("".concat(gt," failed. error:"),cn),Xn(cn)})}},{key:"_getConvUnreadCount",value:function(){var at=this;this._c2cUnreadCount=0,this._groupUnreadCount=0,this.getModule(no).getLocalConversationList().forEach(function(ft){ft.type===Ut.CONV_C2C&&(at._c2cUnreadCount+=ft.unreadCount),ft.type===Ut.CONV_GROUP&&(at._groupUnreadCount+=ft.unreadCount)})}},{key:"_onBackground",value:function(){var at=this,ft="".concat(this._n,".").concat("_onBackground"),gt=new br("_onBackground");this.request({protocolName:xr,requestData:{c2cUnreadCount:this._c2cUnreadCount,groupUnreadCount:this._groupUnreadCount,isWebUniapp:this._isWebUniapp}}).then(function(Ct){return gt.setMessage("c2cUnreadCount: ".concat(at._c2cUnreadCount,", groupUnreadCount: ").concat(at._groupUnreadCount)).end(),sn.l("".concat(ft," ok")),Ct}).catch(function(Ct){at.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];gt.setError(Ct,Lt,jt).end()}),sn.e("".concat(ft," failed. error:"),Ct)})}},{key:"_onForeground",value:function(){var at=this,ft="".concat(this._n,".").concat("_onForeground"),gt=new br("_onForeground");this.request({protocolName:rv,requestData:{isWebUniapp:this._isWebUniapp}}).then(function(Ct){return gt.end(),sn.l("".concat(ft," ok")),Ct}).catch(function(Ct){at.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];gt.setError(Ct,Lt,jt).end()}),sn.e("".concat(ft," failed. error:"),Ct)})}},{key:"getUniAppPlatform",value:function(){var at=uni.getSystemInfoSync().platform,ft=this.getDeviceBrand();return at==="ios"?Ln.IOS:at==="android"?Ln.ANDROID:ft===1002?Ln.IPAD:ft===1001?Ln.MAC:void 0}},{key:"reset",value:function(){this._deviceToken="",this._businessID=0,this._c2cUnreadCount=0,this._groupUnreadCount=0,this._isWebUniapp=0,sn.l("".concat(this._n,".reset"))}}]),_t}(Ys),Km=function(Nt){mt(_t,Nt);var ut=$t(_t);function _t(at){var ft;return it(this,_t),(ft=ut.call(this,at))._n="ProfanityFilterModule",ft._plugin=null,ft._filterConfigMap=new Map,ft._startIndex=0,ft._version=0,ft._canIUseLexicon=!1,ft._isFetching=!1,ft._expiredTime=0,ft}return lt(_t,[{key:"init",value:function(){var at=this.getModule(Hl).getPlugin("tim-profanity-filter-plugin");at?(this._plugin=new at({logger:sn,isArray:Zr,isMap:to,isDevMode:this.isDevMode()}),this._getLexicon()):this.outputWarning("ProfanityPluginNotFound")}},{key:"onCheckTimer",value:function(){this._plugin&&this._canIUseLexicon&&this.isLoggedIn()&&!this._isFetching&&Date.now()>=this._expiredTime&&this._getLexicon()}},{key:"filterMessage",value:function(at,ft){var gt=!0;if(!this._plugin||!this._canIUseLexicon||ft&&ft.messageControlInfo&&ft.messageControlInfo.excludedFromContentModeration===!0)return gt;var Ct=at.type,St=at.conversationType;if(Ct!==Ut.MSG_TEXT&&Ct!==Ut.MSG_CUSTOM)return gt;var Dt,Lt="".concat(this._n,".filterMessage");if(sn.l("".concat(Lt)),Ct===Ut.MSG_TEXT){if(St===Ut.CONV_C2C?Dt=lo:St===Ut.CONV_GROUP&&(Dt=bo),!this._isConfigOn(Dt))return gt;var jt=this._plugin.filter(at.payload.text),Kt=jt.type,Jt=jt.modifiedText;Kt===1?gt=!1:Kt===2&&(at.payload.text=Jt)}else if(Ct===Ut.MSG_CUSTOM){if(St===Ut.CONV_C2C?Dt=_o:St===Ut.CONV_GROUP&&(Dt=Hr),!this._isConfigOn(Dt))return gt;var cn=this._plugin.filter(at.payload.data),bn=this._plugin.filter(at.payload.description),On=this._plugin.filter(at.payload.extension);cn.type===1||bn.type===1||On.type===1?gt=!1:(cn.type===2&&(at.payload.data=cn.modifiedText),bn.type===2&&(at.payload.description=bn.modifiedText),On.type===2&&(at.payload.extension=On.modifiedText))}return sn.l("".concat(Lt," done. isAllowedToSend:").concat(gt)),gt}},{key:"filterText",value:function(at,ft){var gt="".concat(this._n,".filterText"),Ct={isAllowedToSend:!0,modifiedText:at};if(!this._plugin||!this._canIUseLexicon||!this._isConfigOn(ft))return Ct;sn.l("".concat(gt));var St=this._plugin.filter(at),Dt=St.type,Lt=St.modifiedText;return Dt===1?Ct.isAllowedToSend=!1:Dt===2&&(Ct.modifiedText=Lt),sn.l("".concat(gt," done. ret:"),Ct),Ct}},{key:"_getLexicon",value:function(){var at=this,ft=new br("profanityFilter"),gt="".concat(this._n,"._getLexicon");this._isFetching=!0,this.request({protocolName:x_,requestData:{startIndex:this._startIndex,version:this._version}}).then(function(Ct){var St=Ct.data,Dt=St.errorInfo,Lt=St.filterConfig,jt=St.lexicon,Kt=St.strToken,Jt=St.completeFlag,cn=St.nextStartIndex,bn=St.version,On=St.expiredTime,Fn=Dt.errorCode,Wn=Dt.errorMessage;return Fn!==0?(at._isFetching=!1,sn.w("".concat(gt," failed. error:"),Dt),void ft.setCode(Fn).setMessage(Wn).end()):(at._onFilterConfig(Lt),at._getToken(Kt),Jt===1?(sn.l("".concat(gt," done. version:").concat(bn," expiredTime:").concat(On)),at._version=bn,at._canIUseLexicon=!0,at._isFetching=!1,at._expiredTime=Date.now()+1e3*On,void at._plugin.onLexiconCompleted(jt)):(at._startIndex=cn,at._plugin.onLexiconSliced(jt),void at._getLexicon()))}).catch(function(Ct){at.probeNetwork().then(function(St){var Dt=Ft(St,2),Lt=Dt[0],jt=Dt[1];ft.setError(Ct,Lt,jt).end()}),at._isFetching=!1,sn.l("".concat(gt," failed. error:"),Ct)})}},{key:"_onFilterConfig",value:function(at){var ft=this;kr(at)||(this._filterConfigMap.clear(),Object.keys(at).forEach(function(gt){ft._filterConfigMap.set(gt,at[gt])}),sn.l("".concat(this._n,"._onFilterConfig. keys:").concat(Array.from(this._filterConfigMap.keys())," values:").concat(Array.from(this._filterConfigMap.values()))))}},{key:"_isConfigOn",value:function(at){return this._filterConfigMap.get(at)===1}},{key:"_getToken",value:function(at){if(yo(at)){var ft=at.length,gt="";if(ft%2==0)for(var Ct=0;Ct<=ft-1;Ct+=2)gt+=at[Ct+1],gt+=at[Ct];else{for(var St=0;St<ft-1;St+=2)gt+=at[St+1],gt+=at[St];gt+=at[ft-1]}this._plugin.onToken(gt)}}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._plugin&&(this._plugin.reset(),this._plugin=null),this._filterConfigMap.clear(),this._startIndex=0,this._version=0,this._canIUseLexicon=!1,this._isFetching=!1,this._expiredTime=0}}]),_t}(Ys),am=function(){function Nt(ut){it(this,Nt),this._m=ut,this._n="TransCmdModule",this._TRTCCommandList=["tui_room_svr.*"],this._m.getInnerEmitterInstance().on(vp,this._onCloudConfigUpdated,this)}return lt(Nt,[{key:"_onCloudConfigUpdated",value:function(){var ut=this,_t=this._m.getModule(zl).getCloudConfig("rtc_cmd");fr(_t)||(_t=JSON.parse(_t)).forEach(function(at){ut._TRTCCommandList.includes(at)||ut._TRTCCommandList.push(at)})}},{key:"sendTRTCCustomData",value:function(ut){var _t=ut.serviceCommand,at=ut.data,ft="".concat(Zt.NAME.TUIROOM_SVR,".*");return fr(_t)||(ft=_t),this._TRTCCommandList.includes(ft)?this._trans({servcmd:ft,data:at}):Xn({code:pr.INVALID_TRTC_CMD})}},{key:"_trans",value:function(ut){sn.d("".concat(this._n,"._trans. options:").concat(JSON.stringify(ut)));var _t=ut.servcmd,at=ut.data;return this._m.getModule($s).trans({servcmd:_t,data:yo(at)?JSON.parse(at):at})}},{key:"getCommandList",value:function(){return this._TRTCCommandList}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset"))}}]),Nt}(),V_=function(){function Nt(ut){it(this,Nt),this._m=ut,this._n="ErrorMessageModule",this.TIM_ERROR_ASSISTANCE="tim_error_assistance",this.STORAGE_EXPIRES_TIME=6048e5,this._map=new Map,this._init()}return lt(Nt,[{key:"_init",value:function(){var ut=this._getStorageModule().getItem(this.TIM_ERROR_ASSISTANCE,!1);if(ut){var _t;try{_t=JSON.parse(ut)}catch(at){this._getStorageModule().removeItem(this.TIM_ERROR_ASSISTANCE,!1),sn.w("".concat(this._n,"._init error:"),at)}_t&&(this._needToUpdate(_t)?this._fetch():this._fillMap(_t.message))}else this._fetch()}},{key:"_needToUpdate",value:function(ut){var _t=ut.localSavedTime,at=ut.localSavedVersion,ft=_t&&new Date().getTime()-_t>=this.STORAGE_EXPIRES_TIME,gt=!at||at!=="2.27.6";return sn.l("".concat(this._n,"._needToUpdate isTimeout:").concat(ft," isDifferentVersion:").concat(gt)),ft||gt}},{key:"_fetch",value:function(){if(!this._m.getModule(jo).isPrivateNetWork()){var ut="https://web.sdk.qcloud.com/im/download/error-message/0.0.1/tim-error-message.txt",_t="application/x-www-form-urlencoded;charset=UTF-8",at="".concat(this._n,"._fetch ok in"),ft=this;if(gr)Ar.request({url:ut,method:"GET",timeout:3e3,header:{"content-type":_t},dataType:"text",success:function(St){ft._fillAndSave(St.data),sn.l("".concat(at," mini program"))},fail:function(){}});else{var gt=new XMLHttpRequest,Ct=setTimeout(function(){gt.abort()},3e3);gt.onreadystatechange=function(){gt.readyState===4&&(clearTimeout(Ct),gt.status!==200&&gt.status!==304||(sn.l("".concat(at," browser")),ft._fillAndSave(gt.responseText)))},gt.open("GET",ut,!0),gt.setRequestHeader("Content-type",_t),gt.send()}}}},{key:"_fillAndSave",value:function(ut){this._fillMap(ut),this._getStorageModule().setItem(this.TIM_ERROR_ASSISTANCE,JSON.stringify({message:ut,localSavedTime:new Date().getTime(),localSavedVersion:"2.27.6"}),!0,!1)}},{key:"_getStorageModule",value:function(){return this._m.getModule(Yu)}},{key:"_fillMap",value:function(ut){this._map.clear();for(var _t,at,ft,gt=ut.split(`;
`),Ct=gt.length,St=new RegExp(/'/g),Dt=0;Dt<Ct;Dt++)if(_t=gt[Dt].indexOf(":"),at=gt[Dt].slice(0,_t),ft=gt[Dt].slice(_t+1,gt[Dt].length),!at.startsWith("//")){if(fr(ft))continue;this._map.set(at,ft.replace(St,""))}}},{key:"get",value:function(ut){var _t=ut.isIntl,at=ut.key,ft=ut.replacement1,gt=ut.replacement2,Ct="".concat(at,_t?"_en":"_cn");!this._map.has(Ct)&&this._map.has(at)&&(Ct=at);var St="";return this._map.has(Ct)&&(St=this._map.get(Ct),fr(ft)||(St=St.replace("$replacement1",ft)),fr(gt)||(St=St.replace("$replacement2",gt))),St}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset"))}}]),Nt}(),Ns=G_(function(Nt,ut){var _t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function at(Ct,St){return Object.prototype.hasOwnProperty.call(Ct,St)}ut.assign=function(Ct){for(var St=Array.prototype.slice.call(arguments,1);St.length;){var Dt=St.shift();if(Dt){if(ot(Dt)!=="object")throw new TypeError(Dt+"must be non-object");for(var Lt in Dt)at(Dt,Lt)&&(Ct[Lt]=Dt[Lt])}}return Ct},ut.shrinkBuf=function(Ct,St){return Ct.length===St?Ct:Ct.subarray?Ct.subarray(0,St):(Ct.length=St,Ct)};var ft={arraySet:function(Ct,St,Dt,Lt,jt){if(St.subarray&&Ct.subarray)Ct.set(St.subarray(Dt,Dt+Lt),jt);else for(var Kt=0;Kt<Lt;Kt++)Ct[jt+Kt]=St[Dt+Kt]},flattenChunks:function(Ct){var St,Dt,Lt,jt,Kt,Jt;for(Lt=0,St=0,Dt=Ct.length;St<Dt;St++)Lt+=Ct[St].length;for(Jt=new Uint8Array(Lt),jt=0,St=0,Dt=Ct.length;St<Dt;St++)Kt=Ct[St],Jt.set(Kt,jt),jt+=Kt.length;return Jt}},gt={arraySet:function(Ct,St,Dt,Lt,jt){for(var Kt=0;Kt<Lt;Kt++)Ct[jt+Kt]=St[Dt+Kt]},flattenChunks:function(Ct){return[].concat.apply([],Ct)}};ut.setTyped=function(Ct){Ct?(ut.Buf8=Uint8Array,ut.Buf16=Uint16Array,ut.Buf32=Int32Array,ut.assign(ut,ft)):(ut.Buf8=Array,ut.Buf16=Array,ut.Buf32=Array,ut.assign(ut,gt))},ut.setTyped(_t)});Ns.assign,Ns.shrinkBuf,Ns.setTyped,Ns.Buf8,Ns.Buf16,Ns.Buf32;var bv=function(Nt,ut,_t,at){for(var ft=65535&Nt|0,gt=Nt>>>16&65535|0,Ct=0;_t!==0;){_t-=Ct=_t>2e3?2e3:_t;do gt=gt+(ft=ft+ut[at++]|0)|0;while(--Ct);ft%=65521,gt%=65521}return ft|gt<<16|0},Qy=function(){for(var Nt,ut=[],_t=0;_t<256;_t++){Nt=_t;for(var at=0;at<8;at++)Nt=1&Nt?3988292384^Nt>>>1:Nt>>>1;ut[_t]=Nt}return ut}(),up=function(Nt,ut,_t,at){var ft=Qy,gt=at+_t;Nt^=-1;for(var Ct=at;Ct<gt;Ct++)Nt=Nt>>>8^ft[255&(Nt^ut[Ct])];return-1^Nt},Cu=function(Nt,ut){var _t,at,ft,gt,Ct,St,Dt,Lt,jt,Kt,Jt,cn,bn,On,Fn,Wn,er,ir,Tr,Ur,zr,co,$o,Ho,Ro;_t=Nt.state,at=Nt.next_in,Ho=Nt.input,ft=at+(Nt.avail_in-5),gt=Nt.next_out,Ro=Nt.output,Ct=gt-(ut-Nt.avail_out),St=gt+(Nt.avail_out-257),Dt=_t.dmax,Lt=_t.wsize,jt=_t.whave,Kt=_t.wnext,Jt=_t.window,cn=_t.hold,bn=_t.bits,On=_t.lencode,Fn=_t.distcode,Wn=(1<<_t.lenbits)-1,er=(1<<_t.distbits)-1;e:do{bn<15&&(cn+=Ho[at++]<<bn,bn+=8,cn+=Ho[at++]<<bn,bn+=8),ir=On[cn&Wn];t:for(;;){if(cn>>>=Tr=ir>>>24,bn-=Tr,(Tr=ir>>>16&255)===0)Ro[gt++]=65535&ir;else{if(!(16&Tr)){if(!(64&Tr)){ir=On[(65535&ir)+(cn&(1<<Tr)-1)];continue t}if(32&Tr){_t.mode=12;break e}Nt.msg="invalid literal/length code",_t.mode=30;break e}Ur=65535&ir,(Tr&=15)&&(bn<Tr&&(cn+=Ho[at++]<<bn,bn+=8),Ur+=cn&(1<<Tr)-1,cn>>>=Tr,bn-=Tr),bn<15&&(cn+=Ho[at++]<<bn,bn+=8,cn+=Ho[at++]<<bn,bn+=8),ir=Fn[cn&er];n:for(;;){if(cn>>>=Tr=ir>>>24,bn-=Tr,!(16&(Tr=ir>>>16&255))){if(!(64&Tr)){ir=Fn[(65535&ir)+(cn&(1<<Tr)-1)];continue n}Nt.msg="invalid distance code",_t.mode=30;break e}if(zr=65535&ir,bn<(Tr&=15)&&(cn+=Ho[at++]<<bn,(bn+=8)<Tr&&(cn+=Ho[at++]<<bn,bn+=8)),(zr+=cn&(1<<Tr)-1)>Dt){Nt.msg="invalid distance too far back",_t.mode=30;break e}if(cn>>>=Tr,bn-=Tr,zr>(Tr=gt-Ct)){if((Tr=zr-Tr)>jt&&_t.sane){Nt.msg="invalid distance too far back",_t.mode=30;break e}if(co=0,$o=Jt,Kt===0){if(co+=Lt-Tr,Tr<Ur){Ur-=Tr;do Ro[gt++]=Jt[co++];while(--Tr);co=gt-zr,$o=Ro}}else if(Kt<Tr){if(co+=Lt+Kt-Tr,(Tr-=Kt)<Ur){Ur-=Tr;do Ro[gt++]=Jt[co++];while(--Tr);if(co=0,Kt<Ur){Ur-=Tr=Kt;do Ro[gt++]=Jt[co++];while(--Tr);co=gt-zr,$o=Ro}}}else if(co+=Kt-Tr,Tr<Ur){Ur-=Tr;do Ro[gt++]=Jt[co++];while(--Tr);co=gt-zr,$o=Ro}for(;Ur>2;)Ro[gt++]=$o[co++],Ro[gt++]=$o[co++],Ro[gt++]=$o[co++],Ur-=3;Ur&&(Ro[gt++]=$o[co++],Ur>1&&(Ro[gt++]=$o[co++]))}else{co=gt-zr;do Ro[gt++]=Ro[co++],Ro[gt++]=Ro[co++],Ro[gt++]=Ro[co++],Ur-=3;while(Ur>2);Ur&&(Ro[gt++]=Ro[co++],Ur>1&&(Ro[gt++]=Ro[co++]))}break}}break}}while(at<ft&&gt<St);at-=Ur=bn>>3,cn&=(1<<(bn-=Ur<<3))-1,Nt.next_in=at,Nt.next_out=gt,Nt.avail_in=at<ft?ft-at+5:5-(at-ft),Nt.avail_out=gt<St?St-gt+257:257-(gt-St),_t.hold=cn,_t.bits=bn},Ap=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Wm=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S0=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dy=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Rp=function(Nt,ut,_t,at,ft,gt,Ct,St){var Dt,Lt,jt,Kt,Jt,cn,bn,On,Fn,Wn=St.bits,er=0,ir=0,Tr=0,Ur=0,zr=0,co=0,$o=0,Ho=0,Ro=0,ts=0,Iu=null,Xu=0,$u=new Ns.Buf16(16),Vu=new Ns.Buf16(16),Xl=null,sm=0;for(er=0;er<=15;er++)$u[er]=0;for(ir=0;ir<at;ir++)$u[ut[_t+ir]]++;for(zr=Wn,Ur=15;Ur>=1&&$u[Ur]===0;Ur--);if(zr>Ur&&(zr=Ur),Ur===0)return ft[gt++]=20971520,ft[gt++]=20971520,St.bits=1,0;for(Tr=1;Tr<Ur&&$u[Tr]===0;Tr++);for(zr<Tr&&(zr=Tr),Ho=1,er=1;er<=15;er++)if(Ho<<=1,(Ho-=$u[er])<0)return-1;if(Ho>0&&(Nt===0||Ur!==1))return-1;for(Vu[1]=0,er=1;er<15;er++)Vu[er+1]=Vu[er]+$u[er];for(ir=0;ir<at;ir++)ut[_t+ir]!==0&&(Ct[Vu[ut[_t+ir]]++]=ir);if(Nt===0?(Iu=Xl=Ct,cn=19):Nt===1?(Iu=Ap,Xu-=257,Xl=Wm,sm-=257,cn=256):(Iu=S0,Xl=dy,cn=-1),ts=0,ir=0,er=Tr,Jt=gt,co=zr,$o=0,jt=-1,Kt=(Ro=1<<zr)-1,Nt===1&&Ro>852||Nt===2&&Ro>592)return 1;for(;;){bn=er-$o,Ct[ir]<cn?(On=0,Fn=Ct[ir]):Ct[ir]>cn?(On=Xl[sm+Ct[ir]],Fn=Iu[Xu+Ct[ir]]):(On=96,Fn=0),Dt=1<<er-$o,Tr=Lt=1<<co;do ft[Jt+(ts>>$o)+(Lt-=Dt)]=bn<<24|On<<16|Fn|0;while(Lt!==0);for(Dt=1<<er-1;ts&Dt;)Dt>>=1;if(Dt!==0?(ts&=Dt-1,ts+=Dt):ts=0,ir++,--$u[er]==0){if(er===Ur)break;er=ut[_t+Ct[ir]]}if(er>zr&&(ts&Kt)!==jt){for($o===0&&($o=zr),Jt+=Tr,Ho=1<<(co=er-$o);co+$o<Ur&&!((Ho-=$u[co+$o])<=0);)co++,Ho<<=1;if(Ro+=1<<co,Nt===1&&Ro>852||Nt===2&&Ro>592)return 1;ft[jt=ts&Kt]=zr<<24|co<<16|Jt-gt|0}}return ts!==0&&(ft[Jt+ts]=er-$o<<24|64<<16|0),St.bits=zr,0};function Cv(Nt){return(Nt>>>24&255)+(Nt>>>8&65280)+((65280&Nt)<<8)+((255&Nt)<<24)}function I0(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ns.Buf16(320),this.work=new Ns.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function py(Nt){var ut;return Nt&&Nt.state?(ut=Nt.state,Nt.total_in=Nt.total_out=ut.total=0,Nt.msg="",ut.wrap&&(Nt.adler=1&ut.wrap),ut.mode=1,ut.last=0,ut.havedict=0,ut.dmax=32768,ut.head=null,ut.hold=0,ut.bits=0,ut.lencode=ut.lendyn=new Ns.Buf32(852),ut.distcode=ut.distdyn=new Ns.Buf32(592),ut.sane=1,ut.back=-1,0):-2}function e0(Nt){var ut;return Nt&&Nt.state?((ut=Nt.state).wsize=0,ut.whave=0,ut.wnext=0,py(Nt)):-2}function t0(Nt,ut){var _t,at;return Nt&&Nt.state?(at=Nt.state,ut<0?(_t=0,ut=-ut):(_t=1+(ut>>4),ut<48&&(ut&=15)),ut&&(ut<8||ut>15)?-2:(at.window!==null&&at.wbits!==ut&&(at.window=null),at.wrap=_t,at.wbits=ut,e0(Nt))):-2}function n0(Nt,ut){var _t,at;return Nt?(at=new I0,Nt.state=at,at.window=null,(_t=t0(Nt,ut))!==0&&(Nt.state=null),_t):-2}var fy,hy,r0=!0;function k0(Nt){if(r0){var ut;for(fy=new Ns.Buf32(512),hy=new Ns.Buf32(32),ut=0;ut<144;)Nt.lens[ut++]=8;for(;ut<256;)Nt.lens[ut++]=9;for(;ut<280;)Nt.lens[ut++]=7;for(;ut<288;)Nt.lens[ut++]=8;for(Rp(1,Nt.lens,0,288,fy,0,Nt.work,{bits:9}),ut=0;ut<32;)Nt.lens[ut++]=5;Rp(2,Nt.lens,0,32,hy,0,Nt.work,{bits:5}),r0=!1}Nt.lencode=fy,Nt.lenbits=9,Nt.distcode=hy,Nt.distbits=5}function Ym(Nt,ut,_t,at){var ft,gt=Nt.state;return gt.window===null&&(gt.wsize=1<<gt.wbits,gt.wnext=0,gt.whave=0,gt.window=new Ns.Buf8(gt.wsize)),at>=gt.wsize?(Ns.arraySet(gt.window,ut,_t-gt.wsize,gt.wsize,0),gt.wnext=0,gt.whave=gt.wsize):((ft=gt.wsize-gt.wnext)>at&&(ft=at),Ns.arraySet(gt.window,ut,_t-at,ft,gt.wnext),(at-=ft)?(Ns.arraySet(gt.window,ut,_t-at,at,0),gt.wnext=at,gt.whave=gt.wsize):(gt.wnext+=ft,gt.wnext===gt.wsize&&(gt.wnext=0),gt.whave<gt.wsize&&(gt.whave+=ft))),0}var bp={inflateReset:e0,inflateReset2:t0,inflateResetKeep:py,inflateInit:function(Nt){return n0(Nt,15)},inflateInit2:n0,inflate:function(Nt,ut){var _t,at,ft,gt,Ct,St,Dt,Lt,jt,Kt,Jt,cn,bn,On,Fn,Wn,er,ir,Tr,Ur,zr,co,$o,Ho,Ro=0,ts=new Ns.Buf8(4),Iu=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Nt||!Nt.state||!Nt.output||!Nt.input&&Nt.avail_in!==0)return-2;(_t=Nt.state).mode===12&&(_t.mode=13),Ct=Nt.next_out,ft=Nt.output,Dt=Nt.avail_out,gt=Nt.next_in,at=Nt.input,St=Nt.avail_in,Lt=_t.hold,jt=_t.bits,Kt=St,Jt=Dt,co=0;e:for(;;)switch(_t.mode){case 1:if(_t.wrap===0){_t.mode=13;break}for(;jt<16;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(2&_t.wrap&&Lt===35615){_t.check=0,ts[0]=255&Lt,ts[1]=Lt>>>8&255,_t.check=up(_t.check,ts,2,0),Lt=0,jt=0,_t.mode=2;break}if(_t.flags=0,_t.head&&(_t.head.done=!1),!(1&_t.wrap)||(((255&Lt)<<8)+(Lt>>8))%31){Nt.msg="incorrect header check",_t.mode=30;break}if((15&Lt)!=8){Nt.msg="unknown compression method",_t.mode=30;break}if(jt-=4,zr=8+(15&(Lt>>>=4)),_t.wbits===0)_t.wbits=zr;else if(zr>_t.wbits){Nt.msg="invalid window size",_t.mode=30;break}_t.dmax=1<<zr,Nt.adler=_t.check=1,_t.mode=512&Lt?10:12,Lt=0,jt=0;break;case 2:for(;jt<16;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(_t.flags=Lt,(255&_t.flags)!=8){Nt.msg="unknown compression method",_t.mode=30;break}if(57344&_t.flags){Nt.msg="unknown header flags set",_t.mode=30;break}_t.head&&(_t.head.text=Lt>>8&1),512&_t.flags&&(ts[0]=255&Lt,ts[1]=Lt>>>8&255,_t.check=up(_t.check,ts,2,0)),Lt=0,jt=0,_t.mode=3;case 3:for(;jt<32;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}_t.head&&(_t.head.time=Lt),512&_t.flags&&(ts[0]=255&Lt,ts[1]=Lt>>>8&255,ts[2]=Lt>>>16&255,ts[3]=Lt>>>24&255,_t.check=up(_t.check,ts,4,0)),Lt=0,jt=0,_t.mode=4;case 4:for(;jt<16;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}_t.head&&(_t.head.xflags=255&Lt,_t.head.os=Lt>>8),512&_t.flags&&(ts[0]=255&Lt,ts[1]=Lt>>>8&255,_t.check=up(_t.check,ts,2,0)),Lt=0,jt=0,_t.mode=5;case 5:if(1024&_t.flags){for(;jt<16;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}_t.length=Lt,_t.head&&(_t.head.extra_len=Lt),512&_t.flags&&(ts[0]=255&Lt,ts[1]=Lt>>>8&255,_t.check=up(_t.check,ts,2,0)),Lt=0,jt=0}else _t.head&&(_t.head.extra=null);_t.mode=6;case 6:if(1024&_t.flags&&((cn=_t.length)>St&&(cn=St),cn&&(_t.head&&(zr=_t.head.extra_len-_t.length,_t.head.extra||(_t.head.extra=new Array(_t.head.extra_len)),Ns.arraySet(_t.head.extra,at,gt,cn,zr)),512&_t.flags&&(_t.check=up(_t.check,at,cn,gt)),St-=cn,gt+=cn,_t.length-=cn),_t.length))break e;_t.length=0,_t.mode=7;case 7:if(2048&_t.flags){if(St===0)break e;cn=0;do zr=at[gt+cn++],_t.head&&zr&&_t.length<65536&&(_t.head.name+=String.fromCharCode(zr));while(zr&&cn<St);if(512&_t.flags&&(_t.check=up(_t.check,at,cn,gt)),St-=cn,gt+=cn,zr)break e}else _t.head&&(_t.head.name=null);_t.length=0,_t.mode=8;case 8:if(4096&_t.flags){if(St===0)break e;cn=0;do zr=at[gt+cn++],_t.head&&zr&&_t.length<65536&&(_t.head.comment+=String.fromCharCode(zr));while(zr&&cn<St);if(512&_t.flags&&(_t.check=up(_t.check,at,cn,gt)),St-=cn,gt+=cn,zr)break e}else _t.head&&(_t.head.comment=null);_t.mode=9;case 9:if(512&_t.flags){for(;jt<16;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(Lt!==(65535&_t.check)){Nt.msg="header crc mismatch",_t.mode=30;break}Lt=0,jt=0}_t.head&&(_t.head.hcrc=_t.flags>>9&1,_t.head.done=!0),Nt.adler=_t.check=0,_t.mode=12;break;case 10:for(;jt<32;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}Nt.adler=_t.check=Cv(Lt),Lt=0,jt=0,_t.mode=11;case 11:if(_t.havedict===0)return Nt.next_out=Ct,Nt.avail_out=Dt,Nt.next_in=gt,Nt.avail_in=St,_t.hold=Lt,_t.bits=jt,2;Nt.adler=_t.check=1,_t.mode=12;case 12:if(ut===5||ut===6)break e;case 13:if(_t.last){Lt>>>=7&jt,jt-=7&jt,_t.mode=27;break}for(;jt<3;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}switch(_t.last=1&Lt,jt-=1,3&(Lt>>>=1)){case 0:_t.mode=14;break;case 1:if(k0(_t),_t.mode=20,ut===6){Lt>>>=2,jt-=2;break e}break;case 2:_t.mode=17;break;case 3:Nt.msg="invalid block type",_t.mode=30}Lt>>>=2,jt-=2;break;case 14:for(Lt>>>=7&jt,jt-=7&jt;jt<32;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if((65535&Lt)!=(Lt>>>16^65535)){Nt.msg="invalid stored block lengths",_t.mode=30;break}if(_t.length=65535&Lt,Lt=0,jt=0,_t.mode=15,ut===6)break e;case 15:_t.mode=16;case 16:if(cn=_t.length){if(cn>St&&(cn=St),cn>Dt&&(cn=Dt),cn===0)break e;Ns.arraySet(ft,at,gt,cn,Ct),St-=cn,gt+=cn,Dt-=cn,Ct+=cn,_t.length-=cn;break}_t.mode=12;break;case 17:for(;jt<14;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(_t.nlen=257+(31&Lt),Lt>>>=5,jt-=5,_t.ndist=1+(31&Lt),Lt>>>=5,jt-=5,_t.ncode=4+(15&Lt),Lt>>>=4,jt-=4,_t.nlen>286||_t.ndist>30){Nt.msg="too many length or distance symbols",_t.mode=30;break}_t.have=0,_t.mode=18;case 18:for(;_t.have<_t.ncode;){for(;jt<3;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}_t.lens[Iu[_t.have++]]=7&Lt,Lt>>>=3,jt-=3}for(;_t.have<19;)_t.lens[Iu[_t.have++]]=0;if(_t.lencode=_t.lendyn,_t.lenbits=7,$o={bits:_t.lenbits},co=Rp(0,_t.lens,0,19,_t.lencode,0,_t.work,$o),_t.lenbits=$o.bits,co){Nt.msg="invalid code lengths set",_t.mode=30;break}_t.have=0,_t.mode=19;case 19:for(;_t.have<_t.nlen+_t.ndist;){for(;Wn=(Ro=_t.lencode[Lt&(1<<_t.lenbits)-1])>>>16&255,er=65535&Ro,!((Fn=Ro>>>24)<=jt);){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(er<16)Lt>>>=Fn,jt-=Fn,_t.lens[_t.have++]=er;else{if(er===16){for(Ho=Fn+2;jt<Ho;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(Lt>>>=Fn,jt-=Fn,_t.have===0){Nt.msg="invalid bit length repeat",_t.mode=30;break}zr=_t.lens[_t.have-1],cn=3+(3&Lt),Lt>>>=2,jt-=2}else if(er===17){for(Ho=Fn+3;jt<Ho;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}jt-=Fn,zr=0,cn=3+(7&(Lt>>>=Fn)),Lt>>>=3,jt-=3}else{for(Ho=Fn+7;jt<Ho;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}jt-=Fn,zr=0,cn=11+(127&(Lt>>>=Fn)),Lt>>>=7,jt-=7}if(_t.have+cn>_t.nlen+_t.ndist){Nt.msg="invalid bit length repeat",_t.mode=30;break}for(;cn--;)_t.lens[_t.have++]=zr}}if(_t.mode===30)break;if(_t.lens[256]===0){Nt.msg="invalid code -- missing end-of-block",_t.mode=30;break}if(_t.lenbits=9,$o={bits:_t.lenbits},co=Rp(1,_t.lens,0,_t.nlen,_t.lencode,0,_t.work,$o),_t.lenbits=$o.bits,co){Nt.msg="invalid literal/lengths set",_t.mode=30;break}if(_t.distbits=6,_t.distcode=_t.distdyn,$o={bits:_t.distbits},co=Rp(2,_t.lens,_t.nlen,_t.ndist,_t.distcode,0,_t.work,$o),_t.distbits=$o.bits,co){Nt.msg="invalid distances set",_t.mode=30;break}if(_t.mode=20,ut===6)break e;case 20:_t.mode=21;case 21:if(St>=6&&Dt>=258){Nt.next_out=Ct,Nt.avail_out=Dt,Nt.next_in=gt,Nt.avail_in=St,_t.hold=Lt,_t.bits=jt,Cu(Nt,Jt),Ct=Nt.next_out,ft=Nt.output,Dt=Nt.avail_out,gt=Nt.next_in,at=Nt.input,St=Nt.avail_in,Lt=_t.hold,jt=_t.bits,_t.mode===12&&(_t.back=-1);break}for(_t.back=0;Wn=(Ro=_t.lencode[Lt&(1<<_t.lenbits)-1])>>>16&255,er=65535&Ro,!((Fn=Ro>>>24)<=jt);){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(Wn&&!(240&Wn)){for(ir=Fn,Tr=Wn,Ur=er;Wn=(Ro=_t.lencode[Ur+((Lt&(1<<ir+Tr)-1)>>ir)])>>>16&255,er=65535&Ro,!(ir+(Fn=Ro>>>24)<=jt);){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}Lt>>>=ir,jt-=ir,_t.back+=ir}if(Lt>>>=Fn,jt-=Fn,_t.back+=Fn,_t.length=er,Wn===0){_t.mode=26;break}if(32&Wn){_t.back=-1,_t.mode=12;break}if(64&Wn){Nt.msg="invalid literal/length code",_t.mode=30;break}_t.extra=15&Wn,_t.mode=22;case 22:if(_t.extra){for(Ho=_t.extra;jt<Ho;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}_t.length+=Lt&(1<<_t.extra)-1,Lt>>>=_t.extra,jt-=_t.extra,_t.back+=_t.extra}_t.was=_t.length,_t.mode=23;case 23:for(;Wn=(Ro=_t.distcode[Lt&(1<<_t.distbits)-1])>>>16&255,er=65535&Ro,!((Fn=Ro>>>24)<=jt);){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(!(240&Wn)){for(ir=Fn,Tr=Wn,Ur=er;Wn=(Ro=_t.distcode[Ur+((Lt&(1<<ir+Tr)-1)>>ir)])>>>16&255,er=65535&Ro,!(ir+(Fn=Ro>>>24)<=jt);){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}Lt>>>=ir,jt-=ir,_t.back+=ir}if(Lt>>>=Fn,jt-=Fn,_t.back+=Fn,64&Wn){Nt.msg="invalid distance code",_t.mode=30;break}_t.offset=er,_t.extra=15&Wn,_t.mode=24;case 24:if(_t.extra){for(Ho=_t.extra;jt<Ho;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}_t.offset+=Lt&(1<<_t.extra)-1,Lt>>>=_t.extra,jt-=_t.extra,_t.back+=_t.extra}if(_t.offset>_t.dmax){Nt.msg="invalid distance too far back",_t.mode=30;break}_t.mode=25;case 25:if(Dt===0)break e;if(cn=Jt-Dt,_t.offset>cn){if((cn=_t.offset-cn)>_t.whave&&_t.sane){Nt.msg="invalid distance too far back",_t.mode=30;break}cn>_t.wnext?(cn-=_t.wnext,bn=_t.wsize-cn):bn=_t.wnext-cn,cn>_t.length&&(cn=_t.length),On=_t.window}else On=ft,bn=Ct-_t.offset,cn=_t.length;cn>Dt&&(cn=Dt),Dt-=cn,_t.length-=cn;do ft[Ct++]=On[bn++];while(--cn);_t.length===0&&(_t.mode=21);break;case 26:if(Dt===0)break e;ft[Ct++]=_t.length,Dt--,_t.mode=21;break;case 27:if(_t.wrap){for(;jt<32;){if(St===0)break e;St--,Lt|=at[gt++]<<jt,jt+=8}if(Jt-=Dt,Nt.total_out+=Jt,_t.total+=Jt,Jt&&(Nt.adler=_t.check=_t.flags?up(_t.check,ft,Jt,Ct-Jt):bv(_t.check,ft,Jt,Ct-Jt)),Jt=Dt,(_t.flags?Lt:Cv(Lt))!==_t.check){Nt.msg="incorrect data check",_t.mode=30;break}Lt=0,jt=0}_t.mode=28;case 28:if(_t.wrap&&_t.flags){for(;jt<32;){if(St===0)break e;St--,Lt+=at[gt++]<<jt,jt+=8}if(Lt!==(4294967295&_t.total)){Nt.msg="incorrect length check",_t.mode=30;break}Lt=0,jt=0}_t.mode=29;case 29:co=1;break e;case 30:co=-3;break e;case 31:return-4;case 32:default:return-2}return Nt.next_out=Ct,Nt.avail_out=Dt,Nt.next_in=gt,Nt.avail_in=St,_t.hold=Lt,_t.bits=jt,(_t.wsize||Jt!==Nt.avail_out&&_t.mode<30&&(_t.mode<27||ut!==4))&&Ym(Nt,Nt.output,Nt.next_out,Jt-Nt.avail_out),Kt-=Nt.avail_in,Jt-=Nt.avail_out,Nt.total_in+=Kt,Nt.total_out+=Jt,_t.total+=Jt,_t.wrap&&Jt&&(Nt.adler=_t.check=_t.flags?up(_t.check,ft,Jt,Nt.next_out-Jt):bv(_t.check,ft,Jt,Nt.next_out-Jt)),Nt.data_type=_t.bits+(_t.last?64:0)+(_t.mode===12?128:0)+(_t.mode===20||_t.mode===15?256:0),(Kt===0&&Jt===0||ut===4)&&co===0&&(co=-5),co},inflateEnd:function(Nt){if(!Nt||!Nt.state)return-2;var ut=Nt.state;return ut.window&&(ut.window=null),Nt.state=null,0},inflateGetHeader:function(Nt,ut){var _t;return Nt&&Nt.state&&2&(_t=Nt.state).wrap?(_t.head=ut,ut.done=!1,0):-2},inflateSetDictionary:function(Nt,ut){var _t,at=ut.length;return Nt&&Nt.state?(_t=Nt.state).wrap!==0&&_t.mode!==11?-2:_t.mode===11&&bv(1,ut,at,0)!==_t.check?-3:Ym(Nt,ut,at,at)?(_t.mode=31,-4):(_t.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},Gt=!0,dt=!0;try{String.fromCharCode.apply(null,[0])}catch{Gt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dt=!1}for(var yt=new Ns.Buf8(256),st=0;st<256;st++)yt[st]=st>=252?6:st>=248?5:st>=240?4:st>=224?3:st>=192?2:1;yt[254]=yt[254]=1;function ht(Nt,ut){if(ut<65534&&(Nt.subarray&&dt||!Nt.subarray&&Gt))return String.fromCharCode.apply(null,Ns.shrinkBuf(Nt,ut));for(var _t="",at=0;at<ut;at++)_t+=String.fromCharCode(Nt[at]);return _t}var vt=function(Nt){var ut,_t,at,ft,gt,Ct=Nt.length,St=0;for(ft=0;ft<Ct;ft++)(64512&(_t=Nt.charCodeAt(ft)))==55296&&ft+1<Ct&&(64512&(at=Nt.charCodeAt(ft+1)))==56320&&(_t=65536+(_t-55296<<10)+(at-56320),ft++),St+=_t<128?1:_t<2048?2:_t<65536?3:4;for(ut=new Ns.Buf8(St),gt=0,ft=0;gt<St;ft++)(64512&(_t=Nt.charCodeAt(ft)))==55296&&ft+1<Ct&&(64512&(at=Nt.charCodeAt(ft+1)))==56320&&(_t=65536+(_t-55296<<10)+(at-56320),ft++),_t<128?ut[gt++]=_t:_t<2048?(ut[gt++]=192|_t>>>6,ut[gt++]=128|63&_t):_t<65536?(ut[gt++]=224|_t>>>12,ut[gt++]=128|_t>>>6&63,ut[gt++]=128|63&_t):(ut[gt++]=240|_t>>>18,ut[gt++]=128|_t>>>12&63,ut[gt++]=128|_t>>>6&63,ut[gt++]=128|63&_t);return ut},It=function(Nt){for(var ut=new Ns.Buf8(Nt.length),_t=0,at=ut.length;_t<at;_t++)ut[_t]=Nt.charCodeAt(_t);return ut},kt=function(Nt,ut){var _t,at,ft,gt,Ct=ut||Nt.length,St=new Array(2*Ct);for(at=0,_t=0;_t<Ct;)if((ft=Nt[_t++])<128)St[at++]=ft;else if((gt=yt[ft])>4)St[at++]=65533,_t+=gt-1;else{for(ft&=gt===2?31:gt===3?15:7;gt>1&&_t<Ct;)ft=ft<<6|63&Nt[_t++],gt--;gt>1?St[at++]=65533:ft<65536?St[at++]=ft:(ft-=65536,St[at++]=55296|ft>>10&1023,St[at++]=56320|1023&ft)}return ht(St,at)},Ot=function(Nt,ut){var _t;for((ut=ut||Nt.length)>Nt.length&&(ut=Nt.length),_t=ut-1;_t>=0&&(192&Nt[_t])==128;)_t--;return _t<0||_t===0?ut:_t+yt[Nt[_t]]>ut?_t:ut},Pt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},qt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ln=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},fn=Object.prototype.toString;function Sn(Nt){if(!(this instanceof Sn))return new Sn(Nt);this.options=Ns.assign({chunkSize:16384,windowBits:0,to:""},Nt||{});var ut=this.options;ut.raw&&ut.windowBits>=0&&ut.windowBits<16&&(ut.windowBits=-ut.windowBits,ut.windowBits===0&&(ut.windowBits=-15)),!(ut.windowBits>=0&&ut.windowBits<16)||Nt&&Nt.windowBits||(ut.windowBits+=32),ut.windowBits>15&&ut.windowBits<48&&!(15&ut.windowBits)&&(ut.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Wt,this.strm.avail_out=0;var _t=bp.inflateInit2(this.strm,ut.windowBits);if(_t!==Pt.Z_OK)throw new Error(qt[_t]);if(this.header=new ln,bp.inflateGetHeader(this.strm,this.header),ut.dictionary&&(typeof ut.dictionary=="string"?ut.dictionary=vt(ut.dictionary):fn.call(ut.dictionary)==="[object ArrayBuffer]"&&(ut.dictionary=new Uint8Array(ut.dictionary)),ut.raw&&(_t=bp.inflateSetDictionary(this.strm,ut.dictionary))!==Pt.Z_OK))throw new Error(qt[_t])}function Nn(Nt,ut){var _t=new Sn(ut);if(_t.push(Nt,!0),_t.err)throw _t.msg||qt[_t.err];return _t.result}Sn.prototype.push=function(Nt,ut){var _t,at,ft,gt,Ct,St=this.strm,Dt=this.options.chunkSize,Lt=this.options.dictionary,jt=!1;if(this.ended)return!1;at=ut===~~ut?ut:ut===!0?Pt.Z_FINISH:Pt.Z_NO_FLUSH,typeof Nt=="string"?St.input=It(Nt):fn.call(Nt)==="[object ArrayBuffer]"?St.input=new Uint8Array(Nt):St.input=Nt,St.next_in=0,St.avail_in=St.input.length;do{if(St.avail_out===0&&(St.output=new Ns.Buf8(Dt),St.next_out=0,St.avail_out=Dt),(_t=bp.inflate(St,Pt.Z_NO_FLUSH))===Pt.Z_NEED_DICT&&Lt&&(_t=bp.inflateSetDictionary(this.strm,Lt)),_t===Pt.Z_BUF_ERROR&&jt===!0&&(_t=Pt.Z_OK,jt=!1),_t!==Pt.Z_STREAM_END&&_t!==Pt.Z_OK)return this.onEnd(_t),this.ended=!0,!1;St.next_out&&(St.avail_out!==0&&_t!==Pt.Z_STREAM_END&&(St.avail_in!==0||at!==Pt.Z_FINISH&&at!==Pt.Z_SYNC_FLUSH)||(this.options.to==="string"?(ft=Ot(St.output,St.next_out),gt=St.next_out-ft,Ct=kt(St.output,ft),St.next_out=gt,St.avail_out=Dt-gt,gt&&Ns.arraySet(St.output,St.output,ft,gt,0),this.onData(Ct)):this.onData(Ns.shrinkBuf(St.output,St.next_out)))),St.avail_in===0&&St.avail_out===0&&(jt=!0)}while((St.avail_in>0||St.avail_out===0)&&_t!==Pt.Z_STREAM_END);return _t===Pt.Z_STREAM_END&&(at=Pt.Z_FINISH),at===Pt.Z_FINISH?(_t=bp.inflateEnd(this.strm),this.onEnd(_t),this.ended=!0,_t===Pt.Z_OK):at!==Pt.Z_SYNC_FLUSH||(this.onEnd(Pt.Z_OK),St.avail_out=0,!0)},Sn.prototype.onData=function(Nt){this.chunks.push(Nt)},Sn.prototype.onEnd=function(Nt){Nt===Pt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ns.flattenChunks(this.chunks)),this.chunks=[],this.err=Nt,this.msg=this.strm.msg};var qn={Inflate:Sn,inflate:Nn,inflateRaw:function(Nt,ut){return(ut=ut||{}).raw=!0,Nn(Nt,ut)},ungzip:Nn},Yn={};(0,Ns.assign)(Yn,qn,Pt);var Zn=Yn,or=function(){function Nt(ut){it(this,Nt),this._m=ut,this._n="InflateModule",this._bLogForInflateOK=!1,this._bLogForInflateError=!1}return lt(Nt,[{key:"inflate",value:function(ut){var _t,at=new Uint8Array(ut).slice(4),ft=Date.now();try{_t=Zn.inflate(at,{to:"string"}),this._bLogForInflateOK||(this._bLogForInflateOK=!0,new br("inflateOK").end())}catch(St){return this._bLogForInflateError?void 0:(this._bLogForInflateError=!0,void new br("inflateError").setMessage(St).end())}var gt=at.length+4,Ct=_t.length;return sn.d("inflate ok. zipped:".concat(gt," unzipped:").concat(Ct)+" compression ratio:".concat(Math.round(100*(Ct-gt)/Ct),"% cost:").concat(Date.now()-ft)),_t}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),this._bLogForInflateOK=!1,this._bLogForInflateError=!1}}]),Nt}(),Sr=function(){function Nt(ut){it(this,Nt);var _t=new br("sdkConstruct");this._n="ModuleManager",this._isReady=!1,this._reason=pr.USER_NOT_LOGGED_IN,this._startLoginTs=0,this._moduleMap=new Map,this._innerEmitter=null,this._outerEmitter=null,this._checkCount=0,this._checkTimer=-1,this._moduleMap.set(jo,new Gy(this,ut)),this._moduleMap.set(Uu,new or(this)),this._moduleMap.set(xl,new ly(this)),this._moduleMap.set(zl,new b0(this)),this._moduleMap.set(Jp,new Xy(this)),this._moduleMap.set(pu,new Yy(this)),this._moduleMap.set(yl,new Ky(this)),this._moduleMap.set($s,new E0(this)),this._moduleMap.set(cs,new pv(this)),this._moduleMap.set(ba,new m_(this)),this._moduleMap.set(ys,new v0(this)),this._moduleMap.set(v_,new qy(this)),this._moduleMap.set(qr,new g0(this)),this._moduleMap.set(To,new Iy(this)),this._moduleMap.set(no,new yp(this)),this._moduleMap.set(vo,new g_(this)),this._moduleMap.set(Rs,new p0(this)),this._moduleMap.set(gs,new Py(this)),this._moduleMap.set(Yu,new $y(this)),this._moduleMap.set(Xp,new V_(this)),this._moduleMap.set(au,new U_(this)),this._moduleMap.set(Su,new fv(this)),this._moduleMap.set(fp,new hv(this)),this._moduleMap.set(fm,new ny(this)),this._moduleMap.set(Hl,new om(this)),this._moduleMap.set(t_,new Vy(this)),this._moduleMap.set(Pu,new A0(this)),this._moduleMap.set(Dm,new im(this)),this._moduleMap.set(Fs,new C0(this)),this._moduleMap.set(Os,new Zy(this)),this._moduleMap.set(Ju,new Km(this)),this._moduleMap.set(n_,new am(this)),this._eventThrottleMap=new Map;var at=ut.instanceID,ft=ut.oversea,gt=ut.SDKAppID,Ct="instanceID:".concat(at," SDKAppID:").concat(gt," host:").concat(np()," oversea:").concat(ft," inBrowser:").concat(Mr," inMiniApp:").concat(gr)+" canIUseInflate:".concat(this.canIUseInflate())+" workerAvailable:".concat(ls," UserAgent:").concat(Ir);br.bindEventStatModule(this._moduleMap.get(au)),_t.setMessage("".concat(Ct," ").concat(function(){var St="";if(gr)try{var Dt=Ar.getSystemInfoSync(),Lt=Dt.model,jt=Dt.version,Kt=Dt.system,Jt=Dt.platform,cn=Dt.SDKVersion;St="model:".concat(Lt," version:").concat(jt," system:").concat(Kt," platform:").concat(Jt," SDKVersion:").concat(cn)}catch{St=""}return St}())).end(),sn.i("SDK ".concat(Ct)),ks.prototype._getErrorMessage=this.getErrorMessage.bind(this),this._readyList=void 0,this._ssoLogForReady=null,this._initReadyList()}return lt(Nt,[{key:"_startTimer",value:function(){var ut=this._moduleMap.get(Jp),_t=ut.isWorkerEnabled();sn.l("".concat(this._n,".startTimer isWorkerEnabled:").concat(_t," seed:").concat(this._checkTimer)),_t?ut.startWorkerTimer():this._startMainThreadTimer()}},{key:"_startMainThreadTimer",value:function(){this._checkTimer<0&&(this._checkTimer=setInterval(this.onCheckTimer.bind(this),1e3)),sn.l("".concat(this._n,"._startMainThreadTimer seed:").concat(this._checkTimer))}},{key:"stopTimer",value:function(){var ut=this._moduleMap.get(Jp),_t=ut.isWorkerEnabled();sn.l("".concat(this._n,".stopTimer isWorkerEnabled:").concat(_t," seed:").concat(this._checkTimer)),_t?ut.stopWorkerTimer():this._stopMainThreadTimer()}},{key:"_stopMainThreadTimer",value:function(){sn.l("".concat(this._n,"._stopMainThreadTimer")),this._checkTimer>0&&(clearInterval(this._checkTimer),this._checkTimer=-1,this._checkCount=0)}},{key:"_stopMainThreadSocket",value:function(){sn.l("".concat(this._n,"._stopMainThreadSocket"));var ut=this._moduleMap.get(yl);ut.setIsWorkerEnabled(!0),ut.reConnect()}},{key:"_startMainThreadSocket",value:function(){sn.l("".concat(this._n,"._startMainThreadSocket"));var ut=this._moduleMap.get(yl);ut.setIsWorkerEnabled(!1),ut.reConnect()}},{key:"onWorkerTimerEnabled",value:function(){sn.l("".concat(this._n,".onWorkerTimerEnabled, disable main thread timer and socket")),this._stopMainThreadTimer(),this._stopMainThreadSocket()}},{key:"onWorkerTimerDisabled",value:function(){sn.l("".concat(this._n,".onWorkerTimerDisabled, enable main thread timer and socket")),this._startMainThreadTimer(),this._startMainThreadSocket()}},{key:"onCheckTimer",value:function(){this._checkCount+=1;var ut,_t=Cn(this._moduleMap);try{for(_t.s();!(ut=_t.n()).done;){var at=Ft(ut.value,2)[1];at.onCheckTimer&&at.onCheckTimer(this._checkCount)}}catch(ft){_t.e(ft)}finally{_t.f()}}},{key:"_initReadyList",value:function(){var ut=this;this._readyList=[this._moduleMap.get(cs),this._moduleMap.get(no)],this._readyList.forEach(function(_t){_t.ready(function(){return ut._onModuleReady()})})}},{key:"_onModuleReady",value:function(){var ut=!0;if(this._readyList.forEach(function(gt){gt.isReady()||(ut=!1)}),ut&&!this._isReady){this._isReady=!0,this._outerEmitter.emit(yn.SDK_READY);var _t=Date.now()-this._startLoginTs;sn.w("SDK is ready. cost ".concat(_t," ms")),this._startLoginTs=Date.now();var at=this._moduleMap.get(Su).getNetworkType(),ft=this._ssoLogForReady.getStartTs()+qs;this._ssoLogForReady.setNetworkType(at).setMessage(_t).start(ft).end()}}},{key:"login",value:function(){this._startLoginTs===0&&(ds(),this._startLoginTs=Date.now(),this._startTimer(),this._moduleMap.get(Su).start(),this._ssoLogForReady=new br("sdkReady"),this._reason=pr.LOGGING_IN)}},{key:"onLoginFailed",value:function(){this._startLoginTs=0}},{key:"getOuterEmitterInstance",value:function(){return this._outerEmitter===null&&(this._outerEmitter=new $_,Sy(this._outerEmitter),this._outerEmitter._emit=this._outerEmitter.emit,this._outerEmitter.emit=(function(ut,_t){var at=this;if(ut===yn.CONVERSATION_LIST_UPDATED||ut===yn.FRIEND_LIST_UPDATED||ut===yn.GROUP_LIST_UPDATED||ut===yn.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED)if(this._eventThrottleMap.has(ut)){var ft=Date.now(),gt=this._eventThrottleMap.get(ut);ft-gt.last<=1e3?(gt.timeoutID&&clearTimeout(gt.timeoutID),gt.timeoutID=setTimeout(function(){gt.last=Date.now(),at._outerEmitter._emit.apply(at._outerEmitter,[ut,{name:ut,data:at._getEventData(ut)}])},1e3)):(gt.last=ft,this._outerEmitter._emit.apply(this._outerEmitter,[ut,{name:ut,data:this._getEventData(ut)}]))}else this._eventThrottleMap.set(ut,{last:Date.now(),timeoutID:-1}),this._outerEmitter._emit.apply(this._outerEmitter,[ut,{name:ut,data:this._getEventData(ut)}]);else this._outerEmitter._emit.apply(this._outerEmitter,[ut,{name:ut,data:arguments[1]}])}).bind(this)),this._outerEmitter}},{key:"_getEventData",value:function(ut){return ut===yn.CONVERSATION_LIST_UPDATED?this._moduleMap.get(no).getLocalConversationList():ut===yn.FRIEND_LIST_UPDATED?this._moduleMap.get(Fs).getLocalFriendList(!1):ut===yn.GROUP_LIST_UPDATED?this._moduleMap.get(vo).getLocalGroupList():ut===yn.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED?this._moduleMap.get(no).getTotalUnreadMessageCount():void 0}},{key:"getInnerEmitterInstance",value:function(){return this._innerEmitter===null&&(this._innerEmitter=new $_,this._innerEmitter._emit=this._innerEmitter.emit,this._innerEmitter.emit=(function(ut,_t){var at;at=ns(arguments[1])&&arguments[1].data?[ut,{name:arguments[0],data:arguments[1].data}]:[ut,{name:arguments[0],data:arguments[1]}],this._innerEmitter._emit.apply(this._innerEmitter,at)}).bind(this)),this._innerEmitter}},{key:"hasModule",value:function(ut){return this._moduleMap.has(ut)}},{key:"getModule",value:function(ut){return this._moduleMap.get(ut)}},{key:"canIUseInflate",value:function(){return!!this._moduleMap.get(Uu)}},{key:"isReady",value:function(){return this._isReady}},{key:"isIntl",value:function(){return this.getModule(jo).isIntl()}},{key:"getNotReadyReason",value:function(){return this._reason}},{key:"setNotReadyReason",value:function(ut){this._reason=ut}},{key:"getErrorMessage",value:function(ut,_t,at){return this._moduleMap.get(Xp).get({key:ut,replacement1:_t,replacement2:at,isIntl:this.isIntl()})}},{key:"outputWarning",value:function(ut,_t,at){var ft=this.getErrorMessage(ut,_t,at);ft&&sn.w(ft)}},{key:"onError",value:function(ut){var _t="code:".concat(ut.code," message:").concat(ut.message);sn.w("Oops! ".concat(_t)),new br("error").setMessage(_t).setNetworkType(this.getModule(Su).getNetworkType()).setLevel("error").end(),this.getOuterEmitterInstance().emit(yn.ERROR,ut)}},{key:"restartTimer",value:function(){sn.l("".concat(this._n,".restartTimer")),this.stopTimer(),this._startTimer(),this.getModule(vo).restartPolling()}},{key:"getTimerID",value:function(){var ut=this._moduleMap.get(Jp);return ut.isWorkerEnabled()?ut.getTimerID():this._checkTimer}},{key:"getPollingTimerID",value:function(ut){return this._moduleMap.get(vo).getPollingTimerID(ut)}},{key:"reset",value:function(){sn.l("".concat(this._n,".reset")),ds();var ut,_t=Cn(this._moduleMap);try{for(_t.s();!(ut=_t.n()).done;){var at=Ft(ut.value,2)[1];at.reset&&at.reset()}}catch(St){_t.e(St)}finally{_t.f()}this._startLoginTs=0,this._initReadyList(),this._isReady=!1,this.stopTimer(),this._outerEmitter.emit(yn.SDK_NOT_READY);var ft,gt=Cn(this._eventThrottleMap);try{for(gt.s();!(ft=gt.n()).done;){var Ct=Ft(ft.value,2)[1];Ct.timeoutID&&clearTimeout(Ct.timeoutID)}}catch(St){gt.e(St)}finally{gt.f()}this._eventThrottleMap.clear()}}]),Nt}(),Pr=function(){function Nt(ut){it(this,Nt),this._funcMap=new Map,this._m=ut}return lt(Nt,[{key:"defense",value:function(ut,_t){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(typeof ut!="string"||ut.length===0||typeof _t!="function")return null;if(this._funcMap.has(ut)&&this._funcMap.get(ut).has(_t))return this._funcMap.get(ut).get(_t);this._funcMap.has(ut)||this._funcMap.set(ut,new Map);var ft=null;return this._funcMap.get(ut).has(_t)?ft=this._funcMap.get(ut).get(_t):(ft=this._pack(ut,_t,at),this._funcMap.get(ut).set(_t,ft)),ft}},{key:"defenseOnce",value:function(ut,_t){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return typeof _t!="function"?null:this._pack(ut,_t,at)}},{key:"find",value:function(ut,_t){return typeof ut!="string"||ut.length===0||typeof _t!="function"?null:this._funcMap.has(ut)&&this._funcMap.get(ut).has(_t)?this._funcMap.get(ut).get(_t):(this._m.outputWarning("ListenerFnNotFound",ut),null)}},{key:"delete",value:function(ut,_t){return typeof _t=="function"&&!!this._funcMap.has(ut)&&!!this._funcMap.get(ut).has(_t)&&(this._funcMap.get(ut).delete(_t),this._funcMap.get(ut).size===0&&this._funcMap.delete(ut),!0)}},{key:"_pack",value:function(ut,_t,at){var ft=this;return function(){try{_t.apply(at,Array.from(arguments))}catch(Lt){var gt=Object.values(yn).indexOf(ut),Ct="CallbackError";if(gt!==-1){var St=Object.keys(yn)[gt];ft._m.outputWarning(Ct,St,Lt)}var Dt=new br(Ct);Dt.setMessage("eventName:".concat(ut)).setMoreMessage(Lt.message).end()}}}}]),Nt}(),Vr=function(){function Nt(ut){it(this,Nt);var _t={SDKAppID:ut.SDKAppID,unlimitedAVChatRoom:ut.unlimitedAVChatRoom||!1,scene:ut.scene||"",oversea:ut.oversea||!1,instanceID:Lu(),devMode:ut.devMode||!1,proxyServer:ut.proxyServer||void 0,fileUploadProxy:ut.fileUploadProxy||void 0,fileDownloadProxy:ut.fileDownloadProxy||ut.fileUploadProxy||void 0};this._m=new Sr(_t),this._safetyCallbackFactory=new Pr(this._m)}return lt(Nt,[{key:"onError",value:function(ut){this._m.onError(ut)}},{key:"login",value:function(ut){return this._m.login(),this._getModule(cs).login(ut)}},{key:"logout",value:function(){var ut=this;return this._getModule(cs).logout().then(function(_t){return ut._m.reset(),_t})}},{key:"isReady",value:function(){return this._m.isReady()}},{key:"isIntl",value:function(){return this._m.isIntl()}},{key:"getNotReadyReason",value:function(){return this._m.getNotReadyReason()}},{key:"getErrorMessage",value:function(ut,_t,at){return this._m.getErrorMessage(ut,_t,at)}},{key:"_getModule",value:function(ut){return this._m.getModule(ut)}},{key:"destroy",value:function(){var ut=this;return this.logout().finally(function(){ut._m.stopTimer(),ut._getModule(Jp).terminate(),ut._getModule(yl).dealloc();var _t=ut._m.getOuterEmitterInstance(),at=ut._getModule(jo);_t.emit(yn.SDK_DESTROY,{SDKAppID:at.getSDKAppID()})})}},{key:"on",value:function(ut,_t,at){sn.d("on","eventName:".concat(ut)),this._m.getOuterEmitterInstance().on(ut,this._safetyCallbackFactory.defense(ut,_t,at),at)}},{key:"once",value:function(ut,_t,at){sn.d("once","eventName:".concat(ut)),this._m.getOuterEmitterInstance().once(ut,this._safetyCallbackFactory.defenseOnce(ut,_t,at),at||this)}},{key:"off",value:function(ut,_t,at,ft){sn.d("off","eventName:".concat(ut));var gt=this._safetyCallbackFactory.find(ut,_t);gt!==null&&(this._m.getOuterEmitterInstance().off(ut,gt,at,ft),this._safetyCallbackFactory.delete(ut,_t))}},{key:"registerPlugin",value:function(ut){fr(ut["tim-offline-push-plugin"])?this._getModule(Hl).registerPlugin(ut):this._getModule(Os).registerPlugin(ut)}},{key:"setLogLevel",value:function(ut){if(ut<=0){var _t=this.getErrorMessage("TIM_ASCII_ART");_t&&console.log(_t);var at=this.getErrorMessage("API_REFER");at&&(so()?console.log("%c ".concat("IM SDK API ->"," %c"),"background:#ff9d00; padding:1px; border-radius:3px; color: #fff","background:transparent",at):console.log("IM SDK API ->",at));var ft=this.getErrorMessage("DOCS_GUIDE");ft&&console.log(ft)}sn.setLevel(ut)}},{key:"createTextMessage",value:function(ut){return this._getModule(ba).createTextMessage(ut)}},{key:"createTextAtMessage",value:function(ut){return this._getModule(ba).createTextMessage(ut)}},{key:"createImageMessage",value:function(ut){return this._getModule(ba).createImageMessage(ut)}},{key:"createAudioMessage",value:function(ut){return this._getModule(ba).createAudioMessage(ut)}},{key:"createVideoMessage",value:function(ut){return this._getModule(ba).createVideoMessage(ut)}},{key:"createCustomMessage",value:function(ut){return this._getModule(ba).createCustomMessage(ut)}},{key:"createFaceMessage",value:function(ut){return this._getModule(ba).createFaceMessage(ut)}},{key:"createFileMessage",value:function(ut){return this._getModule(ba).createFileMessage(ut)}},{key:"createLocationMessage",value:function(ut){return this._getModule(ba).createLocationMessage(ut)}},{key:"createMergerMessage",value:function(ut){return this._getModule(ba).createMergerMessage(ut)}},{key:"downloadMergerMessage",value:function(ut){return ut.type!==Ut.MSG_MERGER?Xn({code:pr.MESSAGE_MERGER_TYPE_INVALID}):kr(ut.payload.downloadKey)?Xn({code:pr.MESSAGE_MERGER_KEY_INVALID}):this._getModule(ba).downloadMergerMessage(ut).catch(function(_t){return Xn({code:pr.MESSAGE_MERGER_DOWNLOAD_FAIL})})}},{key:"createForwardMessage",value:function(ut){return this._getModule(ba).createForwardMessage(ut)}},{key:"sendMessage",value:function(ut,_t){return ut instanceof wu?this._getModule(ba).sendMessageInstance(ut,_t):Xn({code:pr.MESSAGE_SEND_NEED_MESSAGE_INSTANCE})}},{key:"callExperimentalAPI",value:function(ut,_t){return ut==="sendComboMessage"?this._getModule(v_).sendMessage(_t):ut==="handleGroupInvitation"?this._getModule(vo).handleGroupInvitation(_t):ut==="isCommercialAbilityEnabled"?this._getModule(xl).isFeatureEnabled(_t):ut==="isIntl"?this.isIntl():ut==="sendTRTCCustomData"?this._getModule(n_).sendTRTCCustomData(_t):ut==="getTimerID"?this._m.getTimerID():ut==="getPollingTimerID"?this._m.getPollingTimerID(_t):Xn({code:pr.INVALID_OPERATION})}},{key:"revokeMessage",value:function(ut){return this._getModule(ba).revokeMessage(ut)}},{key:"resendMessage",value:function(ut){return this._getModule(ba).resendMessage(ut)}},{key:"deleteMessage",value:function(ut){return this._getModule(ba).deleteMessage(ut)}},{key:"translateText",value:function(ut){return this._getModule(ba).translateText(ut)}},{key:"setMessageExtensions",value:function(ut,_t){return this._getModule(ys).setMessageExtensions(ut,_t)}},{key:"getMessageExtensions",value:function(ut){return this._getModule(ys).getMessageExtensions(ut)}},{key:"deleteMessageExtensions",value:function(ut,_t){return this._getModule(ys).deleteMessageExtensions(ut,_t)}},{key:"modifyMessage",value:function(ut){return this._getModule(ba).modifyRemoteMessage(ut)}},{key:"getMessageList",value:function(ut){return this._getModule(no).getMessageList(ut)}},{key:"getMessageListHopping",value:function(ut){return this._getModule(no).getMessageListHopping(ut)}},{key:"sendMessageReadReceipt",value:function(ut){return this._getModule(no).sendReadReceipt(ut)}},{key:"getMessageReadReceiptList",value:function(ut){return this._getModule(no).getReadReceiptList(ut)}},{key:"getGroupMessageReadMemberList",value:function(ut){return this._getModule(vo).getReadReceiptDetail(ut)}},{key:"findMessage",value:function(ut){return this._getModule(no).findMessage(ut)}},{key:"setMessageRead",value:function(ut){return this._getModule(no).setMessageRead(ut)}},{key:"getConversationList",value:function(ut){return this._getModule(no).getConversationList(ut)}},{key:"getConversationProfile",value:function(ut){return this._getModule(no).getConversationProfile(ut)}},{key:"deleteConversation",value:function(ut){return this._getModule(no).deleteConversation(ut)}},{key:"clearHistoryMessage",value:function(ut){return this._getModule(no).clearHistoryMessage(ut)}},{key:"pinConversation",value:function(ut){return this._getModule(no).pinConversation(ut)}},{key:"setAllMessageRead",value:function(ut){return this._getModule(no).setAllMessageRead(ut)}},{key:"setMessageRemindType",value:function(ut){return this._getModule(no).setMessageRemindType(ut)}},{key:"getTotalUnreadMessageCount",value:function(){return this._getModule(no).getTotalUnreadMessageCount()}},{key:"setConversationCustomData",value:function(ut){return this._getModule(no).setConversationCustomData(ut)}},{key:"markConversation",value:function(ut){return this._getModule(no).markConversation(ut)}},{key:"getConversationGroupList",value:function(){return this._getModule(no).getConversationGroupList()}},{key:"createConversationGroup",value:function(ut){return this._getModule(no).createConversationGroup(ut)}},{key:"deleteConversationGroup",value:function(ut){return this._getModule(no).deleteConversationGroup(ut)}},{key:"renameConversationGroup",value:function(ut){return this._getModule(no).renameConversationGroup(ut)}},{key:"addConversationsToGroup",value:function(ut){return this._getModule(no).addConversationsToGroup(ut)}},{key:"deleteConversationsFromGroup",value:function(ut){return this._getModule(no).deleteConversationsFromGroup(ut)}},{key:"getMyProfile",value:function(){return this._getModule(qr).getMyProfile()}},{key:"getUserProfile",value:function(ut){return this._getModule(qr).getUserProfile(ut)}},{key:"updateMyProfile",value:function(ut){return this._getModule(qr).updateMyProfile(ut)}},{key:"getBlacklist",value:function(){return this._getModule(qr).getLocalBlacklist()}},{key:"addToBlacklist",value:function(ut){return this._getModule(qr).addBlacklist(ut)}},{key:"removeFromBlacklist",value:function(ut){return this._getModule(qr).deleteBlacklist(ut)}},{key:"setSelfStatus",value:function(ut){return this._getModule(qr).setSelfStatus(ut)}},{key:"getUserStatus",value:function(ut){return this._getModule(qr).getUserStatus(ut)}},{key:"subscribeUserStatus",value:function(ut){return this._getModule(qr).subscribeUserStatus(ut)}},{key:"unsubscribeUserStatus",value:function(ut){return this._getModule(qr).unsubscribeUserStatus(ut)}},{key:"getFriendList",value:function(){var ut=this._getModule(Fs);return ut?ut.getLocalFriendList():Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"addFriend",value:function(ut){var _t=this._getModule(Fs);return _t?_t.addFriend(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"deleteFriend",value:function(ut){var _t=this._getModule(Fs);return _t?_t.deleteFriend(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"checkFriend",value:function(ut){var _t=this._getModule(Fs);return _t?_t.checkFriend(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"getFriendProfile",value:function(ut){var _t=this._getModule(Fs);return _t?_t.getFriendProfile(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"updateFriend",value:function(ut){var _t=this._getModule(Fs);return _t?_t.updateFriend(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"getFriendApplicationList",value:function(){var ut=this._getModule(Fs);return ut?ut.getLocalFriendApplicationList():Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"acceptFriendApplication",value:function(ut){var _t=this._getModule(Fs);return _t?_t.acceptFriendApplication(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"refuseFriendApplication",value:function(ut){var _t=this._getModule(Fs);return _t?_t.refuseFriendApplication(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"deleteFriendApplication",value:function(ut){var _t=this._getModule(Fs);return _t?_t.deleteFriendApplication(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"setFriendApplicationRead",value:function(){var ut=this._getModule(Fs);return ut?ut.setFriendApplicationRead():Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"getFriendGroupList",value:function(){var ut=this._getModule(Fs);return ut?ut.getLocalFriendGroupList():Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"createFriendGroup",value:function(ut){var _t=this._getModule(Fs);return _t?_t.createFriendGroup(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"deleteFriendGroup",value:function(ut){var _t=this._getModule(Fs);return _t?_t.deleteFriendGroup(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"addToFriendGroup",value:function(ut){var _t=this._getModule(Fs);return _t?_t.addToFriendGroup(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"removeFromFriendGroup",value:function(ut){var _t=this._getModule(Fs);return _t?_t.removeFromFriendGroup(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"renameFriendGroup",value:function(ut){var _t=this._getModule(Fs);return _t?_t.renameFriendGroup(ut):Xn({code:pr.CANNOT_FIND_MODULE})}},{key:"getGroupList",value:function(ut){return this._getModule(vo).getGroupList(ut)}},{key:"getGroupProfile",value:function(ut){return this._getModule(vo).getGroupProfile(ut)}},{key:"createGroup",value:function(ut){return this._getModule(vo).createGroup(ut)}},{key:"dismissGroup",value:function(ut){return this._getModule(vo).dismissGroup(ut)}},{key:"updateGroupProfile",value:function(ut){return this._getModule(vo).updateGroupProfile(ut)}},{key:"joinGroup",value:function(ut){return this._getModule(vo).joinGroup(ut)}},{key:"quitGroup",value:function(ut){return this._getModule(vo).quitGroup(ut)}},{key:"searchGroupByID",value:function(ut){return this._getModule(vo).searchGroupByID(ut)}},{key:"getGroupOnlineMemberCount",value:function(ut){return this._getModule(vo).getGroupOnlineMemberCount(ut)}},{key:"changeGroupOwner",value:function(ut){return this._getModule(vo).changeGroupOwner(ut)}},{key:"getGroupApplicationList",value:function(){return this._getModule(vo).getGroupApplicationList()}},{key:"handleGroupApplication",value:function(ut){return this._getModule(vo).handleGroupApplication(ut)}},{key:"initGroupAttributes",value:function(ut){return this._getModule(vo).initGroupAttributes(ut)}},{key:"setGroupAttributes",value:function(ut){return this._getModule(vo).setGroupAttributes(ut)}},{key:"deleteGroupAttributes",value:function(ut){return this._getModule(vo).deleteGroupAttributes(ut)}},{key:"getGroupAttributes",value:function(ut){return this._getModule(vo).getGroupAttributes(ut)}},{key:"setGroupCounters",value:function(ut){return this._getModule(vo).setGroupCounters(ut)}},{key:"increaseGroupCounter",value:function(ut){return this._getModule(vo).increaseGroupCounter(ut)}},{key:"decreaseGroupCounter",value:function(ut){return this._getModule(vo).decreaseGroupCounter(ut)}},{key:"getGroupCounters",value:function(ut){return this._getModule(vo).getGroupCounters(ut)}},{key:"getGroupMemberList",value:function(ut){return this._getModule(Rs).getGroupMemberList(ut)}},{key:"getGroupMemberProfile",value:function(ut){return this._getModule(Rs).getGroupMemberProfile(ut)}},{key:"addGroupMember",value:function(ut){return this._getModule(Rs).addGroupMember(ut)}},{key:"deleteGroupMember",value:function(ut){return this._getModule(Rs).deleteGroupMember(ut)}},{key:"setGroupMemberMuteTime",value:function(ut){return this._getModule(Rs).setGroupMemberMuteTime(ut)}},{key:"setGroupMemberRole",value:function(ut){return this._getModule(Rs).setGroupMemberRole(ut)}},{key:"setGroupMemberNameCard",value:function(ut){return this._getModule(Rs).setGroupMemberNameCard(ut)}},{key:"setGroupMemberCustomField",value:function(ut){return this._getModule(Rs).setGroupMemberCustomField(ut)}},{key:"markGroupMemberList",value:function(ut){return this._getModule(Rs).markGroupMemberList(ut)}},{key:"getJoinedCommunityList",value:function(){return this._getModule(gs).getJoinedCommunityList()}},{key:"createTopicInCommunity",value:function(ut){return this._getModule(gs).createTopicInCommunity(ut)}},{key:"deleteTopicFromCommunity",value:function(ut){return this._getModule(gs).deleteTopicFromCommunity(ut)}},{key:"updateTopicProfile",value:function(ut){return this._getModule(gs).updateTopicProfile(ut)}},{key:"getTopicList",value:function(ut){return this._getModule(gs).getTopicList(ut)}}]),Nt}(),io={login:1,logout:1,destroy:1,on:1,off:1,ready:1,setLogLevel:1,joinGroup:1,quitGroup:1,registerPlugin:1,getGroupOnlineMemberCount:1};function No(Nt,ut){if(Nt.isReady()||io[ut]===1)return!0;var _t=Nt.getNotReadyReason(),at={code:_t,message:"".concat(Nt.getErrorMessage(_t)," | ").concat(ut," | ").concat(Nt.getErrorMessage(pr.SDK_IS_NOT_READY))};return Nt.onError(at),at}var Bo={},ko={};return ko.create=function(Nt){var ut=0,_t=Nt.SDKAppID;if(Yo(_t))ut=_t;else if(ut=parseInt(_t),isNaN(_t))return sn.e("".concat("TIM.create"," failed. Failed to parse the SDKAppID, please check the arguments")),null;if(ut&&Bo[ut])return Bo[ut];sn.l("".concat("TIM.create"));var at=new Vr(rt(rt({},Nt),{},{SDKAppID:ut}));at.on(yn.SDK_DESTROY,function(gt){Bo[gt.data.SDKAppID]=null,delete Bo[gt.data.SDKAppID]});var ft=function(gt){var Ct=Object.create(null);return Object.keys(So).forEach(function(St){if(gt[St]){var Dt=new En;Ct[St]=function(){var Lt=Array.from(arguments);return Dt.use(function(jt,Kt){var Jt=No(gt,St);return Jt===!0?Kt():Xn(Jt)}).use(function(jt,Kt){if(Fr(jt,Ws[St],St)===!0)return Kt()}).use(function(jt,Kt){return gt[St].apply(gt,jt)}),Dt.run(Lt)}}}),Ct}(at);return Bo[ut]=ft,Ws.hookGetAPITips(at.getErrorMessage.bind(at)),sn.l("".concat("TIM.create"," ok")),ft},ko.TYPES=Ut,ko.EVENT=yn,ko.VERSION="2.27.6",sn.l("TIM.VERSION:".concat(ko.VERSION)),ko})})(timJsFriendship);var timJsFriendshipExports=timJsFriendship.exports;const TIM=getDefaultExportFromCjs(timJsFriendshipExports);var timUploadPlugin={exports:{}};(function(_e,et){var nt;nt=function(){function rt(Cn,yn){var Ut=Object.keys(Cn);if(Object.getOwnPropertySymbols){var En=Object.getOwnPropertySymbols(Cn);yn&&(En=En.filter(function(vn){return Object.getOwnPropertyDescriptor(Cn,vn).enumerable})),Ut.push.apply(Ut,En)}return Ut}function ot(Cn){for(var yn=1;yn<arguments.length;yn++){var Ut=arguments[yn]!=null?arguments[yn]:{};yn%2?rt(Object(Ut),!0).forEach(function(En){mt(Cn,En,Ut[En])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cn,Object.getOwnPropertyDescriptors(Ut)):rt(Object(Ut)).forEach(function(En){Object.defineProperty(Cn,En,Object.getOwnPropertyDescriptor(Ut,En))})}return Cn}function it(Cn){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(yn){return typeof yn}:function(yn){return yn&&typeof Symbol=="function"&&yn.constructor===Symbol&&yn!==Symbol.prototype?"symbol":typeof yn})(Cn)}function ct(Cn,yn){if(!(Cn instanceof yn))throw new TypeError("Cannot call a class as a function")}function lt(Cn,yn){for(var Ut=0;Ut<yn.length;Ut++){var En=yn[Ut];En.enumerable=En.enumerable||!1,En.configurable=!0,"value"in En&&(En.writable=!0),Object.defineProperty(Cn,En.key,En)}}function pt(Cn,yn,Ut){return yn&&lt(Cn.prototype,yn),Object.defineProperty(Cn,"prototype",{writable:!1}),Cn}function mt(Cn,yn,Ut){return yn in Cn?Object.defineProperty(Cn,yn,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):Cn[yn]=Ut,Cn}function Mt(Cn,yn){if(Cn==null)return{};var Ut,En,vn=function(Ln,Kn){if(Ln==null)return{};var Rn,Tn,Un={},$n=Object.keys(Ln);for(Tn=0;Tn<$n.length;Tn++)Rn=$n[Tn],Kn.indexOf(Rn)>=0||(Un[Rn]=Ln[Rn]);return Un}(Cn,yn);if(Object.getOwnPropertySymbols){var wn=Object.getOwnPropertySymbols(Cn);for(En=0;En<wn.length;En++)Ut=wn[En],yn.indexOf(Ut)>=0||Object.prototype.propertyIsEnumerable.call(Cn,Ut)&&(vn[Ut]=Cn[Ut])}return vn}var bt=typeof wx<"u"&&typeof wx.getSystemInfoSync=="function"&&!!wx.getSystemInfoSync().fontSizeSetting,At=typeof qq<"u"&&typeof qq.getSystemInfoSync=="function"&&!!qq.getSystemInfoSync().fontSizeSetting,wt=typeof tt<"u"&&typeof tt.getSystemInfoSync=="function"&&!!tt.getSystemInfoSync().fontSizeSetting,Tt=typeof swan<"u"&&typeof swan.getSystemInfoSync=="function"&&!!swan.getSystemInfoSync().fontSizeSetting,Rt=typeof my<"u"&&typeof my.getSystemInfoSync=="function"&&!!my.getSystemInfoSync().fontSizeSetting,Bt=typeof uni<"u"&&typeof window>"u"&&typeof uni.requireNativePlugin=="function",Vt=Bt&&uni.getDeviceInfo().platform.toLocaleLowerCase()==="ios",$t=(Bt&&uni.getDeviceInfo().platform.toLocaleLowerCase(),bt||At||wt||Tt||Rt||Bt),Ft=At?qq:wt?tt:Tt?swan:Rt?my:bt?wx:Bt?uni:{},Ht=function(Cn){if(it(Cn)!=="object"||Cn===null)return!1;var yn=Object.getPrototypeOf(Cn);if(yn===null)return!0;for(var Ut=yn;Object.getPrototypeOf(Ut)!==null;)Ut=Object.getPrototypeOf(Ut);return yn===Ut};function Qt(Cn){if(Cn==null)return!0;if(typeof Cn=="boolean")return!1;if(typeof Cn=="number")return Cn===0;if(typeof Cn=="string"||typeof Cn=="function"||Array.isArray(Cn))return Cn.length===0;if(Cn instanceof Error)return Cn.message==="";if(Ht(Cn)){for(var yn in Cn)if(Object.prototype.hasOwnProperty.call(Cn,yn))return!1;return!0}return!1}var _n=function(){function Cn(){ct(this,Cn)}return pt(Cn,[{key:"request",value:function(yn,Ut){var En=this,vn=yn.downloadUrl||"",wn=(yn.method||"PUT").toUpperCase(),Ln=yn.url;if(yn.qs){var Kn=function($n){var Vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"=";return Qt($n)?"":Ht($n)?Object.keys($n).map(function(Jn){var wr=encodeURIComponent(Jn)+tr;return Array.isArray($n[Jn])?$n[Jn].map(function(jr){return wr+encodeURIComponent(jr)}).join(Vn):wr+encodeURIComponent($n[Jn])}).filter(Boolean).join(Vn):void 0}(yn.qs);Kn&&(Ln+="".concat(Ln.indexOf("?")===-1?"?":"&").concat(Kn))}var Rn=new XMLHttpRequest;Rn.open(wn,Ln,!0),Rn.responseType=yn.dataType||"text";var Tn=yn.headers||{};if(!Qt(Tn))for(var Un in Tn)Tn.hasOwnProperty(Un)&&Un.toLowerCase()!=="content-length"&&Un.toLowerCase()!=="user-agent"&&Un.toLowerCase()!=="origin"&&Un.toLowerCase()!=="host"&&Rn.setRequestHeader(Un,Tn[Un]);return Rn.onload=function(){if(Rn.status===200)Ut(null,En._xhrRes(Rn,En._xhrBody(Rn,vn)));else{var $n={code:Rn.status,message:JSON.stringify(Rn.responseText)};Ut($n,En._xhrRes(Rn,En._xhrBody(Rn)))}},Rn.onerror=function($n){var Vn=En._xhrBody(Rn),tr={code:Rn.status,message:JSON.stringify(Rn.responseText)};Vn||Rn.statusText||Rn.status!==0||($n.message="CORS blocked or network error"),Ut(tr,En._xhrRes(Rn,Vn)),tr=null},yn.onProgress&&Rn.upload&&(Rn.upload.onprogress=function($n){var Vn=$n.total,tr=$n.loaded,Jn=Math.floor(100*tr/Vn);yn.onProgress({total:Vn,loaded:tr,percent:(Jn>=100?100:Jn)/100})}),Rn.send(yn.resources),Rn}},{key:"_xhrRes",value:function(yn,Ut){var En={};return yn.getAllResponseHeaders().trim().split(`
`).forEach(function(vn){if(vn){var wn=vn.indexOf(":"),Ln=vn.substr(0,wn).trim().toLowerCase(),Kn=vn.substr(wn+1).trim();En[Ln]=Kn}}),{statusCode:yn.status,statusMessage:yn.statusText,headers:En,data:Ut}}},{key:"_xhrBody",value:function(yn,Ut){return yn.status===200&&Ut?{location:Ut}:{response:yn.responseText}}}]),Cn}(),hn=["unknown","image","video","audio","log"],Mn=["name"],kn=function(){function Cn(){ct(this,Cn)}return pt(Cn,[{key:"request",value:function(yn,Ut){var En=this,vn=yn.resources,wn=vn===void 0?"":vn,Ln=yn.headers,Kn=Ln===void 0?{}:Ln,Rn=yn.url,Tn=yn.downloadUrl,Un=Tn===void 0?"":Tn,$n=Rn,Vn=null,tr=Un.match(/^(https?:\/\/[^/]+\/)([^/]*\/?)(.*)$/),Jn=decodeURIComponent(tr[3]),wr=Jn.indexOf("?")>-1?Jn.split("?")[0]:Jn,jr={key:yn.fileKey?yn.fileKey:wr,success_action_status:200,"Content-Type":""},Zt={};if(Vt){var hr=Rn.split("?sign=");if(hr.length>1){var lo=hr[1];$n="".concat(hr[0],"?sign=").concat(encodeURIComponent("".concat(lo))),Zt.sign=decodeURIComponent(lo),Zt.signature=decodeURIComponent(lo)}}var _o={url:$n,header:Kn,name:"file",filePath:wn,formData:ot(ot({},jr),Zt),timeout:yn.timeout||3e5};if(Rt){var bo=_o;bo.name,_o=ot(ot({},Mt(bo,Mn)),{},{fileName:"file",fileType:hn[yn.fileType]})}return(Vn=Ft.uploadFile(ot(ot({},_o),{},{success:function(Hr){En._handleResponse({response:Hr,downloadUrl:Un,callback:Ut})},fail:function(Hr){En._handleResponse({response:Hr,downloadUrl:Un,callback:Ut})}}))).onProgressUpdate&&Vn.onProgressUpdate(function(Hr){yn.onProgress&&yn.onProgress({total:Hr.totalBytesExpectedToSend,loaded:Hr.totalBytesSent,percent:Math.floor(Hr.progress)/100})}),Vn}},{key:"_handleResponse",value:function(yn){var Ut=yn.downloadUrl,En=yn.response,vn=yn.callback,wn=En.header,Ln={};if(wn)for(var Kn in wn)wn.hasOwnProperty(Kn)&&(Ln[Kn.toLowerCase()]=wn[Kn]);var Rn=+En.statusCode;Rn===200?vn(null,{statusCode:Rn,headers:Ln,data:ot(ot({},En.data),{},{location:Ut})}):vn({code:Rn,message:JSON.stringify(En.data)},{statusCode:Rn,headers:Ln,data:void 0})}}]),Cn}();return function(){function Cn(){ct(this,Cn),console.log("TIMUploadPlugin.VERSION: ".concat("1.3.0")),this.retry=1,this.tryCount=0,this.systemClockOffset=0,this.httpRequest=$t?new kn:new _n}return pt(Cn,[{key:"uploadFile",value:function(yn,Ut){var En=this;return this.httpRequest.request(yn,function(vn,wn){vn&&En.tryCount<En.retry&&En.allowRetry(vn)?(En.tryCount++,En.uploadFile(yn,Ut)):(En.tryCount=0,Ut(vn,wn))})}},{key:"allowRetry",value:function(yn){var Ut=!1,En=!1;if(yn){var vn=yn.headers&&(yn.headers.date||yn.headers.Date)||yn.error&&yn.error.ServerTime;try{var wn=yn.error&&yn.error.Code,Ln=yn.error&&yn.error.Message;(wn==="RequestTimeTooSkewed"||wn==="AccessDenied"&&Ln==="Request has expired")&&(En=!0)}catch{}if(En&&vn){var Kn=Date.now(),Rn=Date.parse(vn);Math.abs(Kn+this.systemClockOffset-Rn)>=3e4&&(this.systemClockOffset=Rn-Kn,Ut=!0)}else Math.floor(yn.statusCode/100)===5&&(Ut=!0)}return Ut}}]),Cn}()},_e.exports=nt()})(timUploadPlugin);var timUploadPluginExports=timUploadPlugin.exports;const TIMUploadPlugin=getDefaultExportFromCjs(timUploadPluginExports);let tim=null;const useTim=_e=>{const{setStoreValue:et,resetRoomInfo:nt}=useMainStore(),[rt,ot]=reactExports.useState(""),it=useMainStore(Qt=>Qt.roomInfo),ct=useMainStore(Qt=>Qt.curTim),{user:lt}=useSelector(Qt=>Qt.auth),{getCommonConfig:pt,commonConfig:{config:mt}}=useConfig(),{addRaceStartMsg:Mt,addRemoveFlag:bt,updateRaceStartMsgs:At}=useRace(),wt=reactExports.useRef(),Tt=reactExports.useRef(),Rt=reactExports.useRef(),Bt=Qt=>_$2.get(mt,Qt)||_$2.get(wt.current,Qt);useLifecycles(async()=>{if(!useMainStore.getState().commonConfig.config.im_sdkappid){const{config:Qt}=await pt();wt.current=Qt}ct&&Object.keys(ct).length&&await ct.destroy()},async()=>{}),reactExports.useEffect(()=>{lt&&(async()=>await Vt())()},[lt]);const Vt=async()=>{tim=TIM.create({SDKAppID:Number(Bt("im_sdkappid"))}),tim.setLogLevel(1),await tim.login({userID:lt.id.toString(),userSig:lt.txim_sign}),await tim.off(TIM.EVENT.MESSAGE_RECEIVED,$t),await tim.off(TIM.EVENT.SDK_READY,Ht),await tim.on(TIM.EVENT.MESSAGE_RECEIVED,$t),await tim.on(TIM.EVENT.SDK_READY,Ht),await tim.registerPlugin({"tim-upload-plugin":TIMUploadPlugin})},$t=async Qt=>{for await(const _n of Qt.data){const hn=_$2.get(_n,"payload.data");if(!hn)continue;const Mn=JSON.parse(hn),{Action:kn,Data:Cn}=Mn,{conversationID:yn,payload:{description:Ut}}=_n;yn==="C2Cbroadcast"&&kn==="RaceStartLiveMessage"&&(Mt({...Cn,desc:Ut}),setTimeout(()=>{bt(Cn),setTimeout(()=>{At()},2999)},5e3))}},Ft=Qt=>{et({roomInfo:Qt})},Ht=async()=>{et({curTim:tim})};return{roomInfo:it,setRoomInfo:Ft,resetRoomInfo:nt,TIM,tim,config:mt,scroll:Tt,input:Rt,setInput:ot,inputMsg:rt,curTim:ct}};var ResizeObserver$2={},ResizeObservation$1={},ContentRect$1={};Object.defineProperty(ContentRect$1,"__esModule",{value:!0});var ContentRect=function(_e){if("getBBox"in _e){var et=_e.getBBox();return Object.freeze({height:et.height,left:0,top:0,width:et.width})}else{var nt=window.getComputedStyle(_e);return Object.freeze({height:parseFloat(nt.height||"0"),left:parseFloat(nt.paddingLeft||"0"),top:parseFloat(nt.paddingTop||"0"),width:parseFloat(nt.width||"0")})}};ContentRect$1.ContentRect=ContentRect;Object.defineProperty(ResizeObservation$1,"__esModule",{value:!0});var ContentRect_1$1=ContentRect$1,ResizeObservation=function(){function _e(et){this.target=et,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(_e.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(_e.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),_e.prototype.isActive=function(){var et=ContentRect_1$1.ContentRect(this.target);return!!et&&(et.width!==this.broadcastWidth||et.height!==this.broadcastHeight)},_e}();ResizeObservation$1.ResizeObservation=ResizeObservation;var ResizeObserverEntry$1={};Object.defineProperty(ResizeObserverEntry$1,"__esModule",{value:!0});var ContentRect_1=ContentRect$1,ResizeObserverEntry=function(){function _e(et){this.target=et,this.contentRect=ContentRect_1.ContentRect(et)}return _e}();ResizeObserverEntry$1.ResizeObserverEntry=ResizeObserverEntry;Object.defineProperty(ResizeObserver$2,"__esModule",{value:!0});var ResizeObservation_1=ResizeObservation$1,ResizeObserverEntry_1=ResizeObserverEntry$1,resizeObservers=[],ResizeObserver$1=function(){function _e(et){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var nt=callbackGuard(et);if(nt)throw TypeError(nt);this.$$callback=et}return _e.prototype.observe=function(et){var nt=targetGuard("observe",et);if(nt)throw TypeError(nt);var rt=findTargetIndex(this.$$observationTargets,et);rt>=0||(this.$$observationTargets.push(new ResizeObservation_1.ResizeObservation(et)),registerResizeObserver(this))},_e.prototype.unobserve=function(et){var nt=targetGuard("unobserve",et);if(nt)throw TypeError(nt);var rt=findTargetIndex(this.$$observationTargets,et);rt<0||(this.$$observationTargets.splice(rt,1),this.$$observationTargets.length===0&&deregisterResizeObserver(this))},_e.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],deregisterResizeObserver(this)},_e}();ResizeObserver$2.ResizeObserver=ResizeObserver$1;function registerResizeObserver(_e){var et=resizeObservers.indexOf(_e);et<0&&(resizeObservers.push(_e),startLoop())}function deregisterResizeObserver(_e){var et=resizeObservers.indexOf(_e);et>=0&&(resizeObservers.splice(et,1),checkStopLoop())}function callbackGuard(_e){if(typeof _e>"u")return"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if(typeof _e!="function")return"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function."}function targetGuard(_e,et){if(typeof et>"u")return"Failed to execute '"+_e+"' on 'ResizeObserver': 1 argument required, but only 0 present.";if(!(et&&et.nodeType===window.Node.ELEMENT_NODE))return"Failed to execute '"+_e+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function findTargetIndex(_e,et){for(var nt=0;nt<_e.length;nt+=1)if(_e[nt].target===et)return nt;return-1}var gatherActiveObservationsAtDepth=function(_e){resizeObservers.forEach(function(et){et.$$activeTargets=[],et.$$skippedTargets=[],et.$$observationTargets.forEach(function(nt){if(nt.isActive()){var rt=calculateDepthForNode(nt.target);rt>_e?et.$$activeTargets.push(nt):et.$$skippedTargets.push(nt)}})})},hasActiveObservations=function(){return resizeObservers.some(function(_e){return!!_e.$$activeTargets.length})},hasSkippedObservations=function(){return resizeObservers.some(function(_e){return!!_e.$$skippedTargets.length})},broadcastActiveObservations=function(){var _e=1/0;return resizeObservers.forEach(function(et){if(et.$$activeTargets.length){var nt=[];et.$$activeTargets.forEach(function(rt){var ot=new ResizeObserverEntry_1.ResizeObserverEntry(rt.target);nt.push(ot),rt.$$broadcastWidth=ot.contentRect.width,rt.$$broadcastHeight=ot.contentRect.height;var it=calculateDepthForNode(rt.target);it<_e&&(_e=it)}),et.$$callback(nt,et),et.$$activeTargets=[]}}),_e},deliverResizeLoopErrorNotification=function(){var _e=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."});window.dispatchEvent(_e)},calculateDepthForNode=function(_e){for(var et=0;_e.parentNode;)_e=_e.parentNode,et+=1;return et},notificationIteration=function(){var _e=0;for(gatherActiveObservationsAtDepth(_e);hasActiveObservations();)_e=broadcastActiveObservations(),gatherActiveObservationsAtDepth(_e);hasSkippedObservations()&&deliverResizeLoopErrorNotification()},animationFrameCancelToken,startLoop=function(){animationFrameCancelToken||runLoop()},runLoop=function(){animationFrameCancelToken=window.requestAnimationFrame(function(){notificationIteration(),runLoop()})},checkStopLoop=function(){animationFrameCancelToken&&!resizeObservers.some(function(_e){return!!_e.$$observationTargets.length})&&(window.cancelAnimationFrame(animationFrameCancelToken),animationFrameCancelToken=void 0)},install=function(){return window.ResizeObserver=ResizeObserver$1},install_1=ResizeObserver$2.install=install;install_1();const BaseRoutes=()=>{const{getCommonConfig:_e}=useConfig(),{setStoreValue:et}=useMainStore();useTim();const nt=()=>{et({isLandscape:window.innerHeight<window.innerWidth})};return useLifecycles(async()=>{et({isTest:!0,requests:[]});const rt=document.querySelector("body");rt&&(rt.dataset.mode||(rt.dataset.mode=useMainStore.getState().mode)),nt(),window.onresize=nt;const ot=index_min.detectBrowser();ot.iosapp&&ot.standalone&&document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&window.location.reload()}),await _e()},()=>{}),jsxRuntimeExports.jsx(SkeletonTheme,{baseColor:"#293056",highlightColor:"#5b66ae",children:jsxRuntimeExports.jsx(Switch,{children:jsxRuntimeExports.jsx(Route,{children:window.location.pathname==="/"?jsxRuntimeExports.jsx(MainLayout,{}):jsxRuntimeExports.jsx(MainLayout,{})})})})};function _typeof(_e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(nt){return typeof nt}:_typeof=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof(_e)}function _classCallCheck(_e,et){if(!(_e instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_e,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(_e,rt.key,rt)}}function _createClass(_e,et,nt){return et&&_defineProperties(_e.prototype,et),_e}function _possibleConstructorReturn(_e,et){return et&&(_typeof(et)==="object"||typeof et=="function")?et:_assertThisInitialized(_e)}function _getPrototypeOf(_e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},_getPrototypeOf(_e)}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _inherits(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(et&&et.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),et&&_setPrototypeOf(_e,et)}function _setPrototypeOf(_e,et){return _setPrototypeOf=Object.setPrototypeOf||function(rt,ot){return rt.__proto__=ot,rt},_setPrototypeOf(_e,et)}function _defineProperty(_e,et,nt){return et in _e?Object.defineProperty(_e,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=nt,_e}var PersistGate=function(_e){_inherits(et,_e);function et(){var nt,rt;_classCallCheck(this,et);for(var ot=arguments.length,it=new Array(ot),ct=0;ct<ot;ct++)it[ct]=arguments[ct];return rt=_possibleConstructorReturn(this,(nt=_getPrototypeOf(et)).call.apply(nt,[this].concat(it))),_defineProperty(_assertThisInitialized(rt),"state",{bootstrapped:!1}),_defineProperty(_assertThisInitialized(rt),"_unsubscribe",void 0),_defineProperty(_assertThisInitialized(rt),"handlePersistorState",function(){var lt=rt.props.persistor,pt=lt.getState(),mt=pt.bootstrapped;mt&&(rt.props.onBeforeLift?Promise.resolve(rt.props.onBeforeLift()).finally(function(){return rt.setState({bootstrapped:!0})}):rt.setState({bootstrapped:!0}),rt._unsubscribe&&rt._unsubscribe())}),rt}return _createClass(et,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),et}(reactExports.PureComponent);_defineProperty(PersistGate,"defaultProps",{children:null,loading:null});const App=({store:_e,persistor:et})=>jsxRuntimeExports.jsx(Provider,{store:_e,children:jsxRuntimeExports.jsxs(PersistGate,{persistor:et,loading:"loading",children:[jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(MantineProvider,{children:jsxRuntimeExports.jsx(BaseRoutes,{})})}),jsxRuntimeExports.jsx(Q,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1,theme:"colored"})]})}),apiKey="https://ruangbola.live",setupAxios=(_e,et)=>{_e.defaults.baseURL=apiKey,_e.interceptors.request.use(nt=>{const{auth:{id:rt,token_web:ot}}=et.getState();return typeof nt.data!="string"&&(nt.data||(nt.data={}),nt.data.token=nt.data.token||ot,nt.data.uid=nt.data.uid?Number(nt.data.uid):rt),nt},nt=>Promise.reject(nt)),_e.interceptors.response.use(nt=>(nt.data.status==="2"&&(Toast.fail({message:nt.data.msg}),et.dispatch(authActions.logout())),nt.data),async nt=>(console.log(nt),Promise.reject(nt)))};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(_e=>{console.error("SW registration failed:",_e)})});setupAxios(axios,store);const container=document.getElementById("root"),root=createRoot(container);root.render(jsxRuntimeExports.jsx(App,{store,persistor}));
